import{a as p,r as _,w as h,aL as g,aM as x,o as c,X as d,aV as w,aW as B,aX as b,aY as V,W as z,f as v,Z as F,u as f,aZ as k,ai as t,$ as D,H as P,a1 as R,aa as C,a2 as S,c as H,g as M}from"./node/pnpm-BRmVptv7.js";import{_ as y}from"./index-CcBoYM7q.js";const T=p({__name:"index",props:{url:{},hideBar:{type:Boolean}},setup(u){const l=u,a=_(null);let s=null;function o(e){return e.includes(".m3u8")?"customHls":e.includes(".flv")?"customFlv":""}function i(){var e;if(a.value){(e=s==null?void 0:s.destroy)==null||e.call(s);const m=o(l.url);s=new B({container:a.value,autoplay:!0,live:!0,loop:!m,lang:"zh-cn",video:{url:l.url,type:m,customType:{customHls(n){const r=new b;r.loadSource(n.src),r.attachMedia(n)},customFlv(n){const r=V.createPlayer({type:"flv",url:n.src});r.attachMediaElement(n),r.load()}}}})}}return h(()=>l.url,()=>{i()}),g(()=>{i()}),x(()=>{var e;(e=s==null?void 0:s.destroy)==null||e.call(s)}),(e,m)=>(c(),d("div",{ref_key:"dplayerRef",ref:a,class:w(["size-full overflow-hidden",{"dplayer-container":e.hideBar}])},null,2))}}),$=y(T,[["__scopeId","data-v-5db23be8"]]),E={class:"video"},I=p({__name:"index",props:{url:{}},setup(u){const l=u,a=z(()=>({width:"100%",height:"100%",color:"#409eff",title:"",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],speed:!0,autoPlay:!0,loop:!0,mirror:!1,ligthOff:!1,volume:.3,control:!0,type:l.url.includes("m3u8")?"video/m3u8":void 0,controlBtns:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]}));return(s,o)=>(c(),d("div",E,[v(f(k),F({src:s.url},f(a)),null,16,["src"])]))}}),L=y(I,[["__scopeId","data-v-ff6a6f2c"]]),U={class:"flex-cols size-full bg-#dfe4ea p-5 text-#57606f"},Z={class:"mb-5 flex-start"},N=t("h3",{class:"text-16px"}," 视频地址： ",-1),O={class:"relative w-full flex-1"},W={class:"grid grid-cols-1 gap-5 abs-0 md:grid-cols-2"},X={class:"mb-1 text-32px fw-bold font-pang"},j={class:"relative w-full flex-1"},q=p({name:"demo-video"}),Y=p({...q,setup(u){const l=_("https://cmgw-vpc.lechange.com:8890/LCO/9K04547RAZBDB68/0/0/20240717T034710/df8da2c45fd38441c4293b640f73a71e.m3u8"),a=[{name:"dplayer",component:$},{name:"vue3-video-play",component:L}];return(s,o)=>{const i=C;return c(),d("main",U,[t("section",Z,[N,v(i,{modelValue:f(l),"onUpdate:modelValue":o[0]||(o[0]=e=>D(l)?l.value=e:null),class:"flex-1"},null,8,["modelValue"])]),t("section",O,[t("ul",W,[(c(),d(P,null,R(a,e=>t("li",{key:e.name,class:"flex-cols size-full"},[t("h1",X,S(e.name.toUpperCase()),1),t("div",j,[(c(),H(M(e.component),{url:f(l)},null,8,["url"]))])])),64))])])])}}});export{Y as default};
