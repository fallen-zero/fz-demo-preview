/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap(xe,pe){const _e=new Set(xe.split(","));return pe?Ce=>_e.has(Ce.toLowerCase()):Ce=>_e.has(Ce)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=xe=>xe.charCodeAt(0)===111&&xe.charCodeAt(1)===110&&(xe.charCodeAt(2)>122||xe.charCodeAt(2)<97),isModelListener=xe=>xe.startsWith("onUpdate:"),extend=Object.assign,remove=(xe,pe)=>{const _e=xe.indexOf(pe);_e>-1&&xe.splice(_e,1)},hasOwnProperty$d=Object.prototype.hasOwnProperty,hasOwn=(xe,pe)=>hasOwnProperty$d.call(xe,pe),isArray$4=Array.isArray,isMap$1=xe=>toTypeString(xe)==="[object Map]",isSet$1=xe=>toTypeString(xe)==="[object Set]",isDate=xe=>toTypeString(xe)==="[object Date]",isRegExp=xe=>toTypeString(xe)==="[object RegExp]",isFunction$2=xe=>typeof xe=="function",isString$3=xe=>typeof xe=="string",isSymbol$1=xe=>typeof xe=="symbol",isObject$3=xe=>xe!==null&&typeof xe=="object",isPromise$1=xe=>(isObject$3(xe)||isFunction$2(xe))&&isFunction$2(xe.then)&&isFunction$2(xe.catch),objectToString$1=Object.prototype.toString,toTypeString=xe=>objectToString$1.call(xe),toRawType=xe=>toTypeString(xe).slice(8,-1),isPlainObject$1=xe=>toTypeString(xe)==="[object Object]",isIntegerKey=xe=>isString$3(xe)&&xe!=="NaN"&&xe[0]!=="-"&&""+parseInt(xe,10)===xe,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=xe=>{const pe=Object.create(null);return _e=>pe[_e]||(pe[_e]=xe(_e))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(xe=>xe.replace(camelizeRE,(pe,_e)=>_e?_e.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(xe=>xe.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(xe=>xe.charAt(0).toUpperCase()+xe.slice(1)),toHandlerKey=cacheStringFunction(xe=>xe?"on".concat(capitalize$1(xe)):""),hasChanged=(xe,pe)=>!Object.is(xe,pe),invokeArrayFns=(xe,pe)=>{for(let _e=0;_e<xe.length;_e++)xe[_e](pe)},def=(xe,pe,_e)=>{Object.defineProperty(xe,pe,{configurable:!0,enumerable:!1,value:_e})},looseToNumber=xe=>{const pe=parseFloat(xe);return isNaN(pe)?xe:pe},toNumber$1=xe=>{const pe=isString$3(xe)?Number(xe):NaN;return isNaN(pe)?xe:pe};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(xe){if(isArray$4(xe)){const pe={};for(let _e=0;_e<xe.length;_e++){const Ce=xe[_e],Ie=isString$3(Ce)?parseStringStyle(Ce):normalizeStyle$1(Ce);if(Ie)for(const Oe in Ie)pe[Oe]=Ie[Oe]}return pe}else if(isString$3(xe)||isObject$3(xe))return xe}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(xe){const pe={};return xe.replace(styleCommentRE,"").split(listDelimiterRE).forEach(_e=>{if(_e){const Ce=_e.split(propertyDelimiterRE);Ce.length>1&&(pe[Ce[0].trim()]=Ce[1].trim())}}),pe}function normalizeClass(xe){let pe="";if(isString$3(xe))pe=xe;else if(isArray$4(xe))for(let _e=0;_e<xe.length;_e++){const Ce=normalizeClass(xe[_e]);Ce&&(pe+=Ce+" ")}else if(isObject$3(xe))for(const _e in xe)xe[_e]&&(pe+=_e+" ");return pe.trim()}function normalizeProps(xe){if(!xe)return null;let{class:pe,style:_e}=xe;return pe&&!isString$3(pe)&&(xe.class=normalizeClass(pe)),_e&&(xe.style=normalizeStyle$1(_e)),xe}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(xe){return!!xe||xe===""}function looseCompareArrays(xe,pe){if(xe.length!==pe.length)return!1;let _e=!0;for(let Ce=0;_e&&Ce<xe.length;Ce++)_e=looseEqual(xe[Ce],pe[Ce]);return _e}function looseEqual(xe,pe){if(xe===pe)return!0;let _e=isDate(xe),Ce=isDate(pe);if(_e||Ce)return _e&&Ce?xe.getTime()===pe.getTime():!1;if(_e=isSymbol$1(xe),Ce=isSymbol$1(pe),_e||Ce)return xe===pe;if(_e=isArray$4(xe),Ce=isArray$4(pe),_e||Ce)return _e&&Ce?looseCompareArrays(xe,pe):!1;if(_e=isObject$3(xe),Ce=isObject$3(pe),_e||Ce){if(!_e||!Ce)return!1;const Ie=Object.keys(xe).length,Oe=Object.keys(pe).length;if(Ie!==Oe)return!1;for(const Ne in xe){const Fe=xe.hasOwnProperty(Ne),Ue=pe.hasOwnProperty(Ne);if(Fe&&!Ue||!Fe&&Ue||!looseEqual(xe[Ne],pe[Ne]))return!1}}return String(xe)===String(pe)}function looseIndexOf(xe,pe){return xe.findIndex(_e=>looseEqual(_e,pe))}const toDisplayString=xe=>isString$3(xe)?xe:xe==null?"":isArray$4(xe)||isObject$3(xe)&&(xe.toString===objectToString$1||!isFunction$2(xe.toString))?JSON.stringify(xe,replacer,2):String(xe),replacer=(xe,pe)=>pe&&pe.__v_isRef?replacer(xe,pe.value):isMap$1(pe)?{["Map(".concat(pe.size,")")]:[...pe.entries()].reduce((_e,[Ce,Ie],Oe)=>(_e[stringifySymbol(Ce,Oe)+" =>"]=Ie,_e),{})}:isSet$1(pe)?{["Set(".concat(pe.size,")")]:[...pe.values()].map(_e=>stringifySymbol(_e))}:isSymbol$1(pe)?stringifySymbol(pe):isObject$3(pe)&&!isArray$4(pe)&&!isPlainObject$1(pe)?String(pe):pe,stringifySymbol=(xe,pe="")=>{var _e;return isSymbol$1(xe)?"Symbol(".concat((_e=xe.description)!=null?_e:pe,")"):xe};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(pe=!1){this.detached=pe,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!pe&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(pe){if(this._active){const _e=activeEffectScope;try{return activeEffectScope=this,pe()}finally{activeEffectScope=_e}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(pe){if(this._active){let _e,Ce;for(_e=0,Ce=this.effects.length;_e<Ce;_e++)this.effects[_e].stop();for(_e=0,Ce=this.cleanups.length;_e<Ce;_e++)this.cleanups[_e]();if(this.scopes)for(_e=0,Ce=this.scopes.length;_e<Ce;_e++)this.scopes[_e].stop(!0);if(!this.detached&&this.parent&&!pe){const Ie=this.parent.scopes.pop();Ie&&Ie!==this&&(this.parent.scopes[this.index]=Ie,Ie.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(xe){return new EffectScope(xe)}function recordEffectScope(xe,pe=activeEffectScope){pe&&pe.active&&pe.effects.push(xe)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(xe){activeEffectScope&&activeEffectScope.cleanups.push(xe)}let activeEffect;class ReactiveEffect{constructor(pe,_e,Ce,Ie){this.fn=pe,this.trigger=_e,this.scheduler=Ce,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,Ie)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let pe=0;pe<this._depsLength;pe++){const _e=this.deps[pe];if(_e.computed&&(triggerComputed(_e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(pe){this._dirtyLevel=pe?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let pe=shouldTrack,_e=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=_e,shouldTrack=pe}}stop(){var pe;this.active&&(preCleanupEffect(this),postCleanupEffect(this),(pe=this.onStop)==null||pe.call(this),this.active=!1)}}function triggerComputed(xe){return xe.value}function preCleanupEffect(xe){xe._trackId++,xe._depsLength=0}function postCleanupEffect(xe){if(xe.deps.length>xe._depsLength){for(let pe=xe._depsLength;pe<xe.deps.length;pe++)cleanupDepEffect(xe.deps[pe],xe);xe.deps.length=xe._depsLength}}function cleanupDepEffect(xe,pe){const _e=xe.get(pe);_e!==void 0&&pe._trackId!==_e&&(xe.delete(pe),xe.size===0&&xe.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const xe=trackStack.pop();shouldTrack=xe===void 0?!0:xe}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(xe,pe,_e){if(pe.get(xe)!==xe._trackId){pe.set(xe,xe._trackId);const Ce=xe.deps[xe._depsLength];Ce!==pe?(Ce&&cleanupDepEffect(Ce,xe),xe.deps[xe._depsLength++]=pe):xe._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(xe,pe,_e){pauseScheduling();for(const Ce of xe.keys()){let Ie;Ce._dirtyLevel<pe&&(Ie!=null?Ie:Ie=xe.get(Ce)===Ce._trackId)&&(Ce._shouldSchedule||(Ce._shouldSchedule=Ce._dirtyLevel===0),Ce._dirtyLevel=pe),Ce._shouldSchedule&&(Ie!=null?Ie:Ie=xe.get(Ce)===Ce._trackId)&&(Ce.trigger(),(!Ce._runnings||Ce.allowRecurse)&&Ce._dirtyLevel!==2&&(Ce._shouldSchedule=!1,Ce.scheduler&&queueEffectSchedulers.push(Ce.scheduler)))}resetScheduling()}const createDep=(xe,pe)=>{const _e=new Map;return _e.cleanup=xe,_e.computed=pe,_e},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(xe,pe,_e){if(shouldTrack&&activeEffect){let Ce=targetMap.get(xe);Ce||targetMap.set(xe,Ce=new Map);let Ie=Ce.get(_e);Ie||Ce.set(_e,Ie=createDep(()=>Ce.delete(_e))),trackEffect(activeEffect,Ie)}}function trigger(xe,pe,_e,Ce,Ie,Oe){const Ne=targetMap.get(xe);if(!Ne)return;let Fe=[];if(pe==="clear")Fe=[...Ne.values()];else if(_e==="length"&&isArray$4(xe)){const Ue=Number(Ce);Ne.forEach(($e,ze)=>{(ze==="length"||!isSymbol$1(ze)&&ze>=Ue)&&Fe.push($e)})}else switch(_e!==void 0&&Fe.push(Ne.get(_e)),pe){case"add":isArray$4(xe)?isIntegerKey(_e)&&Fe.push(Ne.get("length")):(Fe.push(Ne.get(ITERATE_KEY)),isMap$1(xe)&&Fe.push(Ne.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(xe)||(Fe.push(Ne.get(ITERATE_KEY)),isMap$1(xe)&&Fe.push(Ne.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(xe)&&Fe.push(Ne.get(ITERATE_KEY));break}pauseScheduling();for(const Ue of Fe)Ue&&triggerEffects(Ue,4);resetScheduling()}function getDepFromReactive(xe,pe){var _e;return(_e=targetMap.get(xe))==null?void 0:_e.get(pe)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(xe=>xe!=="arguments"&&xe!=="caller").map(xe=>Symbol[xe]).filter(isSymbol$1)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const xe={};return["includes","indexOf","lastIndexOf"].forEach(pe=>{xe[pe]=function(..._e){const Ce=toRaw(this);for(let Oe=0,Ne=this.length;Oe<Ne;Oe++)track(Ce,"get",Oe+"");const Ie=Ce[pe](..._e);return Ie===-1||Ie===!1?Ce[pe](..._e.map(toRaw)):Ie}}),["push","pop","shift","unshift","splice"].forEach(pe=>{xe[pe]=function(..._e){pauseTracking(),pauseScheduling();const Ce=toRaw(this)[pe].apply(this,_e);return resetScheduling(),resetTracking(),Ce}}),xe}function hasOwnProperty$c(xe){const pe=toRaw(this);return track(pe,"has",xe),pe.hasOwnProperty(xe)}class BaseReactiveHandler{constructor(pe=!1,_e=!1){this._isReadonly=pe,this._isShallow=_e}get(pe,_e,Ce){const Ie=this._isReadonly,Oe=this._isShallow;if(_e==="__v_isReactive")return!Ie;if(_e==="__v_isReadonly")return Ie;if(_e==="__v_isShallow")return Oe;if(_e==="__v_raw")return Ce===(Ie?Oe?shallowReadonlyMap:readonlyMap:Oe?shallowReactiveMap:reactiveMap).get(pe)||Object.getPrototypeOf(pe)===Object.getPrototypeOf(Ce)?pe:void 0;const Ne=isArray$4(pe);if(!Ie){if(Ne&&hasOwn(arrayInstrumentations,_e))return Reflect.get(arrayInstrumentations,_e,Ce);if(_e==="hasOwnProperty")return hasOwnProperty$c}const Fe=Reflect.get(pe,_e,Ce);return(isSymbol$1(_e)?builtInSymbols.has(_e):isNonTrackableKeys(_e))||(Ie||track(pe,"get",_e),Oe)?Fe:isRef(Fe)?Ne&&isIntegerKey(_e)?Fe:Fe.value:isObject$3(Fe)?Ie?readonly(Fe):reactive(Fe):Fe}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(pe=!1){super(!1,pe)}set(pe,_e,Ce,Ie){let Oe=pe[_e];if(!this._isShallow){const Ue=isReadonly(Oe);if(!isShallow(Ce)&&!isReadonly(Ce)&&(Oe=toRaw(Oe),Ce=toRaw(Ce)),!isArray$4(pe)&&isRef(Oe)&&!isRef(Ce))return Ue?!1:(Oe.value=Ce,!0)}const Ne=isArray$4(pe)&&isIntegerKey(_e)?Number(_e)<pe.length:hasOwn(pe,_e),Fe=Reflect.set(pe,_e,Ce,Ie);return pe===toRaw(Ie)&&(Ne?hasChanged(Ce,Oe)&&trigger(pe,"set",_e,Ce):trigger(pe,"add",_e,Ce)),Fe}deleteProperty(pe,_e){const Ce=hasOwn(pe,_e);pe[_e];const Ie=Reflect.deleteProperty(pe,_e);return Ie&&Ce&&trigger(pe,"delete",_e,void 0),Ie}has(pe,_e){const Ce=Reflect.has(pe,_e);return(!isSymbol$1(_e)||!builtInSymbols.has(_e))&&track(pe,"has",_e),Ce}ownKeys(pe){return track(pe,"iterate",isArray$4(pe)?"length":ITERATE_KEY),Reflect.ownKeys(pe)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(pe=!1){super(!0,pe)}set(pe,_e){return!0}deleteProperty(pe,_e){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=xe=>xe,getProto=xe=>Reflect.getPrototypeOf(xe);function get$2(xe,pe,_e=!1,Ce=!1){xe=xe.__v_raw;const Ie=toRaw(xe),Oe=toRaw(pe);_e||(hasChanged(pe,Oe)&&track(Ie,"get",pe),track(Ie,"get",Oe));const{has:Ne}=getProto(Ie),Fe=Ce?toShallow:_e?toReadonly:toReactive;if(Ne.call(Ie,pe))return Fe(xe.get(pe));if(Ne.call(Ie,Oe))return Fe(xe.get(Oe));xe!==Ie&&xe.get(pe)}function has(xe,pe=!1){const _e=this.__v_raw,Ce=toRaw(_e),Ie=toRaw(xe);return pe||(hasChanged(xe,Ie)&&track(Ce,"has",xe),track(Ce,"has",Ie)),xe===Ie?_e.has(xe):_e.has(xe)||_e.has(Ie)}function size(xe,pe=!1){return xe=xe.__v_raw,!pe&&track(toRaw(xe),"iterate",ITERATE_KEY),Reflect.get(xe,"size",xe)}function add(xe){xe=toRaw(xe);const pe=toRaw(this);return getProto(pe).has.call(pe,xe)||(pe.add(xe),trigger(pe,"add",xe,xe)),this}function set$2(xe,pe){pe=toRaw(pe);const _e=toRaw(this),{has:Ce,get:Ie}=getProto(_e);let Oe=Ce.call(_e,xe);Oe||(xe=toRaw(xe),Oe=Ce.call(_e,xe));const Ne=Ie.call(_e,xe);return _e.set(xe,pe),Oe?hasChanged(pe,Ne)&&trigger(_e,"set",xe,pe):trigger(_e,"add",xe,pe),this}function deleteEntry(xe){const pe=toRaw(this),{has:_e,get:Ce}=getProto(pe);let Ie=_e.call(pe,xe);Ie||(xe=toRaw(xe),Ie=_e.call(pe,xe)),Ce&&Ce.call(pe,xe);const Oe=pe.delete(xe);return Ie&&trigger(pe,"delete",xe,void 0),Oe}function clear(){const xe=toRaw(this),pe=xe.size!==0,_e=xe.clear();return pe&&trigger(xe,"clear",void 0,void 0),_e}function createForEach(xe,pe){return function(Ce,Ie){const Oe=this,Ne=Oe.__v_raw,Fe=toRaw(Ne),Ue=pe?toShallow:xe?toReadonly:toReactive;return!xe&&track(Fe,"iterate",ITERATE_KEY),Ne.forEach(($e,ze)=>Ce.call(Ie,Ue($e),Ue(ze),Oe))}}function createIterableMethod(xe,pe,_e){return function(...Ce){const Ie=this.__v_raw,Oe=toRaw(Ie),Ne=isMap$1(Oe),Fe=xe==="entries"||xe===Symbol.iterator&&Ne,Ue=xe==="keys"&&Ne,$e=Ie[xe](...Ce),ze=_e?toShallow:pe?toReadonly:toReactive;return!pe&&track(Oe,"iterate",Ue?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Ve,done:qe}=$e.next();return qe?{value:Ve,done:qe}:{value:Fe?[ze(Ve[0]),ze(Ve[1])]:ze(Ve),done:qe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(xe){return function(...pe){return xe==="delete"?!1:xe==="clear"?void 0:this}}function createInstrumentations(){const xe={get(Oe){return get$2(this,Oe)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},pe={get(Oe){return get$2(this,Oe,!1,!0)},get size(){return size(this)},has,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},_e={get(Oe){return get$2(this,Oe,!0)},get size(){return size(this,!0)},has(Oe){return has.call(this,Oe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Ce={get(Oe){return get$2(this,Oe,!0,!0)},get size(){return size(this,!0)},has(Oe){return has.call(this,Oe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Oe=>{xe[Oe]=createIterableMethod(Oe,!1,!1),_e[Oe]=createIterableMethod(Oe,!0,!1),pe[Oe]=createIterableMethod(Oe,!1,!0),Ce[Oe]=createIterableMethod(Oe,!0,!0)}),[xe,_e,pe,Ce]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(xe,pe){const _e=pe?xe?shallowReadonlyInstrumentations:shallowInstrumentations:xe?readonlyInstrumentations:mutableInstrumentations;return(Ce,Ie,Oe)=>Ie==="__v_isReactive"?!xe:Ie==="__v_isReadonly"?xe:Ie==="__v_raw"?Ce:Reflect.get(hasOwn(_e,Ie)&&Ie in Ce?_e:Ce,Ie,Oe)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(xe){switch(xe){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(xe){return xe.__v_skip||!Object.isExtensible(xe)?0:targetTypeMap(toRawType(xe))}function reactive(xe){return isReadonly(xe)?xe:createReactiveObject(xe,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(xe){return createReactiveObject(xe,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(xe){return createReactiveObject(xe,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(xe,pe,_e,Ce,Ie){if(!isObject$3(xe)||xe.__v_raw&&!(pe&&xe.__v_isReactive))return xe;const Oe=Ie.get(xe);if(Oe)return Oe;const Ne=getTargetType(xe);if(Ne===0)return xe;const Fe=new Proxy(xe,Ne===2?Ce:_e);return Ie.set(xe,Fe),Fe}function isReactive(xe){return isReadonly(xe)?isReactive(xe.__v_raw):!!(xe&&xe.__v_isReactive)}function isReadonly(xe){return!!(xe&&xe.__v_isReadonly)}function isShallow(xe){return!!(xe&&xe.__v_isShallow)}function isProxy(xe){return isReactive(xe)||isReadonly(xe)}function toRaw(xe){const pe=xe&&xe.__v_raw;return pe?toRaw(pe):xe}function markRaw(xe){return Object.isExtensible(xe)&&def(xe,"__v_skip",!0),xe}const toReactive=xe=>isObject$3(xe)?reactive(xe):xe,toReadonly=xe=>isObject$3(xe)?readonly(xe):xe;class ComputedRefImpl{constructor(pe,_e,Ce,Ie){this.getter=pe,this._setter=_e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>pe(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!Ie,this.__v_isReadonly=Ce}get value(){const pe=toRaw(this);return(!pe._cacheable||pe.effect.dirty)&&hasChanged(pe._value,pe._value=pe.effect.run())&&triggerRefValue(pe,4),trackRefValue(pe),pe.effect._dirtyLevel>=2&&triggerRefValue(pe,2),pe._value}set value(pe){this._setter(pe)}get _dirty(){return this.effect.dirty}set _dirty(pe){this.effect.dirty=pe}}function computed$1(xe,pe,_e=!1){let Ce,Ie;const Oe=isFunction$2(xe);return Oe?(Ce=xe,Ie=NOOP):(Ce=xe.get,Ie=xe.set),new ComputedRefImpl(Ce,Ie,Oe||!Ie,_e)}function trackRefValue(xe){var pe;shouldTrack&&activeEffect&&(xe=toRaw(xe),trackEffect(activeEffect,(pe=xe.dep)!=null?pe:xe.dep=createDep(()=>xe.dep=void 0,xe instanceof ComputedRefImpl?xe:void 0)))}function triggerRefValue(xe,pe=4,_e){xe=toRaw(xe);const Ce=xe.dep;Ce&&triggerEffects(Ce,pe)}function isRef(xe){return!!(xe&&xe.__v_isRef===!0)}function ref(xe){return createRef(xe,!1)}function shallowRef(xe){return createRef(xe,!0)}function createRef(xe,pe){return isRef(xe)?xe:new RefImpl(xe,pe)}class RefImpl{constructor(pe,_e){this.__v_isShallow=_e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=_e?pe:toRaw(pe),this._value=_e?pe:toReactive(pe)}get value(){return trackRefValue(this),this._value}set value(pe){const _e=this.__v_isShallow||isShallow(pe)||isReadonly(pe);pe=_e?pe:toRaw(pe),hasChanged(pe,this._rawValue)&&(this._rawValue=pe,this._value=_e?pe:toReactive(pe),triggerRefValue(this,4))}}function triggerRef(xe){triggerRefValue(xe,4)}function unref(xe){return isRef(xe)?xe.value:xe}const shallowUnwrapHandlers={get:(xe,pe,_e)=>unref(Reflect.get(xe,pe,_e)),set:(xe,pe,_e,Ce)=>{const Ie=xe[pe];return isRef(Ie)&&!isRef(_e)?(Ie.value=_e,!0):Reflect.set(xe,pe,_e,Ce)}};function proxyRefs(xe){return isReactive(xe)?xe:new Proxy(xe,shallowUnwrapHandlers)}class CustomRefImpl{constructor(pe){this.dep=void 0,this.__v_isRef=!0;const{get:_e,set:Ce}=pe(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=_e,this._set=Ce}get value(){return this._get()}set value(pe){this._set(pe)}}function customRef(xe){return new CustomRefImpl(xe)}function toRefs(xe){const pe=isArray$4(xe)?new Array(xe.length):{};for(const _e in xe)pe[_e]=propertyToRef(xe,_e);return pe}class ObjectRefImpl{constructor(pe,_e,Ce){this._object=pe,this._key=_e,this._defaultValue=Ce,this.__v_isRef=!0}get value(){const pe=this._object[this._key];return pe===void 0?this._defaultValue:pe}set value(pe){this._object[this._key]=pe}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(pe){this._getter=pe,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(xe,pe,_e){return isRef(xe)?xe:isFunction$2(xe)?new GetterRefImpl(xe):isObject$3(xe)&&arguments.length>1?propertyToRef(xe,pe,_e):ref(xe)}function propertyToRef(xe,pe,_e){const Ce=xe[pe];return isRef(Ce)?Ce:new ObjectRefImpl(xe,pe,_e)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1(xe,...pe){pauseTracking();const _e=stack.length?stack[stack.length-1].component:null,Ce=_e&&_e.appContext.config.warnHandler,Ie=getComponentTrace();if(Ce)callWithErrorHandling(Ce,_e,11,[xe+pe.map(Oe=>{var Ne,Fe;return(Fe=(Ne=Oe.toString)==null?void 0:Ne.call(Oe))!=null?Fe:JSON.stringify(Oe)}).join(""),_e&&_e.proxy,Ie.map(({vnode:Oe})=>"at <".concat(formatComponentName(_e,Oe.type),">")).join("\n"),Ie]);else{const Oe=["[Vue warn]: ".concat(xe),...pe];Ie.length&&Oe.push("\n",...formatTrace(Ie)),console.warn(...Oe)}resetTracking()}function getComponentTrace(){let xe=stack[stack.length-1];if(!xe)return[];const pe=[];for(;xe;){const _e=pe[0];_e&&_e.vnode===xe?_e.recurseCount++:pe.push({vnode:xe,recurseCount:0});const Ce=xe.component&&xe.component.parent;xe=Ce&&Ce.vnode}return pe}function formatTrace(xe){const pe=[];return xe.forEach((_e,Ce)=>{pe.push(...Ce===0?[]:["\n"],...formatTraceEntry(_e))}),pe}function formatTraceEntry({vnode:xe,recurseCount:pe}){const _e=pe>0?"... (".concat(pe," recursive calls)"):"",Ce=xe.component?xe.component.parent==null:!1,Ie=" at <".concat(formatComponentName(xe.component,xe.type,Ce)),Oe=">"+_e;return xe.props?[Ie,...formatProps(xe.props),Oe]:[Ie+Oe]}function formatProps(xe){const pe=[],_e=Object.keys(xe);return _e.slice(0,3).forEach(Ce=>{pe.push(...formatProp(Ce,xe[Ce]))}),_e.length>3&&pe.push(" ..."),pe}function formatProp(xe,pe,_e){return isString$3(pe)?(pe=JSON.stringify(pe),_e?pe:["".concat(xe,"=").concat(pe)]):typeof pe=="number"||typeof pe=="boolean"||pe==null?_e?pe:["".concat(xe,"=").concat(pe)]:isRef(pe)?(pe=formatProp(xe,toRaw(pe.value),!0),_e?pe:["".concat(xe,"=Ref<"),pe,">"]):isFunction$2(pe)?["".concat(xe,"=fn").concat(pe.name?"<".concat(pe.name,">"):"")]:(pe=toRaw(pe),_e?pe:["".concat(xe,"="),pe])}function callWithErrorHandling(xe,pe,_e,Ce){try{return Ce?xe(...Ce):xe()}catch(Ie){handleError(Ie,pe,_e)}}function callWithAsyncErrorHandling(xe,pe,_e,Ce){if(isFunction$2(xe)){const Oe=callWithErrorHandling(xe,pe,_e,Ce);return Oe&&isPromise$1(Oe)&&Oe.catch(Ne=>{handleError(Ne,pe,_e)}),Oe}const Ie=[];for(let Oe=0;Oe<xe.length;Oe++)Ie.push(callWithAsyncErrorHandling(xe[Oe],pe,_e,Ce));return Ie}function handleError(xe,pe,_e,Ce=!0){const Ie=pe?pe.vnode:null;if(pe){let Oe=pe.parent;const Ne=pe.proxy,Fe="https://vuejs.org/error-reference/#runtime-".concat(_e);for(;Oe;){const $e=Oe.ec;if($e){for(let ze=0;ze<$e.length;ze++)if($e[ze](xe,Ne,Fe)===!1)return}Oe=Oe.parent}const Ue=pe.appContext.config.errorHandler;if(Ue){callWithErrorHandling(Ue,null,10,[xe,Ne,Fe]);return}}logError(xe,_e,Ie,Ce)}function logError(xe,pe,_e,Ce=!0){console.error(xe)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(xe){const pe=currentFlushPromise||resolvedPromise;return xe?pe.then(this?xe.bind(this):xe):pe}function findInsertionIndex(xe){let pe=flushIndex+1,_e=queue.length;for(;pe<_e;){const Ce=pe+_e>>>1,Ie=queue[Ce],Oe=getId(Ie);Oe<xe||Oe===xe&&Ie.pre?pe=Ce+1:_e=Ce}return pe}function queueJob(xe){(!queue.length||!queue.includes(xe,isFlushing&&xe.allowRecurse?flushIndex+1:flushIndex))&&(xe.id==null?queue.push(xe):queue.splice(findInsertionIndex(xe.id),0,xe),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(xe){const pe=queue.indexOf(xe);pe>flushIndex&&queue.splice(pe,1)}function queuePostFlushCb(xe){isArray$4(xe)?pendingPostFlushCbs.push(...xe):(!activePostFlushCbs||!activePostFlushCbs.includes(xe,xe.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(xe),queueFlush()}function flushPreFlushCbs(xe,pe,_e=isFlushing?flushIndex+1:0){for(;_e<queue.length;_e++){const Ce=queue[_e];if(Ce&&Ce.pre){if(xe&&Ce.id!==xe.uid)continue;queue.splice(_e,1),_e--,Ce()}}}function flushPostFlushCbs(xe){if(pendingPostFlushCbs.length){const pe=[...new Set(pendingPostFlushCbs)].sort((_e,Ce)=>getId(_e)-getId(Ce));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...pe);return}for(activePostFlushCbs=pe,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=xe=>xe.id==null?1/0:xe.id,comparator=(xe,pe)=>{const _e=getId(xe)-getId(pe);if(_e===0){if(xe.pre&&!pe.pre)return-1;if(pe.pre&&!xe.pre)return 1}return _e};function flushJobs(xe){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const pe=queue[flushIndex];pe&&pe.active!==!1&&callWithErrorHandling(pe,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(xe,pe,..._e){if(xe.isUnmounted)return;const Ce=xe.vnode.props||EMPTY_OBJ;let Ie=_e;const Oe=pe.startsWith("update:"),Ne=Oe&&pe.slice(7);if(Ne&&Ne in Ce){const ze="".concat(Ne==="modelValue"?"model":Ne,"Modifiers"),{number:Ve,trim:qe}=Ce[ze]||EMPTY_OBJ;qe&&(Ie=_e.map(En=>isString$3(En)?En.trim():En)),Ve&&(Ie=_e.map(looseToNumber))}let Fe,Ue=Ce[Fe=toHandlerKey(pe)]||Ce[Fe=toHandlerKey(camelize(pe))];!Ue&&Oe&&(Ue=Ce[Fe=toHandlerKey(hyphenate(pe))]),Ue&&callWithAsyncErrorHandling(Ue,xe,6,Ie);const $e=Ce[Fe+"Once"];if($e){if(!xe.emitted)xe.emitted={};else if(xe.emitted[Fe])return;xe.emitted[Fe]=!0,callWithAsyncErrorHandling($e,xe,6,Ie)}}function normalizeEmitsOptions(xe,pe,_e=!1){const Ce=pe.emitsCache,Ie=Ce.get(xe);if(Ie!==void 0)return Ie;const Oe=xe.emits;let Ne={},Fe=!1;if(!isFunction$2(xe)){const Ue=$e=>{const ze=normalizeEmitsOptions($e,pe,!0);ze&&(Fe=!0,extend(Ne,ze))};!_e&&pe.mixins.length&&pe.mixins.forEach(Ue),xe.extends&&Ue(xe.extends),xe.mixins&&xe.mixins.forEach(Ue)}return!Oe&&!Fe?(isObject$3(xe)&&Ce.set(xe,null),null):(isArray$4(Oe)?Oe.forEach(Ue=>Ne[Ue]=null):extend(Ne,Oe),isObject$3(xe)&&Ce.set(xe,Ne),Ne)}function isEmitListener(xe,pe){return!xe||!isOn(pe)?!1:(pe=pe.slice(2).replace(/Once$/,""),hasOwn(xe,pe[0].toLowerCase()+pe.slice(1))||hasOwn(xe,hyphenate(pe))||hasOwn(xe,pe))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(xe){const pe=currentRenderingInstance;return currentRenderingInstance=xe,currentScopeId=xe&&xe.type.__scopeId||null,pe}function pushScopeId(xe){currentScopeId=xe}function popScopeId(){currentScopeId=null}function withCtx(xe,pe=currentRenderingInstance,_e){if(!pe||xe._n)return xe;const Ce=(...Ie)=>{Ce._d&&setBlockTracking(-1);const Oe=setCurrentRenderingInstance(pe);let Ne;try{Ne=xe(...Ie)}finally{setCurrentRenderingInstance(Oe),Ce._d&&setBlockTracking(1)}return Ne};return Ce._n=!0,Ce._c=!0,Ce._d=!0,Ce}function markAttrsAccessed(){}function renderComponentRoot(xe){const{type:pe,vnode:_e,proxy:Ce,withProxy:Ie,props:Oe,propsOptions:[Ne],slots:Fe,attrs:Ue,emit:$e,render:ze,renderCache:Ve,data:qe,setupState:En,ctx:vn,inheritAttrs:hn}=xe;let _n,bn;const An=setCurrentRenderingInstance(xe);try{if(_e.shapeFlag&4){const Sn=Ie||Ce,Cn=Sn;_n=normalizeVNode(ze.call(Cn,Sn,Ve,Oe,En,qe,vn)),bn=Ue}else{const Sn=pe;_n=normalizeVNode(Sn.length>1?Sn(Oe,{attrs:Ue,slots:Fe,emit:$e}):Sn(Oe,null)),bn=pe.props?Ue:getFunctionalFallthrough(Ue)}}catch(Sn){blockStack.length=0,handleError(Sn,xe,1),_n=createVNode(Comment)}let xn=_n;if(bn&&hn!==!1){const Sn=Object.keys(bn),{shapeFlag:Cn}=xn;Sn.length&&Cn&7&&(Ne&&Sn.some(isModelListener)&&(bn=filterModelListeners(bn,Ne)),xn=cloneVNode(xn,bn))}return _e.dirs&&(xn=cloneVNode(xn),xn.dirs=xn.dirs?xn.dirs.concat(_e.dirs):_e.dirs),_e.transition&&(xn.transition=_e.transition),_n=xn,setCurrentRenderingInstance(An),_n}function filterSingleRoot(xe,pe=!0){let _e;for(let Ce=0;Ce<xe.length;Ce++){const Ie=xe[Ce];if(isVNode(Ie)){if(Ie.type!==Comment||Ie.children==="v-if"){if(_e)return;_e=Ie}}else return}return _e}const getFunctionalFallthrough=xe=>{let pe;for(const _e in xe)(_e==="class"||_e==="style"||isOn(_e))&&((pe||(pe={}))[_e]=xe[_e]);return pe},filterModelListeners=(xe,pe)=>{const _e={};for(const Ce in xe)(!isModelListener(Ce)||!(Ce.slice(9)in pe))&&(_e[Ce]=xe[Ce]);return _e};function shouldUpdateComponent(xe,pe,_e){const{props:Ce,children:Ie,component:Oe}=xe,{props:Ne,children:Fe,patchFlag:Ue}=pe,$e=Oe.emitsOptions;if(pe.dirs||pe.transition)return!0;if(_e&&Ue>=0){if(Ue&1024)return!0;if(Ue&16)return Ce?hasPropsChanged(Ce,Ne,$e):!!Ne;if(Ue&8){const ze=pe.dynamicProps;for(let Ve=0;Ve<ze.length;Ve++){const qe=ze[Ve];if(Ne[qe]!==Ce[qe]&&!isEmitListener($e,qe))return!0}}}else return(Ie||Fe)&&(!Fe||!Fe.$stable)?!0:Ce===Ne?!1:Ce?Ne?hasPropsChanged(Ce,Ne,$e):!0:!!Ne;return!1}function hasPropsChanged(xe,pe,_e){const Ce=Object.keys(pe);if(Ce.length!==Object.keys(xe).length)return!0;for(let Ie=0;Ie<Ce.length;Ie++){const Oe=Ce[Ie];if(pe[Oe]!==xe[Oe]&&!isEmitListener(_e,Oe))return!0}return!1}function updateHOCHostEl({vnode:xe,parent:pe},_e){for(;pe;){const Ce=pe.subTree;if(Ce.suspense&&Ce.suspense.activeBranch===xe&&(Ce.el=xe.el),Ce===xe)(xe=pe.vnode).el=_e,pe=pe.parent;else break}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(xe,pe){return resolveAsset(COMPONENTS,xe,!0,pe)||xe}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(xe){return isString$3(xe)?resolveAsset(COMPONENTS,xe,!1)||xe:xe||NULL_DYNAMIC_COMPONENT}function resolveDirective(xe){return resolveAsset(DIRECTIVES,xe)}function resolveAsset(xe,pe,_e=!0,Ce=!1){const Ie=currentRenderingInstance||currentInstance;if(Ie){const Oe=Ie.type;if(xe===COMPONENTS){const Fe=getComponentName(Oe,!1);if(Fe&&(Fe===pe||Fe===camelize(pe)||Fe===capitalize$1(camelize(pe))))return Oe}const Ne=resolve(Ie[xe]||Oe[xe],pe)||resolve(Ie.appContext[xe],pe);return!Ne&&Ce?Oe:Ne}}function resolve(xe,pe){return xe&&(xe[pe]||xe[camelize(pe)]||xe[capitalize$1(camelize(pe))])}const isSuspense=xe=>xe.__isSuspense;let suspenseId=0;const SuspenseImpl={name:"Suspense",__isSuspense:!0,process(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue,$e){if(xe==null)mountSuspense(pe,_e,Ce,Ie,Oe,Ne,Fe,Ue,$e);else{if(Oe&&Oe.deps>0&&!xe.suspense.isInFallback){pe.suspense=xe.suspense,pe.suspense.vnode=pe,pe.el=xe.el;return}patchSuspense(xe,pe,_e,Ce,Ie,Ne,Fe,Ue,$e)}},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent$1(xe,pe){const _e=xe.props&&xe.props[pe];isFunction$2(_e)&&_e()}function mountSuspense(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue){const{p:$e,o:{createElement:ze}}=Ue,Ve=ze("div"),qe=xe.suspense=createSuspenseBoundary(xe,Ie,Ce,pe,Ve,_e,Oe,Ne,Fe,Ue);$e(null,qe.pendingBranch=xe.ssContent,Ve,null,Ce,qe,Oe,Ne),qe.deps>0?(triggerEvent$1(xe,"onPending"),triggerEvent$1(xe,"onFallback"),$e(null,xe.ssFallback,pe,_e,Ce,null,Oe,Ne),setActiveBranch(qe,xe.ssFallback)):qe.resolve(!1,!0)}function patchSuspense(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,{p:Ue,um:$e,o:{createElement:ze}}){const Ve=pe.suspense=xe.suspense;Ve.vnode=pe,pe.el=xe.el;const qe=pe.ssContent,En=pe.ssFallback,{activeBranch:vn,pendingBranch:hn,isInFallback:_n,isHydrating:bn}=Ve;if(hn)Ve.pendingBranch=qe,isSameVNodeType(qe,hn)?(Ue(hn,qe,Ve.hiddenContainer,null,Ie,Ve,Oe,Ne,Fe),Ve.deps<=0?Ve.resolve():_n&&(bn||(Ue(vn,En,_e,Ce,Ie,null,Oe,Ne,Fe),setActiveBranch(Ve,En)))):(Ve.pendingId=suspenseId++,bn?(Ve.isHydrating=!1,Ve.activeBranch=hn):$e(hn,Ie,Ve),Ve.deps=0,Ve.effects.length=0,Ve.hiddenContainer=ze("div"),_n?(Ue(null,qe,Ve.hiddenContainer,null,Ie,Ve,Oe,Ne,Fe),Ve.deps<=0?Ve.resolve():(Ue(vn,En,_e,Ce,Ie,null,Oe,Ne,Fe),setActiveBranch(Ve,En))):vn&&isSameVNodeType(qe,vn)?(Ue(vn,qe,_e,Ce,Ie,Ve,Oe,Ne,Fe),Ve.resolve(!0)):(Ue(null,qe,Ve.hiddenContainer,null,Ie,Ve,Oe,Ne,Fe),Ve.deps<=0&&Ve.resolve()));else if(vn&&isSameVNodeType(qe,vn))Ue(vn,qe,_e,Ce,Ie,Ve,Oe,Ne,Fe),setActiveBranch(Ve,qe);else if(triggerEvent$1(pe,"onPending"),Ve.pendingBranch=qe,qe.shapeFlag&512?Ve.pendingId=qe.component.suspenseId:Ve.pendingId=suspenseId++,Ue(null,qe,Ve.hiddenContainer,null,Ie,Ve,Oe,Ne,Fe),Ve.deps<=0)Ve.resolve();else{const{timeout:An,pendingId:xn}=Ve;An>0?setTimeout(()=>{Ve.pendingId===xn&&Ve.fallback(En)},An):An===0&&Ve.fallback(En)}}function createSuspenseBoundary(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue,$e,ze=!1){const{p:Ve,m:qe,um:En,n:vn,o:{parentNode:hn,remove:_n}}=$e;let bn;const An=isVNodeSuspensible(xe);An&&pe!=null&&pe.pendingBranch&&(bn=pe.pendingId,pe.deps++);const xn=xe.props?toNumber$1(xe.props.timeout):void 0,Sn=Oe,Cn={vnode:xe,parent:pe,parentComponent:_e,namespace:Ne,container:Ce,hiddenContainer:Ie,deps:0,pendingId:suspenseId++,timeout:typeof xn=="number"?xn:-1,activeBranch:null,pendingBranch:null,isInFallback:!ze,isHydrating:ze,isUnmounted:!1,effects:[],resolve(Tn=!1,wn=!1){const{vnode:Ln,activeBranch:Pn,pendingBranch:kn,pendingId:In,effects:Rn,parentComponent:Nn,container:On}=Cn;let Dn=!1;Cn.isHydrating?Cn.isHydrating=!1:Tn||(Dn=Pn&&kn.transition&&kn.transition.mode==="out-in",Dn&&(Pn.transition.afterLeave=()=>{In===Cn.pendingId&&(qe(kn,On,Oe===Sn?vn(Pn):Oe,0),queuePostFlushCb(Rn))}),Pn&&(hn(Pn.el)!==Cn.hiddenContainer&&(Oe=vn(Pn)),En(Pn,Nn,Cn,!0)),Dn||qe(kn,On,Oe,0)),setActiveBranch(Cn,kn),Cn.pendingBranch=null,Cn.isInFallback=!1;let Mn=Cn.parent,Bn=!1;for(;Mn;){if(Mn.pendingBranch){Mn.effects.push(...Rn),Bn=!0;break}Mn=Mn.parent}!Bn&&!Dn&&queuePostFlushCb(Rn),Cn.effects=[],An&&pe&&pe.pendingBranch&&bn===pe.pendingId&&(pe.deps--,pe.deps===0&&!wn&&pe.resolve()),triggerEvent$1(Ln,"onResolve")},fallback(Tn){if(!Cn.pendingBranch)return;const{vnode:wn,activeBranch:Ln,parentComponent:Pn,container:kn,namespace:In}=Cn;triggerEvent$1(wn,"onFallback");const Rn=vn(Ln),Nn=()=>{Cn.isInFallback&&(Ve(null,Tn,kn,Rn,Pn,null,In,Fe,Ue),setActiveBranch(Cn,Tn))},On=Tn.transition&&Tn.transition.mode==="out-in";On&&(Ln.transition.afterLeave=Nn),Cn.isInFallback=!0,En(Ln,Pn,null,!0),On||Nn()},move(Tn,wn,Ln){Cn.activeBranch&&qe(Cn.activeBranch,Tn,wn,Ln),Cn.container=Tn},next(){return Cn.activeBranch&&vn(Cn.activeBranch)},registerDep(Tn,wn){const Ln=!!Cn.pendingBranch;Ln&&Cn.deps++;const Pn=Tn.vnode.el;Tn.asyncDep.catch(kn=>{handleError(kn,Tn,0)}).then(kn=>{if(Tn.isUnmounted||Cn.isUnmounted||Cn.pendingId!==Tn.suspenseId)return;Tn.asyncResolved=!0;const{vnode:In}=Tn;handleSetupResult(Tn,kn,!1),Pn&&(In.el=Pn);const Rn=!Pn&&Tn.subTree.el;wn(Tn,In,hn(Pn||Tn.subTree.el),Pn?null:vn(Tn.subTree),Cn,Ne,Ue),Rn&&_n(Rn),updateHOCHostEl(Tn,In.el),Ln&&--Cn.deps===0&&Cn.resolve()})},unmount(Tn,wn){Cn.isUnmounted=!0,Cn.activeBranch&&En(Cn.activeBranch,_e,Tn,wn),Cn.pendingBranch&&En(Cn.pendingBranch,_e,Tn,wn)}};return Cn}function hydrateSuspense(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue){const $e=pe.suspense=createSuspenseBoundary(pe,Ce,_e,xe.parentNode,document.createElement("div"),null,Ie,Oe,Ne,Fe,!0),ze=Ue(xe,$e.pendingBranch=pe.ssContent,_e,$e,Oe,Ne);return $e.deps===0&&$e.resolve(!1,!0),ze}function normalizeSuspenseChildren(xe){const{shapeFlag:pe,children:_e}=xe,Ce=pe&32;xe.ssContent=normalizeSuspenseSlot(Ce?_e.default:_e),xe.ssFallback=Ce?normalizeSuspenseSlot(_e.fallback):createVNode(Comment)}function normalizeSuspenseSlot(xe){let pe;if(isFunction$2(xe)){const _e=isBlockTreeEnabled&&xe._c;_e&&(xe._d=!1,openBlock()),xe=xe(),_e&&(xe._d=!0,pe=currentBlock,closeBlock())}return isArray$4(xe)&&(xe=filterSingleRoot(xe)),xe=normalizeVNode(xe),pe&&!xe.dynamicChildren&&(xe.dynamicChildren=pe.filter(_e=>_e!==xe)),xe}function queueEffectWithSuspense(xe,pe){pe&&pe.pendingBranch?isArray$4(xe)?pe.effects.push(...xe):pe.effects.push(xe):queuePostFlushCb(xe)}function setActiveBranch(xe,pe){xe.activeBranch=pe;const{vnode:_e,parentComponent:Ce}=xe;let Ie=pe.el;for(;!Ie&&pe.component;)pe=pe.component.subTree,Ie=pe.el;_e.el=Ie,Ce&&Ce.subTree===_e&&(Ce.vnode.el=Ie,updateHOCHostEl(Ce,Ie))}function isVNodeSuspensible(xe){var pe;return((pe=xe.props)==null?void 0:pe.suspensible)!=null&&xe.props.suspensible!==!1}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(xe,pe){return doWatch(xe,null,pe)}function watchPostEffect(xe,pe){return doWatch(xe,null,{flush:"post"})}function watchSyncEffect(xe,pe){return doWatch(xe,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(xe,pe,_e){return doWatch(xe,pe,_e)}function doWatch(xe,pe,{immediate:_e,deep:Ce,flush:Ie,once:Oe,onTrack:Ne,onTrigger:Fe}=EMPTY_OBJ){if(pe&&Oe){const Tn=pe;pe=(...wn)=>{Tn(...wn),Cn()}}const Ue=currentInstance,$e=Tn=>Ce===!0?Tn:traverse(Tn,Ce===!1?1:void 0);let ze,Ve=!1,qe=!1;if(isRef(xe)?(ze=()=>xe.value,Ve=isShallow(xe)):isReactive(xe)?(ze=()=>$e(xe),Ve=!0):isArray$4(xe)?(qe=!0,Ve=xe.some(Tn=>isReactive(Tn)||isShallow(Tn)),ze=()=>xe.map(Tn=>{if(isRef(Tn))return Tn.value;if(isReactive(Tn))return $e(Tn);if(isFunction$2(Tn))return callWithErrorHandling(Tn,Ue,2)})):isFunction$2(xe)?pe?ze=()=>callWithErrorHandling(xe,Ue,2):ze=()=>(En&&En(),callWithAsyncErrorHandling(xe,Ue,3,[vn])):ze=NOOP,pe&&Ce){const Tn=ze;ze=()=>traverse(Tn())}let En,vn=Tn=>{En=xn.onStop=()=>{callWithErrorHandling(Tn,Ue,4),En=xn.onStop=void 0}},hn;if(isInSSRComponentSetup)if(vn=NOOP,pe?_e&&callWithAsyncErrorHandling(pe,Ue,3,[ze(),qe?[]:void 0,vn]):ze(),Ie==="sync"){const Tn=useSSRContext();hn=Tn.__watcherHandles||(Tn.__watcherHandles=[])}else return NOOP;let _n=qe?new Array(xe.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const bn=()=>{if(!(!xn.active||!xn.dirty))if(pe){const Tn=xn.run();(Ce||Ve||(qe?Tn.some((wn,Ln)=>hasChanged(wn,_n[Ln])):hasChanged(Tn,_n)))&&(En&&En(),callWithAsyncErrorHandling(pe,Ue,3,[Tn,_n===INITIAL_WATCHER_VALUE?void 0:qe&&_n[0]===INITIAL_WATCHER_VALUE?[]:_n,vn]),_n=Tn)}else xn.run()};bn.allowRecurse=!!pe;let An;Ie==="sync"?An=bn:Ie==="post"?An=()=>queuePostRenderEffect(bn,Ue&&Ue.suspense):(bn.pre=!0,Ue&&(bn.id=Ue.uid),An=()=>queueJob(bn));const xn=new ReactiveEffect(ze,NOOP,An),Sn=getCurrentScope(),Cn=()=>{xn.stop(),Sn&&remove(Sn.effects,xn)};return pe?_e?bn():_n=xn.run():Ie==="post"?queuePostRenderEffect(xn.run.bind(xn),Ue&&Ue.suspense):xn.run(),hn&&hn.push(Cn),Cn}function instanceWatch(xe,pe,_e){const Ce=this.proxy,Ie=isString$3(xe)?xe.includes(".")?createPathGetter(Ce,xe):()=>Ce[xe]:xe.bind(Ce,Ce);let Oe;isFunction$2(pe)?Oe=pe:(Oe=pe.handler,_e=pe);const Ne=setCurrentInstance(this),Fe=doWatch(Ie,Oe.bind(Ce),_e);return Ne(),Fe}function createPathGetter(xe,pe){const _e=pe.split(".");return()=>{let Ce=xe;for(let Ie=0;Ie<_e.length&&Ce;Ie++)Ce=Ce[_e[Ie]];return Ce}}function traverse(xe,pe,_e=0,Ce){if(!isObject$3(xe)||xe.__v_skip)return xe;if(pe&&pe>0){if(_e>=pe)return xe;_e++}if(Ce=Ce||new Set,Ce.has(xe))return xe;if(Ce.add(xe),isRef(xe))traverse(xe.value,pe,_e,Ce);else if(isArray$4(xe))for(let Ie=0;Ie<xe.length;Ie++)traverse(xe[Ie],pe,_e,Ce);else if(isSet$1(xe)||isMap$1(xe))xe.forEach(Ie=>{traverse(Ie,pe,_e,Ce)});else if(isPlainObject$1(xe))for(const Ie in xe)traverse(xe[Ie],pe,_e,Ce);return xe}function withDirectives(xe,pe){if(currentRenderingInstance===null)return xe;const _e=getExposeProxy(currentRenderingInstance)||currentRenderingInstance.proxy,Ce=xe.dirs||(xe.dirs=[]);for(let Ie=0;Ie<pe.length;Ie++){let[Oe,Ne,Fe,Ue=EMPTY_OBJ]=pe[Ie];Oe&&(isFunction$2(Oe)&&(Oe={mounted:Oe,updated:Oe}),Oe.deep&&traverse(Ne),Ce.push({dir:Oe,instance:_e,value:Ne,oldValue:void 0,arg:Fe,modifiers:Ue}))}return xe}function invokeDirectiveHook(xe,pe,_e,Ce){const Ie=xe.dirs,Oe=pe&&pe.dirs;for(let Ne=0;Ne<Ie.length;Ne++){const Fe=Ie[Ne];Oe&&(Fe.oldValue=Oe[Ne].value);let Ue=Fe.dir[Ce];Ue&&(pauseTracking(),callWithAsyncErrorHandling(Ue,_e,8,[xe.el,Fe,xe,pe]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const xe={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{xe.isMounted=!0}),onBeforeUnmount(()=>{xe.isUnmounting=!0}),xe}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(xe,{slots:pe}){const _e=getCurrentInstance(),Ce=useTransitionState();return()=>{const Ie=pe.default&&getTransitionRawChildren(pe.default(),!0);if(!Ie||!Ie.length)return;let Oe=Ie[0];if(Ie.length>1){for(const qe of Ie)if(qe.type!==Comment){Oe=qe;break}}const Ne=toRaw(xe),{mode:Fe}=Ne;if(Ce.isLeaving)return emptyPlaceholder(Oe);const Ue=getKeepAliveChild(Oe);if(!Ue)return emptyPlaceholder(Oe);const $e=resolveTransitionHooks(Ue,Ne,Ce,_e);setTransitionHooks(Ue,$e);const ze=_e.subTree,Ve=ze&&getKeepAliveChild(ze);if(Ve&&Ve.type!==Comment&&!isSameVNodeType(Ue,Ve)){const qe=resolveTransitionHooks(Ve,Ne,Ce,_e);if(setTransitionHooks(Ve,qe),Fe==="out-in")return Ce.isLeaving=!0,qe.afterLeave=()=>{Ce.isLeaving=!1,_e.update.active!==!1&&(_e.effect.dirty=!0,_e.update())},emptyPlaceholder(Oe);Fe==="in-out"&&Ue.type!==Comment&&(qe.delayLeave=(En,vn,hn)=>{const _n=getLeavingNodesForType(Ce,Ve);_n[String(Ve.key)]=Ve,En[leaveCbKey]=()=>{vn(),En[leaveCbKey]=void 0,delete $e.delayedLeave},$e.delayedLeave=hn})}return Oe}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(xe,pe){const{leavingVNodes:_e}=xe;let Ce=_e.get(pe.type);return Ce||(Ce=Object.create(null),_e.set(pe.type,Ce)),Ce}function resolveTransitionHooks(xe,pe,_e,Ce){const{appear:Ie,mode:Oe,persisted:Ne=!1,onBeforeEnter:Fe,onEnter:Ue,onAfterEnter:$e,onEnterCancelled:ze,onBeforeLeave:Ve,onLeave:qe,onAfterLeave:En,onLeaveCancelled:vn,onBeforeAppear:hn,onAppear:_n,onAfterAppear:bn,onAppearCancelled:An}=pe,xn=String(xe.key),Sn=getLeavingNodesForType(_e,xe),Cn=(Ln,Pn)=>{Ln&&callWithAsyncErrorHandling(Ln,Ce,9,Pn)},Tn=(Ln,Pn)=>{const kn=Pn[1];Cn(Ln,Pn),isArray$4(Ln)?Ln.every(In=>In.length<=1)&&kn():Ln.length<=1&&kn()},wn={mode:Oe,persisted:Ne,beforeEnter(Ln){let Pn=Fe;if(!_e.isMounted)if(Ie)Pn=hn||Fe;else return;Ln[leaveCbKey]&&Ln[leaveCbKey](!0);const kn=Sn[xn];kn&&isSameVNodeType(xe,kn)&&kn.el[leaveCbKey]&&kn.el[leaveCbKey](),Cn(Pn,[Ln])},enter(Ln){let Pn=Ue,kn=$e,In=ze;if(!_e.isMounted)if(Ie)Pn=_n||Ue,kn=bn||$e,In=An||ze;else return;let Rn=!1;const Nn=Ln[enterCbKey$1]=On=>{Rn||(Rn=!0,On?Cn(In,[Ln]):Cn(kn,[Ln]),wn.delayedLeave&&wn.delayedLeave(),Ln[enterCbKey$1]=void 0)};Pn?Tn(Pn,[Ln,Nn]):Nn()},leave(Ln,Pn){const kn=String(xe.key);if(Ln[enterCbKey$1]&&Ln[enterCbKey$1](!0),_e.isUnmounting)return Pn();Cn(Ve,[Ln]);let In=!1;const Rn=Ln[leaveCbKey]=Nn=>{In||(In=!0,Pn(),Nn?Cn(vn,[Ln]):Cn(En,[Ln]),Ln[leaveCbKey]=void 0,Sn[kn]===xe&&delete Sn[kn])};Sn[kn]=xe,qe?Tn(qe,[Ln,Rn]):Rn()},clone(Ln){return resolveTransitionHooks(Ln,pe,_e,Ce)}};return wn}function emptyPlaceholder(xe){if(isKeepAlive(xe))return xe=cloneVNode(xe),xe.children=null,xe}function getKeepAliveChild(xe){return isKeepAlive(xe)?xe.children?xe.children[0]:void 0:xe}function setTransitionHooks(xe,pe){xe.shapeFlag&6&&xe.component?setTransitionHooks(xe.component.subTree,pe):xe.shapeFlag&128?(xe.ssContent.transition=pe.clone(xe.ssContent),xe.ssFallback.transition=pe.clone(xe.ssFallback)):xe.transition=pe}function getTransitionRawChildren(xe,pe=!1,_e){let Ce=[],Ie=0;for(let Oe=0;Oe<xe.length;Oe++){let Ne=xe[Oe];const Fe=_e==null?Ne.key:String(_e)+String(Ne.key!=null?Ne.key:Oe);Ne.type===Fragment$1?(Ne.patchFlag&128&&Ie++,Ce=Ce.concat(getTransitionRawChildren(Ne.children,pe,Fe))):(pe||Ne.type!==Comment)&&Ce.push(Fe!=null?cloneVNode(Ne,{key:Fe}):Ne)}if(Ie>1)for(let Oe=0;Oe<Ce.length;Oe++)Ce[Oe].patchFlag=-2;return Ce}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(xe,pe){return isFunction$2(xe)?extend({name:xe.name},pe,{setup:xe}):xe}const isAsyncWrapper=xe=>!!xe.type.__asyncLoader,isKeepAlive=xe=>xe.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(xe,{slots:pe}){const _e=getCurrentInstance(),Ce=_e.ctx;if(!Ce.renderer)return()=>{const An=pe.default&&pe.default();return An&&An.length===1?An[0]:An};const Ie=new Map,Oe=new Set;let Ne=null;const Fe=_e.suspense,{renderer:{p:Ue,m:$e,um:ze,o:{createElement:Ve}}}=Ce,qe=Ve("div");Ce.activate=(An,xn,Sn,Cn,Tn)=>{const wn=An.component;$e(An,xn,Sn,0,Fe),Ue(wn.vnode,An,xn,Sn,wn,Fe,Cn,An.slotScopeIds,Tn),queuePostRenderEffect(()=>{wn.isDeactivated=!1,wn.a&&invokeArrayFns(wn.a);const Ln=An.props&&An.props.onVnodeMounted;Ln&&invokeVNodeHook(Ln,wn.parent,An)},Fe)},Ce.deactivate=An=>{const xn=An.component;$e(An,qe,null,1,Fe),queuePostRenderEffect(()=>{xn.da&&invokeArrayFns(xn.da);const Sn=An.props&&An.props.onVnodeUnmounted;Sn&&invokeVNodeHook(Sn,xn.parent,An),xn.isDeactivated=!0},Fe)};function En(An){resetShapeFlag(An),ze(An,_e,Fe,!0)}function vn(An){Ie.forEach((xn,Sn)=>{const Cn=getComponentName(xn.type);Cn&&(!An||!An(Cn))&&hn(Sn)})}function hn(An){const xn=Ie.get(An);!Ne||!isSameVNodeType(xn,Ne)?En(xn):Ne&&resetShapeFlag(Ne),Ie.delete(An),Oe.delete(An)}watch(()=>[xe.include,xe.exclude],([An,xn])=>{An&&vn(Sn=>matches(An,Sn)),xn&&vn(Sn=>!matches(xn,Sn))},{flush:"post",deep:!0});let _n=null;const bn=()=>{_n!=null&&Ie.set(_n,getInnerChild(_e.subTree))};return onMounted(bn),onUpdated(bn),onBeforeUnmount(()=>{Ie.forEach(An=>{const{subTree:xn,suspense:Sn}=_e,Cn=getInnerChild(xn);if(An.type===Cn.type&&An.key===Cn.key){resetShapeFlag(Cn);const Tn=Cn.component.da;Tn&&queuePostRenderEffect(Tn,Sn);return}En(An)})}),()=>{if(_n=null,!pe.default)return null;const An=pe.default(),xn=An[0];if(An.length>1)return Ne=null,An;if(!isVNode(xn)||!(xn.shapeFlag&4)&&!(xn.shapeFlag&128))return Ne=null,xn;let Sn=getInnerChild(xn);const Cn=Sn.type,Tn=getComponentName(isAsyncWrapper(Sn)?Sn.type.__asyncResolved||{}:Cn),{include:wn,exclude:Ln,max:Pn}=xe;if(wn&&(!Tn||!matches(wn,Tn))||Ln&&Tn&&matches(Ln,Tn))return Ne=Sn,xn;const kn=Sn.key==null?Cn:Sn.key,In=Ie.get(kn);return Sn.el&&(Sn=cloneVNode(Sn),xn.shapeFlag&128&&(xn.ssContent=Sn)),_n=kn,In?(Sn.el=In.el,Sn.component=In.component,Sn.transition&&setTransitionHooks(Sn,Sn.transition),Sn.shapeFlag|=512,Oe.delete(kn),Oe.add(kn)):(Oe.add(kn),Pn&&Oe.size>parseInt(Pn,10)&&hn(Oe.values().next().value)),Sn.shapeFlag|=256,Ne=Sn,isSuspense(xn.type)?xn:Sn}}},KeepAlive=KeepAliveImpl;function matches(xe,pe){return isArray$4(xe)?xe.some(_e=>matches(_e,pe)):isString$3(xe)?xe.split(",").includes(pe):isRegExp(xe)?xe.test(pe):!1}function onActivated(xe,pe){registerKeepAliveHook(xe,"a",pe)}function onDeactivated(xe,pe){registerKeepAliveHook(xe,"da",pe)}function registerKeepAliveHook(xe,pe,_e=currentInstance){const Ce=xe.__wdc||(xe.__wdc=()=>{let Ie=_e;for(;Ie;){if(Ie.isDeactivated)return;Ie=Ie.parent}return xe()});if(injectHook(pe,Ce,_e),_e){let Ie=_e.parent;for(;Ie&&Ie.parent;)isKeepAlive(Ie.parent.vnode)&&injectToKeepAliveRoot(Ce,pe,_e,Ie),Ie=Ie.parent}}function injectToKeepAliveRoot(xe,pe,_e,Ce){const Ie=injectHook(pe,xe,Ce,!0);onUnmounted(()=>{remove(Ce[pe],Ie)},_e)}function resetShapeFlag(xe){xe.shapeFlag&=-257,xe.shapeFlag&=-513}function getInnerChild(xe){return xe.shapeFlag&128?xe.ssContent:xe}function injectHook(xe,pe,_e=currentInstance,Ce=!1){if(_e){const Ie=_e[xe]||(_e[xe]=[]),Oe=pe.__weh||(pe.__weh=(...Ne)=>{if(_e.isUnmounted)return;pauseTracking();const Fe=setCurrentInstance(_e),Ue=callWithAsyncErrorHandling(pe,_e,xe,Ne);return Fe(),resetTracking(),Ue});return Ce?Ie.unshift(Oe):Ie.push(Oe),Oe}}const createHook=xe=>(pe,_e=currentInstance)=>(!isInSSRComponentSetup||xe==="sp")&&injectHook(xe,(...Ce)=>pe(...Ce),_e),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(xe,pe=currentInstance){injectHook("ec",xe,pe)}function renderList(xe,pe,_e,Ce){let Ie;const Oe=_e&&_e[Ce];if(isArray$4(xe)||isString$3(xe)){Ie=new Array(xe.length);for(let Ne=0,Fe=xe.length;Ne<Fe;Ne++)Ie[Ne]=pe(xe[Ne],Ne,void 0,Oe&&Oe[Ne])}else if(typeof xe=="number"){Ie=new Array(xe);for(let Ne=0;Ne<xe;Ne++)Ie[Ne]=pe(Ne+1,Ne,void 0,Oe&&Oe[Ne])}else if(isObject$3(xe))if(xe[Symbol.iterator])Ie=Array.from(xe,(Ne,Fe)=>pe(Ne,Fe,void 0,Oe&&Oe[Fe]));else{const Ne=Object.keys(xe);Ie=new Array(Ne.length);for(let Fe=0,Ue=Ne.length;Fe<Ue;Fe++){const $e=Ne[Fe];Ie[Fe]=pe(xe[$e],$e,Fe,Oe&&Oe[Fe])}}else Ie=[];return _e&&(_e[Ce]=Ie),Ie}function createSlots(xe,pe){for(let _e=0;_e<pe.length;_e++){const Ce=pe[_e];if(isArray$4(Ce))for(let Ie=0;Ie<Ce.length;Ie++)xe[Ce[Ie].name]=Ce[Ie].fn;else Ce&&(xe[Ce.name]=Ce.key?(...Ie)=>{const Oe=Ce.fn(...Ie);return Oe&&(Oe.key=Ce.key),Oe}:Ce.fn)}return xe}function renderSlot(xe,pe,_e={},Ce,Ie){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return pe!=="default"&&(_e.name=pe),createVNode("slot",_e,Ce&&Ce());let Oe=xe[pe];Oe&&Oe._c&&(Oe._d=!1),openBlock();const Ne=Oe&&ensureValidVNode(Oe(_e)),Fe=createBlock(Fragment$1,{key:_e.key||Ne&&Ne.key||"_".concat(pe)},Ne||(Ce?Ce():[]),Ne&&xe._===1?64:-2);return!Ie&&Fe.scopeId&&(Fe.slotScopeIds=[Fe.scopeId+"-s"]),Oe&&Oe._c&&(Oe._d=!0),Fe}function ensureValidVNode(xe){return xe.some(pe=>isVNode(pe)?!(pe.type===Comment||pe.type===Fragment$1&&!ensureValidVNode(pe.children)):!0)?xe:null}function toHandlers(xe,pe){const _e={};for(const Ce in xe)_e[pe&&/[A-Z]/.test(Ce)?"on:".concat(Ce):toHandlerKey(Ce)]=xe[Ce];return _e}const getPublicInstance=xe=>xe?isStatefulComponent(xe)?getExposeProxy(xe)||xe.proxy:getPublicInstance(xe.parent):null,publicPropertiesMap=extend(Object.create(null),{$:xe=>xe,$el:xe=>xe.vnode.el,$data:xe=>xe.data,$props:xe=>xe.props,$attrs:xe=>xe.attrs,$slots:xe=>xe.slots,$refs:xe=>xe.refs,$parent:xe=>getPublicInstance(xe.parent),$root:xe=>getPublicInstance(xe.root),$emit:xe=>xe.emit,$options:xe=>resolveMergedOptions(xe),$forceUpdate:xe=>xe.f||(xe.f=()=>{xe.effect.dirty=!0,queueJob(xe.update)}),$nextTick:xe=>xe.n||(xe.n=nextTick.bind(xe.proxy)),$watch:xe=>instanceWatch.bind(xe)}),hasSetupBinding=(xe,pe)=>xe!==EMPTY_OBJ&&!xe.__isScriptSetup&&hasOwn(xe,pe),PublicInstanceProxyHandlers={get({_:xe},pe){const{ctx:_e,setupState:Ce,data:Ie,props:Oe,accessCache:Ne,type:Fe,appContext:Ue}=xe;let $e;if(pe[0]!=="$"){const En=Ne[pe];if(En!==void 0)switch(En){case 1:return Ce[pe];case 2:return Ie[pe];case 4:return _e[pe];case 3:return Oe[pe]}else{if(hasSetupBinding(Ce,pe))return Ne[pe]=1,Ce[pe];if(Ie!==EMPTY_OBJ&&hasOwn(Ie,pe))return Ne[pe]=2,Ie[pe];if(($e=xe.propsOptions[0])&&hasOwn($e,pe))return Ne[pe]=3,Oe[pe];if(_e!==EMPTY_OBJ&&hasOwn(_e,pe))return Ne[pe]=4,_e[pe];shouldCacheAccess&&(Ne[pe]=0)}}const ze=publicPropertiesMap[pe];let Ve,qe;if(ze)return pe==="$attrs"&&track(xe,"get",pe),ze(xe);if((Ve=Fe.__cssModules)&&(Ve=Ve[pe]))return Ve;if(_e!==EMPTY_OBJ&&hasOwn(_e,pe))return Ne[pe]=4,_e[pe];if(qe=Ue.config.globalProperties,hasOwn(qe,pe))return qe[pe]},set({_:xe},pe,_e){const{data:Ce,setupState:Ie,ctx:Oe}=xe;return hasSetupBinding(Ie,pe)?(Ie[pe]=_e,!0):Ce!==EMPTY_OBJ&&hasOwn(Ce,pe)?(Ce[pe]=_e,!0):hasOwn(xe.props,pe)||pe[0]==="$"&&pe.slice(1)in xe?!1:(Oe[pe]=_e,!0)},has({_:{data:xe,setupState:pe,accessCache:_e,ctx:Ce,appContext:Ie,propsOptions:Oe}},Ne){let Fe;return!!_e[Ne]||xe!==EMPTY_OBJ&&hasOwn(xe,Ne)||hasSetupBinding(pe,Ne)||(Fe=Oe[0])&&hasOwn(Fe,Ne)||hasOwn(Ce,Ne)||hasOwn(publicPropertiesMap,Ne)||hasOwn(Ie.config.globalProperties,Ne)},defineProperty(xe,pe,_e){return _e.get!=null?xe._.accessCache[pe]=0:hasOwn(_e,"value")&&this.set(xe,pe,_e.value,null),Reflect.defineProperty(xe,pe,_e)}};function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(){const xe=getCurrentInstance();return xe.setupContext||(xe.setupContext=createSetupContext(xe))}function normalizePropsOrEmits(xe){return isArray$4(xe)?xe.reduce((pe,_e)=>(pe[_e]=null,pe),{}):xe}function mergeModels(xe,pe){return!xe||!pe?xe||pe:isArray$4(xe)&&isArray$4(pe)?xe.concat(pe):extend({},normalizePropsOrEmits(xe),normalizePropsOrEmits(pe))}let shouldCacheAccess=!0;function applyOptions(xe){const pe=resolveMergedOptions(xe),_e=xe.proxy,Ce=xe.ctx;shouldCacheAccess=!1,pe.beforeCreate&&callHook$1(pe.beforeCreate,xe,"bc");const{data:Ie,computed:Oe,methods:Ne,watch:Fe,provide:Ue,inject:$e,created:ze,beforeMount:Ve,mounted:qe,beforeUpdate:En,updated:vn,activated:hn,deactivated:_n,beforeDestroy:bn,beforeUnmount:An,destroyed:xn,unmounted:Sn,render:Cn,renderTracked:Tn,renderTriggered:wn,errorCaptured:Ln,serverPrefetch:Pn,expose:kn,inheritAttrs:In,components:Rn,directives:Nn,filters:On}=pe;if($e&&resolveInjections($e,Ce,null),Ne)for(const Bn in Ne){const $n=Ne[Bn];isFunction$2($n)&&(Ce[Bn]=$n.bind(_e))}if(Ie){const Bn=Ie.call(_e,_e);isObject$3(Bn)&&(xe.data=reactive(Bn))}if(shouldCacheAccess=!0,Oe)for(const Bn in Oe){const $n=Oe[Bn],Fn=isFunction$2($n)?$n.bind(_e,_e):isFunction$2($n.get)?$n.get.bind(_e,_e):NOOP,Un=!isFunction$2($n)&&isFunction$2($n.set)?$n.set.bind(_e):NOOP,Hn=computed({get:Fn,set:Un});Object.defineProperty(Ce,Bn,{enumerable:!0,configurable:!0,get:()=>Hn.value,set:Wn=>Hn.value=Wn})}if(Fe)for(const Bn in Fe)createWatcher(Fe[Bn],Ce,_e,Bn);if(Ue){const Bn=isFunction$2(Ue)?Ue.call(_e):Ue;Reflect.ownKeys(Bn).forEach($n=>{provide($n,Bn[$n])})}ze&&callHook$1(ze,xe,"c");function Mn(Bn,$n){isArray$4($n)?$n.forEach(Fn=>Bn(Fn.bind(_e))):$n&&Bn($n.bind(_e))}if(Mn(onBeforeMount,Ve),Mn(onMounted,qe),Mn(onBeforeUpdate,En),Mn(onUpdated,vn),Mn(onActivated,hn),Mn(onDeactivated,_n),Mn(onErrorCaptured,Ln),Mn(onRenderTracked,Tn),Mn(onRenderTriggered,wn),Mn(onBeforeUnmount,An),Mn(onUnmounted,Sn),Mn(onServerPrefetch,Pn),isArray$4(kn))if(kn.length){const Bn=xe.exposed||(xe.exposed={});kn.forEach($n=>{Object.defineProperty(Bn,$n,{get:()=>_e[$n],set:Fn=>_e[$n]=Fn})})}else xe.exposed||(xe.exposed={});Cn&&xe.render===NOOP&&(xe.render=Cn),In!=null&&(xe.inheritAttrs=In),Rn&&(xe.components=Rn),Nn&&(xe.directives=Nn)}function resolveInjections(xe,pe,_e=NOOP){isArray$4(xe)&&(xe=normalizeInject(xe));for(const Ce in xe){const Ie=xe[Ce];let Oe;isObject$3(Ie)?"default"in Ie?Oe=inject(Ie.from||Ce,Ie.default,!0):Oe=inject(Ie.from||Ce):Oe=inject(Ie),isRef(Oe)?Object.defineProperty(pe,Ce,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Ne=>Oe.value=Ne}):pe[Ce]=Oe}}function callHook$1(xe,pe,_e){callWithAsyncErrorHandling(isArray$4(xe)?xe.map(Ce=>Ce.bind(pe.proxy)):xe.bind(pe.proxy),pe,_e)}function createWatcher(xe,pe,_e,Ce){const Ie=Ce.includes(".")?createPathGetter(_e,Ce):()=>_e[Ce];if(isString$3(xe)){const Oe=pe[xe];isFunction$2(Oe)&&watch(Ie,Oe)}else if(isFunction$2(xe))watch(Ie,xe.bind(_e));else if(isObject$3(xe))if(isArray$4(xe))xe.forEach(Oe=>createWatcher(Oe,pe,_e,Ce));else{const Oe=isFunction$2(xe.handler)?xe.handler.bind(_e):pe[xe.handler];isFunction$2(Oe)&&watch(Ie,Oe,xe)}}function resolveMergedOptions(xe){const pe=xe.type,{mixins:_e,extends:Ce}=pe,{mixins:Ie,optionsCache:Oe,config:{optionMergeStrategies:Ne}}=xe.appContext,Fe=Oe.get(pe);let Ue;return Fe?Ue=Fe:!Ie.length&&!_e&&!Ce?Ue=pe:(Ue={},Ie.length&&Ie.forEach($e=>mergeOptions$1(Ue,$e,Ne,!0)),mergeOptions$1(Ue,pe,Ne)),isObject$3(pe)&&Oe.set(pe,Ue),Ue}function mergeOptions$1(xe,pe,_e,Ce=!1){const{mixins:Ie,extends:Oe}=pe;Oe&&mergeOptions$1(xe,Oe,_e,!0),Ie&&Ie.forEach(Ne=>mergeOptions$1(xe,Ne,_e,!0));for(const Ne in pe)if(!(Ce&&Ne==="expose")){const Fe=internalOptionMergeStrats[Ne]||_e&&_e[Ne];xe[Ne]=Fe?Fe(xe[Ne],pe[Ne]):pe[Ne]}return xe}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(xe,pe){return pe?xe?function(){return extend(isFunction$2(xe)?xe.call(this,this):xe,isFunction$2(pe)?pe.call(this,this):pe)}:pe:xe}function mergeInject(xe,pe){return mergeObjectOptions(normalizeInject(xe),normalizeInject(pe))}function normalizeInject(xe){if(isArray$4(xe)){const pe={};for(let _e=0;_e<xe.length;_e++)pe[xe[_e]]=xe[_e];return pe}return xe}function mergeAsArray(xe,pe){return xe?[...new Set([].concat(xe,pe))]:pe}function mergeObjectOptions(xe,pe){return xe?extend(Object.create(null),xe,pe):pe}function mergeEmitsOrPropsOptions(xe,pe){return xe?isArray$4(xe)&&isArray$4(pe)?[...new Set([...xe,...pe])]:extend(Object.create(null),normalizePropsOrEmits(xe),normalizePropsOrEmits(pe!=null?pe:{})):pe}function mergeWatchOptions(xe,pe){if(!xe)return pe;if(!pe)return xe;const _e=extend(Object.create(null),xe);for(const Ce in pe)_e[Ce]=mergeAsArray(xe[Ce],pe[Ce]);return _e}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(xe,pe){return function(Ce,Ie=null){isFunction$2(Ce)||(Ce=extend({},Ce)),Ie!=null&&!isObject$3(Ie)&&(Ie=null);const Oe=createAppContext(),Ne=new WeakSet;let Fe=!1;const Ue=Oe.app={_uid:uid$1++,_component:Ce,_props:Ie,_container:null,_context:Oe,_instance:null,version:version$1,get config(){return Oe.config},set config($e){},use($e,...ze){return Ne.has($e)||($e&&isFunction$2($e.install)?(Ne.add($e),$e.install(Ue,...ze)):isFunction$2($e)&&(Ne.add($e),$e(Ue,...ze))),Ue},mixin($e){return Oe.mixins.includes($e)||Oe.mixins.push($e),Ue},component($e,ze){return ze?(Oe.components[$e]=ze,Ue):Oe.components[$e]},directive($e,ze){return ze?(Oe.directives[$e]=ze,Ue):Oe.directives[$e]},mount($e,ze,Ve){if(!Fe){const qe=createVNode(Ce,Ie);return qe.appContext=Oe,Ve===!0?Ve="svg":Ve===!1&&(Ve=void 0),ze&&pe?pe(qe,$e):xe(qe,$e,Ve),Fe=!0,Ue._container=$e,$e.__vue_app__=Ue,getExposeProxy(qe.component)||qe.component.proxy}},unmount(){Fe&&(xe(null,Ue._container),delete Ue._container.__vue_app__)},provide($e,ze){return Oe.provides[$e]=ze,Ue},runWithContext($e){const ze=currentApp;currentApp=Ue;try{return $e()}finally{currentApp=ze}}};return Ue}}let currentApp=null;function provide(xe,pe){if(currentInstance){let _e=currentInstance.provides;const Ce=currentInstance.parent&&currentInstance.parent.provides;Ce===_e&&(_e=currentInstance.provides=Object.create(Ce)),_e[xe]=pe}}function inject(xe,pe,_e=!1){const Ce=currentInstance||currentRenderingInstance;if(Ce||currentApp){const Ie=Ce?Ce.parent==null?Ce.vnode.appContext&&Ce.vnode.appContext.provides:Ce.parent.provides:currentApp._context.provides;if(Ie&&xe in Ie)return Ie[xe];if(arguments.length>1)return _e&&isFunction$2(pe)?pe.call(Ce&&Ce.proxy):pe}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(xe,pe,_e,Ce=!1){const Ie={},Oe={};def(Oe,InternalObjectKey,1),xe.propsDefaults=Object.create(null),setFullProps(xe,pe,Ie,Oe);for(const Ne in xe.propsOptions[0])Ne in Ie||(Ie[Ne]=void 0);_e?xe.props=Ce?Ie:shallowReactive(Ie):xe.type.props?xe.props=Ie:xe.props=Oe,xe.attrs=Oe}function updateProps(xe,pe,_e,Ce){const{props:Ie,attrs:Oe,vnode:{patchFlag:Ne}}=xe,Fe=toRaw(Ie),[Ue]=xe.propsOptions;let $e=!1;if((Ce||Ne>0)&&!(Ne&16)){if(Ne&8){const ze=xe.vnode.dynamicProps;for(let Ve=0;Ve<ze.length;Ve++){let qe=ze[Ve];if(isEmitListener(xe.emitsOptions,qe))continue;const En=pe[qe];if(Ue)if(hasOwn(Oe,qe))En!==Oe[qe]&&(Oe[qe]=En,$e=!0);else{const vn=camelize(qe);Ie[vn]=resolvePropValue(Ue,Fe,vn,En,xe,!1)}else En!==Oe[qe]&&(Oe[qe]=En,$e=!0)}}}else{setFullProps(xe,pe,Ie,Oe)&&($e=!0);let ze;for(const Ve in Fe)(!pe||!hasOwn(pe,Ve)&&((ze=hyphenate(Ve))===Ve||!hasOwn(pe,ze)))&&(Ue?_e&&(_e[Ve]!==void 0||_e[ze]!==void 0)&&(Ie[Ve]=resolvePropValue(Ue,Fe,Ve,void 0,xe,!0)):delete Ie[Ve]);if(Oe!==Fe)for(const Ve in Oe)(!pe||!hasOwn(pe,Ve))&&(delete Oe[Ve],$e=!0)}$e&&trigger(xe,"set","$attrs")}function setFullProps(xe,pe,_e,Ce){const[Ie,Oe]=xe.propsOptions;let Ne=!1,Fe;if(pe)for(let Ue in pe){if(isReservedProp(Ue))continue;const $e=pe[Ue];let ze;Ie&&hasOwn(Ie,ze=camelize(Ue))?!Oe||!Oe.includes(ze)?_e[ze]=$e:(Fe||(Fe={}))[ze]=$e:isEmitListener(xe.emitsOptions,Ue)||(!(Ue in Ce)||$e!==Ce[Ue])&&(Ce[Ue]=$e,Ne=!0)}if(Oe){const Ue=toRaw(_e),$e=Fe||EMPTY_OBJ;for(let ze=0;ze<Oe.length;ze++){const Ve=Oe[ze];_e[Ve]=resolvePropValue(Ie,Ue,Ve,$e[Ve],xe,!hasOwn($e,Ve))}}return Ne}function resolvePropValue(xe,pe,_e,Ce,Ie,Oe){const Ne=xe[_e];if(Ne!=null){const Fe=hasOwn(Ne,"default");if(Fe&&Ce===void 0){const Ue=Ne.default;if(Ne.type!==Function&&!Ne.skipFactory&&isFunction$2(Ue)){const{propsDefaults:$e}=Ie;if(_e in $e)Ce=$e[_e];else{const ze=setCurrentInstance(Ie);Ce=$e[_e]=Ue.call(null,pe),ze()}}else Ce=Ue}Ne[0]&&(Oe&&!Fe?Ce=!1:Ne[1]&&(Ce===""||Ce===hyphenate(_e))&&(Ce=!0))}return Ce}function normalizePropsOptions(xe,pe,_e=!1){const Ce=pe.propsCache,Ie=Ce.get(xe);if(Ie)return Ie;const Oe=xe.props,Ne={},Fe=[];let Ue=!1;if(!isFunction$2(xe)){const ze=Ve=>{Ue=!0;const[qe,En]=normalizePropsOptions(Ve,pe,!0);extend(Ne,qe),En&&Fe.push(...En)};!_e&&pe.mixins.length&&pe.mixins.forEach(ze),xe.extends&&ze(xe.extends),xe.mixins&&xe.mixins.forEach(ze)}if(!Oe&&!Ue)return isObject$3(xe)&&Ce.set(xe,EMPTY_ARR),EMPTY_ARR;if(isArray$4(Oe))for(let ze=0;ze<Oe.length;ze++){const Ve=camelize(Oe[ze]);validatePropName(Ve)&&(Ne[Ve]=EMPTY_OBJ)}else if(Oe)for(const ze in Oe){const Ve=camelize(ze);if(validatePropName(Ve)){const qe=Oe[ze],En=Ne[Ve]=isArray$4(qe)||isFunction$2(qe)?{type:qe}:extend({},qe);if(En){const vn=getTypeIndex(Boolean,En.type),hn=getTypeIndex(String,En.type);En[0]=vn>-1,En[1]=hn<0||vn<hn,(vn>-1||hasOwn(En,"default"))&&Fe.push(Ve)}}}const $e=[Ne,Fe];return isObject$3(xe)&&Ce.set(xe,$e),$e}function validatePropName(xe){return xe[0]!=="$"&&!isReservedProp(xe)}function getType(xe){return xe===null?"null":typeof xe=="function"?xe.name||"":typeof xe=="object"&&xe.constructor&&xe.constructor.name||""}function isSameType(xe,pe){return getType(xe)===getType(pe)}function getTypeIndex(xe,pe){return isArray$4(pe)?pe.findIndex(_e=>isSameType(_e,xe)):isFunction$2(pe)&&isSameType(pe,xe)?0:-1}const isInternalKey=xe=>xe[0]==="_"||xe==="$stable",normalizeSlotValue=xe=>isArray$4(xe)?xe.map(normalizeVNode):[normalizeVNode(xe)],normalizeSlot$1=(xe,pe,_e)=>{if(pe._n)return pe;const Ce=withCtx((...Ie)=>normalizeSlotValue(pe(...Ie)),_e);return Ce._c=!1,Ce},normalizeObjectSlots=(xe,pe,_e)=>{const Ce=xe._ctx;for(const Ie in xe){if(isInternalKey(Ie))continue;const Oe=xe[Ie];if(isFunction$2(Oe))pe[Ie]=normalizeSlot$1(Ie,Oe,Ce);else if(Oe!=null){const Ne=normalizeSlotValue(Oe);pe[Ie]=()=>Ne}}},normalizeVNodeSlots=(xe,pe)=>{const _e=normalizeSlotValue(pe);xe.slots.default=()=>_e},initSlots=(xe,pe)=>{if(xe.vnode.shapeFlag&32){const _e=pe._;_e?(xe.slots=toRaw(pe),def(pe,"_",_e)):normalizeObjectSlots(pe,xe.slots={})}else xe.slots={},pe&&normalizeVNodeSlots(xe,pe);def(xe.slots,InternalObjectKey,1)},updateSlots=(xe,pe,_e)=>{const{vnode:Ce,slots:Ie}=xe;let Oe=!0,Ne=EMPTY_OBJ;if(Ce.shapeFlag&32){const Fe=pe._;Fe?_e&&Fe===1?Oe=!1:(extend(Ie,pe),!_e&&Fe===1&&delete Ie._):(Oe=!pe.$stable,normalizeObjectSlots(pe,Ie)),Ne=pe}else pe&&(normalizeVNodeSlots(xe,pe),Ne={default:1});if(Oe)for(const Fe in Ie)!isInternalKey(Fe)&&Ne[Fe]==null&&delete Ie[Fe]};function setRef(xe,pe,_e,Ce,Ie=!1){if(isArray$4(xe)){xe.forEach((qe,En)=>setRef(qe,pe&&(isArray$4(pe)?pe[En]:pe),_e,Ce,Ie));return}if(isAsyncWrapper(Ce)&&!Ie)return;const Oe=Ce.shapeFlag&4?getExposeProxy(Ce.component)||Ce.component.proxy:Ce.el,Ne=Ie?null:Oe,{i:Fe,r:Ue}=xe,$e=pe&&pe.r,ze=Fe.refs===EMPTY_OBJ?Fe.refs={}:Fe.refs,Ve=Fe.setupState;if($e!=null&&$e!==Ue&&(isString$3($e)?(ze[$e]=null,hasOwn(Ve,$e)&&(Ve[$e]=null)):isRef($e)&&($e.value=null)),isFunction$2(Ue))callWithErrorHandling(Ue,Fe,12,[Ne,ze]);else{const qe=isString$3(Ue),En=isRef(Ue);if(qe||En){const vn=()=>{if(xe.f){const hn=qe?hasOwn(Ve,Ue)?Ve[Ue]:ze[Ue]:Ue.value;Ie?isArray$4(hn)&&remove(hn,Oe):isArray$4(hn)?hn.includes(Oe)||hn.push(Oe):qe?(ze[Ue]=[Oe],hasOwn(Ve,Ue)&&(Ve[Ue]=ze[Ue])):(Ue.value=[Oe],xe.k&&(ze[xe.k]=Ue.value))}else qe?(ze[Ue]=Ne,hasOwn(Ve,Ue)&&(Ve[Ue]=Ne)):En&&(Ue.value=Ne,xe.k&&(ze[xe.k]=Ne))};Ne?(vn.id=-1,queuePostRenderEffect(vn,_e)):vn()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(xe){return baseCreateRenderer(xe)}function baseCreateRenderer(xe,pe){const _e=getGlobalThis();_e.__VUE__=!0;const{insert:Ce,remove:Ie,patchProp:Oe,createElement:Ne,createText:Fe,createComment:Ue,setText:$e,setElementText:ze,parentNode:Ve,nextSibling:qe,setScopeId:En=NOOP,insertStaticContent:vn}=xe,hn=(Yn,Qn,rr,gr=null,Ar=null,Br=null,Vr=void 0,Fr=null,Er=!!Qn.dynamicChildren)=>{if(Yn===Qn)return;Yn&&!isSameVNodeType(Yn,Qn)&&(gr=Jn(Yn),Wn(Yn,Ar,Br,!0),Yn=null),Qn.patchFlag===-2&&(Er=!1,Qn.dynamicChildren=null);const{type:Dr,ref:Pr,shapeFlag:$r}=Qn;switch(Dr){case Text$1:_n(Yn,Qn,rr,gr);break;case Comment:bn(Yn,Qn,rr,gr);break;case Static:Yn==null&&An(Qn,rr,gr,Vr);break;case Fragment$1:Rn(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er);break;default:$r&1?Cn(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er):$r&6?Nn(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er):($r&64||$r&128)&&Dr.process(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er,yr)}Pr!=null&&Ar&&setRef(Pr,Yn&&Yn.ref,Br,Qn||Yn,!Qn)},_n=(Yn,Qn,rr,gr)=>{if(Yn==null)Ce(Qn.el=Fe(Qn.children),rr,gr);else{const Ar=Qn.el=Yn.el;Qn.children!==Yn.children&&$e(Ar,Qn.children)}},bn=(Yn,Qn,rr,gr)=>{Yn==null?Ce(Qn.el=Ue(Qn.children||""),rr,gr):Qn.el=Yn.el},An=(Yn,Qn,rr,gr)=>{[Yn.el,Yn.anchor]=vn(Yn.children,Qn,rr,gr,Yn.el,Yn.anchor)},xn=({el:Yn,anchor:Qn},rr,gr)=>{let Ar;for(;Yn&&Yn!==Qn;)Ar=qe(Yn),Ce(Yn,rr,gr),Yn=Ar;Ce(Qn,rr,gr)},Sn=({el:Yn,anchor:Qn})=>{let rr;for(;Yn&&Yn!==Qn;)rr=qe(Yn),Ie(Yn),Yn=rr;Ie(Qn)},Cn=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er)=>{Qn.type==="svg"?Vr="svg":Qn.type==="math"&&(Vr="mathml"),Yn==null?Tn(Qn,rr,gr,Ar,Br,Vr,Fr,Er):Pn(Yn,Qn,Ar,Br,Vr,Fr,Er)},Tn=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr)=>{let Er,Dr;const{props:Pr,shapeFlag:$r,transition:Lr,dirs:Or}=Yn;if(Er=Yn.el=Ne(Yn.type,Br,Pr&&Pr.is,Pr),$r&8?ze(Er,Yn.children):$r&16&&Ln(Yn.children,Er,null,gr,Ar,resolveChildrenNamespace(Yn,Br),Vr,Fr),Or&&invokeDirectiveHook(Yn,null,gr,"created"),wn(Er,Yn,Yn.scopeId,Vr,gr),Pr){for(const qr in Pr)qr!=="value"&&!isReservedProp(qr)&&Oe(Er,qr,null,Pr[qr],Br,Yn.children,gr,Ar,cr);"value"in Pr&&Oe(Er,"value",null,Pr.value,Br),(Dr=Pr.onVnodeBeforeMount)&&invokeVNodeHook(Dr,gr,Yn)}Or&&invokeDirectiveHook(Yn,null,gr,"beforeMount");const Hr=needTransition(Ar,Lr);Hr&&Lr.beforeEnter(Er),Ce(Er,Qn,rr),((Dr=Pr&&Pr.onVnodeMounted)||Hr||Or)&&queuePostRenderEffect(()=>{Dr&&invokeVNodeHook(Dr,gr,Yn),Hr&&Lr.enter(Er),Or&&invokeDirectiveHook(Yn,null,gr,"mounted")},Ar)},wn=(Yn,Qn,rr,gr,Ar)=>{if(rr&&En(Yn,rr),gr)for(let Br=0;Br<gr.length;Br++)En(Yn,gr[Br]);if(Ar){let Br=Ar.subTree;if(Qn===Br){const Vr=Ar.vnode;wn(Yn,Vr,Vr.scopeId,Vr.slotScopeIds,Ar.parent)}}},Ln=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er=0)=>{for(let Dr=Er;Dr<Yn.length;Dr++){const Pr=Yn[Dr]=Fr?cloneIfMounted(Yn[Dr]):normalizeVNode(Yn[Dr]);hn(null,Pr,Qn,rr,gr,Ar,Br,Vr,Fr)}},Pn=(Yn,Qn,rr,gr,Ar,Br,Vr)=>{const Fr=Qn.el=Yn.el;let{patchFlag:Er,dynamicChildren:Dr,dirs:Pr}=Qn;Er|=Yn.patchFlag&16;const $r=Yn.props||EMPTY_OBJ,Lr=Qn.props||EMPTY_OBJ;let Or;if(rr&&toggleRecurse(rr,!1),(Or=Lr.onVnodeBeforeUpdate)&&invokeVNodeHook(Or,rr,Qn,Yn),Pr&&invokeDirectiveHook(Qn,Yn,rr,"beforeUpdate"),rr&&toggleRecurse(rr,!0),Dr?kn(Yn.dynamicChildren,Dr,Fr,rr,gr,resolveChildrenNamespace(Qn,Ar),Br):Vr||$n(Yn,Qn,Fr,null,rr,gr,resolveChildrenNamespace(Qn,Ar),Br,!1),Er>0){if(Er&16)In(Fr,Qn,$r,Lr,rr,gr,Ar);else if(Er&2&&$r.class!==Lr.class&&Oe(Fr,"class",null,Lr.class,Ar),Er&4&&Oe(Fr,"style",$r.style,Lr.style,Ar),Er&8){const Hr=Qn.dynamicProps;for(let qr=0;qr<Hr.length;qr++){const ao=Hr[qr],Ur=$r[ao],_r=Lr[ao];(_r!==Ur||ao==="value")&&Oe(Fr,ao,Ur,_r,Ar,Yn.children,rr,gr,cr)}}Er&1&&Yn.children!==Qn.children&&ze(Fr,Qn.children)}else!Vr&&Dr==null&&In(Fr,Qn,$r,Lr,rr,gr,Ar);((Or=Lr.onVnodeUpdated)||Pr)&&queuePostRenderEffect(()=>{Or&&invokeVNodeHook(Or,rr,Qn,Yn),Pr&&invokeDirectiveHook(Qn,Yn,rr,"updated")},gr)},kn=(Yn,Qn,rr,gr,Ar,Br,Vr)=>{for(let Fr=0;Fr<Qn.length;Fr++){const Er=Yn[Fr],Dr=Qn[Fr],Pr=Er.el&&(Er.type===Fragment$1||!isSameVNodeType(Er,Dr)||Er.shapeFlag&70)?Ve(Er.el):rr;hn(Er,Dr,Pr,null,gr,Ar,Br,Vr,!0)}},In=(Yn,Qn,rr,gr,Ar,Br,Vr)=>{if(rr!==gr){if(rr!==EMPTY_OBJ)for(const Fr in rr)!isReservedProp(Fr)&&!(Fr in gr)&&Oe(Yn,Fr,rr[Fr],null,Vr,Qn.children,Ar,Br,cr);for(const Fr in gr){if(isReservedProp(Fr))continue;const Er=gr[Fr],Dr=rr[Fr];Er!==Dr&&Fr!=="value"&&Oe(Yn,Fr,Dr,Er,Vr,Qn.children,Ar,Br,cr)}"value"in gr&&Oe(Yn,"value",rr.value,gr.value,Vr)}},Rn=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er)=>{const Dr=Qn.el=Yn?Yn.el:Fe(""),Pr=Qn.anchor=Yn?Yn.anchor:Fe("");let{patchFlag:$r,dynamicChildren:Lr,slotScopeIds:Or}=Qn;Or&&(Fr=Fr?Fr.concat(Or):Or),Yn==null?(Ce(Dr,rr,gr),Ce(Pr,rr,gr),Ln(Qn.children||[],rr,Pr,Ar,Br,Vr,Fr,Er)):$r>0&&$r&64&&Lr&&Yn.dynamicChildren?(kn(Yn.dynamicChildren,Lr,rr,Ar,Br,Vr,Fr),(Qn.key!=null||Ar&&Qn===Ar.subTree)&&traverseStaticChildren(Yn,Qn,!0)):$n(Yn,Qn,rr,Pr,Ar,Br,Vr,Fr,Er)},Nn=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er)=>{Qn.slotScopeIds=Fr,Yn==null?Qn.shapeFlag&512?Ar.ctx.activate(Qn,rr,gr,Vr,Er):On(Qn,rr,gr,Ar,Br,Vr,Er):Dn(Yn,Qn,Er)},On=(Yn,Qn,rr,gr,Ar,Br,Vr)=>{const Fr=Yn.component=createComponentInstance(Yn,gr,Ar);if(isKeepAlive(Yn)&&(Fr.ctx.renderer=yr),setupComponent(Fr),Fr.asyncDep){if(Ar&&Ar.registerDep(Fr,Mn),!Yn.el){const Er=Fr.subTree=createVNode(Comment);bn(null,Er,Qn,rr)}}else Mn(Fr,Yn,Qn,rr,Ar,Br,Vr)},Dn=(Yn,Qn,rr)=>{const gr=Qn.component=Yn.component;if(shouldUpdateComponent(Yn,Qn,rr))if(gr.asyncDep&&!gr.asyncResolved){Bn(gr,Qn,rr);return}else gr.next=Qn,invalidateJob(gr.update),gr.effect.dirty=!0,gr.update();else Qn.el=Yn.el,gr.vnode=Qn},Mn=(Yn,Qn,rr,gr,Ar,Br,Vr)=>{const Fr=()=>{if(Yn.isMounted){let{next:Pr,bu:$r,u:Lr,parent:Or,vnode:Hr}=Yn;{const ur=locateNonHydratedAsyncRoot(Yn);if(ur){Pr&&(Pr.el=Hr.el,Bn(Yn,Pr,Vr)),ur.asyncDep.then(()=>{Yn.isUnmounted||Fr()});return}}let qr=Pr,ao;toggleRecurse(Yn,!1),Pr?(Pr.el=Hr.el,Bn(Yn,Pr,Vr)):Pr=Hr,$r&&invokeArrayFns($r),(ao=Pr.props&&Pr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ao,Or,Pr,Hr),toggleRecurse(Yn,!0);const Ur=renderComponentRoot(Yn),_r=Yn.subTree;Yn.subTree=Ur,hn(_r,Ur,Ve(_r.el),Jn(_r),Yn,Ar,Br),Pr.el=Ur.el,qr===null&&updateHOCHostEl(Yn,Ur.el),Lr&&queuePostRenderEffect(Lr,Ar),(ao=Pr.props&&Pr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ao,Or,Pr,Hr),Ar)}else{let Pr;const{el:$r,props:Lr}=Qn,{bm:Or,m:Hr,parent:qr}=Yn,ao=isAsyncWrapper(Qn);if(toggleRecurse(Yn,!1),Or&&invokeArrayFns(Or),!ao&&(Pr=Lr&&Lr.onVnodeBeforeMount)&&invokeVNodeHook(Pr,qr,Qn),toggleRecurse(Yn,!0),$r&&Sr){const Ur=()=>{Yn.subTree=renderComponentRoot(Yn),Sr($r,Yn.subTree,Yn,Ar,null)};ao?Qn.type.__asyncLoader().then(()=>!Yn.isUnmounted&&Ur()):Ur()}else{const Ur=Yn.subTree=renderComponentRoot(Yn);hn(null,Ur,rr,gr,Yn,Ar,Br),Qn.el=Ur.el}if(Hr&&queuePostRenderEffect(Hr,Ar),!ao&&(Pr=Lr&&Lr.onVnodeMounted)){const Ur=Qn;queuePostRenderEffect(()=>invokeVNodeHook(Pr,qr,Ur),Ar)}(Qn.shapeFlag&256||qr&&isAsyncWrapper(qr.vnode)&&qr.vnode.shapeFlag&256)&&Yn.a&&queuePostRenderEffect(Yn.a,Ar),Yn.isMounted=!0,Qn=rr=gr=null}},Er=Yn.effect=new ReactiveEffect(Fr,NOOP,()=>queueJob(Dr),Yn.scope),Dr=Yn.update=()=>{Er.dirty&&Er.run()};Dr.id=Yn.uid,toggleRecurse(Yn,!0),Dr()},Bn=(Yn,Qn,rr)=>{Qn.component=Yn;const gr=Yn.vnode.props;Yn.vnode=Qn,Yn.next=null,updateProps(Yn,Qn.props,gr,rr),updateSlots(Yn,Qn.children,rr),pauseTracking(),flushPreFlushCbs(Yn),resetTracking()},$n=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er=!1)=>{const Dr=Yn&&Yn.children,Pr=Yn?Yn.shapeFlag:0,$r=Qn.children,{patchFlag:Lr,shapeFlag:Or}=Qn;if(Lr>0){if(Lr&128){Un(Dr,$r,rr,gr,Ar,Br,Vr,Fr,Er);return}else if(Lr&256){Fn(Dr,$r,rr,gr,Ar,Br,Vr,Fr,Er);return}}Or&8?(Pr&16&&cr(Dr,Ar,Br),$r!==Dr&&ze(rr,$r)):Pr&16?Or&16?Un(Dr,$r,rr,gr,Ar,Br,Vr,Fr,Er):cr(Dr,Ar,Br,!0):(Pr&8&&ze(rr,""),Or&16&&Ln($r,rr,gr,Ar,Br,Vr,Fr,Er))},Fn=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er)=>{Yn=Yn||EMPTY_ARR,Qn=Qn||EMPTY_ARR;const Dr=Yn.length,Pr=Qn.length,$r=Math.min(Dr,Pr);let Lr;for(Lr=0;Lr<$r;Lr++){const Or=Qn[Lr]=Er?cloneIfMounted(Qn[Lr]):normalizeVNode(Qn[Lr]);hn(Yn[Lr],Or,rr,null,Ar,Br,Vr,Fr,Er)}Dr>Pr?cr(Yn,Ar,Br,!0,!1,$r):Ln(Qn,rr,gr,Ar,Br,Vr,Fr,Er,$r)},Un=(Yn,Qn,rr,gr,Ar,Br,Vr,Fr,Er)=>{let Dr=0;const Pr=Qn.length;let $r=Yn.length-1,Lr=Pr-1;for(;Dr<=$r&&Dr<=Lr;){const Or=Yn[Dr],Hr=Qn[Dr]=Er?cloneIfMounted(Qn[Dr]):normalizeVNode(Qn[Dr]);if(isSameVNodeType(Or,Hr))hn(Or,Hr,rr,null,Ar,Br,Vr,Fr,Er);else break;Dr++}for(;Dr<=$r&&Dr<=Lr;){const Or=Yn[$r],Hr=Qn[Lr]=Er?cloneIfMounted(Qn[Lr]):normalizeVNode(Qn[Lr]);if(isSameVNodeType(Or,Hr))hn(Or,Hr,rr,null,Ar,Br,Vr,Fr,Er);else break;$r--,Lr--}if(Dr>$r){if(Dr<=Lr){const Or=Lr+1,Hr=Or<Pr?Qn[Or].el:gr;for(;Dr<=Lr;)hn(null,Qn[Dr]=Er?cloneIfMounted(Qn[Dr]):normalizeVNode(Qn[Dr]),rr,Hr,Ar,Br,Vr,Fr,Er),Dr++}}else if(Dr>Lr)for(;Dr<=$r;)Wn(Yn[Dr],Ar,Br,!0),Dr++;else{const Or=Dr,Hr=Dr,qr=new Map;for(Dr=Hr;Dr<=Lr;Dr++){const Mr=Qn[Dr]=Er?cloneIfMounted(Qn[Dr]):normalizeVNode(Qn[Dr]);Mr.key!=null&&qr.set(Mr.key,Dr)}let ao,Ur=0;const _r=Lr-Hr+1;let ur=!1,kr=0;const lr=new Array(_r);for(Dr=0;Dr<_r;Dr++)lr[Dr]=0;for(Dr=Or;Dr<=$r;Dr++){const Mr=Yn[Dr];if(Ur>=_r){Wn(Mr,Ar,Br,!0);continue}let vr;if(Mr.key!=null)vr=qr.get(Mr.key);else for(ao=Hr;ao<=Lr;ao++)if(lr[ao-Hr]===0&&isSameVNodeType(Mr,Qn[ao])){vr=ao;break}vr===void 0?Wn(Mr,Ar,Br,!0):(lr[vr-Hr]=Dr+1,vr>=kr?kr=vr:ur=!0,hn(Mr,Qn[vr],rr,null,Ar,Br,Vr,Fr,Er),Ur++)}const br=ur?getSequence(lr):EMPTY_ARR;for(ao=br.length-1,Dr=_r-1;Dr>=0;Dr--){const Mr=Hr+Dr,vr=Qn[Mr],jr=Mr+1<Pr?Qn[Mr+1].el:gr;lr[Dr]===0?hn(null,vr,rr,jr,Ar,Br,Vr,Fr,Er):ur&&(ao<0||Dr!==br[ao]?Hn(vr,rr,jr,2):ao--)}}},Hn=(Yn,Qn,rr,gr,Ar=null)=>{const{el:Br,type:Vr,transition:Fr,children:Er,shapeFlag:Dr}=Yn;if(Dr&6){Hn(Yn.component.subTree,Qn,rr,gr);return}if(Dr&128){Yn.suspense.move(Qn,rr,gr);return}if(Dr&64){Vr.move(Yn,Qn,rr,yr);return}if(Vr===Fragment$1){Ce(Br,Qn,rr);for(let $r=0;$r<Er.length;$r++)Hn(Er[$r],Qn,rr,gr);Ce(Yn.anchor,Qn,rr);return}if(Vr===Static){xn(Yn,Qn,rr);return}if(gr!==2&&Dr&1&&Fr)if(gr===0)Fr.beforeEnter(Br),Ce(Br,Qn,rr),queuePostRenderEffect(()=>Fr.enter(Br),Ar);else{const{leave:$r,delayLeave:Lr,afterLeave:Or}=Fr,Hr=()=>Ce(Br,Qn,rr),qr=()=>{$r(Br,()=>{Hr(),Or&&Or()})};Lr?Lr(Br,Hr,qr):qr()}else Ce(Br,Qn,rr)},Wn=(Yn,Qn,rr,gr=!1,Ar=!1)=>{const{type:Br,props:Vr,ref:Fr,children:Er,dynamicChildren:Dr,shapeFlag:Pr,patchFlag:$r,dirs:Lr}=Yn;if(Fr!=null&&setRef(Fr,null,rr,Yn,!0),Pr&256){Qn.ctx.deactivate(Yn);return}const Or=Pr&1&&Lr,Hr=!isAsyncWrapper(Yn);let qr;if(Hr&&(qr=Vr&&Vr.onVnodeBeforeUnmount)&&invokeVNodeHook(qr,Qn,Yn),Pr&6)fr(Yn.component,rr,gr);else{if(Pr&128){Yn.suspense.unmount(rr,gr);return}Or&&invokeDirectiveHook(Yn,null,Qn,"beforeUnmount"),Pr&64?Yn.type.remove(Yn,Qn,rr,Ar,yr,gr):Dr&&(Br!==Fragment$1||$r>0&&$r&64)?cr(Dr,Qn,rr,!1,!0):(Br===Fragment$1&&$r&384||!Ar&&Pr&16)&&cr(Er,Qn,rr),gr&&Xn(Yn)}(Hr&&(qr=Vr&&Vr.onVnodeUnmounted)||Or)&&queuePostRenderEffect(()=>{qr&&invokeVNodeHook(qr,Qn,Yn),Or&&invokeDirectiveHook(Yn,null,Qn,"unmounted")},rr)},Xn=Yn=>{const{type:Qn,el:rr,anchor:gr,transition:Ar}=Yn;if(Qn===Fragment$1){or(rr,gr);return}if(Qn===Static){Sn(Yn);return}const Br=()=>{Ie(rr),Ar&&!Ar.persisted&&Ar.afterLeave&&Ar.afterLeave()};if(Yn.shapeFlag&1&&Ar&&!Ar.persisted){const{leave:Vr,delayLeave:Fr}=Ar,Er=()=>Vr(rr,Br);Fr?Fr(Yn.el,Br,Er):Er()}else Br()},or=(Yn,Qn)=>{let rr;for(;Yn!==Qn;)rr=qe(Yn),Ie(Yn),Yn=rr;Ie(Qn)},fr=(Yn,Qn,rr)=>{const{bum:gr,scope:Ar,update:Br,subTree:Vr,um:Fr}=Yn;gr&&invokeArrayFns(gr),Ar.stop(),Br&&(Br.active=!1,Wn(Vr,Yn,Qn,rr)),Fr&&queuePostRenderEffect(Fr,Qn),queuePostRenderEffect(()=>{Yn.isUnmounted=!0},Qn),Qn&&Qn.pendingBranch&&!Qn.isUnmounted&&Yn.asyncDep&&!Yn.asyncResolved&&Yn.suspenseId===Qn.pendingId&&(Qn.deps--,Qn.deps===0&&Qn.resolve())},cr=(Yn,Qn,rr,gr=!1,Ar=!1,Br=0)=>{for(let Vr=Br;Vr<Yn.length;Vr++)Wn(Yn[Vr],Qn,rr,gr,Ar)},Jn=Yn=>Yn.shapeFlag&6?Jn(Yn.component.subTree):Yn.shapeFlag&128?Yn.suspense.next():qe(Yn.anchor||Yn.el);let mr=!1;const Ir=(Yn,Qn,rr)=>{Yn==null?Qn._vnode&&Wn(Qn._vnode,null,null,!0):hn(Qn._vnode||null,Yn,Qn,null,null,null,rr),mr||(mr=!0,flushPreFlushCbs(),flushPostFlushCbs(),mr=!1),Qn._vnode=Yn},yr={p:hn,um:Wn,m:Hn,r:Xn,mt:On,mc:Ln,pc:$n,pbc:kn,n:Jn,o:xe};let Tr,Sr;return pe&&([Tr,Sr]=pe(yr)),{render:Ir,hydrate:Tr,createApp:createAppAPI(Ir,Tr)}}function resolveChildrenNamespace({type:xe,props:pe},_e){return _e==="svg"&&xe==="foreignObject"||_e==="mathml"&&xe==="annotation-xml"&&pe&&pe.encoding&&pe.encoding.includes("html")?void 0:_e}function toggleRecurse({effect:xe,update:pe},_e){xe.allowRecurse=pe.allowRecurse=_e}function needTransition(xe,pe){return(!xe||xe&&!xe.pendingBranch)&&pe&&!pe.persisted}function traverseStaticChildren(xe,pe,_e=!1){const Ce=xe.children,Ie=pe.children;if(isArray$4(Ce)&&isArray$4(Ie))for(let Oe=0;Oe<Ce.length;Oe++){const Ne=Ce[Oe];let Fe=Ie[Oe];Fe.shapeFlag&1&&!Fe.dynamicChildren&&((Fe.patchFlag<=0||Fe.patchFlag===32)&&(Fe=Ie[Oe]=cloneIfMounted(Ie[Oe]),Fe.el=Ne.el),_e||traverseStaticChildren(Ne,Fe)),Fe.type===Text$1&&(Fe.el=Ne.el)}}function getSequence(xe){const pe=xe.slice(),_e=[0];let Ce,Ie,Oe,Ne,Fe;const Ue=xe.length;for(Ce=0;Ce<Ue;Ce++){const $e=xe[Ce];if($e!==0){if(Ie=_e[_e.length-1],xe[Ie]<$e){pe[Ce]=Ie,_e.push(Ce);continue}for(Oe=0,Ne=_e.length-1;Oe<Ne;)Fe=Oe+Ne>>1,xe[_e[Fe]]<$e?Oe=Fe+1:Ne=Fe;$e<xe[_e[Oe]]&&(Oe>0&&(pe[Ce]=_e[Oe-1]),_e[Oe]=Ce)}}for(Oe=_e.length,Ne=_e[Oe-1];Oe-- >0;)_e[Oe]=Ne,Ne=pe[Ne];return _e}function locateNonHydratedAsyncRoot(xe){const pe=xe.subTree.component;if(pe)return pe.asyncDep&&!pe.asyncResolved?pe:locateNonHydratedAsyncRoot(pe)}const isTeleport=xe=>xe.__isTeleport,isTeleportDisabled=xe=>xe&&(xe.disabled||xe.disabled===""),isTargetSVG=xe=>typeof SVGElement<"u"&&xe instanceof SVGElement,isTargetMathML=xe=>typeof MathMLElement=="function"&&xe instanceof MathMLElement,resolveTarget=(xe,pe)=>{const _e=xe&&xe.to;return isString$3(_e)?pe?pe(_e):null:_e},TeleportImpl={name:"Teleport",__isTeleport:!0,process(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue,$e){const{mc:ze,pc:Ve,pbc:qe,o:{insert:En,querySelector:vn,createText:hn,createComment:_n}}=$e,bn=isTeleportDisabled(pe.props);let{shapeFlag:An,children:xn,dynamicChildren:Sn}=pe;if(xe==null){const Cn=pe.el=hn(""),Tn=pe.anchor=hn("");En(Cn,_e,Ce),En(Tn,_e,Ce);const wn=pe.target=resolveTarget(pe.props,vn),Ln=pe.targetAnchor=hn("");wn&&(En(Ln,wn),Ne==="svg"||isTargetSVG(wn)?Ne="svg":(Ne==="mathml"||isTargetMathML(wn))&&(Ne="mathml"));const Pn=(kn,In)=>{An&16&&ze(xn,kn,In,Ie,Oe,Ne,Fe,Ue)};bn?Pn(_e,Tn):wn&&Pn(wn,Ln)}else{pe.el=xe.el;const Cn=pe.anchor=xe.anchor,Tn=pe.target=xe.target,wn=pe.targetAnchor=xe.targetAnchor,Ln=isTeleportDisabled(xe.props),Pn=Ln?_e:Tn,kn=Ln?Cn:wn;if(Ne==="svg"||isTargetSVG(Tn)?Ne="svg":(Ne==="mathml"||isTargetMathML(Tn))&&(Ne="mathml"),Sn?(qe(xe.dynamicChildren,Sn,Pn,Ie,Oe,Ne,Fe),traverseStaticChildren(xe,pe,!0)):Ue||Ve(xe,pe,Pn,kn,Ie,Oe,Ne,Fe,!1),bn)Ln?pe.props&&xe.props&&pe.props.to!==xe.props.to&&(pe.props.to=xe.props.to):moveTeleport(pe,_e,Cn,$e,1);else if((pe.props&&pe.props.to)!==(xe.props&&xe.props.to)){const In=pe.target=resolveTarget(pe.props,vn);In&&moveTeleport(pe,In,null,$e,0)}else Ln&&moveTeleport(pe,Tn,wn,$e,1)}updateCssVars(pe)},remove(xe,pe,_e,Ce,{um:Ie,o:{remove:Oe}},Ne){const{shapeFlag:Fe,children:Ue,anchor:$e,targetAnchor:ze,target:Ve,props:qe}=xe;if(Ve&&Oe(ze),Ne&&Oe($e),Fe&16){const En=Ne||!isTeleportDisabled(qe);for(let vn=0;vn<Ue.length;vn++){const hn=Ue[vn];Ie(hn,pe,_e,En,!!hn.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(xe,pe,_e,{o:{insert:Ce},m:Ie},Oe=2){Oe===0&&Ce(xe.targetAnchor,pe,_e);const{el:Ne,anchor:Fe,shapeFlag:Ue,children:$e,props:ze}=xe,Ve=Oe===2;if(Ve&&Ce(Ne,pe,_e),(!Ve||isTeleportDisabled(ze))&&Ue&16)for(let qe=0;qe<$e.length;qe++)Ie($e[qe],pe,_e,2);Ve&&Ce(Fe,pe,_e)}function hydrateTeleport(xe,pe,_e,Ce,Ie,Oe,{o:{nextSibling:Ne,parentNode:Fe,querySelector:Ue}},$e){const ze=pe.target=resolveTarget(pe.props,Ue);if(ze){const Ve=ze._lpa||ze.firstChild;if(pe.shapeFlag&16)if(isTeleportDisabled(pe.props))pe.anchor=$e(Ne(xe),pe,Fe(xe),_e,Ce,Ie,Oe),pe.targetAnchor=Ve;else{pe.anchor=Ne(xe);let qe=Ve;for(;qe;)if(qe=Ne(qe),qe&&qe.nodeType===8&&qe.data==="teleport anchor"){pe.targetAnchor=qe,ze._lpa=pe.targetAnchor&&Ne(pe.targetAnchor);break}$e(Ve,pe,ze,_e,Ce,Ie,Oe)}updateCssVars(pe)}return pe.anchor&&Ne(pe.anchor)}const Teleport=TeleportImpl;function updateCssVars(xe){const pe=xe.ctx;if(pe&&pe.ut){let _e=xe.children[0].el;for(;_e&&_e!==xe.targetAnchor;)_e.nodeType===1&&_e.setAttribute("data-v-owner",pe.uid),_e=_e.nextSibling;pe.ut()}}const Fragment$1=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(xe=!1){blockStack.push(currentBlock=xe?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(xe){isBlockTreeEnabled+=xe}function setupBlock(xe){return xe.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(xe),xe}function createElementBlock(xe,pe,_e,Ce,Ie,Oe){return setupBlock(createBaseVNode(xe,pe,_e,Ce,Ie,Oe,!0))}function createBlock(xe,pe,_e,Ce,Ie){return setupBlock(createVNode(xe,pe,_e,Ce,Ie,!0))}function isVNode(xe){return xe?xe.__v_isVNode===!0:!1}function isSameVNodeType(xe,pe){return xe.type===pe.type&&xe.key===pe.key}const InternalObjectKey="__vInternal",normalizeKey=({key:xe})=>xe!=null?xe:null,normalizeRef=({ref:xe,ref_key:pe,ref_for:_e})=>(typeof xe=="number"&&(xe=""+xe),xe!=null?isString$3(xe)||isRef(xe)||isFunction$2(xe)?{i:currentRenderingInstance,r:xe,k:pe,f:!!_e}:xe:null);function createBaseVNode(xe,pe=null,_e=null,Ce=0,Ie=null,Oe=xe===Fragment$1?0:1,Ne=!1,Fe=!1){const Ue={__v_isVNode:!0,__v_skip:!0,type:xe,props:pe,key:pe&&normalizeKey(pe),ref:pe&&normalizeRef(pe),scopeId:currentScopeId,slotScopeIds:null,children:_e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Oe,patchFlag:Ce,dynamicProps:Ie,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Fe?(normalizeChildren(Ue,_e),Oe&128&&xe.normalize(Ue)):_e&&(Ue.shapeFlag|=isString$3(_e)?8:16),isBlockTreeEnabled>0&&!Ne&&currentBlock&&(Ue.patchFlag>0||Oe&6)&&Ue.patchFlag!==32&&currentBlock.push(Ue),Ue}const createVNode=_createVNode;function _createVNode(xe,pe=null,_e=null,Ce=0,Ie=null,Oe=!1){if((!xe||xe===NULL_DYNAMIC_COMPONENT)&&(xe=Comment),isVNode(xe)){const Fe=cloneVNode(xe,pe,!0);return _e&&normalizeChildren(Fe,_e),isBlockTreeEnabled>0&&!Oe&&currentBlock&&(Fe.shapeFlag&6?currentBlock[currentBlock.indexOf(xe)]=Fe:currentBlock.push(Fe)),Fe.patchFlag|=-2,Fe}if(isClassComponent(xe)&&(xe=xe.__vccOpts),pe){pe=guardReactiveProps(pe);let{class:Fe,style:Ue}=pe;Fe&&!isString$3(Fe)&&(pe.class=normalizeClass(Fe)),isObject$3(Ue)&&(isProxy(Ue)&&!isArray$4(Ue)&&(Ue=extend({},Ue)),pe.style=normalizeStyle$1(Ue))}const Ne=isString$3(xe)?1:isSuspense(xe)?128:isTeleport(xe)?64:isObject$3(xe)?4:isFunction$2(xe)?2:0;return createBaseVNode(xe,pe,_e,Ce,Ie,Ne,Oe,!0)}function guardReactiveProps(xe){return xe?isProxy(xe)||InternalObjectKey in xe?extend({},xe):xe:null}function cloneVNode(xe,pe,_e=!1){const{props:Ce,ref:Ie,patchFlag:Oe,children:Ne}=xe,Fe=pe?mergeProps(Ce||{},pe):Ce;return{__v_isVNode:!0,__v_skip:!0,type:xe.type,props:Fe,key:Fe&&normalizeKey(Fe),ref:pe&&pe.ref?_e&&Ie?isArray$4(Ie)?Ie.concat(normalizeRef(pe)):[Ie,normalizeRef(pe)]:normalizeRef(pe):Ie,scopeId:xe.scopeId,slotScopeIds:xe.slotScopeIds,children:Ne,target:xe.target,targetAnchor:xe.targetAnchor,staticCount:xe.staticCount,shapeFlag:xe.shapeFlag,patchFlag:pe&&xe.type!==Fragment$1?Oe===-1?16:Oe|16:Oe,dynamicProps:xe.dynamicProps,dynamicChildren:xe.dynamicChildren,appContext:xe.appContext,dirs:xe.dirs,transition:xe.transition,component:xe.component,suspense:xe.suspense,ssContent:xe.ssContent&&cloneVNode(xe.ssContent),ssFallback:xe.ssFallback&&cloneVNode(xe.ssFallback),el:xe.el,anchor:xe.anchor,ctx:xe.ctx,ce:xe.ce}}function createTextVNode(xe=" ",pe=0){return createVNode(Text$1,null,xe,pe)}function createStaticVNode(xe,pe){const _e=createVNode(Static,null,xe);return _e.staticCount=pe,_e}function createCommentVNode(xe="",pe=!1){return pe?(openBlock(),createBlock(Comment,null,xe)):createVNode(Comment,null,xe)}function normalizeVNode(xe){return xe==null||typeof xe=="boolean"?createVNode(Comment):isArray$4(xe)?createVNode(Fragment$1,null,xe.slice()):typeof xe=="object"?cloneIfMounted(xe):createVNode(Text$1,null,String(xe))}function cloneIfMounted(xe){return xe.el===null&&xe.patchFlag!==-1||xe.memo?xe:cloneVNode(xe)}function normalizeChildren(xe,pe){let _e=0;const{shapeFlag:Ce}=xe;if(pe==null)pe=null;else if(isArray$4(pe))_e=16;else if(typeof pe=="object")if(Ce&65){const Ie=pe.default;Ie&&(Ie._c&&(Ie._d=!1),normalizeChildren(xe,Ie()),Ie._c&&(Ie._d=!0));return}else{_e=32;const Ie=pe._;!Ie&&!(InternalObjectKey in pe)?pe._ctx=currentRenderingInstance:Ie===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?pe._=1:(pe._=2,xe.patchFlag|=1024))}else isFunction$2(pe)?(pe={default:pe,_ctx:currentRenderingInstance},_e=32):(pe=String(pe),Ce&64?(_e=16,pe=[createTextVNode(pe)]):_e=8);xe.children=pe,xe.shapeFlag|=_e}function mergeProps(...xe){const pe={};for(let _e=0;_e<xe.length;_e++){const Ce=xe[_e];for(const Ie in Ce)if(Ie==="class")pe.class!==Ce.class&&(pe.class=normalizeClass([pe.class,Ce.class]));else if(Ie==="style")pe.style=normalizeStyle$1([pe.style,Ce.style]);else if(isOn(Ie)){const Oe=pe[Ie],Ne=Ce[Ie];Ne&&Oe!==Ne&&!(isArray$4(Oe)&&Oe.includes(Ne))&&(pe[Ie]=Oe?[].concat(Oe,Ne):Ne)}else Ie!==""&&(pe[Ie]=Ce[Ie])}return pe}function invokeVNodeHook(xe,pe,_e,Ce=null){callWithAsyncErrorHandling(xe,pe,7,[_e,Ce])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(xe,pe,_e){const Ce=xe.type,Ie=(pe?pe.appContext:xe.appContext)||emptyAppContext,Oe={uid:uid$2++,vnode:xe,type:Ce,parent:pe,appContext:Ie,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:pe?pe.provides:Object.create(Ie.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(Ce,Ie),emitsOptions:normalizeEmitsOptions(Ce,Ie),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:Ce.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:_e,suspenseId:_e?_e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Oe.ctx={_:Oe},Oe.root=pe?pe.root:Oe,Oe.emit=emit.bind(null,Oe),xe.ce&&xe.ce(Oe),Oe}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const xe=getGlobalThis(),pe=(_e,Ce)=>{let Ie;return(Ie=xe[_e])||(Ie=xe[_e]=[]),Ie.push(Ce),Oe=>{Ie.length>1?Ie.forEach(Ne=>Ne(Oe)):Ie[0](Oe)}};internalSetCurrentInstance=pe("__VUE_INSTANCE_SETTERS__",_e=>currentInstance=_e),setInSSRSetupState=pe("__VUE_SSR_SETTERS__",_e=>isInSSRComponentSetup=_e)}const setCurrentInstance=xe=>{const pe=currentInstance;return internalSetCurrentInstance(xe),xe.scope.on(),()=>{xe.scope.off(),internalSetCurrentInstance(pe)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(xe){return xe.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(xe,pe=!1){pe&&setInSSRSetupState(pe);const{props:_e,children:Ce}=xe.vnode,Ie=isStatefulComponent(xe);initProps(xe,_e,Ie,pe),initSlots(xe,Ce);const Oe=Ie?setupStatefulComponent(xe,pe):void 0;return pe&&setInSSRSetupState(!1),Oe}function setupStatefulComponent(xe,pe){const _e=xe.type;xe.accessCache=Object.create(null),xe.proxy=markRaw(new Proxy(xe.ctx,PublicInstanceProxyHandlers));const{setup:Ce}=_e;if(Ce){const Ie=xe.setupContext=Ce.length>1?createSetupContext(xe):null,Oe=setCurrentInstance(xe);pauseTracking();const Ne=callWithErrorHandling(Ce,xe,0,[xe.props,Ie]);if(resetTracking(),Oe(),isPromise$1(Ne)){if(Ne.then(unsetCurrentInstance,unsetCurrentInstance),pe)return Ne.then(Fe=>{handleSetupResult(xe,Fe,pe)}).catch(Fe=>{handleError(Fe,xe,0)});xe.asyncDep=Ne}else handleSetupResult(xe,Ne,pe)}else finishComponentSetup(xe,pe)}function handleSetupResult(xe,pe,_e){isFunction$2(pe)?xe.type.__ssrInlineRender?xe.ssrRender=pe:xe.render=pe:isObject$3(pe)&&(xe.setupState=proxyRefs(pe)),finishComponentSetup(xe,_e)}let compile$1;function finishComponentSetup(xe,pe,_e){const Ce=xe.type;if(!xe.render){if(!pe&&compile$1&&!Ce.render){const Ie=Ce.template||resolveMergedOptions(xe).template;if(Ie){const{isCustomElement:Oe,compilerOptions:Ne}=xe.appContext.config,{delimiters:Fe,compilerOptions:Ue}=Ce,$e=extend(extend({isCustomElement:Oe,delimiters:Fe},Ne),Ue);Ce.render=compile$1(Ie,$e)}}xe.render=Ce.render||NOOP}{const Ie=setCurrentInstance(xe);pauseTracking();try{applyOptions(xe)}finally{resetTracking(),Ie()}}}function getAttrsProxy(xe){return xe.attrsProxy||(xe.attrsProxy=new Proxy(xe.attrs,{get(pe,_e){return track(xe,"get","$attrs"),pe[_e]}}))}function createSetupContext(xe){const pe=_e=>{xe.exposed=_e||{}};return{get attrs(){return getAttrsProxy(xe)},slots:xe.slots,emit:xe.emit,expose:pe}}function getExposeProxy(xe){if(xe.exposed)return xe.exposeProxy||(xe.exposeProxy=new Proxy(proxyRefs(markRaw(xe.exposed)),{get(pe,_e){if(_e in pe)return pe[_e];if(_e in publicPropertiesMap)return publicPropertiesMap[_e](xe)},has(pe,_e){return _e in pe||_e in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=xe=>xe.replace(classifyRE,pe=>pe.toUpperCase()).replace(/[-_]/g,"");function getComponentName(xe,pe=!0){return isFunction$2(xe)?xe.displayName||xe.name:xe.name||pe&&xe.__name}function formatComponentName(xe,pe,_e=!1){let Ce=getComponentName(pe);if(!Ce&&pe.__file){const Ie=pe.__file.match(/([^/\\]+)\.\w+$/);Ie&&(Ce=Ie[1])}if(!Ce&&xe&&xe.parent){const Ie=Oe=>{for(const Ne in Oe)if(Oe[Ne]===pe)return Ne};Ce=Ie(xe.components||xe.parent.type.components)||Ie(xe.appContext.components)}return Ce?classify(Ce):_e?"App":"Anonymous"}function isClassComponent(xe){return isFunction$2(xe)&&"__vccOpts"in xe}const computed=(xe,pe)=>computed$1(xe,pe,isInSSRComponentSetup);function useModel(xe,pe,_e=EMPTY_OBJ){const Ce=getCurrentInstance(),Ie=camelize(pe),Oe=hyphenate(pe),Ne=customRef((Ue,$e)=>{let ze;return watchSyncEffect(()=>{const Ve=xe[pe];hasChanged(ze,Ve)&&(ze=Ve,$e())}),{get(){return Ue(),_e.get?_e.get(ze):ze},set(Ve){const qe=Ce.vnode.props;!(qe&&(pe in qe||Ie in qe||Oe in qe)&&("onUpdate:".concat(pe)in qe||"onUpdate:".concat(Ie)in qe||"onUpdate:".concat(Oe)in qe))&&hasChanged(Ve,ze)&&(ze=Ve,$e()),Ce.emit("update:".concat(pe),_e.set?_e.set(Ve):Ve)}}}),Fe=pe==="modelValue"?"modelModifiers":"".concat(pe,"Modifiers");return Ne[Symbol.iterator]=()=>{let Ue=0;return{next(){return Ue<2?{value:Ue++?xe[Fe]||{}:Ne,done:!1}:{done:!0}}}},Ne}function h$1(xe,pe,_e){const Ce=arguments.length;return Ce===2?isObject$3(pe)&&!isArray$4(pe)?isVNode(pe)?createVNode(xe,null,[pe]):createVNode(xe,pe):createVNode(xe,null,pe):(Ce>3?_e=Array.prototype.slice.call(arguments,2):Ce===3&&isVNode(_e)&&(_e=[_e]),createVNode(xe,pe,_e))}const version$1="3.4.21",warn=NOOP;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(xe,pe,_e)=>{pe.insertBefore(xe,_e||null)},remove:xe=>{const pe=xe.parentNode;pe&&pe.removeChild(xe)},createElement:(xe,pe,_e,Ce)=>{const Ie=pe==="svg"?doc.createElementNS(svgNS,xe):pe==="mathml"?doc.createElementNS(mathmlNS,xe):doc.createElement(xe,_e?{is:_e}:void 0);return xe==="select"&&Ce&&Ce.multiple!=null&&Ie.setAttribute("multiple",Ce.multiple),Ie},createText:xe=>doc.createTextNode(xe),createComment:xe=>doc.createComment(xe),setText:(xe,pe)=>{xe.nodeValue=pe},setElementText:(xe,pe)=>{xe.textContent=pe},parentNode:xe=>xe.parentNode,nextSibling:xe=>xe.nextSibling,querySelector:xe=>doc.querySelector(xe),setScopeId(xe,pe){xe.setAttribute(pe,"")},insertStaticContent(xe,pe,_e,Ce,Ie,Oe){const Ne=_e?_e.previousSibling:pe.lastChild;if(Ie&&(Ie===Oe||Ie.nextSibling))for(;pe.insertBefore(Ie.cloneNode(!0),_e),!(Ie===Oe||!(Ie=Ie.nextSibling)););else{templateContainer.innerHTML=Ce==="svg"?"<svg>".concat(xe,"</svg>"):Ce==="mathml"?"<math>".concat(xe,"</math>"):xe;const Fe=templateContainer.content;if(Ce==="svg"||Ce==="mathml"){const Ue=Fe.firstChild;for(;Ue.firstChild;)Fe.appendChild(Ue.firstChild);Fe.removeChild(Ue)}pe.insertBefore(Fe,_e)}return[Ne?Ne.nextSibling:pe.firstChild,_e?_e.previousSibling:pe.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(xe,{slots:pe})=>h$1(BaseTransition,resolveTransitionProps(xe),pe);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(xe,pe=[])=>{isArray$4(xe)?xe.forEach(_e=>_e(...pe)):xe&&xe(...pe)},hasExplicitCallback=xe=>xe?isArray$4(xe)?xe.some(pe=>pe.length>1):xe.length>1:!1;function resolveTransitionProps(xe){const pe={};for(const Rn in xe)Rn in DOMTransitionPropsValidators||(pe[Rn]=xe[Rn]);if(xe.css===!1)return pe;const{name:_e="v",type:Ce,duration:Ie,enterFromClass:Oe="".concat(_e,"-enter-from"),enterActiveClass:Ne="".concat(_e,"-enter-active"),enterToClass:Fe="".concat(_e,"-enter-to"),appearFromClass:Ue=Oe,appearActiveClass:$e=Ne,appearToClass:ze=Fe,leaveFromClass:Ve="".concat(_e,"-leave-from"),leaveActiveClass:qe="".concat(_e,"-leave-active"),leaveToClass:En="".concat(_e,"-leave-to")}=xe,vn=normalizeDuration(Ie),hn=vn&&vn[0],_n=vn&&vn[1],{onBeforeEnter:bn,onEnter:An,onEnterCancelled:xn,onLeave:Sn,onLeaveCancelled:Cn,onBeforeAppear:Tn=bn,onAppear:wn=An,onAppearCancelled:Ln=xn}=pe,Pn=(Rn,Nn,On)=>{removeTransitionClass(Rn,Nn?ze:Fe),removeTransitionClass(Rn,Nn?$e:Ne),On&&On()},kn=(Rn,Nn)=>{Rn._isLeaving=!1,removeTransitionClass(Rn,Ve),removeTransitionClass(Rn,En),removeTransitionClass(Rn,qe),Nn&&Nn()},In=Rn=>(Nn,On)=>{const Dn=Rn?wn:An,Mn=()=>Pn(Nn,Rn,On);callHook(Dn,[Nn,Mn]),nextFrame(()=>{removeTransitionClass(Nn,Rn?Ue:Oe),addTransitionClass(Nn,Rn?ze:Fe),hasExplicitCallback(Dn)||whenTransitionEnds(Nn,Ce,hn,Mn)})};return extend(pe,{onBeforeEnter(Rn){callHook(bn,[Rn]),addTransitionClass(Rn,Oe),addTransitionClass(Rn,Ne)},onBeforeAppear(Rn){callHook(Tn,[Rn]),addTransitionClass(Rn,Ue),addTransitionClass(Rn,$e)},onEnter:In(!1),onAppear:In(!0),onLeave(Rn,Nn){Rn._isLeaving=!0;const On=()=>kn(Rn,Nn);addTransitionClass(Rn,Ve),forceReflow(),addTransitionClass(Rn,qe),nextFrame(()=>{Rn._isLeaving&&(removeTransitionClass(Rn,Ve),addTransitionClass(Rn,En),hasExplicitCallback(Sn)||whenTransitionEnds(Rn,Ce,_n,On))}),callHook(Sn,[Rn,On])},onEnterCancelled(Rn){Pn(Rn,!1),callHook(xn,[Rn])},onAppearCancelled(Rn){Pn(Rn,!0),callHook(Ln,[Rn])},onLeaveCancelled(Rn){kn(Rn),callHook(Cn,[Rn])}})}function normalizeDuration(xe){if(xe==null)return null;if(isObject$3(xe))return[NumberOf(xe.enter),NumberOf(xe.leave)];{const pe=NumberOf(xe);return[pe,pe]}}function NumberOf(xe){return toNumber$1(xe)}function addTransitionClass(xe,pe){pe.split(/\s+/).forEach(_e=>_e&&xe.classList.add(_e)),(xe[vtcKey]||(xe[vtcKey]=new Set)).add(pe)}function removeTransitionClass(xe,pe){pe.split(/\s+/).forEach(Ce=>Ce&&xe.classList.remove(Ce));const _e=xe[vtcKey];_e&&(_e.delete(pe),_e.size||(xe[vtcKey]=void 0))}function nextFrame(xe){requestAnimationFrame(()=>{requestAnimationFrame(xe)})}let endId=0;function whenTransitionEnds(xe,pe,_e,Ce){const Ie=xe._endId=++endId,Oe=()=>{Ie===xe._endId&&Ce()};if(_e)return setTimeout(Oe,_e);const{type:Ne,timeout:Fe,propCount:Ue}=getTransitionInfo(xe,pe);if(!Ne)return Ce();const $e=Ne+"end";let ze=0;const Ve=()=>{xe.removeEventListener($e,qe),Oe()},qe=En=>{En.target===xe&&++ze>=Ue&&Ve()};setTimeout(()=>{ze<Ue&&Ve()},Fe+1),xe.addEventListener($e,qe)}function getTransitionInfo(xe,pe){const _e=window.getComputedStyle(xe),Ce=vn=>(_e[vn]||"").split(", "),Ie=Ce("".concat(TRANSITION,"Delay")),Oe=Ce("".concat(TRANSITION,"Duration")),Ne=getTimeout(Ie,Oe),Fe=Ce("".concat(ANIMATION,"Delay")),Ue=Ce("".concat(ANIMATION,"Duration")),$e=getTimeout(Fe,Ue);let ze=null,Ve=0,qe=0;pe===TRANSITION?Ne>0&&(ze=TRANSITION,Ve=Ne,qe=Oe.length):pe===ANIMATION?$e>0&&(ze=ANIMATION,Ve=$e,qe=Ue.length):(Ve=Math.max(Ne,$e),ze=Ve>0?Ne>$e?TRANSITION:ANIMATION:null,qe=ze?ze===TRANSITION?Oe.length:Ue.length:0);const En=ze===TRANSITION&&/\b(transform|all)(,|$)/.test(Ce("".concat(TRANSITION,"Property")).toString());return{type:ze,timeout:Ve,propCount:qe,hasTransform:En}}function getTimeout(xe,pe){for(;xe.length<pe.length;)xe=xe.concat(xe);return Math.max(...pe.map((_e,Ce)=>toMs(_e)+toMs(xe[Ce])))}function toMs(xe){return xe==="auto"?0:Number(xe.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(xe,pe,_e){const Ce=xe[vtcKey];Ce&&(pe=(pe?[pe,...Ce]:[...Ce]).join(" ")),pe==null?xe.removeAttribute("class"):_e?xe.setAttribute("class",pe):xe.className=pe}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(xe,{value:pe},{transition:_e}){xe[vShowOriginalDisplay]=xe.style.display==="none"?"":xe.style.display,_e&&pe?_e.beforeEnter(xe):setDisplay(xe,pe)},mounted(xe,{value:pe},{transition:_e}){_e&&pe&&_e.enter(xe)},updated(xe,{value:pe,oldValue:_e},{transition:Ce}){!pe!=!_e&&(Ce?pe?(Ce.beforeEnter(xe),setDisplay(xe,!0),Ce.enter(xe)):Ce.leave(xe,()=>{setDisplay(xe,!1)}):setDisplay(xe,pe))},beforeUnmount(xe,{value:pe}){setDisplay(xe,pe)}};function setDisplay(xe,pe){xe.style.display=pe?xe[vShowOriginalDisplay]:"none",xe[vShowHidden]=!pe}const CSS_VAR_TEXT=Symbol("");function useCssVars(xe){const pe=getCurrentInstance();if(!pe)return;const _e=pe.ut=(Ie=xe(pe.proxy))=>{Array.from(document.querySelectorAll('[data-v-owner="'.concat(pe.uid,'"]'))).forEach(Oe=>setVarsOnNode(Oe,Ie))},Ce=()=>{const Ie=xe(pe.proxy);setVarsOnVNode(pe.subTree,Ie),_e(Ie)};watchPostEffect(Ce),onMounted(()=>{const Ie=new MutationObserver(Ce);Ie.observe(pe.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>Ie.disconnect())})}function setVarsOnVNode(xe,pe){if(xe.shapeFlag&128){const _e=xe.suspense;xe=_e.activeBranch,_e.pendingBranch&&!_e.isHydrating&&_e.effects.push(()=>{setVarsOnVNode(_e.activeBranch,pe)})}for(;xe.component;)xe=xe.component.subTree;if(xe.shapeFlag&1&&xe.el)setVarsOnNode(xe.el,pe);else if(xe.type===Fragment$1)xe.children.forEach(_e=>setVarsOnVNode(_e,pe));else if(xe.type===Static){let{el:_e,anchor:Ce}=xe;for(;_e&&(setVarsOnNode(_e,pe),_e!==Ce);)_e=_e.nextSibling}}function setVarsOnNode(xe,pe){if(xe.nodeType===1){const _e=xe.style;let Ce="";for(const Ie in pe)_e.setProperty("--".concat(Ie),pe[Ie]),Ce+="--".concat(Ie,": ").concat(pe[Ie],";");_e[CSS_VAR_TEXT]=Ce}}const displayRE=/(^|;)\s*display\s*:/;function patchStyle(xe,pe,_e){const Ce=xe.style,Ie=isString$3(_e);let Oe=!1;if(_e&&!Ie){if(pe)if(isString$3(pe))for(const Ne of pe.split(";")){const Fe=Ne.slice(0,Ne.indexOf(":")).trim();_e[Fe]==null&&setStyle(Ce,Fe,"")}else for(const Ne in pe)_e[Ne]==null&&setStyle(Ce,Ne,"");for(const Ne in _e)Ne==="display"&&(Oe=!0),setStyle(Ce,Ne,_e[Ne])}else if(Ie){if(pe!==_e){const Ne=Ce[CSS_VAR_TEXT];Ne&&(_e+=";"+Ne),Ce.cssText=_e,Oe=displayRE.test(_e)}}else pe&&xe.removeAttribute("style");vShowOriginalDisplay in xe&&(xe[vShowOriginalDisplay]=Oe?Ce.display:"",xe[vShowHidden]&&(Ce.display="none"))}const importantRE=/\s*!important$/;function setStyle(xe,pe,_e){if(isArray$4(_e))_e.forEach(Ce=>setStyle(xe,pe,Ce));else if(_e==null&&(_e=""),pe.startsWith("--"))xe.setProperty(pe,_e);else{const Ce=autoPrefix(xe,pe);importantRE.test(_e)?xe.setProperty(hyphenate(Ce),_e.replace(importantRE,""),"important"):xe[Ce]=_e}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(xe,pe){const _e=prefixCache[pe];if(_e)return _e;let Ce=camelize(pe);if(Ce!=="filter"&&Ce in xe)return prefixCache[pe]=Ce;Ce=capitalize$1(Ce);for(let Ie=0;Ie<prefixes.length;Ie++){const Oe=prefixes[Ie]+Ce;if(Oe in xe)return prefixCache[pe]=Oe}return pe}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(xe,pe,_e,Ce,Ie){if(Ce&&pe.startsWith("xlink:"))_e==null?xe.removeAttributeNS(xlinkNS,pe.slice(6,pe.length)):xe.setAttributeNS(xlinkNS,pe,_e);else{const Oe=isSpecialBooleanAttr(pe);_e==null||Oe&&!includeBooleanAttr(_e)?xe.removeAttribute(pe):xe.setAttribute(pe,Oe?"":_e)}}function patchDOMProp(xe,pe,_e,Ce,Ie,Oe,Ne){if(pe==="innerHTML"||pe==="textContent"){Ce&&Ne(Ce,Ie,Oe),xe[pe]=_e==null?"":_e;return}const Fe=xe.tagName;if(pe==="value"&&Fe!=="PROGRESS"&&!Fe.includes("-")){const $e=Fe==="OPTION"?xe.getAttribute("value")||"":xe.value,ze=_e==null?"":_e;($e!==ze||!("_value"in xe))&&(xe.value=ze),_e==null&&xe.removeAttribute(pe),xe._value=_e;return}let Ue=!1;if(_e===""||_e==null){const $e=typeof xe[pe];$e==="boolean"?_e=includeBooleanAttr(_e):_e==null&&$e==="string"?(_e="",Ue=!0):$e==="number"&&(_e=0,Ue=!0)}try{xe[pe]=_e}catch($e){}Ue&&xe.removeAttribute(pe)}function addEventListener(xe,pe,_e,Ce){xe.addEventListener(pe,_e,Ce)}function removeEventListener(xe,pe,_e,Ce){xe.removeEventListener(pe,_e,Ce)}const veiKey=Symbol("_vei");function patchEvent(xe,pe,_e,Ce,Ie=null){const Oe=xe[veiKey]||(xe[veiKey]={}),Ne=Oe[pe];if(Ce&&Ne)Ne.value=Ce;else{const[Fe,Ue]=parseName(pe);if(Ce){const $e=Oe[pe]=createInvoker(Ce,Ie);addEventListener(xe,Fe,$e,Ue)}else Ne&&(removeEventListener(xe,Fe,Ne,Ue),Oe[pe]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(xe){let pe;if(optionsModifierRE.test(xe)){pe={};let Ce;for(;Ce=xe.match(optionsModifierRE);)xe=xe.slice(0,xe.length-Ce[0].length),pe[Ce[0].toLowerCase()]=!0}return[xe[2]===":"?xe.slice(3):hyphenate(xe.slice(2)),pe]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(xe,pe){const _e=Ce=>{if(!Ce._vts)Ce._vts=Date.now();else if(Ce._vts<=_e.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(Ce,_e.value),pe,5,[Ce])};return _e.value=xe,_e.attached=getNow(),_e}function patchStopImmediatePropagation(xe,pe){if(isArray$4(pe)){const _e=xe.stopImmediatePropagation;return xe.stopImmediatePropagation=()=>{_e.call(xe),xe._stopped=!0},pe.map(Ce=>Ie=>!Ie._stopped&&Ce&&Ce(Ie))}else return pe}const isNativeOn=xe=>xe.charCodeAt(0)===111&&xe.charCodeAt(1)===110&&xe.charCodeAt(2)>96&&xe.charCodeAt(2)<123,patchProp=(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue)=>{const $e=Ie==="svg";pe==="class"?patchClass(xe,Ce,$e):pe==="style"?patchStyle(xe,_e,Ce):isOn(pe)?isModelListener(pe)||patchEvent(xe,pe,_e,Ce,Ne):(pe[0]==="."?(pe=pe.slice(1),!0):pe[0]==="^"?(pe=pe.slice(1),!1):shouldSetAsProp(xe,pe,Ce,$e))?patchDOMProp(xe,pe,Ce,Oe,Ne,Fe,Ue):(pe==="true-value"?xe._trueValue=Ce:pe==="false-value"&&(xe._falseValue=Ce),patchAttr(xe,pe,Ce,$e))};function shouldSetAsProp(xe,pe,_e,Ce){if(Ce)return!!(pe==="innerHTML"||pe==="textContent"||pe in xe&&isNativeOn(pe)&&isFunction$2(_e));if(pe==="spellcheck"||pe==="draggable"||pe==="translate"||pe==="form"||pe==="list"&&xe.tagName==="INPUT"||pe==="type"&&xe.tagName==="TEXTAREA")return!1;if(pe==="width"||pe==="height"){const Ie=xe.tagName;if(Ie==="IMG"||Ie==="VIDEO"||Ie==="CANVAS"||Ie==="SOURCE")return!1}return isNativeOn(pe)&&isString$3(_e)?!1:pe in xe}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(xe,{slots:pe}){const _e=getCurrentInstance(),Ce=useTransitionState();let Ie,Oe;return onUpdated(()=>{if(!Ie.length)return;const Ne=xe.moveClass||"".concat(xe.name||"v","-move");if(!hasCSSTransform(Ie[0].el,_e.vnode.el,Ne))return;Ie.forEach(callPendingCbs),Ie.forEach(recordPosition);const Fe=Ie.filter(applyTranslation);forceReflow(),Fe.forEach(Ue=>{const $e=Ue.el,ze=$e.style;addTransitionClass($e,Ne),ze.transform=ze.webkitTransform=ze.transitionDuration="";const Ve=$e[moveCbKey]=qe=>{qe&&qe.target!==$e||(!qe||/transform$/.test(qe.propertyName))&&($e.removeEventListener("transitionend",Ve),$e[moveCbKey]=null,removeTransitionClass($e,Ne))};$e.addEventListener("transitionend",Ve)})}),()=>{const Ne=toRaw(xe),Fe=resolveTransitionProps(Ne);let Ue=Ne.tag||Fragment$1;Ie=Oe,Oe=pe.default?getTransitionRawChildren(pe.default()):[];for(let $e=0;$e<Oe.length;$e++){const ze=Oe[$e];ze.key!=null&&setTransitionHooks(ze,resolveTransitionHooks(ze,Fe,Ce,_e))}if(Ie)for(let $e=0;$e<Ie.length;$e++){const ze=Ie[$e];setTransitionHooks(ze,resolveTransitionHooks(ze,Fe,Ce,_e)),positionMap.set(ze,ze.el.getBoundingClientRect())}return createVNode(Ue,null,Oe)}}},removeMode=xe=>delete xe.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(xe){const pe=xe.el;pe[moveCbKey]&&pe[moveCbKey](),pe[enterCbKey]&&pe[enterCbKey]()}function recordPosition(xe){newPositionMap.set(xe,xe.el.getBoundingClientRect())}function applyTranslation(xe){const pe=positionMap.get(xe),_e=newPositionMap.get(xe),Ce=pe.left-_e.left,Ie=pe.top-_e.top;if(Ce||Ie){const Oe=xe.el.style;return Oe.transform=Oe.webkitTransform="translate(".concat(Ce,"px,").concat(Ie,"px)"),Oe.transitionDuration="0s",xe}}function hasCSSTransform(xe,pe,_e){const Ce=xe.cloneNode(),Ie=xe[vtcKey];Ie&&Ie.forEach(Fe=>{Fe.split(/\s+/).forEach(Ue=>Ue&&Ce.classList.remove(Ue))}),_e.split(/\s+/).forEach(Fe=>Fe&&Ce.classList.add(Fe)),Ce.style.display="none";const Oe=pe.nodeType===1?pe:pe.parentNode;Oe.appendChild(Ce);const{hasTransform:Ne}=getTransitionInfo(Ce);return Oe.removeChild(Ce),Ne}const getModelAssigner=xe=>{const pe=xe.props["onUpdate:modelValue"]||!1;return isArray$4(pe)?_e=>invokeArrayFns(pe,_e):pe};function onCompositionStart(xe){xe.target.composing=!0}function onCompositionEnd(xe){const pe=xe.target;pe.composing&&(pe.composing=!1,pe.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(xe,{modifiers:{lazy:pe,trim:_e,number:Ce}},Ie){xe[assignKey]=getModelAssigner(Ie);const Oe=Ce||Ie.props&&Ie.props.type==="number";addEventListener(xe,pe?"change":"input",Ne=>{if(Ne.target.composing)return;let Fe=xe.value;_e&&(Fe=Fe.trim()),Oe&&(Fe=looseToNumber(Fe)),xe[assignKey](Fe)}),_e&&addEventListener(xe,"change",()=>{xe.value=xe.value.trim()}),pe||(addEventListener(xe,"compositionstart",onCompositionStart),addEventListener(xe,"compositionend",onCompositionEnd),addEventListener(xe,"change",onCompositionEnd))},mounted(xe,{value:pe}){xe.value=pe==null?"":pe},beforeUpdate(xe,{value:pe,modifiers:{lazy:_e,trim:Ce,number:Ie}},Oe){if(xe[assignKey]=getModelAssigner(Oe),xe.composing)return;const Ne=Ie||xe.type==="number"?looseToNumber(xe.value):xe.value,Fe=pe==null?"":pe;Ne!==Fe&&(document.activeElement===xe&&xe.type!=="range"&&(_e||Ce&&xe.value.trim()===Fe)||(xe.value=Fe))}},vModelCheckbox={deep:!0,created(xe,pe,_e){xe[assignKey]=getModelAssigner(_e),addEventListener(xe,"change",()=>{const Ce=xe._modelValue,Ie=getValue$3(xe),Oe=xe.checked,Ne=xe[assignKey];if(isArray$4(Ce)){const Fe=looseIndexOf(Ce,Ie),Ue=Fe!==-1;if(Oe&&!Ue)Ne(Ce.concat(Ie));else if(!Oe&&Ue){const $e=[...Ce];$e.splice(Fe,1),Ne($e)}}else if(isSet$1(Ce)){const Fe=new Set(Ce);Oe?Fe.add(Ie):Fe.delete(Ie),Ne(Fe)}else Ne(getCheckboxValue(xe,Oe))})},mounted:setChecked,beforeUpdate(xe,pe,_e){xe[assignKey]=getModelAssigner(_e),setChecked(xe,pe,_e)}};function setChecked(xe,{value:pe,oldValue:_e},Ce){xe._modelValue=pe,isArray$4(pe)?xe.checked=looseIndexOf(pe,Ce.props.value)>-1:isSet$1(pe)?xe.checked=pe.has(Ce.props.value):pe!==_e&&(xe.checked=looseEqual(pe,getCheckboxValue(xe,!0)))}const vModelRadio={created(xe,{value:pe},_e){xe.checked=looseEqual(pe,_e.props.value),xe[assignKey]=getModelAssigner(_e),addEventListener(xe,"change",()=>{xe[assignKey](getValue$3(xe))})},beforeUpdate(xe,{value:pe,oldValue:_e},Ce){xe[assignKey]=getModelAssigner(Ce),pe!==_e&&(xe.checked=looseEqual(pe,Ce.props.value))}};function getValue$3(xe){return"_value"in xe?xe._value:xe.value}function getCheckboxValue(xe,pe){const _e=pe?"_trueValue":"_falseValue";return _e in xe?xe[_e]:pe}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:xe=>xe.stopPropagation(),prevent:xe=>xe.preventDefault(),self:xe=>xe.target!==xe.currentTarget,ctrl:xe=>!xe.ctrlKey,shift:xe=>!xe.shiftKey,alt:xe=>!xe.altKey,meta:xe=>!xe.metaKey,left:xe=>"button"in xe&&xe.button!==0,middle:xe=>"button"in xe&&xe.button!==1,right:xe=>"button"in xe&&xe.button!==2,exact:(xe,pe)=>systemModifiers.some(_e=>xe["".concat(_e,"Key")]&&!pe.includes(_e))},withModifiers=(xe,pe)=>{const _e=xe._withMods||(xe._withMods={}),Ce=pe.join(".");return _e[Ce]||(_e[Ce]=(Ie,...Oe)=>{for(let Ne=0;Ne<pe.length;Ne++){const Fe=modifierGuards[pe[Ne]];if(Fe&&Fe(Ie,pe))return}return xe(Ie,...Oe)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(xe,pe)=>{const _e=xe._withKeys||(xe._withKeys={}),Ce=pe.join(".");return _e[Ce]||(_e[Ce]=Ie=>{if(!("key"in Ie))return;const Oe=hyphenate(Ie.key);if(pe.some(Ne=>Ne===Oe||keyNames[Ne]===Oe))return xe(Ie)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...xe)=>{ensureRenderer().render(...xe)},createApp=(...xe)=>{const pe=ensureRenderer().createApp(...xe),{mount:_e}=pe;return pe.mount=Ce=>{const Ie=normalizeContainer(Ce);if(!Ie)return;const Oe=pe._component;!isFunction$2(Oe)&&!Oe.render&&!Oe.template&&(Oe.template=Ie.innerHTML),Ie.innerHTML="";const Ne=_e(Ie,!1,resolveRootNamespace(Ie));return Ie instanceof Element&&(Ie.removeAttribute("v-cloak"),Ie.setAttribute("data-v-app","")),Ne},pe};function resolveRootNamespace(xe){if(xe instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&xe instanceof MathMLElement)return"mathml"}function normalizeContainer(xe){return isString$3(xe)?document.querySelector(xe):xe}const FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=xe=>getComputedStyle(xe).position==="fixed"?!1:xe.offsetParent!==null,obtainAllFocusableElements$1=xe=>Array.from(xe.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(pe=>isFocusable(pe)&&isVisible(pe)),isFocusable=xe=>{if(xe.tabIndex>0||xe.tabIndex===0&&xe.getAttribute("tabIndex")!==null)return!0;if(xe.disabled)return!1;switch(xe.nodeName){case"A":return!!xe.href&&xe.rel!=="ignore";case"INPUT":return!(xe.type==="hidden"||xe.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(xe,pe,..._e){let Ce;pe.includes("mouse")||pe.includes("click")?Ce="MouseEvents":pe.includes("key")?Ce="KeyboardEvent":Ce="HTMLEvents";const Ie=document.createEvent(Ce);return Ie.initEvent(pe,..._e),xe.dispatchEvent(Ie),xe},isLeaf=xe=>!xe.getAttribute("aria-owns"),getSibling=(xe,pe,_e)=>{const{parentNode:Ce}=xe;if(!Ce)return null;const Ie=Ce.querySelectorAll(_e),Oe=Array.prototype.indexOf.call(Ie,xe);return Ie[Oe+pe]||null},focusNode=xe=>{xe&&(xe.focus(),!isLeaf(xe)&&xe.click())},composeEventHandlers=(xe,pe,{checkForDefaultPrevented:_e=!0}={})=>Ie=>{const Oe=xe==null?void 0:xe(Ie);if(_e===!1||!Oe)return pe==null?void 0:pe(Ie)};var isVue2=!1,_a;const isClient=typeof window<"u",isDef=xe=>typeof xe<"u",isFunction$1=xe=>typeof xe=="function",isString$2=xe=>typeof xe=="string",noop$6=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(xe){return typeof xe=="function"?xe():unref(xe)}function createFilterWrapper(xe,pe){function _e(...Ce){return new Promise((Ie,Oe)=>{Promise.resolve(xe(()=>pe.apply(this,Ce),{fn:pe,thisArg:this,args:Ce})).then(Ie).catch(Oe)})}return _e}function debounceFilter(xe,pe={}){let _e,Ce,Ie=noop$6;const Oe=Fe=>{clearTimeout(Fe),Ie(),Ie=noop$6};return Fe=>{const Ue=resolveUnref(xe),$e=resolveUnref(pe.maxWait);return _e&&Oe(_e),Ue<=0||$e!==void 0&&$e<=0?(Ce&&(Oe(Ce),Ce=null),Promise.resolve(Fe())):new Promise((ze,Ve)=>{Ie=pe.rejectOnCancel?Ve:ze,$e&&!Ce&&(Ce=setTimeout(()=>{_e&&Oe(_e),Ce=null,ze(Fe())},$e)),_e=setTimeout(()=>{Ce&&Oe(Ce),Ce=null,ze(Fe())},Ue)})}}function throttleFilter(xe,pe=!0,_e=!0,Ce=!1){let Ie=0,Oe,Ne=!0,Fe=noop$6,Ue;const $e=()=>{Oe&&(clearTimeout(Oe),Oe=void 0,Fe(),Fe=noop$6)};return Ve=>{const qe=resolveUnref(xe),En=Date.now()-Ie,vn=()=>Ue=Ve();return $e(),qe<=0?(Ie=Date.now(),vn()):(En>qe&&(_e||!Ne)?(Ie=Date.now(),vn()):pe&&(Ue=new Promise((hn,_n)=>{Fe=Ce?_n:hn,Oe=setTimeout(()=>{Ie=Date.now(),Ne=!0,hn(vn()),$e()},Math.max(0,qe-En))})),!_e&&!Oe&&(Oe=setTimeout(()=>Ne=!0,qe)),Ne=!1,Ue)}}function identity$1(xe){return xe}function tryOnScopeDispose(xe){return getCurrentScope()?(onScopeDispose(xe),!0):!1}function useDebounceFn(xe,pe=200,_e={}){return createFilterWrapper(debounceFilter(pe,_e),xe)}function refDebounced(xe,pe=200,_e={}){const Ce=ref(xe.value),Ie=useDebounceFn(()=>{Ce.value=xe.value},pe,_e);return watch(xe,()=>Ie()),Ce}function useThrottleFn(xe,pe=200,_e=!1,Ce=!0,Ie=!1){return createFilterWrapper(throttleFilter(pe,_e,Ce,Ie),xe)}function tryOnMounted(xe,pe=!0){getCurrentInstance()?onMounted(xe):pe?xe():nextTick(xe)}function useTimeoutFn(xe,pe,_e={}){const{immediate:Ce=!0}=_e,Ie=ref(!1);let Oe=null;function Ne(){Oe&&(clearTimeout(Oe),Oe=null)}function Fe(){Ie.value=!1,Ne()}function Ue(...$e){Ne(),Ie.value=!0,Oe=setTimeout(()=>{Ie.value=!1,Oe=null,xe(...$e)},resolveUnref(pe))}return Ce&&(Ie.value=!0,isClient&&Ue()),tryOnScopeDispose(Fe),{isPending:readonly(Ie),start:Ue,stop:Fe}}function unrefElement(xe){var pe;const _e=resolveUnref(xe);return(pe=_e==null?void 0:_e.$el)!=null?pe:_e}const defaultWindow=isClient?window:void 0;function useEventListener(...xe){let pe,_e,Ce,Ie;if(isString$2(xe[0])||Array.isArray(xe[0])?([_e,Ce,Ie]=xe,pe=defaultWindow):[pe,_e,Ce,Ie]=xe,!pe)return noop$6;Array.isArray(_e)||(_e=[_e]),Array.isArray(Ce)||(Ce=[Ce]);const Oe=[],Ne=()=>{Oe.forEach(ze=>ze()),Oe.length=0},Fe=(ze,Ve,qe,En)=>(ze.addEventListener(Ve,qe,En),()=>ze.removeEventListener(Ve,qe,En)),Ue=watch(()=>[unrefElement(pe),resolveUnref(Ie)],([ze,Ve])=>{Ne(),ze&&Oe.push(..._e.flatMap(qe=>Ce.map(En=>Fe(ze,qe,En,Ve))))},{immediate:!0,flush:"post"}),$e=()=>{Ue(),Ne()};return tryOnScopeDispose($e),$e}let _iOSWorkaround=!1;function onClickOutside(xe,pe,_e={}){const{window:Ce=defaultWindow,ignore:Ie=[],capture:Oe=!0,detectIframe:Ne=!1}=_e;if(!Ce)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(Ce.document.body.children).forEach(qe=>qe.addEventListener("click",noop$6)));let Fe=!0;const Ue=qe=>Ie.some(En=>{if(typeof En=="string")return Array.from(Ce.document.querySelectorAll(En)).some(vn=>vn===qe.target||qe.composedPath().includes(vn));{const vn=unrefElement(En);return vn&&(qe.target===vn||qe.composedPath().includes(vn))}}),ze=[useEventListener(Ce,"click",qe=>{const En=unrefElement(xe);if(!(!En||En===qe.target||qe.composedPath().includes(En))){if(qe.detail===0&&(Fe=!Ue(qe)),!Fe){Fe=!0;return}pe(qe)}},{passive:!0,capture:Oe}),useEventListener(Ce,"pointerdown",qe=>{const En=unrefElement(xe);En&&(Fe=!qe.composedPath().includes(En)&&!Ue(qe))},{passive:!0}),Ne&&useEventListener(Ce,"blur",qe=>{var En;const vn=unrefElement(xe);((En=Ce.document.activeElement)==null?void 0:En.tagName)==="IFRAME"&&!(vn!=null&&vn.contains(Ce.document.activeElement))&&pe(qe)})].filter(Boolean);return()=>ze.forEach(qe=>qe())}function useSupported(xe,pe=!1){const _e=ref(),Ce=()=>_e.value=!!xe();return Ce(),tryOnMounted(Ce,pe),_e}function cloneFnJSON(xe){return JSON.parse(JSON.stringify(xe))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};function useCssVar(xe,pe,{window:_e=defaultWindow,initialValue:Ce=""}={}){const Ie=ref(Ce),Oe=computed(()=>{var Ne;return unrefElement(pe)||((Ne=_e==null?void 0:_e.document)==null?void 0:Ne.documentElement)});return watch([Oe,()=>resolveUnref(xe)],([Ne,Fe])=>{var Ue;if(Ne&&_e){const $e=(Ue=_e.getComputedStyle(Ne).getPropertyValue(Fe))==null?void 0:Ue.trim();Ie.value=$e||Ce}},{immediate:!0}),watch(Ie,Ne=>{var Fe;(Fe=Oe.value)!=null&&Fe.style&&Oe.value.style.setProperty(resolveUnref(xe),Ne)}),Ie}var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(xe,pe)=>{var _e={};for(var Ce in xe)__hasOwnProp$g.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&__getOwnPropSymbols$g)for(var Ce of __getOwnPropSymbols$g(xe))pe.indexOf(Ce)<0&&__propIsEnum$g.call(xe,Ce)&&(_e[Ce]=xe[Ce]);return _e};function useResizeObserver(xe,pe,_e={}){const Ce=_e,{window:Ie=defaultWindow}=Ce,Oe=__objRest$2(Ce,["window"]);let Ne;const Fe=useSupported(()=>Ie&&"ResizeObserver"in Ie),Ue=()=>{Ne&&(Ne.disconnect(),Ne=void 0)},$e=watch(()=>unrefElement(xe),Ve=>{Ue(),Fe.value&&Ie&&Ve&&(Ne=new ResizeObserver(pe),Ne.observe(Ve,Oe))},{immediate:!0,flush:"post"}),ze=()=>{Ue(),$e()};return tryOnScopeDispose(ze),{isSupported:Fe,stop:ze}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(xe,pe)=>{var _e={};for(var Ce in xe)__hasOwnProp$8.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&__getOwnPropSymbols$8)for(var Ce of __getOwnPropSymbols$8(xe))pe.indexOf(Ce)<0&&__propIsEnum$8.call(xe,Ce)&&(_e[Ce]=xe[Ce]);return _e};function useMutationObserver(xe,pe,_e={}){const Ce=_e,{window:Ie=defaultWindow}=Ce,Oe=__objRest$1(Ce,["window"]);let Ne;const Fe=useSupported(()=>Ie&&"MutationObserver"in Ie),Ue=()=>{Ne&&(Ne.disconnect(),Ne=void 0)},$e=watch(()=>unrefElement(xe),Ve=>{Ue(),Fe.value&&Ie&&Ve&&(Ne=new MutationObserver(pe),Ne.observe(Ve,Oe))},{immediate:!0}),ze=()=>{Ue(),$e()};return tryOnScopeDispose(ze),{isSupported:Fe,stop:ze}}var SwipeDirection;(function(xe){xe.UP="UP",xe.RIGHT="RIGHT",xe.DOWN="DOWN",xe.LEFT="LEFT",xe.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(xe,pe,_e)=>pe in xe?__defProp(xe,pe,{enumerable:!0,configurable:!0,writable:!0,value:_e}):xe[pe]=_e,__spreadValues=(xe,pe)=>{for(var _e in pe||(pe={}))__hasOwnProp.call(pe,_e)&&__defNormalProp(xe,_e,pe[_e]);if(__getOwnPropSymbols)for(var _e of __getOwnPropSymbols(pe))__propIsEnum.call(pe,_e)&&__defNormalProp(xe,_e,pe[_e]);return xe};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);function useVModel(xe,pe,_e,Ce={}){var Ie,Oe,Ne;const{clone:Fe=!1,passive:Ue=!1,eventName:$e,deep:ze=!1,defaultValue:Ve}=Ce,qe=getCurrentInstance(),En=_e||(qe==null?void 0:qe.emit)||((Ie=qe==null?void 0:qe.$emit)==null?void 0:Ie.bind(qe))||((Ne=(Oe=qe==null?void 0:qe.proxy)==null?void 0:Oe.$emit)==null?void 0:Ne.bind(qe==null?void 0:qe.proxy));let vn=$e;pe||(pe="modelValue"),vn=$e||vn||"update:".concat(pe.toString());const hn=bn=>Fe?isFunction$1(Fe)?Fe(bn):cloneFnJSON(bn):bn,_n=()=>isDef(xe[pe])?hn(xe[pe]):Ve;if(Ue){const bn=_n(),An=ref(bn);return watch(()=>xe[pe],xn=>An.value=hn(xn)),watch(An,xn=>{(xn!==xe[pe]||ze)&&En(vn,xn)},{deep:ze}),An}else return computed({get(){return _n()},set(bn){En(vn,bn)}})}const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent),isInContainer=(xe,pe)=>{if(!isClient||!xe||!pe)return!1;const _e=xe.getBoundingClientRect();let Ce;return pe instanceof Element?Ce=pe.getBoundingClientRect():Ce={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},_e.top<Ce.bottom&&_e.bottom>Ce.top&&_e.right>Ce.left&&_e.left<Ce.right},getClientXY=xe=>{let pe,_e;return xe.type==="touchend"?(_e=xe.changedTouches[0].clientY,pe=xe.changedTouches[0].clientX):xe.type.startsWith("touch")?(_e=xe.touches[0].clientY,pe=xe.touches[0].clientX):(_e=xe.clientY,pe=xe.clientX),{clientX:pe,clientY:_e}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(xe){var pe=hasOwnProperty$b.call(xe,symToStringTag$1),_e=xe[symToStringTag$1];try{xe[symToStringTag$1]=void 0;var Ce=!0}catch(Oe){}var Ie=nativeObjectToString$1.call(xe);return Ce&&(pe?xe[symToStringTag$1]=_e:delete xe[symToStringTag$1]),Ie}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString(xe){return nativeObjectToString.call(xe)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(xe){return xe==null?xe===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(xe)?getRawTag(xe):objectToString(xe)}function isObjectLike(xe){return xe!=null&&typeof xe=="object"}var symbolTag$3="[object Symbol]";function isSymbol(xe){return typeof xe=="symbol"||isObjectLike(xe)&&baseGetTag(xe)==symbolTag$3}function arrayMap(xe,pe){for(var _e=-1,Ce=xe==null?0:xe.length,Ie=Array(Ce);++_e<Ce;)Ie[_e]=pe(xe[_e],_e,xe);return Ie}var isArray$2=Array.isArray;const isArray$3=isArray$2;var INFINITY$4=1/0,symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(xe){if(typeof xe=="string")return xe;if(isArray$3(xe))return arrayMap(xe,baseToString)+"";if(isSymbol(xe))return symbolToString?symbolToString.call(xe):"";var pe=xe+"";return pe=="0"&&1/xe==-INFINITY$4?"-0":pe}var reWhitespace=/\s/;function trimmedEndIndex(xe){for(var pe=xe.length;pe--&&reWhitespace.test(xe.charAt(pe)););return pe}var reTrimStart=/^\s+/;function baseTrim(xe){return xe&&xe.slice(0,trimmedEndIndex(xe)+1).replace(reTrimStart,"")}function isObject$2(xe){var pe=typeof xe;return xe!=null&&(pe=="object"||pe=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(xe){if(typeof xe=="number")return xe;if(isSymbol(xe))return NAN;if(isObject$2(xe)){var pe=typeof xe.valueOf=="function"?xe.valueOf():xe;xe=isObject$2(pe)?pe+"":pe}if(typeof xe!="string")return xe===0?xe:+xe;xe=baseTrim(xe);var _e=reIsBinary.test(xe);return _e||reIsOctal.test(xe)?freeParseInt(xe.slice(2),_e?2:8):reIsBadHex.test(xe)?NAN:+xe}var INFINITY$3=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(xe){if(!xe)return xe===0?xe:0;if(xe=toNumber(xe),xe===INFINITY$3||xe===-INFINITY$3){var pe=xe<0?-1:1;return pe*MAX_INTEGER}return xe===xe?xe:0}function toInteger(xe){var pe=toFinite(xe),_e=pe%1;return pe===pe?_e?pe-_e:pe:0}function identity(xe){return xe}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(xe){if(!isObject$2(xe))return!1;var pe=baseGetTag(xe);return pe==funcTag$2||pe==genTag$1||pe==asyncTag||pe==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var xe=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return xe?"Symbol(src)_1."+xe:""}();function isMasked(xe){return!!maskSrcKey&&maskSrcKey in xe}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(xe){if(xe!=null){try{return funcToString$1.call(xe)}catch(pe){}try{return xe+""}catch(pe){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$c=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(xe){if(!isObject$2(xe)||isMasked(xe))return!1;var pe=isFunction(xe)?reIsNative:reIsHostCtor;return pe.test(toSource(xe))}function getValue$2(xe,pe){return xe==null?void 0:xe[pe]}function getNative(xe,pe){var _e=getValue$2(xe,pe);return baseIsNative(_e)?_e:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function xe(){}return function(pe){if(!isObject$2(pe))return{};if(objectCreate)return objectCreate(pe);xe.prototype=pe;var _e=new xe;return xe.prototype=void 0,_e}}();function apply(xe,pe,_e){switch(_e.length){case 0:return xe.call(pe);case 1:return xe.call(pe,_e[0]);case 2:return xe.call(pe,_e[0],_e[1]);case 3:return xe.call(pe,_e[0],_e[1],_e[2])}return xe.apply(pe,_e)}function noop$5(){}function copyArray(xe,pe){var _e=-1,Ce=xe.length;for(pe||(pe=Array(Ce));++_e<Ce;)pe[_e]=xe[_e];return pe}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(xe){var pe=0,_e=0;return function(){var Ce=nativeNow(),Ie=HOT_SPAN-(Ce-_e);if(_e=Ce,Ie>0){if(++pe>=HOT_COUNT)return arguments[0]}else pe=0;return xe.apply(void 0,arguments)}}function constant(xe){return function(){return xe}}var defineProperty=function(){try{var xe=getNative(Object,"defineProperty");return xe({},"",{}),xe}catch(pe){}}(),baseSetToString=defineProperty?function(xe,pe){return defineProperty(xe,"toString",{configurable:!0,enumerable:!1,value:constant(pe),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);function arrayEach(xe,pe){for(var _e=-1,Ce=xe==null?0:xe.length;++_e<Ce&&pe(xe[_e],_e,xe)!==!1;);return xe}function baseFindIndex(xe,pe,_e,Ce){for(var Ie=xe.length,Oe=_e+(Ce?1:-1);Ce?Oe--:++Oe<Ie;)if(pe(xe[Oe],Oe,xe))return Oe;return-1}function baseIsNaN(xe){return xe!==xe}function strictIndexOf(xe,pe,_e){for(var Ce=_e-1,Ie=xe.length;++Ce<Ie;)if(xe[Ce]===pe)return Ce;return-1}function baseIndexOf(xe,pe,_e){return pe===pe?strictIndexOf(xe,pe,_e):baseFindIndex(xe,baseIsNaN,_e)}function arrayIncludes(xe,pe){var _e=xe==null?0:xe.length;return!!_e&&baseIndexOf(xe,pe,0)>-1}var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(xe,pe){var _e=typeof xe;return pe=pe==null?MAX_SAFE_INTEGER$2:pe,!!pe&&(_e=="number"||_e!="symbol"&&reIsUint.test(xe))&&xe>-1&&xe%1==0&&xe<pe}function baseAssignValue(xe,pe,_e){pe=="__proto__"&&defineProperty?defineProperty(xe,pe,{configurable:!0,enumerable:!0,value:_e,writable:!0}):xe[pe]=_e}function eq(xe,pe){return xe===pe||xe!==xe&&pe!==pe}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function assignValue(xe,pe,_e){var Ce=xe[pe];(!(hasOwnProperty$9.call(xe,pe)&&eq(Ce,_e))||_e===void 0&&!(pe in xe))&&baseAssignValue(xe,pe,_e)}function copyObject(xe,pe,_e,Ce){var Ie=!_e;_e||(_e={});for(var Oe=-1,Ne=pe.length;++Oe<Ne;){var Fe=pe[Oe],Ue=Ce?Ce(_e[Fe],xe[Fe],Fe,_e,xe):void 0;Ue===void 0&&(Ue=xe[Fe]),Ie?baseAssignValue(_e,Fe,Ue):assignValue(_e,Fe,Ue)}return _e}var nativeMax$2=Math.max;function overRest(xe,pe,_e){return pe=nativeMax$2(pe===void 0?xe.length-1:pe,0),function(){for(var Ce=arguments,Ie=-1,Oe=nativeMax$2(Ce.length-pe,0),Ne=Array(Oe);++Ie<Oe;)Ne[Ie]=Ce[pe+Ie];Ie=-1;for(var Fe=Array(pe+1);++Ie<pe;)Fe[Ie]=Ce[Ie];return Fe[pe]=_e(Ne),apply(xe,this,Fe)}}function baseRest(xe,pe){return setToString(overRest(xe,pe,identity),xe+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=MAX_SAFE_INTEGER$1}function isArrayLike(xe){return xe!=null&&isLength(xe.length)&&!isFunction(xe)}function isIterateeCall(xe,pe,_e){if(!isObject$2(_e))return!1;var Ce=typeof pe;return(Ce=="number"?isArrayLike(_e)&&isIndex(pe,_e.length):Ce=="string"&&pe in _e)?eq(_e[pe],xe):!1}var objectProto$a=Object.prototype;function isPrototype(xe){var pe=xe&&xe.constructor,_e=typeof pe=="function"&&pe.prototype||objectProto$a;return xe===_e}function baseTimes(xe,pe){for(var _e=-1,Ce=Array(xe);++_e<xe;)Ce[_e]=pe(_e);return Ce}var argsTag$3="[object Arguments]";function baseIsArguments(xe){return isObjectLike(xe)&&baseGetTag(xe)==argsTag$3}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(xe){return isObjectLike(xe)&&hasOwnProperty$8.call(xe,"callee")&&!propertyIsEnumerable$1.call(xe,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$4="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$4]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(xe){return isObjectLike(xe)&&isLength(xe.length)&&!!typedArrayTags[baseGetTag(xe)]}function baseUnary(xe){return function(pe){return xe(pe)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var xe=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return xe||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(pe){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function arrayLikeKeys(xe,pe){var _e=isArray$3(xe),Ce=!_e&&isArguments(xe),Ie=!_e&&!Ce&&isBuffer(xe),Oe=!_e&&!Ce&&!Ie&&isTypedArray(xe),Ne=_e||Ce||Ie||Oe,Fe=Ne?baseTimes(xe.length,String):[],Ue=Fe.length;for(var $e in xe)(pe||hasOwnProperty$7.call(xe,$e))&&!(Ne&&($e=="length"||Ie&&($e=="offset"||$e=="parent")||Oe&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||isIndex($e,Ue)))&&Fe.push($e);return Fe}function overArg(xe,pe){return function(_e){return xe(pe(_e))}}var nativeKeys=overArg(Object.keys,Object),objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeys(xe){if(!isPrototype(xe))return nativeKeys(xe);var pe=[];for(var _e in Object(xe))hasOwnProperty$6.call(xe,_e)&&_e!="constructor"&&pe.push(_e);return pe}function keys(xe){return isArrayLike(xe)?arrayLikeKeys(xe):baseKeys(xe)}function nativeKeysIn(xe){var pe=[];if(xe!=null)for(var _e in Object(xe))pe.push(_e);return pe}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function baseKeysIn(xe){if(!isObject$2(xe))return nativeKeysIn(xe);var pe=isPrototype(xe),_e=[];for(var Ce in xe)Ce=="constructor"&&(pe||!hasOwnProperty$5.call(xe,Ce))||_e.push(Ce);return _e}function keysIn(xe){return isArrayLike(xe)?arrayLikeKeys(xe,!0):baseKeysIn(xe)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(xe,pe){if(isArray$3(xe))return!1;var _e=typeof xe;return _e=="number"||_e=="symbol"||_e=="boolean"||xe==null||isSymbol(xe)?!0:reIsPlainProp.test(xe)||!reIsDeepProp.test(xe)||pe!=null&&xe in Object(pe)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(xe){var pe=this.has(xe)&&delete this.__data__[xe];return this.size-=pe?1:0,pe}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashGet(xe){var pe=this.__data__;if(nativeCreate){var _e=pe[xe];return _e===HASH_UNDEFINED$2?void 0:_e}return hasOwnProperty$4.call(pe,xe)?pe[xe]:void 0}var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(xe){var pe=this.__data__;return nativeCreate?pe[xe]!==void 0:hasOwnProperty$3.call(pe,xe)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(xe,pe){var _e=this.__data__;return this.size+=this.has(xe)?0:1,_e[xe]=nativeCreate&&pe===void 0?HASH_UNDEFINED$1:pe,this}function Hash(xe){var pe=-1,_e=xe==null?0:xe.length;for(this.clear();++pe<_e;){var Ce=xe[pe];this.set(Ce[0],Ce[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(xe,pe){for(var _e=xe.length;_e--;)if(eq(xe[_e][0],pe))return _e;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(xe){var pe=this.__data__,_e=assocIndexOf(pe,xe);if(_e<0)return!1;var Ce=pe.length-1;return _e==Ce?pe.pop():splice.call(pe,_e,1),--this.size,!0}function listCacheGet(xe){var pe=this.__data__,_e=assocIndexOf(pe,xe);return _e<0?void 0:pe[_e][1]}function listCacheHas(xe){return assocIndexOf(this.__data__,xe)>-1}function listCacheSet(xe,pe){var _e=this.__data__,Ce=assocIndexOf(_e,xe);return Ce<0?(++this.size,_e.push([xe,pe])):_e[Ce][1]=pe,this}function ListCache(xe){var pe=-1,_e=xe==null?0:xe.length;for(this.clear();++pe<_e;){var Ce=xe[pe];this.set(Ce[0],Ce[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(xe){var pe=typeof xe;return pe=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?xe!=="__proto__":xe===null}function getMapData(xe,pe){var _e=xe.__data__;return isKeyable(pe)?_e[typeof pe=="string"?"string":"hash"]:_e.map}function mapCacheDelete(xe){var pe=getMapData(this,xe).delete(xe);return this.size-=pe?1:0,pe}function mapCacheGet(xe){return getMapData(this,xe).get(xe)}function mapCacheHas(xe){return getMapData(this,xe).has(xe)}function mapCacheSet(xe,pe){var _e=getMapData(this,xe),Ce=_e.size;return _e.set(xe,pe),this.size+=_e.size==Ce?0:1,this}function MapCache(xe){var pe=-1,_e=xe==null?0:xe.length;for(this.clear();++pe<_e;){var Ce=xe[pe];this.set(Ce[0],Ce[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(xe,pe){if(typeof xe!="function"||pe!=null&&typeof pe!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var _e=function(){var Ce=arguments,Ie=pe?pe.apply(this,Ce):Ce[0],Oe=_e.cache;if(Oe.has(Ie))return Oe.get(Ie);var Ne=xe.apply(this,Ce);return _e.cache=Oe.set(Ie,Ne)||Oe,Ne};return _e.cache=new(memoize.Cache||MapCache),_e}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(xe){var pe=memoize(xe,function(Ce){return _e.size===MAX_MEMOIZE_SIZE&&_e.clear(),Ce}),_e=pe.cache;return pe}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(xe){var pe=[];return xe.charCodeAt(0)===46&&pe.push(""),xe.replace(rePropName,function(_e,Ce,Ie,Oe){pe.push(Ie?Oe.replace(reEscapeChar,"$1"):Ce||_e)}),pe});function toString(xe){return xe==null?"":baseToString(xe)}function castPath(xe,pe){return isArray$3(xe)?xe:isKey(xe,pe)?[xe]:stringToPath(toString(xe))}var INFINITY$2=1/0;function toKey(xe){if(typeof xe=="string"||isSymbol(xe))return xe;var pe=xe+"";return pe=="0"&&1/xe==-INFINITY$2?"-0":pe}function baseGet(xe,pe){pe=castPath(pe,xe);for(var _e=0,Ce=pe.length;xe!=null&&_e<Ce;)xe=xe[toKey(pe[_e++])];return _e&&_e==Ce?xe:void 0}function get$1(xe,pe,_e){var Ce=xe==null?void 0:baseGet(xe,pe);return Ce===void 0?_e:Ce}function arrayPush(xe,pe){for(var _e=-1,Ce=pe.length,Ie=xe.length;++_e<Ce;)xe[Ie+_e]=pe[_e];return xe}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(xe){return isArray$3(xe)||isArguments(xe)||!!(spreadableSymbol&&xe&&xe[spreadableSymbol])}function baseFlatten(xe,pe,_e,Ce,Ie){var Oe=-1,Ne=xe.length;for(_e||(_e=isFlattenable),Ie||(Ie=[]);++Oe<Ne;){var Fe=xe[Oe];pe>0&&_e(Fe)?pe>1?baseFlatten(Fe,pe-1,_e,Ce,Ie):arrayPush(Ie,Fe):Ce||(Ie[Ie.length]=Fe)}return Ie}function flatten(xe){var pe=xe==null?0:xe.length;return pe?baseFlatten(xe,1):[]}function flatRest(xe){return setToString(overRest(xe,void 0,flatten),xe+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;function castArray$1(){if(!arguments.length)return[];var xe=arguments[0];return isArray$3(xe)?xe:[xe]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(xe){var pe=this.__data__,_e=pe.delete(xe);return this.size=pe.size,_e}function stackGet(xe){return this.__data__.get(xe)}function stackHas(xe){return this.__data__.has(xe)}var LARGE_ARRAY_SIZE$1=200;function stackSet(xe,pe){var _e=this.__data__;if(_e instanceof ListCache){var Ce=_e.__data__;if(!Map$1||Ce.length<LARGE_ARRAY_SIZE$1-1)return Ce.push([xe,pe]),this.size=++_e.size,this;_e=this.__data__=new MapCache(Ce)}return _e.set(xe,pe),this.size=_e.size,this}function Stack(xe){var pe=this.__data__=new ListCache(xe);this.size=pe.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(xe,pe){return xe&&copyObject(pe,keys(pe),xe)}function baseAssignIn(xe,pe){return xe&&copyObject(pe,keysIn(pe),xe)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(xe,pe){if(pe)return xe.slice();var _e=xe.length,Ce=allocUnsafe?allocUnsafe(_e):new xe.constructor(_e);return xe.copy(Ce),Ce}function arrayFilter(xe,pe){for(var _e=-1,Ce=xe==null?0:xe.length,Ie=0,Oe=[];++_e<Ce;){var Ne=xe[_e];pe(Ne,_e,xe)&&(Oe[Ie++]=Ne)}return Oe}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(xe){return xe==null?[]:(xe=Object(xe),arrayFilter(nativeGetSymbols$1(xe),function(pe){return propertyIsEnumerable.call(xe,pe)}))}:stubArray;function copySymbols(xe,pe){return copyObject(xe,getSymbols(xe),pe)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(xe){for(var pe=[];xe;)arrayPush(pe,getSymbols(xe)),xe=getPrototype$1(xe);return pe}:stubArray;function copySymbolsIn(xe,pe){return copyObject(xe,getSymbolsIn(xe),pe)}function baseGetAllKeys(xe,pe,_e){var Ce=pe(xe);return isArray$3(xe)?Ce:arrayPush(Ce,_e(xe))}function getAllKeys(xe){return baseGetAllKeys(xe,keys,getSymbols)}function getAllKeysIn(xe){return baseGetAllKeys(xe,keysIn,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(xe){var pe=baseGetTag(xe),_e=pe==objectTag$2?xe.constructor:void 0,Ce=_e?toSource(_e):"";if(Ce)switch(Ce){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return pe});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(xe){var pe=xe.length,_e=new xe.constructor(pe);return pe&&typeof xe[0]=="string"&&hasOwnProperty$2.call(xe,"index")&&(_e.index=xe.index,_e.input=xe.input),_e}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(xe){var pe=new xe.constructor(xe.byteLength);return new Uint8Array$1(pe).set(new Uint8Array$1(xe)),pe}function cloneDataView(xe,pe){var _e=pe?cloneArrayBuffer(xe.buffer):xe.buffer;return new xe.constructor(_e,xe.byteOffset,xe.byteLength)}var reFlags=/\w*$/;function cloneRegExp(xe){var pe=new xe.constructor(xe.source,reFlags.exec(xe));return pe.lastIndex=xe.lastIndex,pe}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(xe){return symbolValueOf$1?Object(symbolValueOf$1.call(xe)):{}}function cloneTypedArray(xe,pe){var _e=pe?cloneArrayBuffer(xe.buffer):xe.buffer;return new xe.constructor(_e,xe.byteOffset,xe.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$3="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(xe,pe,_e){var Ce=xe.constructor;switch(pe){case arrayBufferTag$2:return cloneArrayBuffer(xe);case boolTag$2:case dateTag$2:return new Ce(+xe);case dataViewTag$2:return cloneDataView(xe,_e);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(xe,_e);case mapTag$3:return new Ce;case numberTag$2:case stringTag$3:return new Ce(xe);case regexpTag$2:return cloneRegExp(xe);case setTag$3:return new Ce;case symbolTag$2:return cloneSymbol(xe)}}function initCloneObject(xe){return typeof xe.constructor=="function"&&!isPrototype(xe)?baseCreate(getPrototype$1(xe)):{}}var mapTag$2="[object Map]";function baseIsMap(xe){return isObjectLike(xe)&&getTag$1(xe)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(xe){return isObjectLike(xe)&&getTag$1(xe)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$2="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(xe,pe,_e,Ce,Ie,Oe){var Ne,Fe=pe&CLONE_DEEP_FLAG$1,Ue=pe&CLONE_FLAT_FLAG,$e=pe&CLONE_SYMBOLS_FLAG$2;if(_e&&(Ne=Ie?_e(xe,Ce,Ie,Oe):_e(xe)),Ne!==void 0)return Ne;if(!isObject$2(xe))return xe;var ze=isArray$3(xe);if(ze){if(Ne=initCloneArray(xe),!Fe)return copyArray(xe,Ne)}else{var Ve=getTag$1(xe),qe=Ve==funcTag||Ve==genTag;if(isBuffer(xe))return cloneBuffer(xe,Fe);if(Ve==objectTag$1||Ve==argsTag$1||qe&&!Ie){if(Ne=Ue||qe?{}:initCloneObject(xe),!Fe)return Ue?copySymbolsIn(xe,baseAssignIn(Ne,xe)):copySymbols(xe,baseAssign(Ne,xe))}else{if(!cloneableTags[Ve])return Ie?xe:{};Ne=initCloneByTag(xe,Ve,Fe)}}Oe||(Oe=new Stack);var En=Oe.get(xe);if(En)return En;Oe.set(xe,Ne),isSet(xe)?xe.forEach(function(_n){Ne.add(baseClone(_n,pe,_e,_n,xe,Oe))}):isMap(xe)&&xe.forEach(function(_n,bn){Ne.set(bn,baseClone(_n,pe,_e,bn,xe,Oe))});var vn=$e?Ue?getAllKeysIn:getAllKeys:Ue?keysIn:keys,hn=ze?void 0:vn(xe);return arrayEach(hn||xe,function(_n,bn){hn&&(bn=_n,_n=xe[bn]),assignValue(Ne,bn,baseClone(_n,pe,_e,bn,xe,Oe))}),Ne}var CLONE_SYMBOLS_FLAG$1=4;function clone(xe){return baseClone(xe,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(xe){return baseClone(xe,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(xe){return this.__data__.set(xe,HASH_UNDEFINED),this}function setCacheHas(xe){return this.__data__.has(xe)}function SetCache(xe){var pe=-1,_e=xe==null?0:xe.length;for(this.__data__=new MapCache;++pe<_e;)this.add(xe[pe])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(xe,pe){for(var _e=-1,Ce=xe==null?0:xe.length;++_e<Ce;)if(pe(xe[_e],_e,xe))return!0;return!1}function cacheHas(xe,pe){return xe.has(pe)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(xe,pe,_e,Ce,Ie,Oe){var Ne=_e&COMPARE_PARTIAL_FLAG$5,Fe=xe.length,Ue=pe.length;if(Fe!=Ue&&!(Ne&&Ue>Fe))return!1;var $e=Oe.get(xe),ze=Oe.get(pe);if($e&&ze)return $e==pe&&ze==xe;var Ve=-1,qe=!0,En=_e&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(Oe.set(xe,pe),Oe.set(pe,xe);++Ve<Fe;){var vn=xe[Ve],hn=pe[Ve];if(Ce)var _n=Ne?Ce(hn,vn,Ve,pe,xe,Oe):Ce(vn,hn,Ve,xe,pe,Oe);if(_n!==void 0){if(_n)continue;qe=!1;break}if(En){if(!arraySome(pe,function(bn,An){if(!cacheHas(En,An)&&(vn===bn||Ie(vn,bn,_e,Ce,Oe)))return En.push(An)})){qe=!1;break}}else if(!(vn===hn||Ie(vn,hn,_e,Ce,Oe))){qe=!1;break}}return Oe.delete(xe),Oe.delete(pe),qe}function mapToArray(xe){var pe=-1,_e=Array(xe.size);return xe.forEach(function(Ce,Ie){_e[++pe]=[Ie,Ce]}),_e}function setToArray(xe){var pe=-1,_e=Array(xe.size);return xe.forEach(function(Ce){_e[++pe]=Ce}),_e}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(xe,pe,_e,Ce,Ie,Oe,Ne){switch(_e){case dataViewTag:if(xe.byteLength!=pe.byteLength||xe.byteOffset!=pe.byteOffset)return!1;xe=xe.buffer,pe=pe.buffer;case arrayBufferTag:return!(xe.byteLength!=pe.byteLength||!Oe(new Uint8Array$1(xe),new Uint8Array$1(pe)));case boolTag:case dateTag:case numberTag:return eq(+xe,+pe);case errorTag:return xe.name==pe.name&&xe.message==pe.message;case regexpTag:case stringTag$1:return xe==pe+"";case mapTag:var Fe=mapToArray;case setTag:var Ue=Ce&COMPARE_PARTIAL_FLAG$4;if(Fe||(Fe=setToArray),xe.size!=pe.size&&!Ue)return!1;var $e=Ne.get(xe);if($e)return $e==pe;Ce|=COMPARE_UNORDERED_FLAG$2,Ne.set(xe,pe);var ze=equalArrays(Fe(xe),Fe(pe),Ce,Ie,Oe,Ne);return Ne.delete(xe),ze;case symbolTag:if(symbolValueOf)return symbolValueOf.call(xe)==symbolValueOf.call(pe)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(xe,pe,_e,Ce,Ie,Oe){var Ne=_e&COMPARE_PARTIAL_FLAG$3,Fe=getAllKeys(xe),Ue=Fe.length,$e=getAllKeys(pe),ze=$e.length;if(Ue!=ze&&!Ne)return!1;for(var Ve=Ue;Ve--;){var qe=Fe[Ve];if(!(Ne?qe in pe:hasOwnProperty$1.call(pe,qe)))return!1}var En=Oe.get(xe),vn=Oe.get(pe);if(En&&vn)return En==pe&&vn==xe;var hn=!0;Oe.set(xe,pe),Oe.set(pe,xe);for(var _n=Ne;++Ve<Ue;){qe=Fe[Ve];var bn=xe[qe],An=pe[qe];if(Ce)var xn=Ne?Ce(An,bn,qe,pe,xe,Oe):Ce(bn,An,qe,xe,pe,Oe);if(!(xn===void 0?bn===An||Ie(bn,An,_e,Ce,Oe):xn)){hn=!1;break}_n||(_n=qe=="constructor")}if(hn&&!_n){var Sn=xe.constructor,Cn=pe.constructor;Sn!=Cn&&"constructor"in xe&&"constructor"in pe&&!(typeof Sn=="function"&&Sn instanceof Sn&&typeof Cn=="function"&&Cn instanceof Cn)&&(hn=!1)}return Oe.delete(xe),Oe.delete(pe),hn}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(xe,pe,_e,Ce,Ie,Oe){var Ne=isArray$3(xe),Fe=isArray$3(pe),Ue=Ne?arrayTag:getTag$1(xe),$e=Fe?arrayTag:getTag$1(pe);Ue=Ue==argsTag?objectTag:Ue,$e=$e==argsTag?objectTag:$e;var ze=Ue==objectTag,Ve=$e==objectTag,qe=Ue==$e;if(qe&&isBuffer(xe)){if(!isBuffer(pe))return!1;Ne=!0,ze=!1}if(qe&&!ze)return Oe||(Oe=new Stack),Ne||isTypedArray(xe)?equalArrays(xe,pe,_e,Ce,Ie,Oe):equalByTag(xe,pe,Ue,_e,Ce,Ie,Oe);if(!(_e&COMPARE_PARTIAL_FLAG$2)){var En=ze&&hasOwnProperty.call(xe,"__wrapped__"),vn=Ve&&hasOwnProperty.call(pe,"__wrapped__");if(En||vn){var hn=En?xe.value():xe,_n=vn?pe.value():pe;return Oe||(Oe=new Stack),Ie(hn,_n,_e,Ce,Oe)}}return qe?(Oe||(Oe=new Stack),equalObjects(xe,pe,_e,Ce,Ie,Oe)):!1}function baseIsEqual(xe,pe,_e,Ce,Ie){return xe===pe?!0:xe==null||pe==null||!isObjectLike(xe)&&!isObjectLike(pe)?xe!==xe&&pe!==pe:baseIsEqualDeep(xe,pe,_e,Ce,baseIsEqual,Ie)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(xe,pe,_e,Ce){var Ie=_e.length,Oe=Ie,Ne=!Ce;if(xe==null)return!Oe;for(xe=Object(xe);Ie--;){var Fe=_e[Ie];if(Ne&&Fe[2]?Fe[1]!==xe[Fe[0]]:!(Fe[0]in xe))return!1}for(;++Ie<Oe;){Fe=_e[Ie];var Ue=Fe[0],$e=xe[Ue],ze=Fe[1];if(Ne&&Fe[2]){if($e===void 0&&!(Ue in xe))return!1}else{var Ve=new Stack;if(Ce)var qe=Ce($e,ze,Ue,xe,pe,Ve);if(!(qe===void 0?baseIsEqual(ze,$e,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,Ce,Ve):qe))return!1}}return!0}function isStrictComparable(xe){return xe===xe&&!isObject$2(xe)}function getMatchData(xe){for(var pe=keys(xe),_e=pe.length;_e--;){var Ce=pe[_e],Ie=xe[Ce];pe[_e]=[Ce,Ie,isStrictComparable(Ie)]}return pe}function matchesStrictComparable(xe,pe){return function(_e){return _e==null?!1:_e[xe]===pe&&(pe!==void 0||xe in Object(_e))}}function baseMatches(xe){var pe=getMatchData(xe);return pe.length==1&&pe[0][2]?matchesStrictComparable(pe[0][0],pe[0][1]):function(_e){return _e===xe||baseIsMatch(_e,xe,pe)}}function baseHasIn(xe,pe){return xe!=null&&pe in Object(xe)}function hasPath(xe,pe,_e){pe=castPath(pe,xe);for(var Ce=-1,Ie=pe.length,Oe=!1;++Ce<Ie;){var Ne=toKey(pe[Ce]);if(!(Oe=xe!=null&&_e(xe,Ne)))break;xe=xe[Ne]}return Oe||++Ce!=Ie?Oe:(Ie=xe==null?0:xe.length,!!Ie&&isLength(Ie)&&isIndex(Ne,Ie)&&(isArray$3(xe)||isArguments(xe)))}function hasIn(xe,pe){return xe!=null&&hasPath(xe,pe,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(xe,pe){return isKey(xe)&&isStrictComparable(pe)?matchesStrictComparable(toKey(xe),pe):function(_e){var Ce=get$1(_e,xe);return Ce===void 0&&Ce===pe?hasIn(_e,xe):baseIsEqual(pe,Ce,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(xe){return function(pe){return pe==null?void 0:pe[xe]}}function basePropertyDeep(xe){return function(pe){return baseGet(pe,xe)}}function property(xe){return isKey(xe)?baseProperty(toKey(xe)):basePropertyDeep(xe)}function baseIteratee(xe){return typeof xe=="function"?xe:xe==null?identity:typeof xe=="object"?isArray$3(xe)?baseMatchesProperty(xe[0],xe[1]):baseMatches(xe):property(xe)}var now$3=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin$2=Math.min;function debounce(xe,pe,_e){var Ce,Ie,Oe,Ne,Fe,Ue,$e=0,ze=!1,Ve=!1,qe=!0;if(typeof xe!="function")throw new TypeError(FUNC_ERROR_TEXT$1);pe=toNumber(pe)||0,isObject$2(_e)&&(ze=!!_e.leading,Ve="maxWait"in _e,Oe=Ve?nativeMax$1(toNumber(_e.maxWait)||0,pe):Oe,qe="trailing"in _e?!!_e.trailing:qe);function En(Tn){var wn=Ce,Ln=Ie;return Ce=Ie=void 0,$e=Tn,Ne=xe.apply(Ln,wn),Ne}function vn(Tn){return $e=Tn,Fe=setTimeout(bn,pe),ze?En(Tn):Ne}function hn(Tn){var wn=Tn-Ue,Ln=Tn-$e,Pn=pe-wn;return Ve?nativeMin$2(Pn,Oe-Ln):Pn}function _n(Tn){var wn=Tn-Ue,Ln=Tn-$e;return Ue===void 0||wn>=pe||wn<0||Ve&&Ln>=Oe}function bn(){var Tn=now$3();if(_n(Tn))return An(Tn);Fe=setTimeout(bn,hn(Tn))}function An(Tn){return Fe=void 0,qe&&Ce?En(Tn):(Ce=Ie=void 0,Ne)}function xn(){Fe!==void 0&&clearTimeout(Fe),$e=0,Ce=Ue=Ie=Fe=void 0}function Sn(){return Fe===void 0?Ne:An(now$3())}function Cn(){var Tn=now$3(),wn=_n(Tn);if(Ce=arguments,Ie=this,Ue=Tn,wn){if(Fe===void 0)return vn(Ue);if(Ve)return clearTimeout(Fe),Fe=setTimeout(bn,pe),En(Ue)}return Fe===void 0&&(Fe=setTimeout(bn,pe)),Ne}return Cn.cancel=xn,Cn.flush=Sn,Cn}function isArrayLikeObject(xe){return isObjectLike(xe)&&isArrayLike(xe)}function arrayIncludesWith(xe,pe,_e){for(var Ce=-1,Ie=xe==null?0:xe.length;++Ce<Ie;)if(_e(pe,xe[Ce]))return!0;return!1}var nativeMax=Math.max,nativeMin$1=Math.min;function findLastIndex(xe,pe,_e){var Ce=xe==null?0:xe.length;if(!Ce)return-1;var Ie=Ce-1;return _e!==void 0&&(Ie=toInteger(_e),Ie=_e<0?nativeMax(Ce+Ie,0):nativeMin$1(Ie,Ce-1)),baseFindIndex(xe,baseIteratee(pe),Ie,!0)}var INFINITY$1=1/0;function flattenDeep(xe){var pe=xe==null?0:xe.length;return pe?baseFlatten(xe,INFINITY$1):[]}function fromPairs(xe){for(var pe=-1,_e=xe==null?0:xe.length,Ce={};++pe<_e;){var Ie=xe[pe];Ce[Ie[0]]=Ie[1]}return Ce}var stringTag="[object String]";function isString$1(xe){return typeof xe=="string"||!isArray$3(xe)&&isObjectLike(xe)&&baseGetTag(xe)==stringTag}function isEqual(xe,pe){return baseIsEqual(xe,pe)}function isInteger(xe){return typeof xe=="number"&&xe==toInteger(xe)}function isNil(xe){return xe==null}function isUndefined$1(xe){return xe===void 0}function baseSum(xe,pe){for(var _e,Ce=-1,Ie=xe.length;++Ce<Ie;){var Oe=pe(xe[Ce]);Oe!==void 0&&(_e=_e===void 0?Oe:_e+Oe)}return _e}function baseSet(xe,pe,_e,Ce){if(!isObject$2(xe))return xe;pe=castPath(pe,xe);for(var Ie=-1,Oe=pe.length,Ne=Oe-1,Fe=xe;Fe!=null&&++Ie<Oe;){var Ue=toKey(pe[Ie]),$e=_e;if(Ue==="__proto__"||Ue==="constructor"||Ue==="prototype")return xe;if(Ie!=Ne){var ze=Fe[Ue];$e=Ce?Ce(ze,Ue,Fe):void 0,$e===void 0&&($e=isObject$2(ze)?ze:isIndex(pe[Ie+1])?[]:{})}assignValue(Fe,Ue,$e),Fe=Fe[Ue]}return xe}function basePickBy(xe,pe,_e){for(var Ce=-1,Ie=pe.length,Oe={};++Ce<Ie;){var Ne=pe[Ce],Fe=baseGet(xe,Ne);_e(Fe,Ne)&&baseSet(Oe,castPath(Ne,xe),Fe)}return Oe}function basePick(xe,pe){return basePickBy(xe,pe,function(_e,Ce){return hasIn(xe,Ce)})}var pick$1=flatRest(function(xe,pe){return xe==null?{}:basePick(xe,pe)}),nativeFloor=Math.floor,nativeRandom$1=Math.random;function baseRandom(xe,pe){return xe+nativeFloor(nativeRandom$1()*(pe-xe+1))}var freeParseFloat=parseFloat,nativeMin=Math.min,nativeRandom=Math.random;function random(xe,pe,_e){if(_e&&typeof _e!="boolean"&&isIterateeCall(xe,pe,_e)&&(pe=_e=void 0),_e===void 0&&(typeof pe=="boolean"?(_e=pe,pe=void 0):typeof xe=="boolean"&&(_e=xe,xe=void 0)),xe===void 0&&pe===void 0?(xe=0,pe=1):(xe=toFinite(xe),pe===void 0?(pe=xe,xe=0):pe=toFinite(pe)),xe>pe){var Ce=xe;xe=pe,pe=Ce}if(_e||xe%1||pe%1){var Ie=nativeRandom();return nativeMin(xe+Ie*(pe-xe+freeParseFloat("1e-"+((Ie+"").length-1))),pe)}return baseRandom(xe,pe)}function set$1(xe,pe,_e){return xe==null?xe:baseSet(xe,pe,_e)}function sum(xe){return xe&&xe.length?baseSum(xe,identity):0}var FUNC_ERROR_TEXT="Expected a function";function throttle(xe,pe,_e){var Ce=!0,Ie=!0;if(typeof xe!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$2(_e)&&(Ce="leading"in _e?!!_e.leading:Ce,Ie="trailing"in _e?!!_e.trailing:Ie),debounce(xe,pe,{leading:Ce,maxWait:pe,trailing:Ie})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(xe){return new Set$1(xe)}:noop$5,LARGE_ARRAY_SIZE=200;function baseUniq(xe,pe,_e){var Ce=-1,Ie=arrayIncludes,Oe=xe.length,Ne=!0,Fe=[],Ue=Fe;if(_e)Ne=!1,Ie=arrayIncludesWith;else if(Oe>=LARGE_ARRAY_SIZE){var $e=pe?null:createSet(xe);if($e)return setToArray($e);Ne=!1,Ie=cacheHas,Ue=new SetCache}else Ue=pe?[]:Fe;e:for(;++Ce<Oe;){var ze=xe[Ce],Ve=pe?pe(ze):ze;if(ze=_e||ze!==0?ze:0,Ne&&Ve===Ve){for(var qe=Ue.length;qe--;)if(Ue[qe]===Ve)continue e;pe&&Ue.push(Ve),Fe.push(ze)}else Ie(Ue,Ve,_e)||(Ue!==Fe&&Ue.push(Ve),Fe.push(ze))}return Fe}var union=baseRest(function(xe){return baseUniq(baseFlatten(xe,1,isArrayLikeObject,!0))});const isUndefined=xe=>xe===void 0,isBoolean=xe=>typeof xe=="boolean",isNumber=xe=>typeof xe=="number",isEmpty=xe=>!xe&&xe!==0||isArray$4(xe)&&xe.length===0||isObject$3(xe)&&!Object.keys(xe).length,isElement=xe=>typeof Element>"u"?!1:xe instanceof Element,isPropAbsent=xe=>isNil(xe),isStringNumber=xe=>isString$3(xe)?!Number.isNaN(Number(xe)):!1,escapeStringRegexp=(xe="")=>xe.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=xe=>capitalize$1(xe),keysOf=xe=>Object.keys(xe),entriesOf=xe=>Object.entries(xe),getProp=(xe,pe,_e)=>({get value(){return get$1(xe,pe,_e)},set value(Ce){set$1(xe,pe,Ce)}});class ElementPlusError extends Error{constructor(pe){super(pe),this.name="ElementPlusError"}}function throwError$1(xe,pe){throw new ElementPlusError("[".concat(xe,"] ").concat(pe))}function debugWarn(xe,pe){}const classNameToArray=(xe="")=>xe.split(" ").filter(pe=>!!pe.trim()),hasClass=(xe,pe)=>{if(!xe||!pe)return!1;if(pe.includes(" "))throw new Error("className should not contain space.");return xe.classList.contains(pe)},addClass=(xe,pe)=>{!xe||!pe.trim()||xe.classList.add(...classNameToArray(pe))},removeClass=(xe,pe)=>{!xe||!pe.trim()||xe.classList.remove(...classNameToArray(pe))},getStyle$1=(xe,pe)=>{var _e;if(!isClient||!xe||!pe)return"";let Ce=camelize(pe);Ce==="float"&&(Ce="cssFloat");try{const Ie=xe.style[Ce];if(Ie)return Ie;const Oe=(_e=document.defaultView)==null?void 0:_e.getComputedStyle(xe,"");return Oe?Oe[Ce]:""}catch(Ie){return xe.style[Ce]}};function addUnit(xe,pe="px"){if(!xe)return"";if(isNumber(xe)||isStringNumber(xe))return"".concat(xe).concat(pe);if(isString$3(xe))return xe}const isScroll=(xe,pe)=>{if(!isClient)return!1;const _e={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(pe)],Ce=getStyle$1(xe,_e);return["scroll","auto","overlay"].some(Ie=>Ce.includes(Ie))},getScrollContainer=(xe,pe)=>{if(!isClient)return;let _e=xe;for(;_e;){if([window,document,document.documentElement].includes(_e))return window;if(isScroll(_e,pe))return _e;_e=_e.parentNode}return _e};let scrollBarWidth;const getScrollBarWidth=xe=>{var pe;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const _e=document.createElement("div");_e.className="".concat(xe,"-scrollbar__wrap"),_e.style.visibility="hidden",_e.style.width="100px",_e.style.position="absolute",_e.style.top="-9999px",document.body.appendChild(_e);const Ce=_e.offsetWidth;_e.style.overflow="scroll";const Ie=document.createElement("div");Ie.style.width="100%",_e.appendChild(Ie);const Oe=Ie.offsetWidth;return(pe=_e.parentNode)==null||pe.removeChild(_e),scrollBarWidth=Ce-Oe,scrollBarWidth};function scrollIntoView(xe,pe){if(!isClient)return;if(!pe){xe.scrollTop=0;return}const _e=[];let Ce=pe.offsetParent;for(;Ce!==null&&xe!==Ce&&xe.contains(Ce);)_e.push(Ce),Ce=Ce.offsetParent;const Ie=pe.offsetTop+_e.reduce((Ue,$e)=>Ue+$e.offsetTop,0),Oe=Ie+pe.offsetHeight,Ne=xe.scrollTop,Fe=Ne+xe.clientHeight;Ie<Ne?xe.scrollTop=Ie:Oe>Fe&&(xe.scrollTop=Oe-xe.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var arrow_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowDown",__name:"arrow-down",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowLeft",__name:"arrow-left",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_left_default=arrow_left_vue_vue_type_script_setup_true_lang_default,arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowRight",__name:"arrow-right",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_right_default=arrow_right_vue_vue_type_script_setup_true_lang_default,arrow_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowUp",__name:"arrow-up",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),arrow_up_default=arrow_up_vue_vue_type_script_setup_true_lang_default,calendar_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Calendar",__name:"calendar",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),calendar_default=calendar_vue_vue_type_script_setup_true_lang_default,caret_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretRight",__name:"caret-right",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),caret_right_default=caret_right_vue_vue_type_script_setup_true_lang_default,check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Check",__name:"check",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),check_default=check_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheck",__name:"circle-check",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),circle_close_filled_default=circle_close_filled_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleClose",__name:"circle-close",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,clock_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Clock",__name:"clock",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),clock_default=clock_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Close",__name:"close",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=close_vue_vue_type_script_setup_true_lang_default,d_arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowLeft",__name:"d-arrow-left",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),d_arrow_left_default=d_arrow_left_vue_vue_type_script_setup_true_lang_default,d_arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowRight",__name:"d-arrow-right",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),d_arrow_right_default=d_arrow_right_vue_vue_type_script_setup_true_lang_default,delete_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Delete",__name:"delete",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),delete_default=delete_vue_vue_type_script_setup_true_lang_default,document_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Document",__name:"document",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),document_default=document_vue_vue_type_script_setup_true_lang_default,full_screen_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"FullScreen",__name:"full-screen",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),full_screen_default=full_screen_vue_vue_type_script_setup_true_lang_default,help_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Help",__name:"help",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752m45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),help_default=help_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Hide",__name:"hide",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,info_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"InfoFilled",__name:"info-filled",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),info_filled_default=info_filled_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,minus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Minus",__name:"minus",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),minus_default=minus_vue_vue_type_script_setup_true_lang_default,more_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"More",__name:"more",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),more_default=more_vue_vue_type_script_setup_true_lang_default,plus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Plus",__name:"plus",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),plus_default=plus_vue_vue_type_script_setup_true_lang_default,refresh_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshLeft",__name:"refresh-left",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),refresh_left_default=refresh_left_vue_vue_type_script_setup_true_lang_default,refresh_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshRight",__name:"refresh-right",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),refresh_right_default=refresh_right_vue_vue_type_script_setup_true_lang_default,scale_to_original_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ScaleToOriginal",__name:"scale-to-original",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),scale_to_original_default=scale_to_original_vue_vue_type_script_setup_true_lang_default,star_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"StarFilled",__name:"star-filled",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),star_filled_default=star_filled_vue_vue_type_script_setup_true_lang_default,star_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Star",__name:"star",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),star_default=star_vue_vue_type_script_setup_true_lang_default,success_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),success_filled_default=success_filled_vue_vue_type_script_setup_true_lang_default,takeaway_box_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"TakeawayBox",__name:"takeaway-box",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H192v448h640zM96 320h832V128H96zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64"})]))}}),takeaway_box_default=takeaway_box_vue_vue_type_script_setup_true_lang_default,tickets_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Tickets",__name:"tickets",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}}),tickets_default=tickets_vue_vue_type_script_setup_true_lang_default,video_play_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"VideoPlay",__name:"video-play",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),video_play_default=video_play_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"View",__name:"view",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=view_vue_vue_type_script_setup_true_lang_default,warning_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),warning_filled_default=warning_filled_vue_vue_type_script_setup_true_lang_default,zoom_in_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomIn",__name:"zoom-in",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),zoom_in_default=zoom_in_vue_vue_type_script_setup_true_lang_default,zoom_out_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomOut",__name:"zoom-out",setup(xe){return(pe,_e)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),zoom_out_default=zoom_out_vue_vue_type_script_setup_true_lang_default;const epPropKey="__epPropKey",definePropType=xe=>xe,isEpProp=xe=>isObject$3(xe)&&!!xe[epPropKey],buildProp=(xe,pe)=>{if(!isObject$3(xe)||isEpProp(xe))return xe;const{values:_e,required:Ce,default:Ie,type:Oe,validator:Ne}=xe,Ue={type:Oe,required:!!Ce,validator:_e||Ne?$e=>{let ze=!1,Ve=[];if(_e&&(Ve=Array.from(_e),hasOwn(xe,"default")&&Ve.push(Ie),ze||(ze=Ve.includes($e))),Ne&&(ze||(ze=Ne($e))),!ze&&Ve.length>0){const qe=[...new Set(Ve)].map(En=>JSON.stringify(En)).join(", ");warn("Invalid prop: validation failed".concat(pe?' for prop "'.concat(pe,'"'):"",". Expected one of [").concat(qe,"], got value ").concat(JSON.stringify($e),"."))}return ze}:void 0,[epPropKey]:!0};return hasOwn(xe,"default")&&(Ue.default=Ie),Ue},buildProps=xe=>fromPairs(Object.entries(xe).map(([pe,_e])=>[pe,buildProp(_e,pe)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall$1=(xe,pe)=>{if(xe.install=_e=>{for(const Ce of[xe,...Object.values(pe!=null?pe:{})])_e.component(Ce.name,Ce)},pe)for(const[_e,Ce]of Object.entries(pe))xe[_e]=Ce;return xe},withInstallFunction=(xe,pe)=>(xe.install=_e=>{xe._context=_e._context,_e.config.globalProperties[pe]=xe},xe),withNoopInstall=xe=>(xe.install=NOOP,xe),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},datePickTypes=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",componentSizes=["","default","small","large"],isValidComponentSize=xe=>["",...componentSizes].includes(xe);var PatchFlags=(xe=>(xe[xe.TEXT=1]="TEXT",xe[xe.CLASS=2]="CLASS",xe[xe.STYLE=4]="STYLE",xe[xe.PROPS=8]="PROPS",xe[xe.FULL_PROPS=16]="FULL_PROPS",xe[xe.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",xe[xe.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",xe[xe.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",xe[xe.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",xe[xe.NEED_PATCH=512]="NEED_PATCH",xe[xe.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",xe[xe.HOISTED=-1]="HOISTED",xe[xe.BAIL=-2]="BAIL",xe))(PatchFlags||{});const flattedChildren=xe=>{const pe=isArray$4(xe)?xe:[xe],_e=[];return pe.forEach(Ce=>{var Ie;isArray$4(Ce)?_e.push(...flattedChildren(Ce)):isVNode(Ce)&&isArray$4(Ce.children)?_e.push(...flattedChildren(Ce.children)):(_e.push(Ce),isVNode(Ce)&&((Ie=Ce.component)!=null&&Ie.subTree)&&_e.push(...flattedChildren(Ce.component.subTree)))}),_e},unique=xe=>[...new Set(xe)],castArray=xe=>!xe&&xe!==0?[]:Array.isArray(xe)?xe:[xe],isKorean=xe=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(xe),mutable=xe=>xe,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(xe={})=>{const{excludeListeners:pe=!1,excludeKeys:_e}=xe,Ce=computed(()=>((_e==null?void 0:_e.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),Ie=getCurrentInstance();return computed(Ie?()=>{var Oe;return fromPairs(Object.entries((Oe=Ie.proxy)==null?void 0:Oe.$attrs).filter(([Ne])=>!Ce.value.includes(Ne)&&!(pe&&LISTENER_PREFIX.test(Ne))))}:()=>({}))},useDeprecated=({from:xe,replacement:pe,scope:_e,version:Ce,ref:Ie,type:Oe="API"},Ne)=>{watch(()=>unref(Ne),Fe=>{},{immediate:!0})},useDraggable=(xe,pe,_e,Ce)=>{let Ie={offsetX:0,offsetY:0};const Oe=Ue=>{const $e=Ue.clientX,ze=Ue.clientY,{offsetX:Ve,offsetY:qe}=Ie,En=xe.value.getBoundingClientRect(),vn=En.left,hn=En.top,_n=En.width,bn=En.height,An=document.documentElement.clientWidth,xn=document.documentElement.clientHeight,Sn=-vn+Ve,Cn=-hn+qe,Tn=An-vn-_n+Ve,wn=xn-hn-bn+qe,Ln=kn=>{let In=Ve+kn.clientX-$e,Rn=qe+kn.clientY-ze;Ce!=null&&Ce.value||(In=Math.min(Math.max(In,Sn),Tn),Rn=Math.min(Math.max(Rn,Cn),wn)),Ie={offsetX:In,offsetY:Rn},xe.value&&(xe.value.style.transform="translate(".concat(addUnit(In),", ").concat(addUnit(Rn),")"))},Pn=()=>{document.removeEventListener("mousemove",Ln),document.removeEventListener("mouseup",Pn)};document.addEventListener("mousemove",Ln),document.addEventListener("mouseup",Pn)},Ne=()=>{pe.value&&xe.value&&pe.value.addEventListener("mousedown",Oe)},Fe=()=>{pe.value&&xe.value&&pe.value.removeEventListener("mousedown",Oe)};onMounted(()=>{watchEffect(()=>{_e.value?Ne():Fe()})}),onBeforeUnmount(()=>{Fe()})};var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const buildTranslator=xe=>(pe,_e)=>translate(pe,_e,unref(xe)),translate=(xe,pe,_e)=>get$1(_e,xe,xe).replace(/\{(\w+)\}/g,(Ce,Ie)=>{var Oe;return"".concat((Oe=pe==null?void 0:pe[Ie])!=null?Oe:"{".concat(Ie,"}"))}),buildLocaleContext=xe=>{const pe=computed(()=>unref(xe).name),_e=isRef(xe)?xe:ref(xe);return{lang:pe,locale:_e,t:buildTranslator(xe)}},localeContextKey=Symbol("localeContextKey"),useLocale=xe=>{const pe=xe||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>pe.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(xe,pe,_e,Ce,Ie)=>{let Oe="".concat(xe,"-").concat(pe);return _e&&(Oe+="-".concat(_e)),Ce&&(Oe+="__".concat(Ce)),Ie&&(Oe+="--".concat(Ie)),Oe},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=xe=>{const pe=xe||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(pe)||defaultNamespace)},useNamespace=(xe,pe)=>{const _e=useGetDerivedNamespace(pe);return{namespace:_e,b:(hn="")=>_bem(_e.value,xe,hn,"",""),e:hn=>hn?_bem(_e.value,xe,"",hn,""):"",m:hn=>hn?_bem(_e.value,xe,"","",hn):"",be:(hn,_n)=>hn&&_n?_bem(_e.value,xe,hn,_n,""):"",em:(hn,_n)=>hn&&_n?_bem(_e.value,xe,"",hn,_n):"",bm:(hn,_n)=>hn&&_n?_bem(_e.value,xe,hn,"",_n):"",bem:(hn,_n,bn)=>hn&&_n&&bn?_bem(_e.value,xe,hn,_n,bn):"",is:(hn,..._n)=>{const bn=_n.length>=1?_n[0]:!0;return hn&&bn?"".concat(statePrefix).concat(hn):""},cssVar:hn=>{const _n={};for(const bn in hn)hn[bn]&&(_n["--".concat(_e.value,"-").concat(bn)]=hn[bn]);return _n},cssVarName:hn=>"--".concat(_e.value,"-").concat(hn),cssVarBlock:hn=>{const _n={};for(const bn in hn)hn[bn]&&(_n["--".concat(_e.value,"-").concat(xe,"-").concat(bn)]=hn[bn]);return _n},cssVarBlockName:hn=>"--".concat(_e.value,"-").concat(xe,"-").concat(hn)}},useLockscreen=(xe,pe={})=>{isRef(xe)||throwError$1("[useLockscreen]","You need to pass a ref param to this function");const _e=pe.ns||useNamespace("popup"),Ce=computed(()=>_e.bm("parent","hidden"));if(!isClient||hasClass(document.body,Ce.value))return;let Ie=0,Oe=!1,Ne="0";const Fe=()=>{setTimeout(()=>{removeClass(document==null?void 0:document.body,Ce.value),Oe&&document&&(document.body.style.width=Ne)},200)};watch(xe,Ue=>{if(!Ue){Fe();return}Oe=!hasClass(document.body,Ce.value),Oe&&(Ne=document.body.style.width),Ie=getScrollBarWidth(_e.namespace.value);const $e=document.documentElement.clientHeight<document.body.scrollHeight,ze=getStyle$1(document.body,"overflowY");Ie>0&&($e||ze==="scroll")&&Oe&&(document.body.style.width="calc(100% - ".concat(Ie,"px)")),addClass(document.body,Ce.value)}),onScopeDispose(()=>Fe())},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=xe=>{const pe="update:".concat(xe),_e="onUpdate:".concat(xe),Ce=[pe],Ie={[xe]:_prop,[_e]:_event};return{useModelToggle:({indicator:Ne,toggleReason:Fe,shouldHideWhenRouteChanges:Ue,shouldProceed:$e,onShow:ze,onHide:Ve})=>{const qe=getCurrentInstance(),{emit:En}=qe,vn=qe.props,hn=computed(()=>isFunction$2(vn[_e])),_n=computed(()=>vn[xe]===null),bn=wn=>{Ne.value!==!0&&(Ne.value=!0,Fe&&(Fe.value=wn),isFunction$2(ze)&&ze(wn))},An=wn=>{Ne.value!==!1&&(Ne.value=!1,Fe&&(Fe.value=wn),isFunction$2(Ve)&&Ve(wn))},xn=wn=>{if(vn.disabled===!0||isFunction$2($e)&&!$e())return;const Ln=hn.value&&isClient;Ln&&En(pe,!0),(_n.value||!Ln)&&bn(wn)},Sn=wn=>{if(vn.disabled===!0||!isClient)return;const Ln=hn.value&&isClient;Ln&&En(pe,!1),(_n.value||!Ln)&&An(wn)},Cn=wn=>{isBoolean(wn)&&(vn.disabled&&wn?hn.value&&En(pe,!1):Ne.value!==wn&&(wn?bn():An()))},Tn=()=>{Ne.value?Sn():xn()};return watch(()=>vn[xe],Cn),Ue&&qe.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...qe.proxy.$route}),()=>{Ue.value&&Ne.value&&Sn()}),onMounted(()=>{Cn(vn[xe])}),{hide:Sn,show:xn,toggle:Tn,hasUpdateHandler:hn}},useModelToggleProps:Ie,useModelToggleEmits:Ce}};createModelToggleComposable("modelValue");const useProp=xe=>{const pe=getCurrentInstance();return computed(()=>{var _e,Ce;return(Ce=(_e=pe==null?void 0:pe.proxy)==null?void 0:_e.$props)==null?void 0:Ce[xe]})};var E$1="top",R$1="bottom",W$1="right",P$1="left",me="auto",G=[E$1,R$1,W$1,P$1],U="start",J$2="end",Xe="clippingParents",je="viewport",K$1="popper",Ye="reference",De=G.reduce(function(xe,pe){return xe.concat([pe+"-"+U,pe+"-"+J$2])},[]),Ee=[].concat(G,[me]).reduce(function(xe,pe){return xe.concat([pe,pe+"-"+U,pe+"-"+J$2])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et$1="afterMain",tt$1="beforeWrite",nt$1="write",rt$1="afterWrite",ot$1=[Ge,Je,Ke,Qe,Ze,et$1,tt$1,nt$1,rt$1];function C(xe){return xe?(xe.nodeName||"").toLowerCase():null}function H$1(xe){if(xe==null)return window;if(xe.toString()!=="[object Window]"){var pe=xe.ownerDocument;return pe&&pe.defaultView||window}return xe}function Q$1(xe){var pe=H$1(xe).Element;return xe instanceof pe||xe instanceof Element}function B$1(xe){var pe=H$1(xe).HTMLElement;return xe instanceof pe||xe instanceof HTMLElement}function Pe(xe){if(typeof ShadowRoot>"u")return!1;var pe=H$1(xe).ShadowRoot;return xe instanceof pe||xe instanceof ShadowRoot}function Mt$1(xe){var pe=xe.state;Object.keys(pe.elements).forEach(function(_e){var Ce=pe.styles[_e]||{},Ie=pe.attributes[_e]||{},Oe=pe.elements[_e];!B$1(Oe)||!C(Oe)||(Object.assign(Oe.style,Ce),Object.keys(Ie).forEach(function(Ne){var Fe=Ie[Ne];Fe===!1?Oe.removeAttribute(Ne):Oe.setAttribute(Ne,Fe===!0?"":Fe)}))})}function Rt$1(xe){var pe=xe.state,_e={popper:{position:pe.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(pe.elements.popper.style,_e.popper),pe.styles=_e,pe.elements.arrow&&Object.assign(pe.elements.arrow.style,_e.arrow),function(){Object.keys(pe.elements).forEach(function(Ce){var Ie=pe.elements[Ce],Oe=pe.attributes[Ce]||{},Ne=Object.keys(pe.styles.hasOwnProperty(Ce)?pe.styles[Ce]:_e[Ce]),Fe=Ne.reduce(function(Ue,$e){return Ue[$e]="",Ue},{});!B$1(Ie)||!C(Ie)||(Object.assign(Ie.style,Fe),Object.keys(Oe).forEach(function(Ue){Ie.removeAttribute(Ue)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt$1,effect:Rt$1,requires:["computeStyles"]};function q$2(xe){return xe.split("-")[0]}var X$1=Math.max,ve$1=Math.min,Z$1=Math.round;function ee$1(xe,pe){pe===void 0&&(pe=!1);var _e=xe.getBoundingClientRect(),Ce=1,Ie=1;if(B$1(xe)&&pe){var Oe=xe.offsetHeight,Ne=xe.offsetWidth;Ne>0&&(Ce=Z$1(_e.width)/Ne||1),Oe>0&&(Ie=Z$1(_e.height)/Oe||1)}return{width:_e.width/Ce,height:_e.height/Ie,top:_e.top/Ie,right:_e.right/Ce,bottom:_e.bottom/Ie,left:_e.left/Ce,x:_e.left/Ce,y:_e.top/Ie}}function ke(xe){var pe=ee$1(xe),_e=xe.offsetWidth,Ce=xe.offsetHeight;return Math.abs(pe.width-_e)<=1&&(_e=pe.width),Math.abs(pe.height-Ce)<=1&&(Ce=pe.height),{x:xe.offsetLeft,y:xe.offsetTop,width:_e,height:Ce}}function it$1(xe,pe){var _e=pe.getRootNode&&pe.getRootNode();if(xe.contains(pe))return!0;if(_e&&Pe(_e)){var Ce=pe;do{if(Ce&&xe.isSameNode(Ce))return!0;Ce=Ce.parentNode||Ce.host}while(Ce)}return!1}function N$1(xe){return H$1(xe).getComputedStyle(xe)}function Wt$1(xe){return["table","td","th"].indexOf(C(xe))>=0}function I$1(xe){return((Q$1(xe)?xe.ownerDocument:xe.document)||window.document).documentElement}function ge$1(xe){return C(xe)==="html"?xe:xe.assignedSlot||xe.parentNode||(Pe(xe)?xe.host:null)||I$1(xe)}function at$1(xe){return!B$1(xe)||N$1(xe).position==="fixed"?null:xe.offsetParent}function Bt$1(xe){var pe=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,_e=navigator.userAgent.indexOf("Trident")!==-1;if(_e&&B$1(xe)){var Ce=N$1(xe);if(Ce.position==="fixed")return null}var Ie=ge$1(xe);for(Pe(Ie)&&(Ie=Ie.host);B$1(Ie)&&["html","body"].indexOf(C(Ie))<0;){var Oe=N$1(Ie);if(Oe.transform!=="none"||Oe.perspective!=="none"||Oe.contain==="paint"||["transform","perspective"].indexOf(Oe.willChange)!==-1||pe&&Oe.willChange==="filter"||pe&&Oe.filter&&Oe.filter!=="none")return Ie;Ie=Ie.parentNode}return null}function se$1(xe){for(var pe=H$1(xe),_e=at$1(xe);_e&&Wt$1(_e)&&N$1(_e).position==="static";)_e=at$1(_e);return _e&&(C(_e)==="html"||C(_e)==="body"&&N$1(_e).position==="static")?pe:_e||Bt$1(xe)||pe}function Le(xe){return["top","bottom"].indexOf(xe)>=0?"x":"y"}function fe$1(xe,pe,_e){return X$1(xe,ve$1(pe,_e))}function St$1(xe,pe,_e){var Ce=fe$1(xe,pe,_e);return Ce>_e?_e:Ce}function st$1(){return{top:0,right:0,bottom:0,left:0}}function ft$1(xe){return Object.assign({},st$1(),xe)}function ct$1(xe,pe){return pe.reduce(function(_e,Ce){return _e[Ce]=xe,_e},{})}var Tt$1=function(xe,pe){return xe=typeof xe=="function"?xe(Object.assign({},pe.rects,{placement:pe.placement})):xe,ft$1(typeof xe!="number"?xe:ct$1(xe,G))};function Ht$1(xe){var pe,_e=xe.state,Ce=xe.name,Ie=xe.options,Oe=_e.elements.arrow,Ne=_e.modifiersData.popperOffsets,Fe=q$2(_e.placement),Ue=Le(Fe),$e=[P$1,W$1].indexOf(Fe)>=0,ze=$e?"height":"width";if(!(!Oe||!Ne)){var Ve=Tt$1(Ie.padding,_e),qe=ke(Oe),En=Ue==="y"?E$1:P$1,vn=Ue==="y"?R$1:W$1,hn=_e.rects.reference[ze]+_e.rects.reference[Ue]-Ne[Ue]-_e.rects.popper[ze],_n=Ne[Ue]-_e.rects.reference[Ue],bn=se$1(Oe),An=bn?Ue==="y"?bn.clientHeight||0:bn.clientWidth||0:0,xn=hn/2-_n/2,Sn=Ve[En],Cn=An-qe[ze]-Ve[vn],Tn=An/2-qe[ze]/2+xn,wn=fe$1(Sn,Tn,Cn),Ln=Ue;_e.modifiersData[Ce]=(pe={},pe[Ln]=wn,pe.centerOffset=wn-Tn,pe)}}function Ct$1(xe){var pe=xe.state,_e=xe.options,Ce=_e.element,Ie=Ce===void 0?"[data-popper-arrow]":Ce;Ie!=null&&(typeof Ie=="string"&&(Ie=pe.elements.popper.querySelector(Ie),!Ie)||!it$1(pe.elements.popper,Ie)||(pe.elements.arrow=Ie))}var pt$1={name:"arrow",enabled:!0,phase:"main",fn:Ht$1,effect:Ct$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te$1(xe){return xe.split("-")[1]}var qt$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt$1(xe){var pe=xe.x,_e=xe.y,Ce=window,Ie=Ce.devicePixelRatio||1;return{x:Z$1(pe*Ie)/Ie||0,y:Z$1(_e*Ie)/Ie||0}}function ut$1(xe){var pe,_e=xe.popper,Ce=xe.popperRect,Ie=xe.placement,Oe=xe.variation,Ne=xe.offsets,Fe=xe.position,Ue=xe.gpuAcceleration,$e=xe.adaptive,ze=xe.roundOffsets,Ve=xe.isFixed,qe=Ne.x,En=qe===void 0?0:qe,vn=Ne.y,hn=vn===void 0?0:vn,_n=typeof ze=="function"?ze({x:En,y:hn}):{x:En,y:hn};En=_n.x,hn=_n.y;var bn=Ne.hasOwnProperty("x"),An=Ne.hasOwnProperty("y"),xn=P$1,Sn=E$1,Cn=window;if($e){var Tn=se$1(_e),wn="clientHeight",Ln="clientWidth";if(Tn===H$1(_e)&&(Tn=I$1(_e),N$1(Tn).position!=="static"&&Fe==="absolute"&&(wn="scrollHeight",Ln="scrollWidth")),Tn=Tn,Ie===E$1||(Ie===P$1||Ie===W$1)&&Oe===J$2){Sn=R$1;var Pn=Ve&&Tn===Cn&&Cn.visualViewport?Cn.visualViewport.height:Tn[wn];hn-=Pn-Ce.height,hn*=Ue?1:-1}if(Ie===P$1||(Ie===E$1||Ie===R$1)&&Oe===J$2){xn=W$1;var kn=Ve&&Tn===Cn&&Cn.visualViewport?Cn.visualViewport.width:Tn[Ln];En-=kn-Ce.width,En*=Ue?1:-1}}var In=Object.assign({position:Fe},$e&&qt$1),Rn=ze===!0?Vt$1({x:En,y:hn}):{x:En,y:hn};if(En=Rn.x,hn=Rn.y,Ue){var Nn;return Object.assign({},In,(Nn={},Nn[Sn]=An?"0":"",Nn[xn]=bn?"0":"",Nn.transform=(Cn.devicePixelRatio||1)<=1?"translate("+En+"px, "+hn+"px)":"translate3d("+En+"px, "+hn+"px, 0)",Nn))}return Object.assign({},In,(pe={},pe[Sn]=An?hn+"px":"",pe[xn]=bn?En+"px":"",pe.transform="",pe))}function Nt$1(xe){var pe=xe.state,_e=xe.options,Ce=_e.gpuAcceleration,Ie=Ce===void 0?!0:Ce,Oe=_e.adaptive,Ne=Oe===void 0?!0:Oe,Fe=_e.roundOffsets,Ue=Fe===void 0?!0:Fe,$e={placement:q$2(pe.placement),variation:te$1(pe.placement),popper:pe.elements.popper,popperRect:pe.rects.popper,gpuAcceleration:Ie,isFixed:pe.options.strategy==="fixed"};pe.modifiersData.popperOffsets!=null&&(pe.styles.popper=Object.assign({},pe.styles.popper,ut$1(Object.assign({},$e,{offsets:pe.modifiersData.popperOffsets,position:pe.options.strategy,adaptive:Ne,roundOffsets:Ue})))),pe.modifiersData.arrow!=null&&(pe.styles.arrow=Object.assign({},pe.styles.arrow,ut$1(Object.assign({},$e,{offsets:pe.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ue})))),pe.attributes.popper=Object.assign({},pe.attributes.popper,{"data-popper-placement":pe.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt$1,data:{}},ye={passive:!0};function It$1(xe){var pe=xe.state,_e=xe.instance,Ce=xe.options,Ie=Ce.scroll,Oe=Ie===void 0?!0:Ie,Ne=Ce.resize,Fe=Ne===void 0?!0:Ne,Ue=H$1(pe.elements.popper),$e=[].concat(pe.scrollParents.reference,pe.scrollParents.popper);return Oe&&$e.forEach(function(ze){ze.addEventListener("scroll",_e.update,ye)}),Fe&&Ue.addEventListener("resize",_e.update,ye),function(){Oe&&$e.forEach(function(ze){ze.removeEventListener("scroll",_e.update,ye)}),Fe&&Ue.removeEventListener("resize",_e.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It$1,data:{}},_t$1={left:"right",right:"left",bottom:"top",top:"bottom"};function be(xe){return xe.replace(/left|right|bottom|top/g,function(pe){return _t$1[pe]})}var zt$1={start:"end",end:"start"};function lt$1(xe){return xe.replace(/start|end/g,function(pe){return zt$1[pe]})}function We(xe){var pe=H$1(xe),_e=pe.pageXOffset,Ce=pe.pageYOffset;return{scrollLeft:_e,scrollTop:Ce}}function Be(xe){return ee$1(I$1(xe)).left+We(xe).scrollLeft}function Ft$1(xe){var pe=H$1(xe),_e=I$1(xe),Ce=pe.visualViewport,Ie=_e.clientWidth,Oe=_e.clientHeight,Ne=0,Fe=0;return Ce&&(Ie=Ce.width,Oe=Ce.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Ne=Ce.offsetLeft,Fe=Ce.offsetTop)),{width:Ie,height:Oe,x:Ne+Be(xe),y:Fe}}function Ut$1(xe){var pe,_e=I$1(xe),Ce=We(xe),Ie=(pe=xe.ownerDocument)==null?void 0:pe.body,Oe=X$1(_e.scrollWidth,_e.clientWidth,Ie?Ie.scrollWidth:0,Ie?Ie.clientWidth:0),Ne=X$1(_e.scrollHeight,_e.clientHeight,Ie?Ie.scrollHeight:0,Ie?Ie.clientHeight:0),Fe=-Ce.scrollLeft+Be(xe),Ue=-Ce.scrollTop;return N$1(Ie||_e).direction==="rtl"&&(Fe+=X$1(_e.clientWidth,Ie?Ie.clientWidth:0)-Oe),{width:Oe,height:Ne,x:Fe,y:Ue}}function Se(xe){var pe=N$1(xe),_e=pe.overflow,Ce=pe.overflowX,Ie=pe.overflowY;return/auto|scroll|overlay|hidden/.test(_e+Ie+Ce)}function dt$1(xe){return["html","body","#document"].indexOf(C(xe))>=0?xe.ownerDocument.body:B$1(xe)&&Se(xe)?xe:dt$1(ge$1(xe))}function ce$1(xe,pe){var _e;pe===void 0&&(pe=[]);var Ce=dt$1(xe),Ie=Ce===((_e=xe.ownerDocument)==null?void 0:_e.body),Oe=H$1(Ce),Ne=Ie?[Oe].concat(Oe.visualViewport||[],Se(Ce)?Ce:[]):Ce,Fe=pe.concat(Ne);return Ie?Fe:Fe.concat(ce$1(ge$1(Ne)))}function Te(xe){return Object.assign({},xe,{left:xe.x,top:xe.y,right:xe.x+xe.width,bottom:xe.y+xe.height})}function Xt$1(xe){var pe=ee$1(xe);return pe.top=pe.top+xe.clientTop,pe.left=pe.left+xe.clientLeft,pe.bottom=pe.top+xe.clientHeight,pe.right=pe.left+xe.clientWidth,pe.width=xe.clientWidth,pe.height=xe.clientHeight,pe.x=pe.left,pe.y=pe.top,pe}function ht$1(xe,pe){return pe===je?Te(Ft$1(xe)):Q$1(pe)?Xt$1(pe):Te(Ut$1(I$1(xe)))}function Yt$1(xe){var pe=ce$1(ge$1(xe)),_e=["absolute","fixed"].indexOf(N$1(xe).position)>=0,Ce=_e&&B$1(xe)?se$1(xe):xe;return Q$1(Ce)?pe.filter(function(Ie){return Q$1(Ie)&&it$1(Ie,Ce)&&C(Ie)!=="body"}):[]}function Gt$1(xe,pe,_e){var Ce=pe==="clippingParents"?Yt$1(xe):[].concat(pe),Ie=[].concat(Ce,[_e]),Oe=Ie[0],Ne=Ie.reduce(function(Fe,Ue){var $e=ht$1(xe,Ue);return Fe.top=X$1($e.top,Fe.top),Fe.right=ve$1($e.right,Fe.right),Fe.bottom=ve$1($e.bottom,Fe.bottom),Fe.left=X$1($e.left,Fe.left),Fe},ht$1(xe,Oe));return Ne.width=Ne.right-Ne.left,Ne.height=Ne.bottom-Ne.top,Ne.x=Ne.left,Ne.y=Ne.top,Ne}function mt$1(xe){var pe=xe.reference,_e=xe.element,Ce=xe.placement,Ie=Ce?q$2(Ce):null,Oe=Ce?te$1(Ce):null,Ne=pe.x+pe.width/2-_e.width/2,Fe=pe.y+pe.height/2-_e.height/2,Ue;switch(Ie){case E$1:Ue={x:Ne,y:pe.y-_e.height};break;case R$1:Ue={x:Ne,y:pe.y+pe.height};break;case W$1:Ue={x:pe.x+pe.width,y:Fe};break;case P$1:Ue={x:pe.x-_e.width,y:Fe};break;default:Ue={x:pe.x,y:pe.y}}var $e=Ie?Le(Ie):null;if($e!=null){var ze=$e==="y"?"height":"width";switch(Oe){case U:Ue[$e]=Ue[$e]-(pe[ze]/2-_e[ze]/2);break;case J$2:Ue[$e]=Ue[$e]+(pe[ze]/2-_e[ze]/2);break}}return Ue}function ne$1(xe,pe){pe===void 0&&(pe={});var _e=pe,Ce=_e.placement,Ie=Ce===void 0?xe.placement:Ce,Oe=_e.boundary,Ne=Oe===void 0?Xe:Oe,Fe=_e.rootBoundary,Ue=Fe===void 0?je:Fe,$e=_e.elementContext,ze=$e===void 0?K$1:$e,Ve=_e.altBoundary,qe=Ve===void 0?!1:Ve,En=_e.padding,vn=En===void 0?0:En,hn=ft$1(typeof vn!="number"?vn:ct$1(vn,G)),_n=ze===K$1?Ye:K$1,bn=xe.rects.popper,An=xe.elements[qe?_n:ze],xn=Gt$1(Q$1(An)?An:An.contextElement||I$1(xe.elements.popper),Ne,Ue),Sn=ee$1(xe.elements.reference),Cn=mt$1({reference:Sn,element:bn,strategy:"absolute",placement:Ie}),Tn=Te(Object.assign({},bn,Cn)),wn=ze===K$1?Tn:Sn,Ln={top:xn.top-wn.top+hn.top,bottom:wn.bottom-xn.bottom+hn.bottom,left:xn.left-wn.left+hn.left,right:wn.right-xn.right+hn.right},Pn=xe.modifiersData.offset;if(ze===K$1&&Pn){var kn=Pn[Ie];Object.keys(Ln).forEach(function(In){var Rn=[W$1,R$1].indexOf(In)>=0?1:-1,Nn=[E$1,R$1].indexOf(In)>=0?"y":"x";Ln[In]+=kn[Nn]*Rn})}return Ln}function Jt$1(xe,pe){pe===void 0&&(pe={});var _e=pe,Ce=_e.placement,Ie=_e.boundary,Oe=_e.rootBoundary,Ne=_e.padding,Fe=_e.flipVariations,Ue=_e.allowedAutoPlacements,$e=Ue===void 0?Ee:Ue,ze=te$1(Ce),Ve=ze?Fe?De:De.filter(function(vn){return te$1(vn)===ze}):G,qe=Ve.filter(function(vn){return $e.indexOf(vn)>=0});qe.length===0&&(qe=Ve);var En=qe.reduce(function(vn,hn){return vn[hn]=ne$1(xe,{placement:hn,boundary:Ie,rootBoundary:Oe,padding:Ne})[q$2(hn)],vn},{});return Object.keys(En).sort(function(vn,hn){return En[vn]-En[hn]})}function Kt$1(xe){if(q$2(xe)===me)return[];var pe=be(xe);return[lt$1(xe),pe,lt$1(pe)]}function Qt$1(xe){var pe=xe.state,_e=xe.options,Ce=xe.name;if(!pe.modifiersData[Ce]._skip){for(var Ie=_e.mainAxis,Oe=Ie===void 0?!0:Ie,Ne=_e.altAxis,Fe=Ne===void 0?!0:Ne,Ue=_e.fallbackPlacements,$e=_e.padding,ze=_e.boundary,Ve=_e.rootBoundary,qe=_e.altBoundary,En=_e.flipVariations,vn=En===void 0?!0:En,hn=_e.allowedAutoPlacements,_n=pe.options.placement,bn=q$2(_n),An=bn===_n,xn=Ue||(An||!vn?[be(_n)]:Kt$1(_n)),Sn=[_n].concat(xn).reduce(function(or,fr){return or.concat(q$2(fr)===me?Jt$1(pe,{placement:fr,boundary:ze,rootBoundary:Ve,padding:$e,flipVariations:vn,allowedAutoPlacements:hn}):fr)},[]),Cn=pe.rects.reference,Tn=pe.rects.popper,wn=new Map,Ln=!0,Pn=Sn[0],kn=0;kn<Sn.length;kn++){var In=Sn[kn],Rn=q$2(In),Nn=te$1(In)===U,On=[E$1,R$1].indexOf(Rn)>=0,Dn=On?"width":"height",Mn=ne$1(pe,{placement:In,boundary:ze,rootBoundary:Ve,altBoundary:qe,padding:$e}),Bn=On?Nn?W$1:P$1:Nn?R$1:E$1;Cn[Dn]>Tn[Dn]&&(Bn=be(Bn));var $n=be(Bn),Fn=[];if(Oe&&Fn.push(Mn[Rn]<=0),Fe&&Fn.push(Mn[Bn]<=0,Mn[$n]<=0),Fn.every(function(or){return or})){Pn=In,Ln=!1;break}wn.set(In,Fn)}if(Ln)for(var Un=vn?3:1,Hn=function(or){var fr=Sn.find(function(cr){var Jn=wn.get(cr);if(Jn)return Jn.slice(0,or).every(function(mr){return mr})});if(fr)return Pn=fr,"break"},Wn=Un;Wn>0;Wn--){var Xn=Hn(Wn);if(Xn==="break")break}pe.placement!==Pn&&(pe.modifiersData[Ce]._skip=!0,pe.placement=Pn,pe.reset=!0)}}var vt$1={name:"flip",enabled:!0,phase:"main",fn:Qt$1,requiresIfExists:["offset"],data:{_skip:!1}};function gt$1(xe,pe,_e){return _e===void 0&&(_e={x:0,y:0}),{top:xe.top-pe.height-_e.y,right:xe.right-pe.width+_e.x,bottom:xe.bottom-pe.height+_e.y,left:xe.left-pe.width-_e.x}}function yt$1(xe){return[E$1,W$1,R$1,P$1].some(function(pe){return xe[pe]>=0})}function Zt$1(xe){var pe=xe.state,_e=xe.name,Ce=pe.rects.reference,Ie=pe.rects.popper,Oe=pe.modifiersData.preventOverflow,Ne=ne$1(pe,{elementContext:"reference"}),Fe=ne$1(pe,{altBoundary:!0}),Ue=gt$1(Ne,Ce),$e=gt$1(Fe,Ie,Oe),ze=yt$1(Ue),Ve=yt$1($e);pe.modifiersData[_e]={referenceClippingOffsets:Ue,popperEscapeOffsets:$e,isReferenceHidden:ze,hasPopperEscaped:Ve},pe.attributes.popper=Object.assign({},pe.attributes.popper,{"data-popper-reference-hidden":ze,"data-popper-escaped":Ve})}var bt$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt$1};function en(xe,pe,_e){var Ce=q$2(xe),Ie=[P$1,E$1].indexOf(Ce)>=0?-1:1,Oe=typeof _e=="function"?_e(Object.assign({},pe,{placement:xe})):_e,Ne=Oe[0],Fe=Oe[1];return Ne=Ne||0,Fe=(Fe||0)*Ie,[P$1,W$1].indexOf(Ce)>=0?{x:Fe,y:Ne}:{x:Ne,y:Fe}}function tn(xe){var pe=xe.state,_e=xe.options,Ce=xe.name,Ie=_e.offset,Oe=Ie===void 0?[0,0]:Ie,Ne=Ee.reduce(function(ze,Ve){return ze[Ve]=en(Ve,pe.rects,Oe),ze},{}),Fe=Ne[pe.placement],Ue=Fe.x,$e=Fe.y;pe.modifiersData.popperOffsets!=null&&(pe.modifiersData.popperOffsets.x+=Ue,pe.modifiersData.popperOffsets.y+=$e),pe.modifiersData[Ce]=Ne}var wt$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(xe){var pe=xe.state,_e=xe.name;pe.modifiersData[_e]=mt$1({reference:pe.rects.reference,element:pe.rects.popper,strategy:"absolute",placement:pe.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(xe){return xe==="x"?"y":"x"}function on(xe){var pe=xe.state,_e=xe.options,Ce=xe.name,Ie=_e.mainAxis,Oe=Ie===void 0?!0:Ie,Ne=_e.altAxis,Fe=Ne===void 0?!1:Ne,Ue=_e.boundary,$e=_e.rootBoundary,ze=_e.altBoundary,Ve=_e.padding,qe=_e.tether,En=qe===void 0?!0:qe,vn=_e.tetherOffset,hn=vn===void 0?0:vn,_n=ne$1(pe,{boundary:Ue,rootBoundary:$e,padding:Ve,altBoundary:ze}),bn=q$2(pe.placement),An=te$1(pe.placement),xn=!An,Sn=Le(bn),Cn=rn(Sn),Tn=pe.modifiersData.popperOffsets,wn=pe.rects.reference,Ln=pe.rects.popper,Pn=typeof hn=="function"?hn(Object.assign({},pe.rects,{placement:pe.placement})):hn,kn=typeof Pn=="number"?{mainAxis:Pn,altAxis:Pn}:Object.assign({mainAxis:0,altAxis:0},Pn),In=pe.modifiersData.offset?pe.modifiersData.offset[pe.placement]:null,Rn={x:0,y:0};if(Tn){if(Oe){var Nn,On=Sn==="y"?E$1:P$1,Dn=Sn==="y"?R$1:W$1,Mn=Sn==="y"?"height":"width",Bn=Tn[Sn],$n=Bn+_n[On],Fn=Bn-_n[Dn],Un=En?-Ln[Mn]/2:0,Hn=An===U?wn[Mn]:Ln[Mn],Wn=An===U?-Ln[Mn]:-wn[Mn],Xn=pe.elements.arrow,or=En&&Xn?ke(Xn):{width:0,height:0},fr=pe.modifiersData["arrow#persistent"]?pe.modifiersData["arrow#persistent"].padding:st$1(),cr=fr[On],Jn=fr[Dn],mr=fe$1(0,wn[Mn],or[Mn]),Ir=xn?wn[Mn]/2-Un-mr-cr-kn.mainAxis:Hn-mr-cr-kn.mainAxis,yr=xn?-wn[Mn]/2+Un+mr+Jn+kn.mainAxis:Wn+mr+Jn+kn.mainAxis,Tr=pe.elements.arrow&&se$1(pe.elements.arrow),Sr=Tr?Sn==="y"?Tr.clientTop||0:Tr.clientLeft||0:0,Yn=(Nn=In==null?void 0:In[Sn])!=null?Nn:0,Qn=Bn+Ir-Yn-Sr,rr=Bn+yr-Yn,gr=fe$1(En?ve$1($n,Qn):$n,Bn,En?X$1(Fn,rr):Fn);Tn[Sn]=gr,Rn[Sn]=gr-Bn}if(Fe){var Ar,Br=Sn==="x"?E$1:P$1,Vr=Sn==="x"?R$1:W$1,Fr=Tn[Cn],Er=Cn==="y"?"height":"width",Dr=Fr+_n[Br],Pr=Fr-_n[Vr],$r=[E$1,P$1].indexOf(bn)!==-1,Lr=(Ar=In==null?void 0:In[Cn])!=null?Ar:0,Or=$r?Dr:Fr-wn[Er]-Ln[Er]-Lr+kn.altAxis,Hr=$r?Fr+wn[Er]+Ln[Er]-Lr-kn.altAxis:Pr,qr=En&&$r?St$1(Or,Fr,Hr):fe$1(En?Or:Dr,Fr,En?Hr:Pr);Tn[Cn]=qr,Rn[Cn]=qr-Fr}pe.modifiersData[Ce]=Rn}}var xt$1={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(xe){return{scrollLeft:xe.scrollLeft,scrollTop:xe.scrollTop}}function sn(xe){return xe===H$1(xe)||!B$1(xe)?We(xe):an(xe)}function fn(xe){var pe=xe.getBoundingClientRect(),_e=Z$1(pe.width)/xe.offsetWidth||1,Ce=Z$1(pe.height)/xe.offsetHeight||1;return _e!==1||Ce!==1}function cn(xe,pe,_e){_e===void 0&&(_e=!1);var Ce=B$1(pe),Ie=B$1(pe)&&fn(pe),Oe=I$1(pe),Ne=ee$1(xe,Ie),Fe={scrollLeft:0,scrollTop:0},Ue={x:0,y:0};return(Ce||!Ce&&!_e)&&((C(pe)!=="body"||Se(Oe))&&(Fe=sn(pe)),B$1(pe)?(Ue=ee$1(pe,!0),Ue.x+=pe.clientLeft,Ue.y+=pe.clientTop):Oe&&(Ue.x=Be(Oe))),{x:Ne.left+Fe.scrollLeft-Ue.x,y:Ne.top+Fe.scrollTop-Ue.y,width:Ne.width,height:Ne.height}}function pn(xe){var pe=new Map,_e=new Set,Ce=[];xe.forEach(function(Oe){pe.set(Oe.name,Oe)});function Ie(Oe){_e.add(Oe.name);var Ne=[].concat(Oe.requires||[],Oe.requiresIfExists||[]);Ne.forEach(function(Fe){if(!_e.has(Fe)){var Ue=pe.get(Fe);Ue&&Ie(Ue)}}),Ce.push(Oe)}return xe.forEach(function(Oe){_e.has(Oe.name)||Ie(Oe)}),Ce}function un(xe){var pe=pn(xe);return ot$1.reduce(function(_e,Ce){return _e.concat(pe.filter(function(Ie){return Ie.phase===Ce}))},[])}function ln(xe){var pe;return function(){return pe||(pe=new Promise(function(_e){Promise.resolve().then(function(){pe=void 0,_e(xe())})})),pe}}function dn(xe){var pe=xe.reduce(function(_e,Ce){var Ie=_e[Ce.name];return _e[Ce.name]=Ie?Object.assign({},Ie,Ce,{options:Object.assign({},Ie.options,Ce.options),data:Object.assign({},Ie.data,Ce.data)}):Ce,_e},{});return Object.keys(pe).map(function(_e){return pe[_e]})}var Ot$1={placement:"bottom",modifiers:[],strategy:"absolute"};function $t$1(){for(var xe=arguments.length,pe=new Array(xe),_e=0;_e<xe;_e++)pe[_e]=arguments[_e];return!pe.some(function(Ce){return!(Ce&&typeof Ce.getBoundingClientRect=="function")})}function we(xe){xe===void 0&&(xe={});var pe=xe,_e=pe.defaultModifiers,Ce=_e===void 0?[]:_e,Ie=pe.defaultOptions,Oe=Ie===void 0?Ot$1:Ie;return function(Ne,Fe,Ue){Ue===void 0&&(Ue=Oe);var $e={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot$1,Oe),modifiersData:{},elements:{reference:Ne,popper:Fe},attributes:{},styles:{}},ze=[],Ve=!1,qe={state:$e,setOptions:function(hn){var _n=typeof hn=="function"?hn($e.options):hn;vn(),$e.options=Object.assign({},Oe,$e.options,_n),$e.scrollParents={reference:Q$1(Ne)?ce$1(Ne):Ne.contextElement?ce$1(Ne.contextElement):[],popper:ce$1(Fe)};var bn=un(dn([].concat(Ce,$e.options.modifiers)));return $e.orderedModifiers=bn.filter(function(An){return An.enabled}),En(),qe.update()},forceUpdate:function(){if(!Ve){var hn=$e.elements,_n=hn.reference,bn=hn.popper;if($t$1(_n,bn)){$e.rects={reference:cn(_n,se$1(bn),$e.options.strategy==="fixed"),popper:ke(bn)},$e.reset=!1,$e.placement=$e.options.placement,$e.orderedModifiers.forEach(function(Ln){return $e.modifiersData[Ln.name]=Object.assign({},Ln.data)});for(var An=0;An<$e.orderedModifiers.length;An++){if($e.reset===!0){$e.reset=!1,An=-1;continue}var xn=$e.orderedModifiers[An],Sn=xn.fn,Cn=xn.options,Tn=Cn===void 0?{}:Cn,wn=xn.name;typeof Sn=="function"&&($e=Sn({state:$e,options:Tn,name:wn,instance:qe})||$e)}}}},update:ln(function(){return new Promise(function(hn){qe.forceUpdate(),hn($e)})}),destroy:function(){vn(),Ve=!0}};if(!$t$1(Ne,Fe))return qe;qe.setOptions(Ue).then(function(hn){!Ve&&Ue.onFirstUpdate&&Ue.onFirstUpdate(hn)});function En(){$e.orderedModifiers.forEach(function(hn){var _n=hn.name,bn=hn.options,An=bn===void 0?{}:bn,xn=hn.effect;if(typeof xn=="function"){var Sn=xn({state:$e,name:_n,instance:qe,options:An}),Cn=function(){};ze.push(Sn||Cn)}})}function vn(){ze.forEach(function(hn){return hn()}),ze=[]}return qe}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt$1,vt$1,xt$1,pt$1,bt$1],yn=we({defaultModifiers:gn});const usePopper=(xe,pe,_e={})=>{const Ce={name:"updateState",enabled:!0,phase:"write",fn:({state:Ue})=>{const $e=deriveState(Ue);Object.assign(Ne.value,$e)},requires:["computeStyles"]},Ie=computed(()=>{const{onFirstUpdate:Ue,placement:$e,strategy:ze,modifiers:Ve}=unref(_e);return{onFirstUpdate:Ue,placement:$e||"bottom",strategy:ze||"absolute",modifiers:[...Ve||[],Ce,{name:"applyStyles",enabled:!1}]}}),Oe=shallowRef(),Ne=ref({styles:{popper:{position:unref(Ie).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),Fe=()=>{Oe.value&&(Oe.value.destroy(),Oe.value=void 0)};return watch(Ie,Ue=>{const $e=unref(Oe);$e&&$e.setOptions(Ue)},{deep:!0}),watch([xe,pe],([Ue,$e])=>{Fe(),!(!Ue||!$e)&&(Oe.value=yn(Ue,$e,unref(Ie)))}),onBeforeUnmount(()=>{Fe()}),{state:computed(()=>{var Ue;return{...((Ue=unref(Oe))==null?void 0:Ue.state)||{}}}),styles:computed(()=>unref(Ne).styles),attributes:computed(()=>unref(Ne).attributes),update:()=>{var Ue;return(Ue=unref(Oe))==null?void 0:Ue.update()},forceUpdate:()=>{var Ue;return(Ue=unref(Oe))==null?void 0:Ue.forceUpdate()},instanceRef:computed(()=>unref(Oe))}};function deriveState(xe){const pe=Object.keys(xe.elements),_e=fromPairs(pe.map(Ie=>[Ie,xe.styles[Ie]||{}])),Ce=fromPairs(pe.map(Ie=>[Ie,xe.attributes[Ie]]));return{styles:_e,attributes:Ce}}const useSameTarget=xe=>{if(!xe)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let pe=!1,_e=!1;return{onClick:Ne=>{pe&&_e&&xe(Ne),pe=_e=!1},onMousedown:Ne=>{pe=Ne.target===Ne.currentTarget},onMouseup:Ne=>{_e=Ne.target===Ne.currentTarget}}};function useTimeout(){let xe;const pe=(Ce,Ie)=>{_e(),xe=window.setTimeout(Ce,Ie)},_e=()=>window.clearTimeout(xe);return tryOnScopeDispose(()=>_e()),{registerTimeout:pe,cancelTimeout:_e}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=xe=>{const pe=useIdInjection(),_e=useGetDerivedNamespace();return computed(()=>unref(xe)||"".concat(_e.value,"-id-").concat(pe.prefix,"-").concat(pe.current++))};let registeredEscapeHandlers=[];const cachedHandler=xe=>{const pe=xe;pe.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(_e=>_e(pe))},useEscapeKeydown=xe=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(xe)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(pe=>pe!==xe),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const xe=useGetDerivedNamespace(),pe=useIdInjection(),_e=computed(()=>"".concat(xe.value,"-popper-container-").concat(pe.prefix)),Ce=computed(()=>"#".concat(_e.value));return{id:_e,selector:Ce}},createContainer=xe=>{const pe=document.createElement("div");return pe.id=xe,document.body.appendChild(pe),pe},usePopperContainer=()=>{const{id:xe,selector:pe}=usePopperContainerId();return onBeforeMount(()=>{isClient&&!cachedContainer&&!document.body.querySelector(pe.value)&&(cachedContainer=createContainer(xe.value))}),{id:xe,selector:pe}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:xe,hideAfter:pe,autoClose:_e,open:Ce,close:Ie})=>{const{registerTimeout:Oe}=useTimeout(),{registerTimeout:Ne,cancelTimeout:Fe}=useTimeout();return{onOpen:ze=>{Oe(()=>{Ce(ze);const Ve=unref(_e);isNumber(Ve)&&Ve>0&&Ne(()=>{Ie(ze)},Ve)},unref(xe))},onClose:ze=>{Fe(),Oe(()=>{Ie(ze)},unref(pe))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=xe=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:_e=>{xe.value=_e}})},useForwardRefDirective=xe=>({mounted(pe){xe(pe)},updated(pe){xe(pe)},unmounted(){xe(null)}}),initial={current:0},zIndex=ref(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=xe=>{const pe=getCurrentInstance()?inject(ZINDEX_INJECTION_KEY,initial):initial,_e=xe||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),Ce=computed(()=>{const Ne=unref(_e);return isNumber(Ne)?Ne:defaultInitialZIndex}),Ie=computed(()=>Ce.value+zIndex.value),Oe=()=>(pe.current++,zIndex.value=pe.current,Ie.value);return!isClient&&inject(ZINDEX_INJECTION_KEY),{initialZIndex:Ce,currentZIndex:Ie,nextZIndex:Oe}};function useCursor(xe){const pe=ref();function _e(){if(xe.value==null)return;const{selectionStart:Ie,selectionEnd:Oe,value:Ne}=xe.value;if(Ie==null||Oe==null)return;const Fe=Ne.slice(0,Math.max(0,Ie)),Ue=Ne.slice(Math.max(0,Oe));pe.value={selectionStart:Ie,selectionEnd:Oe,value:Ne,beforeTxt:Fe,afterTxt:Ue}}function Ce(){if(xe.value==null||pe.value==null)return;const{value:Ie}=xe.value,{beforeTxt:Oe,afterTxt:Ne,selectionStart:Fe}=pe.value;if(Oe==null||Ne==null||Fe==null)return;let Ue=Ie.length;if(Ie.endsWith(Ne))Ue=Ie.length-Ne.length;else if(Ie.startsWith(Oe))Ue=Oe.length;else{const $e=Oe[Fe-1],ze=Ie.indexOf($e,Fe-1);ze!==-1&&(Ue=ze+1)}xe.value.setSelectionRange(Ue,Ue)}return[_e,Ce]}const useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const xe=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(xe.size)||"")};function useFocusController(xe,{afterFocus:pe,beforeBlur:_e,afterBlur:Ce}={}){const Ie=getCurrentInstance(),{emit:Oe}=Ie,Ne=shallowRef(),Fe=ref(!1),Ue=Ve=>{Fe.value||(Fe.value=!0,Oe("focus",Ve),pe==null||pe())},$e=Ve=>{var qe;isFunction$2(_e)&&_e(Ve)||Ve.relatedTarget&&((qe=Ne.value)!=null&&qe.contains(Ve.relatedTarget))||(Fe.value=!1,Oe("blur",Ve),Ce==null||Ce())},ze=()=>{var Ve;(Ve=xe.value)==null||Ve.focus()};return watch(Ne,Ve=>{Ve&&Ve.setAttribute("tabindex","-1")}),useEventListener(Ne,"click",ze),{wrapperRef:Ne,isFocused:Fe,handleFocus:Ue,handleBlur:$e}}const DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:xe=>isFunction$2(xe)?!xe():!xe}}),useEmptyValues=(xe,pe)=>{let _e=useGlobalConfig();_e.value||(_e=ref({}));const Ce=computed(()=>xe.emptyValues||_e.value.emptyValues||DEFAULT_EMPTY_VALUES),Ie=computed(()=>isFunction$2(xe.valueOnClear)?xe.valueOnClear():xe.valueOnClear!==void 0?xe.valueOnClear:isFunction$2(_e.value.valueOnClear)?_e.value.valueOnClear():_e.value.valueOnClear!==void 0?_e.value.valueOnClear:pe!==void 0?pe:DEFAULT_VALUE_ON_CLEAR),Oe=Ne=>Ce.value.includes(Ne);return Ce.value.includes(Ie.value),{emptyValues:Ce,valueOnClear:Ie,isEmptyValue:Oe}},ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=xe=>pick$1(ariaProps,xe),configProviderContextKey=Symbol(),globalConfig$1=ref();function useGlobalConfig(xe,pe=void 0){const _e=getCurrentInstance()?inject(configProviderContextKey,globalConfig$1):globalConfig$1;return xe?computed(()=>{var Ce,Ie;return(Ie=(Ce=_e.value)==null?void 0:Ce[xe])!=null?Ie:pe}):_e}function useGlobalComponentSettings(xe,pe){const _e=useGlobalConfig(),Ce=useNamespace(xe,computed(()=>{var Fe;return((Fe=_e.value)==null?void 0:Fe.namespace)||defaultNamespace})),Ie=useLocale(computed(()=>{var Fe;return(Fe=_e.value)==null?void 0:Fe.locale})),Oe=useZIndex(computed(()=>{var Fe;return((Fe=_e.value)==null?void 0:Fe.zIndex)||defaultInitialZIndex})),Ne=computed(()=>{var Fe;return unref(pe)||((Fe=_e.value)==null?void 0:Fe.size)||""});return provideGlobalConfig(computed(()=>unref(_e)||{})),{ns:Ce,locale:Ie,zIndex:Oe,size:Ne}}const provideGlobalConfig=(xe,pe,_e=!1)=>{var Ce;const Ie=!!getCurrentInstance(),Oe=Ie?useGlobalConfig():void 0,Ne=(Ce=pe==null?void 0:pe.provide)!=null?Ce:Ie?provide:void 0;if(!Ne)return;const Fe=computed(()=>{const Ue=unref(xe);return Oe!=null&&Oe.value?mergeConfig$2(Oe.value,Ue):Ue});return Ne(configProviderContextKey,Fe),Ne(localeContextKey,computed(()=>Fe.value.locale)),Ne(namespaceContextKey,computed(()=>Fe.value.namespace)),Ne(zIndexContextKey,computed(()=>Fe.value.zIndex)),Ne(SIZE_INJECTION_KEY,{size:computed(()=>Fe.value.size||"")}),(_e||!globalConfig$1.value)&&(globalConfig$1.value=Fe.value),Fe},mergeConfig$2=(xe,pe)=>{const _e=[...new Set([...keysOf(xe),...keysOf(pe)])],Ce={};for(const Ie of _e)Ce[Ie]=pe[Ie]!==void 0?pe[Ie]:xe[Ie];return Ce},configProviderProps$1=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"},...useEmptyValuesProps}),messageConfig={},ConfigProvider$1=defineComponent({name:"ElConfigProvider",props:configProviderProps$1,setup(xe,{slots:pe}){watch(()=>xe.message,Ce=>{Object.assign(messageConfig,Ce!=null?Ce:{})},{immediate:!0,deep:!0});const _e=provideGlobalConfig(xe);return()=>renderSlot(pe,"default",{config:_e==null?void 0:_e.value})}}),ElConfigProvider=withInstall$1(ConfigProvider$1);var _export_sfc=(xe,pe)=>{const _e=xe.__vccOpts||xe;for(const[Ce,Ie]of pe)_e[Ce]=Ie;return _e};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$L=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$1c=defineComponent({...__default__$L,props:iconProps,setup(xe){const pe=xe,_e=useNamespace("icon"),Ce=computed(()=>{const{size:Ie,color:Oe}=pe;return!Ie&&!Oe?{}:{fontSize:isUndefined(Ie)?void 0:addUnit(Ie),"--color":Oe}});return(Ie,Oe)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(_e).b(),style:unref(Ce)},Ie.$attrs),[renderSlot(Ie.$slots,"default")],16))}});var Icon$1=_export_sfc(_sfc_main$1c,[["__file","icon.vue"]]);const ElIcon=withInstall$1(Icon$1),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(xe,pe={})=>{const _e=ref(void 0),Ce=pe.prop?_e:useProp("size"),Ie=pe.global?_e:useGlobalSize(),Oe=pe.form?{size:void 0}:inject(formContextKey,void 0),Ne=pe.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>Ce.value||unref(xe)||(Ne==null?void 0:Ne.size)||(Oe==null?void 0:Oe.size)||Ie.value||"")},useFormDisabled=xe=>{const pe=useProp("disabled"),_e=inject(formContextKey,void 0);return computed(()=>pe.value||unref(xe)||(_e==null?void 0:_e.disabled)||!1)},useFormItem=()=>{const xe=inject(formContextKey,void 0),pe=inject(formItemContextKey,void 0);return{form:xe,formItem:pe}},useFormItemInputId=(xe,{formItemContext:pe,disableIdGeneration:_e,disableIdManagement:Ce})=>{_e||(_e=ref(!1)),Ce||(Ce=ref(!1));const Ie=ref();let Oe;const Ne=computed(()=>{var Fe;return!!(!(xe.label||xe.ariaLabel)&&pe&&pe.inputIds&&((Fe=pe.inputIds)==null?void 0:Fe.length)<=1)});return onMounted(()=>{Oe=watch([toRef(xe,"id"),_e],([Fe,Ue])=>{const $e=Fe!=null?Fe:Ue?void 0:useId().value;$e!==Ie.value&&(pe!=null&&pe.removeInputId&&(Ie.value&&pe.removeInputId(Ie.value),!(Ce!=null&&Ce.value)&&!Ue&&$e&&pe.addInputId($e)),Ie.value=$e)},{immediate:!0})}),onUnmounted(()=>{Oe&&Oe(),pe!=null&&pe.removeInputId&&Ie.value&&pe.removeInputId(Ie.value)}),{isLabeledByFormItem:Ne,inputId:Ie}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(xe,pe,_e)=>(isArray$4(xe)||isString$3(xe))&&isBoolean(pe)&&isString$3(_e)};function useFormLabelWidth(){const xe=ref([]),pe=computed(()=>{if(!xe.value.length)return"0";const Oe=Math.max(...xe.value);return Oe?"".concat(Oe,"px"):""});function _e(Oe){const Ne=xe.value.indexOf(Oe);return Ne===-1&&pe.value,Ne}function Ce(Oe,Ne){if(Oe&&Ne){const Fe=_e(Ne);xe.value.splice(Fe,1,Oe)}else Oe&&xe.value.push(Oe)}function Ie(Oe){const Ne=_e(Oe);Ne>-1&&xe.value.splice(Ne,1)}return{autoLabelWidth:pe,registerLabelWidth:Ce,deregisterLabelWidth:Ie}}const filterFields=(xe,pe)=>{const _e=castArray$1(pe);return _e.length>0?xe.filter(Ce=>Ce.prop&&_e.includes(Ce.prop)):xe},COMPONENT_NAME$b="ElForm",__default__$K=defineComponent({name:COMPONENT_NAME$b}),_sfc_main$1b=defineComponent({...__default__$K,props:formProps,emits:formEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=[],Oe=useFormSize(),Ne=useNamespace("form"),Fe=computed(()=>{const{labelPosition:xn,inline:Sn}=Ce;return[Ne.b(),Ne.m(Oe.value||"default"),{[Ne.m("label-".concat(xn))]:xn,[Ne.m("inline")]:Sn}]}),Ue=xn=>Ie.find(Sn=>Sn.prop===xn),$e=xn=>{Ie.push(xn)},ze=xn=>{xn.prop&&Ie.splice(Ie.indexOf(xn),1)},Ve=(xn=[])=>{Ce.model&&filterFields(Ie,xn).forEach(Sn=>Sn.resetField())},qe=(xn=[])=>{filterFields(Ie,xn).forEach(Sn=>Sn.clearValidate())},En=computed(()=>!!Ce.model),vn=xn=>{if(Ie.length===0)return[];const Sn=filterFields(Ie,xn);return Sn.length?Sn:[]},hn=async xn=>bn(void 0,xn),_n=async(xn=[])=>{if(!En.value)return!1;const Sn=vn(xn);if(Sn.length===0)return!0;let Cn={};for(const Tn of Sn)try{await Tn.validate("")}catch(wn){Cn={...Cn,...wn}}return Object.keys(Cn).length===0?!0:Promise.reject(Cn)},bn=async(xn=[],Sn)=>{const Cn=!isFunction$2(Sn);try{const Tn=await _n(xn);return Tn===!0&&await(Sn==null?void 0:Sn(Tn)),Tn}catch(Tn){if(Tn instanceof Error)throw Tn;const wn=Tn;return Ce.scrollToError&&An(Object.keys(wn)[0]),await(Sn==null?void 0:Sn(!1,wn)),Cn&&Promise.reject(wn)}},An=xn=>{var Sn;const Cn=filterFields(Ie,xn)[0];Cn&&((Sn=Cn.$el)==null||Sn.scrollIntoView(Ce.scrollIntoViewOptions))};return watch(()=>Ce.rules,()=>{Ce.validateOnRuleChange&&hn().catch(xn=>void 0)},{deep:!0}),provide(formContextKey,reactive({...toRefs(Ce),emit:_e,resetFields:Ve,clearValidate:qe,validateField:bn,getField:Ue,addField:$e,removeField:ze,...useFormLabelWidth()})),pe({validate:hn,validateField:bn,resetFields:Ve,clearValidate:qe,scrollToField:An,fields:Ie}),(xn,Sn)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(Fe))},[renderSlot(xn.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$1b,[["__file","form.vue"]]),define_process_env_default={};function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(xe[Ce]=_e[Ce])}return xe},_extends$2.apply(this,arguments)}function _inheritsLoose(xe,pe){xe.prototype=Object.create(pe.prototype),xe.prototype.constructor=xe,_setPrototypeOf(xe,pe)}function _getPrototypeOf(xe){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},_getPrototypeOf(xe)}function _setPrototypeOf(xe,pe){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ce,Ie){return Ce.__proto__=Ie,Ce},_setPrototypeOf(xe,pe)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}function _construct(xe,pe,_e){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(Ie,Oe,Ne){var Fe=[null];Fe.push.apply(Fe,Oe);var Ue=Function.bind.apply(Ie,Fe),$e=new Ue;return Ne&&_setPrototypeOf($e,Ne.prototype),$e},_construct.apply(null,arguments)}function _isNativeFunction(xe){return Function.toString.call(xe).indexOf("[native code]")!==-1}function _wrapNativeSuper(xe){var pe=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(Ce){if(Ce===null||!_isNativeFunction(Ce))return Ce;if(typeof Ce!="function")throw new TypeError("Super expression must either be null or a function");if(typeof pe<"u"){if(pe.has(Ce))return pe.get(Ce);pe.set(Ce,Ie)}function Ie(){return _construct(Ce,arguments,_getPrototypeOf(this).constructor)}return Ie.prototype=Object.create(Ce.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Ie,Ce)},_wrapNativeSuper(xe)}var formatRegExp=/%[sdj%]/g,warning$2=function(){};typeof process<"u";function convertFieldsError(xe){if(!xe||!xe.length)return null;var pe={};return xe.forEach(function(_e){var Ce=_e.field;pe[Ce]=pe[Ce]||[],pe[Ce].push(_e)}),pe}function format$1(xe){for(var pe=arguments.length,_e=new Array(pe>1?pe-1:0),Ce=1;Ce<pe;Ce++)_e[Ce-1]=arguments[Ce];var Ie=0,Oe=_e.length;if(typeof xe=="function")return xe.apply(null,_e);if(typeof xe=="string"){var Ne=xe.replace(formatRegExp,function(Fe){if(Fe==="%%")return"%";if(Ie>=Oe)return Fe;switch(Fe){case"%s":return String(_e[Ie++]);case"%d":return Number(_e[Ie++]);case"%j":try{return JSON.stringify(_e[Ie++])}catch(Ue){return"[Circular]"}break;default:return Fe}});return Ne}return xe}function isNativeStringType(xe){return xe==="string"||xe==="url"||xe==="hex"||xe==="email"||xe==="date"||xe==="pattern"}function isEmptyValue(xe,pe){return!!(xe==null||pe==="array"&&Array.isArray(xe)&&!xe.length||isNativeStringType(pe)&&typeof xe=="string"&&!xe)}function asyncParallelArray(xe,pe,_e){var Ce=[],Ie=0,Oe=xe.length;function Ne(Fe){Ce.push.apply(Ce,Fe||[]),Ie++,Ie===Oe&&_e(Ce)}xe.forEach(function(Fe){pe(Fe,Ne)})}function asyncSerialArray(xe,pe,_e){var Ce=0,Ie=xe.length;function Oe(Ne){if(Ne&&Ne.length){_e(Ne);return}var Fe=Ce;Ce=Ce+1,Fe<Ie?pe(xe[Fe],Oe):_e([])}Oe([])}function flattenObjArr(xe){var pe=[];return Object.keys(xe).forEach(function(_e){pe.push.apply(pe,xe[_e]||[])}),pe}var AsyncValidationError=function(xe){_inheritsLoose(pe,xe);function pe(_e,Ce){var Ie;return Ie=xe.call(this,"Async Validation Error")||this,Ie.errors=_e,Ie.fields=Ce,Ie}return pe}(_wrapNativeSuper(Error));function asyncMap(xe,pe,_e,Ce,Ie){if(pe.first){var Oe=new Promise(function(qe,En){var vn=function(bn){return Ce(bn),bn.length?En(new AsyncValidationError(bn,convertFieldsError(bn))):qe(Ie)},hn=flattenObjArr(xe);asyncSerialArray(hn,_e,vn)});return Oe.catch(function(qe){return qe}),Oe}var Ne=pe.firstFields===!0?Object.keys(xe):pe.firstFields||[],Fe=Object.keys(xe),Ue=Fe.length,$e=0,ze=[],Ve=new Promise(function(qe,En){var vn=function(_n){if(ze.push.apply(ze,_n),$e++,$e===Ue)return Ce(ze),ze.length?En(new AsyncValidationError(ze,convertFieldsError(ze))):qe(Ie)};Fe.length||(Ce(ze),qe(Ie)),Fe.forEach(function(hn){var _n=xe[hn];Ne.indexOf(hn)!==-1?asyncSerialArray(_n,_e,vn):asyncParallelArray(_n,_e,vn)})});return Ve.catch(function(qe){return qe}),Ve}function isErrorObj(xe){return!!(xe&&xe.message!==void 0)}function getValue$1(xe,pe){for(var _e=xe,Ce=0;Ce<pe.length;Ce++){if(_e==null)return _e;_e=_e[pe[Ce]]}return _e}function complementError(xe,pe){return function(_e){var Ce;return xe.fullFields?Ce=getValue$1(pe,xe.fullFields):Ce=pe[_e.field||xe.fullField],isErrorObj(_e)?(_e.field=_e.field||xe.fullField,_e.fieldValue=Ce,_e):{message:typeof _e=="function"?_e():_e,fieldValue:Ce,field:_e.field||xe.fullField}}}function deepMerge(xe,pe){if(pe){for(var _e in pe)if(pe.hasOwnProperty(_e)){var Ce=pe[_e];typeof Ce=="object"&&typeof xe[_e]=="object"?xe[_e]=_extends$2({},xe[_e],Ce):xe[_e]=Ce}}return xe}var required$1=function(pe,_e,Ce,Ie,Oe,Ne){pe.required&&(!Ce.hasOwnProperty(pe.field)||isEmptyValue(_e,Ne||pe.type))&&Ie.push(format$1(Oe.messages.required,pe.fullField))},whitespace$1=function(pe,_e,Ce,Ie,Oe){(/^\s+$/.test(_e)||_e==="")&&Ie.push(format$1(Oe.messages.whitespace,pe.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var xe="[a-fA-F\\d:]",pe=function(Sn){return Sn&&Sn.includeBoundaries?"(?:(?<=\\s|^)(?="+xe+")|(?<="+xe+")(?=\\s|$))":""},_e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ce="[a-fA-F\\d]{1,4}",Ie=("\n(?:\n(?:"+Ce+":){7}(?:"+Ce+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+Ce+":){6}(?:"+_e+"|:"+Ce+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+Ce+":){5}(?::"+_e+"|(?::"+Ce+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+Ce+":){4}(?:(?::"+Ce+"){0,1}:"+_e+"|(?::"+Ce+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+Ce+":){3}(?:(?::"+Ce+"){0,2}:"+_e+"|(?::"+Ce+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+Ce+":){2}(?:(?::"+Ce+"){0,3}:"+_e+"|(?::"+Ce+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+Ce+":){1}(?:(?::"+Ce+"){0,4}:"+_e+"|(?::"+Ce+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+Ce+"){0,5}:"+_e+"|(?::"+Ce+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Oe=new RegExp("(?:^"+_e+"$)|(?:^"+Ie+"$)"),Ne=new RegExp("^"+_e+"$"),Fe=new RegExp("^"+Ie+"$"),Ue=function(Sn){return Sn&&Sn.exact?Oe:new RegExp("(?:"+pe(Sn)+_e+pe(Sn)+")|(?:"+pe(Sn)+Ie+pe(Sn)+")","g")};Ue.v4=function(xn){return xn&&xn.exact?Ne:new RegExp(""+pe(xn)+_e+pe(xn),"g")},Ue.v6=function(xn){return xn&&xn.exact?Fe:new RegExp(""+pe(xn)+Ie+pe(xn),"g")};var $e="(?:(?:[a-z]+:)?//)",ze="(?:\\S+(?::\\S*)?@)?",Ve=Ue.v4().source,qe=Ue.v6().source,En="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",vn="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",hn="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_n="(?::\\d{2,5})?",bn='(?:[/?#][^\\s"]*)?',An="(?:"+$e+"|www\\.)"+ze+"(?:localhost|"+Ve+"|"+qe+"|"+En+vn+hn+")"+_n+bn;return urlReg=new RegExp("(?:^"+An+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(pe){return types.number(pe)&&parseInt(pe,10)===pe},float:function(pe){return types.number(pe)&&!types.integer(pe)},array:function(pe){return Array.isArray(pe)},regexp:function(pe){if(pe instanceof RegExp)return!0;try{return!!new RegExp(pe)}catch(_e){return!1}},date:function(pe){return typeof pe.getTime=="function"&&typeof pe.getMonth=="function"&&typeof pe.getYear=="function"&&!isNaN(pe.getTime())},number:function(pe){return isNaN(pe)?!1:typeof pe=="number"},object:function(pe){return typeof pe=="object"&&!types.array(pe)},method:function(pe){return typeof pe=="function"},email:function(pe){return typeof pe=="string"&&pe.length<=320&&!!pe.match(pattern$2.email)},url:function(pe){return typeof pe=="string"&&pe.length<=2048&&!!pe.match(getUrlRegex())},hex:function(pe){return typeof pe=="string"&&!!pe.match(pattern$2.hex)}},type$1=function(pe,_e,Ce,Ie,Oe){if(pe.required&&_e===void 0){required$1(pe,_e,Ce,Ie,Oe);return}var Ne=["integer","float","array","regexp","object","method","email","number","date","url","hex"],Fe=pe.type;Ne.indexOf(Fe)>-1?types[Fe](_e)||Ie.push(format$1(Oe.messages.types[Fe],pe.fullField,pe.type)):Fe&&typeof _e!==pe.type&&Ie.push(format$1(Oe.messages.types[Fe],pe.fullField,pe.type))},range=function(pe,_e,Ce,Ie,Oe){var Ne=typeof pe.len=="number",Fe=typeof pe.min=="number",Ue=typeof pe.max=="number",$e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ze=_e,Ve=null,qe=typeof _e=="number",En=typeof _e=="string",vn=Array.isArray(_e);if(qe?Ve="number":En?Ve="string":vn&&(Ve="array"),!Ve)return!1;vn&&(ze=_e.length),En&&(ze=_e.replace($e,"_").length),Ne?ze!==pe.len&&Ie.push(format$1(Oe.messages[Ve].len,pe.fullField,pe.len)):Fe&&!Ue&&ze<pe.min?Ie.push(format$1(Oe.messages[Ve].min,pe.fullField,pe.min)):Ue&&!Fe&&ze>pe.max?Ie.push(format$1(Oe.messages[Ve].max,pe.fullField,pe.max)):Fe&&Ue&&(ze<pe.min||ze>pe.max)&&Ie.push(format$1(Oe.messages[Ve].range,pe.fullField,pe.min,pe.max))},ENUM$1="enum",enumerable$1=function(pe,_e,Ce,Ie,Oe){pe[ENUM$1]=Array.isArray(pe[ENUM$1])?pe[ENUM$1]:[],pe[ENUM$1].indexOf(_e)===-1&&Ie.push(format$1(Oe.messages[ENUM$1],pe.fullField,pe[ENUM$1].join(", ")))},pattern$1=function(pe,_e,Ce,Ie,Oe){if(pe.pattern){if(pe.pattern instanceof RegExp)pe.pattern.lastIndex=0,pe.pattern.test(_e)||Ie.push(format$1(Oe.messages.pattern.mismatch,pe.fullField,_e,pe.pattern));else if(typeof pe.pattern=="string"){var Ne=new RegExp(pe.pattern);Ne.test(_e)||Ie.push(format$1(Oe.messages.pattern.mismatch,pe.fullField,_e,pe.pattern))}}},rules={required:required$1,whitespace:whitespace$1,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e,"string")&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe,"string"),isEmptyValue(_e,"string")||(rules.type(pe,_e,Ie,Ne,Oe),rules.range(pe,_e,Ie,Ne,Oe),rules.pattern(pe,_e,Ie,Ne,Oe),pe.whitespace===!0&&rules.whitespace(pe,_e,Ie,Ne,Oe))}Ce(Ne)},method2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&rules.type(pe,_e,Ie,Ne,Oe)}Ce(Ne)},number2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(_e===""&&(_e=void 0),isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&(rules.type(pe,_e,Ie,Ne,Oe),rules.range(pe,_e,Ie,Ne,Oe))}Ce(Ne)},_boolean=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&rules.type(pe,_e,Ie,Ne,Oe)}Ce(Ne)},regexp2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),isEmptyValue(_e)||rules.type(pe,_e,Ie,Ne,Oe)}Ce(Ne)},integer2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&(rules.type(pe,_e,Ie,Ne,Oe),rules.range(pe,_e,Ie,Ne,Oe))}Ce(Ne)},floatFn=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&(rules.type(pe,_e,Ie,Ne,Oe),rules.range(pe,_e,Ie,Ne,Oe))}Ce(Ne)},array2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(_e==null&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe,"array"),_e!=null&&(rules.type(pe,_e,Ie,Ne,Oe),rules.range(pe,_e,Ie,Ne,Oe))}Ce(Ne)},object2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&rules.type(pe,_e,Ie,Ne,Oe)}Ce(Ne)},ENUM="enum",enumerable2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),_e!==void 0&&rules[ENUM](pe,_e,Ie,Ne,Oe)}Ce(Ne)},pattern2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e,"string")&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe),isEmptyValue(_e,"string")||rules.pattern(pe,_e,Ie,Ne,Oe)}Ce(Ne)},date2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e,"date")&&!pe.required)return Ce();if(rules.required(pe,_e,Ie,Ne,Oe),!isEmptyValue(_e,"date")){var Ue;_e instanceof Date?Ue=_e:Ue=new Date(_e),rules.type(pe,Ue,Ie,Ne,Oe),Ue&&rules.range(pe,Ue.getTime(),Ie,Ne,Oe)}}Ce(Ne)},required2=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=Array.isArray(_e)?"array":typeof _e;rules.required(pe,_e,Ie,Ne,Oe,Fe),Ce(Ne)},type2=function(pe,_e,Ce,Ie,Oe){var Ne=pe.type,Fe=[],Ue=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Ue){if(isEmptyValue(_e,Ne)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Fe,Oe,Ne),isEmptyValue(_e,Ne)||rules.type(pe,_e,Ie,Fe,Oe)}Ce(Fe)},any=function(pe,_e,Ce,Ie,Oe){var Ne=[],Fe=pe.required||!pe.required&&Ie.hasOwnProperty(pe.field);if(Fe){if(isEmptyValue(_e)&&!pe.required)return Ce();rules.required(pe,_e,Ie,Ne,Oe)}Ce(Ne)},validators={string,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var pe=JSON.parse(JSON.stringify(this));return pe.clone=this.clone,pe}}}var messages=newMessages(),Schema=function(){function xe(_e){this.rules=null,this._messages=messages,this.define(_e)}var pe=xe.prototype;return pe.define=function(Ce){var Ie=this;if(!Ce)throw new Error("Cannot configure a schema with no rules");if(typeof Ce!="object"||Array.isArray(Ce))throw new Error("Rules must be an object");this.rules={},Object.keys(Ce).forEach(function(Oe){var Ne=Ce[Oe];Ie.rules[Oe]=Array.isArray(Ne)?Ne:[Ne]})},pe.messages=function(Ce){return Ce&&(this._messages=deepMerge(newMessages(),Ce)),this._messages},pe.validate=function(Ce,Ie,Oe){var Ne=this;Ie===void 0&&(Ie={}),Oe===void 0&&(Oe=function(){});var Fe=Ce,Ue=Ie,$e=Oe;if(typeof Ue=="function"&&($e=Ue,Ue={}),!this.rules||Object.keys(this.rules).length===0)return $e&&$e(null,Fe),Promise.resolve(Fe);function ze(hn){var _n=[],bn={};function An(Sn){if(Array.isArray(Sn)){var Cn;_n=(Cn=_n).concat.apply(Cn,Sn)}else _n.push(Sn)}for(var xn=0;xn<hn.length;xn++)An(hn[xn]);_n.length?(bn=convertFieldsError(_n),$e(_n,bn)):$e(null,Fe)}if(Ue.messages){var Ve=this.messages();Ve===messages&&(Ve=newMessages()),deepMerge(Ve,Ue.messages),Ue.messages=Ve}else Ue.messages=this.messages();var qe={},En=Ue.keys||Object.keys(this.rules);En.forEach(function(hn){var _n=Ne.rules[hn],bn=Fe[hn];_n.forEach(function(An){var xn=An;typeof xn.transform=="function"&&(Fe===Ce&&(Fe=_extends$2({},Fe)),bn=Fe[hn]=xn.transform(bn)),typeof xn=="function"?xn={validator:xn}:xn=_extends$2({},xn),xn.validator=Ne.getValidationMethod(xn),xn.validator&&(xn.field=hn,xn.fullField=xn.fullField||hn,xn.type=Ne.getType(xn),qe[hn]=qe[hn]||[],qe[hn].push({rule:xn,value:bn,source:Fe,field:hn}))})});var vn={};return asyncMap(qe,Ue,function(hn,_n){var bn=hn.rule,An=(bn.type==="object"||bn.type==="array")&&(typeof bn.fields=="object"||typeof bn.defaultField=="object");An=An&&(bn.required||!bn.required&&hn.value),bn.field=hn.field;function xn(Tn,wn){return _extends$2({},wn,{fullField:bn.fullField+"."+Tn,fullFields:bn.fullFields?[].concat(bn.fullFields,[Tn]):[Tn]})}function Sn(Tn){Tn===void 0&&(Tn=[]);var wn=Array.isArray(Tn)?Tn:[Tn];!Ue.suppressWarning&&wn.length&&xe.warning("async-validator:",wn),wn.length&&bn.message!==void 0&&(wn=[].concat(bn.message));var Ln=wn.map(complementError(bn,Fe));if(Ue.first&&Ln.length)return vn[bn.field]=1,_n(Ln);if(!An)_n(Ln);else{if(bn.required&&!hn.value)return bn.message!==void 0?Ln=[].concat(bn.message).map(complementError(bn,Fe)):Ue.error&&(Ln=[Ue.error(bn,format$1(Ue.messages.required,bn.field))]),_n(Ln);var Pn={};bn.defaultField&&Object.keys(hn.value).map(function(Rn){Pn[Rn]=bn.defaultField}),Pn=_extends$2({},Pn,hn.rule.fields);var kn={};Object.keys(Pn).forEach(function(Rn){var Nn=Pn[Rn],On=Array.isArray(Nn)?Nn:[Nn];kn[Rn]=On.map(xn.bind(null,Rn))});var In=new xe(kn);In.messages(Ue.messages),hn.rule.options&&(hn.rule.options.messages=Ue.messages,hn.rule.options.error=Ue.error),In.validate(hn.value,hn.rule.options||Ue,function(Rn){var Nn=[];Ln&&Ln.length&&Nn.push.apply(Nn,Ln),Rn&&Rn.length&&Nn.push.apply(Nn,Rn),_n(Nn.length?Nn:null)})}}var Cn;if(bn.asyncValidator)Cn=bn.asyncValidator(bn,hn.value,Sn,hn.source,Ue);else if(bn.validator){try{Cn=bn.validator(bn,hn.value,Sn,hn.source,Ue)}catch(Tn){console.error==null||console.error(Tn),Ue.suppressValidatorError||setTimeout(function(){throw Tn},0),Sn(Tn.message)}Cn===!0?Sn():Cn===!1?Sn(typeof bn.message=="function"?bn.message(bn.fullField||bn.field):bn.message||(bn.fullField||bn.field)+" fails"):Cn instanceof Array?Sn(Cn):Cn instanceof Error&&Sn(Cn.message)}Cn&&Cn.then&&Cn.then(function(){return Sn()},function(Tn){return Sn(Tn)})},function(hn){ze(hn)},Fe)},pe.getType=function(Ce){if(Ce.type===void 0&&Ce.pattern instanceof RegExp&&(Ce.type="pattern"),typeof Ce.validator!="function"&&Ce.type&&!validators.hasOwnProperty(Ce.type))throw new Error(format$1("Unknown rule type %s",Ce.type));return Ce.type||"string"},pe.getValidationMethod=function(Ce){if(typeof Ce.validator=="function")return Ce.validator;var Ie=Object.keys(Ce),Oe=Ie.indexOf("message");return Oe!==-1&&Ie.splice(Oe,1),Ie.length===1&&Ie[0]==="required"?validators.required:validators[this.getType(Ce)]||void 0},xe}();Schema.register=function(pe,_e){if(typeof _e!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[pe]=_e};Schema.warning=warning$2;Schema.messages=messages;Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$a="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$a,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(xe,{slots:pe}){const _e=inject(formContextKey,void 0),Ce=inject(formItemContextKey);Ce||throwError$1(COMPONENT_NAME$a,"usage: <el-form-item><label-wrap /></el-form-item>");const Ie=useNamespace("form"),Oe=ref(),Ne=ref(0),Fe=()=>{var ze;if((ze=Oe.value)!=null&&ze.firstElementChild){const Ve=window.getComputedStyle(Oe.value.firstElementChild).width;return Math.ceil(Number.parseFloat(Ve))}else return 0},Ue=(ze="update")=>{nextTick(()=>{pe.default&&xe.isAutoWidth&&(ze==="update"?Ne.value=Fe():ze==="remove"&&(_e==null||_e.deregisterLabelWidth(Ne.value)))})},$e=()=>Ue("update");return onMounted(()=>{$e()}),onBeforeUnmount(()=>{Ue("remove")}),onUpdated(()=>$e()),watch(Ne,(ze,Ve)=>{xe.updateAll&&(_e==null||_e.registerLabelWidth(ze,Ve))}),useResizeObserver(computed(()=>{var ze,Ve;return(Ve=(ze=Oe.value)==null?void 0:ze.firstElementChild)!=null?Ve:null}),$e),()=>{var ze,Ve;if(!pe)return null;const{isAutoWidth:qe}=xe;if(qe){const En=_e==null?void 0:_e.autoLabelWidth,vn=Ce==null?void 0:Ce.hasLabel,hn={};if(vn&&En&&En!=="auto"){const _n=Math.max(0,Number.parseInt(En,10)-Ne.value),bn=_e.labelPosition==="left"?"marginRight":"marginLeft";_n&&(hn[bn]="".concat(_n,"px"))}return createVNode("div",{ref:Oe,class:[Ie.be("item","label-wrap")],style:hn},[(ze=pe.default)==null?void 0:ze.call(pe)])}else return createVNode(Fragment$1,{ref:Oe},[(Ve=pe.default)==null?void 0:Ve.call(pe)])}}});const _hoisted_1$D=["role","aria-labelledby"],__default__$J=defineComponent({name:"ElFormItem"}),_sfc_main$1a=defineComponent({...__default__$J,props:formItemProps,setup(xe,{expose:pe}){const _e=xe,Ce=useSlots(),Ie=inject(formContextKey,void 0),Oe=inject(formItemContextKey,void 0),Ne=useFormSize(void 0,{formItem:!1}),Fe=useNamespace("form-item"),Ue=useId().value,$e=ref([]),ze=ref(""),Ve=refDebounced(ze,100),qe=ref(""),En=ref();let vn,hn=!1;const _n=computed(()=>{if((Ie==null?void 0:Ie.labelPosition)==="top")return{};const Jn=addUnit(_e.labelWidth||(Ie==null?void 0:Ie.labelWidth)||"");return Jn?{width:Jn}:{}}),bn=computed(()=>{if((Ie==null?void 0:Ie.labelPosition)==="top"||Ie!=null&&Ie.inline)return{};if(!_e.label&&!_e.labelWidth&&Pn)return{};const Jn=addUnit(_e.labelWidth||(Ie==null?void 0:Ie.labelWidth)||"");return!_e.label&&!Ce.label?{marginLeft:Jn}:{}}),An=computed(()=>[Fe.b(),Fe.m(Ne.value),Fe.is("error",ze.value==="error"),Fe.is("validating",ze.value==="validating"),Fe.is("success",ze.value==="success"),Fe.is("required",On.value||_e.required),Fe.is("no-asterisk",Ie==null?void 0:Ie.hideRequiredAsterisk),(Ie==null?void 0:Ie.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[Fe.m("feedback")]:Ie==null?void 0:Ie.statusIcon}]),xn=computed(()=>isBoolean(_e.inlineMessage)?_e.inlineMessage:(Ie==null?void 0:Ie.inlineMessage)||!1),Sn=computed(()=>[Fe.e("error"),{[Fe.em("error","inline")]:xn.value}]),Cn=computed(()=>_e.prop?isString$3(_e.prop)?_e.prop:_e.prop.join("."):""),Tn=computed(()=>!!(_e.label||Ce.label)),wn=computed(()=>_e.for||($e.value.length===1?$e.value[0]:void 0)),Ln=computed(()=>!wn.value&&Tn.value),Pn=!!Oe,kn=computed(()=>{const Jn=Ie==null?void 0:Ie.model;if(!(!Jn||!_e.prop))return getProp(Jn,_e.prop).value}),In=computed(()=>{const{required:Jn}=_e,mr=[];_e.rules&&mr.push(...castArray$1(_e.rules));const Ir=Ie==null?void 0:Ie.rules;if(Ir&&_e.prop){const yr=getProp(Ir,_e.prop).value;yr&&mr.push(...castArray$1(yr))}if(Jn!==void 0){const yr=mr.map((Tr,Sr)=>[Tr,Sr]).filter(([Tr])=>Object.keys(Tr).includes("required"));if(yr.length>0)for(const[Tr,Sr]of yr)Tr.required!==Jn&&(mr[Sr]={...Tr,required:Jn});else mr.push({required:Jn})}return mr}),Rn=computed(()=>In.value.length>0),Nn=Jn=>In.value.filter(Ir=>!Ir.trigger||!Jn?!0:Array.isArray(Ir.trigger)?Ir.trigger.includes(Jn):Ir.trigger===Jn).map(({trigger:Ir,...yr})=>yr),On=computed(()=>In.value.some(Jn=>Jn.required)),Dn=computed(()=>{var Jn;return Ve.value==="error"&&_e.showMessage&&((Jn=Ie==null?void 0:Ie.showMessage)!=null?Jn:!0)}),Mn=computed(()=>"".concat(_e.label||"").concat((Ie==null?void 0:Ie.labelSuffix)||"")),Bn=Jn=>{ze.value=Jn},$n=Jn=>{var mr,Ir;const{errors:yr,fields:Tr}=Jn;(!yr||!Tr)&&console.error(Jn),Bn("error"),qe.value=yr?(Ir=(mr=yr==null?void 0:yr[0])==null?void 0:mr.message)!=null?Ir:"".concat(_e.prop," is required"):"",Ie==null||Ie.emit("validate",_e.prop,!1,qe.value)},Fn=()=>{Bn("success"),Ie==null||Ie.emit("validate",_e.prop,!0,"")},Un=async Jn=>{const mr=Cn.value;return new Schema({[mr]:Jn}).validate({[mr]:kn.value},{firstFields:!0}).then(()=>(Fn(),!0)).catch(yr=>($n(yr),Promise.reject(yr)))},Hn=async(Jn,mr)=>{if(hn||!_e.prop)return!1;const Ir=isFunction$2(mr);if(!Rn.value)return mr==null||mr(!1),!1;const yr=Nn(Jn);return yr.length===0?(mr==null||mr(!0),!0):(Bn("validating"),Un(yr).then(()=>(mr==null||mr(!0),!0)).catch(Tr=>{const{fields:Sr}=Tr;return mr==null||mr(!1,Sr),Ir?!1:Promise.reject(Sr)}))},Wn=()=>{Bn(""),qe.value="",hn=!1},Xn=async()=>{const Jn=Ie==null?void 0:Ie.model;if(!Jn||!_e.prop)return;const mr=getProp(Jn,_e.prop);hn=!0,mr.value=clone(vn),await nextTick(),Wn(),hn=!1},or=Jn=>{$e.value.includes(Jn)||$e.value.push(Jn)},fr=Jn=>{$e.value=$e.value.filter(mr=>mr!==Jn)};watch(()=>_e.error,Jn=>{qe.value=Jn||"",Bn(Jn?"error":"")},{immediate:!0}),watch(()=>_e.validateStatus,Jn=>Bn(Jn||""));const cr=reactive({...toRefs(_e),$el:En,size:Ne,validateState:ze,labelId:Ue,inputIds:$e,isGroup:Ln,hasLabel:Tn,fieldValue:kn,addInputId:or,removeInputId:fr,resetField:Xn,clearValidate:Wn,validate:Hn});return provide(formItemContextKey,cr),onMounted(()=>{_e.prop&&(Ie==null||Ie.addField(cr),vn=clone(kn.value))}),onBeforeUnmount(()=>{Ie==null||Ie.removeField(cr)}),pe({size:Ne,validateMessage:qe,validateState:ze,validate:Hn,clearValidate:Wn,resetField:Xn}),(Jn,mr)=>{var Ir;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:En,class:normalizeClass(unref(An)),role:unref(Ln)?"group":void 0,"aria-labelledby":unref(Ln)?unref(Ue):void 0},[createVNode(unref(FormLabelWrap),{"is-auto-width":unref(_n).width==="auto","update-all":((Ir=unref(Ie))==null?void 0:Ir.labelWidth)==="auto"},{default:withCtx(()=>[unref(Tn)?(openBlock(),createBlock(resolveDynamicComponent(unref(wn)?"label":"div"),{key:0,id:unref(Ue),for:unref(wn),class:normalizeClass(unref(Fe).e("label")),style:normalizeStyle$1(unref(_n))},{default:withCtx(()=>[renderSlot(Jn.$slots,"label",{label:unref(Mn)},()=>[createTextVNode(toDisplayString(unref(Mn)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(Fe).e("content")),style:normalizeStyle$1(unref(bn))},[renderSlot(Jn.$slots,"default"),createVNode(TransitionGroup,{name:"".concat(unref(Fe).namespace.value,"-zoom-in-top")},{default:withCtx(()=>[unref(Dn)?renderSlot(Jn.$slots,"error",{key:0,error:qe.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(Sn))},toDisplayString(qe.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$D)}}});var FormItem=_export_sfc(_sfc_main$1a,[["__file","form-item.vue"]]);const ElForm=withInstall$1(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE="\n  height:0 !important;\n  visibility:hidden !important;\n  ".concat(isFirefox()?"":"overflow:hidden !important;","\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n"),CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(xe){const pe=window.getComputedStyle(xe),_e=pe.getPropertyValue("box-sizing"),Ce=Number.parseFloat(pe.getPropertyValue("padding-bottom"))+Number.parseFloat(pe.getPropertyValue("padding-top")),Ie=Number.parseFloat(pe.getPropertyValue("border-bottom-width"))+Number.parseFloat(pe.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(Ne=>"".concat(Ne,":").concat(pe.getPropertyValue(Ne))).join(";"),paddingSize:Ce,borderSize:Ie,boxSizing:_e}}function calcTextareaHeight(xe,pe=1,_e){var Ce;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:Ie,borderSize:Oe,boxSizing:Ne,contextStyle:Fe}=calculateNodeStyling(xe);hiddenTextarea.setAttribute("style","".concat(Fe,";").concat(HIDDEN_STYLE)),hiddenTextarea.value=xe.value||xe.placeholder||"";let Ue=hiddenTextarea.scrollHeight;const $e={};Ne==="border-box"?Ue=Ue+Oe:Ne==="content-box"&&(Ue=Ue-Ie),hiddenTextarea.value="";const ze=hiddenTextarea.scrollHeight-Ie;if(isNumber(pe)){let Ve=ze*pe;Ne==="border-box"&&(Ve=Ve+Ie+Oe),Ue=Math.max(Ve,Ue),$e.minHeight="".concat(Ve,"px")}if(isNumber(_e)){let Ve=ze*_e;Ne==="border-box"&&(Ve=Ve+Ie+Oe),Ue=Math.min(Ve,Ue)}return $e.height="".concat(Ue,"px"),(Ce=hiddenTextarea.parentNode)==null||Ce.removeChild(hiddenTextarea),hiddenTextarea=void 0,$e}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:{type:Boolean,default:!1},...useAriaProps(["ariaLabel"])}),inputEmits={[UPDATE_MODEL_EVENT]:xe=>isString$3(xe),input:xe=>isString$3(xe),change:xe=>isString$3(xe),focus:xe=>xe instanceof FocusEvent,blur:xe=>xe instanceof FocusEvent,clear:()=>!0,mouseleave:xe=>xe instanceof MouseEvent,mouseenter:xe=>xe instanceof MouseEvent,keydown:xe=>xe instanceof Event,compositionstart:xe=>xe instanceof CompositionEvent,compositionupdate:xe=>xe instanceof CompositionEvent,compositionend:xe=>xe instanceof CompositionEvent},_hoisted_1$C=["role"],_hoisted_2$s=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],_hoisted_3$d=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],__default__$I=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$19=defineComponent({...__default__$I,props:inputProps,emits:inputEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=useAttrs$1(),Oe=useSlots(),Ne=computed(()=>{const Lr={};return Ce.containerRole==="combobox"&&(Lr["aria-haspopup"]=Ie["aria-haspopup"],Lr["aria-owns"]=Ie["aria-owns"],Lr["aria-expanded"]=Ie["aria-expanded"]),Lr}),Fe=computed(()=>[Ce.type==="textarea"?_n.b():hn.b(),hn.m(En.value),hn.is("disabled",vn.value),hn.is("exceed",or.value),{[hn.b("group")]:Oe.prepend||Oe.append,[hn.m("prefix")]:Oe.prefix||Ce.prefixIcon,[hn.m("suffix")]:Oe.suffix||Ce.suffixIcon||Ce.clearable||Ce.showPassword,[hn.bm("suffix","password-clear")]:Un.value&&Hn.value,[hn.b("hidden")]:Ce.type==="hidden"},Ie.class]),Ue=computed(()=>[hn.e("wrapper"),hn.is("focus",kn.value)]),$e=useAttrs({excludeKeys:computed(()=>Object.keys(Ne.value))}),{form:ze,formItem:Ve}=useFormItem(),{inputId:qe}=useFormItemInputId(Ce,{formItemContext:Ve}),En=useFormSize(),vn=useFormDisabled(),hn=useNamespace("input"),_n=useNamespace("textarea"),bn=shallowRef(),An=shallowRef(),xn=ref(!1),Sn=ref(!1),Cn=ref(!1),Tn=ref(),wn=shallowRef(Ce.inputStyle),Ln=computed(()=>bn.value||An.value),{wrapperRef:Pn,isFocused:kn,handleFocus:In,handleBlur:Rn}=useFocusController(Ln,{afterBlur(){var Lr;Ce.validateEvent&&((Lr=Ve==null?void 0:Ve.validate)==null||Lr.call(Ve,"blur").catch(Or=>void 0))}}),Nn=computed(()=>{var Lr;return(Lr=ze==null?void 0:ze.statusIcon)!=null?Lr:!1}),On=computed(()=>(Ve==null?void 0:Ve.validateState)||""),Dn=computed(()=>On.value&&ValidateComponentsMap[On.value]),Mn=computed(()=>Cn.value?view_default:hide_default),Bn=computed(()=>[Ie.style]),$n=computed(()=>[Ce.inputStyle,wn.value,{resize:Ce.resize}]),Fn=computed(()=>isNil(Ce.modelValue)?"":String(Ce.modelValue)),Un=computed(()=>Ce.clearable&&!vn.value&&!Ce.readonly&&!!Fn.value&&(kn.value||xn.value)),Hn=computed(()=>Ce.showPassword&&!vn.value&&!Ce.readonly&&!!Fn.value&&(!!Fn.value||kn.value)),Wn=computed(()=>Ce.showWordLimit&&!!Ce.maxlength&&(Ce.type==="text"||Ce.type==="textarea")&&!vn.value&&!Ce.readonly&&!Ce.showPassword),Xn=computed(()=>Fn.value.length),or=computed(()=>!!Wn.value&&Xn.value>Number(Ce.maxlength)),fr=computed(()=>!!Oe.suffix||!!Ce.suffixIcon||Un.value||Ce.showPassword||Wn.value||!!On.value&&Nn.value),[cr,Jn]=useCursor(bn);useResizeObserver(An,Lr=>{if(yr(),!Wn.value||Ce.resize!=="both")return;const Or=Lr[0],{width:Hr}=Or.contentRect;Tn.value={right:"calc(100% - ".concat(Hr+15+6,"px)")}});const mr=()=>{const{type:Lr,autosize:Or}=Ce;if(!(!isClient||Lr!=="textarea"||!An.value))if(Or){const Hr=isObject$3(Or)?Or.minRows:void 0,qr=isObject$3(Or)?Or.maxRows:void 0,ao=calcTextareaHeight(An.value,Hr,qr);wn.value={overflowY:"hidden",...ao},nextTick(()=>{An.value.offsetHeight,wn.value=ao})}else wn.value={minHeight:calcTextareaHeight(An.value).minHeight}},yr=(Lr=>{let Or=!1;return()=>{var Hr;if(Or||!Ce.autosize)return;((Hr=An.value)==null?void 0:Hr.offsetParent)===null||(Lr(),Or=!0)}})(mr),Tr=()=>{const Lr=Ln.value,Or=Ce.formatter?Ce.formatter(Fn.value):Fn.value;!Lr||Lr.value===Or||(Lr.value=Or)},Sr=async Lr=>{cr();let{value:Or}=Lr.target;if(Ce.formatter&&(Or=Ce.parser?Ce.parser(Or):Or),!Sn.value){if(Or===Fn.value){Tr();return}_e(UPDATE_MODEL_EVENT,Or),_e("input",Or),await nextTick(),Tr(),Jn()}},Yn=Lr=>{_e("change",Lr.target.value)},Qn=Lr=>{_e("compositionstart",Lr),Sn.value=!0},rr=Lr=>{var Or;_e("compositionupdate",Lr);const Hr=(Or=Lr.target)==null?void 0:Or.value,qr=Hr[Hr.length-1]||"";Sn.value=!isKorean(qr)},gr=Lr=>{_e("compositionend",Lr),Sn.value&&(Sn.value=!1,Sr(Lr))},Ar=()=>{Cn.value=!Cn.value,Br()},Br=async()=>{var Lr;await nextTick(),(Lr=Ln.value)==null||Lr.focus()},Vr=()=>{var Lr;return(Lr=Ln.value)==null?void 0:Lr.blur()},Fr=Lr=>{xn.value=!1,_e("mouseleave",Lr)},Er=Lr=>{xn.value=!0,_e("mouseenter",Lr)},Dr=Lr=>{_e("keydown",Lr)},Pr=()=>{var Lr;(Lr=Ln.value)==null||Lr.select()},$r=()=>{_e(UPDATE_MODEL_EVENT,""),_e("change",""),_e("clear"),_e("input","")};return watch(()=>Ce.modelValue,()=>{var Lr;nextTick(()=>mr()),Ce.validateEvent&&((Lr=Ve==null?void 0:Ve.validate)==null||Lr.call(Ve,"change").catch(Or=>void 0))}),watch(Fn,()=>Tr()),watch(()=>Ce.type,async()=>{await nextTick(),Tr(),mr()}),onMounted(()=>{!Ce.formatter&&Ce.parser,Tr(),nextTick(mr)}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},computed(()=>!!Ce.label)),pe({input:bn,textarea:An,ref:Ln,textareaStyle:$n,autosize:toRef(Ce,"autosize"),focus:Br,blur:Vr,select:Pr,clear:$r,resizeTextarea:mr}),(Lr,Or)=>(openBlock(),createElementBlock("div",mergeProps(unref(Ne),{class:[unref(Fe),{[unref(hn).bm("group","append")]:Lr.$slots.append,[unref(hn).bm("group","prepend")]:Lr.$slots.prepend}],style:unref(Bn),role:Lr.containerRole,onMouseenter:Er,onMouseleave:Fr}),[createCommentVNode(" input "),Lr.type!=="textarea"?(openBlock(),createElementBlock(Fragment$1,{key:0},[createCommentVNode(" prepend slot "),Lr.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(hn).be("group","prepend"))},[renderSlot(Lr.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:Pn,class:normalizeClass(unref(Ue))},[createCommentVNode(" prefix slot "),Lr.$slots.prefix||Lr.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(hn).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(hn).e("prefix-inner"))},[renderSlot(Lr.$slots,"prefix"),Lr.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(hn).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Lr.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(qe),ref_key:"input",ref:bn,class:unref(hn).e("inner")},unref($e),{minlength:Lr.minlength,maxlength:Lr.maxlength,type:Lr.showPassword?Cn.value?"text":"password":Lr.type,disabled:unref(vn),readonly:Lr.readonly,autocomplete:Lr.autocomplete,tabindex:Lr.tabindex,"aria-label":Lr.label||Lr.ariaLabel,placeholder:Lr.placeholder,style:Lr.inputStyle,form:Lr.form,autofocus:Lr.autofocus,onCompositionstart:Qn,onCompositionupdate:rr,onCompositionend:gr,onInput:Sr,onFocus:Or[0]||(Or[0]=(...Hr)=>unref(In)&&unref(In)(...Hr)),onBlur:Or[1]||(Or[1]=(...Hr)=>unref(Rn)&&unref(Rn)(...Hr)),onChange:Yn,onKeydown:Dr}),null,16,_hoisted_2$s),createCommentVNode(" suffix slot "),unref(fr)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(hn).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(hn).e("suffix-inner"))},[!unref(Un)||!unref(Hn)||!unref(Wn)?(openBlock(),createElementBlock(Fragment$1,{key:0},[renderSlot(Lr.$slots,"suffix"),Lr.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(hn).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Lr.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Un)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(hn).e("icon"),unref(hn).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:$r},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(Hn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(hn).e("icon"),unref(hn).e("password")]),onClick:Ar},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Mn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(Wn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(hn).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(hn).e("count-inner"))},toDisplayString(unref(Xn))+" / "+toDisplayString(Lr.maxlength),3)],2)):createCommentVNode("v-if",!0),unref(On)&&unref(Dn)&&unref(Nn)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(hn).e("icon"),unref(hn).e("validateIcon"),unref(hn).is("loading",unref(On)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Dn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Lr.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(hn).be("group","append"))},[renderSlot(Lr.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment$1,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(qe),ref_key:"textarea",ref:An,class:[unref(_n).e("inner"),unref(hn).is("focus",unref(kn))]},unref($e),{minlength:Lr.minlength,maxlength:Lr.maxlength,tabindex:Lr.tabindex,disabled:unref(vn),readonly:Lr.readonly,autocomplete:Lr.autocomplete,style:unref($n),"aria-label":Lr.label||Lr.ariaLabel,placeholder:Lr.placeholder,form:Lr.form,autofocus:Lr.autofocus,onCompositionstart:Qn,onCompositionupdate:rr,onCompositionend:gr,onInput:Sr,onFocus:Or[2]||(Or[2]=(...Hr)=>unref(In)&&unref(In)(...Hr)),onBlur:Or[3]||(Or[3]=(...Hr)=>unref(Rn)&&unref(Rn)(...Hr)),onChange:Yn,onKeydown:Dr}),null,16,_hoisted_3$d),unref(Wn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle$1(Tn.value),class:normalizeClass(unref(hn).e("count"))},toDisplayString(unref(Xn))+" / "+toDisplayString(Lr.maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$C))}});var Input=_export_sfc(_sfc_main$19,[["__file","input.vue"]]);const ElInput=withInstall$1(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:xe,size:pe,bar:_e})=>({[_e.size]:pe,transform:"translate".concat(_e.axis,"(").concat(xe,"%)")}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$9="Thumb",_sfc_main$18=defineComponent({__name:"thumb",props:thumbProps,setup(xe){const pe=xe,_e=inject(scrollbarContextKey),Ce=useNamespace("scrollbar");_e||throwError$1(COMPONENT_NAME$9,"can not inject scrollbar context");const Ie=ref(),Oe=ref(),Ne=ref({}),Fe=ref(!1);let Ue=!1,$e=!1,ze=isClient?document.onselectstart:null;const Ve=computed(()=>BAR_MAP[pe.vertical?"vertical":"horizontal"]),qe=computed(()=>renderThumbStyle({size:pe.size,move:pe.move,bar:Ve.value})),En=computed(()=>Ie.value[Ve.value.offset]**2/_e.wrapElement[Ve.value.scrollSize]/pe.ratio/Oe.value[Ve.value.offset]),vn=Tn=>{var wn;if(Tn.stopPropagation(),Tn.ctrlKey||[1,2].includes(Tn.button))return;(wn=window.getSelection())==null||wn.removeAllRanges(),_n(Tn);const Ln=Tn.currentTarget;Ln&&(Ne.value[Ve.value.axis]=Ln[Ve.value.offset]-(Tn[Ve.value.client]-Ln.getBoundingClientRect()[Ve.value.direction]))},hn=Tn=>{if(!Oe.value||!Ie.value||!_e.wrapElement)return;const wn=Math.abs(Tn.target.getBoundingClientRect()[Ve.value.direction]-Tn[Ve.value.client]),Ln=Oe.value[Ve.value.offset]/2,Pn=(wn-Ln)*100*En.value/Ie.value[Ve.value.offset];_e.wrapElement[Ve.value.scroll]=Pn*_e.wrapElement[Ve.value.scrollSize]/100},_n=Tn=>{Tn.stopImmediatePropagation(),Ue=!0,document.addEventListener("mousemove",bn),document.addEventListener("mouseup",An),ze=document.onselectstart,document.onselectstart=()=>!1},bn=Tn=>{if(!Ie.value||!Oe.value||Ue===!1)return;const wn=Ne.value[Ve.value.axis];if(!wn)return;const Ln=(Ie.value.getBoundingClientRect()[Ve.value.direction]-Tn[Ve.value.client])*-1,Pn=Oe.value[Ve.value.offset]-wn,kn=(Ln-Pn)*100*En.value/Ie.value[Ve.value.offset];_e.wrapElement[Ve.value.scroll]=kn*_e.wrapElement[Ve.value.scrollSize]/100},An=()=>{Ue=!1,Ne.value[Ve.value.axis]=0,document.removeEventListener("mousemove",bn),document.removeEventListener("mouseup",An),Cn(),$e&&(Fe.value=!1)},xn=()=>{$e=!1,Fe.value=!!pe.size},Sn=()=>{$e=!0,Fe.value=Ue};onBeforeUnmount(()=>{Cn(),document.removeEventListener("mouseup",An)});const Cn=()=>{document.onselectstart!==ze&&(document.onselectstart=ze)};return useEventListener(toRef(_e,"scrollbarElement"),"mousemove",xn),useEventListener(toRef(_e,"scrollbarElement"),"mouseleave",Sn),(Tn,wn)=>(openBlock(),createBlock(Transition,{name:unref(Ce).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:Ie,class:normalizeClass([unref(Ce).e("bar"),unref(Ce).is(unref(Ve).key)]),onMousedown:hn},[createBaseVNode("div",{ref_key:"thumb",ref:Oe,class:normalizeClass(unref(Ce).e("thumb")),style:normalizeStyle$1(unref(qe)),onMousedown:vn},null,38)],34),[[vShow,Tn.always||Fe.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$18,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$17=defineComponent({__name:"bar",props:barProps,setup(xe,{expose:pe}){const _e=xe,Ce=inject(scrollbarContextKey),Ie=ref(0),Oe=ref(0),Ne=ref(""),Fe=ref(""),Ue=ref(1),$e=ref(1);return pe({handleScroll:qe=>{if(qe){const En=qe.offsetHeight-GAP,vn=qe.offsetWidth-GAP;Oe.value=qe.scrollTop*100/En*Ue.value,Ie.value=qe.scrollLeft*100/vn*$e.value}},update:()=>{const qe=Ce==null?void 0:Ce.wrapElement;if(!qe)return;const En=qe.offsetHeight-GAP,vn=qe.offsetWidth-GAP,hn=En**2/qe.scrollHeight,_n=vn**2/qe.scrollWidth,bn=Math.max(hn,_e.minSize),An=Math.max(_n,_e.minSize);Ue.value=hn/(En-hn)/(bn/(En-bn)),$e.value=_n/(vn-_n)/(An/(vn-An)),Fe.value=bn+GAP<En?"".concat(bn,"px"):"",Ne.value=An+GAP<vn?"".concat(An,"px"):""}}),(qe,En)=>(openBlock(),createElementBlock(Fragment$1,null,[createVNode(Thumb,{move:Ie.value,ratio:$e.value,size:Ne.value,always:qe.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:Oe.value,ratio:Ue.value,size:Fe.value,vertical:"",always:qe.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$17,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={scroll:({scrollTop:xe,scrollLeft:pe})=>[xe,pe].every(isNumber)},COMPONENT_NAME$8="ElScrollbar",__default__$H=defineComponent({name:COMPONENT_NAME$8}),_sfc_main$16=defineComponent({...__default__$H,props:scrollbarProps,emits:scrollbarEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=useNamespace("scrollbar");let Oe,Ne;const Fe=ref(),Ue=ref(),$e=ref(),ze=ref(),Ve=computed(()=>{const xn={};return Ce.height&&(xn.height=addUnit(Ce.height)),Ce.maxHeight&&(xn.maxHeight=addUnit(Ce.maxHeight)),[Ce.wrapStyle,xn]}),qe=computed(()=>[Ce.wrapClass,Ie.e("wrap"),{[Ie.em("wrap","hidden-default")]:!Ce.native}]),En=computed(()=>[Ie.e("view"),Ce.viewClass]),vn=()=>{var xn;Ue.value&&((xn=ze.value)==null||xn.handleScroll(Ue.value),_e("scroll",{scrollTop:Ue.value.scrollTop,scrollLeft:Ue.value.scrollLeft}))};function hn(xn,Sn){isObject$3(xn)?Ue.value.scrollTo(xn):isNumber(xn)&&isNumber(Sn)&&Ue.value.scrollTo(xn,Sn)}const _n=xn=>{isNumber(xn)&&(Ue.value.scrollTop=xn)},bn=xn=>{isNumber(xn)&&(Ue.value.scrollLeft=xn)},An=()=>{var xn;(xn=ze.value)==null||xn.update()};return watch(()=>Ce.noresize,xn=>{xn?(Oe==null||Oe(),Ne==null||Ne()):({stop:Oe}=useResizeObserver($e,An),Ne=useEventListener("resize",An))},{immediate:!0}),watch(()=>[Ce.maxHeight,Ce.height],()=>{Ce.native||nextTick(()=>{var xn;An(),Ue.value&&((xn=ze.value)==null||xn.handleScroll(Ue.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:Fe,wrapElement:Ue})),onMounted(()=>{Ce.native||nextTick(()=>{An()})}),onUpdated(()=>An()),pe({wrapRef:Ue,update:An,scrollTo:hn,setScrollTop:_n,setScrollLeft:bn,handleScroll:vn}),(xn,Sn)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:Fe,class:normalizeClass(unref(Ie).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:Ue,class:normalizeClass(unref(qe)),style:normalizeStyle$1(unref(Ve)),onScroll:vn},[(openBlock(),createBlock(resolveDynamicComponent(xn.tag),{id:xn.id,ref_key:"resizeRef",ref:$e,class:normalizeClass(unref(En)),style:normalizeStyle$1(xn.viewStyle),role:xn.role,"aria-label":xn.ariaLabel,"aria-orientation":xn.ariaOrientation},{default:withCtx(()=>[renderSlot(xn.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),xn.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:ze,always:xn.always,"min-size":xn.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$16,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall$1(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$G=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$15=defineComponent({...__default__$G,props:popperProps,setup(xe,{expose:pe}){const _e=xe,Ce=ref(),Ie=ref(),Oe=ref(),Ne=ref(),Fe=computed(()=>_e.role),Ue={triggerRef:Ce,popperInstanceRef:Ie,contentRef:Oe,referenceRef:Ne,role:Fe};return pe(Ue),provide(POPPER_INJECTION_KEY,Ue),($e,ze)=>renderSlot($e.$slots,"default")}});var Popper=_export_sfc(_sfc_main$15,[["__file","popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$F=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$14=defineComponent({...__default__$F,props:popperArrowProps,setup(xe,{expose:pe}){const _e=xe,Ce=useNamespace("popper"),{arrowOffset:Ie,arrowRef:Oe,arrowStyle:Ne}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>_e.arrowOffset,Fe=>{Ie.value=Fe}),onBeforeUnmount(()=>{Oe.value=void 0}),pe({arrowRef:Oe}),(Fe,Ue)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:Oe,class:normalizeClass(unref(Ce).e("arrow")),style:normalizeStyle$1(unref(Ne)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$14,[["__file","arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(xe,{slots:pe,attrs:_e}){var Ce;const Ie=inject(FORWARD_REF_INJECTION_KEY),Oe=useForwardRefDirective((Ce=Ie==null?void 0:Ie.setForwardRef)!=null?Ce:NOOP);return()=>{var Ne;const Fe=(Ne=pe.default)==null?void 0:Ne.call(pe,_e);if(!Fe||Fe.length>1)return null;const Ue=findFirstLegitChild(Fe);return Ue?withDirectives(cloneVNode(Ue,_e),[[Oe]]):null}}});function findFirstLegitChild(xe){if(!xe)return null;const pe=xe;for(const _e of pe){if(isObject$3(_e))switch(_e.type){case Comment:continue;case Text$1:case"svg":return wrapTextContent(_e);case Fragment$1:return findFirstLegitChild(_e.children);default:return _e}return wrapTextContent(_e)}return null}function wrapTextContent(xe){const pe=useNamespace("only-child");return createVNode("span",{class:pe.e("content")},[xe])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$E=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$13=defineComponent({...__default__$E,props:popperTriggerProps,setup(xe,{expose:pe}){const _e=xe,{role:Ce,triggerRef:Ie}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(Ie);const Oe=computed(()=>Fe.value?_e.id:void 0),Ne=computed(()=>{if(Ce&&Ce.value==="tooltip")return _e.open&&_e.id?_e.id:void 0}),Fe=computed(()=>{if(Ce&&Ce.value!=="tooltip")return Ce.value}),Ue=computed(()=>Fe.value?"".concat(_e.open):void 0);let $e;return onMounted(()=>{watch(()=>_e.virtualRef,ze=>{ze&&(Ie.value=unrefElement(ze))},{immediate:!0}),watch(Ie,(ze,Ve)=>{$e==null||$e(),$e=void 0,isElement(ze)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(qe=>{var En;const vn=_e[qe];vn&&(ze.addEventListener(qe.slice(2).toLowerCase(),vn),(En=Ve==null?void 0:Ve.removeEventListener)==null||En.call(Ve,qe.slice(2).toLowerCase(),vn))}),$e=watch([Oe,Ne,Fe,Ue],qe=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((En,vn)=>{isNil(qe[vn])?ze.removeAttribute(En):ze.setAttribute(En,qe[vn])})},{immediate:!0})),isElement(Ve)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(qe=>Ve.removeAttribute(qe))},{immediate:!0})}),onBeforeUnmount(()=>{$e==null||$e(),$e=void 0}),pe({triggerRef:Ie}),(ze,Ve)=>ze.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},ze.$attrs,{"aria-controls":unref(Oe),"aria-describedby":unref(Ne),"aria-expanded":unref(Ue),"aria-haspopup":unref(Fe)}),{default:withCtx(()=>[renderSlot(ze.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$13,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=xe=>{const pe=[],_e=document.createTreeWalker(xe,NodeFilter.SHOW_ELEMENT,{acceptNode:Ce=>{const Ie=Ce.tagName==="INPUT"&&Ce.type==="hidden";return Ce.disabled||Ce.hidden||Ie?NodeFilter.FILTER_SKIP:Ce.tabIndex>=0||Ce===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;_e.nextNode();)pe.push(_e.currentNode);return pe},getVisibleElement=(xe,pe)=>{for(const _e of xe)if(!isHidden(_e,pe))return _e},isHidden=(xe,pe)=>{if(getComputedStyle(xe).visibility==="hidden")return!0;for(;xe;){if(pe&&xe===pe)return!1;if(getComputedStyle(xe).display==="none")return!0;xe=xe.parentElement}return!1},getEdges=xe=>{const pe=obtainAllFocusableElements(xe),_e=getVisibleElement(pe,xe),Ce=getVisibleElement(pe.reverse(),xe);return[_e,Ce]},isSelectable=xe=>xe instanceof HTMLInputElement&&"select"in xe,tryFocus=(xe,pe)=>{if(xe&&xe.focus){const _e=document.activeElement;xe.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),xe!==_e&&isSelectable(xe)&&pe&&xe.select()}};function removeFromStack(xe,pe){const _e=[...xe],Ce=xe.indexOf(pe);return Ce!==-1&&_e.splice(Ce,1),_e}const createFocusableStack=()=>{let xe=[];return{push:Ce=>{const Ie=xe[0];Ie&&Ce!==Ie&&Ie.pause(),xe=removeFromStack(xe,Ce),xe.unshift(Ce)},remove:Ce=>{var Ie,Oe;xe=removeFromStack(xe,Ce),(Oe=(Ie=xe[0])==null?void 0:Ie.resume)==null||Oe.call(Ie)}}},focusFirstDescendant=(xe,pe=!1)=>{const _e=document.activeElement;for(const Ce of xe)if(tryFocus(Ce,pe),document.activeElement!==_e)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=xe=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:xe}),_sfc_main$12=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(xe,{emit:pe}){const _e=ref();let Ce,Ie;const{focusReason:Oe}=useFocusReason();useEscapeKeydown(vn=>{xe.trapped&&!Ne.paused&&pe("release-requested",vn)});const Ne={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},Fe=vn=>{if(!xe.loop&&!xe.trapped||Ne.paused)return;const{key:hn,altKey:_n,ctrlKey:bn,metaKey:An,currentTarget:xn,shiftKey:Sn}=vn,{loop:Cn}=xe,Tn=hn===EVENT_CODE.tab&&!_n&&!bn&&!An,wn=document.activeElement;if(Tn&&wn){const Ln=xn,[Pn,kn]=getEdges(Ln);if(Pn&&kn){if(!Sn&&wn===kn){const Rn=createFocusOutPreventedEvent({focusReason:Oe.value});pe("focusout-prevented",Rn),Rn.defaultPrevented||(vn.preventDefault(),Cn&&tryFocus(Pn,!0))}else if(Sn&&[Pn,Ln].includes(wn)){const Rn=createFocusOutPreventedEvent({focusReason:Oe.value});pe("focusout-prevented",Rn),Rn.defaultPrevented||(vn.preventDefault(),Cn&&tryFocus(kn,!0))}}else if(wn===Ln){const Rn=createFocusOutPreventedEvent({focusReason:Oe.value});pe("focusout-prevented",Rn),Rn.defaultPrevented||vn.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:_e,onKeydown:Fe}),watch(()=>xe.focusTrapEl,vn=>{vn&&(_e.value=vn)},{immediate:!0}),watch([_e],([vn],[hn])=>{vn&&(vn.addEventListener("keydown",Fe),vn.addEventListener("focusin",ze),vn.addEventListener("focusout",Ve)),hn&&(hn.removeEventListener("keydown",Fe),hn.removeEventListener("focusin",ze),hn.removeEventListener("focusout",Ve))});const Ue=vn=>{pe(ON_TRAP_FOCUS_EVT,vn)},$e=vn=>pe(ON_RELEASE_FOCUS_EVT,vn),ze=vn=>{const hn=unref(_e);if(!hn)return;const _n=vn.target,bn=vn.relatedTarget,An=_n&&hn.contains(_n);xe.trapped||bn&&hn.contains(bn)||(Ce=bn),An&&pe("focusin",vn),!Ne.paused&&xe.trapped&&(An?Ie=_n:tryFocus(Ie,!0))},Ve=vn=>{const hn=unref(_e);if(!(Ne.paused||!hn))if(xe.trapped){const _n=vn.relatedTarget;!isNil(_n)&&!hn.contains(_n)&&setTimeout(()=>{if(!Ne.paused&&xe.trapped){const bn=createFocusOutPreventedEvent({focusReason:Oe.value});pe("focusout-prevented",bn),bn.defaultPrevented||tryFocus(Ie,!0)}},0)}else{const _n=vn.target;_n&&hn.contains(_n)||pe("focusout",vn)}};async function qe(){await nextTick();const vn=unref(_e);if(vn){focusableStack.push(Ne);const hn=vn.contains(document.activeElement)?Ce:document.activeElement;if(Ce=hn,!vn.contains(hn)){const bn=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);vn.addEventListener(FOCUS_AFTER_TRAPPED,Ue),vn.dispatchEvent(bn),bn.defaultPrevented||nextTick(()=>{let An=xe.focusStartEl;isString$3(An)||(tryFocus(An),document.activeElement!==An&&(An="first")),An==="first"&&focusFirstDescendant(obtainAllFocusableElements(vn),!0),(document.activeElement===hn||An==="container")&&tryFocus(vn)})}}}function En(){const vn=unref(_e);if(vn){vn.removeEventListener(FOCUS_AFTER_TRAPPED,Ue);const hn=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:Oe.value}});vn.addEventListener(FOCUS_AFTER_RELEASED,$e),vn.dispatchEvent(hn),!hn.defaultPrevented&&(Oe.value=="keyboard"||!isFocusCausedByUserEvent()||vn.contains(document.activeElement))&&tryFocus(Ce!=null?Ce:document.body),vn.removeEventListener(FOCUS_AFTER_RELEASED,$e),focusableStack.remove(Ne)}}return onMounted(()=>{xe.trapped&&qe(),watch(()=>xe.trapped,vn=>{vn?qe():En()})}),onBeforeUnmount(()=>{xe.trapped&&En()}),{onKeydown:Fe}}});function _sfc_render$g(xe,pe,_e,Ce,Ie,Oe){return renderSlot(xe.$slots,"default",{handleKeydown:xe.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$12,[["render",_sfc_render$g],["__file","focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"])}),popperContentEmits={mouseenter:xe=>xe instanceof MouseEvent,mouseleave:xe=>xe instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(xe,pe=[])=>{const{placement:_e,strategy:Ce,popperOptions:Ie}=xe,Oe={placement:_e,strategy:Ce,...Ie,modifiers:[...genModifiers(xe),...pe]};return deriveExtraModifiers(Oe,Ie==null?void 0:Ie.modifiers),Oe},unwrapMeasurableEl=xe=>{if(isClient)return unrefElement(xe)};function genModifiers(xe){const{offset:pe,gpuAcceleration:_e,fallbackPlacements:Ce}=xe;return[{name:"offset",options:{offset:[0,pe!=null?pe:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:Ce}},{name:"computeStyles",options:{gpuAcceleration:_e}}]}function deriveExtraModifiers(xe,pe){pe&&(xe.modifiers=[...xe.modifiers,...pe!=null?pe:[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=xe=>{const{popperInstanceRef:pe,contentRef:_e,triggerRef:Ce,role:Ie}=inject(POPPER_INJECTION_KEY,void 0),Oe=ref(),Ne=ref(),Fe=computed(()=>({name:"eventListeners",enabled:!!xe.visible})),Ue=computed(()=>{var bn;const An=unref(Oe),xn=(bn=unref(Ne))!=null?bn:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(An),options:{element:An,padding:xn}}}),$e=computed(()=>({onFirstUpdate:()=>{vn()},...buildPopperOptions(xe,[unref(Ue),unref(Fe)])})),ze=computed(()=>unwrapMeasurableEl(xe.referenceEl)||unref(Ce)),{attributes:Ve,state:qe,styles:En,update:vn,forceUpdate:hn,instanceRef:_n}=usePopper(ze,_e,$e);return watch(_n,bn=>pe.value=bn),onMounted(()=>{watch(()=>{var bn;return(bn=unref(ze))==null?void 0:bn.getBoundingClientRect()},()=>{vn()})}),{attributes:Ve,arrowRef:Oe,contentRef:_e,instanceRef:_n,state:qe,styles:En,role:Ie,forceUpdate:hn,update:vn}},usePopperContentDOM=(xe,{attributes:pe,styles:_e,role:Ce})=>{const{nextZIndex:Ie}=useZIndex(),Oe=useNamespace("popper"),Ne=computed(()=>unref(pe).popper),Fe=ref(isNumber(xe.zIndex)?xe.zIndex:Ie()),Ue=computed(()=>[Oe.b(),Oe.is("pure",xe.pure),Oe.is(xe.effect),xe.popperClass]),$e=computed(()=>[{zIndex:unref(Fe)},unref(_e).popper,xe.popperStyle||{}]),ze=computed(()=>Ce.value==="dialog"?"false":void 0),Ve=computed(()=>unref(_e).arrow||{});return{ariaModal:ze,arrowStyle:Ve,contentAttrs:Ne,contentClass:Ue,contentStyle:$e,contentZIndex:Fe,updateZIndex:()=>{Fe.value=isNumber(xe.zIndex)?xe.zIndex:Ie()}}},usePopperContentFocusTrap=(xe,pe)=>{const _e=ref(!1),Ce=ref();return{focusStartRef:Ce,trapped:_e,onFocusAfterReleased:$e=>{var ze;((ze=$e.detail)==null?void 0:ze.focusReason)!=="pointer"&&(Ce.value="first",pe("blur"))},onFocusAfterTrapped:()=>{pe("focus")},onFocusInTrap:$e=>{xe.visible&&!_e.value&&($e.target&&(Ce.value=$e.target),_e.value=!0)},onFocusoutPrevented:$e=>{xe.trapping||($e.detail.focusReason==="pointer"&&$e.preventDefault(),_e.value=!1)},onReleaseRequested:()=>{_e.value=!1,pe("close")}}},__default__$D=defineComponent({name:"ElPopperContent"}),_sfc_main$11=defineComponent({...__default__$D,props:popperContentProps,emits:popperContentEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,{focusStartRef:Ie,trapped:Oe,onFocusAfterReleased:Ne,onFocusAfterTrapped:Fe,onFocusInTrap:Ue,onFocusoutPrevented:$e,onReleaseRequested:ze}=usePopperContentFocusTrap(Ce,_e),{attributes:Ve,arrowRef:qe,contentRef:En,styles:vn,instanceRef:hn,role:_n,update:bn}=usePopperContent(Ce),{ariaModal:An,arrowStyle:xn,contentAttrs:Sn,contentClass:Cn,contentStyle:Tn,updateZIndex:wn}=usePopperContentDOM(Ce,{styles:vn,attributes:Ve,role:_n}),Ln=inject(formItemContextKey,void 0),Pn=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:xn,arrowRef:qe,arrowOffset:Pn}),Ln&&provide(formItemContextKey,{...Ln,addInputId:NOOP,removeInputId:NOOP});let kn;const In=(Nn=!0)=>{bn(),Nn&&wn()},Rn=()=>{In(!1),Ce.visible&&Ce.focusOnShow?Oe.value=!0:Ce.visible===!1&&(Oe.value=!1)};return onMounted(()=>{watch(()=>Ce.triggerTargetEl,(Nn,On)=>{kn==null||kn(),kn=void 0;const Dn=unref(Nn||En.value),Mn=unref(On||En.value);isElement(Dn)&&(kn=watch([_n,()=>Ce.ariaLabel,An,()=>Ce.id],Bn=>{["role","aria-label","aria-modal","id"].forEach(($n,Fn)=>{isNil(Bn[Fn])?Dn.removeAttribute($n):Dn.setAttribute($n,Bn[Fn])})},{immediate:!0})),Mn!==Dn&&isElement(Mn)&&["role","aria-label","aria-modal","id"].forEach(Bn=>{Mn.removeAttribute(Bn)})},{immediate:!0}),watch(()=>Ce.visible,Rn,{immediate:!0})}),onBeforeUnmount(()=>{kn==null||kn(),kn=void 0}),pe({popperContentRef:En,popperInstanceRef:hn,updatePopper:In,contentStyle:Tn}),(Nn,On)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:En},unref(Sn),{style:unref(Tn),class:unref(Cn),tabindex:"-1",onMouseenter:On[0]||(On[0]=Dn=>Nn.$emit("mouseenter",Dn)),onMouseleave:On[1]||(On[1]=Dn=>Nn.$emit("mouseleave",Dn))}),[createVNode(unref(ElFocusTrap),{trapped:unref(Oe),"trap-on-focus-in":!0,"focus-trap-el":unref(En),"focus-start-el":unref(Ie),onFocusAfterTrapped:unref(Fe),onFocusAfterReleased:unref(Ne),onFocusin:unref(Ue),onFocusoutPrevented:unref($e),onReleaseRequested:unref(ze)},{default:withCtx(()=>[renderSlot(Nn.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc(_sfc_main$11,[["__file","content.vue"]]);const ElPopper=withInstall$1(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(xe,pe)=>isArray$4(xe)?xe.includes(pe):xe===pe,whenTrigger=(xe,pe,_e)=>Ce=>{isTriggerType(unref(xe),pe)&&_e(Ce)},__default__$C=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$10=defineComponent({...__default__$C,props:useTooltipTriggerProps,setup(xe,{expose:pe}){const _e=xe,Ce=useNamespace("tooltip"),{controlled:Ie,id:Oe,open:Ne,onOpen:Fe,onClose:Ue,onToggle:$e}=inject(TOOLTIP_INJECTION_KEY,void 0),ze=ref(null),Ve=()=>{if(unref(Ie)||_e.disabled)return!0},qe=toRef(_e,"trigger"),En=composeEventHandlers(Ve,whenTrigger(qe,"hover",Fe)),vn=composeEventHandlers(Ve,whenTrigger(qe,"hover",Ue)),hn=composeEventHandlers(Ve,whenTrigger(qe,"click",Sn=>{Sn.button===0&&$e(Sn)})),_n=composeEventHandlers(Ve,whenTrigger(qe,"focus",Fe)),bn=composeEventHandlers(Ve,whenTrigger(qe,"focus",Ue)),An=composeEventHandlers(Ve,whenTrigger(qe,"contextmenu",Sn=>{Sn.preventDefault(),$e(Sn)})),xn=composeEventHandlers(Ve,Sn=>{const{code:Cn}=Sn;_e.triggerKeys.includes(Cn)&&(Sn.preventDefault(),$e(Sn))});return pe({triggerRef:ze}),(Sn,Cn)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(Oe),"virtual-ref":Sn.virtualRef,open:unref(Ne),"virtual-triggering":Sn.virtualTriggering,class:normalizeClass(unref(Ce).e("trigger")),onBlur:unref(bn),onClick:unref(hn),onContextmenu:unref(An),onFocus:unref(_n),onMouseenter:unref(En),onMouseleave:unref(vn),onKeydown:unref(xn)},{default:withCtx(()=>[renderSlot(Sn.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$10,[["__file","trigger.vue"]]);const __default__$B=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$$=defineComponent({...__default__$B,props:useTooltipContentProps,setup(xe,{expose:pe}){const _e=xe,{selector:Ce}=usePopperContainerId(),Ie=useNamespace("tooltip"),Oe=ref(null),Ne=ref(!1),{controlled:Fe,id:Ue,open:$e,trigger:ze,onClose:Ve,onOpen:qe,onShow:En,onHide:vn,onBeforeShow:hn,onBeforeHide:_n}=inject(TOOLTIP_INJECTION_KEY,void 0),bn=computed(()=>_e.transition||"".concat(Ie.namespace.value,"-fade-in-linear")),An=computed(()=>_e.persistent);onBeforeUnmount(()=>{Ne.value=!0});const xn=computed(()=>unref(An)?!0:unref($e)),Sn=computed(()=>_e.disabled?!1:unref($e)),Cn=computed(()=>_e.appendTo||Ce.value),Tn=computed(()=>{var Bn;return(Bn=_e.style)!=null?Bn:{}}),wn=computed(()=>!unref($e)),Ln=()=>{vn()},Pn=()=>{if(unref(Fe))return!0},kn=composeEventHandlers(Pn,()=>{_e.enterable&&unref(ze)==="hover"&&qe()}),In=composeEventHandlers(Pn,()=>{unref(ze)==="hover"&&Ve()}),Rn=()=>{var Bn,$n;($n=(Bn=Oe.value)==null?void 0:Bn.updatePopper)==null||$n.call(Bn),hn==null||hn()},Nn=()=>{_n==null||_n()},On=()=>{En(),Mn=onClickOutside(computed(()=>{var Bn;return(Bn=Oe.value)==null?void 0:Bn.popperContentRef}),()=>{if(unref(Fe))return;unref(ze)!=="hover"&&Ve()})},Dn=()=>{_e.virtualTriggering||Ve()};let Mn;return watch(()=>unref($e),Bn=>{Bn||Mn==null||Mn()},{flush:"post"}),watch(()=>_e.content,()=>{var Bn,$n;($n=(Bn=Oe.value)==null?void 0:Bn.updatePopper)==null||$n.call(Bn)}),pe({contentRef:Oe}),(Bn,$n)=>(openBlock(),createBlock(Teleport,{disabled:!Bn.teleported,to:unref(Cn)},[createVNode(Transition,{name:unref(bn),onAfterLeave:Ln,onBeforeEnter:Rn,onAfterEnter:On,onBeforeLeave:Nn},{default:withCtx(()=>[unref(xn)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(Ue),ref_key:"contentRef",ref:Oe},Bn.$attrs,{"aria-label":Bn.ariaLabel,"aria-hidden":unref(wn),"boundaries-padding":Bn.boundariesPadding,"fallback-placements":Bn.fallbackPlacements,"gpu-acceleration":Bn.gpuAcceleration,offset:Bn.offset,placement:Bn.placement,"popper-options":Bn.popperOptions,strategy:Bn.strategy,effect:Bn.effect,enterable:Bn.enterable,pure:Bn.pure,"popper-class":Bn.popperClass,"popper-style":[Bn.popperStyle,unref(Tn)],"reference-el":Bn.referenceEl,"trigger-target-el":Bn.triggerTargetEl,visible:unref(Sn),"z-index":Bn.zIndex,onMouseenter:unref(kn),onMouseleave:unref(In),onBlur:Dn,onClose:unref(Ve)}),{default:withCtx(()=>[Ne.value?createCommentVNode("v-if",!0):renderSlot(Bn.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(Sn)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$$,[["__file","content.vue"]]);const _hoisted_1$B=["innerHTML"],_hoisted_2$r={key:1},__default__$A=defineComponent({name:"ElTooltip"}),_sfc_main$_=defineComponent({...__default__$A,props:useTooltipProps,emits:tooltipEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe;usePopperContainer();const Ie=useId(),Oe=ref(),Ne=ref(),Fe=()=>{var bn;const An=unref(Oe);An&&((bn=An.popperInstanceRef)==null||bn.update())},Ue=ref(!1),$e=ref(),{show:ze,hide:Ve,hasUpdateHandler:qe}=useTooltipModelToggle({indicator:Ue,toggleReason:$e}),{onOpen:En,onClose:vn}=useDelayedToggle({showAfter:toRef(Ce,"showAfter"),hideAfter:toRef(Ce,"hideAfter"),autoClose:toRef(Ce,"autoClose"),open:ze,close:Ve}),hn=computed(()=>isBoolean(Ce.visible)&&!qe.value);provide(TOOLTIP_INJECTION_KEY,{controlled:hn,id:Ie,open:readonly(Ue),trigger:toRef(Ce,"trigger"),onOpen:bn=>{En(bn)},onClose:bn=>{vn(bn)},onToggle:bn=>{unref(Ue)?vn(bn):En(bn)},onShow:()=>{_e("show",$e.value)},onHide:()=>{_e("hide",$e.value)},onBeforeShow:()=>{_e("before-show",$e.value)},onBeforeHide:()=>{_e("before-hide",$e.value)},updatePopper:Fe}),watch(()=>Ce.disabled,bn=>{bn&&Ue.value&&(Ue.value=!1)});const _n=bn=>{var An,xn;const Sn=(xn=(An=Ne.value)==null?void 0:An.contentRef)==null?void 0:xn.popperContentRef,Cn=(bn==null?void 0:bn.relatedTarget)||document.activeElement;return Sn&&Sn.contains(Cn)};return onDeactivated(()=>Ue.value&&Ve()),pe({popperRef:Oe,contentRef:Ne,isFocusInsideContent:_n,updatePopper:Fe,onOpen:En,onClose:vn,hide:Ve}),(bn,An)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:Oe,role:bn.role},{default:withCtx(()=>[createVNode(ElTooltipTrigger,{disabled:bn.disabled,trigger:bn.trigger,"trigger-keys":bn.triggerKeys,"virtual-ref":bn.virtualRef,"virtual-triggering":bn.virtualTriggering},{default:withCtx(()=>[bn.$slots.default?renderSlot(bn.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:Ne,"aria-label":bn.ariaLabel,"boundaries-padding":bn.boundariesPadding,content:bn.content,disabled:bn.disabled,effect:bn.effect,enterable:bn.enterable,"fallback-placements":bn.fallbackPlacements,"hide-after":bn.hideAfter,"gpu-acceleration":bn.gpuAcceleration,offset:bn.offset,persistent:bn.persistent,"popper-class":bn.popperClass,"popper-style":bn.popperStyle,placement:bn.placement,"popper-options":bn.popperOptions,pure:bn.pure,"raw-content":bn.rawContent,"reference-el":bn.referenceEl,"trigger-target-el":bn.triggerTargetEl,"show-after":bn.showAfter,strategy:bn.strategy,teleported:bn.teleported,transition:bn.transition,"virtual-triggering":bn.virtualTriggering,"z-index":bn.zIndex,"append-to":bn.appendTo},{default:withCtx(()=>[renderSlot(bn.$slots,"content",{},()=>[bn.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:bn.content},null,8,_hoisted_1$B)):(openBlock(),createElementBlock("span",_hoisted_2$r,toDisplayString(bn.content),1))]),bn.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":bn.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$_,[["__file","tooltip.vue"]]);const ElTooltip=withInstall$1(Tooltip),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:definePropType([String,Object,Array])},badgeStyle:{type:definePropType([String,Object,Array])},offset:{type:definePropType(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),_hoisted_1$A=["textContent"],__default__$z=defineComponent({name:"ElBadge"}),_sfc_main$Z=defineComponent({...__default__$z,props:badgeProps,setup(xe,{expose:pe}){const _e=xe,Ce=useNamespace("badge"),Ie=computed(()=>_e.isDot?"":isNumber(_e.value)&&isNumber(_e.max)?_e.max<_e.value?"".concat(_e.max,"+"):_e.value===0&&!_e.showZero?"":"".concat(_e.value):"".concat(_e.value)),Oe=computed(()=>{var Ne,Fe,Ue,$e,ze,Ve;return[{backgroundColor:_e.color,marginRight:addUnit(-((Fe=(Ne=_e.offset)==null?void 0:Ne[0])!=null?Fe:0)),marginTop:addUnit(($e=(Ue=_e.offset)==null?void 0:Ue[1])!=null?$e:0)},(ze=_e.dotStyle)!=null?ze:{},(Ve=_e.badgeStyle)!=null?Ve:{}]});return useDeprecated({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},computed(()=>!!_e.dotStyle)),useDeprecated({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},computed(()=>!!_e.dotClass)),pe({content:Ie}),(Ne,Fe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(Ce).b())},[renderSlot(Ne.$slots,"default"),createVNode(Transition,{name:"".concat(unref(Ce).namespace.value,"-zoom-in-center"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(Ce).e("content"),unref(Ce).em("content",Ne.type),unref(Ce).is("fixed",!!Ne.$slots.default),unref(Ce).is("dot",Ne.isDot),Ne.dotClass,Ne.badgeClass]),style:normalizeStyle$1(unref(Oe)),textContent:toDisplayString(unref(Ie))},null,14,_hoisted_1$A),[[vShow,!Ne.hidden&&(unref(Ie)||Ne.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc(_sfc_main$Z,[["__file","badge.vue"]]);const ElBadge=withInstall$1(Badge),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(xe,pe)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>xe.type==="text"));const _e=inject(buttonGroupContextKey,void 0),Ce=useGlobalConfig("button"),{form:Ie}=useFormItem(),Oe=useFormSize(computed(()=>_e==null?void 0:_e.size)),Ne=useFormDisabled(),Fe=ref(),Ue=useSlots(),$e=computed(()=>xe.type||(_e==null?void 0:_e.type)||""),ze=computed(()=>{var vn,hn,_n;return(_n=(hn=xe.autoInsertSpace)!=null?hn:(vn=Ce.value)==null?void 0:vn.autoInsertSpace)!=null?_n:!1}),Ve=computed(()=>xe.tag==="button"?{ariaDisabled:Ne.value||xe.loading,disabled:Ne.value||xe.loading,autofocus:xe.autofocus,type:xe.nativeType}:{}),qe=computed(()=>{var vn;const hn=(vn=Ue.default)==null?void 0:vn.call(Ue);if(ze.value&&(hn==null?void 0:hn.length)===1){const _n=hn[0];if((_n==null?void 0:_n.type)===Text$1){const bn=_n.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(bn.trim())}}return!1});return{_disabled:Ne,_size:Oe,_type:$e,_ref:Fe,_props:Ve,shouldAddSpace:qe,handleClick:vn=>{xe.nativeType==="reset"&&(Ie==null||Ie.resetFields()),pe("click",vn)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:xe=>xe instanceof MouseEvent};function bound01$1(xe,pe){isOnePointZero$1(xe)&&(xe="100%");var _e=isPercentage$1(xe);return xe=pe===360?xe:Math.min(pe,Math.max(0,parseFloat(xe))),_e&&(xe=parseInt(String(xe*pe),10)/100),Math.abs(xe-pe)<1e-6?1:(pe===360?xe=(xe<0?xe%pe+pe:xe%pe)/parseFloat(String(pe)):xe=xe%pe/parseFloat(String(pe)),xe)}function clamp01(xe){return Math.min(1,Math.max(0,xe))}function isOnePointZero$1(xe){return typeof xe=="string"&&xe.indexOf(".")!==-1&&parseFloat(xe)===1}function isPercentage$1(xe){return typeof xe=="string"&&xe.indexOf("%")!==-1}function boundAlpha(xe){return xe=parseFloat(xe),(isNaN(xe)||xe<0||xe>1)&&(xe=1),xe}function convertToPercentage(xe){return xe<=1?"".concat(Number(xe)*100,"%"):xe}function pad2(xe){return xe.length===1?"0"+xe:String(xe)}function rgbToRgb(xe,pe,_e){return{r:bound01$1(xe,255)*255,g:bound01$1(pe,255)*255,b:bound01$1(_e,255)*255}}function rgbToHsl(xe,pe,_e){xe=bound01$1(xe,255),pe=bound01$1(pe,255),_e=bound01$1(_e,255);var Ce=Math.max(xe,pe,_e),Ie=Math.min(xe,pe,_e),Oe=0,Ne=0,Fe=(Ce+Ie)/2;if(Ce===Ie)Ne=0,Oe=0;else{var Ue=Ce-Ie;switch(Ne=Fe>.5?Ue/(2-Ce-Ie):Ue/(Ce+Ie),Ce){case xe:Oe=(pe-_e)/Ue+(pe<_e?6:0);break;case pe:Oe=(_e-xe)/Ue+2;break;case _e:Oe=(xe-pe)/Ue+4;break}Oe/=6}return{h:Oe,s:Ne,l:Fe}}function hue2rgb(xe,pe,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?xe+(pe-xe)*(6*_e):_e<1/2?pe:_e<2/3?xe+(pe-xe)*(2/3-_e)*6:xe}function hslToRgb(xe,pe,_e){var Ce,Ie,Oe;if(xe=bound01$1(xe,360),pe=bound01$1(pe,100),_e=bound01$1(_e,100),pe===0)Ie=_e,Oe=_e,Ce=_e;else{var Ne=_e<.5?_e*(1+pe):_e+pe-_e*pe,Fe=2*_e-Ne;Ce=hue2rgb(Fe,Ne,xe+1/3),Ie=hue2rgb(Fe,Ne,xe),Oe=hue2rgb(Fe,Ne,xe-1/3)}return{r:Ce*255,g:Ie*255,b:Oe*255}}function rgbToHsv(xe,pe,_e){xe=bound01$1(xe,255),pe=bound01$1(pe,255),_e=bound01$1(_e,255);var Ce=Math.max(xe,pe,_e),Ie=Math.min(xe,pe,_e),Oe=0,Ne=Ce,Fe=Ce-Ie,Ue=Ce===0?0:Fe/Ce;if(Ce===Ie)Oe=0;else{switch(Ce){case xe:Oe=(pe-_e)/Fe+(pe<_e?6:0);break;case pe:Oe=(_e-xe)/Fe+2;break;case _e:Oe=(xe-pe)/Fe+4;break}Oe/=6}return{h:Oe,s:Ue,v:Ne}}function hsvToRgb(xe,pe,_e){xe=bound01$1(xe,360)*6,pe=bound01$1(pe,100),_e=bound01$1(_e,100);var Ce=Math.floor(xe),Ie=xe-Ce,Oe=_e*(1-pe),Ne=_e*(1-Ie*pe),Fe=_e*(1-(1-Ie)*pe),Ue=Ce%6,$e=[_e,Ne,Oe,Oe,Fe,_e][Ue],ze=[Fe,_e,_e,Ne,Oe,Oe][Ue],Ve=[Oe,Oe,Fe,_e,_e,Ne][Ue];return{r:$e*255,g:ze*255,b:Ve*255}}function rgbToHex(xe,pe,_e,Ce){var Ie=[pad2(Math.round(xe).toString(16)),pad2(Math.round(pe).toString(16)),pad2(Math.round(_e).toString(16))];return Ce&&Ie[0].startsWith(Ie[0].charAt(1))&&Ie[1].startsWith(Ie[1].charAt(1))&&Ie[2].startsWith(Ie[2].charAt(1))?Ie[0].charAt(0)+Ie[1].charAt(0)+Ie[2].charAt(0):Ie.join("")}function rgbaToHex(xe,pe,_e,Ce,Ie){var Oe=[pad2(Math.round(xe).toString(16)),pad2(Math.round(pe).toString(16)),pad2(Math.round(_e).toString(16)),pad2(convertDecimalToHex(Ce))];return Ie&&Oe[0].startsWith(Oe[0].charAt(1))&&Oe[1].startsWith(Oe[1].charAt(1))&&Oe[2].startsWith(Oe[2].charAt(1))&&Oe[3].startsWith(Oe[3].charAt(1))?Oe[0].charAt(0)+Oe[1].charAt(0)+Oe[2].charAt(0)+Oe[3].charAt(0):Oe.join("")}function convertDecimalToHex(xe){return Math.round(parseFloat(xe)*255).toString(16)}function convertHexToDecimal(xe){return parseIntFromHex(xe)/255}function parseIntFromHex(xe){return parseInt(xe,16)}function numberInputToObject(xe){return{r:xe>>16,g:(xe&65280)>>8,b:xe&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(xe){var pe={r:0,g:0,b:0},_e=1,Ce=null,Ie=null,Oe=null,Ne=!1,Fe=!1;return typeof xe=="string"&&(xe=stringInputToObject(xe)),typeof xe=="object"&&(isValidCSSUnit(xe.r)&&isValidCSSUnit(xe.g)&&isValidCSSUnit(xe.b)?(pe=rgbToRgb(xe.r,xe.g,xe.b),Ne=!0,Fe=String(xe.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(xe.h)&&isValidCSSUnit(xe.s)&&isValidCSSUnit(xe.v)?(Ce=convertToPercentage(xe.s),Ie=convertToPercentage(xe.v),pe=hsvToRgb(xe.h,Ce,Ie),Ne=!0,Fe="hsv"):isValidCSSUnit(xe.h)&&isValidCSSUnit(xe.s)&&isValidCSSUnit(xe.l)&&(Ce=convertToPercentage(xe.s),Oe=convertToPercentage(xe.l),pe=hslToRgb(xe.h,Ce,Oe),Ne=!0,Fe="hsl"),Object.prototype.hasOwnProperty.call(xe,"a")&&(_e=xe.a)),_e=boundAlpha(_e),{ok:Ne,format:xe.format||Fe,r:Math.min(255,Math.max(pe.r,0)),g:Math.min(255,Math.max(pe.g,0)),b:Math.min(255,Math.max(pe.b,0)),a:_e}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(xe){if(xe=xe.trim().toLowerCase(),xe.length===0)return!1;var pe=!1;if(names[xe])xe=names[xe],pe=!0;else if(xe==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var _e=matchers.rgb.exec(xe);return _e?{r:_e[1],g:_e[2],b:_e[3]}:(_e=matchers.rgba.exec(xe),_e?{r:_e[1],g:_e[2],b:_e[3],a:_e[4]}:(_e=matchers.hsl.exec(xe),_e?{h:_e[1],s:_e[2],l:_e[3]}:(_e=matchers.hsla.exec(xe),_e?{h:_e[1],s:_e[2],l:_e[3],a:_e[4]}:(_e=matchers.hsv.exec(xe),_e?{h:_e[1],s:_e[2],v:_e[3]}:(_e=matchers.hsva.exec(xe),_e?{h:_e[1],s:_e[2],v:_e[3],a:_e[4]}:(_e=matchers.hex8.exec(xe),_e?{r:parseIntFromHex(_e[1]),g:parseIntFromHex(_e[2]),b:parseIntFromHex(_e[3]),a:convertHexToDecimal(_e[4]),format:pe?"name":"hex8"}:(_e=matchers.hex6.exec(xe),_e?{r:parseIntFromHex(_e[1]),g:parseIntFromHex(_e[2]),b:parseIntFromHex(_e[3]),format:pe?"name":"hex"}:(_e=matchers.hex4.exec(xe),_e?{r:parseIntFromHex(_e[1]+_e[1]),g:parseIntFromHex(_e[2]+_e[2]),b:parseIntFromHex(_e[3]+_e[3]),a:convertHexToDecimal(_e[4]+_e[4]),format:pe?"name":"hex8"}:(_e=matchers.hex3.exec(xe),_e?{r:parseIntFromHex(_e[1]+_e[1]),g:parseIntFromHex(_e[2]+_e[2]),b:parseIntFromHex(_e[3]+_e[3]),format:pe?"name":"hex"}:!1)))))))))}function isValidCSSUnit(xe){return!!matchers.CSS_UNIT.exec(String(xe))}var TinyColor=function(){function xe(pe,_e){pe===void 0&&(pe=""),_e===void 0&&(_e={});var Ce;if(pe instanceof xe)return pe;typeof pe=="number"&&(pe=numberInputToObject(pe)),this.originalInput=pe;var Ie=inputToRGB(pe);this.originalInput=pe,this.r=Ie.r,this.g=Ie.g,this.b=Ie.b,this.a=Ie.a,this.roundA=Math.round(100*this.a)/100,this.format=(Ce=_e.format)!==null&&Ce!==void 0?Ce:Ie.format,this.gradientType=_e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=Ie.ok}return xe.prototype.isDark=function(){return this.getBrightness()<128},xe.prototype.isLight=function(){return!this.isDark()},xe.prototype.getBrightness=function(){var pe=this.toRgb();return(pe.r*299+pe.g*587+pe.b*114)/1e3},xe.prototype.getLuminance=function(){var pe=this.toRgb(),_e,Ce,Ie,Oe=pe.r/255,Ne=pe.g/255,Fe=pe.b/255;return Oe<=.03928?_e=Oe/12.92:_e=Math.pow((Oe+.055)/1.055,2.4),Ne<=.03928?Ce=Ne/12.92:Ce=Math.pow((Ne+.055)/1.055,2.4),Fe<=.03928?Ie=Fe/12.92:Ie=Math.pow((Fe+.055)/1.055,2.4),.2126*_e+.7152*Ce+.0722*Ie},xe.prototype.getAlpha=function(){return this.a},xe.prototype.setAlpha=function(pe){return this.a=boundAlpha(pe),this.roundA=Math.round(100*this.a)/100,this},xe.prototype.isMonochrome=function(){var pe=this.toHsl().s;return pe===0},xe.prototype.toHsv=function(){var pe=rgbToHsv(this.r,this.g,this.b);return{h:pe.h*360,s:pe.s,v:pe.v,a:this.a}},xe.prototype.toHsvString=function(){var pe=rgbToHsv(this.r,this.g,this.b),_e=Math.round(pe.h*360),Ce=Math.round(pe.s*100),Ie=Math.round(pe.v*100);return this.a===1?"hsv(".concat(_e,", ").concat(Ce,"%, ").concat(Ie,"%)"):"hsva(".concat(_e,", ").concat(Ce,"%, ").concat(Ie,"%, ").concat(this.roundA,")")},xe.prototype.toHsl=function(){var pe=rgbToHsl(this.r,this.g,this.b);return{h:pe.h*360,s:pe.s,l:pe.l,a:this.a}},xe.prototype.toHslString=function(){var pe=rgbToHsl(this.r,this.g,this.b),_e=Math.round(pe.h*360),Ce=Math.round(pe.s*100),Ie=Math.round(pe.l*100);return this.a===1?"hsl(".concat(_e,", ").concat(Ce,"%, ").concat(Ie,"%)"):"hsla(".concat(_e,", ").concat(Ce,"%, ").concat(Ie,"%, ").concat(this.roundA,")")},xe.prototype.toHex=function(pe){return pe===void 0&&(pe=!1),rgbToHex(this.r,this.g,this.b,pe)},xe.prototype.toHexString=function(pe){return pe===void 0&&(pe=!1),"#"+this.toHex(pe)},xe.prototype.toHex8=function(pe){return pe===void 0&&(pe=!1),rgbaToHex(this.r,this.g,this.b,this.a,pe)},xe.prototype.toHex8String=function(pe){return pe===void 0&&(pe=!1),"#"+this.toHex8(pe)},xe.prototype.toHexShortString=function(pe){return pe===void 0&&(pe=!1),this.a===1?this.toHexString(pe):this.toHex8String(pe)},xe.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},xe.prototype.toRgbString=function(){var pe=Math.round(this.r),_e=Math.round(this.g),Ce=Math.round(this.b);return this.a===1?"rgb(".concat(pe,", ").concat(_e,", ").concat(Ce,")"):"rgba(".concat(pe,", ").concat(_e,", ").concat(Ce,", ").concat(this.roundA,")")},xe.prototype.toPercentageRgb=function(){var pe=function(_e){return"".concat(Math.round(bound01$1(_e,255)*100),"%")};return{r:pe(this.r),g:pe(this.g),b:pe(this.b),a:this.a}},xe.prototype.toPercentageRgbString=function(){var pe=function(_e){return Math.round(bound01$1(_e,255)*100)};return this.a===1?"rgb(".concat(pe(this.r),"%, ").concat(pe(this.g),"%, ").concat(pe(this.b),"%)"):"rgba(".concat(pe(this.r),"%, ").concat(pe(this.g),"%, ").concat(pe(this.b),"%, ").concat(this.roundA,")")},xe.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var pe="#"+rgbToHex(this.r,this.g,this.b,!1),_e=0,Ce=Object.entries(names);_e<Ce.length;_e++){var Ie=Ce[_e],Oe=Ie[0],Ne=Ie[1];if(pe===Ne)return Oe}return!1},xe.prototype.toString=function(pe){var _e=!!pe;pe=pe!=null?pe:this.format;var Ce=!1,Ie=this.a<1&&this.a>=0,Oe=!_e&&Ie&&(pe.startsWith("hex")||pe==="name");return Oe?pe==="name"&&this.a===0?this.toName():this.toRgbString():(pe==="rgb"&&(Ce=this.toRgbString()),pe==="prgb"&&(Ce=this.toPercentageRgbString()),(pe==="hex"||pe==="hex6")&&(Ce=this.toHexString()),pe==="hex3"&&(Ce=this.toHexString(!0)),pe==="hex4"&&(Ce=this.toHex8String(!0)),pe==="hex8"&&(Ce=this.toHex8String()),pe==="name"&&(Ce=this.toName()),pe==="hsl"&&(Ce=this.toHslString()),pe==="hsv"&&(Ce=this.toHsvString()),Ce||this.toHexString())},xe.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},xe.prototype.clone=function(){return new xe(this.toString())},xe.prototype.lighten=function(pe){pe===void 0&&(pe=10);var _e=this.toHsl();return _e.l+=pe/100,_e.l=clamp01(_e.l),new xe(_e)},xe.prototype.brighten=function(pe){pe===void 0&&(pe=10);var _e=this.toRgb();return _e.r=Math.max(0,Math.min(255,_e.r-Math.round(255*-(pe/100)))),_e.g=Math.max(0,Math.min(255,_e.g-Math.round(255*-(pe/100)))),_e.b=Math.max(0,Math.min(255,_e.b-Math.round(255*-(pe/100)))),new xe(_e)},xe.prototype.darken=function(pe){pe===void 0&&(pe=10);var _e=this.toHsl();return _e.l-=pe/100,_e.l=clamp01(_e.l),new xe(_e)},xe.prototype.tint=function(pe){return pe===void 0&&(pe=10),this.mix("white",pe)},xe.prototype.shade=function(pe){return pe===void 0&&(pe=10),this.mix("black",pe)},xe.prototype.desaturate=function(pe){pe===void 0&&(pe=10);var _e=this.toHsl();return _e.s-=pe/100,_e.s=clamp01(_e.s),new xe(_e)},xe.prototype.saturate=function(pe){pe===void 0&&(pe=10);var _e=this.toHsl();return _e.s+=pe/100,_e.s=clamp01(_e.s),new xe(_e)},xe.prototype.greyscale=function(){return this.desaturate(100)},xe.prototype.spin=function(pe){var _e=this.toHsl(),Ce=(_e.h+pe)%360;return _e.h=Ce<0?360+Ce:Ce,new xe(_e)},xe.prototype.mix=function(pe,_e){_e===void 0&&(_e=50);var Ce=this.toRgb(),Ie=new xe(pe).toRgb(),Oe=_e/100,Ne={r:(Ie.r-Ce.r)*Oe+Ce.r,g:(Ie.g-Ce.g)*Oe+Ce.g,b:(Ie.b-Ce.b)*Oe+Ce.b,a:(Ie.a-Ce.a)*Oe+Ce.a};return new xe(Ne)},xe.prototype.analogous=function(pe,_e){pe===void 0&&(pe=6),_e===void 0&&(_e=30);var Ce=this.toHsl(),Ie=360/_e,Oe=[this];for(Ce.h=(Ce.h-(Ie*pe>>1)+720)%360;--pe;)Ce.h=(Ce.h+Ie)%360,Oe.push(new xe(Ce));return Oe},xe.prototype.complement=function(){var pe=this.toHsl();return pe.h=(pe.h+180)%360,new xe(pe)},xe.prototype.monochromatic=function(pe){pe===void 0&&(pe=6);for(var _e=this.toHsv(),Ce=_e.h,Ie=_e.s,Oe=_e.v,Ne=[],Fe=1/pe;pe--;)Ne.push(new xe({h:Ce,s:Ie,v:Oe})),Oe=(Oe+Fe)%1;return Ne},xe.prototype.splitcomplement=function(){var pe=this.toHsl(),_e=pe.h;return[this,new xe({h:(_e+72)%360,s:pe.s,l:pe.l}),new xe({h:(_e+216)%360,s:pe.s,l:pe.l})]},xe.prototype.onBackground=function(pe){var _e=this.toRgb(),Ce=new xe(pe).toRgb(),Ie=_e.a+Ce.a*(1-_e.a);return new xe({r:(_e.r*_e.a+Ce.r*Ce.a*(1-_e.a))/Ie,g:(_e.g*_e.a+Ce.g*Ce.a*(1-_e.a))/Ie,b:(_e.b*_e.a+Ce.b*Ce.a*(1-_e.a))/Ie,a:Ie})},xe.prototype.triad=function(){return this.polyad(3)},xe.prototype.tetrad=function(){return this.polyad(4)},xe.prototype.polyad=function(pe){for(var _e=this.toHsl(),Ce=_e.h,Ie=[this],Oe=360/pe,Ne=1;Ne<pe;Ne++)Ie.push(new xe({h:(Ce+Ne*Oe)%360,s:_e.s,l:_e.l}));return Ie},xe.prototype.equals=function(pe){return this.toRgbString()===new xe(pe).toRgbString()},xe}();function darken(xe,pe=20){return xe.mix("#141414",pe).toString()}function useButtonCustomStyle(xe){const pe=useFormDisabled(),_e=useNamespace("button");return computed(()=>{let Ce={};const Ie=xe.color;if(Ie){const Oe=new TinyColor(Ie),Ne=xe.dark?Oe.tint(20).toString():darken(Oe,20);if(xe.plain)Ce=_e.cssVarBlock({"bg-color":xe.dark?darken(Oe,90):Oe.tint(90).toString(),"text-color":Ie,"border-color":xe.dark?darken(Oe,50):Oe.tint(50).toString(),"hover-text-color":"var(".concat(_e.cssVarName("color-white"),")"),"hover-bg-color":Ie,"hover-border-color":Ie,"active-bg-color":Ne,"active-text-color":"var(".concat(_e.cssVarName("color-white"),")"),"active-border-color":Ne}),pe.value&&(Ce[_e.cssVarBlockName("disabled-bg-color")]=xe.dark?darken(Oe,90):Oe.tint(90).toString(),Ce[_e.cssVarBlockName("disabled-text-color")]=xe.dark?darken(Oe,50):Oe.tint(50).toString(),Ce[_e.cssVarBlockName("disabled-border-color")]=xe.dark?darken(Oe,80):Oe.tint(80).toString());else{const Fe=xe.dark?darken(Oe,30):Oe.tint(30).toString(),Ue=Oe.isDark()?"var(".concat(_e.cssVarName("color-white"),")"):"var(".concat(_e.cssVarName("color-black"),")");if(Ce=_e.cssVarBlock({"bg-color":Ie,"text-color":Ue,"border-color":Ie,"hover-bg-color":Fe,"hover-text-color":Ue,"hover-border-color":Fe,"active-bg-color":Ne,"active-border-color":Ne}),pe.value){const $e=xe.dark?darken(Oe,50):Oe.tint(50).toString();Ce[_e.cssVarBlockName("disabled-bg-color")]=$e,Ce[_e.cssVarBlockName("disabled-text-color")]=xe.dark?"rgba(255, 255, 255, 0.5)":"var(".concat(_e.cssVarName("color-white"),")"),Ce[_e.cssVarBlockName("disabled-border-color")]=$e}}}return Ce})}const __default__$y=defineComponent({name:"ElButton"}),_sfc_main$Y=defineComponent({...__default__$y,props:buttonProps,emits:buttonEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=useButtonCustomStyle(Ce),Oe=useNamespace("button"),{_ref:Ne,_size:Fe,_type:Ue,_disabled:$e,_props:ze,shouldAddSpace:Ve,handleClick:qe}=useButton(Ce,_e),En=computed(()=>[Oe.b(),Oe.m(Ue.value),Oe.m(Fe.value),Oe.is("disabled",$e.value),Oe.is("loading",Ce.loading),Oe.is("plain",Ce.plain),Oe.is("round",Ce.round),Oe.is("circle",Ce.circle),Oe.is("text",Ce.text),Oe.is("link",Ce.link),Oe.is("has-bg",Ce.bg)]);return pe({ref:Ne,size:Fe,type:Ue,disabled:$e,shouldAddSpace:Ve}),(vn,hn)=>(openBlock(),createBlock(resolveDynamicComponent(vn.tag),mergeProps({ref_key:"_ref",ref:Ne},unref(ze),{class:unref(En),style:unref(Ie),onClick:unref(qe)}),{default:withCtx(()=>[vn.loading?(openBlock(),createElementBlock(Fragment$1,{key:0},[vn.$slots.loading?renderSlot(vn.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(Oe).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(vn.loadingIcon)))]),_:1},8,["class"]))],64)):vn.icon||vn.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[vn.icon?(openBlock(),createBlock(resolveDynamicComponent(vn.icon),{key:0})):renderSlot(vn.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),vn.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(Oe).em("text","expand")]:unref(Ve)})},[renderSlot(vn.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc(_sfc_main$Y,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$x=defineComponent({name:"ElButtonGroup"}),_sfc_main$X=defineComponent({...__default__$x,props:buttonGroupProps,setup(xe){const pe=xe;provide(buttonGroupContextKey,reactive({size:toRef(pe,"size"),type:toRef(pe,"type")}));const _e=useNamespace("button");return(Ce,Ie)=>(openBlock(),createElementBlock("div",{class:normalizeClass("".concat(unref(_e).b("group")))},[renderSlot(Ce.$slots,"default")],2))}});var ButtonGroup=_export_sfc(_sfc_main$X,[["__file","button-group.vue"]]);const ElButton=withInstall$1(Button,{ButtonGroup});withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(xe){return xe&&xe.__esModule&&Object.prototype.hasOwnProperty.call(xe,"default")?xe.default:xe}var dayjs_min={exports:{}},hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){var _e=1e3,Ce=6e4,Ie=36e5,Oe="millisecond",Ne="second",Fe="minute",Ue="hour",$e="day",ze="week",Ve="month",qe="quarter",En="year",vn="date",hn="Invalid Date",_n=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,bn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,An={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(On){var Dn=["th","st","nd","rd"],Mn=On%100;return"["+On+(Dn[(Mn-20)%10]||Dn[Mn]||Dn[0])+"]"}},xn=function(On,Dn,Mn){var Bn=String(On);return!Bn||Bn.length>=Dn?On:""+Array(Dn+1-Bn.length).join(Mn)+On},Sn={s:xn,z:function(On){var Dn=-On.utcOffset(),Mn=Math.abs(Dn),Bn=Math.floor(Mn/60),$n=Mn%60;return(Dn<=0?"+":"-")+xn(Bn,2,"0")+":"+xn($n,2,"0")},m:function On(Dn,Mn){if(Dn.date()<Mn.date())return-On(Mn,Dn);var Bn=12*(Mn.year()-Dn.year())+(Mn.month()-Dn.month()),$n=Dn.clone().add(Bn,Ve),Fn=Mn-$n<0,Un=Dn.clone().add(Bn+(Fn?-1:1),Ve);return+(-(Bn+(Mn-$n)/(Fn?$n-Un:Un-$n))||0)},a:function(On){return On<0?Math.ceil(On)||0:Math.floor(On)},p:function(On){return{M:Ve,y:En,w:ze,d:$e,D:vn,h:Ue,m:Fe,s:Ne,ms:Oe,Q:qe}[On]||String(On||"").toLowerCase().replace(/s$/,"")},u:function(On){return On===void 0}},Cn="en",Tn={};Tn[Cn]=An;var wn="$isDayjsObject",Ln=function(On){return On instanceof Rn||!(!On||!On[wn])},Pn=function On(Dn,Mn,Bn){var $n;if(!Dn)return Cn;if(typeof Dn=="string"){var Fn=Dn.toLowerCase();Tn[Fn]&&($n=Fn),Mn&&(Tn[Fn]=Mn,$n=Fn);var Un=Dn.split("-");if(!$n&&Un.length>1)return On(Un[0])}else{var Hn=Dn.name;Tn[Hn]=Dn,$n=Hn}return!Bn&&$n&&(Cn=$n),$n||!Bn&&Cn},kn=function(On,Dn){if(Ln(On))return On.clone();var Mn=typeof Dn=="object"?Dn:{};return Mn.date=On,Mn.args=arguments,new Rn(Mn)},In=Sn;In.l=Pn,In.i=Ln,In.w=function(On,Dn){return kn(On,{locale:Dn.$L,utc:Dn.$u,x:Dn.$x,$offset:Dn.$offset})};var Rn=function(){function On(Mn){this.$L=Pn(Mn.locale,null,!0),this.parse(Mn),this.$x=this.$x||Mn.x||{},this[wn]=!0}var Dn=On.prototype;return Dn.parse=function(Mn){this.$d=function(Bn){var $n=Bn.date,Fn=Bn.utc;if($n===null)return new Date(NaN);if(In.u($n))return new Date;if($n instanceof Date)return new Date($n);if(typeof $n=="string"&&!/Z$/i.test($n)){var Un=$n.match(_n);if(Un){var Hn=Un[2]-1||0,Wn=(Un[7]||"0").substring(0,3);return Fn?new Date(Date.UTC(Un[1],Hn,Un[3]||1,Un[4]||0,Un[5]||0,Un[6]||0,Wn)):new Date(Un[1],Hn,Un[3]||1,Un[4]||0,Un[5]||0,Un[6]||0,Wn)}}return new Date($n)}(Mn),this.init()},Dn.init=function(){var Mn=this.$d;this.$y=Mn.getFullYear(),this.$M=Mn.getMonth(),this.$D=Mn.getDate(),this.$W=Mn.getDay(),this.$H=Mn.getHours(),this.$m=Mn.getMinutes(),this.$s=Mn.getSeconds(),this.$ms=Mn.getMilliseconds()},Dn.$utils=function(){return In},Dn.isValid=function(){return this.$d.toString()!==hn},Dn.isSame=function(Mn,Bn){var $n=kn(Mn);return this.startOf(Bn)<=$n&&$n<=this.endOf(Bn)},Dn.isAfter=function(Mn,Bn){return kn(Mn)<this.startOf(Bn)},Dn.isBefore=function(Mn,Bn){return this.endOf(Bn)<kn(Mn)},Dn.$g=function(Mn,Bn,$n){return In.u(Mn)?this[Bn]:this.set($n,Mn)},Dn.unix=function(){return Math.floor(this.valueOf()/1e3)},Dn.valueOf=function(){return this.$d.getTime()},Dn.startOf=function(Mn,Bn){var $n=this,Fn=!!In.u(Bn)||Bn,Un=In.p(Mn),Hn=function(Ir,yr){var Tr=In.w($n.$u?Date.UTC($n.$y,yr,Ir):new Date($n.$y,yr,Ir),$n);return Fn?Tr:Tr.endOf($e)},Wn=function(Ir,yr){return In.w($n.toDate()[Ir].apply($n.toDate("s"),(Fn?[0,0,0,0]:[23,59,59,999]).slice(yr)),$n)},Xn=this.$W,or=this.$M,fr=this.$D,cr="set"+(this.$u?"UTC":"");switch(Un){case En:return Fn?Hn(1,0):Hn(31,11);case Ve:return Fn?Hn(1,or):Hn(0,or+1);case ze:var Jn=this.$locale().weekStart||0,mr=(Xn<Jn?Xn+7:Xn)-Jn;return Hn(Fn?fr-mr:fr+(6-mr),or);case $e:case vn:return Wn(cr+"Hours",0);case Ue:return Wn(cr+"Minutes",1);case Fe:return Wn(cr+"Seconds",2);case Ne:return Wn(cr+"Milliseconds",3);default:return this.clone()}},Dn.endOf=function(Mn){return this.startOf(Mn,!1)},Dn.$set=function(Mn,Bn){var $n,Fn=In.p(Mn),Un="set"+(this.$u?"UTC":""),Hn=($n={},$n[$e]=Un+"Date",$n[vn]=Un+"Date",$n[Ve]=Un+"Month",$n[En]=Un+"FullYear",$n[Ue]=Un+"Hours",$n[Fe]=Un+"Minutes",$n[Ne]=Un+"Seconds",$n[Oe]=Un+"Milliseconds",$n)[Fn],Wn=Fn===$e?this.$D+(Bn-this.$W):Bn;if(Fn===Ve||Fn===En){var Xn=this.clone().set(vn,1);Xn.$d[Hn](Wn),Xn.init(),this.$d=Xn.set(vn,Math.min(this.$D,Xn.daysInMonth())).$d}else Hn&&this.$d[Hn](Wn);return this.init(),this},Dn.set=function(Mn,Bn){return this.clone().$set(Mn,Bn)},Dn.get=function(Mn){return this[In.p(Mn)]()},Dn.add=function(Mn,Bn){var $n,Fn=this;Mn=Number(Mn);var Un=In.p(Bn),Hn=function(or){var fr=kn(Fn);return In.w(fr.date(fr.date()+Math.round(or*Mn)),Fn)};if(Un===Ve)return this.set(Ve,this.$M+Mn);if(Un===En)return this.set(En,this.$y+Mn);if(Un===$e)return Hn(1);if(Un===ze)return Hn(7);var Wn=($n={},$n[Fe]=Ce,$n[Ue]=Ie,$n[Ne]=_e,$n)[Un]||1,Xn=this.$d.getTime()+Mn*Wn;return In.w(Xn,this)},Dn.subtract=function(Mn,Bn){return this.add(-1*Mn,Bn)},Dn.format=function(Mn){var Bn=this,$n=this.$locale();if(!this.isValid())return $n.invalidDate||hn;var Fn=Mn||"YYYY-MM-DDTHH:mm:ssZ",Un=In.z(this),Hn=this.$H,Wn=this.$m,Xn=this.$M,or=$n.weekdays,fr=$n.months,cr=$n.meridiem,Jn=function(yr,Tr,Sr,Yn){return yr&&(yr[Tr]||yr(Bn,Fn))||Sr[Tr].slice(0,Yn)},mr=function(yr){return In.s(Hn%12||12,yr,"0")},Ir=cr||function(yr,Tr,Sr){var Yn=yr<12?"AM":"PM";return Sr?Yn.toLowerCase():Yn};return Fn.replace(bn,function(yr,Tr){return Tr||function(Sr){switch(Sr){case"YY":return String(Bn.$y).slice(-2);case"YYYY":return In.s(Bn.$y,4,"0");case"M":return Xn+1;case"MM":return In.s(Xn+1,2,"0");case"MMM":return Jn($n.monthsShort,Xn,fr,3);case"MMMM":return Jn(fr,Xn);case"D":return Bn.$D;case"DD":return In.s(Bn.$D,2,"0");case"d":return String(Bn.$W);case"dd":return Jn($n.weekdaysMin,Bn.$W,or,2);case"ddd":return Jn($n.weekdaysShort,Bn.$W,or,3);case"dddd":return or[Bn.$W];case"H":return String(Hn);case"HH":return In.s(Hn,2,"0");case"h":return mr(1);case"hh":return mr(2);case"a":return Ir(Hn,Wn,!0);case"A":return Ir(Hn,Wn,!1);case"m":return String(Wn);case"mm":return In.s(Wn,2,"0");case"s":return String(Bn.$s);case"ss":return In.s(Bn.$s,2,"0");case"SSS":return In.s(Bn.$ms,3,"0");case"Z":return Un}return null}(yr)||Un.replace(":","")})},Dn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Dn.diff=function(Mn,Bn,$n){var Fn,Un=this,Hn=In.p(Bn),Wn=kn(Mn),Xn=(Wn.utcOffset()-this.utcOffset())*Ce,or=this-Wn,fr=function(){return In.m(Un,Wn)};switch(Hn){case En:Fn=fr()/12;break;case Ve:Fn=fr();break;case qe:Fn=fr()/3;break;case ze:Fn=(or-Xn)/6048e5;break;case $e:Fn=(or-Xn)/864e5;break;case Ue:Fn=or/Ie;break;case Fe:Fn=or/Ce;break;case Ne:Fn=or/_e;break;default:Fn=or}return $n?Fn:In.a(Fn)},Dn.daysInMonth=function(){return this.endOf(Ve).$D},Dn.$locale=function(){return Tn[this.$L]},Dn.locale=function(Mn,Bn){if(!Mn)return this.$L;var $n=this.clone(),Fn=Pn(Mn,Bn,!0);return Fn&&($n.$L=Fn),$n},Dn.clone=function(){return In.w(this.$d,this)},Dn.toDate=function(){return new Date(this.valueOf())},Dn.toJSON=function(){return this.isValid()?this.toISOString():null},Dn.toISOString=function(){return this.$d.toISOString()},Dn.toString=function(){return this.$d.toUTCString()},On}(),Nn=Rn.prototype;return kn.prototype=Nn,[["$ms",Oe],["$s",Ne],["$m",Fe],["$H",Ue],["$W",$e],["$M",Ve],["$y",En],["$D",vn]].forEach(function(On){Nn[On[1]]=function(Dn){return this.$g(Dn,On[0],On[1])}}),kn.extend=function(On,Dn){return On.$i||(On(Dn,Rn,kn),On.$i=!0),kn},kn.locale=Pn,kn.isDayjs=Ln,kn.unix=function(On){return kn(1e3*On)},kn.en=Tn[Cn],kn.Ls=Tn,kn.p={},kn})}(dayjs_min)),dayjs_min.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs$1(dayjs_minExports);var customParseFormat$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ce=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Ie=/\d\d/,Oe=/\d\d?/,Ne=/\d*[^-_:/,()\s\d]+/,Fe={},Ue=function(hn){return(hn=+hn)+(hn>68?1900:2e3)},$e=function(hn){return function(_n){this[hn]=+_n}},ze=[/[+-]\d\d:?(\d\d)?|Z/,function(hn){(this.zone||(this.zone={})).offset=function(_n){if(!_n||_n==="Z")return 0;var bn=_n.match(/([+-]|\d\d)/g),An=60*bn[1]+(+bn[2]||0);return An===0?0:bn[0]==="+"?-An:An}(hn)}],Ve=function(hn){var _n=Fe[hn];return _n&&(_n.indexOf?_n:_n.s.concat(_n.f))},qe=function(hn,_n){var bn,An=Fe.meridiem;if(An){for(var xn=1;xn<=24;xn+=1)if(hn.indexOf(An(xn,0,_n))>-1){bn=xn>12;break}}else bn=hn===(_n?"pm":"PM");return bn},En={A:[Ne,function(hn){this.afternoon=qe(hn,!1)}],a:[Ne,function(hn){this.afternoon=qe(hn,!0)}],S:[/\d/,function(hn){this.milliseconds=100*+hn}],SS:[Ie,function(hn){this.milliseconds=10*+hn}],SSS:[/\d{3}/,function(hn){this.milliseconds=+hn}],s:[Oe,$e("seconds")],ss:[Oe,$e("seconds")],m:[Oe,$e("minutes")],mm:[Oe,$e("minutes")],H:[Oe,$e("hours")],h:[Oe,$e("hours")],HH:[Oe,$e("hours")],hh:[Oe,$e("hours")],D:[Oe,$e("day")],DD:[Ie,$e("day")],Do:[Ne,function(hn){var _n=Fe.ordinal,bn=hn.match(/\d+/);if(this.day=bn[0],_n)for(var An=1;An<=31;An+=1)_n(An).replace(/\[|\]/g,"")===hn&&(this.day=An)}],M:[Oe,$e("month")],MM:[Ie,$e("month")],MMM:[Ne,function(hn){var _n=Ve("months"),bn=(Ve("monthsShort")||_n.map(function(An){return An.slice(0,3)})).indexOf(hn)+1;if(bn<1)throw new Error;this.month=bn%12||bn}],MMMM:[Ne,function(hn){var _n=Ve("months").indexOf(hn)+1;if(_n<1)throw new Error;this.month=_n%12||_n}],Y:[/[+-]?\d+/,$e("year")],YY:[Ie,function(hn){this.year=Ue(hn)}],YYYY:[/\d{4}/,$e("year")],Z:ze,ZZ:ze};function vn(hn){var _n,bn;_n=hn,bn=Fe&&Fe.formats;for(var An=(hn=_n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Pn,kn,In){var Rn=In&&In.toUpperCase();return kn||bn[In]||_e[In]||bn[Rn].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Nn,On,Dn){return On||Dn.slice(1)})})).match(Ce),xn=An.length,Sn=0;Sn<xn;Sn+=1){var Cn=An[Sn],Tn=En[Cn],wn=Tn&&Tn[0],Ln=Tn&&Tn[1];An[Sn]=Ln?{regex:wn,parser:Ln}:Cn.replace(/^\[|\]$/g,"")}return function(Pn){for(var kn={},In=0,Rn=0;In<xn;In+=1){var Nn=An[In];if(typeof Nn=="string")Rn+=Nn.length;else{var On=Nn.regex,Dn=Nn.parser,Mn=Pn.slice(Rn),Bn=On.exec(Mn)[0];Dn.call(kn,Bn),Pn=Pn.replace(Bn,"")}}return function($n){var Fn=$n.afternoon;if(Fn!==void 0){var Un=$n.hours;Fn?Un<12&&($n.hours+=12):Un===12&&($n.hours=0),delete $n.afternoon}}(kn),kn}}return function(hn,_n,bn){bn.p.customParseFormat=!0,hn&&hn.parseTwoDigitYear&&(Ue=hn.parseTwoDigitYear);var An=_n.prototype,xn=An.parse;An.parse=function(Sn){var Cn=Sn.date,Tn=Sn.utc,wn=Sn.args;this.$u=Tn;var Ln=wn[1];if(typeof Ln=="string"){var Pn=wn[2]===!0,kn=wn[3]===!0,In=Pn||kn,Rn=wn[2];kn&&(Rn=wn[2]),Fe=this.$locale(),!Pn&&Rn&&(Fe=bn.Ls[Rn]),this.$d=function(Mn,Bn,$n){try{if(["x","X"].indexOf(Bn)>-1)return new Date((Bn==="X"?1e3:1)*Mn);var Fn=vn(Bn)(Mn),Un=Fn.year,Hn=Fn.month,Wn=Fn.day,Xn=Fn.hours,or=Fn.minutes,fr=Fn.seconds,cr=Fn.milliseconds,Jn=Fn.zone,mr=new Date,Ir=Wn||(Un||Hn?1:mr.getDate()),yr=Un||mr.getFullYear(),Tr=0;Un&&!Hn||(Tr=Hn>0?Hn-1:mr.getMonth());var Sr=Xn||0,Yn=or||0,Qn=fr||0,rr=cr||0;return Jn?new Date(Date.UTC(yr,Tr,Ir,Sr,Yn,Qn,rr+60*Jn.offset*1e3)):$n?new Date(Date.UTC(yr,Tr,Ir,Sr,Yn,Qn,rr)):new Date(yr,Tr,Ir,Sr,Yn,Qn,rr)}catch(gr){return new Date("")}}(Cn,Ln,Tn),this.init(),Rn&&Rn!==!0&&(this.$L=this.locale(Rn).$L),In&&Cn!=this.format(Ln)&&(this.$d=new Date("")),Fe={}}else if(Ln instanceof Array)for(var Nn=Ln.length,On=1;On<=Nn;On+=1){wn[1]=Ln[On-1];var Dn=bn.apply(this,wn);if(Dn.isValid()){this.$d=Dn.$d,this.$L=Dn.$L,this.init();break}On===Nn&&(this.$d=new Date(""))}else xn.call(this,Sn)}}})})(customParseFormat$1);var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs$1(customParseFormatExports),timeUnits=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:"".concat(DEFAULT_FORMATS_DATE," ").concat(DEFAULT_FORMATS_TIME),monthrange:"YYYY-MM",daterange:DEFAULT_FORMATS_DATE,datetimerange:"".concat(DEFAULT_FORMATS_DATE," ").concat(DEFAULT_FORMATS_TIME)},buildTimeList=(xe,pe)=>[xe>0?xe-1:void 0,xe,xe<pe?xe+1:void 0],rangeArr=xe=>Array.from(Array.from({length:xe}).keys()),extractDateFormat=xe=>xe.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=xe=>xe.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(xe,pe){const _e=isDate(xe),Ce=isDate(pe);return _e&&Ce?xe.getTime()===pe.getTime():!_e&&!Ce?xe===pe:!1},valueEquals=function(xe,pe){const _e=isArray$4(xe),Ce=isArray$4(pe);return _e&&Ce?xe.length!==pe.length?!1:xe.every((Ie,Oe)=>dateEquals(Ie,pe[Oe])):!_e&&!Ce?dateEquals(xe,pe):!1},parseDate=function(xe,pe,_e){const Ce=isEmpty(pe)||pe==="x"?dayjs(xe).locale(_e):dayjs(xe,pe).locale(_e);return Ce.isValid()?Ce:void 0},formatter=function(xe,pe,_e){return isEmpty(pe)?xe:pe==="x"?+xe:dayjs(xe).locale(_e).format(pe)},makeList=(xe,pe)=>{var _e;const Ce=[],Ie=pe==null?void 0:pe();for(let Oe=0;Oe<xe;Oe++)Ce.push((_e=Ie==null?void 0:Ie.includes(Oe))!=null?_e:!1);return Ce},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:Boolean,...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),_hoisted_1$z=["id","name","placeholder","value","disabled","readonly"],_hoisted_2$q=["id","name","placeholder","value","disabled","readonly"],__default__$w=defineComponent({name:"Picker"}),_sfc_main$W=defineComponent({...__default__$w,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=useAttrs$1(),{lang:Oe}=useLocale(),Ne=useNamespace("date"),Fe=useNamespace("input"),Ue=useNamespace("range"),{form:$e,formItem:ze}=useFormItem(),Ve=inject("ElPopperOptions",{}),{valueOnClear:qe}=useEmptyValues(Ce,null),En=ref(),vn=ref(),hn=ref(!1),_n=ref(!1),bn=ref(null);let An=!1,xn=!1;const Sn=computed(()=>[Ne.b("editor"),Ne.bm("editor",Ce.type),Fe.e("wrapper"),Ne.is("disabled",Xn.value),Ne.is("active",hn.value),Ue.b("editor"),Vr?Ue.bm("editor",Vr.value):"",Ie.class]),Cn=computed(()=>[Fe.e("icon"),Ue.e("close-icon"),Tr.value?"":Ue.e("close-icon--hidden")]);watch(hn,vr=>{vr?nextTick(()=>{vr&&(bn.value=Ce.modelValue)}):(Dr.value=null,nextTick(()=>{Tn(Ce.modelValue)}))});const Tn=(vr,jr)=>{(jr||!valueEquals(vr,bn.value))&&(_e("change",vr),Ce.validateEvent&&(ze==null||ze.validate("change").catch(Gr=>void 0)))},wn=vr=>{if(!valueEquals(Ce.modelValue,vr)){let jr;isArray$4(vr)?jr=vr.map(Gr=>formatter(Gr,Ce.valueFormat,Oe.value)):vr&&(jr=formatter(vr,Ce.valueFormat,Oe.value)),_e("update:modelValue",vr&&jr,Oe.value)}},Ln=vr=>{_e("keydown",vr)},Pn=computed(()=>{if(vn.value){const vr=Br.value?vn.value:vn.value.$el;return Array.from(vr.querySelectorAll("input"))}return[]}),kn=(vr,jr,Gr)=>{const zr=Pn.value;zr.length&&(!Gr||Gr==="min"?(zr[0].setSelectionRange(vr,jr),zr[0].focus()):Gr==="max"&&(zr[1].setSelectionRange(vr,jr),zr[1].focus()))},In=()=>{Fn(!0,!0),nextTick(()=>{xn=!1})},Rn=(vr="",jr=!1)=>{jr||(xn=!0),hn.value=jr;let Gr;isArray$4(vr)?Gr=vr.map(zr=>zr.toDate()):Gr=vr&&vr.toDate(),Dr.value=null,wn(Gr)},Nn=()=>{_n.value=!0},On=()=>{_e("visible-change",!0)},Dn=vr=>{(vr==null?void 0:vr.key)===EVENT_CODE.esc&&Fn(!0,!0)},Mn=()=>{_n.value=!1,hn.value=!1,xn=!1,_e("visible-change",!1)},Bn=()=>{hn.value=!0},$n=()=>{hn.value=!1},Fn=(vr=!0,jr=!1)=>{xn=jr;const[Gr,zr]=unref(Pn);let to=Gr;!vr&&Br.value&&(to=zr),to&&to.focus()},Un=vr=>{Ce.readonly||Xn.value||hn.value||xn||(hn.value=!0,_e("focus",vr))};let Hn;const Wn=vr=>{const jr=async()=>{setTimeout(()=>{var Gr;Hn===jr&&(!((Gr=En.value)!=null&&Gr.isFocusInsideContent()&&!An)&&Pn.value.filter(zr=>zr.contains(document.activeElement)).length===0&&(Pr(),hn.value=!1,_e("blur",vr),Ce.validateEvent&&(ze==null||ze.validate("blur").catch(zr=>void 0))),An=!1)},0)};Hn=jr,jr()},Xn=computed(()=>Ce.disabled||($e==null?void 0:$e.disabled)),or=computed(()=>{let vr;if(Yn.value?kr.value.getDefaultValue&&(vr=kr.value.getDefaultValue()):isArray$4(Ce.modelValue)?vr=Ce.modelValue.map(jr=>parseDate(jr,Ce.valueFormat,Oe.value)):vr=parseDate(Ce.modelValue,Ce.valueFormat,Oe.value),kr.value.getRangeAvailableTime){const jr=kr.value.getRangeAvailableTime(vr);isEqual(jr,vr)||(vr=jr,wn(isArray$4(vr)?vr.map(Gr=>Gr.toDate()):vr.toDate()))}return isArray$4(vr)&&vr.some(jr=>!jr)&&(vr=[]),vr}),fr=computed(()=>{if(!kr.value.panelReady)return"";const vr=Lr(or.value);return isArray$4(Dr.value)?[Dr.value[0]||vr&&vr[0]||"",Dr.value[1]||vr&&vr[1]||""]:Dr.value!==null?Dr.value:!Jn.value&&Yn.value||!hn.value&&Yn.value?"":vr?mr.value||Ir.value?vr.join(", "):vr:""}),cr=computed(()=>Ce.type.includes("time")),Jn=computed(()=>Ce.type.startsWith("time")),mr=computed(()=>Ce.type==="dates"),Ir=computed(()=>Ce.type==="years"),yr=computed(()=>Ce.prefixIcon||(cr.value?clock_default:calendar_default)),Tr=ref(!1),Sr=vr=>{Ce.readonly||Xn.value||Tr.value&&(vr.stopPropagation(),In(),wn(qe.value),Tn(qe.value,!0),Tr.value=!1,hn.value=!1,kr.value.handleClear&&kr.value.handleClear())},Yn=computed(()=>{const{modelValue:vr}=Ce;return!vr||isArray$4(vr)&&!vr.filter(Boolean).length}),Qn=async vr=>{var jr;Ce.readonly||Xn.value||(((jr=vr.target)==null?void 0:jr.tagName)!=="INPUT"||Pn.value.includes(document.activeElement))&&(hn.value=!0)},rr=()=>{Ce.readonly||Xn.value||!Yn.value&&Ce.clearable&&(Tr.value=!0)},gr=()=>{Tr.value=!1},Ar=vr=>{var jr;Ce.readonly||Xn.value||(((jr=vr.touches[0].target)==null?void 0:jr.tagName)!=="INPUT"||Pn.value.includes(document.activeElement))&&(hn.value=!0)},Br=computed(()=>Ce.type.includes("range")),Vr=useFormSize(),Fr=computed(()=>{var vr,jr;return(jr=(vr=unref(En))==null?void 0:vr.popperRef)==null?void 0:jr.contentRef}),Er=computed(()=>{var vr;return unref(Br)?unref(vn):(vr=unref(vn))==null?void 0:vr.$el});onClickOutside(Er,vr=>{const jr=unref(Fr),Gr=unref(Er);jr&&(vr.target===jr||vr.composedPath().includes(jr))||vr.target===Gr||vr.composedPath().includes(Gr)||(hn.value=!1)});const Dr=ref(null),Pr=()=>{if(Dr.value){const vr=$r(fr.value);vr&&Or(vr)&&(wn(isArray$4(vr)?vr.map(jr=>jr.toDate()):vr.toDate()),Dr.value=null)}Dr.value===""&&(wn(qe.value),Tn(qe.value),Dr.value=null)},$r=vr=>vr?kr.value.parseUserInput(vr):null,Lr=vr=>vr?kr.value.formatToString(vr):null,Or=vr=>kr.value.isValidValue(vr),Hr=async vr=>{if(Ce.readonly||Xn.value)return;const{code:jr}=vr;if(Ln(vr),jr===EVENT_CODE.esc){hn.value===!0&&(hn.value=!1,vr.preventDefault(),vr.stopPropagation());return}if(jr===EVENT_CODE.down&&(kr.value.handleFocusPicker&&(vr.preventDefault(),vr.stopPropagation()),hn.value===!1&&(hn.value=!0,await nextTick()),kr.value.handleFocusPicker)){kr.value.handleFocusPicker();return}if(jr===EVENT_CODE.tab){An=!0;return}if(jr===EVENT_CODE.enter||jr===EVENT_CODE.numpadEnter){(Dr.value===null||Dr.value===""||Or($r(fr.value)))&&(Pr(),hn.value=!1),vr.stopPropagation();return}if(Dr.value){vr.stopPropagation();return}kr.value.handleKeydownInput&&kr.value.handleKeydownInput(vr)},qr=vr=>{Dr.value=vr,hn.value||(hn.value=!0)},ao=vr=>{const jr=vr.target;Dr.value?Dr.value=[jr.value,Dr.value[1]]:Dr.value=[jr.value,null]},Ur=vr=>{const jr=vr.target;Dr.value?Dr.value=[Dr.value[0],jr.value]:Dr.value=[null,jr.value]},_r=()=>{var vr;const jr=Dr.value,Gr=$r(jr&&jr[0]),zr=unref(or);if(Gr&&Gr.isValid()){Dr.value=[Lr(Gr),((vr=fr.value)==null?void 0:vr[1])||null];const to=[Gr,zr&&(zr[1]||null)];Or(to)&&(wn(to),Dr.value=null)}},ur=()=>{var vr;const jr=unref(Dr),Gr=$r(jr&&jr[1]),zr=unref(or);if(Gr&&Gr.isValid()){Dr.value=[((vr=unref(fr))==null?void 0:vr[0])||null,Lr(Gr)];const to=[zr&&zr[0],Gr];Or(to)&&(wn(to),Dr.value=null)}},kr=ref({}),lr=vr=>{kr.value[vr[0]]=vr[1],kr.value.panelReady=!0},br=vr=>{_e("calendar-change",vr)},Mr=(vr,jr,Gr)=>{_e("panel-change",vr,jr,Gr)};return provide("EP_PICKER_BASE",{props:Ce}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},computed(()=>!!Ce.label)),pe({focus:Fn,handleFocusInput:Un,handleBlurInput:Wn,handleOpen:Bn,handleClose:$n,onPick:Rn}),(vr,jr)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:En,visible:hn.value,effect:"light",pure:"",trigger:"click"},vr.$attrs,{role:"dialog",teleported:"",transition:"".concat(unref(Ne).namespace.value,"-zoom-in-top"),"popper-class":["".concat(unref(Ne).namespace.value,"-picker__popper"),vr.popperClass],"popper-options":unref(Ve),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Nn,onShow:On,onHide:Mn}),{default:withCtx(()=>[unref(Br)?(openBlock(),createElementBlock("div",{key:1,ref_key:"inputRef",ref:vn,class:normalizeClass(unref(Sn)),style:normalizeStyle$1(vr.$attrs.style),onClick:Un,onMouseenter:rr,onMouseleave:gr,onTouchstartPassive:Ar,onKeydown:Hr},[unref(yr)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(Fe).e("icon"),unref(Ue).e("icon")]),onMousedown:withModifiers(Qn,["prevent"]),onTouchstartPassive:Ar},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(yr))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),createBaseVNode("input",{id:vr.id&&vr.id[0],autocomplete:"off",name:vr.name&&vr.name[0],placeholder:vr.startPlaceholder,value:unref(fr)&&unref(fr)[0],disabled:unref(Xn),readonly:!vr.editable||vr.readonly,class:normalizeClass(unref(Ue).b("input")),onMousedown:Qn,onInput:ao,onChange:_r,onFocus:Un,onBlur:Wn},null,42,_hoisted_1$z),renderSlot(vr.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(Ue).b("separator"))},toDisplayString(vr.rangeSeparator),3)]),createBaseVNode("input",{id:vr.id&&vr.id[1],autocomplete:"off",name:vr.name&&vr.name[1],placeholder:vr.endPlaceholder,value:unref(fr)&&unref(fr)[1],disabled:unref(Xn),readonly:!vr.editable||vr.readonly,class:normalizeClass(unref(Ue).b("input")),onMousedown:Qn,onFocus:Un,onBlur:Wn,onInput:Ur,onChange:ur},null,42,_hoisted_2$q),vr.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(Cn)),onClick:Sr},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(vr.clearIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],38)):(openBlock(),createBlock(unref(ElInput),{key:0,id:vr.id,ref_key:"inputRef",ref:vn,"container-role":"combobox","model-value":unref(fr),name:vr.name,size:unref(Vr),disabled:unref(Xn),placeholder:vr.placeholder,class:normalizeClass([unref(Ne).b("editor"),unref(Ne).bm("editor",vr.type),vr.$attrs.class]),style:normalizeStyle$1(vr.$attrs.style),readonly:!vr.editable||vr.readonly||unref(mr)||unref(Ir)||vr.type==="week","aria-label":vr.label||vr.ariaLabel,tabindex:vr.tabindex,"validate-event":!1,onInput:qr,onFocus:Un,onBlur:Wn,onKeydown:Hr,onChange:Pr,onMousedown:Qn,onMouseenter:rr,onMouseleave:gr,onTouchstartPassive:Ar,onClick:jr[0]||(jr[0]=withModifiers(()=>{},["stop"]))},{prefix:withCtx(()=>[unref(yr)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Fe).e("icon")),onMousedown:withModifiers(Qn,["prevent"]),onTouchstartPassive:Ar},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(yr))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[Tr.value&&vr.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass("".concat(unref(Fe).e("icon")," clear-icon")),onClick:withModifiers(Sr,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(vr.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:withCtx(()=>[renderSlot(vr.$slots,"default",{visible:hn.value,actualVisible:_n.value,parsedValue:unref(or),format:vr.format,dateFormat:vr.dateFormat,timeFormat:vr.timeFormat,unlinkPanels:vr.unlinkPanels,type:vr.type,defaultValue:vr.defaultValue,onPick:Rn,onSelectRange:kn,onSetPickerOption:lr,onCalendarChange:br,onPanelChange:Mr,onKeydown:Dn,onMousedown:jr[1]||(jr[1]=withModifiers(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var CommonPicker=_export_sfc(_sfc_main$W,[["__file","picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:xe,getAvailableMinutes:pe,getAvailableSeconds:_e})=>{const Ce=(Ne,Fe,Ue,$e)=>{const ze={hour:xe,minute:pe,second:_e};let Ve=Ne;return["hour","minute","second"].forEach(qe=>{if(ze[qe]){let En;const vn=ze[qe];switch(qe){case"minute":{En=vn(Ve.hour(),Fe,$e);break}case"second":{En=vn(Ve.hour(),Ve.minute(),Fe,$e);break}default:{En=vn(Fe,$e);break}}if(En!=null&&En.length&&!En.includes(Ve[qe]())){const hn=Ue?0:En.length-1;Ve=Ve[qe](En[hn])}}}),Ve},Ie={};return{timePickerOptions:Ie,getAvailableTime:Ce,onSetOption:([Ne,Fe])=>{Ie[Ne]=Fe}}},makeAvailableArr=xe=>{const pe=(Ce,Ie)=>Ce||Ie,_e=Ce=>Ce!==!0;return xe.map(pe).filter(_e)},getTimeLists=(xe,pe,_e)=>({getHoursList:(Ne,Fe)=>makeList(24,xe&&(()=>xe==null?void 0:xe(Ne,Fe))),getMinutesList:(Ne,Fe,Ue)=>makeList(60,pe&&(()=>pe==null?void 0:pe(Ne,Fe,Ue))),getSecondsList:(Ne,Fe,Ue,$e)=>makeList(60,_e&&(()=>_e==null?void 0:_e(Ne,Fe,Ue,$e)))}),buildAvailableTimeSlotGetter=(xe,pe,_e)=>{const{getHoursList:Ce,getMinutesList:Ie,getSecondsList:Oe}=getTimeLists(xe,pe,_e);return{getAvailableHours:($e,ze)=>makeAvailableArr(Ce($e,ze)),getAvailableMinutes:($e,ze,Ve)=>makeAvailableArr(Ie($e,ze,Ve)),getAvailableSeconds:($e,ze,Ve,qe)=>makeAvailableArr(Oe($e,ze,Ve,qe))}},useOldValue=xe=>{const pe=ref(xe.parsedValue);return watch(()=>xe.visible,_e=>{_e||(pe.value=xe.parsedValue)}),pe},nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",xe=>startClick=xe),document.addEventListener("mouseup",xe=>{for(const pe of nodeList.values())for(const{documentHandler:_e}of pe)_e(xe,startClick)}));function createDocumentHandler(xe,pe){let _e=[];return Array.isArray(pe.arg)?_e=pe.arg:isElement(pe.arg)&&_e.push(pe.arg),function(Ce,Ie){const Oe=pe.instance.popperRef,Ne=Ce.target,Fe=Ie==null?void 0:Ie.target,Ue=!pe||!pe.instance,$e=!Ne||!Fe,ze=xe.contains(Ne)||xe.contains(Fe),Ve=xe===Ne,qe=_e.length&&_e.some(vn=>vn==null?void 0:vn.contains(Ne))||_e.length&&_e.includes(Fe),En=Oe&&(Oe.contains(Ne)||Oe.contains(Fe));Ue||$e||ze||Ve||qe||En||pe.value(Ce,Ie)}}const ClickOutside={beforeMount(xe,pe){nodeList.has(xe)||nodeList.set(xe,[]),nodeList.get(xe).push({documentHandler:createDocumentHandler(xe,pe),bindingFn:pe.value})},updated(xe,pe){nodeList.has(xe)||nodeList.set(xe,[]);const _e=nodeList.get(xe),Ce=_e.findIndex(Oe=>Oe.bindingFn===pe.oldValue),Ie={documentHandler:createDocumentHandler(xe,pe),bindingFn:pe.value};Ce>=0?_e.splice(Ce,1,Ie):_e.push(Ie)},unmounted(xe){nodeList.delete(xe)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(xe,pe){const _e=pe.value,{interval:Ce=REPEAT_INTERVAL,delay:Ie=REPEAT_DELAY}=isFunction$2(_e)?{}:_e;let Oe,Ne;const Fe=()=>isFunction$2(_e)?_e():_e.handler(),Ue=()=>{Ne&&(clearTimeout(Ne),Ne=void 0),Oe&&(clearInterval(Oe),Oe=void 0)};xe.addEventListener("mousedown",$e=>{$e.button===0&&(Ue(),Fe(),document.addEventListener("mouseup",()=>Ue(),{once:!0}),Ne=setTimeout(()=>{Oe=setInterval(()=>{Fe()},Ce)},Ie))})}},FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=xe=>{if(FOCUS_STACK.length===0)return;const pe=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(pe.length>0&&xe.code===EVENT_CODE.tab){if(pe.length===1){xe.preventDefault(),document.activeElement!==pe[0]&&pe[0].focus();return}const _e=xe.shiftKey,Ce=xe.target===pe[0],Ie=xe.target===pe[pe.length-1];Ce&&_e&&(xe.preventDefault(),pe[pe.length-1].focus()),Ie&&!_e&&(xe.preventDefault(),pe[0].focus())}},TrapFocus={beforeMount(xe){xe[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(xe),FOCUS_STACK.push(xe),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(xe){nextTick(()=>{xe[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(xe)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&document.removeEventListener("keydown",FOCUS_HANDLER)}},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),_hoisted_1$y=["onClick"],_hoisted_2$p=["onMouseenter"],_sfc_main$V=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(xe,{emit:pe}){const _e=xe,Ce=useNamespace("time"),{getHoursList:Ie,getMinutesList:Oe,getSecondsList:Ne}=getTimeLists(_e.disabledHours,_e.disabledMinutes,_e.disabledSeconds);let Fe=!1;const Ue=ref(),$e=ref(),ze=ref(),Ve=ref(),qe={hours:$e,minutes:ze,seconds:Ve},En=computed(()=>_e.showSeconds?timeUnits:timeUnits.slice(0,2)),vn=computed(()=>{const{spinnerDate:Fn}=_e,Un=Fn.hour(),Hn=Fn.minute(),Wn=Fn.second();return{hours:Un,minutes:Hn,seconds:Wn}}),hn=computed(()=>{const{hours:Fn,minutes:Un}=unref(vn);return{hours:Ie(_e.role),minutes:Oe(Fn,_e.role),seconds:Ne(Fn,Un,_e.role)}}),_n=computed(()=>{const{hours:Fn,minutes:Un,seconds:Hn}=unref(vn);return{hours:buildTimeList(Fn,23),minutes:buildTimeList(Un,59),seconds:buildTimeList(Hn,59)}}),bn=debounce(Fn=>{Fe=!1,Sn(Fn)},200),An=Fn=>{if(!!!_e.amPmMode)return"";const Hn=_e.amPmMode==="A";let Wn=Fn<12?" am":" pm";return Hn&&(Wn=Wn.toUpperCase()),Wn},xn=Fn=>{let Un;switch(Fn){case"hours":Un=[0,2];break;case"minutes":Un=[3,5];break;case"seconds":Un=[6,8];break}const[Hn,Wn]=Un;pe("select-range",Hn,Wn),Ue.value=Fn},Sn=Fn=>{wn(Fn,unref(vn)[Fn])},Cn=()=>{Sn("hours"),Sn("minutes"),Sn("seconds")},Tn=Fn=>Fn.querySelector(".".concat(Ce.namespace.value,"-scrollbar__wrap")),wn=(Fn,Un)=>{if(_e.arrowControl)return;const Hn=unref(qe[Fn]);Hn&&Hn.$el&&(Tn(Hn.$el).scrollTop=Math.max(0,Un*Ln(Fn)))},Ln=Fn=>{const Un=unref(qe[Fn]),Hn=Un==null?void 0:Un.$el.querySelector("li");return Hn&&Number.parseFloat(getStyle$1(Hn,"height"))||0},Pn=()=>{In(1)},kn=()=>{In(-1)},In=Fn=>{Ue.value||xn("hours");const Un=Ue.value,Hn=unref(vn)[Un],Wn=Ue.value==="hours"?24:60,Xn=Rn(Un,Hn,Fn,Wn);Nn(Un,Xn),wn(Un,Xn),nextTick(()=>xn(Un))},Rn=(Fn,Un,Hn,Wn)=>{let Xn=(Un+Hn+Wn)%Wn;const or=unref(hn)[Fn];for(;or[Xn]&&Xn!==Un;)Xn=(Xn+Hn+Wn)%Wn;return Xn},Nn=(Fn,Un)=>{if(unref(hn)[Fn][Un])return;const{hours:Xn,minutes:or,seconds:fr}=unref(vn);let cr;switch(Fn){case"hours":cr=_e.spinnerDate.hour(Un).minute(or).second(fr);break;case"minutes":cr=_e.spinnerDate.hour(Xn).minute(Un).second(fr);break;case"seconds":cr=_e.spinnerDate.hour(Xn).minute(or).second(Un);break}pe("change",cr)},On=(Fn,{value:Un,disabled:Hn})=>{Hn||(Nn(Fn,Un),xn(Fn),wn(Fn,Un))},Dn=Fn=>{Fe=!0,bn(Fn);const Un=Math.min(Math.round((Tn(unref(qe[Fn]).$el).scrollTop-(Mn(Fn)*.5-10)/Ln(Fn)+3)/Ln(Fn)),Fn==="hours"?23:59);Nn(Fn,Un)},Mn=Fn=>unref(qe[Fn]).$el.offsetHeight,Bn=()=>{const Fn=Un=>{const Hn=unref(qe[Un]);Hn&&Hn.$el&&(Tn(Hn.$el).onscroll=()=>{Dn(Un)})};Fn("hours"),Fn("minutes"),Fn("seconds")};onMounted(()=>{nextTick(()=>{!_e.arrowControl&&Bn(),Cn(),_e.role==="start"&&xn("hours")})});const $n=(Fn,Un)=>{qe[Un].value=Fn};return pe("set-option",["".concat(_e.role,"_scrollDown"),In]),pe("set-option",["".concat(_e.role,"_emitSelectRange"),xn]),watch(()=>_e.spinnerDate,()=>{Fe||Cn()}),(Fn,Un)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ce).b("spinner"),{"has-seconds":Fn.showSeconds}])},[Fn.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment$1,{key:0},renderList(unref(En),Hn=>(openBlock(),createBlock(unref(ElScrollbar),{key:Hn,ref_for:!0,ref:Wn=>$n(Wn,Hn),class:normalizeClass(unref(Ce).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(Ce).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Wn=>xn(Hn),onMousemove:Wn=>Sn(Hn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(hn)[Hn],(Wn,Xn)=>(openBlock(),createElementBlock("li",{key:Xn,class:normalizeClass([unref(Ce).be("spinner","item"),unref(Ce).is("active",Xn===unref(vn)[Hn]),unref(Ce).is("disabled",Wn)]),onClick:or=>On(Hn,{value:Xn,disabled:Wn})},[Hn==="hours"?(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(("0"+(Fn.amPmMode?Xn%12||12:Xn)).slice(-2))+toDisplayString(An(Xn)),1)],64)):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(("0"+Xn).slice(-2)),1)],64))],10,_hoisted_1$y))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),Fn.arrowControl?(openBlock(!0),createElementBlock(Fragment$1,{key:1},renderList(unref(En),Hn=>(openBlock(),createElementBlock("div",{key:Hn,class:normalizeClass([unref(Ce).be("spinner","wrapper"),unref(Ce).is("arrow")]),onMouseenter:Wn=>xn(Hn)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(Ce).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),kn]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(Ce).be("spinner","arrow")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Pn]]),createBaseVNode("ul",{class:normalizeClass(unref(Ce).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(_n)[Hn],(Wn,Xn)=>(openBlock(),createElementBlock("li",{key:Xn,class:normalizeClass([unref(Ce).be("spinner","item"),unref(Ce).is("active",Wn===unref(vn)[Hn]),unref(Ce).is("disabled",unref(hn)[Hn][Wn])])},[typeof Wn=="number"?(openBlock(),createElementBlock(Fragment$1,{key:0},[Hn==="hours"?(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(("0"+(Fn.amPmMode?Wn%12||12:Wn)).slice(-2))+toDisplayString(An(Wn)),1)],64)):(openBlock(),createElementBlock(Fragment$1,{key:1},[createTextVNode(toDisplayString(("0"+Wn).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,_hoisted_2$p))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc(_sfc_main$V,[["__file","basic-time-spinner.vue"]]);const _sfc_main$U=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(xe,{emit:pe}){const _e=xe,Ce=inject("EP_PICKER_BASE"),{arrowControl:Ie,disabledHours:Oe,disabledMinutes:Ne,disabledSeconds:Fe,defaultValue:Ue}=Ce.props,{getAvailableHours:$e,getAvailableMinutes:ze,getAvailableSeconds:Ve}=buildAvailableTimeSlotGetter(Oe,Ne,Fe),qe=useNamespace("time"),{t:En,lang:vn}=useLocale(),hn=ref([0,2]),_n=useOldValue(_e),bn=computed(()=>isUndefined(_e.actualVisible)?"".concat(qe.namespace.value,"-zoom-in-top"):""),An=computed(()=>_e.format.includes("ss")),xn=computed(()=>_e.format.includes("A")?"A":_e.format.includes("a")?"a":""),Sn=$n=>{const Fn=dayjs($n).locale(vn.value),Un=On(Fn);return Fn.isSame(Un)},Cn=()=>{pe("pick",_n.value,!1)},Tn=($n=!1,Fn=!1)=>{Fn||pe("pick",_e.parsedValue,$n)},wn=$n=>{if(!_e.visible)return;const Fn=On($n).millisecond(0);pe("pick",Fn,!0)},Ln=($n,Fn)=>{pe("select-range",$n,Fn),hn.value=[$n,Fn]},Pn=$n=>{const Fn=[0,3].concat(An.value?[6]:[]),Un=["hours","minutes"].concat(An.value?["seconds"]:[]),Wn=(Fn.indexOf(hn.value[0])+$n+Fn.length)%Fn.length;In.start_emitSelectRange(Un[Wn])},kn=$n=>{const Fn=$n.code,{left:Un,right:Hn,up:Wn,down:Xn}=EVENT_CODE;if([Un,Hn].includes(Fn)){Pn(Fn===Un?-1:1),$n.preventDefault();return}if([Wn,Xn].includes(Fn)){const or=Fn===Wn?-1:1;In.start_scrollDown(or),$n.preventDefault();return}},{timePickerOptions:In,onSetOption:Rn,getAvailableTime:Nn}=useTimePanel({getAvailableHours:$e,getAvailableMinutes:ze,getAvailableSeconds:Ve}),On=$n=>Nn($n,_e.datetimeRole||"",!0),Dn=$n=>$n?dayjs($n,_e.format).locale(vn.value):null,Mn=$n=>$n?$n.format(_e.format):null,Bn=()=>dayjs(Ue).locale(vn.value);return pe("set-picker-option",["isValidValue",Sn]),pe("set-picker-option",["formatToString",Mn]),pe("set-picker-option",["parseUserInput",Dn]),pe("set-picker-option",["handleKeydownInput",kn]),pe("set-picker-option",["getRangeAvailableTime",On]),pe("set-picker-option",["getDefaultValue",Bn]),($n,Fn)=>(openBlock(),createBlock(Transition,{name:unref(bn)},{default:withCtx(()=>[$n.actualVisible||$n.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(qe).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(qe).be("panel","content"),{"has-seconds":unref(An)}])},[createVNode(TimeSpinner,{ref:"spinner",role:$n.datetimeRole||"start","arrow-control":unref(Ie),"show-seconds":unref(An),"am-pm-mode":unref(xn),"spinner-date":$n.parsedValue,"disabled-hours":unref(Oe),"disabled-minutes":unref(Ne),"disabled-seconds":unref(Fe),onChange:wn,onSetOption:unref(Rn),onSelectRange:Ln},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(qe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(qe).be("panel","btn"),"cancel"]),onClick:Cn},toDisplayString(unref(En)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(qe).be("panel","btn"),"confirm"]),onClick:Fn[0]||(Fn[0]=Un=>Tn())},toDisplayString(unref(En)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc(_sfc_main$U,[["__file","panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$x=["disabled"],_sfc_main$T=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(xe,{emit:pe}){const _e=xe,Ce=(Tr,Sr)=>{const Yn=[];for(let Qn=Tr;Qn<=Sr;Qn++)Yn.push(Qn);return Yn},{t:Ie,lang:Oe}=useLocale(),Ne=useNamespace("time"),Fe=useNamespace("picker"),Ue=inject("EP_PICKER_BASE"),{arrowControl:$e,disabledHours:ze,disabledMinutes:Ve,disabledSeconds:qe,defaultValue:En}=Ue.props,vn=computed(()=>[Ne.be("range-picker","body"),Ne.be("panel","content"),Ne.is("arrow",$e),Sn.value?"has-seconds":""]),hn=computed(()=>[Ne.be("range-picker","body"),Ne.be("panel","content"),Ne.is("arrow",$e),Sn.value?"has-seconds":""]),_n=computed(()=>_e.parsedValue[0]),bn=computed(()=>_e.parsedValue[1]),An=useOldValue(_e),xn=()=>{pe("pick",An.value,!1)},Sn=computed(()=>_e.format.includes("ss")),Cn=computed(()=>_e.format.includes("A")?"A":_e.format.includes("a")?"a":""),Tn=(Tr=!1)=>{pe("pick",[_n.value,bn.value],Tr)},wn=Tr=>{kn(Tr.millisecond(0),bn.value)},Ln=Tr=>{kn(_n.value,Tr.millisecond(0))},Pn=Tr=>{const Sr=Tr.map(Qn=>dayjs(Qn).locale(Oe.value)),Yn=Hn(Sr);return Sr[0].isSame(Yn[0])&&Sr[1].isSame(Yn[1])},kn=(Tr,Sr)=>{pe("pick",[Tr,Sr],!0)},In=computed(()=>_n.value>bn.value),Rn=ref([0,2]),Nn=(Tr,Sr)=>{pe("select-range",Tr,Sr,"min"),Rn.value=[Tr,Sr]},On=computed(()=>Sn.value?11:8),Dn=(Tr,Sr)=>{pe("select-range",Tr,Sr,"max");const Yn=unref(On);Rn.value=[Tr+Yn,Sr+Yn]},Mn=Tr=>{const Sr=Sn.value?[0,3,6,11,14,17]:[0,3,8,11],Yn=["hours","minutes"].concat(Sn.value?["seconds"]:[]),rr=(Sr.indexOf(Rn.value[0])+Tr+Sr.length)%Sr.length,gr=Sr.length/2;rr<gr?fr.start_emitSelectRange(Yn[rr]):fr.end_emitSelectRange(Yn[rr-gr])},Bn=Tr=>{const Sr=Tr.code,{left:Yn,right:Qn,up:rr,down:gr}=EVENT_CODE;if([Yn,Qn].includes(Sr)){Mn(Sr===Yn?-1:1),Tr.preventDefault();return}if([rr,gr].includes(Sr)){const Ar=Sr===rr?-1:1,Br=Rn.value[0]<On.value?"start":"end";fr["".concat(Br,"_scrollDown")](Ar),Tr.preventDefault();return}},$n=(Tr,Sr)=>{const Yn=ze?ze(Tr):[],Qn=Tr==="start",gr=(Sr||(Qn?bn.value:_n.value)).hour(),Ar=Qn?Ce(gr+1,23):Ce(0,gr-1);return union(Yn,Ar)},Fn=(Tr,Sr,Yn)=>{const Qn=Ve?Ve(Tr,Sr):[],rr=Sr==="start",gr=Yn||(rr?bn.value:_n.value),Ar=gr.hour();if(Tr!==Ar)return Qn;const Br=gr.minute(),Vr=rr?Ce(Br+1,59):Ce(0,Br-1);return union(Qn,Vr)},Un=(Tr,Sr,Yn,Qn)=>{const rr=qe?qe(Tr,Sr,Yn):[],gr=Yn==="start",Ar=Qn||(gr?bn.value:_n.value),Br=Ar.hour(),Vr=Ar.minute();if(Tr!==Br||Sr!==Vr)return rr;const Fr=Ar.second(),Er=gr?Ce(Fr+1,59):Ce(0,Fr-1);return union(rr,Er)},Hn=([Tr,Sr])=>[cr(Tr,"start",!0,Sr),cr(Sr,"end",!1,Tr)],{getAvailableHours:Wn,getAvailableMinutes:Xn,getAvailableSeconds:or}=buildAvailableTimeSlotGetter($n,Fn,Un),{timePickerOptions:fr,getAvailableTime:cr,onSetOption:Jn}=useTimePanel({getAvailableHours:Wn,getAvailableMinutes:Xn,getAvailableSeconds:or}),mr=Tr=>Tr?isArray$4(Tr)?Tr.map(Sr=>dayjs(Sr,_e.format).locale(Oe.value)):dayjs(Tr,_e.format).locale(Oe.value):null,Ir=Tr=>Tr?isArray$4(Tr)?Tr.map(Sr=>Sr.format(_e.format)):Tr.format(_e.format):null,yr=()=>{if(isArray$4(En))return En.map(Sr=>dayjs(Sr).locale(Oe.value));const Tr=dayjs(En).locale(Oe.value);return[Tr,Tr.add(60,"m")]};return pe("set-picker-option",["formatToString",Ir]),pe("set-picker-option",["parseUserInput",mr]),pe("set-picker-option",["isValidValue",Pn]),pe("set-picker-option",["handleKeydownInput",Bn]),pe("set-picker-option",["getDefaultValue",yr]),pe("set-picker-option",["getRangeAvailableTime",Hn]),(Tr,Sr)=>Tr.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(Ne).b("range-picker"),unref(Fe).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(Ne).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(Ne).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(Ne).be("range-picker","header"))},toDisplayString(unref(Ie)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(unref(vn))},[createVNode(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(Sn),"am-pm-mode":unref(Cn),"arrow-control":unref($e),"spinner-date":unref(_n),"disabled-hours":$n,"disabled-minutes":Fn,"disabled-seconds":Un,onChange:wn,onSetOption:unref(Jn),onSelectRange:Nn},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(Ne).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(Ne).be("range-picker","header"))},toDisplayString(unref(Ie)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(unref(hn))},[createVNode(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(Sn),"am-pm-mode":unref(Cn),"arrow-control":unref($e),"spinner-date":unref(bn),"disabled-hours":$n,"disabled-minutes":Fn,"disabled-seconds":Un,onChange:Ln,onSetOption:unref(Jn),onSelectRange:Dn},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(Ne).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ne).be("panel","btn"),"cancel"]),onClick:Sr[0]||(Sr[0]=Yn=>xn())},toDisplayString(unref(Ie)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ne).be("panel","btn"),"confirm"]),disabled:unref(In),onClick:Sr[1]||(Sr[1]=Yn=>Tn())},toDisplayString(unref(Ie)("el.datepicker.confirm")),11,_hoisted_1$x)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc(_sfc_main$T,[["__file","panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker$2=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(xe,pe){const _e=ref(),[Ce,Ie]=xe.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],Oe=Ne=>pe.emit("update:modelValue",Ne);return provide("ElPopperOptions",xe.popperOptions),pe.expose({focus:Ne=>{var Fe;(Fe=_e.value)==null||Fe.handleFocusInput(Ne)},blur:Ne=>{var Fe;(Fe=_e.value)==null||Fe.handleBlurInput(Ne)},handleOpen:()=>{var Ne;(Ne=_e.value)==null||Ne.handleOpen()},handleClose:()=>{var Ne;(Ne=_e.value)==null||Ne.handleClose()}}),()=>{var Ne;const Fe=(Ne=xe.format)!=null?Ne:DEFAULT_FORMATS_TIME;return createVNode(CommonPicker,mergeProps(xe,{ref:_e,type:Ce,format:Fe,"onUpdate:modelValue":Oe}),{default:Ue=>createVNode(Ie,Ue,null)})}}});const _TimePicker=TimePicker$2;_TimePicker.install=xe=>{xe.component(_TimePicker.name,_TimePicker)};const ElTimePicker=_TimePicker;var localeData$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){return function(_e,Ce,Ie){var Oe=Ce.prototype,Ne=function(Ve){return Ve&&(Ve.indexOf?Ve:Ve.s)},Fe=function(Ve,qe,En,vn,hn){var _n=Ve.name?Ve:Ve.$locale(),bn=Ne(_n[qe]),An=Ne(_n[En]),xn=bn||An.map(function(Cn){return Cn.slice(0,vn)});if(!hn)return xn;var Sn=_n.weekStart;return xn.map(function(Cn,Tn){return xn[(Tn+(Sn||0))%7]})},Ue=function(){return Ie.Ls[Ie.locale()]},$e=function(Ve,qe){return Ve.formats[qe]||function(En){return En.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(vn,hn,_n){return hn||_n.slice(1)})}(Ve.formats[qe.toUpperCase()])},ze=function(){var Ve=this;return{months:function(qe){return qe?qe.format("MMMM"):Fe(Ve,"months")},monthsShort:function(qe){return qe?qe.format("MMM"):Fe(Ve,"monthsShort","months",3)},firstDayOfWeek:function(){return Ve.$locale().weekStart||0},weekdays:function(qe){return qe?qe.format("dddd"):Fe(Ve,"weekdays")},weekdaysMin:function(qe){return qe?qe.format("dd"):Fe(Ve,"weekdaysMin","weekdays",2)},weekdaysShort:function(qe){return qe?qe.format("ddd"):Fe(Ve,"weekdaysShort","weekdays",3)},longDateFormat:function(qe){return $e(Ve.$locale(),qe)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};Oe.localeData=function(){return ze.bind(this)()},Ie.localeData=function(){var Ve=Ue();return{firstDayOfWeek:function(){return Ve.weekStart||0},weekdays:function(){return Ie.weekdays()},weekdaysShort:function(){return Ie.weekdaysShort()},weekdaysMin:function(){return Ie.weekdaysMin()},months:function(){return Ie.months()},monthsShort:function(){return Ie.monthsShort()},longDateFormat:function(qe){return $e(Ve,qe)},meridiem:Ve.meridiem,ordinal:Ve.ordinal}},Ie.months=function(){return Fe(Ue(),"months")},Ie.monthsShort=function(){return Fe(Ue(),"monthsShort","months",3)},Ie.weekdays=function(Ve){return Fe(Ue(),"weekdays",null,null,Ve)},Ie.weekdaysShort=function(Ve){return Fe(Ue(),"weekdaysShort","weekdays",3,Ve)},Ie.weekdaysMin=function(Ve){return Fe(Ue(),"weekdaysMin","weekdays",2,Ve)}}})})(localeData$1);var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs$1(localeDataExports),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaControls"])},checkboxEmits={[UPDATE_MODEL_EVENT]:xe=>isString$3(xe)||isNumber(xe)||isBoolean(xe),change:xe=>isString$3(xe)||isNumber(xe)||isBoolean(xe)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:xe,isChecked:pe})=>{const _e=inject(checkboxGroupContextKey,void 0),Ce=computed(()=>{var Oe,Ne;const Fe=(Oe=_e==null?void 0:_e.max)==null?void 0:Oe.value,Ue=(Ne=_e==null?void 0:_e.min)==null?void 0:Ne.value;return!isUndefined(Fe)&&xe.value.length>=Fe&&!pe.value||!isUndefined(Ue)&&xe.value.length<=Ue&&pe.value});return{isDisabled:useFormDisabled(computed(()=>(_e==null?void 0:_e.disabled.value)||Ce.value)),isLimitDisabled:Ce}},useCheckboxEvent=(xe,{model:pe,isLimitExceeded:_e,hasOwnLabel:Ce,isDisabled:Ie,isLabeledByFormItem:Oe})=>{const Ne=inject(checkboxGroupContextKey,void 0),{formItem:Fe}=useFormItem(),{emit:Ue}=getCurrentInstance();function $e(vn){var hn,_n,bn,An;return[!0,xe.trueValue,xe.trueLabel].includes(vn)?(_n=(hn=xe.trueValue)!=null?hn:xe.trueLabel)!=null?_n:!0:(An=(bn=xe.falseValue)!=null?bn:xe.falseLabel)!=null?An:!1}function ze(vn,hn){Ue("change",$e(vn),hn)}function Ve(vn){if(_e.value)return;const hn=vn.target;Ue("change",$e(hn.checked),vn)}async function qe(vn){_e.value||!Ce.value&&!Ie.value&&Oe.value&&(vn.composedPath().some(bn=>bn.tagName==="LABEL")||(pe.value=$e([!1,xe.falseValue,xe.falseLabel].includes(pe.value)),await nextTick(),ze(pe.value,vn)))}const En=computed(()=>(Ne==null?void 0:Ne.validateEvent)||xe.validateEvent);return watch(()=>xe.modelValue,()=>{En.value&&(Fe==null||Fe.validate("change").catch(vn=>void 0))}),{handleChange:Ve,onClickRoot:qe}},useCheckboxModel=xe=>{const pe=ref(!1),{emit:_e}=getCurrentInstance(),Ce=inject(checkboxGroupContextKey,void 0),Ie=computed(()=>isUndefined(Ce)===!1),Oe=ref(!1),Ne=computed({get(){var Fe,Ue;return Ie.value?(Fe=Ce==null?void 0:Ce.modelValue)==null?void 0:Fe.value:(Ue=xe.modelValue)!=null?Ue:pe.value},set(Fe){var Ue,$e;Ie.value&&isArray$4(Fe)?(Oe.value=((Ue=Ce==null?void 0:Ce.max)==null?void 0:Ue.value)!==void 0&&Fe.length>(Ce==null?void 0:Ce.max.value)&&Fe.length>Ne.value.length,Oe.value===!1&&(($e=Ce==null?void 0:Ce.changeEvent)==null||$e.call(Ce,Fe))):(_e(UPDATE_MODEL_EVENT,Fe),pe.value=Fe)}});return{model:Ne,isGroup:Ie,isLimitExceeded:Oe}},useCheckboxStatus=(xe,pe,{model:_e})=>{const Ce=inject(checkboxGroupContextKey,void 0),Ie=ref(!1),Oe=computed(()=>isPropAbsent(xe.value)?xe.label:xe.value),Ne=computed(()=>{const ze=_e.value;return isBoolean(ze)?ze:isArray$4(ze)?isObject$3(Oe.value)?ze.map(toRaw).some(Ve=>isEqual(Ve,Oe.value)):ze.map(toRaw).includes(Oe.value):ze!=null?ze===xe.trueValue||ze===xe.trueLabel:!!ze}),Fe=useFormSize(computed(()=>{var ze;return(ze=Ce==null?void 0:Ce.size)==null?void 0:ze.value}),{prop:!0}),Ue=useFormSize(computed(()=>{var ze;return(ze=Ce==null?void 0:Ce.size)==null?void 0:ze.value})),$e=computed(()=>!!pe.default||!isPropAbsent(Oe.value));return{checkboxButtonSize:Fe,isChecked:Ne,isFocused:Ie,checkboxSize:Ue,hasOwnLabel:$e,actualValue:Oe}},useCheckbox=(xe,pe)=>{const{formItem:_e}=useFormItem(),{model:Ce,isGroup:Ie,isLimitExceeded:Oe}=useCheckboxModel(xe),{isFocused:Ne,isChecked:Fe,checkboxButtonSize:Ue,checkboxSize:$e,hasOwnLabel:ze,actualValue:Ve}=useCheckboxStatus(xe,pe,{model:Ce}),{isDisabled:qe}=useCheckboxDisabled({model:Ce,isChecked:Fe}),{inputId:En,isLabeledByFormItem:vn}=useFormItemInputId(xe,{formItemContext:_e,disableIdGeneration:ze,disableIdManagement:Ie}),{handleChange:hn,onClickRoot:_n}=useCheckboxEvent(xe,{model:Ce,isLimitExceeded:Oe,hasOwnLabel:ze,isDisabled:qe,isLabeledByFormItem:vn});return(()=>{function An(){var xn,Sn;isArray$4(Ce.value)&&!Ce.value.includes(Ve.value)?Ce.value.push(Ve.value):Ce.value=(Sn=(xn=xe.trueValue)!=null?xn:xe.trueLabel)!=null?Sn:!0}xe.checked&&An()})(),useDeprecated({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!xe.controls)),useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>Ie.value&&isPropAbsent(xe.value))),useDeprecated({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!xe.trueLabel)),useDeprecated({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!xe.falseLabel)),{inputId:En,isLabeledByFormItem:vn,isChecked:Fe,isDisabled:qe,isFocused:Ne,checkboxButtonSize:Ue,checkboxSize:$e,hasOwnLabel:ze,model:Ce,actualValue:Ve,handleChange:hn,onClickRoot:_n}},_hoisted_1$w=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],_hoisted_2$o=["id","indeterminate","disabled","value","name","tabindex"],__default__$v=defineComponent({name:"ElCheckbox"}),_sfc_main$S=defineComponent({...__default__$v,props:checkboxProps,emits:checkboxEmits,setup(xe){const pe=xe,_e=useSlots(),{inputId:Ce,isLabeledByFormItem:Ie,isChecked:Oe,isDisabled:Ne,isFocused:Fe,checkboxSize:Ue,hasOwnLabel:$e,model:ze,actualValue:Ve,handleChange:qe,onClickRoot:En}=useCheckbox(pe,_e),vn=useNamespace("checkbox"),hn=computed(()=>[vn.b(),vn.m(Ue.value),vn.is("disabled",Ne.value),vn.is("bordered",pe.border),vn.is("checked",Oe.value)]),_n=computed(()=>[vn.e("input"),vn.is("disabled",Ne.value),vn.is("checked",Oe.value),vn.is("indeterminate",pe.indeterminate),vn.is("focus",Fe.value)]);return(bn,An)=>(openBlock(),createBlock(resolveDynamicComponent(!unref($e)&&unref(Ie)?"span":"label"),{class:normalizeClass(unref(hn)),"aria-controls":bn.indeterminate?bn.controls||bn.ariaControls:null,onClick:unref(En)},{default:withCtx(()=>{var xn,Sn;return[createBaseVNode("span",{class:normalizeClass(unref(_n))},[bn.trueValue||bn.falseValue||bn.trueLabel||bn.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(Ce),"onUpdate:modelValue":An[0]||(An[0]=Cn=>isRef(ze)?ze.value=Cn:null),class:normalizeClass(unref(vn).e("original")),type:"checkbox",indeterminate:bn.indeterminate,name:bn.name,tabindex:bn.tabindex,disabled:unref(Ne),"true-value":(xn=bn.trueValue)!=null?xn:bn.trueLabel,"false-value":(Sn=bn.falseValue)!=null?Sn:bn.falseLabel,onChange:An[1]||(An[1]=(...Cn)=>unref(qe)&&unref(qe)(...Cn)),onFocus:An[2]||(An[2]=Cn=>Fe.value=!0),onBlur:An[3]||(An[3]=Cn=>Fe.value=!1),onClick:An[4]||(An[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$w)),[[vModelCheckbox,unref(ze)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(Ce),"onUpdate:modelValue":An[5]||(An[5]=Cn=>isRef(ze)?ze.value=Cn:null),class:normalizeClass(unref(vn).e("original")),type:"checkbox",indeterminate:bn.indeterminate,disabled:unref(Ne),value:unref(Ve),name:bn.name,tabindex:bn.tabindex,onChange:An[6]||(An[6]=(...Cn)=>unref(qe)&&unref(qe)(...Cn)),onFocus:An[7]||(An[7]=Cn=>Fe.value=!0),onBlur:An[8]||(An[8]=Cn=>Fe.value=!1),onClick:An[9]||(An[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$o)),[[vModelCheckbox,unref(ze)]]),createBaseVNode("span",{class:normalizeClass(unref(vn).e("inner"))},null,2)],2),unref($e)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(vn).e("label"))},[renderSlot(bn.$slots,"default"),bn.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(bn.label),1)],64))],2)):createCommentVNode("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc(_sfc_main$S,[["__file","checkbox.vue"]]);const _hoisted_1$v=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$n=["name","tabindex","disabled","value"],__default__$u=defineComponent({name:"ElCheckboxButton"}),_sfc_main$R=defineComponent({...__default__$u,props:checkboxProps,emits:checkboxEmits,setup(xe){const pe=xe,_e=useSlots(),{isFocused:Ce,isChecked:Ie,isDisabled:Oe,checkboxButtonSize:Ne,model:Fe,actualValue:Ue,handleChange:$e}=useCheckbox(pe,_e),ze=inject(checkboxGroupContextKey,void 0),Ve=useNamespace("checkbox"),qe=computed(()=>{var vn,hn,_n,bn;const An=(hn=(vn=ze==null?void 0:ze.fill)==null?void 0:vn.value)!=null?hn:"";return{backgroundColor:An,borderColor:An,color:(bn=(_n=ze==null?void 0:ze.textColor)==null?void 0:_n.value)!=null?bn:"",boxShadow:An?"-1px 0 0 0 ".concat(An):void 0}}),En=computed(()=>[Ve.b("button"),Ve.bm("button",Ne.value),Ve.is("disabled",Oe.value),Ve.is("checked",Ie.value),Ve.is("focus",Ce.value)]);return(vn,hn)=>{var _n,bn;return openBlock(),createElementBlock("label",{class:normalizeClass(unref(En))},[vn.trueValue||vn.falseValue||vn.trueLabel||vn.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":hn[0]||(hn[0]=An=>isRef(Fe)?Fe.value=An:null),class:normalizeClass(unref(Ve).be("button","original")),type:"checkbox",name:vn.name,tabindex:vn.tabindex,disabled:unref(Oe),"true-value":(_n=vn.trueValue)!=null?_n:vn.trueLabel,"false-value":(bn=vn.falseValue)!=null?bn:vn.falseLabel,onChange:hn[1]||(hn[1]=(...An)=>unref($e)&&unref($e)(...An)),onFocus:hn[2]||(hn[2]=An=>Ce.value=!0),onBlur:hn[3]||(hn[3]=An=>Ce.value=!1),onClick:hn[4]||(hn[4]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$v)),[[vModelCheckbox,unref(Fe)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":hn[5]||(hn[5]=An=>isRef(Fe)?Fe.value=An:null),class:normalizeClass(unref(Ve).be("button","original")),type:"checkbox",name:vn.name,tabindex:vn.tabindex,disabled:unref(Oe),value:unref(Ue),onChange:hn[6]||(hn[6]=(...An)=>unref($e)&&unref($e)(...An)),onFocus:hn[7]||(hn[7]=An=>Ce.value=!0),onBlur:hn[8]||(hn[8]=An=>Ce.value=!1),onClick:hn[9]||(hn[9]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$n)),[[vModelCheckbox,unref(Fe)]]),vn.$slots.default||vn.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(Ve).be("button","inner")),style:normalizeStyle$1(unref(Ie)?unref(qe):void 0)},[renderSlot(vn.$slots,"default",{},()=>[createTextVNode(toDisplayString(vn.label),1)])],6)):createCommentVNode("v-if",!0)],2)}}});var CheckboxButton=_export_sfc(_sfc_main$R,[["__file","checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:xe=>isArray$4(xe),change:xe=>isArray$4(xe)},__default__$t=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$Q=defineComponent({...__default__$t,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(xe,{emit:pe}){const _e=xe,Ce=useNamespace("checkbox"),{formItem:Ie}=useFormItem(),{inputId:Oe,isLabeledByFormItem:Ne}=useFormItemInputId(_e,{formItemContext:Ie}),Fe=async $e=>{pe(UPDATE_MODEL_EVENT,$e),await nextTick(),pe("change",$e)},Ue=computed({get(){return _e.modelValue},set($e){Fe($e)}});return provide(checkboxGroupContextKey,{...pick$1(toRefs(_e),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:Ue,changeEvent:Fe}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!_e.label)),watch(()=>_e.modelValue,()=>{_e.validateEvent&&(Ie==null||Ie.validate("change").catch($e=>void 0))}),($e,ze)=>{var Ve;return openBlock(),createBlock(resolveDynamicComponent($e.tag),{id:unref(Oe),class:normalizeClass(unref(Ce).b("group")),role:"group","aria-label":unref(Ne)?void 0:$e.label||$e.ariaLabel||"checkbox-group","aria-labelledby":unref(Ne)?(Ve=unref(Ie))==null?void 0:Ve.labelId:void 0},{default:withCtx(()=>[renderSlot($e.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc(_sfc_main$Q,[["__file","checkbox-group.vue"]]);const ElCheckbox=withInstall$1(Checkbox,{CheckboxButton,CheckboxGroup});withNoopInstall(CheckboxButton);const ElCheckboxGroup=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({modelValue:{type:[String,Number,Boolean],default:void 0},size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),radioProps=buildProps({...radioPropsBase,border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:xe=>isString$3(xe)||isNumber(xe)||isBoolean(xe),[CHANGE_EVENT]:xe=>isString$3(xe)||isNumber(xe)||isBoolean(xe)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(xe,pe)=>{const _e=ref(),Ce=inject(radioGroupKey,void 0),Ie=computed(()=>!!Ce),Oe=computed(()=>isPropAbsent(xe.value)?xe.label:xe.value),Ne=computed({get(){return Ie.value?Ce.modelValue:xe.modelValue},set(Ve){Ie.value?Ce.changeEvent(Ve):pe&&pe(UPDATE_MODEL_EVENT,Ve),_e.value.checked=xe.modelValue===Oe.value}}),Fe=useFormSize(computed(()=>Ce==null?void 0:Ce.size)),Ue=useFormDisabled(computed(()=>Ce==null?void 0:Ce.disabled)),$e=ref(!1),ze=computed(()=>Ue.value||Ie.value&&Ne.value!==Oe.value?-1:0);return useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>Ie.value&&isPropAbsent(xe.value))),{radioRef:_e,isGroup:Ie,radioGroup:Ce,focus:$e,size:Fe,disabled:Ue,tabIndex:ze,modelValue:Ne,actualValue:Oe}},_hoisted_1$u=["value","name","disabled"],__default__$s=defineComponent({name:"ElRadio"}),_sfc_main$P=defineComponent({...__default__$s,props:radioProps,emits:radioEmits,setup(xe,{emit:pe}){const _e=xe,Ce=useNamespace("radio"),{radioRef:Ie,radioGroup:Oe,focus:Ne,size:Fe,disabled:Ue,modelValue:$e,actualValue:ze}=useRadio(_e,pe);function Ve(){nextTick(()=>pe("change",$e.value))}return(qe,En)=>{var vn;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(Ce).b(),unref(Ce).is("disabled",unref(Ue)),unref(Ce).is("focus",unref(Ne)),unref(Ce).is("bordered",qe.border),unref(Ce).is("checked",unref($e)===unref(ze)),unref(Ce).m(unref(Fe))])},[createBaseVNode("span",{class:normalizeClass([unref(Ce).e("input"),unref(Ce).is("disabled",unref(Ue)),unref(Ce).is("checked",unref($e)===unref(ze))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:Ie,"onUpdate:modelValue":En[0]||(En[0]=hn=>isRef($e)?$e.value=hn:null),class:normalizeClass(unref(Ce).e("original")),value:unref(ze),name:qe.name||((vn=unref(Oe))==null?void 0:vn.name),disabled:unref(Ue),type:"radio",onFocus:En[1]||(En[1]=hn=>Ne.value=!0),onBlur:En[2]||(En[2]=hn=>Ne.value=!1),onChange:Ve,onClick:En[3]||(En[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$u),[[vModelRadio,unref($e)]]),createBaseVNode("span",{class:normalizeClass(unref(Ce).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(Ce).e("label")),onKeydown:En[4]||(En[4]=withModifiers(()=>{},["stop"]))},[renderSlot(qe.$slots,"default",{},()=>[createTextVNode(toDisplayString(qe.label),1)])],34)],2)}}});var Radio=_export_sfc(_sfc_main$P,[["__file","radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase}),_hoisted_1$t=["value","name","disabled"],__default__$r=defineComponent({name:"ElRadioButton"}),_sfc_main$O=defineComponent({...__default__$r,props:radioButtonProps,setup(xe){const pe=xe,_e=useNamespace("radio"),{radioRef:Ce,focus:Ie,size:Oe,disabled:Ne,modelValue:Fe,radioGroup:Ue,actualValue:$e}=useRadio(pe),ze=computed(()=>({backgroundColor:(Ue==null?void 0:Ue.fill)||"",borderColor:(Ue==null?void 0:Ue.fill)||"",boxShadow:Ue!=null&&Ue.fill?"-1px 0 0 0 ".concat(Ue.fill):"",color:(Ue==null?void 0:Ue.textColor)||""}));return(Ve,qe)=>{var En;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(_e).b("button"),unref(_e).is("active",unref(Fe)===unref($e)),unref(_e).is("disabled",unref(Ne)),unref(_e).is("focus",unref(Ie)),unref(_e).bm("button",unref(Oe))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:Ce,"onUpdate:modelValue":qe[0]||(qe[0]=vn=>isRef(Fe)?Fe.value=vn:null),class:normalizeClass(unref(_e).be("button","original-radio")),value:unref($e),type:"radio",name:Ve.name||((En=unref(Ue))==null?void 0:En.name),disabled:unref(Ne),onFocus:qe[1]||(qe[1]=vn=>Ie.value=!0),onBlur:qe[2]||(qe[2]=vn=>Ie.value=!1),onClick:qe[3]||(qe[3]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_1$t),[[vModelRadio,unref(Fe)]]),createBaseVNode("span",{class:normalizeClass(unref(_e).be("button","inner")),style:normalizeStyle$1(unref(Fe)===unref($e)?unref(ze):{}),onKeydown:qe[4]||(qe[4]=withModifiers(()=>{},["stop"]))},[renderSlot(Ve.$slots,"default",{},()=>[createTextVNode(toDisplayString(Ve.label),1)])],38)],2)}}});var RadioButton=_export_sfc(_sfc_main$O,[["__file","radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),radioGroupEmits=radioEmits,_hoisted_1$s=["id","aria-label","aria-labelledby"],__default__$q=defineComponent({name:"ElRadioGroup"}),_sfc_main$N=defineComponent({...__default__$q,props:radioGroupProps,emits:radioGroupEmits,setup(xe,{emit:pe}){const _e=xe,Ce=useNamespace("radio"),Ie=useId(),Oe=ref(),{formItem:Ne}=useFormItem(),{inputId:Fe,isLabeledByFormItem:Ue}=useFormItemInputId(_e,{formItemContext:Ne}),$e=Ve=>{pe(UPDATE_MODEL_EVENT,Ve),nextTick(()=>pe("change",Ve))};onMounted(()=>{const Ve=Oe.value.querySelectorAll("[type=radio]"),qe=Ve[0];!Array.from(Ve).some(En=>En.checked)&&qe&&(qe.tabIndex=0)});const ze=computed(()=>_e.name||Ie.value);return provide(radioGroupKey,reactive({...toRefs(_e),changeEvent:$e,name:ze})),watch(()=>_e.modelValue,()=>{_e.validateEvent&&(Ne==null||Ne.validate("change").catch(Ve=>void 0))}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>!!_e.label)),(Ve,qe)=>(openBlock(),createElementBlock("div",{id:unref(Fe),ref_key:"radioGroupRef",ref:Oe,class:normalizeClass(unref(Ce).b("group")),role:"radiogroup","aria-label":unref(Ue)?void 0:Ve.label||Ve.ariaLabel||"radio-group","aria-labelledby":unref(Ue)?unref(Ne).labelId:void 0},[renderSlot(Ve.$slots,"default")],10,_hoisted_1$s))}});var RadioGroup=_export_sfc(_sfc_main$N,[["__file","radio-group.vue"]]);const ElRadio=withInstall$1(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup);withNoopInstall(RadioButton);var NodeContent$1=defineComponent({name:"NodeContent",setup(){return{ns:useNamespace("cascader-node")}},render(){const{ns:xe}=this,{node:pe,panel:_e}=this.$parent,{data:Ce,label:Ie}=pe,{renderLabelFn:Oe}=_e;return h$1("span",{class:xe.e("label")},Oe?Oe({node:pe,data:Ce}):Ie)}});const CASCADER_PANEL_INJECTION_KEY=Symbol(),_sfc_main$M=defineComponent({name:"ElCascaderNode",components:{ElCheckbox,ElRadio,NodeContent:NodeContent$1,ElIcon,Check:check_default,Loading:loading_default,ArrowRight:arrow_right_default},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(xe,{emit:pe}){const _e=inject(CASCADER_PANEL_INJECTION_KEY),Ce=useNamespace("cascader-node"),Ie=computed(()=>_e.isHoverMenu),Oe=computed(()=>_e.config.multiple),Ne=computed(()=>_e.config.checkStrictly),Fe=computed(()=>{var Tn;return(Tn=_e.checkedNodes[0])==null?void 0:Tn.uid}),Ue=computed(()=>xe.node.isDisabled),$e=computed(()=>xe.node.isLeaf),ze=computed(()=>Ne.value&&!$e.value||!Ue.value),Ve=computed(()=>En(_e.expandingNode)),qe=computed(()=>Ne.value&&_e.checkedNodes.some(En)),En=Tn=>{var wn;const{level:Ln,uid:Pn}=xe.node;return((wn=Tn==null?void 0:Tn.pathNodes[Ln-1])==null?void 0:wn.uid)===Pn},vn=()=>{Ve.value||_e.expandNode(xe.node)},hn=Tn=>{const{node:wn}=xe;Tn!==wn.checked&&_e.handleCheckChange(wn,Tn)},_n=()=>{_e.lazyLoad(xe.node,()=>{$e.value||vn()})},bn=Tn=>{Ie.value&&(An(),!$e.value&&pe("expand",Tn))},An=()=>{const{node:Tn}=xe;!ze.value||Tn.loading||(Tn.loaded?vn():_n())},xn=()=>{Ie.value&&!$e.value||($e.value&&!Ue.value&&!Ne.value&&!Oe.value?Cn(!0):An())},Sn=Tn=>{Ne.value?(hn(Tn),xe.node.loaded&&vn()):Cn(Tn)},Cn=Tn=>{xe.node.loaded?(hn(Tn),!Ne.value&&vn()):_n()};return{panel:_e,isHoverMenu:Ie,multiple:Oe,checkStrictly:Ne,checkedNodeId:Fe,isDisabled:Ue,isLeaf:$e,expandable:ze,inExpandingPath:Ve,inCheckedPath:qe,ns:Ce,handleHoverExpand:bn,handleExpand:An,handleClick:xn,handleCheck:Cn,handleSelectCheck:Sn}}}),_hoisted_1$r=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],_hoisted_2$m=createBaseVNode("span",null,null,-1);function _sfc_render$f(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-checkbox"),Fe=resolveComponent("el-radio"),Ue=resolveComponent("check"),$e=resolveComponent("el-icon"),ze=resolveComponent("node-content"),Ve=resolveComponent("loading"),qe=resolveComponent("arrow-right");return openBlock(),createElementBlock("li",{id:"".concat(xe.menuId,"-").concat(xe.node.uid),role:"menuitem","aria-haspopup":!xe.isLeaf,"aria-owns":xe.isLeaf?null:xe.menuId,"aria-expanded":xe.inExpandingPath,tabindex:xe.expandable?-1:void 0,class:normalizeClass([xe.ns.b(),xe.ns.is("selectable",xe.checkStrictly),xe.ns.is("active",xe.node.checked),xe.ns.is("disabled",!xe.expandable),xe.inExpandingPath&&"in-active-path",xe.inCheckedPath&&"in-checked-path"]),onMouseenter:pe[2]||(pe[2]=(...En)=>xe.handleHoverExpand&&xe.handleHoverExpand(...En)),onFocus:pe[3]||(pe[3]=(...En)=>xe.handleHoverExpand&&xe.handleHoverExpand(...En)),onClick:pe[4]||(pe[4]=(...En)=>xe.handleClick&&xe.handleClick(...En))},[createCommentVNode(" prefix "),xe.multiple?(openBlock(),createBlock(Ne,{key:0,"model-value":xe.node.checked,indeterminate:xe.node.indeterminate,disabled:xe.isDisabled,onClick:pe[0]||(pe[0]=withModifiers(()=>{},["stop"])),"onUpdate:modelValue":xe.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):xe.checkStrictly?(openBlock(),createBlock(Fe,{key:1,"model-value":xe.checkedNodeId,label:xe.node.uid,disabled:xe.isDisabled,"onUpdate:modelValue":xe.handleSelectCheck,onClick:pe[1]||(pe[1]=withModifiers(()=>{},["stop"]))},{default:withCtx(()=>[createCommentVNode("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),_hoisted_2$m]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):xe.isLeaf&&xe.node.checked?(openBlock(),createBlock($e,{key:2,class:normalizeClass(xe.ns.e("prefix"))},{default:withCtx(()=>[createVNode(Ue)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode(ze),createCommentVNode(" postfix "),xe.isLeaf?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment$1,{key:3},[xe.node.loading?(openBlock(),createBlock($e,{key:0,class:normalizeClass([xe.ns.is("loading"),xe.ns.e("postfix")])},{default:withCtx(()=>[createVNode(Ve)]),_:1},8,["class"])):(openBlock(),createBlock($e,{key:1,class:normalizeClass(["arrow-right",xe.ns.e("postfix")])},{default:withCtx(()=>[createVNode(qe)]),_:1},8,["class"]))],64))],42,_hoisted_1$r)}var ElCascaderNode=_export_sfc(_sfc_main$M,[["render",_sfc_render$f],["__file","node.vue"]]);const _sfc_main$L=defineComponent({name:"ElCascaderMenu",components:{Loading:loading_default,ElIcon,ElScrollbar,ElCascaderNode},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(xe){const pe=getCurrentInstance(),_e=useNamespace("cascader-menu"),{t:Ce}=useLocale(),Ie=useId();let Oe=null,Ne=null;const Fe=inject(CASCADER_PANEL_INJECTION_KEY),Ue=ref(null),$e=computed(()=>!xe.nodes.length),ze=computed(()=>!Fe.initialLoaded),Ve=computed(()=>"".concat(Ie.value,"-").concat(xe.index)),qe=_n=>{Oe=_n.target},En=_n=>{if(!(!Fe.isHoverMenu||!Oe||!Ue.value))if(Oe.contains(_n.target)){vn();const bn=pe.vnode.el,{left:An}=bn.getBoundingClientRect(),{offsetWidth:xn,offsetHeight:Sn}=bn,Cn=_n.clientX-An,Tn=Oe.offsetTop,wn=Tn+Oe.offsetHeight;Ue.value.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'.concat(Cn," ").concat(Tn," L").concat(xn," 0 V").concat(Tn,' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M').concat(Cn," ").concat(wn," L").concat(xn," ").concat(Sn," V").concat(wn,' Z" />\n        ')}else Ne||(Ne=window.setTimeout(hn,Fe.config.hoverThreshold))},vn=()=>{Ne&&(clearTimeout(Ne),Ne=null)},hn=()=>{Ue.value&&(Ue.value.innerHTML="",vn())};return{ns:_e,panel:Fe,hoverZone:Ue,isEmpty:$e,isLoading:ze,menuId:Ve,t:Ce,handleExpand:qe,handleMouseMove:En,clearHoverZone:hn}}});function _sfc_render$e(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-cascader-node"),Fe=resolveComponent("loading"),Ue=resolveComponent("el-icon"),$e=resolveComponent("el-scrollbar");return openBlock(),createBlock($e,{key:xe.menuId,tag:"ul",role:"menu",class:normalizeClass(xe.ns.b()),"wrap-class":xe.ns.e("wrap"),"view-class":[xe.ns.e("list"),xe.ns.is("empty",xe.isEmpty)],onMousemove:xe.handleMouseMove,onMouseleave:xe.clearHoverZone},{default:withCtx(()=>{var ze;return[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.nodes,Ve=>(openBlock(),createBlock(Ne,{key:Ve.uid,node:Ve,"menu-id":xe.menuId,onExpand:xe.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),xe.isLoading?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(xe.ns.e("empty-text"))},[createVNode(Ue,{size:"14",class:normalizeClass(xe.ns.is("loading"))},{default:withCtx(()=>[createVNode(Fe)]),_:1},8,["class"]),createTextVNode(" "+toDisplayString(xe.t("el.cascader.loading")),1)],2)):xe.isEmpty?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(xe.ns.e("empty-text"))},toDisplayString(xe.t("el.cascader.noData")),3)):(ze=xe.panel)!=null&&ze.isHoverMenu?(openBlock(),createElementBlock("svg",{key:2,ref:"hoverZone",class:normalizeClass(xe.ns.e("hover-zone"))},null,2)):createCommentVNode("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ElCascaderMenu=_export_sfc(_sfc_main$L,[["render",_sfc_render$e],["__file","menu.vue"]]);let uid=0;const calculatePathNodes=xe=>{const pe=[xe];let{parent:_e}=xe;for(;_e;)pe.unshift(_e),_e=_e.parent;return pe};let Node$2=class Ms{constructor(pe,_e,Ce,Ie=!1){this.data=pe,this.config=_e,this.parent=Ce,this.root=Ie,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:Oe,label:Ne,children:Fe}=_e,Ue=pe[Fe],$e=calculatePathNodes(this);this.level=Ie?0:Ce?Ce.level+1:1,this.value=pe[Oe],this.label=pe[Ne],this.pathNodes=$e,this.pathValues=$e.map(ze=>ze.value),this.pathLabels=$e.map(ze=>ze.label),this.childrenData=Ue,this.children=(Ue||[]).map(ze=>new Ms(ze,_e,this)),this.loaded=!_e.lazy||this.isLeaf||!isEmpty(Ue)}get isDisabled(){const{data:pe,parent:_e,config:Ce}=this,{disabled:Ie,checkStrictly:Oe}=Ce;return(isFunction$2(Ie)?Ie(pe,this):!!pe[Ie])||!Oe&&(_e==null?void 0:_e.isDisabled)}get isLeaf(){const{data:pe,config:_e,childrenData:Ce,loaded:Ie}=this,{lazy:Oe,leaf:Ne}=_e,Fe=isFunction$2(Ne)?Ne(pe,this):pe[Ne];return isUndefined(Fe)?Oe&&!Ie?!1:!(Array.isArray(Ce)&&Ce.length):!!Fe}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(pe){const{childrenData:_e,children:Ce}=this,Ie=new Ms(pe,this.config,this);return Array.isArray(_e)?_e.push(pe):this.childrenData=[pe],Ce.push(Ie),Ie}calcText(pe,_e){const Ce=pe?this.pathLabels.join(_e):this.label;return this.text=Ce,Ce}broadcast(pe,..._e){const Ce="onParent".concat(capitalize(pe));this.children.forEach(Ie=>{Ie&&(Ie.broadcast(pe,..._e),Ie[Ce]&&Ie[Ce](..._e))})}emit(pe,..._e){const{parent:Ce}=this,Ie="onChild".concat(capitalize(pe));Ce&&(Ce[Ie]&&Ce[Ie](..._e),Ce.emit(pe,..._e))}onParentCheck(pe){this.isDisabled||this.setCheckState(pe)}onChildCheck(){const{children:pe}=this,_e=pe.filter(Ie=>!Ie.isDisabled),Ce=_e.length?_e.every(Ie=>Ie.checked):!1;this.setCheckState(Ce)}setCheckState(pe){const _e=this.children.length,Ce=this.children.reduce((Ie,Oe)=>{const Ne=Oe.checked?1:Oe.indeterminate?.5:0;return Ie+Ne},0);this.checked=this.loaded&&this.children.filter(Ie=>!Ie.isDisabled).every(Ie=>Ie.loaded&&Ie.checked)&&pe,this.indeterminate=this.loaded&&Ce!==_e&&Ce>0}doCheck(pe){if(this.checked===pe)return;const{checkStrictly:_e,multiple:Ce}=this.config;_e||!Ce?this.checked=pe:(this.broadcast("check",pe),this.setCheckState(pe),this.emit("check"))}};const flatNodes=(xe,pe)=>xe.reduce((_e,Ce)=>(Ce.isLeaf?_e.push(Ce):(!pe&&_e.push(Ce),_e=_e.concat(flatNodes(Ce.children,pe))),_e),[]);class Store{constructor(pe,_e){this.config=_e;const Ce=(pe||[]).map(Ie=>new Node$2(Ie,this.config));this.nodes=Ce,this.allNodes=flatNodes(Ce,!1),this.leafNodes=flatNodes(Ce,!0)}getNodes(){return this.nodes}getFlattedNodes(pe){return pe?this.leafNodes:this.allNodes}appendNode(pe,_e){const Ce=_e?_e.appendChild(pe):new Node$2(pe,this.config);_e||this.nodes.push(Ce),this.allNodes.push(Ce),Ce.isLeaf&&this.leafNodes.push(Ce)}appendNodes(pe,_e){pe.forEach(Ce=>this.appendNode(Ce,_e))}getNodeByValue(pe,_e=!1){return!pe&&pe!==0?null:this.getFlattedNodes(_e).find(Ie=>isEqual(Ie.value,pe)||isEqual(Ie.pathValues,pe))||null}getSameNode(pe){return pe&&this.getFlattedNodes(!1).find(({value:Ce,level:Ie})=>isEqual(pe.value,Ce)&&pe.level===Ie)||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},useCascaderConfig=xe=>computed(()=>({...DefaultProps,...xe.props})),getMenuIndex=xe=>{if(!xe)return 0;const pe=xe.id.split("-");return Number(pe[pe.length-2])},checkNode=xe=>{if(!xe)return;const pe=xe.querySelector("input");pe?pe.click():isLeaf(xe)&&xe.click()},sortByOriginalOrder=(xe,pe)=>{const _e=pe.slice(0),Ce=_e.map(Oe=>Oe.uid),Ie=xe.reduce((Oe,Ne)=>{const Fe=Ce.indexOf(Ne.uid);return Fe>-1&&(Oe.push(Ne),_e.splice(Fe,1),Ce.splice(Fe,1)),Oe},[]);return Ie.push(..._e),Ie},_sfc_main$K=defineComponent({name:"ElCascaderPanel",components:{ElCascaderMenu},props:{...CommonProps,border:{type:Boolean,default:!0},renderLabel:Function},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"close","expand-change"],setup(xe,{emit:pe,slots:_e}){let Ce=!1;const Ie=useNamespace("cascader"),Oe=useCascaderConfig(xe);let Ne=null;const Fe=ref(!0),Ue=ref([]),$e=ref(null),ze=ref([]),Ve=ref(null),qe=ref([]),En=computed(()=>Oe.value.expandTrigger==="hover"),vn=computed(()=>xe.renderLabel||_e.default),hn=()=>{const{options:Rn}=xe,Nn=Oe.value;Ce=!1,Ne=new Store(Rn,Nn),ze.value=[Ne.getNodes()],Nn.lazy&&isEmpty(xe.options)?(Fe.value=!1,_n(void 0,On=>{On&&(Ne=new Store(On,Nn),ze.value=[Ne.getNodes()]),Fe.value=!0,Ln(!1,!0)})):Ln(!1,!0)},_n=(Rn,Nn)=>{const On=Oe.value;Rn=Rn||new Node$2({},On,void 0,!0),Rn.loading=!0;const Dn=Mn=>{const Bn=Rn,$n=Bn.root?null:Bn;Mn&&(Ne==null||Ne.appendNodes(Mn,$n)),Bn.loading=!1,Bn.loaded=!0,Bn.childrenData=Bn.childrenData||[],Nn&&Nn(Mn)};On.lazyLoad(Rn,Dn)},bn=(Rn,Nn)=>{var On;const{level:Dn}=Rn,Mn=ze.value.slice(0,Dn);let Bn;Rn.isLeaf?Bn=Rn.pathNodes[Dn-2]:(Bn=Rn,Mn.push(Rn.children)),((On=Ve.value)==null?void 0:On.uid)!==(Bn==null?void 0:Bn.uid)&&(Ve.value=Rn,ze.value=Mn,!Nn&&pe("expand-change",(Rn==null?void 0:Rn.pathValues)||[]))},An=(Rn,Nn,On=!0)=>{const{checkStrictly:Dn,multiple:Mn}=Oe.value,Bn=qe.value[0];Ce=!0,!Mn&&(Bn==null||Bn.doCheck(!1)),Rn.doCheck(Nn),wn(),On&&!Mn&&!Dn&&pe("close"),!On&&!Mn&&!Dn&&xn(Rn)},xn=Rn=>{Rn&&(Rn=Rn.parent,xn(Rn),Rn&&bn(Rn))},Sn=Rn=>Ne==null?void 0:Ne.getFlattedNodes(Rn),Cn=Rn=>{var Nn;return(Nn=Sn(Rn))==null?void 0:Nn.filter(On=>On.checked!==!1)},Tn=()=>{qe.value.forEach(Rn=>Rn.doCheck(!1)),wn(),ze.value=ze.value.slice(0,1),Ve.value=null,pe("expand-change",[])},wn=()=>{var Rn;const{checkStrictly:Nn,multiple:On}=Oe.value,Dn=qe.value,Mn=Cn(!Nn),Bn=sortByOriginalOrder(Dn,Mn),$n=Bn.map(Fn=>Fn.valueByOption);qe.value=Bn,$e.value=On?$n:(Rn=$n[0])!=null?Rn:null},Ln=(Rn=!1,Nn=!1)=>{const{modelValue:On}=xe,{lazy:Dn,multiple:Mn,checkStrictly:Bn}=Oe.value,$n=!Bn;if(!(!Fe.value||Ce||!Nn&&isEqual(On,$e.value)))if(Dn&&!Rn){const Un=unique(flattenDeep(castArray(On))).map(Hn=>Ne==null?void 0:Ne.getNodeByValue(Hn)).filter(Hn=>!!Hn&&!Hn.loaded&&!Hn.loading);Un.length?Un.forEach(Hn=>{_n(Hn,()=>Ln(!1,Nn))}):Ln(!0,Nn)}else{const Fn=Mn?castArray(On):[On],Un=unique(Fn.map(Hn=>Ne==null?void 0:Ne.getNodeByValue(Hn,$n)));Pn(Un,Nn),$e.value=cloneDeep(On)}},Pn=(Rn,Nn=!0)=>{const{checkStrictly:On}=Oe.value,Dn=qe.value,Mn=Rn.filter(Fn=>!!Fn&&(On||Fn.isLeaf)),Bn=Ne==null?void 0:Ne.getSameNode(Ve.value),$n=Nn&&Bn||Mn[0];$n?$n.pathNodes.forEach(Fn=>bn(Fn,!0)):Ve.value=null,Dn.forEach(Fn=>Fn.doCheck(!1)),reactive(Mn).forEach(Fn=>Fn.doCheck(!0)),qe.value=Mn,nextTick(kn)},kn=()=>{isClient&&Ue.value.forEach(Rn=>{const Nn=Rn==null?void 0:Rn.$el;if(Nn){const On=Nn.querySelector(".".concat(Ie.namespace.value,"-scrollbar__wrap")),Dn=Nn.querySelector(".".concat(Ie.b("node"),".").concat(Ie.is("active")))||Nn.querySelector(".".concat(Ie.b("node"),".in-active-path"));scrollIntoView(On,Dn)}})},In=Rn=>{const Nn=Rn.target,{code:On}=Rn;switch(On){case EVENT_CODE.up:case EVENT_CODE.down:{Rn.preventDefault();const Dn=On===EVENT_CODE.up?-1:1;focusNode(getSibling(Nn,Dn,".".concat(Ie.b("node"),'[tabindex="-1"]')));break}case EVENT_CODE.left:{Rn.preventDefault();const Dn=Ue.value[getMenuIndex(Nn)-1],Mn=Dn==null?void 0:Dn.$el.querySelector(".".concat(Ie.b("node"),'[aria-expanded="true"]'));focusNode(Mn);break}case EVENT_CODE.right:{Rn.preventDefault();const Dn=Ue.value[getMenuIndex(Nn)+1],Mn=Dn==null?void 0:Dn.$el.querySelector(".".concat(Ie.b("node"),'[tabindex="-1"]'));focusNode(Mn);break}case EVENT_CODE.enter:checkNode(Nn);break}};return provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:Oe,expandingNode:Ve,checkedNodes:qe,isHoverMenu:En,initialLoaded:Fe,renderLabelFn:vn,lazyLoad:_n,expandNode:bn,handleCheckChange:An})),watch([Oe,()=>xe.options],hn,{deep:!0,immediate:!0}),watch(()=>xe.modelValue,()=>{Ce=!1,Ln()},{deep:!0}),watch(()=>$e.value,Rn=>{isEqual(Rn,xe.modelValue)||(pe(UPDATE_MODEL_EVENT,Rn),pe(CHANGE_EVENT,Rn))}),onBeforeUpdate(()=>Ue.value=[]),onMounted(()=>!isEmpty(xe.modelValue)&&Ln()),{ns:Ie,menuList:Ue,menus:ze,checkedNodes:qe,handleKeyDown:In,handleCheckChange:An,getFlattedNodes:Sn,getCheckedNodes:Cn,clearCheckedNodes:Tn,calculateCheckedValue:wn,scrollToExpandingNode:kn}}});function _sfc_render$d(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-cascader-menu");return openBlock(),createElementBlock("div",{class:normalizeClass([xe.ns.b("panel"),xe.ns.is("bordered",xe.border)]),onKeydown:pe[0]||(pe[0]=(...Fe)=>xe.handleKeyDown&&xe.handleKeyDown(...Fe))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.menus,(Fe,Ue)=>(openBlock(),createBlock(Ne,{key:Ue,ref_for:!0,ref:$e=>xe.menuList[Ue]=$e,index:Ue,nodes:[...Fe]},null,8,["index","nodes"]))),128))],34)}var CascaderPanel=_export_sfc(_sfc_main$K,[["render",_sfc_render$d],["__file","index.vue"]]);CascaderPanel.install=xe=>{xe.component(CascaderPanel.name,CascaderPanel)};const _CascaderPanel=CascaderPanel,tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:xe=>xe instanceof MouseEvent,click:xe=>xe instanceof MouseEvent},__default__$p=defineComponent({name:"ElTag"}),_sfc_main$J=defineComponent({...__default__$p,props:tagProps,emits:tagEmits,setup(xe,{emit:pe}){const _e=xe,Ce=useFormSize(),Ie=useNamespace("tag"),Oe=computed(()=>{const{type:Ue,hit:$e,effect:ze,closable:Ve,round:qe}=_e;return[Ie.b(),Ie.is("closable",Ve),Ie.m(Ue||"primary"),Ie.m(Ce.value),Ie.m(ze),Ie.is("hit",$e),Ie.is("round",qe)]}),Ne=Ue=>{pe("close",Ue)},Fe=Ue=>{pe("click",Ue)};return(Ue,$e)=>Ue.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Oe)),style:normalizeStyle$1({backgroundColor:Ue.color}),onClick:Fe},[createBaseVNode("span",{class:normalizeClass(unref(Ie).e("content"))},[renderSlot(Ue.$slots,"default")],2),Ue.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Ie).e("close")),onClick:withModifiers(Ne,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:"".concat(unref(Ie).namespace.value,"-zoom-in-center"),appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(Oe)),style:normalizeStyle$1({backgroundColor:Ue.color}),onClick:Fe},[createBaseVNode("span",{class:normalizeClass(unref(Ie).e("content"))},[renderSlot(Ue.$slots,"default")],2),Ue.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Ie).e("close")),onClick:withModifiers(Ne,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$J,[["__file","tag.vue"]]);const ElTag=withInstall$1(Tag),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:definePropType(Function),default:(xe,pe)=>xe.text.includes(pe)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:useTooltipContentProps.teleported,tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},...useEmptyValuesProps}),cascaderEmits={[UPDATE_MODEL_EVENT]:xe=>!0,[CHANGE_EVENT]:xe=>!0,focus:xe=>xe instanceof FocusEvent,blur:xe=>xe instanceof FocusEvent,visibleChange:xe=>isBoolean(xe),expandChange:xe=>!!xe,removeTag:xe=>!!xe},_hoisted_1$q={key:0},_hoisted_2$l=["placeholder","onKeydown"],_hoisted_3$c=["onClick"],COMPONENT_NAME$7="ElCascader",__default__$o=defineComponent({name:COMPONENT_NAME$7}),_sfc_main$I=defineComponent({...__default__$o,props:cascaderProps,emits:cascaderEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:lr})=>{const{modifiersData:br,placement:Mr}=lr;["right","left","bottom","top"].includes(Mr)||(br.arrow.x=35)},requires:["arrow"]}]},Oe=useAttrs$1();let Ne=0,Fe=0;const Ue=useNamespace("cascader"),$e=useNamespace("input"),{t:ze}=useLocale(),{form:Ve,formItem:qe}=useFormItem(),{valueOnClear:En}=useEmptyValues(Ce),vn=ref(null),hn=ref(null),_n=ref(null),bn=ref(null),An=ref(null),xn=ref(!1),Sn=ref(!1),Cn=ref(!1),Tn=ref(!1),wn=ref(""),Ln=ref(""),Pn=ref([]),kn=ref([]),In=ref([]),Rn=ref(!1),Nn=computed(()=>Oe.style),On=computed(()=>Ce.disabled||(Ve==null?void 0:Ve.disabled)),Dn=computed(()=>Ce.placeholder||ze("el.cascader.placeholder")),Mn=computed(()=>Ln.value||Pn.value.length>0||Rn.value?"":Dn.value),Bn=useFormSize(),$n=computed(()=>["small"].includes(Bn.value)?"small":"default"),Fn=computed(()=>!!Ce.props.multiple),Un=computed(()=>!Ce.filterable||Fn.value),Hn=computed(()=>Fn.value?Ln.value:wn.value),Wn=computed(()=>{var lr;return((lr=bn.value)==null?void 0:lr.checkedNodes)||[]}),Xn=computed(()=>!Ce.clearable||On.value||Cn.value||!Sn.value?!1:!!Wn.value.length),or=computed(()=>{const{showAllLevels:lr,separator:br}=Ce,Mr=Wn.value;return Mr.length?Fn.value?"":Mr[0].calcText(lr,br):""}),fr=computed(()=>(qe==null?void 0:qe.validateState)||""),cr=computed({get(){return cloneDeep(Ce.modelValue)},set(lr){const br=lr||En.value;_e(UPDATE_MODEL_EVENT,br),_e(CHANGE_EVENT,br),Ce.validateEvent&&(qe==null||qe.validate("change").catch(Mr=>void 0))}}),Jn=computed(()=>[Ue.b(),Ue.m(Bn.value),Ue.is("disabled",On.value),Oe.class]),mr=computed(()=>[$e.e("icon"),"icon-arrow-down",Ue.is("reverse",xn.value)]),Ir=computed(()=>Ue.is("focus",xn.value||Tn.value)),yr=computed(()=>{var lr,br;return(br=(lr=vn.value)==null?void 0:lr.popperRef)==null?void 0:br.contentRef}),Tr=lr=>{var br,Mr,vr;On.value||(lr=lr!=null?lr:!xn.value,lr!==xn.value&&(xn.value=lr,(Mr=(br=hn.value)==null?void 0:br.input)==null||Mr.setAttribute("aria-expanded","".concat(lr)),lr?(Sr(),nextTick((vr=bn.value)==null?void 0:vr.scrollToExpandingNode)):Ce.filterable&&Lr(),_e("visibleChange",lr)))},Sr=()=>{nextTick(()=>{var lr;(lr=vn.value)==null||lr.updatePopper()})},Yn=()=>{Cn.value=!1},Qn=lr=>{const{showAllLevels:br,separator:Mr}=Ce;return{node:lr,key:lr.uid,text:lr.calcText(br,Mr),hitState:!1,closable:!On.value&&!lr.isDisabled,isCollapseTag:!1}},rr=lr=>{var br;const Mr=lr.node;Mr.doCheck(!1),(br=bn.value)==null||br.calculateCheckedValue(),_e("removeTag",Mr.valueByOption)},gr=()=>{if(!Fn.value)return;const lr=Wn.value,br=[],Mr=[];if(lr.forEach(vr=>Mr.push(Qn(vr))),kn.value=Mr,lr.length){lr.slice(0,Ce.maxCollapseTags).forEach(Gr=>br.push(Qn(Gr)));const vr=lr.slice(Ce.maxCollapseTags),jr=vr.length;jr&&(Ce.collapseTags?br.push({key:-1,text:"+ ".concat(jr),closable:!1,isCollapseTag:!0}):vr.forEach(Gr=>br.push(Qn(Gr))))}Pn.value=br},Ar=()=>{var lr,br;const{filterMethod:Mr,showAllLevels:vr,separator:jr}=Ce,Gr=(br=(lr=bn.value)==null?void 0:lr.getFlattedNodes(!Ce.props.checkStrictly))==null?void 0:br.filter(zr=>zr.isDisabled?!1:(zr.calcText(vr,jr),Mr(zr,Hn.value)));Fn.value&&(Pn.value.forEach(zr=>{zr.hitState=!1}),kn.value.forEach(zr=>{zr.hitState=!1})),Cn.value=!0,In.value=Gr,Sr()},Br=()=>{var lr;let br;Cn.value&&An.value?br=An.value.$el.querySelector(".".concat(Ue.e("suggestion-item"))):br=(lr=bn.value)==null?void 0:lr.$el.querySelector(".".concat(Ue.b("node"),'[tabindex="-1"]')),br&&(br.focus(),!Cn.value&&br.click())},Vr=()=>{var lr,br;const Mr=(lr=hn.value)==null?void 0:lr.input,vr=_n.value,jr=(br=An.value)==null?void 0:br.$el;if(!(!isClient||!Mr)){if(jr){const Gr=jr.querySelector(".".concat(Ue.e("suggestion-list")));Gr.style.minWidth="".concat(Mr.offsetWidth,"px")}if(vr){const{offsetHeight:Gr}=vr,zr=Pn.value.length>0?"".concat(Math.max(Gr+6,Ne),"px"):"".concat(Ne,"px");Mr.style.height=zr,Sr()}}},Fr=lr=>{var br;return(br=bn.value)==null?void 0:br.getCheckedNodes(lr)},Er=lr=>{Sr(),_e("expandChange",lr)},Dr=lr=>{var br;const Mr=(br=lr.target)==null?void 0:br.value;if(lr.type==="compositionend")Rn.value=!1,nextTick(()=>ur(Mr));else{const vr=Mr[Mr.length-1]||"";Rn.value=!isKorean(vr)}},Pr=lr=>{if(!Rn.value)switch(lr.code){case EVENT_CODE.enter:Tr();break;case EVENT_CODE.down:Tr(!0),nextTick(Br),lr.preventDefault();break;case EVENT_CODE.esc:xn.value===!0&&(lr.preventDefault(),lr.stopPropagation(),Tr(!1));break;case EVENT_CODE.tab:Tr(!1);break}},$r=()=>{var lr;(lr=bn.value)==null||lr.clearCheckedNodes(),!xn.value&&Ce.filterable&&Lr(),Tr(!1)},Lr=()=>{const{value:lr}=or;wn.value=lr,Ln.value=lr},Or=lr=>{var br,Mr;const{checked:vr}=lr;Fn.value?(br=bn.value)==null||br.handleCheckChange(lr,!vr,!1):(!vr&&((Mr=bn.value)==null||Mr.handleCheckChange(lr,!0,!1)),Tr(!1))},Hr=lr=>{const br=lr.target,{code:Mr}=lr;switch(Mr){case EVENT_CODE.up:case EVENT_CODE.down:{const vr=Mr===EVENT_CODE.up?-1:1;focusNode(getSibling(br,vr,".".concat(Ue.e("suggestion-item"),'[tabindex="-1"]')));break}case EVENT_CODE.enter:br.click();break}},qr=()=>{const lr=Pn.value,br=lr[lr.length-1];Fe=Ln.value?0:Fe+1,!(!br||!Fe||Ce.collapseTags&&lr.length>1)&&(br.hitState?rr(br):br.hitState=!0)},ao=lr=>{const br=lr.target,Mr=Ue.e("search-input");br.className===Mr&&(Tn.value=!0),_e("focus",lr)},Ur=lr=>{Tn.value=!1,_e("blur",lr)},_r=debounce(()=>{const{value:lr}=Hn;if(!lr)return;const br=Ce.beforeFilter(lr);isPromise$1(br)?br.then(Ar).catch(()=>{}):br!==!1?Ar():Yn()},Ce.debounce),ur=(lr,br)=>{!xn.value&&Tr(!0),!(br!=null&&br.isComposing)&&(lr?_r():Yn())},kr=lr=>Number.parseFloat(useCssVar($e.cssVarName("input-height"),lr).value)-2;return watch(Cn,Sr),watch([Wn,On],gr),watch(Pn,()=>{nextTick(()=>Vr())}),watch(Bn,async()=>{await nextTick();const lr=hn.value.input;Ne=kr(lr)||Ne,Vr()}),watch(or,Lr,{immediate:!0}),onMounted(()=>{const lr=hn.value.input,br=kr(lr);Ne=lr.offsetHeight||br,useResizeObserver(lr,Vr)}),pe({getCheckedNodes:Fr,cascaderPanelRef:bn,togglePopperVisible:Tr,contentRef:yr}),(lr,br)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:vn,visible:xn.value,teleported:lr.teleported,"popper-class":[unref(Ue).e("dropdown"),lr.popperClass],"popper-options":Ie,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:"".concat(unref(Ue).namespace.value,"-zoom-in-top"),effect:"light",pure:"",persistent:"",onHide:Yn},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(unref(Jn)),style:normalizeStyle$1(unref(Nn)),onClick:br[5]||(br[5]=()=>Tr(unref(Un)?void 0:!0)),onKeydown:Pr,onMouseenter:br[6]||(br[6]=Mr=>Sn.value=!0),onMouseleave:br[7]||(br[7]=Mr=>Sn.value=!1)},[createVNode(unref(ElInput),{ref_key:"input",ref:hn,modelValue:wn.value,"onUpdate:modelValue":br[1]||(br[1]=Mr=>wn.value=Mr),placeholder:unref(Mn),readonly:unref(Un),disabled:unref(On),"validate-event":!1,size:unref(Bn),class:normalizeClass(unref(Ir)),tabindex:unref(Fn)&&lr.filterable&&!unref(On)?-1:void 0,onCompositionstart:Dr,onCompositionupdate:Dr,onCompositionend:Dr,onFocus:ao,onBlur:Ur,onInput:ur},{suffix:withCtx(()=>[unref(Xn)?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref($e).e("icon"),"icon-circle-close"]),onClick:withModifiers($r,["stop"])},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onClick"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(unref(mr)),onClick:br[0]||(br[0]=withModifiers(Mr=>Tr(),["stop"]))},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),unref(Fn)?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:_n,class:normalizeClass([unref(Ue).e("tags"),unref(Ue).is("validate",!!unref(fr))])},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Pn.value,Mr=>(openBlock(),createBlock(unref(ElTag),{key:Mr.key,type:lr.tagType,size:unref($n),hit:Mr.hitState,closable:Mr.closable,"disable-transitions":"",onClose:vr=>rr(Mr)},{default:withCtx(()=>[Mr.isCollapseTag===!1?(openBlock(),createElementBlock("span",_hoisted_1$q,toDisplayString(Mr.text),1)):(openBlock(),createBlock(unref(ElTooltip),{key:1,disabled:xn.value||!lr.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(Mr.text),1)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(Ue).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(kn.value.slice(lr.maxCollapseTags),(vr,jr)=>(openBlock(),createElementBlock("div",{key:jr,class:normalizeClass(unref(Ue).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:vr.key,class:"in-tooltip",type:lr.tagType,size:unref($n),hit:vr.hitState,closable:vr.closable,"disable-transitions":"",onClose:Gr=>rr(vr)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(vr.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),lr.filterable&&!unref(On)?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":br[2]||(br[2]=Mr=>Ln.value=Mr),type:"text",class:normalizeClass(unref(Ue).e("search-input")),placeholder:unref(or)?"":unref(Dn),onInput:br[3]||(br[3]=Mr=>ur(Ln.value,Mr)),onClick:br[4]||(br[4]=withModifiers(Mr=>Tr(!0),["stop"])),onKeydown:withKeys(qr,["delete"]),onCompositionstart:Dr,onCompositionupdate:Dr,onCompositionend:Dr,onFocus:ao,onBlur:Ur},null,42,_hoisted_2$l)),[[vModelText,Ln.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],38)),[[unref(ClickOutside),()=>Tr(!1),unref(yr)]])]),content:withCtx(()=>[withDirectives(createVNode(unref(_CascaderPanel),{ref_key:"cascaderPanelRef",ref:bn,modelValue:unref(cr),"onUpdate:modelValue":br[8]||(br[8]=Mr=>isRef(cr)?cr.value=Mr:null),options:lr.options,props:Ce.props,border:!1,"render-label":lr.$slots.default,onExpandChange:Er,onClose:br[9]||(br[9]=Mr=>lr.$nextTick(()=>Tr(!1)))},null,8,["modelValue","options","props","render-label"]),[[vShow,!Cn.value]]),lr.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:0,ref_key:"suggestionPanel",ref:An,tag:"ul",class:normalizeClass(unref(Ue).e("suggestion-panel")),"view-class":unref(Ue).e("suggestion-list"),onKeydown:Hr},{default:withCtx(()=>[In.value.length?(openBlock(!0),createElementBlock(Fragment$1,{key:0},renderList(In.value,Mr=>(openBlock(),createElementBlock("li",{key:Mr.uid,class:normalizeClass([unref(Ue).e("suggestion-item"),unref(Ue).is("checked",Mr.checked)]),tabindex:-1,onClick:vr=>Or(Mr)},[createBaseVNode("span",null,toDisplayString(Mr.text),1),Mr.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1})):createCommentVNode("v-if",!0)],10,_hoisted_3$c))),128)):renderSlot(lr.$slots,"empty",{key:1},()=>[createBaseVNode("li",{class:normalizeClass(unref(Ue).e("empty-text"))},toDisplayString(unref(ze)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vShow,Cn.value]]):createCommentVNode("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Cascader=_export_sfc(_sfc_main$I,[["__file","cascader.vue"]]);Cascader.install=xe=>{xe.component(Cascader.name,Cascader)};const _Cascader=Cascader,ElCascader=_Cascader,__default__$n=defineComponent({name:"ElCollapseTransition"}),_sfc_main$H=defineComponent({...__default__$n,setup(xe){const pe=useNamespace("collapse-transition"),_e=Ie=>{Ie.style.maxHeight="",Ie.style.overflow=Ie.dataset.oldOverflow,Ie.style.paddingTop=Ie.dataset.oldPaddingTop,Ie.style.paddingBottom=Ie.dataset.oldPaddingBottom},Ce={beforeEnter(Ie){Ie.dataset||(Ie.dataset={}),Ie.dataset.oldPaddingTop=Ie.style.paddingTop,Ie.dataset.oldPaddingBottom=Ie.style.paddingBottom,Ie.style.height&&(Ie.dataset.elExistsHeight=Ie.style.height),Ie.style.maxHeight=0,Ie.style.paddingTop=0,Ie.style.paddingBottom=0},enter(Ie){requestAnimationFrame(()=>{Ie.dataset.oldOverflow=Ie.style.overflow,Ie.dataset.elExistsHeight?Ie.style.maxHeight=Ie.dataset.elExistsHeight:Ie.scrollHeight!==0?Ie.style.maxHeight="".concat(Ie.scrollHeight,"px"):Ie.style.maxHeight=0,Ie.style.paddingTop=Ie.dataset.oldPaddingTop,Ie.style.paddingBottom=Ie.dataset.oldPaddingBottom,Ie.style.overflow="hidden"})},afterEnter(Ie){Ie.style.maxHeight="",Ie.style.overflow=Ie.dataset.oldOverflow},enterCancelled(Ie){_e(Ie)},beforeLeave(Ie){Ie.dataset||(Ie.dataset={}),Ie.dataset.oldPaddingTop=Ie.style.paddingTop,Ie.dataset.oldPaddingBottom=Ie.style.paddingBottom,Ie.dataset.oldOverflow=Ie.style.overflow,Ie.style.maxHeight="".concat(Ie.scrollHeight,"px"),Ie.style.overflow="hidden"},leave(Ie){Ie.scrollHeight!==0&&(Ie.style.maxHeight=0,Ie.style.paddingTop=0,Ie.style.paddingBottom=0)},afterLeave(Ie){_e(Ie)},leaveCancelled(Ie){_e(Ie)}};return(Ie,Oe)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(pe).b()},toHandlers(Ce)),{default:withCtx(()=>[renderSlot(Ie.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc(_sfc_main$H,[["__file","collapse-transition.vue"]]);CollapseTransition.install=xe=>{xe.component(CollapseTransition.name,CollapseTransition)};const _CollapseTransition=CollapseTransition,alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(xe,pe){if(!isClient)return;const _e=function(Oe){var Ne;(Ne=pe.drag)==null||Ne.call(pe,Oe)},Ce=function(Oe){var Ne;document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ce),document.removeEventListener("touchmove",_e),document.removeEventListener("touchend",Ce),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(Ne=pe.end)==null||Ne.call(pe,Oe)},Ie=function(Oe){var Ne;isDragging||(Oe.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ce),document.addEventListener("touchmove",_e),document.addEventListener("touchend",Ce),isDragging=!0,(Ne=pe.start)==null||Ne.call(pe,Oe))};xe.addEventListener("mousedown",Ie),xe.addEventListener("touchstart",Ie)}const useAlphaSlider=xe=>{const pe=getCurrentInstance(),_e=shallowRef(),Ce=shallowRef();function Ie(Ne){Ne.target!==_e.value&&Oe(Ne)}function Oe(Ne){if(!Ce.value||!_e.value)return;const Ue=pe.vnode.el.getBoundingClientRect(),{clientX:$e,clientY:ze}=getClientXY(Ne);if(xe.vertical){let Ve=ze-Ue.top;Ve=Math.max(_e.value.offsetHeight/2,Ve),Ve=Math.min(Ve,Ue.height-_e.value.offsetHeight/2),xe.color.set("alpha",Math.round((Ve-_e.value.offsetHeight/2)/(Ue.height-_e.value.offsetHeight)*100))}else{let Ve=$e-Ue.left;Ve=Math.max(_e.value.offsetWidth/2,Ve),Ve=Math.min(Ve,Ue.width-_e.value.offsetWidth/2),xe.color.set("alpha",Math.round((Ve-_e.value.offsetWidth/2)/(Ue.width-_e.value.offsetWidth)*100))}}return{thumb:_e,bar:Ce,handleDrag:Oe,handleClick:Ie}},useAlphaSliderDOM=(xe,{bar:pe,thumb:_e,handleDrag:Ce})=>{const Ie=getCurrentInstance(),Oe=useNamespace("color-alpha-slider"),Ne=ref(0),Fe=ref(0),Ue=ref();function $e(){if(!_e.value||xe.vertical)return 0;const An=Ie.vnode.el,xn=xe.color.get("alpha");return An?Math.round(xn*(An.offsetWidth-_e.value.offsetWidth/2)/100):0}function ze(){if(!_e.value)return 0;const An=Ie.vnode.el;if(!xe.vertical)return 0;const xn=xe.color.get("alpha");return An?Math.round(xn*(An.offsetHeight-_e.value.offsetHeight/2)/100):0}function Ve(){if(xe.color&&xe.color.value){const{r:An,g:xn,b:Sn}=xe.color.toRgb();return"linear-gradient(to right, rgba(".concat(An,", ").concat(xn,", ").concat(Sn,", 0) 0%, rgba(").concat(An,", ").concat(xn,", ").concat(Sn,", 1) 100%)")}return""}function qe(){Ne.value=$e(),Fe.value=ze(),Ue.value=Ve()}onMounted(()=>{if(!pe.value||!_e.value)return;const An={drag:xn=>{Ce(xn)},end:xn=>{Ce(xn)}};draggable(pe.value,An),draggable(_e.value,An),qe()}),watch(()=>xe.color.get("alpha"),()=>qe()),watch(()=>xe.color.value,()=>qe());const En=computed(()=>[Oe.b(),Oe.is("vertical",xe.vertical)]),vn=computed(()=>Oe.e("bar")),hn=computed(()=>Oe.e("thumb")),_n=computed(()=>({background:Ue.value})),bn=computed(()=>({left:addUnit(Ne.value),top:addUnit(Fe.value)}));return{rootKls:En,barKls:vn,barStyle:_n,thumbKls:hn,thumbStyle:bn,update:qe}},COMPONENT_NAME$6="ElColorAlphaSlider",__default__$m=defineComponent({name:COMPONENT_NAME$6}),_sfc_main$G=defineComponent({...__default__$m,props:alphaSliderProps,setup(xe,{expose:pe}){const _e=xe,{bar:Ce,thumb:Ie,handleDrag:Oe,handleClick:Ne}=useAlphaSlider(_e),{rootKls:Fe,barKls:Ue,barStyle:$e,thumbKls:ze,thumbStyle:Ve,update:qe}=useAlphaSliderDOM(_e,{bar:Ce,thumb:Ie,handleDrag:Oe});return pe({update:qe,bar:Ce,thumb:Ie}),(En,vn)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(Fe))},[createBaseVNode("div",{ref_key:"bar",ref:Ce,class:normalizeClass(unref(Ue)),style:normalizeStyle$1(unref($e)),onClick:vn[0]||(vn[0]=(...hn)=>unref(Ne)&&unref(Ne)(...hn))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:Ie,class:normalizeClass(unref(ze)),style:normalizeStyle$1(unref(Ve))},null,6)],2))}});var AlphaSlider=_export_sfc(_sfc_main$G,[["__file","alpha-slider.vue"]]);const _sfc_main$F=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(xe){const pe=useNamespace("color-hue-slider"),_e=getCurrentInstance(),Ce=ref(),Ie=ref(),Oe=ref(0),Ne=ref(0),Fe=computed(()=>xe.color.get("hue"));watch(()=>Fe.value,()=>{qe()});function Ue(En){En.target!==Ce.value&&$e(En)}function $e(En){if(!Ie.value||!Ce.value)return;const hn=_e.vnode.el.getBoundingClientRect(),{clientX:_n,clientY:bn}=getClientXY(En);let An;if(xe.vertical){let xn=bn-hn.top;xn=Math.min(xn,hn.height-Ce.value.offsetHeight/2),xn=Math.max(Ce.value.offsetHeight/2,xn),An=Math.round((xn-Ce.value.offsetHeight/2)/(hn.height-Ce.value.offsetHeight)*360)}else{let xn=_n-hn.left;xn=Math.min(xn,hn.width-Ce.value.offsetWidth/2),xn=Math.max(Ce.value.offsetWidth/2,xn),An=Math.round((xn-Ce.value.offsetWidth/2)/(hn.width-Ce.value.offsetWidth)*360)}xe.color.set("hue",An)}function ze(){if(!Ce.value)return 0;const En=_e.vnode.el;if(xe.vertical)return 0;const vn=xe.color.get("hue");return En?Math.round(vn*(En.offsetWidth-Ce.value.offsetWidth/2)/360):0}function Ve(){if(!Ce.value)return 0;const En=_e.vnode.el;if(!xe.vertical)return 0;const vn=xe.color.get("hue");return En?Math.round(vn*(En.offsetHeight-Ce.value.offsetHeight/2)/360):0}function qe(){Oe.value=ze(),Ne.value=Ve()}return onMounted(()=>{if(!Ie.value||!Ce.value)return;const En={drag:vn=>{$e(vn)},end:vn=>{$e(vn)}};draggable(Ie.value,En),draggable(Ce.value,En),qe()}),{bar:Ie,thumb:Ce,thumbLeft:Oe,thumbTop:Ne,hueValue:Fe,handleClick:Ue,update:qe,ns:pe}}});function _sfc_render$c(xe,pe,_e,Ce,Ie,Oe){return openBlock(),createElementBlock("div",{class:normalizeClass([xe.ns.b(),xe.ns.is("vertical",xe.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(xe.ns.e("bar")),onClick:pe[0]||(pe[0]=(...Ne)=>xe.handleClick&&xe.handleClick(...Ne))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(xe.ns.e("thumb")),style:normalizeStyle$1({left:xe.thumbLeft+"px",top:xe.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc(_sfc_main$F,[["render",_sfc_render$c],["__file","hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:useTooltipContentProps.teleported,predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),colorPickerEmits={[UPDATE_MODEL_EVENT]:xe=>isString$3(xe)||isNil(xe),[CHANGE_EVENT]:xe=>isString$3(xe)||isNil(xe),activeChange:xe=>isString$3(xe)||isNil(xe),focus:xe=>xe instanceof FocusEvent,blur:xe=>xe instanceof FocusEvent},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(xe,pe,_e){return[xe,pe*_e/((xe=(2-pe)*_e)<1?xe:2-xe)||0,xe/2]},isOnePointZero=function(xe){return typeof xe=="string"&&xe.includes(".")&&Number.parseFloat(xe)===1},isPercentage=function(xe){return typeof xe=="string"&&xe.includes("%")},bound01=function(xe,pe){isOnePointZero(xe)&&(xe="100%");const _e=isPercentage(xe);return xe=Math.min(pe,Math.max(0,Number.parseFloat("".concat(xe)))),_e&&(xe=Number.parseInt("".concat(xe*pe),10)/100),Math.abs(xe-pe)<1e-6?1:xe%pe/Number.parseFloat(pe)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=xe=>{xe=Math.min(Math.round(xe),255);const pe=Math.floor(xe/16),_e=xe%16;return"".concat(INT_HEX_MAP[pe]||pe).concat(INT_HEX_MAP[_e]||_e)},toHex$2=function({r:xe,g:pe,b:_e}){return Number.isNaN(+xe)||Number.isNaN(+pe)||Number.isNaN(+_e)?"":"#".concat(hexOne(xe)).concat(hexOne(pe)).concat(hexOne(_e))},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(xe){return xe.length===2?(HEX_INT_MAP[xe[0].toUpperCase()]||+xe[0])*16+(HEX_INT_MAP[xe[1].toUpperCase()]||+xe[1]):HEX_INT_MAP[xe[1].toUpperCase()]||+xe[1]},hsl2hsv=function(xe,pe,_e){pe=pe/100,_e=_e/100;let Ce=pe;const Ie=Math.max(_e,.01);_e*=2,pe*=_e<=1?_e:2-_e,Ce*=Ie<=1?Ie:2-Ie;const Oe=(_e+pe)/2,Ne=_e===0?2*Ce/(Ie+Ce):2*pe/(_e+pe);return{h:xe,s:Ne*100,v:Oe*100}},rgb2hsv=(xe,pe,_e)=>{xe=bound01(xe,255),pe=bound01(pe,255),_e=bound01(_e,255);const Ce=Math.max(xe,pe,_e),Ie=Math.min(xe,pe,_e);let Oe;const Ne=Ce,Fe=Ce-Ie,Ue=Ce===0?0:Fe/Ce;if(Ce===Ie)Oe=0;else{switch(Ce){case xe:{Oe=(pe-_e)/Fe+(pe<_e?6:0);break}case pe:{Oe=(_e-xe)/Fe+2;break}case _e:{Oe=(xe-pe)/Fe+4;break}}Oe/=6}return{h:Oe*360,s:Ue*100,v:Ne*100}},hsv2rgb=function(xe,pe,_e){xe=bound01(xe,360)*6,pe=bound01(pe,100),_e=bound01(_e,100);const Ce=Math.floor(xe),Ie=xe-Ce,Oe=_e*(1-pe),Ne=_e*(1-Ie*pe),Fe=_e*(1-(1-Ie)*pe),Ue=Ce%6,$e=[_e,Ne,Oe,Oe,Fe,_e][Ue],ze=[Fe,_e,_e,Ne,Oe,Oe][Ue],Ve=[Oe,Oe,Fe,_e,_e,Ne][Ue];return{r:Math.round($e*255),g:Math.round(ze*255),b:Math.round(Ve*255)}};class Color{constructor(pe={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const _e in pe)hasOwn(pe,_e)&&(this[_e]=pe[_e]);pe.value?this.fromString(pe.value):this.doOnChange()}set(pe,_e){if(arguments.length===1&&typeof pe=="object"){for(const Ce in pe)hasOwn(pe,Ce)&&this.set(Ce,pe[Ce]);return}this["_".concat(pe)]=_e,this.doOnChange()}get(pe){return pe==="alpha"?Math.floor(this["_".concat(pe)]):this["_".concat(pe)]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(pe){if(!pe){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const _e=(Ce,Ie,Oe)=>{this._hue=Math.max(0,Math.min(360,Ce)),this._saturation=Math.max(0,Math.min(100,Ie)),this._value=Math.max(0,Math.min(100,Oe)),this.doOnChange()};if(pe.includes("hsl")){const Ce=pe.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(Ie=>Ie!=="").map((Ie,Oe)=>Oe>2?Number.parseFloat(Ie):Number.parseInt(Ie,10));if(Ce.length===4?this._alpha=Number.parseFloat(Ce[3])*100:Ce.length===3&&(this._alpha=100),Ce.length>=3){const{h:Ie,s:Oe,v:Ne}=hsl2hsv(Ce[0],Ce[1],Ce[2]);_e(Ie,Oe,Ne)}}else if(pe.includes("hsv")){const Ce=pe.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(Ie=>Ie!=="").map((Ie,Oe)=>Oe>2?Number.parseFloat(Ie):Number.parseInt(Ie,10));Ce.length===4?this._alpha=Number.parseFloat(Ce[3])*100:Ce.length===3&&(this._alpha=100),Ce.length>=3&&_e(Ce[0],Ce[1],Ce[2])}else if(pe.includes("rgb")){const Ce=pe.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(Ie=>Ie!=="").map((Ie,Oe)=>Oe>2?Number.parseFloat(Ie):Number.parseInt(Ie,10));if(Ce.length===4?this._alpha=Number.parseFloat(Ce[3])*100:Ce.length===3&&(this._alpha=100),Ce.length>=3){const{h:Ie,s:Oe,v:Ne}=rgb2hsv(Ce[0],Ce[1],Ce[2]);_e(Ie,Oe,Ne)}}else if(pe.includes("#")){const Ce=pe.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(Ce))return;let Ie,Oe,Ne;Ce.length===3?(Ie=parseHexChannel(Ce[0]+Ce[0]),Oe=parseHexChannel(Ce[1]+Ce[1]),Ne=parseHexChannel(Ce[2]+Ce[2])):(Ce.length===6||Ce.length===8)&&(Ie=parseHexChannel(Ce.slice(0,2)),Oe=parseHexChannel(Ce.slice(2,4)),Ne=parseHexChannel(Ce.slice(4,6))),Ce.length===8?this._alpha=parseHexChannel(Ce.slice(6))/255*100:(Ce.length===3||Ce.length===6)&&(this._alpha=100);const{h:Fe,s:Ue,v:$e}=rgb2hsv(Ie,Oe,Ne);_e(Fe,Ue,$e)}}compare(pe){return Math.abs(pe._hue-this._hue)<2&&Math.abs(pe._saturation-this._saturation)<1&&Math.abs(pe._value-this._value)<1&&Math.abs(pe._alpha-this._alpha)<1}doOnChange(){const{_hue:pe,_saturation:_e,_value:Ce,_alpha:Ie,format:Oe}=this;if(this.enableAlpha)switch(Oe){case"hsl":{const Ne=hsv2hsl(pe,_e/100,Ce/100);this.value="hsla(".concat(pe,", ").concat(Math.round(Ne[1]*100),"%, ").concat(Math.round(Ne[2]*100),"%, ").concat(this.get("alpha")/100,")");break}case"hsv":{this.value="hsva(".concat(pe,", ").concat(Math.round(_e),"%, ").concat(Math.round(Ce),"%, ").concat(this.get("alpha")/100,")");break}case"hex":{this.value="".concat(toHex$2(hsv2rgb(pe,_e,Ce))).concat(hexOne(Ie*255/100));break}default:{const{r:Ne,g:Fe,b:Ue}=hsv2rgb(pe,_e,Ce);this.value="rgba(".concat(Ne,", ").concat(Fe,", ").concat(Ue,", ").concat(this.get("alpha")/100,")")}}else switch(Oe){case"hsl":{const Ne=hsv2hsl(pe,_e/100,Ce/100);this.value="hsl(".concat(pe,", ").concat(Math.round(Ne[1]*100),"%, ").concat(Math.round(Ne[2]*100),"%)");break}case"hsv":{this.value="hsv(".concat(pe,", ").concat(Math.round(_e),"%, ").concat(Math.round(Ce),"%)");break}case"rgb":{const{r:Ne,g:Fe,b:Ue}=hsv2rgb(pe,_e,Ce);this.value="rgb(".concat(Ne,", ").concat(Fe,", ").concat(Ue,")");break}default:this.value=toHex$2(hsv2rgb(pe,_e,Ce))}}}const _sfc_main$E=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(xe){const pe=useNamespace("color-predefine"),{currentColor:_e}=inject(colorPickerContextKey),Ce=ref(Oe(xe.colors,xe.color));watch(()=>_e.value,Ne=>{const Fe=new Color;Fe.fromString(Ne),Ce.value.forEach(Ue=>{Ue.selected=Fe.compare(Ue)})}),watchEffect(()=>{Ce.value=Oe(xe.colors,xe.color)});function Ie(Ne){xe.color.fromString(xe.colors[Ne])}function Oe(Ne,Fe){return Ne.map(Ue=>{const $e=new Color;return $e.enableAlpha=xe.enableAlpha,$e.format="rgba",$e.fromString(Ue),$e.selected=$e.value===Fe.value,$e})}return{rgbaColors:Ce,handleSelect:Ie,ns:pe}}}),_hoisted_1$p=["onClick"];function _sfc_render$b(xe,pe,_e,Ce,Ie,Oe){return openBlock(),createElementBlock("div",{class:normalizeClass(xe.ns.b())},[createBaseVNode("div",{class:normalizeClass(xe.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.rgbaColors,(Ne,Fe)=>(openBlock(),createElementBlock("div",{key:xe.colors[Fe],class:normalizeClass([xe.ns.e("color-selector"),xe.ns.is("alpha",Ne._alpha<100),{selected:Ne.selected}]),onClick:Ue=>xe.handleSelect(Fe)},[createBaseVNode("div",{style:normalizeStyle$1({backgroundColor:Ne.value})},null,4)],10,_hoisted_1$p))),128))],2)],2)}var Predefine=_export_sfc(_sfc_main$E,[["render",_sfc_render$b],["__file","predefine.vue"]]);const _sfc_main$D=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(xe){const pe=useNamespace("color-svpanel"),_e=getCurrentInstance(),Ce=ref(0),Ie=ref(0),Oe=ref("hsl(0, 100%, 50%)"),Ne=computed(()=>{const $e=xe.color.get("hue"),ze=xe.color.get("value");return{hue:$e,value:ze}});function Fe(){const $e=xe.color.get("saturation"),ze=xe.color.get("value"),Ve=_e.vnode.el,{clientWidth:qe,clientHeight:En}=Ve;Ie.value=$e*qe/100,Ce.value=(100-ze)*En/100,Oe.value="hsl(".concat(xe.color.get("hue"),", 100%, 50%)")}function Ue($e){const Ve=_e.vnode.el.getBoundingClientRect(),{clientX:qe,clientY:En}=getClientXY($e);let vn=qe-Ve.left,hn=En-Ve.top;vn=Math.max(0,vn),vn=Math.min(vn,Ve.width),hn=Math.max(0,hn),hn=Math.min(hn,Ve.height),Ie.value=vn,Ce.value=hn,xe.color.set({saturation:vn/Ve.width*100,value:100-hn/Ve.height*100})}return watch(()=>Ne.value,()=>{Fe()}),onMounted(()=>{draggable(_e.vnode.el,{drag:$e=>{Ue($e)},end:$e=>{Ue($e)}}),Fe()}),{cursorTop:Ce,cursorLeft:Ie,background:Oe,colorValue:Ne,handleDrag:Ue,update:Fe,ns:pe}}}),_hoisted_1$o=createBaseVNode("div",null,null,-1),_hoisted_2$k=[_hoisted_1$o];function _sfc_render$a(xe,pe,_e,Ce,Ie,Oe){return openBlock(),createElementBlock("div",{class:normalizeClass(xe.ns.b()),style:normalizeStyle$1({backgroundColor:xe.background})},[createBaseVNode("div",{class:normalizeClass(xe.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(xe.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(xe.ns.e("cursor")),style:normalizeStyle$1({top:xe.cursorTop+"px",left:xe.cursorLeft+"px"})},_hoisted_2$k,6)],6)}var SvPanel=_export_sfc(_sfc_main$D,[["render",_sfc_render$a],["__file","sv-panel.vue"]]);const _hoisted_1$n=["onKeydown"],_hoisted_2$j=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],__default__$l=defineComponent({name:"ElColorPicker"}),_sfc_main$C=defineComponent({...__default__$l,props:colorPickerProps,emits:colorPickerEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,{t:Ie}=useLocale(),Oe=useNamespace("color"),{formItem:Ne}=useFormItem(),Fe=useFormSize(),Ue=useFormDisabled(),{inputId:$e,isLabeledByFormItem:ze}=useFormItemInputId(Ce,{formItemContext:Ne}),Ve=ref(),qe=ref(),En=ref(),vn=ref(),hn=ref(),_n=ref(),{isFocused:bn,handleFocus:An,handleBlur:xn}=useFocusController(hn,{beforeBlur(yr){var Tr;return(Tr=vn.value)==null?void 0:Tr.isFocusInsideContent(yr)},afterBlur(){Mn(!1),Un()}}),Sn=yr=>{if(Ue.value)return Ir();An(yr)};let Cn=!0;const Tn=reactive(new Color({enableAlpha:Ce.showAlpha,format:Ce.colorFormat||"",value:Ce.modelValue})),wn=ref(!1),Ln=ref(!1),Pn=ref(""),kn=computed(()=>!Ce.modelValue&&!Ln.value?"transparent":Dn(Tn,Ce.showAlpha)),In=computed(()=>!Ce.modelValue&&!Ln.value?"":Tn.value),Rn=computed(()=>ze.value?void 0:Ce.label||Ce.ariaLabel||Ie("el.colorpicker.defaultLabel"));useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},computed(()=>!!Ce.label));const Nn=computed(()=>ze.value?Ne==null?void 0:Ne.labelId:void 0),On=computed(()=>[Oe.b("picker"),Oe.is("disabled",Ue.value),Oe.bm("picker",Fe.value),Oe.is("focused",bn.value)]);function Dn(yr,Tr){if(!(yr instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:Sr,g:Yn,b:Qn}=yr.toRgb();return Tr?"rgba(".concat(Sr,", ").concat(Yn,", ").concat(Qn,", ").concat(yr.get("alpha")/100,")"):"rgb(".concat(Sr,", ").concat(Yn,", ").concat(Qn,")")}function Mn(yr){wn.value=yr}const Bn=debounce(Mn,100,{leading:!0});function $n(){Ue.value||Mn(!0)}function Fn(){Bn(!1),Un()}function Un(){nextTick(()=>{Ce.modelValue?Tn.fromString(Ce.modelValue):(Tn.value="",nextTick(()=>{Ln.value=!1}))})}function Hn(){Ue.value||Bn(!wn.value)}function Wn(){Tn.fromString(Pn.value)}function Xn(){const yr=Tn.value;_e(UPDATE_MODEL_EVENT,yr),_e("change",yr),Ce.validateEvent&&(Ne==null||Ne.validate("change").catch(Tr=>void 0)),Bn(!1),nextTick(()=>{const Tr=new Color({enableAlpha:Ce.showAlpha,format:Ce.colorFormat||"",value:Ce.modelValue});Tn.compare(Tr)||Un()})}function or(){Bn(!1),_e(UPDATE_MODEL_EVENT,null),_e("change",null),Ce.modelValue!==null&&Ce.validateEvent&&(Ne==null||Ne.validate("change").catch(yr=>void 0)),Un()}function fr(yr){if(wn.value&&(Fn(),bn.value)){const Tr=new FocusEvent("focus",yr);xn(Tr)}}function cr(yr){yr.preventDefault(),yr.stopPropagation(),Mn(!1),Un()}function Jn(yr){switch(yr.code){case EVENT_CODE.enter:case EVENT_CODE.space:yr.preventDefault(),yr.stopPropagation(),$n(),_n.value.focus();break;case EVENT_CODE.esc:cr(yr);break}}function mr(){hn.value.focus()}function Ir(){hn.value.blur()}return onMounted(()=>{Ce.modelValue&&(Pn.value=In.value)}),watch(()=>Ce.modelValue,yr=>{yr?yr&&yr!==Tn.value&&(Cn=!1,Tn.fromString(yr)):Ln.value=!1}),watch(()=>In.value,yr=>{Pn.value=yr,Cn&&_e("activeChange",yr),Cn=!0}),watch(()=>Tn.value,()=>{!Ce.modelValue&&!Ln.value&&(Ln.value=!0)}),watch(()=>wn.value,()=>{nextTick(()=>{var yr,Tr,Sr;(yr=Ve.value)==null||yr.update(),(Tr=qe.value)==null||Tr.update(),(Sr=En.value)==null||Sr.update()})}),provide(colorPickerContextKey,{currentColor:In}),pe({color:Tn,show:$n,hide:Fn,focus:mr,blur:Ir}),(yr,Tr)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:vn,visible:wn.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(Oe).be("picker","panel"),unref(Oe).b("dropdown"),yr.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:yr.teleported,transition:"".concat(unref(Oe).namespace.value,"-zoom-in-top"),persistent:"",onHide:Tr[2]||(Tr[2]=Sr=>Mn(!1))},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{onKeydown:withKeys(cr,["esc"])},[createBaseVNode("div",{class:normalizeClass(unref(Oe).be("dropdown","main-wrapper"))},[createVNode(HueSlider,{ref_key:"hue",ref:Ve,class:"hue-slider",color:unref(Tn),vertical:""},null,8,["color"]),createVNode(SvPanel,{ref_key:"sv",ref:qe,color:unref(Tn)},null,8,["color"])],2),yr.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:En,color:unref(Tn)},null,8,["color"])):createCommentVNode("v-if",!0),yr.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine","enable-alpha":yr.showAlpha,color:unref(Tn),colors:yr.predefine},null,8,["enable-alpha","color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Oe).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).be("dropdown","value"))},[createVNode(unref(ElInput),{ref_key:"inputRef",ref:_n,modelValue:Pn.value,"onUpdate:modelValue":Tr[0]||(Tr[0]=Sr=>Pn.value=Sr),"validate-event":!1,size:"small",onKeyup:withKeys(Wn,["enter"]),onBlur:Wn},null,8,["modelValue","onKeyup"])],2),createVNode(unref(ElButton),{class:normalizeClass(unref(Oe).be("dropdown","link-btn")),text:"",size:"small",onClick:or},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ie)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(Oe).be("dropdown","btn")),onClick:Xn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ie)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,_hoisted_1$n)),[[unref(ClickOutside),fr]])]),default:withCtx(()=>[createBaseVNode("div",mergeProps({id:unref($e),ref_key:"triggerRef",ref:hn},yr.$attrs,{class:unref(On),role:"button","aria-label":unref(Rn),"aria-labelledby":unref(Nn),"aria-description":unref(Ie)("el.colorpicker.description",{color:yr.modelValue||""}),"aria-disabled":unref(Ue),tabindex:unref(Ue)?-1:yr.tabindex,onKeydown:Jn,onFocus:Sn,onBlur:Tr[1]||(Tr[1]=(...Sr)=>unref(xn)&&unref(xn)(...Sr))}),[unref(Ue)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Oe).be("picker","trigger")),onClick:Hn},[createBaseVNode("span",{class:normalizeClass([unref(Oe).be("picker","color"),unref(Oe).is("alpha",yr.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(Oe).be("picker","color-inner")),style:normalizeStyle$1({backgroundColor:unref(kn)})},[withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(Oe).be("picker","icon"),unref(Oe).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,yr.modelValue||Ln.value]]),withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(Oe).be("picker","empty"),unref(Oe).is("icon-close")])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class"]),[[vShow,!yr.modelValue&&!Ln.value]])],6)],2)],2)],16,_hoisted_2$j)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var ColorPicker=_export_sfc(_sfc_main$C,[["__file","color-picker.vue"]]);const ElColorPicker=withInstall$1(ColorPicker),__default__$k=defineComponent({name:"ElContainer"}),_sfc_main$B=defineComponent({...__default__$k,props:{direction:{type:String}},setup(xe){const pe=xe,_e=useSlots(),Ce=useNamespace("container"),Ie=computed(()=>pe.direction==="vertical"?!0:pe.direction==="horizontal"?!1:_e&&_e.default?_e.default().some(Ne=>{const Fe=Ne.type.name;return Fe==="ElHeader"||Fe==="ElFooter"}):!1);return(Oe,Ne)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(Ce).b(),unref(Ce).is("vertical",unref(Ie))])},[renderSlot(Oe.$slots,"default")],2))}});var Container=_export_sfc(_sfc_main$B,[["__file","container.vue"]]);const __default__$j=defineComponent({name:"ElAside"}),_sfc_main$A=defineComponent({...__default__$j,props:{width:{type:String,default:null}},setup(xe){const pe=xe,_e=useNamespace("aside"),Ce=computed(()=>pe.width?_e.cssVarBlock({width:pe.width}):{});return(Ie,Oe)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(_e).b()),style:normalizeStyle$1(unref(Ce))},[renderSlot(Ie.$slots,"default")],6))}});var Aside=_export_sfc(_sfc_main$A,[["__file","aside.vue"]]);const __default__$i=defineComponent({name:"ElFooter"}),_sfc_main$z=defineComponent({...__default__$i,props:{height:{type:String,default:null}},setup(xe){const pe=xe,_e=useNamespace("footer"),Ce=computed(()=>pe.height?_e.cssVarBlock({height:pe.height}):{});return(Ie,Oe)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(_e).b()),style:normalizeStyle$1(unref(Ce))},[renderSlot(Ie.$slots,"default")],6))}});var Footer=_export_sfc(_sfc_main$z,[["__file","footer.vue"]]);const __default__$h=defineComponent({name:"ElHeader"}),_sfc_main$y=defineComponent({...__default__$h,props:{height:{type:String,default:null}},setup(xe){const pe=xe,_e=useNamespace("header"),Ce=computed(()=>pe.height?_e.cssVarBlock({height:pe.height}):{});return(Ie,Oe)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(_e).b()),style:normalizeStyle$1(unref(Ce))},[renderSlot(Ie.$slots,"default")],6))}});var Header=_export_sfc(_sfc_main$y,[["__file","header.vue"]]);const __default__$g=defineComponent({name:"ElMain"}),_sfc_main$x=defineComponent({...__default__$g,setup(xe){const pe=useNamespace("main");return(_e,Ce)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(pe).b())},[renderSlot(_e.$slots,"default")],2))}});var Main=_export_sfc(_sfc_main$x,[["__file","main.vue"]]);const ElContainer=withInstall$1(Container,{Aside,Footer,Header,Main}),ElAside=withNoopInstall(Aside);withNoopInstall(Footer);const ElHeader=withNoopInstall(Header),ElMain=withNoopInstall(Main);var advancedFormat$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){return function(_e,Ce){var Ie=Ce.prototype,Oe=Ie.format;Ie.format=function(Ne){var Fe=this,Ue=this.$locale();if(!this.isValid())return Oe.bind(this)(Ne);var $e=this.$utils(),ze=(Ne||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(Ve){switch(Ve){case"Q":return Math.ceil((Fe.$M+1)/3);case"Do":return Ue.ordinal(Fe.$D);case"gggg":return Fe.weekYear();case"GGGG":return Fe.isoWeekYear();case"wo":return Ue.ordinal(Fe.week(),"W");case"w":case"ww":return $e.s(Fe.week(),Ve==="w"?1:2,"0");case"W":case"WW":return $e.s(Fe.isoWeek(),Ve==="W"?1:2,"0");case"k":case"kk":return $e.s(String(Fe.$H===0?24:Fe.$H),Ve==="k"?1:2,"0");case"X":return Math.floor(Fe.$d.getTime()/1e3);case"x":return Fe.$d.getTime();case"z":return"["+Fe.offsetName()+"]";case"zzz":return"["+Fe.offsetName("long")+"]";default:return Ve}});return Oe.bind(this)(ze)}}})})(advancedFormat$1);var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs$1(advancedFormatExports);var weekOfYear$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){var _e="week",Ce="year";return function(Ie,Oe,Ne){var Fe=Oe.prototype;Fe.week=function(Ue){if(Ue===void 0&&(Ue=null),Ue!==null)return this.add(7*(Ue-this.week()),"day");var $e=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var ze=Ne(this).startOf(Ce).add(1,Ce).date($e),Ve=Ne(this).endOf(_e);if(ze.isBefore(Ve))return 1}var qe=Ne(this).startOf(Ce).date($e).startOf(_e).subtract(1,"millisecond"),En=this.diff(qe,_e,!0);return En<0?Ne(this).startOf("week").week():Math.ceil(En)},Fe.weeks=function(Ue){return Ue===void 0&&(Ue=null),this.week(Ue)}}})})(weekOfYear$1);var weekOfYearExports=weekOfYear$1.exports;const weekOfYear=getDefaultExportFromCjs$1(weekOfYearExports);var weekYear$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){return function(_e,Ce){Ce.prototype.weekYear=function(){var Ie=this.month(),Oe=this.week(),Ne=this.year();return Oe===1&&Ie===11?Ne+1:Ie===0&&Oe>=52?Ne-1:Ne}}})})(weekYear$1);var weekYearExports=weekYear$1.exports;const weekYear=getDefaultExportFromCjs$1(weekYearExports);var dayOfYear$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){return function(_e,Ce,Ie){Ce.prototype.dayOfYear=function(Oe){var Ne=Math.round((Ie(this).startOf("day")-Ie(this).startOf("year"))/864e5)+1;return Oe==null?Ne:this.add(Oe-Ne,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs$1(dayOfYearExports);var isSameOrAfter$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){return function(_e,Ce){Ce.prototype.isSameOrAfter=function(Ie,Oe){return this.isSame(Ie,Oe)||this.isAfter(Ie,Oe)}}})})(isSameOrAfter$1);var isSameOrAfterExports=isSameOrAfter$1.exports;const isSameOrAfter=getDefaultExportFromCjs$1(isSameOrAfterExports);var isSameOrBefore$1={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){return function(_e,Ce){Ce.prototype.isSameOrBefore=function(Ie,Oe){return this.isSame(Ie,Oe)||this.isBefore(Ie,Oe)}}})})(isSameOrBefore$1);var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs$1(isSameOrBeforeExports),ROOT_PICKER_INJECTION_KEY=Symbol(),datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","years","month","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes},dateFormat:String,timeFormat:String}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=xe=>({type:String,values:selectionModes,default:xe}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),basicDateTableEmits=["changerange","pick","select"],isValidRange=xe=>{if(!isArray$4(xe))return!1;const[pe,_e]=xe;return dayjs.isDayjs(pe)&&dayjs.isDayjs(_e)&&pe.isSameOrBefore(_e)},getDefaultValue=(xe,{lang:pe,unit:_e,unlinkPanels:Ce})=>{let Ie;if(isArray$4(xe)){let[Oe,Ne]=xe.map(Fe=>dayjs(Fe).locale(pe));return Ce||(Ne=Oe.add(1,_e)),[Oe,Ne]}else xe?Ie=dayjs(xe):Ie=dayjs();return Ie=Ie.locale(pe),[Ie,Ie.add(1,_e)]},buildPickerTable=(xe,pe,{columnIndexOffset:_e,startDate:Ce,nextEndDate:Ie,now:Oe,unit:Ne,relativeDateGetter:Fe,setCellMetadata:Ue,setRowMetadata:$e})=>{for(let ze=0;ze<xe.row;ze++){const Ve=pe[ze];for(let qe=0;qe<xe.column;qe++){let En=Ve[qe+_e];En||(En={row:ze,column:qe,type:"normal",inRange:!1,start:!1,end:!1});const vn=ze*xe.column+qe,hn=Fe(vn);En.dayjs=hn,En.date=hn.toDate(),En.timestamp=hn.valueOf(),En.type="normal",En.inRange=!!(Ce&&hn.isSameOrAfter(Ce,Ne)&&Ie&&hn.isSameOrBefore(Ie,Ne))||!!(Ce&&hn.isSameOrBefore(Ce,Ne)&&Ie&&hn.isSameOrAfter(Ie,Ne)),Ce!=null&&Ce.isSameOrAfter(Ie)?(En.start=!!Ie&&hn.isSame(Ie,Ne),En.end=Ce&&hn.isSame(Ce,Ne)):(En.start=!!Ce&&hn.isSame(Ce,Ne),En.end=!!Ie&&hn.isSame(Ie,Ne)),hn.isSame(Oe,Ne)&&(En.type="today"),Ue==null||Ue(En,{rowIndex:ze,columnIndex:qe}),Ve[qe+_e]=En}$e==null||$e(Ve)}},isNormalDay=(xe="")=>["normal","today"].includes(xe),useBasicDateTable=(xe,pe)=>{const{lang:_e}=useLocale(),Ce=ref(),Ie=ref(),Oe=ref(),Ne=ref(),Fe=ref([[],[],[],[],[],[]]);let Ue=!1;const $e=xe.date.$locale().weekStart||7,ze=xe.date.locale("en").localeData().weekdaysShort().map(Fn=>Fn.toLowerCase()),Ve=computed(()=>$e>3?7-$e:-$e),qe=computed(()=>{const Fn=xe.date.startOf("month");return Fn.subtract(Fn.day()||7,"day")}),En=computed(()=>ze.concat(ze).slice($e,$e+7)),vn=computed(()=>flatten(unref(Sn)).some(Fn=>Fn.isCurrent)),hn=computed(()=>{const Fn=xe.date.startOf("month"),Un=Fn.day()||7,Hn=Fn.daysInMonth(),Wn=Fn.subtract(1,"month").daysInMonth();return{startOfMonthDay:Un,dateCountOfMonth:Hn,dateCountOfLastMonth:Wn}}),_n=computed(()=>xe.selectionMode==="dates"?castArray(xe.parsedValue):[]),bn=(Fn,{count:Un,rowIndex:Hn,columnIndex:Wn})=>{const{startOfMonthDay:Xn,dateCountOfMonth:or,dateCountOfLastMonth:fr}=unref(hn),cr=unref(Ve);if(Hn>=0&&Hn<=1){const Jn=Xn+cr<0?7+Xn+cr:Xn+cr;if(Wn+Hn*7>=Jn)return Fn.text=Un,!0;Fn.text=fr-(Jn-Wn%7)+1+Hn*7,Fn.type="prev-month"}else return Un<=or?Fn.text=Un:(Fn.text=Un-or,Fn.type="next-month"),!0;return!1},An=(Fn,{columnIndex:Un,rowIndex:Hn},Wn)=>{const{disabledDate:Xn,cellClassName:or}=xe,fr=unref(_n),cr=bn(Fn,{count:Wn,rowIndex:Hn,columnIndex:Un}),Jn=Fn.dayjs.toDate();return Fn.selected=fr.find(mr=>mr.isSame(Fn.dayjs,"day")),Fn.isSelected=!!Fn.selected,Fn.isCurrent=Tn(Fn),Fn.disabled=Xn==null?void 0:Xn(Jn),Fn.customClass=or==null?void 0:or(Jn),cr},xn=Fn=>{if(xe.selectionMode==="week"){const[Un,Hn]=xe.showWeekNumber?[1,7]:[0,6],Wn=$n(Fn[Un+1]);Fn[Un].inRange=Wn,Fn[Un].start=Wn,Fn[Hn].inRange=Wn,Fn[Hn].end=Wn}},Sn=computed(()=>{const{minDate:Fn,maxDate:Un,rangeState:Hn,showWeekNumber:Wn}=xe,Xn=unref(Ve),or=unref(Fe),fr="day";let cr=1;if(Wn)for(let Jn=0;Jn<6;Jn++)or[Jn][0]||(or[Jn][0]={type:"week",text:unref(qe).add(Jn*7+1,fr).week()});return buildPickerTable({row:6,column:7},or,{startDate:Fn,columnIndexOffset:Wn?1:0,nextEndDate:Hn.endDate||Un||Hn.selecting&&Fn||null,now:dayjs().locale(unref(_e)).startOf(fr),unit:fr,relativeDateGetter:Jn=>unref(qe).add(Jn-Xn,fr),setCellMetadata:(...Jn)=>{An(...Jn,cr)&&(cr+=1)},setRowMetadata:xn}),or});watch(()=>xe.date,async()=>{var Fn;(Fn=unref(Ce))!=null&&Fn.contains(document.activeElement)&&(await nextTick(),await Cn())});const Cn=async()=>{var Fn;return(Fn=unref(Ie))==null?void 0:Fn.focus()},Tn=Fn=>xe.selectionMode==="date"&&isNormalDay(Fn.type)&&wn(Fn,xe.parsedValue),wn=(Fn,Un)=>Un?dayjs(Un).locale(unref(_e)).isSame(xe.date.date(Number(Fn.text)),"day"):!1,Ln=(Fn,Un)=>{const Hn=Fn*7+(Un-(xe.showWeekNumber?1:0))-unref(Ve);return unref(qe).add(Hn,"day")},Pn=Fn=>{var Un;if(!xe.rangeState.selecting)return;let Hn=Fn.target;if(Hn.tagName==="SPAN"&&(Hn=(Un=Hn.parentNode)==null?void 0:Un.parentNode),Hn.tagName==="DIV"&&(Hn=Hn.parentNode),Hn.tagName!=="TD")return;const Wn=Hn.parentNode.rowIndex-1,Xn=Hn.cellIndex;unref(Sn)[Wn][Xn].disabled||(Wn!==unref(Oe)||Xn!==unref(Ne))&&(Oe.value=Wn,Ne.value=Xn,pe("changerange",{selecting:!0,endDate:Ln(Wn,Xn)}))},kn=Fn=>!unref(vn)&&(Fn==null?void 0:Fn.text)===1&&Fn.type==="normal"||Fn.isCurrent,In=Fn=>{Ue||unref(vn)||xe.selectionMode!=="date"||Bn(Fn,!0)},Rn=Fn=>{Fn.target.closest("td")&&(Ue=!0)},Nn=Fn=>{Fn.target.closest("td")&&(Ue=!1)},On=Fn=>{!xe.rangeState.selecting||!xe.minDate?(pe("pick",{minDate:Fn,maxDate:null}),pe("select",!0)):(Fn>=xe.minDate?pe("pick",{minDate:xe.minDate,maxDate:Fn}):pe("pick",{minDate:Fn,maxDate:xe.minDate}),pe("select",!1))},Dn=Fn=>{const Un=Fn.week(),Hn="".concat(Fn.year(),"w").concat(Un);pe("pick",{year:Fn.year(),week:Un,value:Hn,date:Fn.startOf("week")})},Mn=(Fn,Un)=>{const Hn=Un?castArray(xe.parsedValue).filter(Wn=>(Wn==null?void 0:Wn.valueOf())!==Fn.valueOf()):castArray(xe.parsedValue).concat([Fn]);pe("pick",Hn)},Bn=(Fn,Un=!1)=>{const Hn=Fn.target.closest("td");if(!Hn)return;const Wn=Hn.parentNode.rowIndex-1,Xn=Hn.cellIndex,or=unref(Sn)[Wn][Xn];if(or.disabled||or.type==="week")return;const fr=Ln(Wn,Xn);switch(xe.selectionMode){case"range":{On(fr);break}case"date":{pe("pick",fr,Un);break}case"week":{Dn(fr);break}case"dates":{Mn(fr,!!or.selected);break}}},$n=Fn=>{if(xe.selectionMode!=="week")return!1;let Un=xe.date.startOf("day");if(Fn.type==="prev-month"&&(Un=Un.subtract(1,"month")),Fn.type==="next-month"&&(Un=Un.add(1,"month")),Un=Un.date(Number.parseInt(Fn.text,10)),xe.parsedValue&&!Array.isArray(xe.parsedValue)){const Hn=(xe.parsedValue.day()-$e+7)%7-1;return xe.parsedValue.subtract(Hn,"day").isSame(Un,"day")}return!1};return{WEEKS:En,rows:Sn,tbodyRef:Ce,currentCellRef:Ie,focus:Cn,isCurrent:Tn,isWeekActive:$n,isSelectedCell:kn,handlePickDate:Bn,handleMouseUp:Nn,handleMouseDown:Rn,handleMouseMove:Pn,handleFocus:In}},useBasicDateTableDOM=(xe,{isCurrent:pe,isWeekActive:_e})=>{const Ce=useNamespace("date-table"),{t:Ie}=useLocale(),Oe=computed(()=>[Ce.b(),{"is-week-mode":xe.selectionMode==="week"}]),Ne=computed(()=>Ie("el.datepicker.dateTablePrompt")),Fe=computed(()=>Ie("el.datepicker.week"));return{tableKls:Oe,tableLabel:Ne,weekLabel:Fe,getCellClasses:ze=>{const Ve=[];return isNormalDay(ze.type)&&!ze.disabled?(Ve.push("available"),ze.type==="today"&&Ve.push("today")):Ve.push(ze.type),pe(ze)&&Ve.push("current"),ze.inRange&&(isNormalDay(ze.type)||xe.selectionMode==="week")&&(Ve.push("in-range"),ze.start&&Ve.push("start-date"),ze.end&&Ve.push("end-date")),ze.disabled&&Ve.push("disabled"),ze.selected&&Ve.push("selected"),ze.customClass&&Ve.push(ze.customClass),Ve.join(" ")},getRowKls:ze=>[Ce.e("row"),{current:_e(ze)}],t:Ie}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(xe){const pe=useNamespace("date-table-cell"),{slots:_e}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:Ce}=xe;return renderSlot(_e,"default",{...Ce},()=>[createVNode("div",{class:pe.b()},[createVNode("span",{class:pe.e("text")},[Ce==null?void 0:Ce.text])])])}}});const _hoisted_1$m=["aria-label"],_hoisted_2$i={key:0,scope:"col"},_hoisted_3$b=["aria-label"],_hoisted_4$7=["aria-current","aria-selected","tabindex"],_sfc_main$w=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:basicDateTableEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,{WEEKS:Ie,rows:Oe,tbodyRef:Ne,currentCellRef:Fe,focus:Ue,isCurrent:$e,isWeekActive:ze,isSelectedCell:Ve,handlePickDate:qe,handleMouseUp:En,handleMouseDown:vn,handleMouseMove:hn,handleFocus:_n}=useBasicDateTable(Ce,_e),{tableLabel:bn,tableKls:An,weekLabel:xn,getCellClasses:Sn,getRowKls:Cn,t:Tn}=useBasicDateTableDOM(Ce,{isCurrent:$e,isWeekActive:ze});return pe({focus:Ue}),(wn,Ln)=>(openBlock(),createElementBlock("table",{"aria-label":unref(bn),class:normalizeClass(unref(An)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:Ln[1]||(Ln[1]=(...Pn)=>unref(qe)&&unref(qe)(...Pn)),onMousemove:Ln[2]||(Ln[2]=(...Pn)=>unref(hn)&&unref(hn)(...Pn)),onMousedown:Ln[3]||(Ln[3]=withModifiers((...Pn)=>unref(vn)&&unref(vn)(...Pn),["prevent"])),onMouseup:Ln[4]||(Ln[4]=(...Pn)=>unref(En)&&unref(En)(...Pn))},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:Ne},[createBaseVNode("tr",null,[wn.showWeekNumber?(openBlock(),createElementBlock("th",_hoisted_2$i,toDisplayString(unref(xn)),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Ie),(Pn,kn)=>(openBlock(),createElementBlock("th",{key:kn,"aria-label":unref(Tn)("el.datepicker.weeksFull."+Pn),scope:"col"},toDisplayString(unref(Tn)("el.datepicker.weeks."+Pn)),9,_hoisted_3$b))),128))]),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Oe),(Pn,kn)=>(openBlock(),createElementBlock("tr",{key:kn,class:normalizeClass(unref(Cn)(Pn[1]))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Pn,(In,Rn)=>(openBlock(),createElementBlock("td",{key:"".concat(kn,".").concat(Rn),ref_for:!0,ref:Nn=>unref(Ve)(In)&&(Fe.value=Nn),class:normalizeClass(unref(Sn)(In)),"aria-current":In.isCurrent?"date":void 0,"aria-selected":In.isCurrent,tabindex:unref(Ve)(In)?0:-1,onFocus:Ln[0]||(Ln[0]=(...Nn)=>unref(_n)&&unref(_n)(...Nn))},[createVNode(unref(ElDatePickerCell),{cell:In},null,8,["cell"])],42,_hoisted_4$7))),128))],2))),128))],512)],42,_hoisted_1$m))}});var DateTable=_export_sfc(_sfc_main$w,[["__file","basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$l=["aria-label"],_hoisted_2$h=["aria-selected","aria-label","tabindex","onKeydown"],_hoisted_3$a={class:"cell"},_sfc_main$v=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=(Sn,Cn,Tn)=>{const wn=dayjs().locale(Tn).startOf("month").month(Cn).year(Sn),Ln=wn.daysInMonth();return rangeArr(Ln).map(Pn=>wn.add(Pn,"day").toDate())},Oe=useNamespace("month-table"),{t:Ne,lang:Fe}=useLocale(),Ue=ref(),$e=ref(),ze=ref(Ce.date.locale("en").localeData().monthsShort().map(Sn=>Sn.toLowerCase())),Ve=ref([[],[],[]]),qe=ref(),En=ref(),vn=computed(()=>{var Sn,Cn;const Tn=Ve.value,wn=dayjs().locale(Fe.value).startOf("month");for(let Ln=0;Ln<3;Ln++){const Pn=Tn[Ln];for(let kn=0;kn<4;kn++){const In=Pn[kn]||(Pn[kn]={row:Ln,column:kn,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});In.type="normal";const Rn=Ln*4+kn,Nn=Ce.date.startOf("year").month(Rn),On=Ce.rangeState.endDate||Ce.maxDate||Ce.rangeState.selecting&&Ce.minDate||null;In.inRange=!!(Ce.minDate&&Nn.isSameOrAfter(Ce.minDate,"month")&&On&&Nn.isSameOrBefore(On,"month"))||!!(Ce.minDate&&Nn.isSameOrBefore(Ce.minDate,"month")&&On&&Nn.isSameOrAfter(On,"month")),(Sn=Ce.minDate)!=null&&Sn.isSameOrAfter(On)?(In.start=!!(On&&Nn.isSame(On,"month")),In.end=Ce.minDate&&Nn.isSame(Ce.minDate,"month")):(In.start=!!(Ce.minDate&&Nn.isSame(Ce.minDate,"month")),In.end=!!(On&&Nn.isSame(On,"month"))),wn.isSame(Nn)&&(In.type="today"),In.text=Rn,In.disabled=((Cn=Ce.disabledDate)==null?void 0:Cn.call(Ce,Nn.toDate()))||!1}}return Tn}),hn=()=>{var Sn;(Sn=$e.value)==null||Sn.focus()},_n=Sn=>{const Cn={},Tn=Ce.date.year(),wn=new Date,Ln=Sn.text;return Cn.disabled=Ce.disabledDate?Ie(Tn,Ln,Fe.value).every(Ce.disabledDate):!1,Cn.current=castArray(Ce.parsedValue).findIndex(Pn=>dayjs.isDayjs(Pn)&&Pn.year()===Tn&&Pn.month()===Ln)>=0,Cn.today=wn.getFullYear()===Tn&&wn.getMonth()===Ln,Sn.inRange&&(Cn["in-range"]=!0,Sn.start&&(Cn["start-date"]=!0),Sn.end&&(Cn["end-date"]=!0)),Cn},bn=Sn=>{const Cn=Ce.date.year(),Tn=Sn.text;return castArray(Ce.date).findIndex(wn=>wn.year()===Cn&&wn.month()===Tn)>=0},An=Sn=>{var Cn;if(!Ce.rangeState.selecting)return;let Tn=Sn.target;if(Tn.tagName==="SPAN"&&(Tn=(Cn=Tn.parentNode)==null?void 0:Cn.parentNode),Tn.tagName==="DIV"&&(Tn=Tn.parentNode),Tn.tagName!=="TD")return;const wn=Tn.parentNode.rowIndex,Ln=Tn.cellIndex;vn.value[wn][Ln].disabled||(wn!==qe.value||Ln!==En.value)&&(qe.value=wn,En.value=Ln,_e("changerange",{selecting:!0,endDate:Ce.date.startOf("year").month(wn*4+Ln)}))},xn=Sn=>{var Cn;const Tn=(Cn=Sn.target)==null?void 0:Cn.closest("td");if((Tn==null?void 0:Tn.tagName)!=="TD"||hasClass(Tn,"disabled"))return;const wn=Tn.cellIndex,Pn=Tn.parentNode.rowIndex*4+wn,kn=Ce.date.startOf("year").month(Pn);Ce.selectionMode==="range"?Ce.rangeState.selecting?(Ce.minDate&&kn>=Ce.minDate?_e("pick",{minDate:Ce.minDate,maxDate:kn}):_e("pick",{minDate:kn,maxDate:Ce.minDate}),_e("select",!1)):(_e("pick",{minDate:kn,maxDate:null}),_e("select",!0)):_e("pick",Pn)};return watch(()=>Ce.date,async()=>{var Sn,Cn;(Sn=Ue.value)!=null&&Sn.contains(document.activeElement)&&(await nextTick(),(Cn=$e.value)==null||Cn.focus())}),pe({focus:hn}),(Sn,Cn)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(Ne)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(Oe).b()),onClick:xn,onMousemove:An},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:Ue},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(vn),(Tn,wn)=>(openBlock(),createElementBlock("tr",{key:wn},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Tn,(Ln,Pn)=>(openBlock(),createElementBlock("td",{key:Pn,ref_for:!0,ref:kn=>bn(Ln)&&($e.value=kn),class:normalizeClass(_n(Ln)),"aria-selected":"".concat(bn(Ln)),"aria-label":unref(Ne)("el.datepicker.month".concat(+Ln.text+1)),tabindex:bn(Ln)?0:-1,onKeydown:[withKeys(withModifiers(xn,["prevent","stop"]),["space"]),withKeys(withModifiers(xn,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$a,toDisplayString(unref(Ne)("el.datepicker.months."+ze.value[Ln.text])),1)])],42,_hoisted_2$h))),128))]))),128))],512)],42,_hoisted_1$l))}});var MonthTable=_export_sfc(_sfc_main$v,[["__file","basic-month-table.vue"]]);const{date,disabledDate,parsedValue}=datePickerSharedProps,basicYearTableProps=buildProps({date,disabledDate,parsedValue,selectionMode:selectionModeWithDefault("year")}),_hoisted_1$k=["aria-label"],_hoisted_2$g=["aria-selected","tabindex","onKeydown"],_hoisted_3$9={class:"cell"},_hoisted_4$6={key:1},_sfc_main$u=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["pick"],setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=(hn,_n)=>{const bn=dayjs(String(hn)).locale(_n).startOf("year"),xn=bn.endOf("year").dayOfYear();return rangeArr(xn).map(Sn=>bn.add(Sn,"day").toDate())},Oe=useNamespace("year-table"),{t:Ne,lang:Fe}=useLocale(),Ue=ref(),$e=ref(),ze=computed(()=>Math.floor(Ce.date.year()/10)*10),Ve=()=>{var hn;(hn=$e.value)==null||hn.focus()},qe=hn=>{const _n={},bn=dayjs().locale(Fe.value);return _n.disabled=Ce.disabledDate?Ie(hn,Fe.value).every(Ce.disabledDate):!1,_n.current=castArray(Ce.parsedValue).findIndex(An=>An.year()===hn)>=0,_n.today=bn.year()===hn,_n},En=hn=>hn===ze.value&&Ce.date.year()<ze.value&&Ce.date.year()>ze.value+9||castArray(Ce.date).findIndex(_n=>_n.year()===hn)>=0||castArray(Ce.parsedValue).findIndex(_n=>(_n==null?void 0:_n.year())===hn)>=0,vn=hn=>{const bn=hn.target.closest("td");if(bn&&bn.textContent){if(hasClass(bn,"disabled"))return;const An=bn.textContent||bn.innerText;if(Ce.selectionMode==="years"){if(hn.type==="keydown"){_e("pick",castArray(Ce.parsedValue),!1);return}const xn=hasClass(bn,"current")?castArray(Ce.parsedValue).filter(Sn=>(Sn==null?void 0:Sn.year())!==Number(An)):castArray(Ce.parsedValue).concat([dayjs(An)]);_e("pick",xn)}else _e("pick",Number(An))}};return watch(()=>Ce.date,async()=>{var hn,_n;(hn=Ue.value)!=null&&hn.contains(document.activeElement)&&(await nextTick(),(_n=$e.value)==null||_n.focus())}),pe({focus:Ve}),(hn,_n)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(Ne)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(Oe).b()),onClick:vn},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:Ue},[(openBlock(),createElementBlock(Fragment$1,null,renderList(3,(bn,An)=>createBaseVNode("tr",{key:An},[(openBlock(),createElementBlock(Fragment$1,null,renderList(4,(xn,Sn)=>(openBlock(),createElementBlock(Fragment$1,{key:An+"_"+Sn},[An*4+Sn<10?(openBlock(),createElementBlock("td",{key:0,ref_for:!0,ref:Cn=>En(unref(ze)+An*4+Sn)&&($e.value=Cn),class:normalizeClass(["available",qe(unref(ze)+An*4+Sn)]),"aria-selected":"".concat(En(unref(ze)+An*4+Sn)),tabindex:En(unref(ze)+An*4+Sn)?0:-1,onKeydown:[withKeys(withModifiers(vn,["prevent","stop"]),["space"]),withKeys(withModifiers(vn,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$9,toDisplayString(unref(ze)+An*4+Sn),1)])],42,_hoisted_2$g)):(openBlock(),createElementBlock("td",_hoisted_4$6))],64))),64))])),64))],512)],10,_hoisted_1$k))}});var YearTable=_export_sfc(_sfc_main$u,[["__file","basic-year-table.vue"]]);const _hoisted_1$j=["onClick"],_hoisted_2$f=["aria-label"],_hoisted_3$8=["aria-label"],_hoisted_4$5=["aria-label"],_hoisted_5$4=["aria-label"],_sfc_main$t=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(xe,{emit:pe}){const _e=xe,Ce=(_r,ur,kr)=>!0,Ie=useNamespace("picker-panel"),Oe=useNamespace("date-picker"),Ne=useAttrs$1(),Fe=useSlots(),{t:Ue,lang:$e}=useLocale(),ze=inject("EP_PICKER_BASE"),Ve=inject(TOOLTIP_INJECTION_KEY),{shortcuts:qe,disabledDate:En,cellClassName:vn,defaultTime:hn}=ze.props,_n=toRef(ze.props,"defaultValue"),bn=ref(),An=ref(dayjs().locale($e.value)),xn=ref(!1);let Sn=!1;const Cn=computed(()=>dayjs(hn).locale($e.value)),Tn=computed(()=>An.value.month()),wn=computed(()=>An.value.year()),Ln=ref([]),Pn=ref(null),kn=ref(null),In=_r=>Ln.value.length>0?Ce(_r,Ln.value,_e.format||"HH:mm:ss"):!0,Rn=_r=>hn&&!Qn.value&&!xn.value&&!Sn?Cn.value.year(_r.year()).month(_r.month()).date(_r.date()):cr.value?_r.millisecond(0):_r.startOf("day"),Nn=(_r,...ur)=>{if(!_r)pe("pick",_r,...ur);else if(isArray$4(_r)){const kr=_r.map(Rn);pe("pick",kr,...ur)}else pe("pick",Rn(_r),...ur);Pn.value=null,kn.value=null,xn.value=!1,Sn=!1},On=async(_r,ur)=>{if(Un.value==="date"){_r=_r;let kr=_e.parsedValue?_e.parsedValue.year(_r.year()).month(_r.month()).date(_r.date()):_r;In(kr)||(kr=Ln.value[0][0].year(_r.year()).month(_r.month()).date(_r.date())),An.value=kr,Nn(kr,cr.value||ur),_e.type==="datetime"&&(await nextTick(),Hr())}else Un.value==="week"?Nn(_r.date):Un.value==="dates"&&Nn(_r,!0)},Dn=_r=>{const ur=_r?"add":"subtract";An.value=An.value[ur](1,"month"),Ur("month")},Mn=_r=>{const ur=An.value,kr=_r?"add":"subtract";An.value=Bn.value==="year"?ur[kr](10,"year"):ur[kr](1,"year"),Ur("year")},Bn=ref("date"),$n=computed(()=>{const _r=Ue("el.datepicker.year");if(Bn.value==="year"){const ur=Math.floor(wn.value/10)*10;return _r?"".concat(ur," ").concat(_r," - ").concat(ur+9," ").concat(_r):"".concat(ur," - ").concat(ur+9)}return"".concat(wn.value," ").concat(_r)}),Fn=_r=>{const ur=isFunction$2(_r.value)?_r.value():_r.value;if(ur){Sn=!0,Nn(dayjs(ur).locale($e.value));return}_r.onClick&&_r.onClick({attrs:Ne,slots:Fe,emit:pe})},Un=computed(()=>{const{type:_r}=_e;return["week","month","year","years","dates"].includes(_r)?_r:"date"}),Hn=computed(()=>Un.value==="date"?Bn.value:Un.value),Wn=computed(()=>!!qe.length),Xn=async _r=>{An.value=An.value.startOf("month").month(_r),Un.value==="month"?Nn(An.value,!1):(Bn.value="date",["month","year","date","week"].includes(Un.value)&&(Nn(An.value,!0),await nextTick(),Hr())),Ur("month")},or=async(_r,ur)=>{Un.value==="year"?(An.value=An.value.startOf("year").year(_r),Nn(An.value,!1)):Un.value==="years"?Nn(_r,ur!=null?ur:!0):(An.value=An.value.year(_r),Bn.value="month",["month","year","date","week"].includes(Un.value)&&(Nn(An.value,!0),await nextTick(),Hr())),Ur("year")},fr=async _r=>{Bn.value=_r,await nextTick(),Hr()},cr=computed(()=>_e.type==="datetime"||_e.type==="datetimerange"),Jn=computed(()=>{const _r=cr.value||Un.value==="dates",ur=Un.value==="years",kr=Bn.value==="date",lr=Bn.value==="year";return _r&&kr||ur&&lr}),mr=computed(()=>En?_e.parsedValue?isArray$4(_e.parsedValue)?En(_e.parsedValue[0].toDate()):En(_e.parsedValue.toDate()):!0:!1),Ir=()=>{if(Un.value==="dates"||Un.value==="years")Nn(_e.parsedValue);else{let _r=_e.parsedValue;if(!_r){const ur=dayjs(hn).locale($e.value),kr=Or();_r=ur.year(kr.year()).month(kr.month()).date(kr.date())}An.value=_r,Nn(_r)}},yr=computed(()=>En?En(dayjs().locale($e.value).toDate()):!1),Tr=()=>{const ur=dayjs().locale($e.value).toDate();xn.value=!0,(!En||!En(ur))&&In(ur)&&(An.value=dayjs().locale($e.value),Nn(An.value))},Sr=computed(()=>_e.timeFormat||extractTimeFormat(_e.format)),Yn=computed(()=>_e.dateFormat||extractDateFormat(_e.format)),Qn=computed(()=>{if(kn.value)return kn.value;if(!(!_e.parsedValue&&!_n.value))return(_e.parsedValue||An.value).format(Sr.value)}),rr=computed(()=>{if(Pn.value)return Pn.value;if(!(!_e.parsedValue&&!_n.value))return(_e.parsedValue||An.value).format(Yn.value)}),gr=ref(!1),Ar=()=>{gr.value=!0},Br=()=>{gr.value=!1},Vr=_r=>({hour:_r.hour(),minute:_r.minute(),second:_r.second(),year:_r.year(),month:_r.month(),date:_r.date()}),Fr=(_r,ur,kr)=>{const{hour:lr,minute:br,second:Mr}=Vr(_r),vr=_e.parsedValue?_e.parsedValue.hour(lr).minute(br).second(Mr):_r;An.value=vr,Nn(An.value,!0),kr||(gr.value=ur)},Er=_r=>{const ur=dayjs(_r,Sr.value).locale($e.value);if(ur.isValid()&&In(ur)){const{year:kr,month:lr,date:br}=Vr(An.value);An.value=ur.year(kr).month(lr).date(br),kn.value=null,gr.value=!1,Nn(An.value,!0)}},Dr=_r=>{const ur=dayjs(_r,Yn.value).locale($e.value);if(ur.isValid()){if(En&&En(ur.toDate()))return;const{hour:kr,minute:lr,second:br}=Vr(An.value);An.value=ur.hour(kr).minute(lr).second(br),Pn.value=null,Nn(An.value,!0)}},Pr=_r=>dayjs.isDayjs(_r)&&_r.isValid()&&(En?!En(_r.toDate()):!0),$r=_r=>isArray$4(_r)?_r.map(ur=>ur.format(_e.format)):_r.format(_e.format),Lr=_r=>dayjs(_r,_e.format).locale($e.value),Or=()=>{const _r=dayjs(_n.value).locale($e.value);if(!_n.value){const ur=Cn.value;return dayjs().hour(ur.hour()).minute(ur.minute()).second(ur.second()).locale($e.value)}return _r},Hr=async()=>{var _r;["week","month","year","date"].includes(Un.value)&&((_r=bn.value)==null||_r.focus(),Un.value==="week"&&ao(EVENT_CODE.down))},qr=_r=>{const{code:ur}=_r;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(ur)&&(ao(ur),_r.stopPropagation(),_r.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(ur)&&Pn.value===null&&kn.value===null&&(_r.preventDefault(),Nn(An.value,!1))},ao=_r=>{var ur;const{up:kr,down:lr,left:br,right:Mr,home:vr,end:jr,pageUp:Gr,pageDown:zr}=EVENT_CODE,to={year:{[kr]:-4,[lr]:4,[br]:-1,[Mr]:1,offset:(oo,Eo)=>oo.setFullYear(oo.getFullYear()+Eo)},month:{[kr]:-4,[lr]:4,[br]:-1,[Mr]:1,offset:(oo,Eo)=>oo.setMonth(oo.getMonth()+Eo)},week:{[kr]:-1,[lr]:1,[br]:-1,[Mr]:1,offset:(oo,Eo)=>oo.setDate(oo.getDate()+Eo*7)},date:{[kr]:-7,[lr]:7,[br]:-1,[Mr]:1,[vr]:oo=>-oo.getDay(),[jr]:oo=>-oo.getDay()+6,[Gr]:oo=>-new Date(oo.getFullYear(),oo.getMonth(),0).getDate(),[zr]:oo=>new Date(oo.getFullYear(),oo.getMonth()+1,0).getDate(),offset:(oo,Eo)=>oo.setDate(oo.getDate()+Eo)}},no=An.value.toDate();for(;Math.abs(An.value.diff(no,"year",!0))<1;){const oo=to[Hn.value];if(!oo)return;if(oo.offset(no,isFunction$2(oo[_r])?oo[_r](no):(ur=oo[_r])!=null?ur:0),En&&En(no))break;const Eo=dayjs(no).locale($e.value);An.value=Eo,pe("pick",Eo,!0);break}},Ur=_r=>{pe("panel-change",An.value.toDate(),_r,Bn.value)};return watch(()=>Un.value,_r=>{if(["month","year"].includes(_r)){Bn.value=_r;return}else if(_r==="years"){Bn.value="year";return}Bn.value="date"},{immediate:!0}),watch(()=>Bn.value,()=>{Ve==null||Ve.updatePopper()}),watch(()=>_n.value,_r=>{_r&&(An.value=Or())},{immediate:!0}),watch(()=>_e.parsedValue,_r=>{if(_r){if(Un.value==="dates"||Un.value==="years"||Array.isArray(_r))return;An.value=_r}else An.value=Or()},{immediate:!0}),pe("set-picker-option",["isValidValue",Pr]),pe("set-picker-option",["formatToString",$r]),pe("set-picker-option",["parseUserInput",Lr]),pe("set-picker-option",["handleFocusPicker",Hr]),(_r,ur)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ie).b(),unref(Oe).b(),{"has-sidebar":_r.$slots.sidebar||unref(Wn),"has-time":unref(cr)}])},[createBaseVNode("div",{class:normalizeClass(unref(Ie).e("body-wrapper"))},[renderSlot(_r.$slots,"sidebar",{class:normalizeClass(unref(Ie).e("sidebar"))}),unref(Wn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ie).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(qe),(kr,lr)=>(openBlock(),createElementBlock("button",{key:lr,type:"button",class:normalizeClass(unref(Ie).e("shortcut")),onClick:br=>Fn(kr)},toDisplayString(kr.text),11,_hoisted_1$j))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ie).e("body"))},[unref(cr)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(Ue)("el.datepicker.selectDate"),"model-value":unref(rr),size:"small","validate-event":!1,onInput:ur[0]||(ur[0]=kr=>Pn.value=kr),onChange:Dr},null,8,["placeholder","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Oe).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(Ue)("el.datepicker.selectTime"),"model-value":unref(Qn),size:"small","validate-event":!1,onFocus:Ar,onInput:ur[1]||(ur[1]=kr=>kn.value=kr),onChange:Er},null,8,["placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:gr.value,format:unref(Sr),"parsed-value":An.value,onPick:Fr},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Br]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(Oe).e("header"),(Bn.value==="year"||Bn.value==="month")&&unref(Oe).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(Ue)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(Ie).e("icon-btn")]),onClick:ur[2]||(ur[2]=kr=>Mn(!1))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_2$f),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(Ue)("el.datepicker.prevMonth"),class:normalizeClass([unref(Ie).e("icon-btn"),"arrow-left"]),onClick:ur[3]||(ur[3]=kr=>Dn(!1))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_3$8),[[vShow,Bn.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(Oe).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:ur[4]||(ur[4]=withKeys(kr=>fr("year"),["enter"])),onClick:ur[5]||(ur[5]=kr=>fr("year"))},toDisplayString(unref($n)),35),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(Oe).e("header-label"),{active:Bn.value==="month"}]),onKeydown:ur[6]||(ur[6]=withKeys(kr=>fr("month"),["enter"])),onClick:ur[7]||(ur[7]=kr=>fr("month"))},toDisplayString(unref(Ue)("el.datepicker.month".concat(unref(Tn)+1))),35),[[vShow,Bn.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(Oe).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(Ue)("el.datepicker.nextMonth"),class:normalizeClass([unref(Ie).e("icon-btn"),"arrow-right"]),onClick:ur[8]||(ur[8]=kr=>Dn(!0))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_4$5),[[vShow,Bn.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(Ue)("el.datepicker.nextYear"),class:normalizeClass([unref(Ie).e("icon-btn"),"d-arrow-right"]),onClick:ur[9]||(ur[9]=kr=>Mn(!0))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_5$4)],2)],2),[[vShow,Bn.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref(Ie).e("content")),onKeydown:qr},[Bn.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:bn,"selection-mode":unref(Un),date:An.value,"parsed-value":_r.parsedValue,"disabled-date":unref(En),"cell-class-name":unref(vn),onPick:On},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),Bn.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:bn,"selection-mode":unref(Un),date:An.value,"disabled-date":unref(En),"parsed-value":_r.parsedValue,onPick:or},null,8,["selection-mode","date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),Bn.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:bn,date:An.value,"parsed-value":_r.parsedValue,"disabled-date":unref(En),onPick:Xn},null,8,["date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(Ie).e("footer"))},[withDirectives(createVNode(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(Ie).e("link-btn")),disabled:unref(yr),onClick:Tr},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ue)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vShow,unref(Un)!=="dates"&&unref(Un)!=="years"]]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(Ie).e("link-btn")),disabled:unref(mr),onClick:Ir},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ue)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[vShow,unref(Jn)]])],2))}});var DatePickPanel=_export_sfc(_sfc_main$t,[["__file","panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=xe=>{const{emit:pe}=getCurrentInstance(),_e=useAttrs$1(),Ce=useSlots();return Oe=>{const Ne=isFunction$2(Oe.value)?Oe.value():Oe.value;if(Ne){pe("pick",[dayjs(Ne[0]).locale(xe.value),dayjs(Ne[1]).locale(xe.value)]);return}Oe.onClick&&Oe.onClick({attrs:_e,slots:Ce,emit:pe})}},useRangePicker=(xe,{defaultValue:pe,leftDate:_e,rightDate:Ce,unit:Ie,onParsedValueChanged:Oe})=>{const{emit:Ne}=getCurrentInstance(),{pickerNs:Fe}=inject(ROOT_PICKER_INJECTION_KEY),Ue=useNamespace("date-range-picker"),{t:$e,lang:ze}=useLocale(),Ve=useShortcut(ze),qe=ref(),En=ref(),vn=ref({endDate:null,selecting:!1}),hn=xn=>{vn.value=xn},_n=(xn=!1)=>{const Sn=unref(qe),Cn=unref(En);isValidRange([Sn,Cn])&&Ne("pick",[Sn,Cn],xn)},bn=xn=>{vn.value.selecting=xn,xn||(vn.value.endDate=null)},An=()=>{const[xn,Sn]=getDefaultValue(unref(pe),{lang:unref(ze),unit:Ie,unlinkPanels:xe.unlinkPanels});qe.value=void 0,En.value=void 0,_e.value=xn,Ce.value=Sn};return watch(pe,xn=>{xn&&An()},{immediate:!0}),watch(()=>xe.parsedValue,xn=>{if(isArray$4(xn)&&xn.length===2){const[Sn,Cn]=xn;qe.value=Sn,_e.value=Sn,En.value=Cn,Oe(unref(qe),unref(En))}else An()},{immediate:!0}),{minDate:qe,maxDate:En,rangeState:vn,lang:ze,ppNs:Fe,drpNs:Ue,handleChangeRange:hn,handleRangeConfirm:_n,handleShortcutClick:Ve,onSelect:bn,t:$e}},_hoisted_1$i=["onClick"],_hoisted_2$e=["aria-label"],_hoisted_3$7=["aria-label"],_hoisted_4$4=["disabled","aria-label"],_hoisted_5$3=["disabled","aria-label"],_hoisted_6$1=["disabled","aria-label"],_hoisted_7=["disabled","aria-label"],_hoisted_8=["aria-label"],_hoisted_9=["aria-label"],unit$1="month",_sfc_main$s=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(xe,{emit:pe}){const _e=xe,Ce=inject("EP_PICKER_BASE"),{disabledDate:Ie,cellClassName:Oe,defaultTime:Ne,clearable:Fe}=Ce.props,Ue=toRef(Ce.props,"format"),$e=toRef(Ce.props,"shortcuts"),ze=toRef(Ce.props,"defaultValue"),{lang:Ve}=useLocale(),qe=ref(dayjs().locale(Ve.value)),En=ref(dayjs().locale(Ve.value).add(1,unit$1)),{minDate:vn,maxDate:hn,rangeState:_n,ppNs:bn,drpNs:An,handleChangeRange:xn,handleRangeConfirm:Sn,handleShortcutClick:Cn,onSelect:Tn,t:wn}=useRangePicker(_e,{defaultValue:ze,leftDate:qe,rightDate:En,unit:unit$1,onParsedValueChanged:ur}),Ln=ref({min:null,max:null}),Pn=ref({min:null,max:null}),kn=computed(()=>"".concat(qe.value.year()," ").concat(wn("el.datepicker.year")," ").concat(wn("el.datepicker.month".concat(qe.value.month()+1)))),In=computed(()=>"".concat(En.value.year()," ").concat(wn("el.datepicker.year")," ").concat(wn("el.datepicker.month".concat(En.value.month()+1)))),Rn=computed(()=>qe.value.year()),Nn=computed(()=>qe.value.month()),On=computed(()=>En.value.year()),Dn=computed(()=>En.value.month()),Mn=computed(()=>!!$e.value.length),Bn=computed(()=>Ln.value.min!==null?Ln.value.min:vn.value?vn.value.format(Wn.value):""),$n=computed(()=>Ln.value.max!==null?Ln.value.max:hn.value||vn.value?(hn.value||vn.value).format(Wn.value):""),Fn=computed(()=>Pn.value.min!==null?Pn.value.min:vn.value?vn.value.format(Hn.value):""),Un=computed(()=>Pn.value.max!==null?Pn.value.max:hn.value||vn.value?(hn.value||vn.value).format(Hn.value):""),Hn=computed(()=>_e.timeFormat||extractTimeFormat(Ue.value)),Wn=computed(()=>_e.dateFormat||extractDateFormat(Ue.value)),Xn=kr=>isValidRange(kr)&&(Ie?!Ie(kr[0].toDate())&&!Ie(kr[1].toDate()):!0),or=()=>{qe.value=qe.value.subtract(1,"year"),_e.unlinkPanels||(En.value=qe.value.add(1,"month")),Sr("year")},fr=()=>{qe.value=qe.value.subtract(1,"month"),_e.unlinkPanels||(En.value=qe.value.add(1,"month")),Sr("month")},cr=()=>{_e.unlinkPanels?En.value=En.value.add(1,"year"):(qe.value=qe.value.add(1,"year"),En.value=qe.value.add(1,"month")),Sr("year")},Jn=()=>{_e.unlinkPanels?En.value=En.value.add(1,"month"):(qe.value=qe.value.add(1,"month"),En.value=qe.value.add(1,"month")),Sr("month")},mr=()=>{qe.value=qe.value.add(1,"year"),Sr("year")},Ir=()=>{qe.value=qe.value.add(1,"month"),Sr("month")},yr=()=>{En.value=En.value.subtract(1,"year"),Sr("year")},Tr=()=>{En.value=En.value.subtract(1,"month"),Sr("month")},Sr=kr=>{pe("panel-change",[qe.value.toDate(),En.value.toDate()],kr)},Yn=computed(()=>{const kr=(Nn.value+1)%12,lr=Nn.value+1>=12?1:0;return _e.unlinkPanels&&new Date(Rn.value+lr,kr)<new Date(On.value,Dn.value)}),Qn=computed(()=>_e.unlinkPanels&&On.value*12+Dn.value-(Rn.value*12+Nn.value+1)>=12),rr=computed(()=>!(vn.value&&hn.value&&!_n.value.selecting&&isValidRange([vn.value,hn.value]))),gr=computed(()=>_e.type==="datetime"||_e.type==="datetimerange"),Ar=(kr,lr)=>{if(kr)return Ne?dayjs(Ne[lr]||Ne).locale(Ve.value).year(kr.year()).month(kr.month()).date(kr.date()):kr},Br=(kr,lr=!0)=>{const br=kr.minDate,Mr=kr.maxDate,vr=Ar(br,0),jr=Ar(Mr,1);hn.value===jr&&vn.value===vr||(pe("calendar-change",[br.toDate(),Mr&&Mr.toDate()]),hn.value=jr,vn.value=vr,!(!lr||gr.value)&&Sn())},Vr=ref(!1),Fr=ref(!1),Er=()=>{Vr.value=!1},Dr=()=>{Fr.value=!1},Pr=(kr,lr)=>{Ln.value[lr]=kr;const br=dayjs(kr,Wn.value).locale(Ve.value);if(br.isValid()){if(Ie&&Ie(br.toDate()))return;lr==="min"?(qe.value=br,vn.value=(vn.value||qe.value).year(br.year()).month(br.month()).date(br.date()),!_e.unlinkPanels&&(!hn.value||hn.value.isBefore(vn.value))&&(En.value=br.add(1,"month"),hn.value=vn.value.add(1,"month"))):(En.value=br,hn.value=(hn.value||En.value).year(br.year()).month(br.month()).date(br.date()),!_e.unlinkPanels&&(!vn.value||vn.value.isAfter(hn.value))&&(qe.value=br.subtract(1,"month"),vn.value=hn.value.subtract(1,"month")))}},$r=(kr,lr)=>{Ln.value[lr]=null},Lr=(kr,lr)=>{Pn.value[lr]=kr;const br=dayjs(kr,Hn.value).locale(Ve.value);br.isValid()&&(lr==="min"?(Vr.value=!0,vn.value=(vn.value||qe.value).hour(br.hour()).minute(br.minute()).second(br.second())):(Fr.value=!0,hn.value=(hn.value||En.value).hour(br.hour()).minute(br.minute()).second(br.second()),En.value=hn.value))},Or=(kr,lr)=>{Pn.value[lr]=null,lr==="min"?(qe.value=vn.value,Vr.value=!1,(!hn.value||hn.value.isBefore(vn.value))&&(hn.value=vn.value)):(En.value=hn.value,Fr.value=!1,hn.value&&hn.value.isBefore(vn.value)&&(vn.value=hn.value))},Hr=(kr,lr,br)=>{Pn.value.min||(kr&&(qe.value=kr,vn.value=(vn.value||qe.value).hour(kr.hour()).minute(kr.minute()).second(kr.second())),br||(Vr.value=lr),(!hn.value||hn.value.isBefore(vn.value))&&(hn.value=vn.value,En.value=kr))},qr=(kr,lr,br)=>{Pn.value.max||(kr&&(En.value=kr,hn.value=(hn.value||En.value).hour(kr.hour()).minute(kr.minute()).second(kr.second())),br||(Fr.value=lr),hn.value&&hn.value.isBefore(vn.value)&&(vn.value=hn.value))},ao=()=>{qe.value=getDefaultValue(unref(ze),{lang:unref(Ve),unit:"month",unlinkPanels:_e.unlinkPanels})[0],En.value=qe.value.add(1,"month"),hn.value=void 0,vn.value=void 0,pe("pick",null)},Ur=kr=>isArray$4(kr)?kr.map(lr=>lr.format(Ue.value)):kr.format(Ue.value),_r=kr=>isArray$4(kr)?kr.map(lr=>dayjs(lr,Ue.value).locale(Ve.value)):dayjs(kr,Ue.value).locale(Ve.value);function ur(kr,lr){if(_e.unlinkPanels&&lr){const br=(kr==null?void 0:kr.year())||0,Mr=(kr==null?void 0:kr.month())||0,vr=lr.year(),jr=lr.month();En.value=br===vr&&Mr===jr?lr.add(1,unit$1):lr}else En.value=qe.value.add(1,unit$1),lr&&(En.value=En.value.hour(lr.hour()).minute(lr.minute()).second(lr.second()))}return pe("set-picker-option",["isValidValue",Xn]),pe("set-picker-option",["parseUserInput",_r]),pe("set-picker-option",["formatToString",Ur]),pe("set-picker-option",["handleClear",ao]),(kr,lr)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(bn).b(),unref(An).b(),{"has-sidebar":kr.$slots.sidebar||unref(Mn),"has-time":unref(gr)}])},[createBaseVNode("div",{class:normalizeClass(unref(bn).e("body-wrapper"))},[renderSlot(kr.$slots,"sidebar",{class:normalizeClass(unref(bn).e("sidebar"))}),unref(Mn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(bn).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref($e),(br,Mr)=>(openBlock(),createElementBlock("button",{key:Mr,type:"button",class:normalizeClass(unref(bn).e("shortcut")),onClick:vr=>unref(Cn)(br)},toDisplayString(br.text),11,_hoisted_1$i))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(bn).e("body"))},[unref(gr)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(An).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(An).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(An).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",disabled:unref(_n).selecting,placeholder:unref(wn)("el.datepicker.startDate"),class:normalizeClass(unref(An).e("editor")),"model-value":unref(Bn),"validate-event":!1,onInput:lr[0]||(lr[0]=br=>Pr(br,"min")),onChange:lr[1]||(lr[1]=br=>$r(br,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(An).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(An).e("editor")),disabled:unref(_n).selecting,placeholder:unref(wn)("el.datepicker.startTime"),"model-value":unref(Fn),"validate-event":!1,onFocus:lr[2]||(lr[2]=br=>Vr.value=!0),onInput:lr[3]||(lr[3]=br=>Lr(br,"min")),onChange:lr[4]||(lr[4]=br=>Or(br,"min"))},null,8,["class","disabled","placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:Vr.value,format:unref(Hn),"datetime-role":"start","parsed-value":qe.value,onPick:Hr},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Er]])],2),createBaseVNode("span",null,[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(An).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(An).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(An).e("editor")),disabled:unref(_n).selecting,placeholder:unref(wn)("el.datepicker.endDate"),"model-value":unref($n),readonly:!unref(vn),"validate-event":!1,onInput:lr[5]||(lr[5]=br=>Pr(br,"max")),onChange:lr[6]||(lr[6]=br=>$r(br,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(An).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(An).e("editor")),disabled:unref(_n).selecting,placeholder:unref(wn)("el.datepicker.endTime"),"model-value":unref(Un),readonly:!unref(vn),"validate-event":!1,onFocus:lr[7]||(lr[7]=br=>unref(vn)&&(Fr.value=!0)),onInput:lr[8]||(lr[8]=br=>Lr(br,"max")),onChange:lr[9]||(lr[9]=br=>Or(br,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode(unref(TimePickPanel),{"datetime-role":"end",visible:Fr.value,format:unref(Hn),"parsed-value":En.value,onPick:qr},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Dr]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(bn).e("content"),unref(An).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(An).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(bn).e("icon-btn"),"d-arrow-left"]),"aria-label":unref(wn)("el.datepicker.prevYear"),onClick:or},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_2$e),createBaseVNode("button",{type:"button",class:normalizeClass([unref(bn).e("icon-btn"),"arrow-left"]),"aria-label":unref(wn)("el.datepicker.prevMonth"),onClick:fr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_3$7),kr.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Qn),class:normalizeClass([[unref(bn).e("icon-btn"),{"is-disabled":!unref(Qn)}],"d-arrow-right"]),"aria-label":unref(wn)("el.datepicker.nextYear"),onClick:mr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_4$4)):createCommentVNode("v-if",!0),kr.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Yn),class:normalizeClass([[unref(bn).e("icon-btn"),{"is-disabled":!unref(Yn)}],"arrow-right"]),"aria-label":unref(wn)("el.datepicker.nextMonth"),onClick:Ir},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_5$3)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(kn)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:qe.value,"min-date":unref(vn),"max-date":unref(hn),"range-state":unref(_n),"disabled-date":unref(Ie),"cell-class-name":unref(Oe),onChangerange:unref(xn),onPick:Br,onSelect:unref(Tn)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(bn).e("content"),unref(An).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(An).e("header"))},[kr.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Qn),class:normalizeClass([[unref(bn).e("icon-btn"),{"is-disabled":!unref(Qn)}],"d-arrow-left"]),"aria-label":unref(wn)("el.datepicker.prevYear"),onClick:yr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_6$1)):createCommentVNode("v-if",!0),kr.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Yn),class:normalizeClass([[unref(bn).e("icon-btn"),{"is-disabled":!unref(Yn)}],"arrow-left"]),"aria-label":unref(wn)("el.datepicker.prevMonth"),onClick:Tr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],10,_hoisted_7)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button","aria-label":unref(wn)("el.datepicker.nextYear"),class:normalizeClass([unref(bn).e("icon-btn"),"d-arrow-right"]),onClick:cr},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_8),createBaseVNode("button",{type:"button",class:normalizeClass([unref(bn).e("icon-btn"),"arrow-right"]),"aria-label":unref(wn)("el.datepicker.nextMonth"),onClick:Jn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],10,_hoisted_9),createBaseVNode("div",null,toDisplayString(unref(In)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:En.value,"min-date":unref(vn),"max-date":unref(hn),"range-state":unref(_n),"disabled-date":unref(Ie),"cell-class-name":unref(Oe),onChangerange:unref(xn),onPick:Br,onSelect:unref(Tn)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(gr)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(bn).e("footer"))},[unref(Fe)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(bn).e("link-btn")),onClick:ao},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(wn)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(bn).e("link-btn")),disabled:unref(rr),onClick:lr[10]||(lr[10]=br=>unref(Sn)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(wn)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc(_sfc_main$s,[["__file","panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option","calendar-change"],useMonthRangeHeader=({unlinkPanels:xe,leftDate:pe,rightDate:_e})=>{const{t:Ce}=useLocale(),Ie=()=>{pe.value=pe.value.subtract(1,"year"),xe.value||(_e.value=_e.value.subtract(1,"year"))},Oe=()=>{xe.value||(pe.value=pe.value.add(1,"year")),_e.value=_e.value.add(1,"year")},Ne=()=>{pe.value=pe.value.add(1,"year")},Fe=()=>{_e.value=_e.value.subtract(1,"year")},Ue=computed(()=>"".concat(pe.value.year()," ").concat(Ce("el.datepicker.year"))),$e=computed(()=>"".concat(_e.value.year()," ").concat(Ce("el.datepicker.year"))),ze=computed(()=>pe.value.year()),Ve=computed(()=>_e.value.year()===pe.value.year()?pe.value.year()+1:_e.value.year());return{leftPrevYear:Ie,rightNextYear:Oe,leftNextYear:Ne,rightPrevYear:Fe,leftLabel:Ue,rightLabel:$e,leftYear:ze,rightYear:Ve}},_hoisted_1$h=["onClick"],_hoisted_2$d=["disabled"],_hoisted_3$6=["disabled"],unit="year",__default__$f=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$r=defineComponent({...__default__$f,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(xe,{emit:pe}){const _e=xe,{lang:Ce}=useLocale(),Ie=inject("EP_PICKER_BASE"),{shortcuts:Oe,disabledDate:Ne}=Ie.props,Fe=toRef(Ie.props,"format"),Ue=toRef(Ie.props,"defaultValue"),$e=ref(dayjs().locale(Ce.value)),ze=ref(dayjs().locale(Ce.value).add(1,unit)),{minDate:Ve,maxDate:qe,rangeState:En,ppNs:vn,drpNs:hn,handleChangeRange:_n,handleRangeConfirm:bn,handleShortcutClick:An,onSelect:xn}=useRangePicker(_e,{defaultValue:Ue,leftDate:$e,rightDate:ze,unit,onParsedValueChanged:Mn}),Sn=computed(()=>!!Oe.length),{leftPrevYear:Cn,rightNextYear:Tn,leftNextYear:wn,rightPrevYear:Ln,leftLabel:Pn,rightLabel:kn,leftYear:In,rightYear:Rn}=useMonthRangeHeader({unlinkPanels:toRef(_e,"unlinkPanels"),leftDate:$e,rightDate:ze}),Nn=computed(()=>_e.unlinkPanels&&Rn.value>In.value+1),On=(Bn,$n=!0)=>{const Fn=Bn.minDate,Un=Bn.maxDate;qe.value===Un&&Ve.value===Fn||(pe("calendar-change",[Fn.toDate(),Un&&Un.toDate()]),qe.value=Un,Ve.value=Fn,$n&&bn())},Dn=Bn=>Bn.map($n=>$n.format(Fe.value));function Mn(Bn,$n){if(_e.unlinkPanels&&$n){const Fn=(Bn==null?void 0:Bn.year())||0,Un=$n.year();ze.value=Fn===Un?$n.add(1,unit):$n}else ze.value=$e.value.add(1,unit)}return pe("set-picker-option",["formatToString",Dn]),(Bn,$n)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(vn).b(),unref(hn).b(),{"has-sidebar":!!Bn.$slots.sidebar||unref(Sn)}])},[createBaseVNode("div",{class:normalizeClass(unref(vn).e("body-wrapper"))},[renderSlot(Bn.$slots,"sidebar",{class:normalizeClass(unref(vn).e("sidebar"))}),unref(Sn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(vn).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Oe),(Fn,Un)=>(openBlock(),createElementBlock("button",{key:Un,type:"button",class:normalizeClass(unref(vn).e("shortcut")),onClick:Hn=>unref(An)(Fn)},toDisplayString(Fn.text),11,_hoisted_1$h))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(vn).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(vn).e("content"),unref(hn).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(hn).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(vn).e("icon-btn"),"d-arrow-left"]),onClick:$n[0]||($n[0]=(...Fn)=>unref(Cn)&&unref(Cn)(...Fn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],2),Bn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Nn),class:normalizeClass([[unref(vn).e("icon-btn"),{[unref(vn).is("disabled")]:!unref(Nn)}],"d-arrow-right"]),onClick:$n[1]||($n[1]=(...Fn)=>unref(wn)&&unref(wn)(...Fn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$d)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Pn)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:$e.value,"min-date":unref(Ve),"max-date":unref(qe),"range-state":unref(En),"disabled-date":unref(Ne),onChangerange:unref(_n),onPick:On,onSelect:unref(xn)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(vn).e("content"),unref(hn).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(hn).e("header"))},[Bn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Nn),class:normalizeClass([[unref(vn).e("icon-btn"),{"is-disabled":!unref(Nn)}],"d-arrow-left"]),onClick:$n[2]||($n[2]=(...Fn)=>unref(Ln)&&unref(Ln)(...Fn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_left_default))]),_:1})],10,_hoisted_3$6)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(vn).e("icon-btn"),"d-arrow-right"]),onClick:$n[3]||($n[3]=(...Fn)=>unref(Tn)&&unref(Tn)(...Fn))},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString(unref(kn)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:ze.value,"min-date":unref(Ve),"max-date":unref(qe),"range-state":unref(En),"disabled-date":unref(Ne),onChangerange:unref(_n),onPick:On,onSelect:unref(xn)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc(_sfc_main$r,[["__file","panel-month-range.vue"]]);const getPanel=function(xe){switch(xe){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData);dayjs.extend(advancedFormat);dayjs.extend(customParseFormat);dayjs.extend(weekOfYear);dayjs.extend(weekYear);dayjs.extend(dayOfYear);dayjs.extend(isSameOrAfter);dayjs.extend(isSameOrBefore);var DatePicker$1=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:["update:modelValue"],setup(xe,{expose:pe,emit:_e,slots:Ce}){const Ie=useNamespace("picker-panel");provide("ElPopperOptions",reactive(toRef(xe,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:Ce,pickerNs:Ie});const Oe=ref();pe({focus:(Ue=!0)=>{var $e;($e=Oe.value)==null||$e.focus(Ue)},handleOpen:()=>{var Ue;(Ue=Oe.value)==null||Ue.handleOpen()},handleClose:()=>{var Ue;(Ue=Oe.value)==null||Ue.handleClose()}});const Fe=Ue=>{_e("update:modelValue",Ue)};return()=>{var Ue;const $e=(Ue=xe.format)!=null?Ue:DEFAULT_FORMATS_DATEPICKER[xe.type]||DEFAULT_FORMATS_DATE,ze=getPanel(xe.type);return createVNode(CommonPicker,mergeProps(xe,{format:$e,type:xe.type,ref:Oe,"onUpdate:modelValue":Fe}),{default:Ve=>createVNode(ze,Ve,null),"range-separator":Ce["range-separator"]})}}});const _DatePicker=DatePicker$1;_DatePicker.install=xe=>{xe.component(_DatePicker.name,_DatePicker)};const ElDatePicker=_DatePicker,overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:xe=>xe instanceof MouseEvent},BLOCK="overlay";var Overlay=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(xe,{slots:pe,emit:_e}){const Ce=useNamespace(BLOCK),Ie=Ue=>{_e("click",Ue)},{onClick:Oe,onMousedown:Ne,onMouseup:Fe}=useSameTarget(xe.customMaskEvent?void 0:Ie);return()=>xe.mask?createVNode("div",{class:[Ce.b(),xe.overlayClass],style:{zIndex:xe.zIndex},onClick:Oe,onMousedown:Ne,onMouseup:Fe},[renderSlot(pe,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:xe.overlayClass,style:{zIndex:xe.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(pe,"default")])}});const ElOverlay=Overlay,imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:definePropType(String)}}),imageViewerEmits={close:()=>!0,switch:xe=>isNumber(xe),rotate:xe=>isNumber(xe)},_hoisted_1$g=["src","crossorigin"],__default__$e=defineComponent({name:"ElImageViewer"}),_sfc_main$q=defineComponent({...__default__$e,props:imageViewerProps,emits:imageViewerEmits,setup(xe,{expose:pe,emit:_e}){var Ce;const Ie=xe,Oe={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}},{t:Ne}=useLocale(),Fe=useNamespace("image-viewer"),{nextZIndex:Ue}=useZIndex(),$e=ref(),ze=ref([]),Ve=effectScope(),qe=ref(!0),En=ref(Ie.initialIndex),vn=shallowRef(Oe.CONTAIN),hn=ref({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),_n=ref((Ce=Ie.zIndex)!=null?Ce:Ue()),bn=computed(()=>{const{urlList:Un}=Ie;return Un.length<=1}),An=computed(()=>En.value===0),xn=computed(()=>En.value===Ie.urlList.length-1),Sn=computed(()=>Ie.urlList[En.value]),Cn=computed(()=>[Fe.e("btn"),Fe.e("prev"),Fe.is("disabled",!Ie.infinite&&An.value)]),Tn=computed(()=>[Fe.e("btn"),Fe.e("next"),Fe.is("disabled",!Ie.infinite&&xn.value)]),wn=computed(()=>{const{scale:Un,deg:Hn,offsetX:Wn,offsetY:Xn,enableTransition:or}=hn.value;let fr=Wn/Un,cr=Xn/Un;switch(Hn%360){case 90:case-270:[fr,cr]=[cr,-fr];break;case 180:case-180:[fr,cr]=[-fr,-cr];break;case 270:case-90:[fr,cr]=[-cr,fr];break}const Jn={transform:"scale(".concat(Un,") rotate(").concat(Hn,"deg) translate(").concat(fr,"px, ").concat(cr,"px)"),transition:or?"transform .3s":""};return vn.value.name===Oe.CONTAIN.name&&(Jn.maxWidth=Jn.maxHeight="100%"),Jn});function Ln(){kn(),_e("close")}function Pn(){const Un=throttle(Wn=>{switch(Wn.code){case EVENT_CODE.esc:Ie.closeOnPressEscape&&Ln();break;case EVENT_CODE.space:Dn();break;case EVENT_CODE.left:Bn();break;case EVENT_CODE.up:Fn("zoomIn");break;case EVENT_CODE.right:$n();break;case EVENT_CODE.down:Fn("zoomOut");break}}),Hn=throttle(Wn=>{const Xn=Wn.deltaY||Wn.deltaX;Fn(Xn<0?"zoomIn":"zoomOut",{zoomRate:Ie.zoomRate,enableTransition:!1})});Ve.run(()=>{useEventListener(document,"keydown",Un),useEventListener(document,"wheel",Hn)})}function kn(){Ve.stop()}function In(){qe.value=!1}function Rn(Un){qe.value=!1,Un.target.alt=Ne("el.image.error")}function Nn(Un){if(qe.value||Un.button!==0||!$e.value)return;hn.value.enableTransition=!1;const{offsetX:Hn,offsetY:Wn}=hn.value,Xn=Un.pageX,or=Un.pageY,fr=throttle(Jn=>{hn.value={...hn.value,offsetX:Hn+Jn.pageX-Xn,offsetY:Wn+Jn.pageY-or}}),cr=useEventListener(document,"mousemove",fr);useEventListener(document,"mouseup",()=>{cr()}),Un.preventDefault()}function On(){hn.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Dn(){if(qe.value)return;const Un=keysOf(Oe),Hn=Object.values(Oe),Wn=vn.value.name,or=(Hn.findIndex(fr=>fr.name===Wn)+1)%Un.length;vn.value=Oe[Un[or]],On()}function Mn(Un){const Hn=Ie.urlList.length;En.value=(Un+Hn)%Hn}function Bn(){An.value&&!Ie.infinite||Mn(En.value-1)}function $n(){xn.value&&!Ie.infinite||Mn(En.value+1)}function Fn(Un,Hn={}){if(qe.value)return;const{minScale:Wn,maxScale:Xn}=Ie,{zoomRate:or,rotateDeg:fr,enableTransition:cr}={zoomRate:Ie.zoomRate,rotateDeg:90,enableTransition:!0,...Hn};switch(Un){case"zoomOut":hn.value.scale>Wn&&(hn.value.scale=Number.parseFloat((hn.value.scale/or).toFixed(3)));break;case"zoomIn":hn.value.scale<Xn&&(hn.value.scale=Number.parseFloat((hn.value.scale*or).toFixed(3)));break;case"clockwise":hn.value.deg+=fr,_e("rotate",hn.value.deg);break;case"anticlockwise":hn.value.deg-=fr,_e("rotate",hn.value.deg);break}hn.value.enableTransition=cr}return watch(Sn,()=>{nextTick(()=>{const Un=ze.value[0];Un!=null&&Un.complete||(qe.value=!0)})}),watch(En,Un=>{On(),_e("switch",Un)}),onMounted(()=>{var Un,Hn;Pn(),(Hn=(Un=$e.value)==null?void 0:Un.focus)==null||Hn.call(Un)}),pe({setActiveItem:Mn}),(Un,Hn)=>(openBlock(),createBlock(Teleport,{to:"body",disabled:!Un.teleported},[createVNode(Transition,{name:"viewer-fade",appear:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"wrapper",ref:$e,tabindex:-1,class:normalizeClass(unref(Fe).e("wrapper")),style:normalizeStyle$1({zIndex:_n.value})},[createBaseVNode("div",{class:normalizeClass(unref(Fe).e("mask")),onClick:Hn[0]||(Hn[0]=withModifiers(Wn=>Un.hideOnClickModal&&Ln(),["self"]))},null,2),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref(Fe).e("btn"),unref(Fe).e("close")]),onClick:Ln},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(close_default))]),_:1})],2),createCommentVNode(" ARROW "),unref(bn)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[createBaseVNode("span",{class:normalizeClass(unref(Cn)),onClick:Bn},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1})],2),createBaseVNode("span",{class:normalizeClass(unref(Tn)),onClick:$n},[createVNode(unref(ElIcon),null,{default:withCtx(()=>[createVNode(unref(arrow_right_default))]),_:1})],2)],64)),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref(Fe).e("btn"),unref(Fe).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref(Fe).e("actions__inner"))},[createVNode(unref(ElIcon),{onClick:Hn[1]||(Hn[1]=Wn=>Fn("zoomOut"))},{default:withCtx(()=>[createVNode(unref(zoom_out_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Hn[2]||(Hn[2]=Wn=>Fn("zoomIn"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref(Fe).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:Dn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(vn).icon)))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref(Fe).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:Hn[3]||(Hn[3]=Wn=>Fn("anticlockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_left_default))]),_:1}),createVNode(unref(ElIcon),{onClick:Hn[4]||(Hn[4]=Wn=>Fn("clockwise"))},{default:withCtx(()=>[createVNode(unref(refresh_right_default))]),_:1})],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref(Fe).e("canvas"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Un.urlList,(Wn,Xn)=>withDirectives((openBlock(),createElementBlock("img",{ref_for:!0,ref:or=>ze.value[Xn]=or,key:Wn,src:Wn,style:normalizeStyle$1(unref(wn)),class:normalizeClass(unref(Fe).e("img")),crossorigin:Un.crossorigin,onLoad:In,onError:Rn,onMousedown:Nn},null,46,_hoisted_1$g)),[[vShow,Xn===En.value]])),128))],2),renderSlot(Un.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var ImageViewer=_export_sfc(_sfc_main$q,[["__file","image-viewer.vue"]]);const ElImageViewer=withInstall$1(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:definePropType(String)}}),imageEmits={load:xe=>xe instanceof Event,error:xe=>xe instanceof Event,switch:xe=>isNumber(xe),close:()=>!0,show:()=>!0},_hoisted_1$f=["src","loading","crossorigin"],_hoisted_2$c={key:0},__default__$d=defineComponent({name:"ElImage",inheritAttrs:!1}),_sfc_main$p=defineComponent({...__default__$d,props:imageProps,emits:imageEmits,setup(xe,{emit:pe}){const _e=xe;let Ce="";const{t:Ie}=useLocale(),Oe=useNamespace("image"),Ne=useAttrs$1(),Fe=useAttrs(),Ue=ref(),$e=ref(!1),ze=ref(!0),Ve=ref(!1),qe=ref(),En=ref(),vn=isClient&&"loading"in HTMLImageElement.prototype;let hn,_n;const bn=computed(()=>[Oe.e("inner"),Sn.value&&Oe.e("preview"),ze.value&&Oe.is("loading")]),An=computed(()=>Ne.style),xn=computed(()=>{const{fit:$n}=_e;return isClient&&$n?{objectFit:$n}:{}}),Sn=computed(()=>{const{previewSrcList:$n}=_e;return Array.isArray($n)&&$n.length>0}),Cn=computed(()=>{const{previewSrcList:$n,initialIndex:Fn}=_e;let Un=Fn;return Fn>$n.length-1&&(Un=0),Un}),Tn=computed(()=>_e.loading==="eager"?!1:!vn&&_e.loading==="lazy"||_e.lazy),wn=()=>{isClient&&(ze.value=!0,$e.value=!1,Ue.value=_e.src)};function Ln($n){ze.value=!1,$e.value=!1,pe("load",$n)}function Pn($n){ze.value=!1,$e.value=!0,pe("error",$n)}function kn(){isInContainer(qe.value,En.value)&&(wn(),Nn())}const In=useThrottleFn(kn,200,!0);async function Rn(){var $n;if(!isClient)return;await nextTick();const{scrollContainer:Fn}=_e;isElement(Fn)?En.value=Fn:isString$3(Fn)&&Fn!==""?En.value=($n=document.querySelector(Fn))!=null?$n:void 0:qe.value&&(En.value=getScrollContainer(qe.value)),En.value&&(hn=useEventListener(En,"scroll",In),setTimeout(()=>kn(),100))}function Nn(){!isClient||!En.value||!In||(hn==null||hn(),En.value=void 0)}function On($n){if($n.ctrlKey){if($n.deltaY<0)return $n.preventDefault(),!1;if($n.deltaY>0)return $n.preventDefault(),!1}}function Dn(){Sn.value&&(_n=useEventListener("wheel",On,{passive:!1}),Ce=document.body.style.overflow,document.body.style.overflow="hidden",Ve.value=!0,pe("show"))}function Mn(){_n==null||_n(),document.body.style.overflow=Ce,Ve.value=!1,pe("close")}function Bn($n){pe("switch",$n)}return watch(()=>_e.src,()=>{Tn.value?(ze.value=!0,$e.value=!1,Nn(),Rn()):wn()}),onMounted(()=>{Tn.value?Rn():wn()}),($n,Fn)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:qe,class:normalizeClass([unref(Oe).b(),$n.$attrs.class]),style:normalizeStyle$1(unref(An))},[$e.value?renderSlot($n.$slots,"error",{key:0},()=>[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("error"))},toDisplayString(unref(Ie)("el.image.error")),3)]):(openBlock(),createElementBlock(Fragment$1,{key:1},[Ue.value!==void 0?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(Fe),{src:Ue.value,loading:$n.loading,style:unref(xn),class:unref(bn),crossorigin:$n.crossorigin,onClick:Dn,onLoad:Ln,onError:Pn}),null,16,_hoisted_1$f)):createCommentVNode("v-if",!0),ze.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(Oe).e("wrapper"))},[renderSlot($n.$slots,"placeholder",{},()=>[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("placeholder"))},null,2)])],2)):createCommentVNode("v-if",!0)],64)),unref(Sn)?(openBlock(),createElementBlock(Fragment$1,{key:2},[Ve.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":$n.zIndex,"initial-index":unref(Cn),infinite:$n.infinite,"zoom-rate":$n.zoomRate,"min-scale":$n.minScale,"max-scale":$n.maxScale,"url-list":$n.previewSrcList,"hide-on-click-modal":$n.hideOnClickModal,teleported:$n.previewTeleported,"close-on-press-escape":$n.closeOnPressEscape,onClose:Mn,onSwitch:Bn},{default:withCtx(()=>[$n.$slots.viewer?(openBlock(),createElementBlock("div",_hoisted_2$c,[renderSlot($n.$slots,"viewer")])):createCommentVNode("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],6))}});var Image$1=_export_sfc(_sfc_main$p,[["__file","image.vue"]]);const ElImage=withInstall$1(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:xe=>xe===null||isNumber(xe)||["min","max"].includes(xe),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:xe=>xe>=0&&xe===Number.parseInt("".concat(xe),10)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),inputNumberEmits={[CHANGE_EVENT]:(xe,pe)=>pe!==xe,blur:xe=>xe instanceof FocusEvent,focus:xe=>xe instanceof FocusEvent,[INPUT_EVENT]:xe=>isNumber(xe)||isNil(xe),[UPDATE_MODEL_EVENT]:xe=>isNumber(xe)||isNil(xe)},_hoisted_1$e=["aria-label","onKeydown"],_hoisted_2$b=["aria-label","onKeydown"],__default__$c=defineComponent({name:"ElInputNumber"}),_sfc_main$o=defineComponent({...__default__$c,props:inputNumberProps,emits:inputNumberEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,{t:Ie}=useLocale(),Oe=useNamespace("input-number"),Ne=ref(),Fe=reactive({currentValue:Ce.modelValue,userInput:null}),{formItem:Ue}=useFormItem(),$e=computed(()=>isNumber(Ce.modelValue)&&Ce.modelValue<=Ce.min),ze=computed(()=>isNumber(Ce.modelValue)&&Ce.modelValue>=Ce.max),Ve=computed(()=>{const Dn=bn(Ce.step);return isUndefined(Ce.precision)?Math.max(bn(Ce.modelValue),Dn):(Dn>Ce.precision,Ce.precision)}),qe=computed(()=>Ce.controls&&Ce.controlsPosition==="right"),En=useFormSize(),vn=useFormDisabled(),hn=computed(()=>{if(Fe.userInput!==null)return Fe.userInput;let Dn=Fe.currentValue;if(isNil(Dn))return"";if(isNumber(Dn)){if(Number.isNaN(Dn))return"";isUndefined(Ce.precision)||(Dn=Dn.toFixed(Ce.precision))}return Dn}),_n=(Dn,Mn)=>{if(isUndefined(Mn)&&(Mn=Ve.value),Mn===0)return Math.round(Dn);let Bn=String(Dn);const $n=Bn.indexOf(".");if($n===-1||!Bn.replace(".","").split("")[$n+Mn])return Dn;const Hn=Bn.length;return Bn.charAt(Hn-1)==="5"&&(Bn="".concat(Bn.slice(0,Math.max(0,Hn-1)),"6")),Number.parseFloat(Number(Bn).toFixed(Mn))},bn=Dn=>{if(isNil(Dn))return 0;const Mn=Dn.toString(),Bn=Mn.indexOf(".");let $n=0;return Bn!==-1&&($n=Mn.length-Bn-1),$n},An=(Dn,Mn=1)=>isNumber(Dn)?_n(Dn+Ce.step*Mn):Fe.currentValue,xn=()=>{if(Ce.readonly||vn.value||ze.value)return;const Dn=Number(hn.value)||0,Mn=An(Dn);Tn(Mn),_e(INPUT_EVENT,Fe.currentValue),Nn()},Sn=()=>{if(Ce.readonly||vn.value||$e.value)return;const Dn=Number(hn.value)||0,Mn=An(Dn,-1);Tn(Mn),_e(INPUT_EVENT,Fe.currentValue),Nn()},Cn=(Dn,Mn)=>{const{max:Bn,min:$n,step:Fn,precision:Un,stepStrictly:Hn,valueOnClear:Wn}=Ce;Bn<$n&&throwError$1("InputNumber","min should not be greater than max.");let Xn=Number(Dn);if(isNil(Dn)||Number.isNaN(Xn))return null;if(Dn===""){if(Wn===null)return null;Xn=isString$3(Wn)?{min:$n,max:Bn}[Wn]:Wn}return Hn&&(Xn=_n(Math.round(Xn/Fn)*Fn,Un)),isUndefined(Un)||(Xn=_n(Xn,Un)),(Xn>Bn||Xn<$n)&&(Xn=Xn>Bn?Bn:$n,Mn&&_e(UPDATE_MODEL_EVENT,Xn)),Xn},Tn=(Dn,Mn=!0)=>{var Bn;const $n=Fe.currentValue,Fn=Cn(Dn);if(!Mn){_e(UPDATE_MODEL_EVENT,Fn);return}$n===Fn&&Dn||(Fe.userInput=null,_e(UPDATE_MODEL_EVENT,Fn),$n!==Fn&&_e(CHANGE_EVENT,Fn,$n),Ce.validateEvent&&((Bn=Ue==null?void 0:Ue.validate)==null||Bn.call(Ue,"change").catch(Un=>void 0)),Fe.currentValue=Fn)},wn=Dn=>{Fe.userInput=Dn;const Mn=Dn===""?null:Number(Dn);_e(INPUT_EVENT,Mn),Tn(Mn,!1)},Ln=Dn=>{const Mn=Dn!==""?Number(Dn):"";(isNumber(Mn)&&!Number.isNaN(Mn)||Dn==="")&&Tn(Mn),Nn(),Fe.userInput=null},Pn=()=>{var Dn,Mn;(Mn=(Dn=Ne.value)==null?void 0:Dn.focus)==null||Mn.call(Dn)},kn=()=>{var Dn,Mn;(Mn=(Dn=Ne.value)==null?void 0:Dn.blur)==null||Mn.call(Dn)},In=Dn=>{_e("focus",Dn)},Rn=Dn=>{var Mn;Fe.userInput=null,_e("blur",Dn),Ce.validateEvent&&((Mn=Ue==null?void 0:Ue.validate)==null||Mn.call(Ue,"blur").catch(Bn=>void 0))},Nn=()=>{Fe.currentValue!==Ce.modelValue&&(Fe.currentValue=Ce.modelValue)},On=Dn=>{document.activeElement===Dn.target&&Dn.preventDefault()};return watch(()=>Ce.modelValue,(Dn,Mn)=>{const Bn=Cn(Dn,!0);Fe.userInput===null&&Bn!==Mn&&(Fe.currentValue=Bn)},{immediate:!0}),onMounted(()=>{var Dn;const{min:Mn,max:Bn,modelValue:$n}=Ce,Fn=(Dn=Ne.value)==null?void 0:Dn.input;if(Fn.setAttribute("role","spinbutton"),Number.isFinite(Bn)?Fn.setAttribute("aria-valuemax",String(Bn)):Fn.removeAttribute("aria-valuemax"),Number.isFinite(Mn)?Fn.setAttribute("aria-valuemin",String(Mn)):Fn.removeAttribute("aria-valuemin"),Fn.setAttribute("aria-valuenow",Fe.currentValue||Fe.currentValue===0?String(Fe.currentValue):""),Fn.setAttribute("aria-disabled",String(vn.value)),!isNumber($n)&&$n!=null){let Un=Number($n);Number.isNaN(Un)&&(Un=null),_e(UPDATE_MODEL_EVENT,Un)}Fn.addEventListener("wheel",On,{passive:!1})}),onUpdated(()=>{var Dn,Mn;const Bn=(Dn=Ne.value)==null?void 0:Dn.input;Bn==null||Bn.setAttribute("aria-valuenow","".concat((Mn=Fe.currentValue)!=null?Mn:""))}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},computed(()=>!!Ce.label)),pe({focus:Pn,blur:kn}),(Dn,Mn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Oe).b(),unref(Oe).m(unref(En)),unref(Oe).is("disabled",unref(vn)),unref(Oe).is("without-controls",!Dn.controls),unref(Oe).is("controls-right",unref(qe))]),onDragstart:Mn[0]||(Mn[0]=withModifiers(()=>{},["prevent"]))},[Dn.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(Ie)("el.inputNumber.decrease"),class:normalizeClass([unref(Oe).e("decrease"),unref(Oe).is("disabled",unref($e))]),onKeydown:withKeys(Sn,["enter"])},[renderSlot(Dn.$slots,"decrease-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(qe)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})])],42,_hoisted_1$e)),[[unref(vRepeatClick),Sn]]):createCommentVNode("v-if",!0),Dn.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(Ie)("el.inputNumber.increase"),class:normalizeClass([unref(Oe).e("increase"),unref(Oe).is("disabled",unref(ze))]),onKeydown:withKeys(xn,["enter"])},[renderSlot(Dn.$slots,"increase-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(qe)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})])],42,_hoisted_2$b)),[[unref(vRepeatClick),xn]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:Dn.id,ref_key:"input",ref:Ne,type:"number",step:Dn.step,"model-value":unref(hn),placeholder:Dn.placeholder,readonly:Dn.readonly,disabled:unref(vn),size:unref(En),max:Dn.max,min:Dn.min,name:Dn.name,"aria-label":Dn.label||Dn.ariaLabel,"validate-event":!1,onKeydown:[withKeys(withModifiers(xn,["prevent"]),["up"]),withKeys(withModifiers(Sn,["prevent"]),["down"])],onBlur:Rn,onFocus:In,onInput:wn,onChange:Ln},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var InputNumber=_export_sfc(_sfc_main$o,[["__file","input-number.vue"]]);const ElInputNumber=withInstall$1(InputNumber);let SubMenu$1=class{constructor(pe,_e){this.parent=pe,this.domNode=_e,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(pe){pe===this.subMenuItems.length?pe=0:pe<0&&(pe=this.subMenuItems.length-1),this.subMenuItems[pe].focus(),this.subIndex=pe}addListeners(){const pe=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,_e=>{_e.addEventListener("keydown",Ce=>{let Ie=!1;switch(Ce.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),Ie=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),Ie=!0;break}case EVENT_CODE.tab:{triggerEvent(pe,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{Ie=!0,Ce.currentTarget.click();break}}return Ie&&(Ce.preventDefault(),Ce.stopPropagation()),!1})})}},MenuItem$1=class{constructor(pe,_e){this.domNode=pe,this.submenu=null,this.submenu=null,this.init(_e)}init(pe){this.domNode.setAttribute("tabindex","0");const _e=this.domNode.querySelector(".".concat(pe,"-menu"));_e&&(this.submenu=new SubMenu$1(this,_e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",pe=>{let _e=!1;switch(pe.code){case EVENT_CODE.down:{triggerEvent(pe.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),_e=!0;break}case EVENT_CODE.up:{triggerEvent(pe.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),_e=!0;break}case EVENT_CODE.tab:{triggerEvent(pe.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{_e=!0,pe.currentTarget.click();break}}_e&&pe.preventDefault()})}},Menu$1=class{constructor(pe,_e){this.domNode=pe,this.init(_e)}init(pe){const _e=this.domNode.childNodes;Array.from(_e).forEach(Ce=>{Ce.nodeType===1&&new MenuItem$1(Ce,pe)})}};const _sfc_main$n=defineComponent({name:"ElMenuCollapseTransition",setup(){const xe=useNamespace("menu");return{listeners:{onBeforeEnter:_e=>_e.style.opacity="0.2",onEnter(_e,Ce){addClass(_e,"".concat(xe.namespace.value,"-opacity-transition")),_e.style.opacity="1",Ce()},onAfterEnter(_e){removeClass(_e,"".concat(xe.namespace.value,"-opacity-transition")),_e.style.opacity=""},onBeforeLeave(_e){_e.dataset||(_e.dataset={}),hasClass(_e,xe.m("collapse"))?(removeClass(_e,xe.m("collapse")),_e.dataset.oldOverflow=_e.style.overflow,_e.dataset.scrollWidth=_e.clientWidth.toString(),addClass(_e,xe.m("collapse"))):(addClass(_e,xe.m("collapse")),_e.dataset.oldOverflow=_e.style.overflow,_e.dataset.scrollWidth=_e.clientWidth.toString(),removeClass(_e,xe.m("collapse"))),_e.style.width="".concat(_e.scrollWidth,"px"),_e.style.overflow="hidden"},onLeave(_e){addClass(_e,"horizontal-collapse-transition"),_e.style.width="".concat(_e.dataset.scrollWidth,"px")}}}}});function _sfc_render$9(xe,pe,_e,Ce,Ie,Oe){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},xe.listeners),{default:withCtx(()=>[renderSlot(xe.$slots,"default")]),_:3},16)}var ElMenuCollapseTransition=_export_sfc(_sfc_main$n,[["render",_sfc_render$9],["__file","menu-collapse-transition.vue"]]);function useMenu(xe,pe){const _e=computed(()=>{let Ie=xe.parent;const Oe=[pe.value];for(;Ie.type.name!=="ElMenu";)Ie.props.index&&Oe.unshift(Ie.props.index),Ie=Ie.parent;return Oe});return{parentMenu:computed(()=>{let Ie=xe.parent;for(;Ie&&!["ElMenu","ElSubMenu"].includes(Ie.type.name);)Ie=Ie.parent;return Ie}),indexPath:_e}}function useMenuColor(xe){return computed(()=>{const _e=xe.backgroundColor;return _e?new TinyColor(_e).shade(20).toString():""})}const useMenuCssVar=(xe,pe)=>{const _e=useNamespace("menu");return computed(()=>_e.cssVarBlock({"text-color":xe.textColor||"","hover-text-color":xe.textColor||"","bg-color":xe.backgroundColor||"","hover-bg-color":useMenuColor(xe).value||"","active-color":xe.activeTextColor||"",level:"".concat(pe)}))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$5="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$5,props:subMenuProps,setup(xe,{slots:pe,expose:_e}){const Ce=getCurrentInstance(),{indexPath:Ie,parentMenu:Oe}=useMenu(Ce,computed(()=>xe.index)),Ne=useNamespace("menu"),Fe=useNamespace("sub-menu"),Ue=inject("rootMenu");Ue||throwError$1(COMPONENT_NAME$5,"can not inject root menu");const $e=inject("subMenu:".concat(Oe.value.uid));$e||throwError$1(COMPONENT_NAME$5,"can not inject sub menu");const ze=ref({}),Ve=ref({});let qe;const En=ref(!1),vn=ref(),hn=ref(null),_n=computed(()=>Ln.value==="horizontal"&&An.value?"bottom-start":"right-start"),bn=computed(()=>Ln.value==="horizontal"&&An.value||Ln.value==="vertical"&&!Ue.props.collapse?xe.expandCloseIcon&&xe.expandOpenIcon?Tn.value?xe.expandOpenIcon:xe.expandCloseIcon:arrow_down_default:xe.collapseCloseIcon&&xe.collapseOpenIcon?Tn.value?xe.collapseOpenIcon:xe.collapseCloseIcon:arrow_right_default),An=computed(()=>$e.level===0),xn=computed(()=>{const Un=xe.teleported;return Un===void 0?An.value:Un}),Sn=computed(()=>Ue.props.collapse?"".concat(Ne.namespace.value,"-zoom-in-left"):"".concat(Ne.namespace.value,"-zoom-in-top")),Cn=computed(()=>Ln.value==="horizontal"&&An.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),Tn=computed(()=>Ue.openedMenus.includes(xe.index)),wn=computed(()=>{let Un=!1;return Object.values(ze.value).forEach(Hn=>{Hn.active&&(Un=!0)}),Object.values(Ve.value).forEach(Hn=>{Hn.active&&(Un=!0)}),Un}),Ln=computed(()=>Ue.props.mode),Pn=reactive({index:xe.index,indexPath:Ie,active:wn}),kn=useMenuCssVar(Ue.props,$e.level+1),In=computed(()=>{var Un;return(Un=xe.popperOffset)!=null?Un:Ue.props.popperOffset}),Rn=computed(()=>{var Un;return(Un=xe.popperClass)!=null?Un:Ue.props.popperClass}),Nn=computed(()=>{var Un;return(Un=xe.showTimeout)!=null?Un:Ue.props.showTimeout}),On=computed(()=>{var Un;return(Un=xe.hideTimeout)!=null?Un:Ue.props.hideTimeout}),Dn=()=>{var Un,Hn,Wn;return(Wn=(Hn=(Un=hn.value)==null?void 0:Un.popperRef)==null?void 0:Hn.popperInstanceRef)==null?void 0:Wn.destroy()},Mn=Un=>{Un||Dn()},Bn=()=>{Ue.props.menuTrigger==="hover"&&Ue.props.mode==="horizontal"||Ue.props.collapse&&Ue.props.mode==="vertical"||xe.disabled||Ue.handleSubMenuClick({index:xe.index,indexPath:Ie.value,active:wn.value})},$n=(Un,Hn=Nn.value)=>{var Wn;if(Un.type!=="focus"){if(Ue.props.menuTrigger==="click"&&Ue.props.mode==="horizontal"||!Ue.props.collapse&&Ue.props.mode==="vertical"||xe.disabled){$e.mouseInChild.value=!0;return}$e.mouseInChild.value=!0,qe==null||qe(),{stop:qe}=useTimeoutFn(()=>{Ue.openMenu(xe.index,Ie.value)},Hn),xn.value&&((Wn=Oe.value.vnode.el)==null||Wn.dispatchEvent(new MouseEvent("mouseenter")))}},Fn=(Un=!1)=>{var Hn;if(Ue.props.menuTrigger==="click"&&Ue.props.mode==="horizontal"||!Ue.props.collapse&&Ue.props.mode==="vertical"){$e.mouseInChild.value=!1;return}qe==null||qe(),$e.mouseInChild.value=!1,{stop:qe}=useTimeoutFn(()=>!En.value&&Ue.closeMenu(xe.index,Ie.value),On.value),xn.value&&Un&&((Hn=$e.handleMouseleave)==null||Hn.call($e,!0))};watch(()=>Ue.props.collapse,Un=>Mn(!!Un));{const Un=Wn=>{Ve.value[Wn.index]=Wn},Hn=Wn=>{delete Ve.value[Wn.index]};provide("subMenu:".concat(Ce.uid),{addSubMenu:Un,removeSubMenu:Hn,handleMouseleave:Fn,mouseInChild:En,level:$e.level+1})}return _e({opened:Tn}),onMounted(()=>{Ue.addSubMenu(Pn),$e.addSubMenu(Pn)}),onBeforeUnmount(()=>{$e.removeSubMenu(Pn),Ue.removeSubMenu(Pn)}),()=>{var Un;const Hn=[(Un=pe.title)==null?void 0:Un.call(pe),h$1(ElIcon,{class:Fe.e("icon-arrow"),style:{transform:Tn.value?xe.expandCloseIcon&&xe.expandOpenIcon||xe.collapseCloseIcon&&xe.collapseOpenIcon&&Ue.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$3(bn.value)?h$1(Ce.appContext.components[bn.value]):h$1(bn.value)})],Wn=Ue.isMenuPopup?h$1(ElTooltip,{ref:hn,visible:Tn.value,effect:"light",pure:!0,offset:In.value,showArrow:!1,persistent:!0,popperClass:Rn.value,placement:_n.value,teleported:xn.value,fallbackPlacements:Cn.value,transition:Sn.value,gpuAcceleration:!1},{content:()=>{var Xn;return h$1("div",{class:[Ne.m(Ln.value),Ne.m("popup-container"),Rn.value],onMouseenter:or=>$n(or,100),onMouseleave:()=>Fn(!0),onFocus:or=>$n(or,100)},[h$1("ul",{class:[Ne.b(),Ne.m("popup"),Ne.m("popup-".concat(_n.value))],style:kn.value},[(Xn=pe.default)==null?void 0:Xn.call(pe)])])},default:()=>h$1("div",{class:Fe.e("title"),onClick:Bn},Hn)}):h$1(Fragment$1,{},[h$1("div",{class:Fe.e("title"),ref:vn,onClick:Bn},Hn),h$1(_CollapseTransition,{},{default:()=>{var Xn;return withDirectives(h$1("ul",{role:"menu",class:[Ne.b(),Ne.m("inline")],style:kn.value},[(Xn=pe.default)==null?void 0:Xn.call(pe)]),[[vShow,Tn.value]])}})]);return h$1("li",{class:[Fe.b(),Fe.is("active",wn.value),Fe.is("opened",Tn.value),Fe.is("disabled",xe.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:Tn.value,onMouseenter:$n,onMouseleave:()=>Fn(),onFocus:$n},[Wn])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:iconPropType,default:()=>more_default},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),checkIndexPath=xe=>Array.isArray(xe)&&xe.every(pe=>isString$3(pe)),menuEmits={close:(xe,pe)=>isString$3(xe)&&checkIndexPath(pe),open:(xe,pe)=>isString$3(xe)&&checkIndexPath(pe),select:(xe,pe,_e,Ce)=>isString$3(xe)&&checkIndexPath(pe)&&isObject$3(_e)&&(Ce===void 0||Ce instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(xe,{emit:pe,slots:_e,expose:Ce}){const Ie=getCurrentInstance(),Oe=Ie.appContext.config.globalProperties.$router,Ne=ref(),Fe=useNamespace("menu"),Ue=useNamespace("sub-menu"),$e=ref(-1),ze=ref(xe.defaultOpeneds&&!xe.collapse?xe.defaultOpeneds.slice(0):[]),Ve=ref(xe.defaultActive),qe=ref({}),En=ref({}),vn=computed(()=>xe.mode==="horizontal"||xe.mode==="vertical"&&xe.collapse),hn=()=>{const On=Ve.value&&qe.value[Ve.value];if(!On||xe.mode==="horizontal"||xe.collapse)return;On.indexPath.forEach(Mn=>{const Bn=En.value[Mn];Bn&&_n(Mn,Bn.indexPath)})},_n=(On,Dn)=>{ze.value.includes(On)||(xe.uniqueOpened&&(ze.value=ze.value.filter(Mn=>Dn.includes(Mn))),ze.value.push(On),pe("open",On,Dn))},bn=On=>{const Dn=ze.value.indexOf(On);Dn!==-1&&ze.value.splice(Dn,1)},An=(On,Dn)=>{bn(On),pe("close",On,Dn)},xn=({index:On,indexPath:Dn})=>{ze.value.includes(On)?An(On,Dn):_n(On,Dn)},Sn=On=>{(xe.mode==="horizontal"||xe.collapse)&&(ze.value=[]);const{index:Dn,indexPath:Mn}=On;if(!(isNil(Dn)||isNil(Mn)))if(xe.router&&Oe){const Bn=On.route||Dn,$n=Oe.push(Bn).then(Fn=>(Fn||(Ve.value=Dn),Fn));pe("select",Dn,Mn,{index:Dn,indexPath:Mn,route:Bn},$n)}else Ve.value=Dn,pe("select",Dn,Mn,{index:Dn,indexPath:Mn})},Cn=On=>{const Dn=qe.value,Mn=Dn[On]||Ve.value&&Dn[Ve.value]||Dn[xe.defaultActive];Mn?Ve.value=Mn.index:Ve.value=On},Tn=On=>{const Dn=getComputedStyle(On),Mn=Number.parseInt(Dn.marginLeft,10),Bn=Number.parseInt(Dn.marginRight,10);return On.offsetWidth+Mn+Bn||0},wn=()=>{var On,Dn;if(!Ne.value)return-1;const Mn=Array.from((Dn=(On=Ne.value)==null?void 0:On.childNodes)!=null?Dn:[]).filter(or=>or.nodeName!=="#comment"&&(or.nodeName!=="#text"||or.nodeValue)),Bn=64,$n=getComputedStyle(Ne.value),Fn=Number.parseInt($n.paddingLeft,10),Un=Number.parseInt($n.paddingRight,10),Hn=Ne.value.clientWidth-Fn-Un;let Wn=0,Xn=0;return Mn.forEach((or,fr)=>{Wn+=Tn(or),Wn<=Hn-Bn&&(Xn=fr+1)}),Xn===Mn.length?-1:Xn},Ln=On=>En.value[On].indexPath,Pn=(On,Dn=33.34)=>{let Mn;return()=>{Mn&&clearTimeout(Mn),Mn=setTimeout(()=>{On()},Dn)}};let kn=!0;const In=()=>{if($e.value===wn())return;const On=()=>{$e.value=-1,nextTick(()=>{$e.value=wn()})};kn?On():Pn(On)(),kn=!1};watch(()=>xe.defaultActive,On=>{qe.value[On]||(Ve.value=""),Cn(On)}),watch(()=>xe.collapse,On=>{On&&(ze.value=[])}),watch(qe.value,hn);let Rn;watchEffect(()=>{xe.mode==="horizontal"&&xe.ellipsis?Rn=useResizeObserver(Ne,In).stop:Rn==null||Rn()});const Nn=ref(!1);{const On=$n=>{En.value[$n.index]=$n},Dn=$n=>{delete En.value[$n.index]};provide("rootMenu",reactive({props:xe,openedMenus:ze,items:qe,subMenus:En,activeIndex:Ve,isMenuPopup:vn,addMenuItem:$n=>{qe.value[$n.index]=$n},removeMenuItem:$n=>{delete qe.value[$n.index]},addSubMenu:On,removeSubMenu:Dn,openMenu:_n,closeMenu:An,handleMenuItemClick:Sn,handleSubMenuClick:xn})),provide("subMenu:".concat(Ie.uid),{addSubMenu:On,removeSubMenu:Dn,mouseInChild:Nn,level:0})}return onMounted(()=>{xe.mode==="horizontal"&&new Menu$1(Ie.vnode.el,Fe.namespace.value)}),Ce({open:Dn=>{const{indexPath:Mn}=En.value[Dn];Mn.forEach(Bn=>_n(Bn,Mn))},close:bn,handleResize:In}),()=>{var On,Dn;let Mn=(Dn=(On=_e.default)==null?void 0:On.call(_e))!=null?Dn:[];const Bn=[];if(xe.mode==="horizontal"&&Ne.value){const Hn=flattedChildren(Mn),Wn=$e.value===-1?Hn:Hn.slice(0,$e.value),Xn=$e.value===-1?[]:Hn.slice($e.value);Xn!=null&&Xn.length&&xe.ellipsis&&(Mn=Wn,Bn.push(h$1(SubMenu,{index:"sub-menu-more",class:Ue.e("hide-arrow"),popperOffset:xe.popperOffset},{title:()=>h$1(ElIcon,{class:Ue.e("icon-more")},{default:()=>h$1(xe.ellipsisIcon)}),default:()=>Xn})))}const $n=useMenuCssVar(xe,0),Fn=xe.closeOnClickOutside?[[ClickOutside,()=>{ze.value.length&&(Nn.value||(ze.value.forEach(Hn=>pe("close",Hn,Ln(Hn))),ze.value=[]))}]]:[],Un=withDirectives(h$1("ul",{key:String(xe.collapse),role:"menubar",ref:Ne,style:$n.value,class:{[Fe.b()]:!0,[Fe.m(xe.mode)]:!0,[Fe.m("collapse")]:xe.collapse}},[...Mn,...Bn]),Fn);return xe.collapseTransition&&xe.mode==="vertical"?h$1(ElMenuCollapseTransition,()=>Un):Un}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:xe=>isString$3(xe.index)&&Array.isArray(xe.indexPath)},COMPONENT_NAME$4="ElMenuItem",_sfc_main$m=defineComponent({name:COMPONENT_NAME$4,components:{ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(xe,{emit:pe}){const _e=getCurrentInstance(),Ce=inject("rootMenu"),Ie=useNamespace("menu"),Oe=useNamespace("menu-item");Ce||throwError$1(COMPONENT_NAME$4,"can not inject root menu");const{parentMenu:Ne,indexPath:Fe}=useMenu(_e,toRef(xe,"index")),Ue=inject("subMenu:".concat(Ne.value.uid));Ue||throwError$1(COMPONENT_NAME$4,"can not inject sub menu");const $e=computed(()=>xe.index===Ce.activeIndex),ze=reactive({index:xe.index,indexPath:Fe,active:$e}),Ve=()=>{xe.disabled||(Ce.handleMenuItemClick({index:xe.index,indexPath:Fe.value,route:xe.route}),pe("click",ze))};return onMounted(()=>{Ue.addSubMenu(ze),Ce.addMenuItem(ze)}),onBeforeUnmount(()=>{Ue.removeSubMenu(ze),Ce.removeMenuItem(ze)}),{parentMenu:Ne,rootMenu:Ce,active:$e,nsMenu:Ie,nsMenuItem:Oe,handleClick:Ve}}});function _sfc_render$8(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([xe.nsMenuItem.b(),xe.nsMenuItem.is("active",xe.active),xe.nsMenuItem.is("disabled",xe.disabled)]),role:"menuitem",tabindex:"-1",onClick:pe[0]||(pe[0]=(...Fe)=>xe.handleClick&&xe.handleClick(...Fe))},[xe.parentMenu.type.name==="ElMenu"&&xe.rootMenu.props.collapse&&xe.$slots.title?(openBlock(),createBlock(Ne,{key:0,effect:xe.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx(()=>[renderSlot(xe.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(xe.nsMenu.be("tooltip","trigger"))},[renderSlot(xe.$slots,"default")],2)]),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment$1,{key:1},[renderSlot(xe.$slots,"default"),renderSlot(xe.$slots,"title")],64))],2)}var MenuItem=_export_sfc(_sfc_main$m,[["render",_sfc_render$8],["__file","menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$3="ElMenuItemGroup",_sfc_main$l=defineComponent({name:COMPONENT_NAME$3,props:menuItemGroupProps,setup(){return{ns:useNamespace("menu-item-group")}}});function _sfc_render$7(xe,pe,_e,Ce,Ie,Oe){return openBlock(),createElementBlock("li",{class:normalizeClass(xe.ns.b())},[createBaseVNode("div",{class:normalizeClass(xe.ns.e("title"))},[xe.$slots.title?renderSlot(xe.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment$1,{key:0},[createTextVNode(toDisplayString(xe.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(xe.$slots,"default")])],2)}var MenuItemGroup=_export_sfc(_sfc_main$l,[["render",_sfc_render$7],["__file","menu-item-group.vue"]]);const ElMenu=withInstall$1(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem);withNoopInstall(MenuItemGroup);const ElSubMenu=withNoopInstall(SubMenu),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(xe,pe){const _e=inject(selectKey),Ce=inject(selectGroupKey,{disabled:!1}),Ie=computed(()=>_e.props.multiple?ze(_e.props.modelValue,xe.value):ze([_e.props.modelValue],xe.value)),Oe=computed(()=>{if(_e.props.multiple){const En=_e.props.modelValue||[];return!Ie.value&&En.length>=_e.props.multipleLimit&&_e.props.multipleLimit>0}else return!1}),Ne=computed(()=>xe.label||(isObject$3(xe.value)?"":xe.value)),Fe=computed(()=>xe.value||xe.label||""),Ue=computed(()=>xe.disabled||pe.groupDisabled||Oe.value),$e=getCurrentInstance(),ze=(En=[],vn)=>{if(isObject$3(xe.value)){const hn=_e.props.valueKey;return En&&En.some(_n=>toRaw(get$1(_n,hn))===get$1(vn,hn))}else return En&&En.includes(vn)},Ve=()=>{!xe.disabled&&!Ce.disabled&&(_e.states.hoveringIndex=_e.optionsArray.indexOf($e.proxy))},qe=En=>{const vn=new RegExp(escapeStringRegexp(En),"i");pe.visible=vn.test(Ne.value)||xe.created};return watch(()=>Ne.value,()=>{!xe.created&&!_e.props.remote&&_e.setSelected()}),watch(()=>xe.value,(En,vn)=>{const{remote:hn,valueKey:_n}=_e.props;if(isEqual(En,vn)||(_e.onOptionDestroy(vn,$e.proxy),_e.onOptionCreate($e.proxy)),!xe.created&&!hn){if(_n&&isObject$3(En)&&isObject$3(vn)&&En[_n]===vn[_n])return;_e.setSelected()}}),watch(()=>Ce.disabled,()=>{pe.groupDisabled=Ce.disabled},{immediate:!0}),{select:_e,currentLabel:Ne,currentValue:Fe,itemSelected:Ie,isDisabled:Ue,hoverItem:Ve,updateOption:qe}}const _sfc_main$k=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(xe){const pe=useNamespace("select"),_e=useId(),Ce=computed(()=>[pe.be("dropdown","item"),pe.is("disabled",unref(Fe)),pe.is("selected",unref(Ne)),pe.is("hovering",unref(qe))]),Ie=reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:Oe,itemSelected:Ne,isDisabled:Fe,select:Ue,hoverItem:$e,updateOption:ze}=useOption(xe,Ie),{visible:Ve,hover:qe}=toRefs(Ie),En=getCurrentInstance().proxy;Ue.onOptionCreate(En),onBeforeUnmount(()=>{const hn=En.value,{selected:_n}=Ue.states,An=(Ue.props.multiple?_n:[_n]).some(xn=>xn.value===En.value);nextTick(()=>{Ue.states.cachedOptions.get(hn)===En&&!An&&Ue.states.cachedOptions.delete(hn)}),Ue.onOptionDestroy(hn,En)});function vn(){xe.disabled!==!0&&Ie.groupDisabled!==!0&&Ue.handleOptionSelect(En)}return{ns:pe,id:_e,containerKls:Ce,currentLabel:Oe,itemSelected:Ne,isDisabled:Fe,select:Ue,hoverItem:$e,updateOption:ze,visible:Ve,hover:qe,selectOptionClick:vn,states:Ie}}}),_hoisted_1$d=["id","aria-disabled","aria-selected"];function _sfc_render$6(xe,pe,_e,Ce,Ie,Oe){return withDirectives((openBlock(),createElementBlock("li",{id:xe.id,class:normalizeClass(xe.containerKls),role:"option","aria-disabled":xe.isDisabled||void 0,"aria-selected":xe.itemSelected,onMouseenter:pe[0]||(pe[0]=(...Ne)=>xe.hoverItem&&xe.hoverItem(...Ne)),onClick:pe[1]||(pe[1]=withModifiers((...Ne)=>xe.selectOptionClick&&xe.selectOptionClick(...Ne),["stop"]))},[renderSlot(xe.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(xe.currentLabel),1)])],42,_hoisted_1$d)),[[vShow,xe.visible]])}var Option=_export_sfc(_sfc_main$k,[["render",_sfc_render$6],["__file","option.vue"]]);const _sfc_main$j=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const xe=inject(selectKey),pe=useNamespace("select"),_e=computed(()=>xe.props.popperClass),Ce=computed(()=>xe.props.multiple),Ie=computed(()=>xe.props.fitInputWidth),Oe=ref("");function Ne(){var Fe;Oe.value="".concat((Fe=xe.selectRef)==null?void 0:Fe.offsetWidth,"px")}return onMounted(()=>{Ne(),useResizeObserver(xe.selectRef,Ne)}),{ns:pe,minWidth:Oe,popperClass:_e,isMultiple:Ce,isFitInputWidth:Ie}}});function _sfc_render$5(xe,pe,_e,Ce,Ie,Oe){return openBlock(),createElementBlock("div",{class:normalizeClass([xe.ns.b("dropdown"),xe.ns.is("multiple",xe.isMultiple),xe.popperClass]),style:normalizeStyle$1({[xe.isFitInputWidth?"width":"minWidth"]:xe.minWidth})},[xe.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(xe.ns.be("dropdown","header"))},[renderSlot(xe.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(xe.$slots,"default"),xe.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(xe.ns.be("dropdown","footer"))},[renderSlot(xe.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu=_export_sfc(_sfc_main$j,[["render",_sfc_render$5],["__file","select-dropdown.vue"]]);function useInput(xe){const pe=ref(!1);return{handleCompositionStart:()=>{pe.value=!0},handleCompositionUpdate:Oe=>{const Ne=Oe.target.value,Fe=Ne[Ne.length-1]||"";pe.value=!isKorean(Fe)},handleCompositionEnd:Oe=>{pe.value&&(pe.value=!1,isFunction$2(xe)&&xe(Oe))}}}const MINIMUM_INPUT_WIDTH=11,useSelect$1=(xe,pe)=>{const{t:_e}=useLocale(),Ce=useId(),Ie=useNamespace("select"),Oe=useNamespace("input"),Ne=reactive({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:xe.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),Fe=ref(null),Ue=ref(null),$e=ref(null),ze=ref(null),Ve=ref(null),qe=ref(null),En=ref(null),vn=ref(null),hn=ref(null),_n=ref(null),bn=ref(null),An=ref(null),{wrapperRef:xn,isFocused:Sn,handleFocus:Cn,handleBlur:Tn}=useFocusController(Ve,{afterFocus(){xe.automaticDropdown&&!wn.value&&(wn.value=!0,Ne.menuVisibleOnFocus=!0)},beforeBlur(Rr){var dr,lo;return((dr=$e.value)==null?void 0:dr.isFocusInsideContent(Rr))||((lo=ze.value)==null?void 0:lo.isFocusInsideContent(Rr))},afterBlur(){wn.value=!1,Ne.menuVisibleOnFocus=!1}}),wn=ref(!1),Ln=ref(),{form:Pn,formItem:kn}=useFormItem(),{inputId:In}=useFormItemInputId(xe,{formItemContext:kn}),{valueOnClear:Rn,isEmptyValue:Nn}=useEmptyValues(xe),On=computed(()=>xe.disabled||(Pn==null?void 0:Pn.disabled)),Dn=computed(()=>xe.multiple?isArray$4(xe.modelValue)&&xe.modelValue.length>0:!Nn(xe.modelValue)),Mn=computed(()=>xe.clearable&&!On.value&&Ne.inputHovering&&Dn.value),Bn=computed(()=>xe.remote&&xe.filterable&&!xe.remoteShowSuffix?"":xe.suffixIcon),$n=computed(()=>Ie.is("reverse",Bn.value&&wn.value)),Fn=computed(()=>(kn==null?void 0:kn.validateState)||""),Un=computed(()=>ValidateComponentsMap[Fn.value]),Hn=computed(()=>xe.remote?300:0),Wn=computed(()=>xe.loading?xe.loadingText||_e("el.select.loading"):xe.remote&&!Ne.inputValue&&Ne.options.size===0?!1:xe.filterable&&Ne.inputValue&&Ne.options.size>0&&Xn.value===0?xe.noMatchText||_e("el.select.noMatch"):Ne.options.size===0?xe.noDataText||_e("el.select.noData"):null),Xn=computed(()=>or.value.filter(Rr=>Rr.visible).length),or=computed(()=>{const Rr=Array.from(Ne.options.values()),dr=[];return Ne.optionValues.forEach(lo=>{const Co=Rr.findIndex(Do=>Do.value===lo);Co>-1&&dr.push(Rr[Co])}),dr.length>=Rr.length?dr:Rr}),fr=computed(()=>Array.from(Ne.cachedOptions.values())),cr=computed(()=>{const Rr=or.value.filter(dr=>!dr.created).some(dr=>dr.currentLabel===Ne.inputValue);return xe.filterable&&xe.allowCreate&&Ne.inputValue!==""&&!Rr}),Jn=()=>{xe.filterable&&isFunction$2(xe.filterMethod)||xe.filterable&&xe.remote&&isFunction$2(xe.remoteMethod)||or.value.forEach(Rr=>{var dr;(dr=Rr.updateOption)==null||dr.call(Rr,Ne.inputValue)})},mr=useFormSize(),Ir=computed(()=>["small"].includes(mr.value)?"small":"default"),yr=computed({get(){return wn.value&&Wn.value!==!1},set(Rr){wn.value=Rr}}),Tr=computed(()=>isArray$4(xe.modelValue)?xe.modelValue.length===0&&!Ne.inputValue:xe.filterable?!Ne.inputValue:!0),Sr=computed(()=>{var Rr;const dr=(Rr=xe.placeholder)!=null?Rr:_e("el.select.placeholder");return xe.multiple||!Dn.value?dr:Ne.selectedLabel}),Yn=computed(()=>isIOS?null:"mouseenter");watch(()=>xe.modelValue,(Rr,dr)=>{xe.multiple&&xe.filterable&&!xe.reserveKeyword&&(Ne.inputValue="",Qn("")),gr(),!isEqual(Rr,dr)&&xe.validateEvent&&(kn==null||kn.validate("change").catch(lo=>void 0))},{flush:"post",deep:!0}),watch(()=>wn.value,Rr=>{Rr?Qn(Ne.inputValue):(Ne.inputValue="",Ne.previousQuery=null,Ne.isBeforeHide=!0),pe("visible-change",Rr)}),watch(()=>Ne.options.entries(),()=>{var Rr;if(!isClient)return;const dr=((Rr=Fe.value)==null?void 0:Rr.querySelectorAll("input"))||[];(!xe.filterable&&!xe.defaultFirstOption&&!isUndefined(xe.modelValue)||!Array.from(dr).includes(document.activeElement))&&gr(),xe.defaultFirstOption&&(xe.filterable||xe.remote)&&Xn.value&&rr()},{flush:"post"}),watch(()=>Ne.hoveringIndex,Rr=>{isNumber(Rr)&&Rr>-1?Ln.value=or.value[Rr]||{}:Ln.value={},or.value.forEach(dr=>{dr.hover=Ln.value===dr})}),watchEffect(()=>{Ne.isBeforeHide||Jn()});const Qn=Rr=>{Ne.previousQuery!==Rr&&(Ne.previousQuery=Rr,xe.filterable&&isFunction$2(xe.filterMethod)?xe.filterMethod(Rr):xe.filterable&&xe.remote&&isFunction$2(xe.remoteMethod)&&xe.remoteMethod(Rr),xe.defaultFirstOption&&(xe.filterable||xe.remote)&&Xn.value?nextTick(rr):nextTick(Br))},rr=()=>{const Rr=or.value.filter(Co=>Co.visible&&!Co.disabled&&!Co.states.groupDisabled),dr=Rr.find(Co=>Co.created),lo=Rr[0];Ne.hoveringIndex=kr(or.value,dr||lo)},gr=()=>{if(xe.multiple)Ne.selectedLabel="";else{const dr=Ar(xe.modelValue);Ne.selectedLabel=dr.currentLabel,Ne.selected=dr;return}const Rr=[];isArray$4(xe.modelValue)&&xe.modelValue.forEach(dr=>{Rr.push(Ar(dr))}),Ne.selected=Rr},Ar=Rr=>{let dr;const lo=toRawType(Rr).toLowerCase()==="object",Co=toRawType(Rr).toLowerCase()==="null",Do=toRawType(Rr).toLowerCase()==="undefined";for(let co=Ne.cachedOptions.size-1;co>=0;co--){const Xr=fr.value[co];if(lo?get$1(Xr.value,xe.valueKey)===get$1(Rr,xe.valueKey):Xr.value===Rr){dr={value:Rr,currentLabel:Xr.currentLabel,get isDisabled(){return Xr.isDisabled}};break}}if(dr)return dr;const go=lo?Rr.label:!Co&&!Do?Rr:"";return{value:Rr,currentLabel:go}},Br=()=>{xe.multiple?Ne.hoveringIndex=or.value.findIndex(Rr=>Ne.selected.some(dr=>Ho(dr)===Ho(Rr))):Ne.hoveringIndex=or.value.findIndex(Rr=>Ho(Rr)===Ho(Ne.selected))},Vr=()=>{Ne.selectionWidth=Ue.value.getBoundingClientRect().width},Fr=()=>{Ne.calculatorWidth=qe.value.getBoundingClientRect().width},Er=()=>{Ne.collapseItemWidth=bn.value.getBoundingClientRect().width},Dr=()=>{var Rr,dr;(dr=(Rr=$e.value)==null?void 0:Rr.updatePopper)==null||dr.call(Rr)},Pr=()=>{var Rr,dr;(dr=(Rr=ze.value)==null?void 0:Rr.updatePopper)==null||dr.call(Rr)},$r=()=>{Ne.inputValue.length>0&&!wn.value&&(wn.value=!0),Qn(Ne.inputValue)},Lr=Rr=>{if(Ne.inputValue=Rr.target.value,xe.remote)Or();else return $r()},Or=debounce(()=>{$r()},Hn.value),Hr=Rr=>{isEqual(xe.modelValue,Rr)||pe(CHANGE_EVENT,Rr)},qr=Rr=>findLastIndex(Rr,dr=>!Ne.disabledOptions.has(dr)),ao=Rr=>{if(xe.multiple&&Rr.code!==EVENT_CODE.delete&&Rr.target.value.length<=0){const dr=xe.modelValue.slice(),lo=qr(dr);if(lo<0)return;const Co=dr[lo];dr.splice(lo,1),pe(UPDATE_MODEL_EVENT,dr),Hr(dr),pe("remove-tag",Co)}},Ur=(Rr,dr)=>{const lo=Ne.selected.indexOf(dr);if(lo>-1&&!On.value){const Co=xe.modelValue.slice();Co.splice(lo,1),pe(UPDATE_MODEL_EVENT,Co),Hr(Co),pe("remove-tag",dr.value)}Rr.stopPropagation(),no()},_r=Rr=>{Rr.stopPropagation();const dr=xe.multiple?[]:Rn.value;if(xe.multiple)for(const lo of Ne.selected)lo.isDisabled&&dr.push(lo.value);pe(UPDATE_MODEL_EVENT,dr),Hr(dr),Ne.hoveringIndex=-1,wn.value=!1,pe("clear"),no()},ur=Rr=>{if(xe.multiple){const dr=(xe.modelValue||[]).slice(),lo=kr(dr,Rr.value);lo>-1?dr.splice(lo,1):(xe.multipleLimit<=0||dr.length<xe.multipleLimit)&&dr.push(Rr.value),pe(UPDATE_MODEL_EVENT,dr),Hr(dr),Rr.created&&Qn(""),xe.filterable&&!xe.reserveKeyword&&(Ne.inputValue="")}else pe(UPDATE_MODEL_EVENT,Rr.value),Hr(Rr.value),wn.value=!1;no(),!wn.value&&nextTick(()=>{lr(Rr)})},kr=(Rr=[],dr)=>{if(!isObject$3(dr))return Rr.indexOf(dr);const lo=xe.valueKey;let Co=-1;return Rr.some((Do,go)=>toRaw(get$1(Do,lo))===get$1(dr,lo)?(Co=go,!0):!1),Co},lr=Rr=>{var dr,lo,Co,Do,go;const vo=isArray$4(Rr)?Rr[0]:Rr;let co=null;if(vo!=null&&vo.value){const Xr=or.value.filter(ro=>ro.value===vo.value);Xr.length>0&&(co=Xr[0].$el)}if($e.value&&co){const Xr=(Do=(Co=(lo=(dr=$e.value)==null?void 0:dr.popperRef)==null?void 0:lo.contentRef)==null?void 0:Co.querySelector)==null?void 0:Do.call(Co,".".concat(Ie.be("dropdown","wrap")));Xr&&scrollIntoView(Xr,co)}(go=An.value)==null||go.handleScroll()},br=Rr=>{Ne.options.set(Rr.value,Rr),Ne.cachedOptions.set(Rr.value,Rr),Rr.disabled&&Ne.disabledOptions.set(Rr.value,Rr)},Mr=(Rr,dr)=>{Ne.options.get(Rr)===dr&&Ne.options.delete(Rr)},{handleCompositionStart:vr,handleCompositionUpdate:jr,handleCompositionEnd:Gr}=useInput(Rr=>Lr(Rr)),zr=computed(()=>{var Rr,dr;return(dr=(Rr=$e.value)==null?void 0:Rr.popperRef)==null?void 0:dr.contentRef}),to=()=>{Ne.isBeforeHide=!1,nextTick(()=>lr(Ne.selected))},no=()=>{var Rr;(Rr=Ve.value)==null||Rr.focus()},oo=()=>{So()},Eo=Rr=>{_r(Rr)},So=Rr=>{if(wn.value=!1,Sn.value){const dr=new FocusEvent("focus",Rr);nextTick(()=>Tn(dr))}},No=()=>{Ne.inputValue.length>0?Ne.inputValue="":wn.value=!1},Fo=()=>{On.value||(isIOS&&(Ne.inputHovering=!0),Ne.menuVisibleOnFocus?Ne.menuVisibleOnFocus=!1:wn.value=!wn.value)},Bo=()=>{wn.value?or.value[Ne.hoveringIndex]&&ur(or.value[Ne.hoveringIndex]):Fo()},Ho=Rr=>isObject$3(Rr.value)?get$1(Rr.value,xe.valueKey):Rr.value,Go=computed(()=>or.value.filter(Rr=>Rr.visible).every(Rr=>Rr.disabled)),si=computed(()=>xe.multiple?xe.collapseTags?Ne.selected.slice(0,xe.maxCollapseTags):Ne.selected:[]),Ai=computed(()=>xe.multiple?xe.collapseTags?Ne.selected.slice(xe.maxCollapseTags):[]:[]),Po=Rr=>{if(!wn.value){wn.value=!0;return}if(!(Ne.options.size===0||Xn.value===0)&&!Go.value){Rr==="next"?(Ne.hoveringIndex++,Ne.hoveringIndex===Ne.options.size&&(Ne.hoveringIndex=0)):Rr==="prev"&&(Ne.hoveringIndex--,Ne.hoveringIndex<0&&(Ne.hoveringIndex=Ne.options.size-1));const dr=or.value[Ne.hoveringIndex];(dr.disabled===!0||dr.states.groupDisabled===!0||!dr.visible)&&Po(Rr),nextTick(()=>lr(Ln.value))}},Io=()=>{if(!Ue.value)return 0;const Rr=window.getComputedStyle(Ue.value);return Number.parseFloat(Rr.gap||"6px")},_o=computed(()=>{const Rr=Io(),dr=bn.value&&xe.maxCollapseTags===1?Ne.selectionWidth-Ne.collapseItemWidth-Rr:Ne.selectionWidth;return{maxWidth:"".concat(dr,"px")}}),eo=computed(()=>({maxWidth:"".concat(Ne.selectionWidth,"px")})),so=computed(()=>({width:"".concat(Math.max(Ne.calculatorWidth,MINIMUM_INPUT_WIDTH),"px")}));return xe.multiple&&!isArray$4(xe.modelValue)&&pe(UPDATE_MODEL_EVENT,[]),!xe.multiple&&isArray$4(xe.modelValue)&&pe(UPDATE_MODEL_EVENT,""),useResizeObserver(Ue,Vr),useResizeObserver(qe,Fr),useResizeObserver(hn,Dr),useResizeObserver(xn,Dr),useResizeObserver(_n,Pr),useResizeObserver(bn,Er),onMounted(()=>{gr()}),{inputId:In,contentId:Ce,nsSelect:Ie,nsInput:Oe,states:Ne,isFocused:Sn,expanded:wn,optionsArray:or,hoverOption:Ln,selectSize:mr,filteredOptionsCount:Xn,resetCalculatorWidth:Fr,updateTooltip:Dr,updateTagTooltip:Pr,debouncedOnInputChange:Or,onInput:Lr,deletePrevTag:ao,deleteTag:Ur,deleteSelected:_r,handleOptionSelect:ur,scrollToOption:lr,hasModelValue:Dn,shouldShowPlaceholder:Tr,currentPlaceholder:Sr,mouseEnterEventName:Yn,showClose:Mn,iconComponent:Bn,iconReverse:$n,validateState:Fn,validateIcon:Un,showNewOption:cr,updateOptions:Jn,collapseTagSize:Ir,setSelected:gr,selectDisabled:On,emptyText:Wn,handleCompositionStart:vr,handleCompositionUpdate:jr,handleCompositionEnd:Gr,onOptionCreate:br,onOptionDestroy:Mr,handleMenuEnter:to,handleFocus:Cn,focus:no,blur:oo,handleBlur:Tn,handleClearClick:Eo,handleClickOutside:So,handleEsc:No,toggleMenu:Fo,selectOption:Bo,getValueKey:Ho,navigateOptions:Po,dropdownMenuVisible:yr,showTagList:si,collapseTagList:Ai,tagStyle:_o,collapseTagStyle:eo,inputStyle:so,popperRef:zr,inputRef:Ve,tooltipRef:$e,tagTooltipRef:ze,calculatorRef:qe,prefixRef:En,suffixRef:vn,selectRef:Fe,wrapperRef:xn,selectionRef:Ue,scrollbarRef:An,menuRef:hn,tagMenuRef:_n,collapseItemRef:bn}};var ElOptions=defineComponent({name:"ElOptions",setup(xe,{slots:pe}){const _e=inject(selectKey);let Ce=[];return()=>{var Ie,Oe;const Ne=(Ie=pe.default)==null?void 0:Ie.call(pe),Fe=[];function Ue($e){isArray$4($e)&&$e.forEach(ze=>{var Ve,qe,En,vn;const hn=(Ve=(ze==null?void 0:ze.type)||{})==null?void 0:Ve.name;hn==="ElOptionGroup"?Ue(!isString$3(ze.children)&&!isArray$4(ze.children)&&isFunction$2((qe=ze.children)==null?void 0:qe.default)?(En=ze.children)==null?void 0:En.default():ze.children):hn==="ElOption"?Fe.push((vn=ze.props)==null?void 0:vn.value):isArray$4(ze.children)&&Ue(ze.children)})}return Ne.length&&Ue((Oe=Ne[0])==null?void 0:Oe.children),isEqual(Fe,Ce)||(Ce=Fe,_e&&(_e.states.optionValues=Fe)),Ne}}});const SelectProps=buildProps({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),COMPONENT_NAME$2="ElSelect",_sfc_main$i=defineComponent({name:COMPONENT_NAME$2,componentName:COMPONENT_NAME$2,components:{ElInput,ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(xe,{emit:pe}){const _e=useSelect$1(xe,pe);return provide(selectKey,reactive({props:xe,states:_e.states,optionsArray:_e.optionsArray,handleOptionSelect:_e.handleOptionSelect,onOptionCreate:_e.onOptionCreate,onOptionDestroy:_e.onOptionDestroy,selectRef:_e.selectRef,setSelected:_e.setSelected})),{..._e}}}),_hoisted_1$c=["id","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],_hoisted_2$a=["textContent"],_hoisted_3$5={key:1};function _sfc_render$4(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-tag"),Fe=resolveComponent("el-tooltip"),Ue=resolveComponent("el-icon"),$e=resolveComponent("el-option"),ze=resolveComponent("el-options"),Ve=resolveComponent("el-scrollbar"),qe=resolveComponent("el-select-menu"),En=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([xe.nsSelect.b(),xe.nsSelect.m(xe.selectSize)]),[toHandlerKey(xe.mouseEnterEventName)]:pe[16]||(pe[16]=vn=>xe.states.inputHovering=!0),onMouseleave:pe[17]||(pe[17]=vn=>xe.states.inputHovering=!1),onClick:pe[18]||(pe[18]=withModifiers((...vn)=>xe.toggleMenu&&xe.toggleMenu(...vn),["prevent","stop"]))},[createVNode(Fe,{ref:"tooltipRef",visible:xe.dropdownMenuVisible,placement:xe.placement,teleported:xe.teleported,"popper-class":[xe.nsSelect.e("popper"),xe.popperClass],"popper-options":xe.popperOptions,"fallback-placements":xe.fallbackPlacements,effect:xe.effect,pure:"",trigger:"click",transition:"".concat(xe.nsSelect.namespace.value,"-zoom-in-top"),"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:xe.persistent,onBeforeShow:xe.handleMenuEnter,onHide:pe[15]||(pe[15]=vn=>xe.states.isBeforeHide=!1)},{default:withCtx(()=>{var vn;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([xe.nsSelect.e("wrapper"),xe.nsSelect.is("focused",xe.isFocused),xe.nsSelect.is("hovering",xe.states.inputHovering),xe.nsSelect.is("filterable",xe.filterable),xe.nsSelect.is("disabled",xe.selectDisabled)])},[xe.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(xe.nsSelect.e("prefix"))},[renderSlot(xe.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([xe.nsSelect.e("selection"),xe.nsSelect.is("near",xe.multiple&&!xe.$slots.prefix&&!!xe.states.selected.length)])},[xe.multiple?renderSlot(xe.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.showTagList,hn=>(openBlock(),createElementBlock("div",{key:xe.getValueKey(hn),class:normalizeClass(xe.nsSelect.e("selected-item"))},[createVNode(Ne,{closable:!xe.selectDisabled&&!hn.isDisabled,size:xe.collapseTagSize,type:xe.tagType,"disable-transitions":"",style:normalizeStyle$1(xe.tagStyle),onClose:_n=>xe.deleteTag(_n,hn)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(xe.nsSelect.e("tags-text"))},[renderSlot(xe.$slots,"label",{label:hn.currentLabel,value:hn.value},()=>[createTextVNode(toDisplayString(hn.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),xe.collapseTags&&xe.states.selected.length>xe.maxCollapseTags?(openBlock(),createBlock(Fe,{key:0,ref:"tagTooltipRef",disabled:xe.dropdownMenuVisible||!xe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:xe.effect,placement:"bottom",teleported:xe.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(xe.nsSelect.e("selected-item"))},[createVNode(Ne,{closable:!1,size:xe.collapseTagSize,type:xe.tagType,"disable-transitions":"",style:normalizeStyle$1(xe.collapseTagStyle)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(xe.nsSelect.e("tags-text"))}," + "+toDisplayString(xe.states.selected.length-xe.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(xe.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.collapseTagList,hn=>(openBlock(),createElementBlock("div",{key:xe.getValueKey(hn),class:normalizeClass(xe.nsSelect.e("selected-item"))},[createVNode(Ne,{class:"in-tooltip",closable:!xe.selectDisabled&&!hn.isDisabled,size:xe.collapseTagSize,type:xe.tagType,"disable-transitions":"",onClose:_n=>xe.deleteTag(_n,hn)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(xe.nsSelect.e("tags-text"))},[renderSlot(xe.$slots,"label",{label:hn.currentLabel,value:hn.value},()=>[createTextVNode(toDisplayString(hn.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),xe.selectDisabled?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([xe.nsSelect.e("selected-item"),xe.nsSelect.e("input-wrapper"),xe.nsSelect.is("hidden",!xe.filterable)])},[withDirectives(createBaseVNode("input",{id:xe.inputId,ref:"inputRef","onUpdate:modelValue":pe[0]||(pe[0]=hn=>xe.states.inputValue=hn),type:"text",name:xe.name,class:normalizeClass([xe.nsSelect.e("input"),xe.nsSelect.is(xe.selectSize)]),disabled:xe.selectDisabled,autocomplete:xe.autocomplete,style:normalizeStyle$1(xe.inputStyle),role:"combobox",readonly:!xe.filterable,spellcheck:"false","aria-activedescendant":((vn=xe.hoverOption)==null?void 0:vn.id)||"","aria-controls":xe.contentId,"aria-expanded":xe.dropdownMenuVisible,"aria-label":xe.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:pe[1]||(pe[1]=(...hn)=>xe.handleFocus&&xe.handleFocus(...hn)),onBlur:pe[2]||(pe[2]=(...hn)=>xe.handleBlur&&xe.handleBlur(...hn)),onKeydown:[pe[3]||(pe[3]=withKeys(withModifiers(hn=>xe.navigateOptions("next"),["stop","prevent"]),["down"])),pe[4]||(pe[4]=withKeys(withModifiers(hn=>xe.navigateOptions("prev"),["stop","prevent"]),["up"])),pe[5]||(pe[5]=withKeys(withModifiers((...hn)=>xe.handleEsc&&xe.handleEsc(...hn),["stop","prevent"]),["esc"])),pe[6]||(pe[6]=withKeys(withModifiers((...hn)=>xe.selectOption&&xe.selectOption(...hn),["stop","prevent"]),["enter"])),pe[7]||(pe[7]=withKeys(withModifiers((...hn)=>xe.deletePrevTag&&xe.deletePrevTag(...hn),["stop"]),["delete"]))],onCompositionstart:pe[8]||(pe[8]=(...hn)=>xe.handleCompositionStart&&xe.handleCompositionStart(...hn)),onCompositionupdate:pe[9]||(pe[9]=(...hn)=>xe.handleCompositionUpdate&&xe.handleCompositionUpdate(...hn)),onCompositionend:pe[10]||(pe[10]=(...hn)=>xe.handleCompositionEnd&&xe.handleCompositionEnd(...hn)),onInput:pe[11]||(pe[11]=(...hn)=>xe.onInput&&xe.onInput(...hn)),onClick:pe[12]||(pe[12]=withModifiers((...hn)=>xe.toggleMenu&&xe.toggleMenu(...hn),["stop"]))},null,46,_hoisted_1$c),[[vModelText,xe.states.inputValue]]),xe.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(xe.nsSelect.e("input-calculator")),textContent:toDisplayString(xe.states.inputValue)},null,10,_hoisted_2$a)):createCommentVNode("v-if",!0)],2)),xe.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass([xe.nsSelect.e("selected-item"),xe.nsSelect.e("placeholder"),xe.nsSelect.is("transparent",!xe.hasModelValue||xe.expanded&&!xe.states.inputValue)])},[xe.hasModelValue?renderSlot(xe.$slots,"label",{key:0,label:xe.currentPlaceholder,value:xe.modelValue},()=>[createBaseVNode("span",null,toDisplayString(xe.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",_hoisted_3$5,toDisplayString(xe.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(xe.nsSelect.e("suffix"))},[xe.iconComponent&&!xe.showClose?(openBlock(),createBlock(Ue,{key:0,class:normalizeClass([xe.nsSelect.e("caret"),xe.nsSelect.e("icon"),xe.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),xe.showClose&&xe.clearIcon?(openBlock(),createBlock(Ue,{key:1,class:normalizeClass([xe.nsSelect.e("caret"),xe.nsSelect.e("icon")]),onClick:xe.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),xe.validateState&&xe.validateIcon?(openBlock(),createBlock(Ue,{key:2,class:normalizeClass([xe.nsInput.e("icon"),xe.nsInput.e("validateIcon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)]}),content:withCtx(()=>[createVNode(qe,{ref:"menuRef"},{default:withCtx(()=>[xe.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(xe.nsSelect.be("dropdown","header")),onClick:pe[13]||(pe[13]=withModifiers(()=>{},["stop"]))},[renderSlot(xe.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode(Ve,{id:xe.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":xe.nsSelect.be("dropdown","wrap"),"view-class":xe.nsSelect.be("dropdown","list"),class:normalizeClass([xe.nsSelect.is("empty",xe.filteredOptionsCount===0)]),role:"listbox","aria-label":xe.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[xe.showNewOption?(openBlock(),createBlock($e,{key:0,value:xe.states.inputValue,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(ze,null,{default:withCtx(()=>[renderSlot(xe.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vShow,xe.states.options.size>0&&!xe.loading]]),xe.$slots.loading&&xe.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(xe.nsSelect.be("dropdown","loading"))},[renderSlot(xe.$slots,"loading")],2)):xe.loading||xe.filteredOptionsCount===0?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(xe.nsSelect.be("dropdown","empty"))},[renderSlot(xe.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(xe.emptyText),1)])],2)):createCommentVNode("v-if",!0),xe.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(xe.nsSelect.be("dropdown","footer")),onClick:pe[14]||(pe[14]=withModifiers(()=>{},["stop"]))},[renderSlot(xe.$slots,"footer")],2)):createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],16)),[[En,xe.handleClickOutside,xe.popperRef]])}var Select=_export_sfc(_sfc_main$i,[["render",_sfc_render$4],["__file","select.vue"]]);const _sfc_main$h=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(xe){const pe=useNamespace("select"),_e=ref(null),Ce=getCurrentInstance(),Ie=ref([]);provide(selectGroupKey,reactive({...toRefs(xe)}));const Oe=computed(()=>Ie.value.some($e=>$e.visible===!0)),Ne=$e=>{var ze,Ve;return((ze=$e.type)==null?void 0:ze.name)==="ElOption"&&!!((Ve=$e.component)!=null&&Ve.proxy)},Fe=$e=>{const ze=castArray$1($e),Ve=[];return ze.forEach(qe=>{var En,vn;Ne(qe)?Ve.push(qe.component.proxy):(En=qe.children)!=null&&En.length?Ve.push(...Fe(qe.children)):(vn=qe.component)!=null&&vn.subTree&&Ve.push(...Fe(qe.component.subTree))}),Ve},Ue=()=>{Ie.value=Fe(Ce.subTree)};return onMounted(()=>{Ue()}),useMutationObserver(_e,Ue,{attributes:!0,subtree:!0,childList:!0}),{groupRef:_e,visible:Oe,ns:pe}}});function _sfc_render$3(xe,pe,_e,Ce,Ie,Oe){return withDirectives((openBlock(),createElementBlock("ul",{ref:"groupRef",class:normalizeClass(xe.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(xe.ns.be("group","title"))},toDisplayString(xe.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(xe.ns.b("group"))},[renderSlot(xe.$slots,"default")],2)])],2)),[[vShow,xe.visible]])}var OptionGroup=_export_sfc(_sfc_main$h,[["render",_sfc_render$3],["__file","option-group.vue"]]);const ElSelect=withInstall$1(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);const progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:xe=>xe>=0&&xe<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:xe=>"".concat(xe,"%")}}),_hoisted_1$b=["aria-valuenow"],_hoisted_2$9={viewBox:"0 0 100 100"},_hoisted_3$4=["d","stroke","stroke-linecap","stroke-width"],_hoisted_4$3=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$2={key:0},__default__$b=defineComponent({name:"ElProgress"}),_sfc_main$g=defineComponent({...__default__$b,props:progressProps,setup(xe){const pe=xe,_e={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},Ce=useNamespace("progress"),Ie=computed(()=>{const xn={width:"".concat(pe.percentage,"%"),animationDuration:"".concat(pe.duration,"s")},Sn=An(pe.percentage);return Sn.includes("gradient")?xn.background=Sn:xn.backgroundColor=Sn,xn}),Oe=computed(()=>(pe.strokeWidth/pe.width*100).toFixed(1)),Ne=computed(()=>["circle","dashboard"].includes(pe.type)?Number.parseInt("".concat(50-Number.parseFloat(Oe.value)/2),10):0),Fe=computed(()=>{const xn=Ne.value,Sn=pe.type==="dashboard";return"\n          M 50 50\n          m 0 ".concat(Sn?"":"-").concat(xn,"\n          a ").concat(xn," ").concat(xn," 0 1 1 0 ").concat(Sn?"-":"").concat(xn*2,"\n          a ").concat(xn," ").concat(xn," 0 1 1 0 ").concat(Sn?"":"-").concat(xn*2,"\n          ")}),Ue=computed(()=>2*Math.PI*Ne.value),$e=computed(()=>pe.type==="dashboard"?.75:1),ze=computed(()=>{const xn=-1*Ue.value*(1-$e.value)/2;return"".concat(xn,"px")}),Ve=computed(()=>({strokeDasharray:"".concat(Ue.value*$e.value,"px, ").concat(Ue.value,"px"),strokeDashoffset:ze.value})),qe=computed(()=>({strokeDasharray:"".concat(Ue.value*$e.value*(pe.percentage/100),"px, ").concat(Ue.value,"px"),strokeDashoffset:ze.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),En=computed(()=>{let xn;return pe.color?xn=An(pe.percentage):xn=_e[pe.status]||_e.default,xn}),vn=computed(()=>pe.status==="warning"?warning_filled_default:pe.type==="line"?pe.status==="success"?circle_check_default:circle_close_default:pe.status==="success"?check_default:close_default),hn=computed(()=>pe.type==="line"?12+pe.strokeWidth*.4:pe.width*.111111+2),_n=computed(()=>pe.format(pe.percentage));function bn(xn){const Sn=100/xn.length;return xn.map((Tn,wn)=>isString$3(Tn)?{color:Tn,percentage:(wn+1)*Sn}:Tn).sort((Tn,wn)=>Tn.percentage-wn.percentage)}const An=xn=>{var Sn;const{color:Cn}=pe;if(isFunction$2(Cn))return Cn(xn);if(isString$3(Cn))return Cn;{const Tn=bn(Cn);for(const wn of Tn)if(wn.percentage>xn)return wn.color;return(Sn=Tn[Tn.length-1])==null?void 0:Sn.color}};return(xn,Sn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ce).b(),unref(Ce).m(xn.type),unref(Ce).is(xn.status),{[unref(Ce).m("without-text")]:!xn.showText,[unref(Ce).m("text-inside")]:xn.textInside}]),role:"progressbar","aria-valuenow":xn.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[xn.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ce).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(Ce).be("bar","outer")),style:normalizeStyle$1({height:"".concat(xn.strokeWidth,"px")})},[createBaseVNode("div",{class:normalizeClass([unref(Ce).be("bar","inner"),{[unref(Ce).bem("bar","inner","indeterminate")]:xn.indeterminate},{[unref(Ce).bem("bar","inner","striped")]:xn.striped},{[unref(Ce).bem("bar","inner","striped-flow")]:xn.stripedFlow}]),style:normalizeStyle$1(unref(Ie))},[(xn.showText||xn.$slots.default)&&xn.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ce).be("bar","innerText"))},[renderSlot(xn.$slots,"default",{percentage:xn.percentage},()=>[createBaseVNode("span",null,toDisplayString(unref(_n)),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(Ce).b("circle")),style:normalizeStyle$1({height:"".concat(xn.width,"px"),width:"".concat(xn.width,"px")})},[(openBlock(),createElementBlock("svg",_hoisted_2$9,[createBaseVNode("path",{class:normalizeClass(unref(Ce).be("circle","track")),d:unref(Fe),stroke:"var(".concat(unref(Ce).cssVarName("fill-color-light"),", #e5e9f2)"),"stroke-linecap":xn.strokeLinecap,"stroke-width":unref(Oe),fill:"none",style:normalizeStyle$1(unref(Ve))},null,14,_hoisted_3$4),createBaseVNode("path",{class:normalizeClass(unref(Ce).be("circle","path")),d:unref(Fe),stroke:unref(En),fill:"none",opacity:xn.percentage?1:0,"stroke-linecap":xn.strokeLinecap,"stroke-width":unref(Oe),style:normalizeStyle$1(unref(qe))},null,14,_hoisted_4$3)]))],6)),(xn.showText||xn.$slots.default)&&!xn.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(Ce).e("text")),style:normalizeStyle$1({fontSize:"".concat(unref(hn),"px")})},[renderSlot(xn.$slots,"default",{percentage:xn.percentage},()=>[xn.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(vn))))]),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(unref(_n)),1))])],6)):createCommentVNode("v-if",!0)],10,_hoisted_1$b))}});var Progress=_export_sfc(_sfc_main$g,[["__file","progress.vue"]]);const ElProgress=withInstall$1(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...useAriaProps(["ariaLabel"])}),rateEmits={[CHANGE_EVENT]:xe=>isNumber(xe),[UPDATE_MODEL_EVENT]:xe=>isNumber(xe)},_hoisted_1$a=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],_hoisted_2$8=["onMousemove","onClick"],__default__$a=defineComponent({name:"ElRate"}),_sfc_main$f=defineComponent({...__default__$a,props:rateProps,emits:rateEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe;function Ie(Mn,Bn){const $n=Hn=>isObject$3(Hn),Fn=Object.keys(Bn).map(Hn=>+Hn).filter(Hn=>{const Wn=Bn[Hn];return($n(Wn)?Wn.excluded:!1)?Mn<Hn:Mn<=Hn}).sort((Hn,Wn)=>Hn-Wn),Un=Bn[Fn[0]];return $n(Un)&&Un.value||Un}const Oe=inject(formContextKey,void 0),Ne=inject(formItemContextKey,void 0),Fe=useFormSize(),Ue=useNamespace("rate"),{inputId:$e,isLabeledByFormItem:ze}=useFormItemInputId(Ce,{formItemContext:Ne}),Ve=ref(Ce.modelValue),qe=ref(-1),En=ref(!0),vn=computed(()=>[Ue.b(),Ue.m(Fe.value)]),hn=computed(()=>Ce.disabled||(Oe==null?void 0:Oe.disabled)),_n=computed(()=>Ue.cssVarBlock({"void-color":Ce.voidColor,"disabled-void-color":Ce.disabledVoidColor,"fill-color":Sn.value})),bn=computed(()=>{let Mn="";return Ce.showScore?Mn=Ce.scoreTemplate.replace(/\{\s*value\s*\}/,hn.value?"".concat(Ce.modelValue):"".concat(Ve.value)):Ce.showText&&(Mn=Ce.texts[Math.ceil(Ve.value)-1]),Mn}),An=computed(()=>Ce.modelValue*100-Math.floor(Ce.modelValue)*100),xn=computed(()=>isArray$4(Ce.colors)?{[Ce.lowThreshold]:Ce.colors[0],[Ce.highThreshold]:{value:Ce.colors[1],excluded:!0},[Ce.max]:Ce.colors[2]}:Ce.colors),Sn=computed(()=>{const Mn=Ie(Ve.value,xn.value);return isObject$3(Mn)?"":Mn}),Cn=computed(()=>{let Mn="";return hn.value?Mn="".concat(An.value,"%"):Ce.allowHalf&&(Mn="50%"),{color:Sn.value,width:Mn}}),Tn=computed(()=>{let Mn=isArray$4(Ce.icons)?[...Ce.icons]:{...Ce.icons};return Mn=markRaw(Mn),isArray$4(Mn)?{[Ce.lowThreshold]:Mn[0],[Ce.highThreshold]:{value:Mn[1],excluded:!0},[Ce.max]:Mn[2]}:Mn}),wn=computed(()=>Ie(Ce.modelValue,Tn.value)),Ln=computed(()=>hn.value?isString$3(Ce.disabledVoidIcon)?Ce.disabledVoidIcon:markRaw(Ce.disabledVoidIcon):isString$3(Ce.voidIcon)?Ce.voidIcon:markRaw(Ce.voidIcon)),Pn=computed(()=>Ie(Ve.value,Tn.value));function kn(Mn){const Bn=hn.value&&An.value>0&&Mn-1<Ce.modelValue&&Mn>Ce.modelValue,$n=Ce.allowHalf&&En.value&&Mn-.5<=Ve.value&&Mn>Ve.value;return Bn||$n}function In(Mn){Ce.clearable&&Mn===Ce.modelValue&&(Mn=0),_e(UPDATE_MODEL_EVENT,Mn),Ce.modelValue!==Mn&&_e("change",Mn)}function Rn(Mn){hn.value||(Ce.allowHalf&&En.value?In(Ve.value):In(Mn))}function Nn(Mn){if(hn.value)return;let Bn=Ve.value;const $n=Mn.code;return $n===EVENT_CODE.up||$n===EVENT_CODE.right?(Ce.allowHalf?Bn+=.5:Bn+=1,Mn.stopPropagation(),Mn.preventDefault()):($n===EVENT_CODE.left||$n===EVENT_CODE.down)&&(Ce.allowHalf?Bn-=.5:Bn-=1,Mn.stopPropagation(),Mn.preventDefault()),Bn=Bn<0?0:Bn,Bn=Bn>Ce.max?Ce.max:Bn,_e(UPDATE_MODEL_EVENT,Bn),_e("change",Bn),Bn}function On(Mn,Bn){if(!hn.value){if(Ce.allowHalf&&Bn){let $n=Bn.target;hasClass($n,Ue.e("item"))&&($n=$n.querySelector(".".concat(Ue.e("icon")))),($n.clientWidth===0||hasClass($n,Ue.e("decimal")))&&($n=$n.parentNode),En.value=Bn.offsetX*2<=$n.clientWidth,Ve.value=En.value?Mn-.5:Mn}else Ve.value=Mn;qe.value=Mn}}function Dn(){hn.value||(Ce.allowHalf&&(En.value=Ce.modelValue!==Math.floor(Ce.modelValue)),Ve.value=Ce.modelValue,qe.value=-1)}return watch(()=>Ce.modelValue,Mn=>{Ve.value=Mn,En.value=Ce.modelValue!==Math.floor(Ce.modelValue)}),Ce.modelValue||_e(UPDATE_MODEL_EVENT,0),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},computed(()=>!!Ce.label)),pe({setCurrentValue:On,resetCurrentValue:Dn}),(Mn,Bn)=>{var $n;return openBlock(),createElementBlock("div",{id:unref($e),class:normalizeClass([unref(vn),unref(Ue).is("disabled",unref(hn))]),role:"slider","aria-label":unref(ze)?void 0:Mn.label||Mn.ariaLabel||"rating","aria-labelledby":unref(ze)?($n=unref(Ne))==null?void 0:$n.labelId:void 0,"aria-valuenow":Ve.value,"aria-valuetext":unref(bn)||void 0,"aria-valuemin":"0","aria-valuemax":Mn.max,tabindex:"0",style:normalizeStyle$1(unref(_n)),onKeydown:Nn},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Mn.max,(Fn,Un)=>(openBlock(),createElementBlock("span",{key:Un,class:normalizeClass(unref(Ue).e("item")),onMousemove:Hn=>On(Fn,Hn),onMouseleave:Dn,onClick:Hn=>Rn(Fn)},[createVNode(unref(ElIcon),{class:normalizeClass([unref(Ue).e("icon"),{hover:qe.value===Fn},unref(Ue).is("active",Fn<=Ve.value)])},{default:withCtx(()=>[kn(Fn)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment$1,{key:0},[withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Pn)),null,null,512)),[[vShow,Fn<=Ve.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Ln)),null,null,512)),[[vShow,!(Fn<=Ve.value)]])],64)),kn(Fn)?(openBlock(),createElementBlock(Fragment$1,{key:1},[(openBlock(),createBlock(resolveDynamicComponent(unref(Ln)),{class:normalizeClass([unref(Ue).em("decimal","box")])},null,8,["class"])),createVNode(unref(ElIcon),{style:normalizeStyle$1(unref(Cn)),class:normalizeClass([unref(Ue).e("icon"),unref(Ue).e("decimal")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(wn))))]),_:1},8,["style","class"])],64)):createCommentVNode("v-if",!0)]),_:2},1032,["class"])],42,_hoisted_2$8))),128)),Mn.showText||Mn.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Ue).e("text")),style:normalizeStyle$1({color:Mn.textColor})},toDisplayString(unref(bn)),7)):createCommentVNode("v-if",!0)],46,_hoisted_1$a)}}});var Rate=_export_sfc(_sfc_main$f,[["__file","rate.vue"]]);const ElRate=withInstall$1(Rate),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),isValidValue$1=xe=>isNumber(xe)||isArray$4(xe)&&xe.every(isNumber),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},useLifecycle=(xe,pe,_e)=>{const Ce=ref();return onMounted(async()=>{xe.range?(Array.isArray(xe.modelValue)?(pe.firstValue=Math.max(xe.min,xe.modelValue[0]),pe.secondValue=Math.min(xe.max,xe.modelValue[1])):(pe.firstValue=xe.min,pe.secondValue=xe.max),pe.oldValue=[pe.firstValue,pe.secondValue]):(typeof xe.modelValue!="number"||Number.isNaN(xe.modelValue)?pe.firstValue=xe.min:pe.firstValue=Math.min(xe.max,Math.max(xe.min,xe.modelValue)),pe.oldValue=pe.firstValue),useEventListener(window,"resize",_e),await nextTick(),_e()}),{sliderWrapper:Ce}},useMarks=xe=>computed(()=>xe.marks?Object.keys(xe.marks).map(Number.parseFloat).sort((_e,Ce)=>_e-Ce).filter(_e=>_e<=xe.max&&_e>=xe.min).map(_e=>({point:_e,position:(_e-xe.min)*100/(xe.max-xe.min),mark:xe.marks[_e]})):[]),useSlide=(xe,pe,_e)=>{const{form:Ce,formItem:Ie}=useFormItem(),Oe=shallowRef(),Ne=ref(),Fe=ref(),Ue={firstButton:Ne,secondButton:Fe},$e=computed(()=>xe.disabled||(Ce==null?void 0:Ce.disabled)||!1),ze=computed(()=>Math.min(pe.firstValue,pe.secondValue)),Ve=computed(()=>Math.max(pe.firstValue,pe.secondValue)),qe=computed(()=>xe.range?"".concat(100*(Ve.value-ze.value)/(xe.max-xe.min),"%"):"".concat(100*(pe.firstValue-xe.min)/(xe.max-xe.min),"%")),En=computed(()=>xe.range?"".concat(100*(ze.value-xe.min)/(xe.max-xe.min),"%"):"0%"),vn=computed(()=>xe.vertical?{height:xe.height}:{}),hn=computed(()=>xe.vertical?{height:qe.value,bottom:En.value}:{width:qe.value,left:En.value}),_n=()=>{Oe.value&&(pe.sliderSize=Oe.value["client".concat(xe.vertical?"Height":"Width")])},bn=In=>{const Rn=xe.min+In*(xe.max-xe.min)/100;if(!xe.range)return Ne;let Nn;return Math.abs(ze.value-Rn)<Math.abs(Ve.value-Rn)?Nn=pe.firstValue<pe.secondValue?"firstButton":"secondButton":Nn=pe.firstValue>pe.secondValue?"firstButton":"secondButton",Ue[Nn]},An=In=>{const Rn=bn(In);return Rn.value.setPosition(In),Rn},xn=In=>{pe.firstValue=In,Cn(xe.range?[ze.value,Ve.value]:In)},Sn=In=>{pe.secondValue=In,xe.range&&Cn([ze.value,Ve.value])},Cn=In=>{_e(UPDATE_MODEL_EVENT,In),_e(INPUT_EVENT,In)},Tn=async()=>{await nextTick(),_e(CHANGE_EVENT,xe.range?[ze.value,Ve.value]:xe.modelValue)},wn=In=>{var Rn,Nn,On,Dn,Mn,Bn;if($e.value||pe.dragging)return;_n();let $n=0;if(xe.vertical){const Fn=(On=(Nn=(Rn=In.touches)==null?void 0:Rn.item(0))==null?void 0:Nn.clientY)!=null?On:In.clientY;$n=(Oe.value.getBoundingClientRect().bottom-Fn)/pe.sliderSize*100}else{const Fn=(Bn=(Mn=(Dn=In.touches)==null?void 0:Dn.item(0))==null?void 0:Mn.clientX)!=null?Bn:In.clientX,Un=Oe.value.getBoundingClientRect().left;$n=(Fn-Un)/pe.sliderSize*100}if(!($n<0||$n>100))return An($n)};return{elFormItem:Ie,slider:Oe,firstButton:Ne,secondButton:Fe,sliderDisabled:$e,minValue:ze,maxValue:Ve,runwayStyle:vn,barStyle:hn,resetSize:_n,setPosition:An,emitChange:Tn,onSliderWrapperPrevent:In=>{var Rn,Nn;((Rn=Ue.firstButton.value)!=null&&Rn.dragging||(Nn=Ue.secondButton.value)!=null&&Nn.dragging)&&In.preventDefault()},onSliderClick:In=>{wn(In)&&Tn()},onSliderDown:async In=>{const Rn=wn(In);Rn&&(await nextTick(),Rn.value.onButtonDown(In))},setFirstValue:xn,setSecondValue:Sn}},{left,down,right,up,home,end,pageUp,pageDown}=EVENT_CODE,useTooltip=(xe,pe,_e)=>{const Ce=ref(),Ie=ref(!1),Oe=computed(()=>pe.value instanceof Function),Ne=computed(()=>Oe.value&&pe.value(xe.modelValue)||xe.modelValue),Fe=debounce(()=>{_e.value&&(Ie.value=!0)},50),Ue=debounce(()=>{_e.value&&(Ie.value=!1)},50);return{tooltip:Ce,tooltipVisible:Ie,formatValue:Ne,displayTooltip:Fe,hideTooltip:Ue}},useSliderButton=(xe,pe,_e)=>{const{disabled:Ce,min:Ie,max:Oe,step:Ne,showTooltip:Fe,precision:Ue,sliderSize:$e,formatTooltip:ze,emitChange:Ve,resetSize:qe,updateDragging:En}=inject(sliderContextKey),{tooltip:vn,tooltipVisible:hn,formatValue:_n,displayTooltip:bn,hideTooltip:An}=useTooltip(xe,ze,Fe),xn=ref(),Sn=computed(()=>"".concat((xe.modelValue-Ie.value)/(Oe.value-Ie.value)*100,"%")),Cn=computed(()=>xe.vertical?{bottom:Sn.value}:{left:Sn.value}),Tn=()=>{pe.hovering=!0,bn()},wn=()=>{pe.hovering=!1,pe.dragging||An()},Ln=Wn=>{Ce.value||(Wn.preventDefault(),$n(Wn),window.addEventListener("mousemove",Fn),window.addEventListener("touchmove",Fn),window.addEventListener("mouseup",Un),window.addEventListener("touchend",Un),window.addEventListener("contextmenu",Un),xn.value.focus())},Pn=Wn=>{Ce.value||(pe.newPosition=Number.parseFloat(Sn.value)+Wn/(Oe.value-Ie.value)*100,Hn(pe.newPosition),Ve())},kn=()=>{Pn(-Ne.value)},In=()=>{Pn(Ne.value)},Rn=()=>{Pn(-Ne.value*4)},Nn=()=>{Pn(Ne.value*4)},On=()=>{Ce.value||(Hn(0),Ve())},Dn=()=>{Ce.value||(Hn(100),Ve())},Mn=Wn=>{let Xn=!0;[left,down].includes(Wn.key)?kn():[right,up].includes(Wn.key)?In():Wn.key===home?On():Wn.key===end?Dn():Wn.key===pageDown?Rn():Wn.key===pageUp?Nn():Xn=!1,Xn&&Wn.preventDefault()},Bn=Wn=>{let Xn,or;return Wn.type.startsWith("touch")?(or=Wn.touches[0].clientY,Xn=Wn.touches[0].clientX):(or=Wn.clientY,Xn=Wn.clientX),{clientX:Xn,clientY:or}},$n=Wn=>{pe.dragging=!0,pe.isClick=!0;const{clientX:Xn,clientY:or}=Bn(Wn);xe.vertical?pe.startY=or:pe.startX=Xn,pe.startPosition=Number.parseFloat(Sn.value),pe.newPosition=pe.startPosition},Fn=Wn=>{if(pe.dragging){pe.isClick=!1,bn(),qe();let Xn;const{clientX:or,clientY:fr}=Bn(Wn);xe.vertical?(pe.currentY=fr,Xn=(pe.startY-pe.currentY)/$e.value*100):(pe.currentX=or,Xn=(pe.currentX-pe.startX)/$e.value*100),pe.newPosition=pe.startPosition+Xn,Hn(pe.newPosition)}},Un=()=>{pe.dragging&&(setTimeout(()=>{pe.dragging=!1,pe.hovering||An(),pe.isClick||Hn(pe.newPosition),Ve()},0),window.removeEventListener("mousemove",Fn),window.removeEventListener("touchmove",Fn),window.removeEventListener("mouseup",Un),window.removeEventListener("touchend",Un),window.removeEventListener("contextmenu",Un))},Hn=async Wn=>{if(Wn===null||Number.isNaN(+Wn))return;Wn<0?Wn=0:Wn>100&&(Wn=100);const Xn=100/((Oe.value-Ie.value)/Ne.value);let fr=Math.round(Wn/Xn)*Xn*(Oe.value-Ie.value)*.01+Ie.value;fr=Number.parseFloat(fr.toFixed(Ue.value)),fr!==xe.modelValue&&_e(UPDATE_MODEL_EVENT,fr),!pe.dragging&&xe.modelValue!==pe.oldValue&&(pe.oldValue=xe.modelValue),await nextTick(),pe.dragging&&bn(),vn.value.updatePopper()};return watch(()=>pe.dragging,Wn=>{En(Wn)}),{disabled:Ce,button:xn,tooltip:vn,tooltipVisible:hn,showTooltip:Fe,wrapperStyle:Cn,formatValue:_n,handleMouseEnter:Tn,handleMouseLeave:wn,onButtonDown:Ln,onKeyDown:Mn,setPosition:Hn}},useStops=(xe,pe,_e,Ce)=>({stops:computed(()=>{if(!xe.showStops||xe.min>xe.max)return[];if(xe.step===0)return[];const Ne=(xe.max-xe.min)/xe.step,Fe=100*xe.step/(xe.max-xe.min),Ue=Array.from({length:Ne-1}).map(($e,ze)=>(ze+1)*Fe);return xe.range?Ue.filter($e=>$e<100*(_e.value-xe.min)/(xe.max-xe.min)||$e>100*(Ce.value-xe.min)/(xe.max-xe.min)):Ue.filter($e=>$e>100*(pe.firstValue-xe.min)/(xe.max-xe.min))}),getStopStyle:Ne=>xe.vertical?{bottom:"".concat(Ne,"%")}:{left:"".concat(Ne,"%")}}),useWatch=(xe,pe,_e,Ce,Ie,Oe)=>{const Ne=$e=>{Ie(UPDATE_MODEL_EVENT,$e),Ie(INPUT_EVENT,$e)},Fe=()=>xe.range?![_e.value,Ce.value].every(($e,ze)=>$e===pe.oldValue[ze]):xe.modelValue!==pe.oldValue,Ue=()=>{var $e,ze;xe.min>xe.max&&throwError$1("Slider","min should not be greater than max.");const Ve=xe.modelValue;xe.range&&Array.isArray(Ve)?Ve[1]<xe.min?Ne([xe.min,xe.min]):Ve[0]>xe.max?Ne([xe.max,xe.max]):Ve[0]<xe.min?Ne([xe.min,Ve[1]]):Ve[1]>xe.max?Ne([Ve[0],xe.max]):(pe.firstValue=Ve[0],pe.secondValue=Ve[1],Fe()&&(xe.validateEvent&&(($e=Oe==null?void 0:Oe.validate)==null||$e.call(Oe,"change").catch(qe=>void 0)),pe.oldValue=Ve.slice())):!xe.range&&typeof Ve=="number"&&!Number.isNaN(Ve)&&(Ve<xe.min?Ne(xe.min):Ve>xe.max?Ne(xe.max):(pe.firstValue=Ve,Fe()&&(xe.validateEvent&&((ze=Oe==null?void 0:Oe.validate)==null||ze.call(Oe,"change").catch(qe=>void 0)),pe.oldValue=Ve)))};Ue(),watch(()=>pe.dragging,$e=>{$e||Ue()}),watch(()=>xe.modelValue,($e,ze)=>{pe.dragging||Array.isArray($e)&&Array.isArray(ze)&&$e.every((Ve,qe)=>Ve===ze[qe])&&pe.firstValue===$e[0]&&pe.secondValue===$e[1]||Ue()},{deep:!0}),watch(()=>[xe.min,xe.max],()=>{Ue()})},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:xe=>isNumber(xe)},_hoisted_1$9=["tabindex"],__default__$9=defineComponent({name:"ElSliderButton"}),_sfc_main$e=defineComponent({...__default__$9,props:sliderButtonProps,emits:sliderButtonEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=useNamespace("slider"),Oe=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:Ce.modelValue}),{disabled:Ne,button:Fe,tooltip:Ue,showTooltip:$e,tooltipVisible:ze,wrapperStyle:Ve,formatValue:qe,handleMouseEnter:En,handleMouseLeave:vn,onButtonDown:hn,onKeyDown:_n,setPosition:bn}=useSliderButton(Ce,Oe,_e),{hovering:An,dragging:xn}=toRefs(Oe);return pe({onButtonDown:hn,onKeyDown:_n,setPosition:bn,hovering:An,dragging:xn}),(Sn,Cn)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:Fe,class:normalizeClass([unref(Ie).e("button-wrapper"),{hover:unref(An),dragging:unref(xn)}]),style:normalizeStyle$1(unref(Ve)),tabindex:unref(Ne)?-1:0,onMouseenter:Cn[0]||(Cn[0]=(...Tn)=>unref(En)&&unref(En)(...Tn)),onMouseleave:Cn[1]||(Cn[1]=(...Tn)=>unref(vn)&&unref(vn)(...Tn)),onMousedown:Cn[2]||(Cn[2]=(...Tn)=>unref(hn)&&unref(hn)(...Tn)),onTouchstart:Cn[3]||(Cn[3]=(...Tn)=>unref(hn)&&unref(hn)(...Tn)),onFocus:Cn[4]||(Cn[4]=(...Tn)=>unref(En)&&unref(En)(...Tn)),onBlur:Cn[5]||(Cn[5]=(...Tn)=>unref(vn)&&unref(vn)(...Tn)),onKeydown:Cn[6]||(Cn[6]=(...Tn)=>unref(_n)&&unref(_n)(...Tn))},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:Ue,visible:unref(ze),placement:Sn.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":Sn.tooltipClass,disabled:!unref($e),persistent:""},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(qe)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(Ie).e("button"),{hover:unref(An),dragging:unref(xn)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,_hoisted_1$9))}});var SliderButton=_export_sfc(_sfc_main$e,[["__file","button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(xe){const pe=useNamespace("slider"),_e=computed(()=>isString$3(xe.mark)?xe.mark:xe.mark.label),Ce=computed(()=>isString$3(xe.mark)?void 0:xe.mark.style);return()=>h$1("div",{class:pe.e("marks-text"),style:Ce.value},_e.value)}});const _hoisted_1$8=["id","role","aria-label","aria-labelledby"],_hoisted_2$7={key:1},__default__$8=defineComponent({name:"ElSlider"}),_sfc_main$d=defineComponent({...__default__$8,props:sliderProps,emits:sliderEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,Ie=useNamespace("slider"),{t:Oe}=useLocale(),Ne=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:Fe,slider:Ue,firstButton:$e,secondButton:ze,sliderDisabled:Ve,minValue:qe,maxValue:En,runwayStyle:vn,barStyle:hn,resetSize:_n,emitChange:bn,onSliderWrapperPrevent:An,onSliderClick:xn,onSliderDown:Sn,setFirstValue:Cn,setSecondValue:Tn}=useSlide(Ce,Ne,_e),{stops:wn,getStopStyle:Ln}=useStops(Ce,Ne,qe,En),{inputId:Pn,isLabeledByFormItem:kn}=useFormItemInputId(Ce,{formItemContext:Fe}),In=useFormSize(),Rn=computed(()=>Ce.inputSize||In.value),Nn=computed(()=>Ce.label||Ce.ariaLabel||Oe("el.slider.defaultLabel",{min:Ce.min,max:Ce.max})),On=computed(()=>Ce.range?Ce.rangeStartLabel||Oe("el.slider.defaultRangeStartLabel"):Nn.value),Dn=computed(()=>Ce.formatValueText?Ce.formatValueText(Wn.value):"".concat(Wn.value)),Mn=computed(()=>Ce.rangeEndLabel||Oe("el.slider.defaultRangeEndLabel")),Bn=computed(()=>Ce.formatValueText?Ce.formatValueText(Xn.value):"".concat(Xn.value)),$n=computed(()=>[Ie.b(),Ie.m(In.value),Ie.is("vertical",Ce.vertical),{[Ie.m("with-input")]:Ce.showInput}]),Fn=useMarks(Ce);useWatch(Ce,Ne,qe,En,_e,Fe);const Un=computed(()=>{const cr=[Ce.min,Ce.max,Ce.step].map(Jn=>{const mr="".concat(Jn).split(".")[1];return mr?mr.length:0});return Math.max.apply(null,cr)}),{sliderWrapper:Hn}=useLifecycle(Ce,Ne,_n),{firstValue:Wn,secondValue:Xn,sliderSize:or}=toRefs(Ne),fr=cr=>{Ne.dragging=cr};return provide(sliderContextKey,{...toRefs(Ce),sliderSize:or,disabled:Ve,precision:Un,emitChange:bn,resetSize:_n,updateDragging:fr}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},computed(()=>!!Ce.label)),pe({onSliderClick:xn}),(cr,Jn)=>{var mr,Ir;return openBlock(),createElementBlock("div",{id:cr.range?unref(Pn):void 0,ref_key:"sliderWrapper",ref:Hn,class:normalizeClass(unref($n)),role:cr.range?"group":void 0,"aria-label":cr.range&&!unref(kn)?unref(Nn):void 0,"aria-labelledby":cr.range&&unref(kn)?(mr=unref(Fe))==null?void 0:mr.labelId:void 0,onTouchstart:Jn[2]||(Jn[2]=(...yr)=>unref(An)&&unref(An)(...yr)),onTouchmove:Jn[3]||(Jn[3]=(...yr)=>unref(An)&&unref(An)(...yr))},[createBaseVNode("div",{ref_key:"slider",ref:Ue,class:normalizeClass([unref(Ie).e("runway"),{"show-input":cr.showInput&&!cr.range},unref(Ie).is("disabled",unref(Ve))]),style:normalizeStyle$1(unref(vn)),onMousedown:Jn[0]||(Jn[0]=(...yr)=>unref(Sn)&&unref(Sn)(...yr)),onTouchstart:Jn[1]||(Jn[1]=(...yr)=>unref(Sn)&&unref(Sn)(...yr))},[createBaseVNode("div",{class:normalizeClass(unref(Ie).e("bar")),style:normalizeStyle$1(unref(hn))},null,6),createVNode(SliderButton,{id:cr.range?void 0:unref(Pn),ref_key:"firstButton",ref:$e,"model-value":unref(Wn),vertical:cr.vertical,"tooltip-class":cr.tooltipClass,placement:cr.placement,role:"slider","aria-label":cr.range||!unref(kn)?unref(On):void 0,"aria-labelledby":!cr.range&&unref(kn)?(Ir=unref(Fe))==null?void 0:Ir.labelId:void 0,"aria-valuemin":cr.min,"aria-valuemax":cr.range?unref(Xn):cr.max,"aria-valuenow":unref(Wn),"aria-valuetext":unref(Dn),"aria-orientation":cr.vertical?"vertical":"horizontal","aria-disabled":unref(Ve),"onUpdate:modelValue":unref(Cn)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),cr.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:ze,"model-value":unref(Xn),vertical:cr.vertical,"tooltip-class":cr.tooltipClass,placement:cr.placement,role:"slider","aria-label":unref(Mn),"aria-valuemin":unref(Wn),"aria-valuemax":cr.max,"aria-valuenow":unref(Xn),"aria-valuetext":unref(Bn),"aria-orientation":cr.vertical?"vertical":"horizontal","aria-disabled":unref(Ve),"onUpdate:modelValue":unref(Tn)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),cr.showStops?(openBlock(),createElementBlock("div",_hoisted_2$7,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(wn),(yr,Tr)=>(openBlock(),createElementBlock("div",{key:Tr,class:normalizeClass(unref(Ie).e("stop")),style:normalizeStyle$1(unref(Ln)(yr))},null,6))),128))])):createCommentVNode("v-if",!0),unref(Fn).length>0?(openBlock(),createElementBlock(Fragment$1,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Fn),(yr,Tr)=>(openBlock(),createElementBlock("div",{key:Tr,style:normalizeStyle$1(unref(Ln)(yr.position)),class:normalizeClass([unref(Ie).e("stop"),unref(Ie).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref(Ie).e("marks"))},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Fn),(yr,Tr)=>(openBlock(),createBlock(unref(SliderMarker),{key:Tr,mark:yr.mark,style:normalizeStyle$1(unref(Ln)(yr.position))},null,8,["mark","style"]))),128))],2)],64)):createCommentVNode("v-if",!0)],38),cr.showInput&&!cr.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(Wn),class:normalizeClass(unref(Ie).e("input")),step:cr.step,disabled:unref(Ve),controls:cr.showInputControls,min:cr.min,max:cr.max,debounce:cr.debounce,size:unref(Rn),"onUpdate:modelValue":unref(Cn),onChange:unref(bn)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],42,_hoisted_1$8)}}});var Slider=_export_sfc(_sfc_main$d,[["__file","slider.vue"]]);const ElSlider=withInstall$1(Slider),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:xe=>isBoolean(xe)||isString$3(xe)||isNumber(xe),[CHANGE_EVENT]:xe=>isBoolean(xe)||isString$3(xe)||isNumber(xe),[INPUT_EVENT]:xe=>isBoolean(xe)||isString$3(xe)||isNumber(xe)},_hoisted_1$7=["onClick"],_hoisted_2$6=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$3=["aria-hidden"],_hoisted_4$2=["aria-hidden"],_hoisted_5$1=["aria-hidden"],COMPONENT_NAME$1="ElSwitch",__default__$7=defineComponent({name:COMPONENT_NAME$1}),_sfc_main$c=defineComponent({...__default__$7,props:switchProps,emits:switchEmits,setup(xe,{expose:pe,emit:_e}){const Ce=xe,{formItem:Ie}=useFormItem(),Oe=useFormSize(),Ne=useNamespace("switch"),{inputId:Fe}=useFormItemInputId(Ce,{formItemContext:Ie}),Ue=useFormDisabled(computed(()=>Ce.loading)),$e=ref(Ce.modelValue!==!1),ze=ref(),Ve=ref(),qe=computed(()=>[Ne.b(),Ne.m(Oe.value),Ne.is("disabled",Ue.value),Ne.is("checked",bn.value)]),En=computed(()=>[Ne.e("label"),Ne.em("label","left"),Ne.is("active",!bn.value)]),vn=computed(()=>[Ne.e("label"),Ne.em("label","right"),Ne.is("active",bn.value)]),hn=computed(()=>({width:addUnit(Ce.width)}));watch(()=>Ce.modelValue,()=>{$e.value=!0});const _n=computed(()=>$e.value?Ce.modelValue:!1),bn=computed(()=>_n.value===Ce.activeValue);[Ce.activeValue,Ce.inactiveValue].includes(_n.value)||(_e(UPDATE_MODEL_EVENT,Ce.inactiveValue),_e(CHANGE_EVENT,Ce.inactiveValue),_e(INPUT_EVENT,Ce.inactiveValue)),watch(bn,Cn=>{var Tn;ze.value.checked=Cn,Ce.validateEvent&&((Tn=Ie==null?void 0:Ie.validate)==null||Tn.call(Ie,"change").catch(wn=>void 0))});const An=()=>{const Cn=bn.value?Ce.inactiveValue:Ce.activeValue;_e(UPDATE_MODEL_EVENT,Cn),_e(CHANGE_EVENT,Cn),_e(INPUT_EVENT,Cn),nextTick(()=>{ze.value.checked=bn.value})},xn=()=>{if(Ue.value)return;const{beforeChange:Cn}=Ce;if(!Cn){An();return}const Tn=Cn();[isPromise$1(Tn),isBoolean(Tn)].includes(!0)||throwError$1(COMPONENT_NAME$1,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise$1(Tn)?Tn.then(Ln=>{Ln&&An()}).catch(Ln=>{}):Tn&&An()},Sn=()=>{var Cn,Tn;(Tn=(Cn=ze.value)==null?void 0:Cn.focus)==null||Tn.call(Cn)};return onMounted(()=>{ze.value.checked=bn.value}),useDeprecated({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},computed(()=>!!Ce.label)),pe({focus:Sn,checked:bn}),(Cn,Tn)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(qe)),onClick:withModifiers(xn,["prevent"])},[createBaseVNode("input",{id:unref(Fe),ref_key:"input",ref:ze,class:normalizeClass(unref(Ne).e("input")),type:"checkbox",role:"switch","aria-checked":unref(bn),"aria-disabled":unref(Ue),"aria-label":Cn.label||Cn.ariaLabel,name:Cn.name,"true-value":Cn.activeValue,"false-value":Cn.inactiveValue,disabled:unref(Ue),tabindex:Cn.tabindex,onChange:An,onKeydown:withKeys(xn,["enter"])},null,42,_hoisted_2$6),!Cn.inlinePrompt&&(Cn.inactiveIcon||Cn.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(En))},[Cn.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Cn.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!Cn.inactiveIcon&&Cn.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(bn)},toDisplayString(Cn.inactiveText),9,_hoisted_3$3)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:Ve,class:normalizeClass(unref(Ne).e("core")),style:normalizeStyle$1(unref(hn))},[Cn.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ne).e("inner"))},[Cn.activeIcon||Cn.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Ne).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(bn)?Cn.activeIcon:Cn.inactiveIcon)))]),_:1},8,["class"])):Cn.activeText||Cn.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(Ne).is("text")),"aria-hidden":!unref(bn)},toDisplayString(unref(bn)?Cn.activeText:Cn.inactiveText),11,_hoisted_4$2)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ne).e("action"))},[Cn.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Ne).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):unref(bn)?renderSlot(Cn.$slots,"active-action",{key:1},()=>[Cn.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Cn.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):unref(bn)?createCommentVNode("v-if",!0):renderSlot(Cn.$slots,"inactive-action",{key:2},()=>[Cn.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Cn.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!Cn.inlinePrompt&&(Cn.activeIcon||Cn.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(vn))},[Cn.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Cn.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!Cn.activeIcon&&Cn.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(bn)},toDisplayString(Cn.activeText),9,_hoisted_5$1)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],10,_hoisted_1$7))}});var Switch=_export_sfc(_sfc_main$c,[["__file","switch.vue"]]);const ElSwitch=withInstall$1(Switch),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default},...useEmptyValuesProps}),parseTime=xe=>{const pe=(xe||"").split(":");if(pe.length>=2){let _e=Number.parseInt(pe[0],10);const Ce=Number.parseInt(pe[1],10),Ie=xe.toUpperCase();return Ie.includes("AM")&&_e===12?_e=0:Ie.includes("PM")&&_e!==12&&(_e+=12),{hours:_e,minutes:Ce}}return null},compareTime=(xe,pe)=>{const _e=parseTime(xe);if(!_e)return-1;const Ce=parseTime(pe);if(!Ce)return-1;const Ie=_e.minutes+_e.hours*60,Oe=Ce.minutes+Ce.hours*60;return Ie===Oe?0:Ie>Oe?1:-1},padTime=xe=>"".concat(xe).padStart(2,"0"),formatTime=xe=>"".concat(padTime(xe.hours),":").concat(padTime(xe.minutes)),nextTime=(xe,pe)=>{const _e=parseTime(xe);if(!_e)return"";const Ce=parseTime(pe);if(!Ce)return"";const Ie={hours:_e.hours,minutes:_e.minutes};return Ie.minutes+=Ce.minutes,Ie.hours+=Ce.hours,Ie.hours+=Math.floor(Ie.minutes/60),Ie.minutes=Ie.minutes%60,formatTime(Ie)},__default__$6=defineComponent({name:"ElTimeSelect"}),_sfc_main$b=defineComponent({...__default__$6,props:timeSelectProps,emits:["change","blur","focus","update:modelValue"],setup(xe,{expose:pe}){const _e=xe;dayjs.extend(customParseFormat);const{Option:Ce}=ElSelect,Ie=useNamespace("input"),Oe=ref(),Ne=useFormDisabled(),{lang:Fe}=useLocale(),Ue=computed(()=>_e.modelValue),$e=computed(()=>{const bn=parseTime(_e.start);return bn?formatTime(bn):null}),ze=computed(()=>{const bn=parseTime(_e.end);return bn?formatTime(bn):null}),Ve=computed(()=>{const bn=parseTime(_e.step);return bn?formatTime(bn):null}),qe=computed(()=>{const bn=parseTime(_e.minTime||"");return bn?formatTime(bn):null}),En=computed(()=>{const bn=parseTime(_e.maxTime||"");return bn?formatTime(bn):null}),vn=computed(()=>{const bn=[];if(_e.start&&_e.end&&_e.step){let An=$e.value,xn;for(;An&&ze.value&&compareTime(An,ze.value)<=0;)xn=dayjs(An,"HH:mm").locale(Fe.value).format(_e.format),bn.push({value:xn,disabled:compareTime(An,qe.value||"-1:-1")<=0||compareTime(An,En.value||"100:100")>=0}),An=nextTime(An,Ve.value)}return bn});return pe({blur:()=>{var bn,An;(An=(bn=Oe.value)==null?void 0:bn.blur)==null||An.call(bn)},focus:()=>{var bn,An;(An=(bn=Oe.value)==null?void 0:bn.focus)==null||An.call(bn)}}),(bn,An)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:Oe,"model-value":unref(Ue),disabled:unref(Ne),clearable:bn.clearable,"clear-icon":bn.clearIcon,size:bn.size,effect:bn.effect,placeholder:bn.placeholder,"default-first-option":"",filterable:bn.editable,"empty-values":bn.emptyValues,"value-on-clear":bn.valueOnClear,"onUpdate:modelValue":An[0]||(An[0]=xn=>bn.$emit("update:modelValue",xn)),onChange:An[1]||(An[1]=xn=>bn.$emit("change",xn)),onBlur:An[2]||(An[2]=xn=>bn.$emit("blur",xn)),onFocus:An[3]||(An[3]=xn=>bn.$emit("focus",xn))},{prefix:withCtx(()=>[bn.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Ie).e("prefix-icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(bn.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(vn),xn=>(openBlock(),createBlock(unref(Ce),{key:xn.value,label:xn.value,value:xn.value,disabled:xn.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var TimeSelect=_export_sfc(_sfc_main$b,[["__file","time-select.vue"]]);TimeSelect.install=xe=>{xe.component(TimeSelect.name,TimeSelect)};const _TimeSelect=TimeSelect,ElTimeSelect=_TimeSelect,NODE_KEY="$treeNodeId",markNodeData=function(xe,pe){!pe||pe[NODE_KEY]||Object.defineProperty(pe,NODE_KEY,{value:xe.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=function(xe,pe){return xe?pe[xe]:pe[NODE_KEY]},handleCurrentChange=(xe,pe,_e)=>{const Ce=xe.value.currentNode;_e();const Ie=xe.value.currentNode;Ce!==Ie&&pe("current-change",Ie?Ie.data:null,Ie)},getChildState=xe=>{let pe=!0,_e=!0,Ce=!0;for(let Ie=0,Oe=xe.length;Ie<Oe;Ie++){const Ne=xe[Ie];(Ne.checked!==!0||Ne.indeterminate)&&(pe=!1,Ne.disabled||(Ce=!1)),(Ne.checked!==!1||Ne.indeterminate)&&(_e=!1)}return{all:pe,none:_e,allWithoutDisable:Ce,half:!pe&&!_e}},reInitChecked=function(xe){if(xe.childNodes.length===0||xe.loading)return;const{all:pe,none:_e,half:Ce}=getChildState(xe.childNodes);pe?(xe.checked=!0,xe.indeterminate=!1):Ce?(xe.checked=!1,xe.indeterminate=!0):_e&&(xe.checked=!1,xe.indeterminate=!1);const Ie=xe.parent;!Ie||Ie.level===0||xe.store.checkStrictly||reInitChecked(Ie)},getPropertyFromData=function(xe,pe){const _e=xe.store.props,Ce=xe.data||{},Ie=_e[pe];if(typeof Ie=="function")return Ie(Ce,xe);if(typeof Ie=="string")return Ce[Ie];if(typeof Ie>"u"){const Oe=Ce[pe];return Oe===void 0?"":Oe}};let nodeIdSeed=0,Node$1=class us{constructor(pe){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const _e in pe)hasOwn(pe,_e)&&(this[_e]=pe[_e]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const pe=this.store;if(!pe)throw new Error("[Node]store is required!");pe.registerNode(this);const _e=pe.props;if(_e&&typeof _e.isLeaf<"u"){const Oe=getPropertyFromData(this,"isLeaf");typeof Oe=="boolean"&&(this.isLeafByUser=Oe)}if(pe.lazy!==!0&&this.data?(this.setData(this.data),pe.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&pe.lazy&&pe.defaultExpandAll&&this.expand(),Array.isArray(this.data)||markNodeData(this,this.data),!this.data)return;const Ce=pe.defaultExpandedKeys,Ie=pe.key;Ie&&Ce&&Ce.includes(this.key)&&this.expand(null,pe.autoExpandParent),Ie&&pe.currentNodeKey!==void 0&&this.key===pe.currentNodeKey&&(pe.currentNode=this,pe.currentNode.isCurrent=!0),pe.lazy&&pe._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(pe){Array.isArray(pe)||markNodeData(this,pe),this.data=pe,this.childNodes=[];let _e;this.level===0&&Array.isArray(this.data)?_e=this.data:_e=getPropertyFromData(this,"children")||[];for(let Ce=0,Ie=_e.length;Ce<Ie;Ce++)this.insertChild({data:_e[Ce]})}get label(){return getPropertyFromData(this,"label")}get key(){const pe=this.store.key;return this.data?this.data[pe]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const pe=this.parent;if(pe){const _e=pe.childNodes.indexOf(this);if(_e>-1)return pe.childNodes[_e+1]}return null}get previousSibling(){const pe=this.parent;if(pe){const _e=pe.childNodes.indexOf(this);if(_e>-1)return _e>0?pe.childNodes[_e-1]:null}return null}contains(pe,_e=!0){return(this.childNodes||[]).some(Ce=>Ce===pe||_e&&Ce.contains(pe))}remove(){const pe=this.parent;pe&&pe.removeChild(this)}insertChild(pe,_e,Ce){if(!pe)throw new Error("InsertChild error: child is required.");if(!(pe instanceof us)){if(!Ce){const Ie=this.getChildren(!0);Ie.includes(pe.data)||(typeof _e>"u"||_e<0?Ie.push(pe.data):Ie.splice(_e,0,pe.data))}Object.assign(pe,{parent:this,store:this.store}),pe=reactive(new us(pe)),pe instanceof us&&pe.initialize()}pe.level=this.level+1,typeof _e>"u"||_e<0?this.childNodes.push(pe):this.childNodes.splice(_e,0,pe),this.updateLeafState()}insertBefore(pe,_e){let Ce;_e&&(Ce=this.childNodes.indexOf(_e)),this.insertChild(pe,Ce)}insertAfter(pe,_e){let Ce;_e&&(Ce=this.childNodes.indexOf(_e),Ce!==-1&&(Ce+=1)),this.insertChild(pe,Ce)}removeChild(pe){const _e=this.getChildren()||[],Ce=_e.indexOf(pe.data);Ce>-1&&_e.splice(Ce,1);const Ie=this.childNodes.indexOf(pe);Ie>-1&&(this.store&&this.store.deregisterNode(pe),pe.parent=null,this.childNodes.splice(Ie,1)),this.updateLeafState()}removeChildByData(pe){let _e=null;for(let Ce=0;Ce<this.childNodes.length;Ce++)if(this.childNodes[Ce].data===pe){_e=this.childNodes[Ce];break}_e&&this.removeChild(_e)}expand(pe,_e){const Ce=()=>{if(_e){let Ie=this.parent;for(;Ie.level>0;)Ie.expanded=!0,Ie=Ie.parent}this.expanded=!0,pe&&pe(),this.childNodes.forEach(Ie=>{Ie.canFocus=!0})};this.shouldLoadData()?this.loadData(Ie=>{Array.isArray(Ie)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),Ce())}):Ce()}doCreateChildren(pe,_e={}){pe.forEach(Ce=>{this.insertChild(Object.assign({data:Ce},_e),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(pe=>{pe.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const pe=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!pe||pe.length===0;return}this.isLeaf=!1}setChecked(pe,_e,Ce,Ie){if(this.indeterminate=pe==="half",this.checked=pe===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:Ne,allWithoutDisable:Fe}=getChildState(this.childNodes);!this.isLeaf&&!Ne&&Fe&&(this.checked=!1,pe=!1);const Ue=()=>{if(_e){const $e=this.childNodes;for(let qe=0,En=$e.length;qe<En;qe++){const vn=$e[qe];Ie=Ie||pe!==!1;const hn=vn.disabled?vn.checked:Ie;vn.setChecked(hn,_e,!0,Ie)}const{half:ze,all:Ve}=getChildState($e);Ve||(this.checked=Ve,this.indeterminate=ze)}};if(this.shouldLoadData()){this.loadData(()=>{Ue(),reInitChecked(this)},{checked:pe!==!1});return}else Ue()}const Oe=this.parent;!Oe||Oe.level===0||Ce||reInitChecked(Oe)}getChildren(pe=!1){if(this.level===0)return this.data;const _e=this.data;if(!_e)return null;const Ce=this.store.props;let Ie="children";return Ce&&(Ie=Ce.children||"children"),_e[Ie]===void 0&&(_e[Ie]=null),pe&&!_e[Ie]&&(_e[Ie]=[]),_e[Ie]}updateChildren(){const pe=this.getChildren()||[],_e=this.childNodes.map(Oe=>Oe.data),Ce={},Ie=[];pe.forEach((Oe,Ne)=>{const Fe=Oe[NODE_KEY];!!Fe&&_e.findIndex($e=>$e[NODE_KEY]===Fe)>=0?Ce[Fe]={index:Ne,data:Oe}:Ie.push({index:Ne,data:Oe})}),this.store.lazy||_e.forEach(Oe=>{Ce[Oe[NODE_KEY]]||this.removeChildByData(Oe)}),Ie.forEach(({index:Oe,data:Ne})=>{this.insertChild({data:Ne},Oe)}),this.updateLeafState()}loadData(pe,_e={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(_e).length)){this.loading=!0;const Ce=Oe=>{this.childNodes=[],this.doCreateChildren(Oe,_e),this.loaded=!0,this.loading=!1,this.updateLeafState(),pe&&pe.call(this,Oe)},Ie=()=>{this.loading=!1};this.store.load(this,Ce,Ie)}else pe&&pe.call(this)}eachNode(pe){const _e=[this];for(;_e.length;){const Ce=_e.shift();_e.unshift(...Ce.childNodes),pe(Ce)}}reInitChecked(){this.store.checkStrictly||reInitChecked(this)}};class TreeStore{constructor(pe){this.currentNode=null,this.currentNodeKey=null;for(const _e in pe)hasOwn(pe,_e)&&(this[_e]=pe[_e]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const pe=this.load;pe(this.root,_e=>{this.root.doCreateChildren(_e),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(pe){const _e=this.filterNodeMethod,Ce=this.lazy,Ie=function(Oe){const Ne=Oe.root?Oe.root.childNodes:Oe.childNodes;if(Ne.forEach(Fe=>{Fe.visible=_e.call(Fe,pe,Fe.data,Fe),Ie(Fe)}),!Oe.visible&&Ne.length){let Fe=!0;Fe=!Ne.some(Ue=>Ue.visible),Oe.root?Oe.root.visible=Fe===!1:Oe.visible=Fe===!1}pe&&Oe.visible&&!Oe.isLeaf&&(!Ce||Oe.loaded)&&Oe.expand()};Ie(this)}setData(pe){pe!==this.root.data?(this.root.setData(pe),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(pe){if(pe instanceof Node$1)return pe;const _e=isObject$3(pe)?getNodeKey(this.key,pe):pe;return this.nodesMap[_e]||null}insertBefore(pe,_e){const Ce=this.getNode(_e);Ce.parent.insertBefore({data:pe},Ce)}insertAfter(pe,_e){const Ce=this.getNode(_e);Ce.parent.insertAfter({data:pe},Ce)}remove(pe){const _e=this.getNode(pe);_e&&_e.parent&&(_e===this.currentNode&&(this.currentNode=null),_e.parent.removeChild(_e))}append(pe,_e){const Ce=isPropAbsent(_e)?this.root:this.getNode(_e);Ce&&Ce.insertChild({data:pe})}_initDefaultCheckedNodes(){const pe=this.defaultCheckedKeys||[],_e=this.nodesMap;pe.forEach(Ce=>{const Ie=_e[Ce];Ie&&Ie.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(pe){(this.defaultCheckedKeys||[]).includes(pe.key)&&pe.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(pe){pe!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=pe,this._initDefaultCheckedNodes())}registerNode(pe){const _e=this.key;!pe||!pe.data||(_e?pe.key!==void 0&&(this.nodesMap[pe.key]=pe):this.nodesMap[pe.id]=pe)}deregisterNode(pe){!this.key||!pe||!pe.data||(pe.childNodes.forEach(Ce=>{this.deregisterNode(Ce)}),delete this.nodesMap[pe.key])}getCheckedNodes(pe=!1,_e=!1){const Ce=[],Ie=function(Oe){(Oe.root?Oe.root.childNodes:Oe.childNodes).forEach(Fe=>{(Fe.checked||_e&&Fe.indeterminate)&&(!pe||pe&&Fe.isLeaf)&&Ce.push(Fe.data),Ie(Fe)})};return Ie(this),Ce}getCheckedKeys(pe=!1){return this.getCheckedNodes(pe).map(_e=>(_e||{})[this.key])}getHalfCheckedNodes(){const pe=[],_e=function(Ce){(Ce.root?Ce.root.childNodes:Ce.childNodes).forEach(Oe=>{Oe.indeterminate&&pe.push(Oe.data),_e(Oe)})};return _e(this),pe}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(pe=>(pe||{})[this.key])}_getAllNodes(){const pe=[],_e=this.nodesMap;for(const Ce in _e)hasOwn(_e,Ce)&&pe.push(_e[Ce]);return pe}updateChildren(pe,_e){const Ce=this.nodesMap[pe];if(!Ce)return;const Ie=Ce.childNodes;for(let Oe=Ie.length-1;Oe>=0;Oe--){const Ne=Ie[Oe];this.remove(Ne.data)}for(let Oe=0,Ne=_e.length;Oe<Ne;Oe++){const Fe=_e[Oe];this.append(Fe,Ce.data)}}_setCheckedKeys(pe,_e=!1,Ce){const Ie=this._getAllNodes().sort((Ue,$e)=>Ue.level-$e.level),Oe=Object.create(null),Ne=Object.keys(Ce);Ie.forEach(Ue=>Ue.setChecked(!1,!1));const Fe=Ue=>{Ue.childNodes.forEach($e=>{var ze;Oe[$e.data[pe]]=!0,(ze=$e.childNodes)!=null&&ze.length&&Fe($e)})};for(let Ue=0,$e=Ie.length;Ue<$e;Ue++){const ze=Ie[Ue],Ve=ze.data[pe].toString();if(!Ne.includes(Ve)){ze.checked&&!Oe[Ve]&&ze.setChecked(!1,!1);continue}if(ze.childNodes.length&&Fe(ze),ze.isLeaf||this.checkStrictly){ze.setChecked(!0,!1);continue}if(ze.setChecked(!0,!0),_e){ze.setChecked(!1,!1);const En=function(vn){vn.childNodes.forEach(_n=>{_n.isLeaf||_n.setChecked(!1,!1),En(_n)})};En(ze)}}}setCheckedNodes(pe,_e=!1){const Ce=this.key,Ie={};pe.forEach(Oe=>{Ie[(Oe||{})[Ce]]=!0}),this._setCheckedKeys(Ce,_e,Ie)}setCheckedKeys(pe,_e=!1){this.defaultCheckedKeys=pe;const Ce=this.key,Ie={};pe.forEach(Oe=>{Ie[Oe]=!0}),this._setCheckedKeys(Ce,_e,Ie)}setDefaultExpandedKeys(pe){pe=pe||[],this.defaultExpandedKeys=pe,pe.forEach(_e=>{const Ce=this.getNode(_e);Ce&&Ce.expand(null,this.autoExpandParent)})}setChecked(pe,_e,Ce){const Ie=this.getNode(pe);Ie&&Ie.setChecked(!!_e,Ce)}getCurrentNode(){return this.currentNode}setCurrentNode(pe){const _e=this.currentNode;_e&&(_e.isCurrent=!1),this.currentNode=pe,this.currentNode.isCurrent=!0}setUserCurrentNode(pe,_e=!0){const Ce=pe[this.key],Ie=this.nodesMap[Ce];this.setCurrentNode(Ie),_e&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(pe,_e=!0){if(pe==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const Ce=this.getNode(pe);Ce&&(this.setCurrentNode(Ce),_e&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _sfc_main$a=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(xe){const pe=useNamespace("tree"),_e=inject("NodeInstance"),Ce=inject("RootTree");return()=>{const Ie=xe.node,{data:Oe,store:Ne}=Ie;return xe.renderContent?xe.renderContent(h$1,{_self:_e,node:Ie,data:Oe,store:Ne}):renderSlot(Ce.ctx.slots,"default",{node:Ie,data:Oe},()=>[h$1("span",{class:pe.be("node","label")},[Ie.label])])}}});var NodeContent=_export_sfc(_sfc_main$a,[["__file","tree-node-content.vue"]]);function useNodeExpandEventBroadcast(xe){const pe=inject("TreeNodeMap",null),_e={treeNodeExpand:Ce=>{xe.node!==Ce&&xe.node.collapse()},children:[]};return pe&&pe.children.push(_e),provide("TreeNodeMap",_e),{broadcastExpanded:Ce=>{if(xe.accordion)for(const Ie of _e.children)Ie.treeNodeExpand(Ce)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:xe,ctx:pe,el$:_e,dropIndicator$:Ce,store:Ie}){const Oe=useNamespace("tree"),Ne=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:ze,treeNode:Ve})=>{if(typeof xe.allowDrag=="function"&&!xe.allowDrag(Ve.node))return ze.preventDefault(),!1;ze.dataTransfer.effectAllowed="move";try{ze.dataTransfer.setData("text/plain","")}catch(qe){}Ne.value.draggingNode=Ve,pe.emit("node-drag-start",Ve.node,ze)},treeNodeDragOver:({event:ze,treeNode:Ve})=>{const qe=Ve,En=Ne.value.dropNode;En&&En.node.id!==qe.node.id&&removeClass(En.$el,Oe.is("drop-inner"));const vn=Ne.value.draggingNode;if(!vn||!qe)return;let hn=!0,_n=!0,bn=!0,An=!0;typeof xe.allowDrop=="function"&&(hn=xe.allowDrop(vn.node,qe.node,"prev"),An=_n=xe.allowDrop(vn.node,qe.node,"inner"),bn=xe.allowDrop(vn.node,qe.node,"next")),ze.dataTransfer.dropEffect=_n||hn||bn?"move":"none",(hn||_n||bn)&&(En==null?void 0:En.node.id)!==qe.node.id&&(En&&pe.emit("node-drag-leave",vn.node,En.node,ze),pe.emit("node-drag-enter",vn.node,qe.node,ze)),hn||_n||bn?Ne.value.dropNode=qe:Ne.value.dropNode=null,qe.node.nextSibling===vn.node&&(bn=!1),qe.node.previousSibling===vn.node&&(hn=!1),qe.node.contains(vn.node,!1)&&(_n=!1),(vn.node===qe.node||vn.node.contains(qe.node))&&(hn=!1,_n=!1,bn=!1);const xn=qe.$el.querySelector(".".concat(Oe.be("node","content"))).getBoundingClientRect(),Sn=_e.value.getBoundingClientRect();let Cn;const Tn=hn?_n?.25:bn?.45:1:-1,wn=bn?_n?.75:hn?.55:0:1;let Ln=-9999;const Pn=ze.clientY-xn.top;Pn<xn.height*Tn?Cn="before":Pn>xn.height*wn?Cn="after":_n?Cn="inner":Cn="none";const kn=qe.$el.querySelector(".".concat(Oe.be("node","expand-icon"))).getBoundingClientRect(),In=Ce.value;Cn==="before"?Ln=kn.top-Sn.top:Cn==="after"&&(Ln=kn.bottom-Sn.top),In.style.top="".concat(Ln,"px"),In.style.left="".concat(kn.right-Sn.left,"px"),Cn==="inner"?addClass(qe.$el,Oe.is("drop-inner")):removeClass(qe.$el,Oe.is("drop-inner")),Ne.value.showDropIndicator=Cn==="before"||Cn==="after",Ne.value.allowDrop=Ne.value.showDropIndicator||An,Ne.value.dropType=Cn,pe.emit("node-drag-over",vn.node,qe.node,ze)},treeNodeDragEnd:ze=>{const{draggingNode:Ve,dropType:qe,dropNode:En}=Ne.value;if(ze.preventDefault(),ze.dataTransfer.dropEffect="move",Ve&&En){const vn={data:Ve.node.data};qe!=="none"&&Ve.node.remove(),qe==="before"?En.node.parent.insertBefore(vn,En.node):qe==="after"?En.node.parent.insertAfter(vn,En.node):qe==="inner"&&En.node.insertChild(vn),qe!=="none"&&(Ie.value.registerNode(vn),Ie.value.key&&Ve.node.eachNode(hn=>{var _n;(_n=Ie.value.nodesMap[hn.data[Ie.value.key]])==null||_n.setChecked(hn.checked,!Ie.value.checkStrictly)})),removeClass(En.$el,Oe.is("drop-inner")),pe.emit("node-drag-end",Ve.node,En.node,qe,ze),qe!=="none"&&pe.emit("node-drop",Ve.node,En.node,qe,ze)}Ve&&!En&&pe.emit("node-drag-end",Ve.node,null,qe,ze),Ne.value.showDropIndicator=!1,Ne.value.draggingNode=null,Ne.value.dropNode=null,Ne.value.allowDrop=!0}}),{dragState:Ne}}const _sfc_main$9=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition:_CollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(xe,pe){const _e=useNamespace("tree"),{broadcastExpanded:Ce}=useNodeExpandEventBroadcast(xe),Ie=inject("RootTree"),Oe=ref(!1),Ne=ref(!1),Fe=ref(null),Ue=ref(null),$e=ref(null),ze=inject(dragEventsKey),Ve=getCurrentInstance();provide("NodeInstance",Ve),xe.node.expanded&&(Oe.value=!0,Ne.value=!0);const qe=Ie.props.props.children||"children";watch(()=>{const Pn=xe.node.data[qe];return Pn&&[...Pn]},()=>{xe.node.updateChildren()}),watch(()=>xe.node.indeterminate,Pn=>{hn(xe.node.checked,Pn)}),watch(()=>xe.node.checked,Pn=>{hn(Pn,xe.node.indeterminate)}),watch(()=>xe.node.childNodes.length,()=>xe.node.reInitChecked()),watch(()=>xe.node.expanded,Pn=>{nextTick(()=>Oe.value=Pn),Pn&&(Ne.value=!0)});const En=Pn=>getNodeKey(Ie.props.nodeKey,Pn.data),vn=Pn=>{const kn=xe.props.class;if(!kn)return{};let In;if(isFunction$2(kn)){const{data:Rn}=Pn;In=kn(Rn,Pn)}else In=kn;return isString$3(In)?{[In]:!0}:In},hn=(Pn,kn)=>{(Fe.value!==Pn||Ue.value!==kn)&&Ie.ctx.emit("check-change",xe.node.data,Pn,kn),Fe.value=Pn,Ue.value=kn},_n=Pn=>{handleCurrentChange(Ie.store,Ie.ctx.emit,()=>Ie.store.value.setCurrentNode(xe.node)),Ie.currentNode.value=xe.node,Ie.props.expandOnClickNode&&An(),Ie.props.checkOnClickNode&&!xe.node.disabled&&xn(null,{target:{checked:!xe.node.checked}}),Ie.ctx.emit("node-click",xe.node.data,xe.node,Ve,Pn)},bn=Pn=>{Ie.instance.vnode.props.onNodeContextmenu&&(Pn.stopPropagation(),Pn.preventDefault()),Ie.ctx.emit("node-contextmenu",Pn,xe.node.data,xe.node,Ve)},An=()=>{xe.node.isLeaf||(Oe.value?(Ie.ctx.emit("node-collapse",xe.node.data,xe.node,Ve),xe.node.collapse()):(xe.node.expand(),pe.emit("node-expand",xe.node.data,xe.node,Ve)))},xn=(Pn,kn)=>{xe.node.setChecked(kn.target.checked,!Ie.props.checkStrictly),nextTick(()=>{const In=Ie.store.value;Ie.ctx.emit("check",xe.node.data,{checkedNodes:In.getCheckedNodes(),checkedKeys:In.getCheckedKeys(),halfCheckedNodes:In.getHalfCheckedNodes(),halfCheckedKeys:In.getHalfCheckedKeys()})})};return{ns:_e,node$:$e,tree:Ie,expanded:Oe,childNodeRendered:Ne,oldChecked:Fe,oldIndeterminate:Ue,getNodeKey:En,getNodeClass:vn,handleSelectChange:hn,handleClick:_n,handleContextMenu:bn,handleExpandIconClick:An,handleCheckChange:xn,handleChildNodeExpand:(Pn,kn,In)=>{Ce(kn),Ie.ctx.emit("node-expand",Pn,kn,In)},handleDragStart:Pn=>{Ie.props.draggable&&ze.treeNodeDragStart({event:Pn,treeNode:xe})},handleDragOver:Pn=>{Pn.preventDefault(),Ie.props.draggable&&ze.treeNodeDragOver({event:Pn,treeNode:{$el:$e.value,node:xe.node}})},handleDrop:Pn=>{Pn.preventDefault()},handleDragEnd:Pn=>{Ie.props.draggable&&ze.treeNodeDragEnd(Pn)},CaretRight:caret_right_default}}}),_hoisted_1$6=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_hoisted_2$5=["aria-expanded"];function _sfc_render$2(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-icon"),Fe=resolveComponent("el-checkbox"),Ue=resolveComponent("loading"),$e=resolveComponent("node-content"),ze=resolveComponent("el-tree-node"),Ve=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([xe.ns.b("node"),xe.ns.is("expanded",xe.expanded),xe.ns.is("current",xe.node.isCurrent),xe.ns.is("hidden",!xe.node.visible),xe.ns.is("focusable",!xe.node.disabled),xe.ns.is("checked",!xe.node.disabled&&xe.node.checked),xe.getNodeClass(xe.node)]),role:"treeitem",tabindex:"-1","aria-expanded":xe.expanded,"aria-disabled":xe.node.disabled,"aria-checked":xe.node.checked,draggable:xe.tree.props.draggable,"data-key":xe.getNodeKey(xe.node),onClick:pe[1]||(pe[1]=withModifiers((...qe)=>xe.handleClick&&xe.handleClick(...qe),["stop"])),onContextmenu:pe[2]||(pe[2]=(...qe)=>xe.handleContextMenu&&xe.handleContextMenu(...qe)),onDragstart:pe[3]||(pe[3]=withModifiers((...qe)=>xe.handleDragStart&&xe.handleDragStart(...qe),["stop"])),onDragover:pe[4]||(pe[4]=withModifiers((...qe)=>xe.handleDragOver&&xe.handleDragOver(...qe),["stop"])),onDragend:pe[5]||(pe[5]=withModifiers((...qe)=>xe.handleDragEnd&&xe.handleDragEnd(...qe),["stop"])),onDrop:pe[6]||(pe[6]=withModifiers((...qe)=>xe.handleDrop&&xe.handleDrop(...qe),["stop"]))},[createBaseVNode("div",{class:normalizeClass(xe.ns.be("node","content")),style:normalizeStyle$1({paddingLeft:(xe.node.level-1)*xe.tree.props.indent+"px"})},[xe.tree.props.icon||xe.CaretRight?(openBlock(),createBlock(Ne,{key:0,class:normalizeClass([xe.ns.be("node","expand-icon"),xe.ns.is("leaf",xe.node.isLeaf),{expanded:!xe.node.isLeaf&&xe.expanded}]),onClick:withModifiers(xe.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.tree.props.icon||xe.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),xe.showCheckbox?(openBlock(),createBlock(Fe,{key:1,"model-value":xe.node.checked,indeterminate:xe.node.indeterminate,disabled:!!xe.node.disabled,onClick:pe[0]||(pe[0]=withModifiers(()=>{},["stop"])),onChange:xe.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):createCommentVNode("v-if",!0),xe.node.loading?(openBlock(),createBlock(Ne,{key:2,class:normalizeClass([xe.ns.be("node","loading-icon"),xe.ns.is("loading")])},{default:withCtx(()=>[createVNode(Ue)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode($e,{node:xe.node,"render-content":xe.renderContent},null,8,["node","render-content"])],6),createVNode(Ve,null,{default:withCtx(()=>[!xe.renderAfterExpand||xe.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(xe.ns.be("node","children")),role:"group","aria-expanded":xe.expanded},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.node.childNodes,qe=>(openBlock(),createBlock(ze,{key:xe.getNodeKey(qe),"render-content":xe.renderContent,"render-after-expand":xe.renderAfterExpand,"show-checkbox":xe.showCheckbox,node:qe,accordion:xe.accordion,props:xe.props,onNodeExpand:xe.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,_hoisted_2$5)),[[vShow,xe.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,_hoisted_1$6)),[[vShow,xe.node.visible]])}var ElTreeNode=_export_sfc(_sfc_main$9,[["render",_sfc_render$2],["__file","tree-node.vue"]]);function useKeydown({el$:xe},pe){const _e=useNamespace("tree"),Ce=shallowRef([]),Ie=shallowRef([]);onMounted(()=>{Ne()}),onUpdated(()=>{Ce.value=Array.from(xe.value.querySelectorAll("[role=treeitem]")),Ie.value=Array.from(xe.value.querySelectorAll("input[type=checkbox]"))}),watch(Ie,Fe=>{Fe.forEach(Ue=>{Ue.setAttribute("tabindex","-1")})}),useEventListener(xe,"keydown",Fe=>{const Ue=Fe.target;if(!Ue.className.includes(_e.b("node")))return;const $e=Fe.code;Ce.value=Array.from(xe.value.querySelectorAll(".".concat(_e.is("focusable"),"[role=treeitem]")));const ze=Ce.value.indexOf(Ue);let Ve;if([EVENT_CODE.up,EVENT_CODE.down].includes($e)){if(Fe.preventDefault(),$e===EVENT_CODE.up){Ve=ze===-1?0:ze!==0?ze-1:Ce.value.length-1;const En=Ve;for(;!pe.value.getNode(Ce.value[Ve].dataset.key).canFocus;){if(Ve--,Ve===En){Ve=-1;break}Ve<0&&(Ve=Ce.value.length-1)}}else{Ve=ze===-1?0:ze<Ce.value.length-1?ze+1:0;const En=Ve;for(;!pe.value.getNode(Ce.value[Ve].dataset.key).canFocus;){if(Ve++,Ve===En){Ve=-1;break}Ve>=Ce.value.length&&(Ve=0)}}Ve!==-1&&Ce.value[Ve].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes($e)&&(Fe.preventDefault(),Ue.click());const qe=Ue.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.space].includes($e)&&qe&&(Fe.preventDefault(),qe.click())});const Ne=()=>{var Fe;Ce.value=Array.from(xe.value.querySelectorAll(".".concat(_e.is("focusable"),"[role=treeitem]"))),Ie.value=Array.from(xe.value.querySelectorAll("input[type=checkbox]"));const Ue=xe.value.querySelectorAll(".".concat(_e.is("checked"),"[role=treeitem]"));if(Ue.length){Ue[0].setAttribute("tabindex","0");return}(Fe=Ce.value[0])==null||Fe.setAttribute("tabindex","0")}}const _sfc_main$8=defineComponent({name:"ElTree",components:{ElTreeNode},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(xe,pe){const{t:_e}=useLocale(),Ce=useNamespace("tree"),Ie=inject(selectKey,null),Oe=ref(new TreeStore({key:xe.nodeKey,data:xe.data,lazy:xe.lazy,props:xe.props,load:xe.load,currentNodeKey:xe.currentNodeKey,checkStrictly:xe.checkStrictly,checkDescendants:xe.checkDescendants,defaultCheckedKeys:xe.defaultCheckedKeys,defaultExpandedKeys:xe.defaultExpandedKeys,autoExpandParent:xe.autoExpandParent,defaultExpandAll:xe.defaultExpandAll,filterNodeMethod:xe.filterNodeMethod}));Oe.value.initialize();const Ne=ref(Oe.value.root),Fe=ref(null),Ue=ref(null),$e=ref(null),{broadcastExpanded:ze}=useNodeExpandEventBroadcast(xe),{dragState:Ve}=useDragNodeHandler({props:xe,ctx:pe,el$:Ue,dropIndicator$:$e,store:Oe});useKeydown({el$:Ue},Oe);const qe=computed(()=>{const{childNodes:$n}=Ne.value,Fn=Ie?Ie.hasFilteredOptions!==0:!1;return(!$n||$n.length===0||$n.every(({visible:Un})=>!Un))&&!Fn});watch(()=>xe.currentNodeKey,$n=>{Oe.value.setCurrentNodeKey($n)}),watch(()=>xe.defaultCheckedKeys,$n=>{Oe.value.setDefaultCheckedKey($n)}),watch(()=>xe.defaultExpandedKeys,$n=>{Oe.value.setDefaultExpandedKeys($n)}),watch(()=>xe.data,$n=>{Oe.value.setData($n)},{deep:!0}),watch(()=>xe.checkStrictly,$n=>{Oe.value.checkStrictly=$n});const En=$n=>{if(!xe.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");Oe.value.filter($n)},vn=$n=>getNodeKey(xe.nodeKey,$n.data),hn=$n=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const Fn=Oe.value.getNode($n);if(!Fn)return[];const Un=[Fn.data];let Hn=Fn.parent;for(;Hn&&Hn!==Ne.value;)Un.push(Hn.data),Hn=Hn.parent;return Un.reverse()},_n=($n,Fn)=>Oe.value.getCheckedNodes($n,Fn),bn=$n=>Oe.value.getCheckedKeys($n),An=()=>{const $n=Oe.value.getCurrentNode();return $n?$n.data:null},xn=()=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const $n=An();return $n?$n[xe.nodeKey]:null},Sn=($n,Fn)=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");Oe.value.setCheckedNodes($n,Fn)},Cn=($n,Fn)=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");Oe.value.setCheckedKeys($n,Fn)},Tn=($n,Fn,Un)=>{Oe.value.setChecked($n,Fn,Un)},wn=()=>Oe.value.getHalfCheckedNodes(),Ln=()=>Oe.value.getHalfCheckedKeys(),Pn=($n,Fn=!0)=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange(Oe,pe.emit,()=>Oe.value.setUserCurrentNode($n,Fn))},kn=($n,Fn=!0)=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange(Oe,pe.emit,()=>Oe.value.setCurrentNodeKey($n,Fn))},In=$n=>Oe.value.getNode($n),Rn=$n=>{Oe.value.remove($n)},Nn=($n,Fn)=>{Oe.value.append($n,Fn)},On=($n,Fn)=>{Oe.value.insertBefore($n,Fn)},Dn=($n,Fn)=>{Oe.value.insertAfter($n,Fn)},Mn=($n,Fn,Un)=>{ze(Fn),pe.emit("node-expand",$n,Fn,Un)},Bn=($n,Fn)=>{if(!xe.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");Oe.value.updateChildren($n,Fn)};return provide("RootTree",{ctx:pe,props:xe,store:Oe,root:Ne,currentNode:Fe,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:Ce,store:Oe,root:Ne,currentNode:Fe,dragState:Ve,el$:Ue,dropIndicator$:$e,isEmpty:qe,filter:En,getNodeKey:vn,getNodePath:hn,getCheckedNodes:_n,getCheckedKeys:bn,getCurrentNode:An,getCurrentKey:xn,setCheckedNodes:Sn,setCheckedKeys:Cn,setChecked:Tn,getHalfCheckedNodes:wn,getHalfCheckedKeys:Ln,setCurrentNode:Pn,setCurrentKey:kn,t:_e,getNode:In,remove:Rn,append:Nn,insertBefore:On,insertAfter:Dn,handleNodeExpand:Mn,updateKeyChildren:Bn}}});function _sfc_render$1(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([xe.ns.b(),xe.ns.is("dragging",!!xe.dragState.draggingNode),xe.ns.is("drop-not-allow",!xe.dragState.allowDrop),xe.ns.is("drop-inner",xe.dragState.dropType==="inner"),{[xe.ns.m("highlight-current")]:xe.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(xe.root.childNodes,Fe=>(openBlock(),createBlock(Ne,{key:xe.getNodeKey(Fe),node:Fe,props:xe.props,accordion:xe.accordion,"render-after-expand":xe.renderAfterExpand,"show-checkbox":xe.showCheckbox,"render-content":xe.renderContent,onNodeExpand:xe.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),xe.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(xe.ns.e("empty-block"))},[renderSlot(xe.$slots,"empty",{},()=>{var Fe;return[createBaseVNode("span",{class:normalizeClass(xe.ns.e("empty-text"))},toDisplayString((Fe=xe.emptyText)!=null?Fe:xe.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(xe.ns.e("drop-indicator"))},null,2),[[vShow,xe.dragState.showDropIndicator]])],2)}var Tree=_export_sfc(_sfc_main$8,[["render",_sfc_render$1],["__file","tree.vue"]]);Tree.install=xe=>{xe.component(Tree.name,Tree)};const _Tree=Tree,useSelect=(xe,{attrs:pe,emit:_e},{select:Ce,tree:Ie,key:Oe})=>{const Ne=useNamespace("tree-select");return watch(()=>xe.data,()=>{xe.filterable&&nextTick(()=>{var Ue,$e;($e=Ie.value)==null||$e.filter((Ue=Ce.value)==null?void 0:Ue.states.inputValue)})},{flush:"post"}),{...pick$1(toRefs(xe),Object.keys(ElSelect.props)),...pe,"onUpdate:modelValue":Ue=>_e(UPDATE_MODEL_EVENT,Ue),valueKey:Oe,popperClass:computed(()=>{const Ue=[Ne.e("popper")];return xe.popperClass&&Ue.push(xe.popperClass),Ue.join(" ")}),filterMethod:(Ue="")=>{var $e;xe.filterMethod?xe.filterMethod(Ue):xe.remoteMethod?xe.remoteMethod(Ue):($e=Ie.value)==null||$e.filter(Ue)}}},component=defineComponent({extends:ElOption,setup(xe,pe){const _e=ElOption.setup(xe,pe);delete _e.selectOptionClick;const Ce=getCurrentInstance().proxy;return nextTick(()=>{_e.select.states.cachedOptions.get(Ce.value)||_e.select.onOptionCreate(Ce)}),_e},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(xe){return xe||xe===0}function isValidArray(xe){return Array.isArray(xe)&&xe.length}function toValidArray(xe){return Array.isArray(xe)?xe:isValidValue(xe)?[xe]:[]}function treeFind(xe,pe,_e,Ce,Ie){for(let Oe=0;Oe<xe.length;Oe++){const Ne=xe[Oe];if(pe(Ne,Oe,xe,Ie))return Ce?Ce(Ne,Oe,xe,Ie):Ne;{const Fe=_e(Ne);if(isValidArray(Fe)){const Ue=treeFind(Fe,pe,_e,Ce,Ne);if(Ue)return Ue}}}}function treeEach(xe,pe,_e,Ce){for(let Ie=0;Ie<xe.length;Ie++){const Oe=xe[Ie];pe(Oe,Ie,xe,Ce);const Ne=_e(Oe);isValidArray(Ne)&&treeEach(Ne,pe,_e,Oe)}}const useTree=(xe,{attrs:pe,slots:_e,emit:Ce},{select:Ie,tree:Oe,key:Ne})=>{watch(()=>xe.modelValue,()=>{xe.showCheckbox&&nextTick(()=>{const Ve=Oe.value;Ve&&!isEqual(Ve.getCheckedKeys(),toValidArray(xe.modelValue))&&Ve.setCheckedKeys(toValidArray(xe.modelValue))})},{immediate:!0,deep:!0});const Fe=computed(()=>({value:Ne.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...xe.props})),Ue=(Ve,qe)=>{var En;const vn=Fe.value[Ve];return isFunction$2(vn)?vn(qe,(En=Oe.value)==null?void 0:En.getNode(Ue("value",qe))):qe[vn]},$e=toValidArray(xe.modelValue).map(Ve=>treeFind(xe.data||[],qe=>Ue("value",qe)===Ve,qe=>Ue("children",qe),(qe,En,vn,hn)=>hn&&Ue("value",hn))).filter(Ve=>isValidValue(Ve)),ze=computed(()=>{if(!xe.renderAfterExpand&&!xe.lazy)return[];const Ve=[];return treeEach(xe.data.concat(xe.cacheData),qe=>{const En=Ue("value",qe);Ve.push({value:En,currentLabel:Ue("label",qe),isDisabled:Ue("disabled",qe)})},qe=>Ue("children",qe)),Ve});return{...pick$1(toRefs(xe),Object.keys(_Tree.props)),...pe,nodeKey:Ne,expandOnClickNode:computed(()=>!xe.checkStrictly&&xe.expandOnClickNode),defaultExpandedKeys:computed(()=>xe.defaultExpandedKeys?xe.defaultExpandedKeys.concat($e):$e),renderContent:(Ve,{node:qe,data:En,store:vn})=>Ve(component,{value:Ue("value",En),label:Ue("label",En),disabled:Ue("disabled",En)},xe.renderContent?()=>xe.renderContent(Ve,{node:qe,data:En,store:vn}):_e.default?()=>_e.default({node:qe,data:En,store:vn}):void 0),filterNodeMethod:(Ve,qe,En)=>xe.filterNodeMethod?xe.filterNodeMethod(Ve,qe,En):Ve?new RegExp(escapeStringRegexp(Ve),"i").test(Ue("label",qe)||""):!0,onNodeClick:(Ve,qe,En)=>{var vn,hn,_n,bn;if((vn=pe.onNodeClick)==null||vn.call(pe,Ve,qe,En),!(xe.showCheckbox&&xe.checkOnClickNode)){if(!xe.showCheckbox&&(xe.checkStrictly||qe.isLeaf)){if(!Ue("disabled",Ve)){const An=(hn=Ie.value)==null?void 0:hn.states.options.get(Ue("value",Ve));(_n=Ie.value)==null||_n.handleOptionSelect(An)}}else xe.expandOnClickNode&&En.proxy.handleExpandIconClick();(bn=Ie.value)==null||bn.focus()}},onCheck:(Ve,qe)=>{var En;if(!xe.showCheckbox)return;const vn=Ue("value",Ve),hn={};treeEach([Oe.value.store.root],xn=>hn[xn.key]=xn,xn=>xn.childNodes);const _n=qe.checkedKeys,bn=xe.multiple?toValidArray(xe.modelValue).filter(xn=>!(xn in hn)&&!_n.includes(xn)):[],An=bn.concat(_n);if(xe.checkStrictly)Ce(UPDATE_MODEL_EVENT,xe.multiple?An:An.includes(vn)?vn:void 0);else if(xe.multiple)Ce(UPDATE_MODEL_EVENT,bn.concat(Oe.value.getCheckedKeys(!0)));else{const xn=treeFind([Ve],Tn=>!isValidArray(Ue("children",Tn))&&!Ue("disabled",Tn),Tn=>Ue("children",Tn)),Sn=xn?Ue("value",xn):void 0,Cn=isValidValue(xe.modelValue)&&!!treeFind([Ve],Tn=>Ue("value",Tn)===xe.modelValue,Tn=>Ue("children",Tn));Ce(UPDATE_MODEL_EVENT,Sn===xe.modelValue||Cn?void 0:Sn)}nextTick(()=>{var xn;const Sn=toValidArray(xe.modelValue);Oe.value.setCheckedKeys(Sn),(xn=pe.onCheck)==null||xn.call(pe,Ve,{checkedKeys:Oe.value.getCheckedKeys(),checkedNodes:Oe.value.getCheckedNodes(),halfCheckedKeys:Oe.value.getHalfCheckedKeys(),halfCheckedNodes:Oe.value.getHalfCheckedNodes()})}),(En=Ie.value)==null||En.focus()},cacheOptions:ze}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(xe){const pe=inject(selectKey);return watch(()=>xe.data,()=>{var _e;xe.data.forEach(Ie=>{pe.states.cachedOptions.has(Ie.value)||pe.states.cachedOptions.set(Ie.value,Ie)});const Ce=((_e=pe.selectRef)==null?void 0:_e.querySelectorAll("input"))||[];Array.from(Ce).includes(document.activeElement)||pe.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$7=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...ElSelect.props,..._Tree.props,cacheData:{type:Array,default:()=>[]}},setup(xe,pe){const{slots:_e,expose:Ce}=pe,Ie=ref(),Oe=ref(),Ne=computed(()=>xe.nodeKey||xe.valueKey||"value"),Fe=useSelect(xe,pe,{select:Ie,tree:Oe,key:Ne}),{cacheOptions:Ue,...$e}=useTree(xe,pe,{select:Ie,tree:Oe,key:Ne}),ze=reactive({});return Ce(ze),onMounted(()=>{Object.assign(ze,{...pick$1(Oe.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick$1(Ie.value,["focus","blur"])})}),()=>h$1(ElSelect,reactive({...Fe,ref:Ve=>Ie.value=Ve}),{..._e,default:()=>[h$1(CacheOptions,{data:Ue.value}),h$1(_Tree,reactive({...$e,ref:Ve=>Oe.value=Ve}))]})}});var TreeSelect=_export_sfc(_sfc_main$7,[["__file","tree-select.vue"]]);TreeSelect.install=xe=>{xe.component(TreeSelect.name,TreeSelect)};const _TreeSelect=TreeSelect,ElTreeSelect=_TreeSelect,uploadContextKey=Symbol("uploadContextKey"),SCOPE$1="ElUpload";class UploadAjaxError extends Error{constructor(pe,_e,Ce,Ie){super(pe),this.name="UploadAjaxError",this.status=_e,this.method=Ce,this.url=Ie}}function getError(xe,pe,_e){let Ce;return _e.response?Ce="".concat(_e.response.error||_e.response):_e.responseText?Ce="".concat(_e.responseText):Ce="fail to ".concat(pe.method," ").concat(xe," ").concat(_e.status),new UploadAjaxError(Ce,_e.status,pe.method,xe)}function getBody(xe){const pe=xe.responseText||xe.response;if(!pe)return pe;try{return JSON.parse(pe)}catch(_e){return pe}}const ajaxUpload=xe=>{typeof XMLHttpRequest>"u"&&throwError$1(SCOPE$1,"XMLHttpRequest is undefined");const pe=new XMLHttpRequest,_e=xe.action;pe.upload&&pe.upload.addEventListener("progress",Oe=>{const Ne=Oe;Ne.percent=Oe.total>0?Oe.loaded/Oe.total*100:0,xe.onProgress(Ne)});const Ce=new FormData;if(xe.data)for(const[Oe,Ne]of Object.entries(xe.data))isArray$4(Ne)&&Ne.length?Ce.append(Oe,...Ne):Ce.append(Oe,Ne);Ce.append(xe.filename,xe.file,xe.file.name),pe.addEventListener("error",()=>{xe.onError(getError(_e,xe,pe))}),pe.addEventListener("load",()=>{if(pe.status<200||pe.status>=300)return xe.onError(getError(_e,xe,pe));xe.onSuccess(getBody(pe))}),pe.open(xe.method,_e,!0),xe.withCredentials&&"withCredentials"in pe&&(pe.withCredentials=!0);const Ie=xe.headers||{};if(Ie instanceof Headers)Ie.forEach((Oe,Ne)=>pe.setRequestHeader(Ne,Oe));else for(const[Oe,Ne]of Object.entries(Ie))isNil(Ne)||pe.setRequestHeader(Oe,String(Ne));return pe.send(Ce),pe},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:definePropType([Object,Function,Promise]),default:()=>mutable({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP},crossorigin:{type:definePropType(String)}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"},crossorigin:{type:definePropType(String)}}),uploadListEmits={remove:xe=>!!xe},_hoisted_1$5=["onKeydown"],_hoisted_2$4=["src","crossorigin"],_hoisted_3$2=["onClick"],_hoisted_4$1=["title"],_hoisted_5=["onClick"],_hoisted_6=["onClick"],__default__$5=defineComponent({name:"ElUploadList"}),_sfc_main$6=defineComponent({...__default__$5,props:uploadListProps,emits:uploadListEmits,setup(xe,{emit:pe}){const _e=xe,{t:Ce}=useLocale(),Ie=useNamespace("upload"),Oe=useNamespace("icon"),Ne=useNamespace("list"),Fe=useFormDisabled(),Ue=ref(!1),$e=computed(()=>[Ie.b("list"),Ie.bm("list",_e.listType),Ie.is("disabled",_e.disabled)]),ze=Ve=>{pe("remove",Ve)};return(Ve,qe)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass(unref($e)),name:unref(Ne).b()},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(Ve.files,En=>(openBlock(),createElementBlock("li",{key:En.uid||En.name,class:normalizeClass([unref(Ie).be("list","item"),unref(Ie).is(En.status),{focusing:Ue.value}]),tabindex:"0",onKeydown:withKeys(vn=>!unref(Fe)&&ze(En),["delete"]),onFocus:qe[0]||(qe[0]=vn=>Ue.value=!0),onBlur:qe[1]||(qe[1]=vn=>Ue.value=!1),onClick:qe[2]||(qe[2]=vn=>Ue.value=!1)},[renderSlot(Ve.$slots,"default",{file:En},()=>[Ve.listType==="picture"||En.status!=="uploading"&&Ve.listType==="picture-card"?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref(Ie).be("list","item-thumbnail")),src:En.url,crossorigin:Ve.crossorigin,alt:""},null,10,_hoisted_2$4)):createCommentVNode("v-if",!0),En.status==="uploading"||Ve.listType!=="picture-card"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(Ie).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref(Ie).be("list","item-name")),onClick:withModifiers(vn=>Ve.handlePreview(En),["prevent"])},[createVNode(unref(ElIcon),{class:normalizeClass(unref(Oe).m("document"))},{default:withCtx(()=>[createVNode(unref(document_default))]),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref(Ie).be("list","item-file-name")),title:En.name},toDisplayString(En.name),11,_hoisted_4$1)],10,_hoisted_3$2),En.status==="uploading"?(openBlock(),createBlock(unref(ElProgress),{key:0,type:Ve.listType==="picture-card"?"circle":"line","stroke-width":Ve.listType==="picture-card"?6:2,percentage:Number(En.percentage),style:normalizeStyle$1(Ve.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref(Ie).be("list","item-status-label"))},[Ve.listType==="text"?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(Oe).m("upload-success"),unref(Oe).m("circle-check")])},{default:withCtx(()=>[createVNode(unref(circle_check_default))]),_:1},8,["class"])):["picture-card","picture"].includes(Ve.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(Oe).m("upload-success"),unref(Oe).m("check")])},{default:withCtx(()=>[createVNode(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref(Fe)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(Oe).m("close")),onClick:vn=>ze(En)},{default:withCtx(()=>[createVNode(unref(close_default))]),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref(Fe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(Oe).m("close-tip"))},toDisplayString(unref(Ce)("el.upload.deleteTip")),3)),Ve.listType==="picture-card"?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref(Ie).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref(Ie).be("list","item-preview")),onClick:vn=>Ve.handlePreview(En)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(Oe).m("zoom-in"))},{default:withCtx(()=>[createVNode(unref(zoom_in_default))]),_:1},8,["class"])],10,_hoisted_5),unref(Fe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Ie).be("list","item-delete")),onClick:vn=>ze(En)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(Oe).m("delete"))},{default:withCtx(()=>[createVNode(unref(delete_default))]),_:1},8,["class"])],10,_hoisted_6))],2)):createCommentVNode("v-if",!0)])],42,_hoisted_1$5))),128)),renderSlot(Ve.$slots,"append")]),_:3},8,["class","name"]))}});var UploadList=_export_sfc(_sfc_main$6,[["__file","upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:xe=>isArray$4(xe)},_hoisted_1$4=["onDrop","onDragover"],COMPONENT_NAME="ElUploadDrag",__default__$4=defineComponent({name:COMPONENT_NAME}),_sfc_main$5=defineComponent({...__default__$4,props:uploadDraggerProps,emits:uploadDraggerEmits,setup(xe,{emit:pe}){inject(uploadContextKey)||throwError$1(COMPONENT_NAME,"usage: <el-upload><el-upload-dragger /></el-upload>");const Ce=useNamespace("upload"),Ie=ref(!1),Oe=useFormDisabled(),Ne=Ue=>{if(Oe.value)return;Ie.value=!1,Ue.stopPropagation();const $e=Array.from(Ue.dataTransfer.files);pe("file",$e)},Fe=()=>{Oe.value||(Ie.value=!0)};return(Ue,$e)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ce).b("dragger"),unref(Ce).is("dragover",Ie.value)]),onDrop:withModifiers(Ne,["prevent"]),onDragover:withModifiers(Fe,["prevent"]),onDragleave:$e[0]||($e[0]=withModifiers(ze=>Ie.value=!1,["prevent"]))},[renderSlot(Ue.$slots,"default")],42,_hoisted_1$4))}});var UploadDragger=_export_sfc(_sfc_main$5,[["__file","upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),_hoisted_1$3=["onKeydown"],_hoisted_2$3=["name","multiple","accept"],__default__$3=defineComponent({name:"ElUploadContent",inheritAttrs:!1}),_sfc_main$4=defineComponent({...__default__$3,props:uploadContentProps,setup(xe,{expose:pe}){const _e=xe,Ce=useNamespace("upload"),Ie=useFormDisabled(),Oe=shallowRef({}),Ne=shallowRef(),Fe=hn=>{if(hn.length===0)return;const{autoUpload:_n,limit:bn,fileList:An,multiple:xn,onStart:Sn,onExceed:Cn}=_e;if(bn&&An.length+hn.length>bn){Cn(hn,An);return}xn||(hn=hn.slice(0,1));for(const Tn of hn){const wn=Tn;wn.uid=genFileId(),Sn(wn),_n&&Ue(wn)}},Ue=async hn=>{if(Ne.value.value="",!_e.beforeUpload)return ze(hn);let _n,bn={};try{const xn=_e.data,Sn=_e.beforeUpload(hn);bn=isPlainObject$1(_e.data)?cloneDeep(_e.data):_e.data,_n=await Sn,isPlainObject$1(_e.data)&&isEqual(xn,bn)&&(bn=cloneDeep(_e.data))}catch(xn){_n=!1}if(_n===!1){_e.onRemove(hn);return}let An=hn;_n instanceof Blob&&(_n instanceof File?An=_n:An=new File([_n],hn.name,{type:hn.type})),ze(Object.assign(An,{uid:hn.uid}),bn)},$e=async(hn,_n)=>isFunction$2(hn)?hn(_n):hn,ze=async(hn,_n)=>{const{headers:bn,data:An,method:xn,withCredentials:Sn,name:Cn,action:Tn,onProgress:wn,onSuccess:Ln,onError:Pn,httpRequest:kn}=_e;try{_n=await $e(_n!=null?_n:An,hn)}catch(On){_e.onRemove(hn);return}const{uid:In}=hn,Rn={headers:bn||{},withCredentials:Sn,file:hn,data:_n,method:xn,filename:Cn,action:Tn,onProgress:On=>{wn(On,hn)},onSuccess:On=>{Ln(On,hn),delete Oe.value[In]},onError:On=>{Pn(On,hn),delete Oe.value[In]}},Nn=kn(Rn);Oe.value[In]=Nn,Nn instanceof Promise&&Nn.then(Rn.onSuccess,Rn.onError)},Ve=hn=>{const _n=hn.target.files;_n&&Fe(Array.from(_n))},qe=()=>{Ie.value||(Ne.value.value="",Ne.value.click())},En=()=>{qe()};return pe({abort:hn=>{entriesOf(Oe.value).filter(hn?([bn])=>String(hn.uid)===bn:()=>!0).forEach(([bn,An])=>{An instanceof XMLHttpRequest&&An.abort(),delete Oe.value[bn]})},upload:Ue}),(hn,_n)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ce).b(),unref(Ce).m(hn.listType),unref(Ce).is("drag",hn.drag)]),tabindex:"0",onClick:qe,onKeydown:withKeys(withModifiers(En,["self"]),["enter","space"])},[hn.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref(Ie),onFile:Fe},{default:withCtx(()=>[renderSlot(hn.$slots,"default")]),_:3},8,["disabled"])):renderSlot(hn.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:Ne,class:normalizeClass(unref(Ce).e("input")),name:hn.name,multiple:hn.multiple,accept:hn.accept,type:"file",onChange:Ve,onClick:_n[0]||(_n[0]=withModifiers(()=>{},["stop"]))},null,42,_hoisted_2$3)],42,_hoisted_1$3))}});var UploadContent=_export_sfc(_sfc_main$4,[["__file","upload-content.vue"]]);const SCOPE="ElUpload",revokeFileObjectURL=xe=>{var pe;(pe=xe.url)!=null&&pe.startsWith("blob:")&&URL.revokeObjectURL(xe.url)},useHandlers=(xe,pe)=>{const _e=useVModel(xe,"fileList",void 0,{passive:!0}),Ce=qe=>_e.value.find(En=>En.uid===qe.uid);function Ie(qe){var En;(En=pe.value)==null||En.abort(qe)}function Oe(qe=["ready","uploading","success","fail"]){_e.value=_e.value.filter(En=>!qe.includes(En.status))}const Ne=(qe,En)=>{const vn=Ce(En);vn&&(console.error(qe),vn.status="fail",_e.value.splice(_e.value.indexOf(vn),1),xe.onError(qe,vn,_e.value),xe.onChange(vn,_e.value))},Fe=(qe,En)=>{const vn=Ce(En);vn&&(xe.onProgress(qe,vn,_e.value),vn.status="uploading",vn.percentage=Math.round(qe.percent))},Ue=(qe,En)=>{const vn=Ce(En);vn&&(vn.status="success",vn.response=qe,xe.onSuccess(qe,vn,_e.value),xe.onChange(vn,_e.value))},$e=qe=>{isNil(qe.uid)&&(qe.uid=genFileId());const En={name:qe.name,percentage:0,status:"ready",size:qe.size,raw:qe,uid:qe.uid};if(xe.listType==="picture-card"||xe.listType==="picture")try{En.url=URL.createObjectURL(qe)}catch(vn){vn.message,xe.onError(vn,En,_e.value)}_e.value=[..._e.value,En],xe.onChange(En,_e.value)},ze=async qe=>{const En=qe instanceof File?Ce(qe):qe;En||throwError$1(SCOPE,"file to be removed not found");const vn=hn=>{Ie(hn);const _n=_e.value;_n.splice(_n.indexOf(hn),1),xe.onRemove(hn,_n),revokeFileObjectURL(hn)};xe.beforeRemove?await xe.beforeRemove(En,_e.value)!==!1&&vn(En):vn(En)};function Ve(){_e.value.filter(({status:qe})=>qe==="ready").forEach(({raw:qe})=>{var En;return qe&&((En=pe.value)==null?void 0:En.upload(qe))})}return watch(()=>xe.listType,qe=>{qe!=="picture-card"&&qe!=="picture"||(_e.value=_e.value.map(En=>{const{raw:vn,url:hn}=En;if(!hn&&vn)try{En.url=URL.createObjectURL(vn)}catch(_n){xe.onError(_n,En,_e.value)}return En}))}),watch(_e,qe=>{for(const En of qe)En.uid||(En.uid=genFileId()),En.status||(En.status="success")},{immediate:!0,deep:!0}),{uploadFiles:_e,abort:Ie,clearFiles:Oe,handleError:Ne,handleProgress:Fe,handleStart:$e,handleSuccess:Ue,handleRemove:ze,submit:Ve,revokeFileObjectURL}},__default__$2=defineComponent({name:"ElUpload"}),_sfc_main$3=defineComponent({...__default__$2,props:uploadProps,setup(xe,{expose:pe}){const _e=xe,Ce=useFormDisabled(),Ie=shallowRef(),{abort:Oe,submit:Ne,clearFiles:Fe,uploadFiles:Ue,handleStart:$e,handleError:ze,handleRemove:Ve,handleSuccess:qe,handleProgress:En,revokeFileObjectURL:vn}=useHandlers(_e,Ie),hn=computed(()=>_e.listType==="picture-card"),_n=computed(()=>({..._e,fileList:Ue.value,onStart:$e,onProgress:En,onSuccess:qe,onError:ze,onRemove:Ve}));return onBeforeUnmount(()=>{Ue.value.forEach(vn)}),provide(uploadContextKey,{accept:toRef(_e,"accept")}),pe({abort:Oe,submit:Ne,clearFiles:Fe,handleStart:$e,handleRemove:Ve}),(bn,An)=>(openBlock(),createElementBlock("div",null,[unref(hn)&&bn.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(Ce),"list-type":bn.listType,files:unref(Ue),crossorigin:bn.crossorigin,"handle-preview":bn.onPreview,onRemove:unref(Ve)},createSlots({append:withCtx(()=>[createVNode(UploadContent,mergeProps({ref_key:"uploadRef",ref:Ie},unref(_n)),{default:withCtx(()=>[bn.$slots.trigger?renderSlot(bn.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!bn.$slots.trigger&&bn.$slots.default?renderSlot(bn.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)]),_:2},[bn.$slots.file?{name:"default",fn:withCtx(({file:xn})=>[renderSlot(bn.$slots,"file",{file:xn})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!unref(hn)||unref(hn)&&!bn.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:Ie},unref(_n)),{default:withCtx(()=>[bn.$slots.trigger?renderSlot(bn.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!bn.$slots.trigger&&bn.$slots.default?renderSlot(bn.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)):createCommentVNode("v-if",!0),bn.$slots.trigger?renderSlot(bn.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(bn.$slots,"tip"),!unref(hn)&&bn.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(Ce),"list-type":bn.listType,files:unref(Ue),crossorigin:bn.crossorigin,"handle-preview":bn.onPreview,onRemove:unref(Ve)},createSlots({_:2},[bn.$slots.file?{name:"default",fn:withCtx(({file:xn})=>[renderSlot(bn.$slots,"file",{file:xn})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc(_sfc_main$3,[["__file","upload.vue"]]);const ElUpload=withInstall$1(Upload);function createLoadingComponent(xe){let pe;const _e=ref(!1),Ce=reactive({...xe,originalPosition:"",originalOverflow:"",visible:!1});function Ie(qe){Ce.text=qe}function Oe(){const qe=Ce.parent,En=Ve.ns;if(!qe.vLoadingAddClassList){let vn=qe.getAttribute("loading-number");vn=Number.parseInt(vn)-1,vn?qe.setAttribute("loading-number",vn.toString()):(removeClass(qe,En.bm("parent","relative")),qe.removeAttribute("loading-number")),removeClass(qe,En.bm("parent","hidden"))}Ne(),ze.unmount()}function Ne(){var qe,En;(En=(qe=Ve.$el)==null?void 0:qe.parentNode)==null||En.removeChild(Ve.$el)}function Fe(){var qe;xe.beforeClose&&!xe.beforeClose()||(_e.value=!0,clearTimeout(pe),pe=window.setTimeout(Ue,400),Ce.visible=!1,(qe=xe.closed)==null||qe.call(xe))}function Ue(){if(!_e.value)return;const qe=Ce.parent;_e.value=!1,qe.vLoadingAddClassList=void 0,Oe()}const ze=createApp(defineComponent({name:"ElLoading",setup(qe,{expose:En}){const{ns:vn,zIndex:hn}=useGlobalComponentSettings("loading");return En({ns:vn,zIndex:hn}),()=>{const _n=Ce.spinner||Ce.svg,bn=h$1("svg",{class:"circular",viewBox:Ce.svgViewBox?Ce.svgViewBox:"0 0 50 50",..._n?{innerHTML:_n}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),An=Ce.text?h$1("p",{class:vn.b("text")},[Ce.text]):void 0;return h$1(Transition,{name:vn.b("fade"),onAfterLeave:Ue},{default:withCtx(()=>[withDirectives(createVNode("div",{style:{backgroundColor:Ce.background||""},class:[vn.b("mask"),Ce.customClass,Ce.fullscreen?"is-fullscreen":""]},[h$1("div",{class:vn.b("spinner")},[bn,An])]),[[vShow,Ce.visible]])])})}}})),Ve=ze.mount(document.createElement("div"));return{...toRefs(Ce),setText:Ie,removeElLoadingChild:Ne,close:Fe,handleAfterLeave:Ue,vm:Ve,get $el(){return Ve.$el}}}let fullscreenInstance;const Loading=function(xe={}){if(!isClient)return;const pe=resolveOptions(xe);if(pe.fullscreen&&fullscreenInstance)return fullscreenInstance;const _e=createLoadingComponent({...pe,closed:()=>{var Ie;(Ie=pe.closed)==null||Ie.call(pe),pe.fullscreen&&(fullscreenInstance=void 0)}});addStyle(pe,pe.parent,_e),addClassList(pe,pe.parent,_e),pe.parent.vLoadingAddClassList=()=>addClassList(pe,pe.parent,_e);let Ce=pe.parent.getAttribute("loading-number");return Ce?Ce="".concat(Number.parseInt(Ce)+1):Ce="1",pe.parent.setAttribute("loading-number",Ce),pe.parent.appendChild(_e.$el),nextTick(()=>_e.visible.value=pe.visible),pe.fullscreen&&(fullscreenInstance=_e),_e},resolveOptions=xe=>{var pe,_e,Ce,Ie;let Oe;return isString$3(xe.target)?Oe=(pe=document.querySelector(xe.target))!=null?pe:document.body:Oe=xe.target||document.body,{parent:Oe===document.body||xe.body?document.body:Oe,background:xe.background||"",svg:xe.svg||"",svgViewBox:xe.svgViewBox||"",spinner:xe.spinner||!1,text:xe.text||"",fullscreen:Oe===document.body&&((_e=xe.fullscreen)!=null?_e:!0),lock:(Ce=xe.lock)!=null?Ce:!1,customClass:xe.customClass||"",visible:(Ie=xe.visible)!=null?Ie:!0,target:Oe}},addStyle=async(xe,pe,_e)=>{const{nextZIndex:Ce}=_e.vm.zIndex||_e.vm._.exposed.zIndex,Ie={};if(xe.fullscreen)_e.originalPosition.value=getStyle$1(document.body,"position"),_e.originalOverflow.value=getStyle$1(document.body,"overflow"),Ie.zIndex=Ce();else if(xe.parent===document.body){_e.originalPosition.value=getStyle$1(document.body,"position"),await nextTick();for(const Oe of["top","left"]){const Ne=Oe==="top"?"scrollTop":"scrollLeft";Ie[Oe]="".concat(xe.target.getBoundingClientRect()[Oe]+document.body[Ne]+document.documentElement[Ne]-Number.parseInt(getStyle$1(document.body,"margin-".concat(Oe)),10),"px")}for(const Oe of["height","width"])Ie[Oe]="".concat(xe.target.getBoundingClientRect()[Oe],"px")}else _e.originalPosition.value=getStyle$1(pe,"position");for(const[Oe,Ne]of Object.entries(Ie))_e.$el.style[Oe]=Ne},addClassList=(xe,pe,_e)=>{const Ce=_e.vm.ns||_e.vm._.exposed.ns;["absolute","fixed","sticky"].includes(_e.originalPosition.value)?removeClass(pe,Ce.bm("parent","relative")):addClass(pe,Ce.bm("parent","relative")),xe.fullscreen&&xe.lock?addClass(pe,Ce.bm("parent","hidden")):removeClass(pe,Ce.bm("parent","hidden"))},INSTANCE_KEY=Symbol("ElLoading"),createInstance=(xe,pe)=>{var _e,Ce,Ie,Oe;const Ne=pe.instance,Fe=qe=>isObject$3(pe.value)?pe.value[qe]:void 0,Ue=qe=>{const En=isString$3(qe)&&(Ne==null?void 0:Ne[qe])||qe;return En&&ref(En)},$e=qe=>Ue(Fe(qe)||xe.getAttribute("element-loading-".concat(hyphenate(qe)))),ze=(_e=Fe("fullscreen"))!=null?_e:pe.modifiers.fullscreen,Ve={text:$e("text"),svg:$e("svg"),svgViewBox:$e("svgViewBox"),spinner:$e("spinner"),background:$e("background"),customClass:$e("customClass"),fullscreen:ze,target:(Ce=Fe("target"))!=null?Ce:ze?void 0:xe,body:(Ie=Fe("body"))!=null?Ie:pe.modifiers.body,lock:(Oe=Fe("lock"))!=null?Oe:pe.modifiers.lock};xe[INSTANCE_KEY]={options:Ve,instance:Loading(Ve)}},updateOptions=(xe,pe)=>{for(const _e of Object.keys(pe))isRef(pe[_e])&&(pe[_e].value=xe[_e])},vLoading={mounted(xe,pe){pe.value&&createInstance(xe,pe)},updated(xe,pe){const _e=xe[INSTANCE_KEY];pe.oldValue!==pe.value&&(pe.value&&!pe.oldValue?createInstance(xe,pe):pe.value&&pe.oldValue?isObject$3(pe.value)&&updateOptions(pe.value,_e.options):_e==null||_e.instance.close())},unmounted(xe){var pe;(pe=xe[INSTANCE_KEY])==null||pe.instance.close(),xe[INSTANCE_KEY]=null}},ElLoading={install(xe){xe.directive("loading",vLoading),xe.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),default:messageDefaults.onClose},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},plain:{type:Boolean,default:messageDefaults.plain},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances=shallowReactive([]),getInstance=xe=>{const pe=instances.findIndex(Ie=>Ie.id===xe),_e=instances[pe];let Ce;return pe>0&&(Ce=instances[pe-1]),{current:_e,prev:Ce}},getLastOffset=xe=>{const{prev:pe}=getInstance(xe);return pe?pe.vm.exposed.bottom.value:0},getOffsetOrSpace=(xe,pe)=>instances.findIndex(Ce=>Ce.id===xe)>0?16:pe,_hoisted_1$2=["id"],_hoisted_2$2=["innerHTML"],__default__$1=defineComponent({name:"ElMessage"}),_sfc_main$2=defineComponent({...__default__$1,props:messageProps,emits:messageEmits,setup(xe,{expose:pe}){const _e=xe,{Close:Ce}=TypeComponents,{ns:Ie,zIndex:Oe}=useGlobalComponentSettings("message"),{currentZIndex:Ne,nextZIndex:Fe}=Oe,Ue=ref(),$e=ref(!1),ze=ref(0);let Ve;const qe=computed(()=>_e.type?_e.type==="error"?"danger":_e.type:"info"),En=computed(()=>{const wn=_e.type;return{[Ie.bm("icon",wn)]:wn&&TypeComponentsMap[wn]}}),vn=computed(()=>_e.icon||TypeComponentsMap[_e.type]||""),hn=computed(()=>getLastOffset(_e.id)),_n=computed(()=>getOffsetOrSpace(_e.id,_e.offset)+hn.value),bn=computed(()=>ze.value+_n.value),An=computed(()=>({top:"".concat(_n.value,"px"),zIndex:Ne.value}));function xn(){_e.duration!==0&&({stop:Ve}=useTimeoutFn(()=>{Cn()},_e.duration))}function Sn(){Ve==null||Ve()}function Cn(){$e.value=!1}function Tn({code:wn}){wn===EVENT_CODE.esc&&Cn()}return onMounted(()=>{xn(),Fe(),$e.value=!0}),watch(()=>_e.repeatNum,()=>{Sn(),xn()}),useEventListener(document,"keydown",Tn),useResizeObserver(Ue,()=>{ze.value=Ue.value.getBoundingClientRect().height}),pe({visible:$e,bottom:bn,close:Cn}),(wn,Ln)=>(openBlock(),createBlock(Transition,{name:unref(Ie).b("fade"),onBeforeLeave:wn.onClose,onAfterLeave:Ln[0]||(Ln[0]=Pn=>wn.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:wn.id,ref_key:"messageRef",ref:Ue,class:normalizeClass([unref(Ie).b(),{[unref(Ie).m(wn.type)]:wn.type},unref(Ie).is("center",wn.center),unref(Ie).is("closable",wn.showClose),unref(Ie).is("plain",wn.plain),wn.customClass]),style:normalizeStyle$1(unref(An)),role:"alert",onMouseenter:Sn,onMouseleave:xn},[wn.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:wn.repeatNum,type:unref(qe),class:normalizeClass(unref(Ie).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(vn)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(Ie).e("icon"),unref(En)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(vn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(wn.$slots,"default",{},()=>[wn.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment$1,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(Ie).e("content")),innerHTML:wn.message},null,10,_hoisted_2$2)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(Ie).e("content"))},toDisplayString(wn.message),3))]),wn.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(Ie).e("closeBtn")),onClick:withModifiers(Cn,["stop"])},{default:withCtx(()=>[createVNode(unref(Ce))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$2),[[vShow,$e.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc(_sfc_main$2,[["__file","message.vue"]]);let seed$3=1;const normalizeOptions$1=xe=>{const pe=!xe||isString$3(xe)||isVNode(xe)||isFunction$2(xe)?{message:xe}:xe,_e={...messageDefaults,...pe};if(!_e.appendTo)_e.appendTo=document.body;else if(isString$3(_e.appendTo)){let Ce=document.querySelector(_e.appendTo);isElement(Ce)||(Ce=document.body),_e.appendTo=Ce}return _e},closeMessage=xe=>{const pe=instances.indexOf(xe);if(pe===-1)return;instances.splice(pe,1);const{handler:_e}=xe;_e.close()},createMessage=({appendTo:xe,...pe},_e)=>{const Ce="message_".concat(seed$3++),Ie=pe.onClose,Oe=document.createElement("div"),Ne={...pe,id:Ce,onClose:()=>{Ie==null||Ie(),closeMessage(ze)},onDestroy:()=>{render(null,Oe)}},Fe=createVNode(MessageConstructor,Ne,isFunction$2(Ne.message)||isVNode(Ne.message)?{default:isFunction$2(Ne.message)?Ne.message:()=>Ne.message}:null);Fe.appContext=_e||message$1._context,render(Fe,Oe),xe.appendChild(Oe.firstElementChild);const Ue=Fe.component,ze={id:Ce,vnode:Fe,vm:Ue,handler:{close:()=>{Ue.exposed.visible.value=!1}},props:Fe.component.props};return ze},message$1=(xe={},pe)=>{if(!isClient)return{close:()=>{}};if(isNumber(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};const _e=normalizeOptions$1(xe);if(_e.grouping&&instances.length){const Ie=instances.find(({vnode:Oe})=>{var Ne;return((Ne=Oe.props)==null?void 0:Ne.message)===_e.message});if(Ie)return Ie.props.repeatNum+=1,Ie.props.type=_e.type,Ie.handler}const Ce=createMessage(_e,pe);return instances.push(Ce),Ce.handler};messageTypes.forEach(xe=>{message$1[xe]=(pe={},_e)=>{const Ce=normalizeOptions$1(pe);return message$1({...Ce,type:xe},_e)}});function closeAll$1(xe){for(const pe of instances)(!xe||xe===pe.props.type)&&pe.handler.close()}message$1.closeAll=closeAll$1;message$1._context=null;const ElMessage=withInstallFunction(message$1,"$message"),_sfc_main$1=defineComponent({name:"ElMessageBox",directives:{TrapFocus},components:{ElButton,ElFocusTrap,ElInput,ElOverlay,ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(xe,{emit:pe}){const{locale:_e,zIndex:Ce,ns:Ie,size:Oe}=useGlobalComponentSettings("message-box",computed(()=>xe.buttonSize)),{t:Ne}=_e,{nextZIndex:Fe}=Ce,Ue=ref(!1),$e=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:Fe()}),ze=computed(()=>{const Mn=$e.type;return{[Ie.bm("icon",Mn)]:Mn&&TypeComponentsMap[Mn]}}),Ve=useId(),qe=useId(),En=computed(()=>$e.icon||TypeComponentsMap[$e.type]||""),vn=computed(()=>!!$e.message),hn=ref(),_n=ref(),bn=ref(),An=ref(),xn=ref(),Sn=computed(()=>$e.confirmButtonClass);watch(()=>$e.inputValue,async Mn=>{await nextTick(),xe.boxType==="prompt"&&Mn!==null&&Rn()},{immediate:!0}),watch(()=>Ue.value,Mn=>{var Bn,$n;Mn&&(xe.boxType!=="prompt"&&($e.autofocus?bn.value=($n=(Bn=xn.value)==null?void 0:Bn.$el)!=null?$n:hn.value:bn.value=hn.value),$e.zIndex=Fe()),xe.boxType==="prompt"&&(Mn?nextTick().then(()=>{var Fn;An.value&&An.value.$el&&($e.autofocus?bn.value=(Fn=Nn())!=null?Fn:hn.value:bn.value=hn.value)}):($e.editorErrorMessage="",$e.validateError=!1))});const Cn=computed(()=>xe.draggable),Tn=computed(()=>xe.overflow);useDraggable(hn,_n,Cn,Tn),onMounted(async()=>{await nextTick(),xe.closeOnHashChange&&window.addEventListener("hashchange",wn)}),onBeforeUnmount(()=>{xe.closeOnHashChange&&window.removeEventListener("hashchange",wn)});function wn(){Ue.value&&(Ue.value=!1,nextTick(()=>{$e.action&&pe("action",$e.action)}))}const Ln=()=>{xe.closeOnClickModal&&In($e.distinguishCancelAndClose?"close":"cancel")},Pn=useSameTarget(Ln),kn=Mn=>{if($e.inputType!=="textarea")return Mn.preventDefault(),In("confirm")},In=Mn=>{var Bn;xe.boxType==="prompt"&&Mn==="confirm"&&!Rn()||($e.action=Mn,$e.beforeClose?(Bn=$e.beforeClose)==null||Bn.call($e,Mn,$e,wn):wn())},Rn=()=>{if(xe.boxType==="prompt"){const Mn=$e.inputPattern;if(Mn&&!Mn.test($e.inputValue||""))return $e.editorErrorMessage=$e.inputErrorMessage||Ne("el.messagebox.error"),$e.validateError=!0,!1;const Bn=$e.inputValidator;if(typeof Bn=="function"){const $n=Bn($e.inputValue);if($n===!1)return $e.editorErrorMessage=$e.inputErrorMessage||Ne("el.messagebox.error"),$e.validateError=!0,!1;if(typeof $n=="string")return $e.editorErrorMessage=$n,$e.validateError=!0,!1}}return $e.editorErrorMessage="",$e.validateError=!1,!0},Nn=()=>{const Mn=An.value.$refs;return Mn.input||Mn.textarea},On=()=>{In("close")},Dn=()=>{xe.closeOnPressEscape&&On()};return xe.lockScroll&&useLockscreen(Ue),{...toRefs($e),ns:Ie,overlayEvent:Pn,visible:Ue,hasMessage:vn,typeClass:ze,contentId:Ve,inputId:qe,btnSize:Oe,iconComponent:En,confirmButtonClasses:Sn,rootRef:hn,focusStartRef:bn,headerRef:_n,inputRef:An,confirmRef:xn,doClose:wn,handleClose:On,onCloseRequested:Dn,handleWrapperClick:Ln,handleInputEnter:kn,handleAction:In,t:Ne}}}),_hoisted_1$1=["aria-label","aria-describedby"],_hoisted_2$1=["aria-label"],_hoisted_3$1=["id"];function _sfc_render(xe,pe,_e,Ce,Ie,Oe){const Ne=resolveComponent("el-icon"),Fe=resolveComponent("close"),Ue=resolveComponent("el-input"),$e=resolveComponent("el-button"),ze=resolveComponent("el-focus-trap"),Ve=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:pe[11]||(pe[11]=qe=>xe.$emit("vanish")),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(Ve,{"z-index":xe.zIndex,"overlay-class":[xe.ns.is("message-box"),xe.modalClass],mask:xe.modal},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-label":xe.title,"aria-modal":"true","aria-describedby":xe.showInput?void 0:xe.contentId,class:normalizeClass("".concat(xe.ns.namespace.value,"-overlay-message-box")),onClick:pe[8]||(pe[8]=(...qe)=>xe.overlayEvent.onClick&&xe.overlayEvent.onClick(...qe)),onMousedown:pe[9]||(pe[9]=(...qe)=>xe.overlayEvent.onMousedown&&xe.overlayEvent.onMousedown(...qe)),onMouseup:pe[10]||(pe[10]=(...qe)=>xe.overlayEvent.onMouseup&&xe.overlayEvent.onMouseup(...qe))},[createVNode(ze,{loop:"",trapped:xe.visible,"focus-trap-el":xe.rootRef,"focus-start-el":xe.focusStartRef,onReleaseRequested:xe.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([xe.ns.b(),xe.customClass,xe.ns.is("draggable",xe.draggable),{[xe.ns.m("center")]:xe.center}]),style:normalizeStyle$1(xe.customStyle),tabindex:"-1",onClick:pe[7]||(pe[7]=withModifiers(()=>{},["stop"]))},[xe.title!==null&&xe.title!==void 0?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass([xe.ns.e("header"),{"show-close":xe.showClose}])},[createBaseVNode("div",{class:normalizeClass(xe.ns.e("title"))},[xe.iconComponent&&xe.center?(openBlock(),createBlock(Ne,{key:0,class:normalizeClass([xe.ns.e("status"),xe.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString(xe.title),1)],2),xe.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(xe.ns.e("headerbtn")),"aria-label":xe.t("el.messagebox.close"),onClick:pe[0]||(pe[0]=qe=>xe.handleAction(xe.distinguishCancelAndClose?"close":"cancel")),onKeydown:pe[1]||(pe[1]=withKeys(withModifiers(qe=>xe.handleAction(xe.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[createVNode(Ne,{class:normalizeClass(xe.ns.e("close"))},{default:withCtx(()=>[createVNode(Fe)]),_:1},8,["class"])],42,_hoisted_2$1)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:xe.contentId,class:normalizeClass(xe.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(xe.ns.e("container"))},[xe.iconComponent&&!xe.center&&xe.hasMessage?(openBlock(),createBlock(Ne,{key:0,class:normalizeClass([xe.ns.e("status"),xe.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),xe.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(xe.ns.e("message"))},[renderSlot(xe.$slots,"default",{},()=>[xe.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(xe.showInput?"label":"p"),{key:1,for:xe.showInput?xe.inputId:void 0,innerHTML:xe.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(xe.showInput?"label":"p"),{key:0,for:xe.showInput?xe.inputId:void 0},{default:withCtx(()=>[createTextVNode(toDisplayString(xe.dangerouslyUseHTMLString?"":xe.message),1)]),_:1},8,["for"]))])],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(xe.ns.e("input"))},[createVNode(Ue,{id:xe.inputId,ref:"inputRef",modelValue:xe.inputValue,"onUpdate:modelValue":pe[2]||(pe[2]=qe=>xe.inputValue=qe),type:xe.inputType,placeholder:xe.inputPlaceholder,"aria-invalid":xe.validateError,class:normalizeClass({invalid:xe.validateError}),onKeydown:withKeys(xe.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(xe.ns.e("errormsg")),style:normalizeStyle$1({visibility:xe.editorErrorMessage?"visible":"hidden"})},toDisplayString(xe.editorErrorMessage),7)],2),[[vShow,xe.showInput]])],10,_hoisted_3$1),createBaseVNode("div",{class:normalizeClass(xe.ns.e("btns"))},[xe.showCancelButton?(openBlock(),createBlock($e,{key:0,loading:xe.cancelButtonLoading,class:normalizeClass([xe.cancelButtonClass]),round:xe.roundButton,size:xe.btnSize,onClick:pe[3]||(pe[3]=qe=>xe.handleAction("cancel")),onKeydown:pe[4]||(pe[4]=withKeys(withModifiers(qe=>xe.handleAction("cancel"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString(xe.cancelButtonText||xe.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):createCommentVNode("v-if",!0),withDirectives(createVNode($e,{ref:"confirmRef",type:"primary",loading:xe.confirmButtonLoading,class:normalizeClass([xe.confirmButtonClasses]),round:xe.roundButton,disabled:xe.confirmButtonDisabled,size:xe.btnSize,onClick:pe[5]||(pe[5]=qe=>xe.handleAction("confirm")),onKeydown:pe[6]||(pe[6]=withKeys(withModifiers(qe=>xe.handleAction("confirm"),["prevent"]),["enter"]))},{default:withCtx(()=>[createTextVNode(toDisplayString(xe.confirmButtonText||xe.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[vShow,xe.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,_hoisted_1$1)]),_:3},8,["z-index","overlay-class","mask"]),[[vShow,xe.visible]])]),_:3})}var MessageBoxConstructor=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__file","index.vue"]]);const messageInstance$1=new Map,getAppendToElement=xe=>{let pe=document.body;return xe.appendTo&&(isString$3(xe.appendTo)&&(pe=document.querySelector(xe.appendTo)),isElement(xe.appendTo)&&(pe=xe.appendTo),isElement(pe)||(pe=document.body)),pe},initInstance=(xe,pe,_e=null)=>{const Ce=createVNode(MessageBoxConstructor,xe,isFunction$2(xe.message)||isVNode(xe.message)?{default:isFunction$2(xe.message)?xe.message:()=>xe.message}:null);return Ce.appContext=_e,render(Ce,pe),getAppendToElement(xe).appendChild(pe.firstElementChild),Ce.component},genContainer=()=>document.createElement("div"),showMessage=(xe,pe)=>{const _e=genContainer();xe.onVanish=()=>{render(null,_e),messageInstance$1.delete(Ie)},xe.onAction=Oe=>{const Ne=messageInstance$1.get(Ie);let Fe;xe.showInput?Fe={value:Ie.inputValue,action:Oe}:Fe=Oe,xe.callback?xe.callback(Fe,Ce.proxy):Oe==="cancel"||Oe==="close"?xe.distinguishCancelAndClose&&Oe!=="cancel"?Ne.reject("close"):Ne.reject("cancel"):Ne.resolve(Fe)};const Ce=initInstance(xe,_e,pe),Ie=Ce.proxy;for(const Oe in xe)hasOwn(xe,Oe)&&!hasOwn(Ie.$props,Oe)&&(Ie[Oe]=xe[Oe]);return Ie.visible=!0,Ie};function MessageBox(xe,pe=null){if(!isClient)return Promise.reject();let _e;return isString$3(xe)||isVNode(xe)?xe={message:xe}:_e=xe.callback,new Promise((Ce,Ie)=>{const Oe=showMessage(xe,pe!=null?pe:MessageBox._context);messageInstance$1.set(Oe,{options:xe,callback:_e,resolve:Ce,reject:Ie})})}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MESSAGE_BOX_VARIANTS.forEach(xe=>{MessageBox[xe]=messageBoxFactory(xe)});function messageBoxFactory(xe){return(pe,_e,Ce,Ie)=>{let Oe="";return isObject$3(_e)?(Ce=_e,Oe=""):isUndefined(_e)?Oe="":Oe=_e,MessageBox(Object.assign({title:Oe,message:pe,type:"",...MESSAGE_BOX_DEFAULT_OPTS[xe]},Ce,{boxType:xe}),Ie)}}MessageBox.close=()=>{messageInstance$1.forEach((xe,pe)=>{pe.doClose()}),messageInstance$1.clear()};MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=xe=>{_MessageBox._context=xe._context,xe.config.globalProperties.$msgbox=_MessageBox,xe.config.globalProperties.$messageBox=_MessageBox,xe.config.globalProperties.$alert=_MessageBox.alert,xe.config.globalProperties.$confirm=_MessageBox.confirm,xe.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number}),notificationEmits={destroy:()=>!0},_hoisted_1=["id"],_hoisted_2=["textContent"],_hoisted_3={key:0},_hoisted_4=["innerHTML"],__default__=defineComponent({name:"ElNotification"}),_sfc_main=defineComponent({...__default__,props:notificationProps,emits:notificationEmits,setup(xe,{expose:pe}){const _e=xe,{ns:Ce,zIndex:Ie}=useGlobalComponentSettings("notification"),{nextZIndex:Oe,currentZIndex:Ne}=Ie,{Close:Fe}=CloseComponents,Ue=ref(!1);let $e;const ze=computed(()=>{const xn=_e.type;return xn&&TypeComponentsMap[_e.type]?Ce.m(xn):""}),Ve=computed(()=>_e.type&&TypeComponentsMap[_e.type]||_e.icon),qe=computed(()=>_e.position.endsWith("right")?"right":"left"),En=computed(()=>_e.position.startsWith("top")?"top":"bottom"),vn=computed(()=>{var xn;return{[En.value]:"".concat(_e.offset,"px"),zIndex:(xn=_e.zIndex)!=null?xn:Ne.value}});function hn(){_e.duration>0&&({stop:$e}=useTimeoutFn(()=>{Ue.value&&bn()},_e.duration))}function _n(){$e==null||$e()}function bn(){Ue.value=!1}function An({code:xn}){xn===EVENT_CODE.delete||xn===EVENT_CODE.backspace?_n():xn===EVENT_CODE.esc?Ue.value&&bn():hn()}return onMounted(()=>{hn(),Oe(),Ue.value=!0}),useEventListener(document,"keydown",An),pe({visible:Ue,close:bn}),(xn,Sn)=>(openBlock(),createBlock(Transition,{name:unref(Ce).b("fade"),onBeforeLeave:xn.onClose,onAfterLeave:Sn[1]||(Sn[1]=Cn=>xn.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:xn.id,class:normalizeClass([unref(Ce).b(),xn.customClass,unref(qe)]),style:normalizeStyle$1(unref(vn)),role:"alert",onMouseenter:_n,onMouseleave:hn,onClick:Sn[0]||(Sn[0]=(...Cn)=>xn.onClick&&xn.onClick(...Cn))},[unref(Ve)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(Ce).e("icon"),unref(ze)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Ve))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ce).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(Ce).e("title")),textContent:toDisplayString(xn.title)},null,10,_hoisted_2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(Ce).e("content")),style:normalizeStyle$1(xn.title?void 0:{margin:0})},[renderSlot(xn.$slots,"default",{},()=>[xn.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment$1,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:xn.message},null,8,_hoisted_4)],2112)):(openBlock(),createElementBlock("p",_hoisted_3,toDisplayString(xn.message),1))])],6),[[vShow,xn.message]]),xn.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Ce).e("closeBtn")),onClick:withModifiers(bn,["stop"])},{default:withCtx(()=>[createVNode(unref(Fe))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,_hoisted_1),[[vShow,Ue.value]])]),_:3},8,["name","onBeforeLeave"]))}});var NotificationConstructor=_export_sfc(_sfc_main,[["__file","notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed$2=1;const notify=function(xe={},pe=null){if(!isClient)return{close:()=>{}};(typeof xe=="string"||isVNode(xe))&&(xe={message:xe});const _e=xe.position||"top-right";let Ce=xe.offset||0;notifications[_e].forEach(({vm:ze})=>{var Ve;Ce+=(((Ve=ze.el)==null?void 0:Ve.offsetHeight)||0)+GAP_SIZE}),Ce+=GAP_SIZE;const Ie="notification_".concat(seed$2++),Oe=xe.onClose,Ne={...xe,offset:Ce,id:Ie,onClose:()=>{close(Ie,_e,Oe)}};let Fe=document.body;isElement(xe.appendTo)?Fe=xe.appendTo:isString$3(xe.appendTo)&&(Fe=document.querySelector(xe.appendTo)),isElement(Fe)||(Fe=document.body);const Ue=document.createElement("div"),$e=createVNode(NotificationConstructor,Ne,isVNode(Ne.message)?{default:()=>Ne.message}:null);return $e.appContext=pe!=null?pe:notify._context,$e.props.onDestroy=()=>{render(null,Ue)},render($e,Ue),notifications[_e].push({vm:$e}),Fe.appendChild(Ue.firstElementChild),{close:()=>{$e.component.exposed.visible.value=!1}}};notificationTypes.forEach(xe=>{notify[xe]=(pe={})=>((typeof pe=="string"||isVNode(pe))&&(pe={message:pe}),notify({...pe,type:xe}))});function close(xe,pe,_e){const Ce=notifications[pe],Ie=Ce.findIndex(({vm:$e})=>{var ze;return((ze=$e.component)==null?void 0:ze.props.id)===xe});if(Ie===-1)return;const{vm:Oe}=Ce[Ie];if(!Oe)return;_e==null||_e(Oe);const Ne=Oe.el.offsetHeight,Fe=pe.split("-")[0];Ce.splice(Ie,1);const Ue=Ce.length;if(!(Ue<1))for(let $e=Ie;$e<Ue;$e++){const{el:ze,component:Ve}=Ce[$e].vm,qe=Number.parseInt(ze.style[Fe],10)-Ne-GAP_SIZE;Ve.props.offset=qe}}function closeAll(){for(const xe of Object.values(notifications))xe.forEach(({vm:pe})=>{pe.component.exposed.visible.value=!1})}notify.closeAll=closeAll;notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");function _typeof(xe){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},_typeof(xe)}function toPrimitive(xe,pe){if(_typeof(xe)!="object"||!xe)return xe;var _e=xe[Symbol.toPrimitive];if(_e!==void 0){var Ce=_e.call(xe,pe||"default");if(_typeof(Ce)!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pe==="string"?String:Number)(xe)}function toPropertyKey(xe){var pe=toPrimitive(xe,"string");return _typeof(pe)=="symbol"?pe:pe+""}function _defineProperty$e(xe,pe,_e){return pe=toPropertyKey(pe),pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}function ownKeys$1(xe,pe){var _e=Object.keys(xe);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(xe);pe&&(Ce=Ce.filter(function(Ie){return Object.getOwnPropertyDescriptor(xe,Ie).enumerable})),_e.push.apply(_e,Ce)}return _e}function _objectSpread2$1(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?arguments[pe]:{};pe%2?ownKeys$1(Object(_e),!0).forEach(function(Ce){_defineProperty$e(xe,Ce,_e[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(_e)):ownKeys$1(Object(_e)).forEach(function(Ce){Object.defineProperty(xe,Ce,Object.getOwnPropertyDescriptor(_e,Ce))})}return xe}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(xe[Ce]=_e[Ce])}return xe},_extends$1.apply(this,arguments)}const isArray$1=Array.isArray,isString=xe=>typeof xe=="string",isObject$1=xe=>xe!==null&&typeof xe=="object";function renderHelper(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=arguments.length>2?arguments[2]:void 0;return typeof xe=="function"?xe(pe):xe!=null?xe:_e}function wrapPromiseFn(xe){let pe;const _e=new Promise(Ie=>{pe=xe(()=>{Ie(!0)})}),Ce=()=>{pe==null||pe()};return Ce.then=(Ie,Oe)=>_e.then(Ie,Oe),Ce.promise=_e,Ce}function classNames(){const xe=[];for(let pe=0;pe<arguments.length;pe++){const _e=pe<0||arguments.length<=pe?void 0:arguments[pe];if(_e){if(isString(_e))xe.push(_e);else if(isArray$1(_e))for(let Ce=0;Ce<_e.length;Ce++){const Ie=classNames(_e[Ce]);Ie&&xe.push(Ie)}else if(isObject$1(_e))for(const Ce in _e)_e[Ce]&&xe.push(Ce)}}return xe.join(" ")}function isEmptyElement(xe){return xe&&(xe.type===Comment||xe.type===Fragment$1&&xe.children.length===0||xe.type===Text$1&&xe.children.trim()==="")}function filterEmpty(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const pe=[];return xe.forEach(_e=>{Array.isArray(_e)?pe.push(..._e):(_e==null?void 0:_e.type)===Fragment$1?pe.push(...filterEmpty(_e.children)):pe.push(_e)}),pe.filter(_e=>!isEmptyElement(_e))}const tuple=function(){for(var xe=arguments.length,pe=new Array(xe),_e=0;_e<xe;_e++)pe[_e]=arguments[_e];return pe},withInstall=xe=>{const pe=xe;return pe.install=function(_e){_e.component(pe.displayName||pe.name,xe)},xe};function objectType(xe){return{type:Object,default:xe}}function booleanType(xe){return{type:Boolean,default:xe}}function anyType(xe,pe){const _e={validator:()=>!0,default:xe};return _e}function arrayType(xe){return{type:Array,default:xe}}function stringType(xe){return{type:String,default:xe}}function someType(xe,pe){return xe?{type:xe,default:pe}:anyType(pe)}const defaultIconPrefixCls="anticon",GlobalFormContextKey=Symbol("GlobalFormContextKey"),useProvideGlobalForm=xe=>{provide(GlobalFormContextKey,xe)},configProviderProps=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:objectType(),input:objectType(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:objectType(),pageHeader:objectType(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:objectType(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:objectType(),pagination:objectType(),theme:objectType(),select:objectType(),wave:objectType()}),configProviderKey=Symbol("configProvider"),defaultConfigProvider={getPrefixCls:(xe,pe)=>pe||(xe?"ant-".concat(xe):"ant"),iconPrefixCls:computed(()=>defaultIconPrefixCls),getPopupContainer:computed(()=>()=>document.body),direction:computed(()=>"ltr")},useConfigContextInject=()=>inject(configProviderKey,defaultConfigProvider),useConfigContextProvider=xe=>provide(configProviderKey,xe),DisabledContextKey=Symbol("DisabledContextKey"),useInjectDisabled=()=>inject(DisabledContextKey,ref(void 0)),useProviderDisabled=xe=>{const pe=useInjectDisabled();return provide(DisabledContextKey,computed(()=>{var _e;return(_e=xe.value)!==null&&_e!==void 0?_e:pe.value})),xe},enUS$1={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},locale$6={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},CalendarLocale$1=locale$6,locale$5={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},TimePicker$1=locale$5,locale$4={lang:_extends$1({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},CalendarLocale$1),timePickerLocale:_extends$1({},TimePicker$1)},enUS=locale$4,typeTemplate$1="${label} is not a valid ${type}",localeValues$1={locale:"en",Pagination:enUS$1,DatePicker:enUS,TimePicker:TimePicker$1,Calendar:enUS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate$1,method:typeTemplate$1,array:typeTemplate$1,object:typeTemplate$1,number:typeTemplate$1,date:typeTemplate$1,boolean:typeTemplate$1,integer:typeTemplate$1,float:typeTemplate$1,regexp:typeTemplate$1,email:typeTemplate$1,url:typeTemplate$1,hex:typeTemplate$1},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},LocaleReceiver=defineComponent({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(xe,pe){let{slots:_e}=pe;const Ce=inject("localeData",{}),Ie=computed(()=>{const{componentName:Ne="global",defaultLocale:Fe}=xe,Ue=Fe||localeValues$1[Ne||"global"],{antLocale:$e}=Ce,ze=Ne&&$e?$e[Ne]:{};return _extends$1(_extends$1({},typeof Ue=="function"?Ue():Ue),ze||{})}),Oe=computed(()=>{const{antLocale:Ne}=Ce,Fe=Ne&&Ne.locale;return Ne&&Ne.exist&&!Fe?localeValues$1.locale:Fe});return()=>{const Ne=xe.children||_e.default,{antLocale:Fe}=Ce;return Ne==null?void 0:Ne(Ie.value,Oe.value,Fe)}}});function murmur2(xe){for(var pe=0,_e,Ce=0,Ie=xe.length;Ie>=4;++Ce,Ie-=4)_e=xe.charCodeAt(Ce)&255|(xe.charCodeAt(++Ce)&255)<<8|(xe.charCodeAt(++Ce)&255)<<16|(xe.charCodeAt(++Ce)&255)<<24,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16),_e^=_e>>>24,pe=(_e&65535)*1540483477+((_e>>>16)*59797<<16)^(pe&65535)*1540483477+((pe>>>16)*59797<<16);switch(Ie){case 3:pe^=(xe.charCodeAt(Ce+2)&255)<<16;case 2:pe^=(xe.charCodeAt(Ce+1)&255)<<8;case 1:pe^=xe.charCodeAt(Ce)&255,pe=(pe&65535)*1540483477+((pe>>>16)*59797<<16)}return pe^=pe>>>13,pe=(pe&65535)*1540483477+((pe>>>16)*59797<<16),((pe^pe>>>15)>>>0).toString(36)}const SPLIT="%";class Entity{constructor(pe){this.cache=new Map,this.instanceId=pe}get(pe){return this.cache.get(Array.isArray(pe)?pe.join(SPLIT):pe)||null}update(pe,_e){const Ce=Array.isArray(pe)?pe.join(SPLIT):pe,Ie=this.cache.get(Ce),Oe=_e(Ie);Oe===null?this.cache.delete(Ce):this.cache.set(Ce,Oe)}}const CacheEntity=Entity,ATTR_TOKEN="data-token-hash",ATTR_MARK="data-css-hash",CSS_IN_JS_INSTANCE="__cssinjs_instance__";function createCache(){const xe=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const pe=document.body.querySelectorAll("style[".concat(ATTR_MARK,"]"))||[],{firstChild:_e}=document.head;Array.from(pe).forEach(Ie=>{Ie[CSS_IN_JS_INSTANCE]=Ie[CSS_IN_JS_INSTANCE]||xe,Ie[CSS_IN_JS_INSTANCE]===xe&&document.head.insertBefore(Ie,_e)});const Ce={};Array.from(document.querySelectorAll("style[".concat(ATTR_MARK,"]"))).forEach(Ie=>{var Oe;const Ne=Ie.getAttribute(ATTR_MARK);Ce[Ne]?Ie[CSS_IN_JS_INSTANCE]===xe&&((Oe=Ie.parentNode)===null||Oe===void 0||Oe.removeChild(Ie)):Ce[Ne]=!0})}return new CacheEntity(xe)}const StyleContextKey=Symbol("StyleContextKey"),getCache=()=>{var xe,pe,_e;const Ce=getCurrentInstance();let Ie;if(Ce&&Ce.appContext){const Oe=(_e=(pe=(xe=Ce.appContext)===null||xe===void 0?void 0:xe.config)===null||pe===void 0?void 0:pe.globalProperties)===null||_e===void 0?void 0:_e.__ANTDV_CSSINJS_CACHE__;Oe?Ie=Oe:(Ie=createCache(),Ce.appContext.config.globalProperties&&(Ce.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=Ie))}else Ie=createCache();return Ie},defaultStyleContext={cache:createCache(),defaultCache:!0,hashPriority:"low"},useStyleInject=()=>{const xe=getCache();return inject(StyleContextKey,shallowRef(_extends$1(_extends$1({},defaultStyleContext),{cache:xe})))},useStyleProvider=xe=>{const pe=useStyleInject(),_e=shallowRef(_extends$1(_extends$1({},defaultStyleContext),{cache:createCache()}));return watch([()=>unref(xe),pe],()=>{const Ce=_extends$1({},pe.value),Ie=unref(xe);Object.keys(Ie).forEach(Ne=>{const Fe=Ie[Ne];Ie[Ne]!==void 0&&(Ce[Ne]=Fe)});const{cache:Oe}=Ie;Ce.cache=Ce.cache||createCache(),Ce.defaultCache=!Oe&&pe.value.defaultCache,_e.value=Ce},{immediate:!0}),provide(StyleContextKey,_e),_e},styleProviderProps=()=>({autoClear:booleanType(),mock:stringType(),cache:objectType(),defaultCache:booleanType(),hashPriority:stringType(),container:someType(),ssrInline:booleanType(),transformers:arrayType(),linters:arrayType()});withInstall(defineComponent({name:"AStyleProvider",inheritAttrs:!1,props:styleProviderProps(),setup(xe,pe){let{slots:_e}=pe;return useStyleProvider(xe),()=>{var Ce;return(Ce=_e.default)===null||Ce===void 0?void 0:Ce.call(_e)}}}));function useClientCache(xe,pe,_e,Ce){const Ie=useStyleInject(),Oe=shallowRef(""),Ne=shallowRef();watchEffect(()=>{Oe.value=[xe,...pe.value].join("%")});const Fe=Ue=>{Ie.value.cache.update(Ue,$e=>{const[ze=0,Ve]=$e||[];return ze-1===0?(Ce==null||Ce(Ve,!1),null):[ze-1,Ve]})};return watch(Oe,(Ue,$e)=>{$e&&Fe($e),Ie.value.cache.update(Ue,ze=>{const[Ve=0,qe]=ze||[],vn=qe||_e();return[Ve+1,vn]}),Ne.value=Ie.value.cache.get(Oe.value)[1]},{immediate:!0}),onBeforeUnmount(()=>{Fe(Oe.value)}),Ne}function canUseDom$1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains$1(xe,pe){return xe&&xe.contains?xe.contains(pe):!1}const APPEND_ORDER$1="data-vc-order",MARK_KEY$1="vc-util-key",containerCache$1=new Map;function getMark$1(){let{mark:xe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xe?xe.startsWith("data-")?xe:"data-".concat(xe):MARK_KEY$1}function getContainer$2(xe){return xe.attachTo?xe.attachTo:document.querySelector("head")||document.body}function getOrder$1(xe){return xe==="queue"?"prependQueue":xe?"prepend":"append"}function findStyles$1(xe){return Array.from((containerCache$1.get(xe)||xe).children).filter(pe=>pe.tagName==="STYLE")}function injectCSS$1(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom$1())return null;const{csp:_e,prepend:Ce}=pe,Ie=document.createElement("style");Ie.setAttribute(APPEND_ORDER$1,getOrder$1(Ce)),_e!=null&&_e.nonce&&(Ie.nonce=_e==null?void 0:_e.nonce),Ie.innerHTML=xe;const Oe=getContainer$2(pe),{firstChild:Ne}=Oe;if(Ce){if(Ce==="queue"){const Fe=findStyles$1(Oe).filter(Ue=>["prepend","prependQueue"].includes(Ue.getAttribute(APPEND_ORDER$1)));if(Fe.length)return Oe.insertBefore(Ie,Fe[Fe.length-1].nextSibling),Ie}Oe.insertBefore(Ie,Ne)}else Oe.appendChild(Ie);return Ie}function findExistNode$1(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _e=getContainer$2(pe);return findStyles$1(_e).find(Ce=>Ce.getAttribute(getMark$1(pe))===xe)}function removeCSS(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _e=findExistNode$1(xe,pe);_e&&getContainer$2(pe).removeChild(_e)}function syncRealContainer$1(xe,pe){const _e=containerCache$1.get(xe);if(!_e||!contains$1(document,_e)){const Ce=injectCSS$1("",pe),{parentNode:Ie}=Ce;containerCache$1.set(xe,Ie),xe.removeChild(Ce)}}function updateCSS$1(xe,pe){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var Ce,Ie,Oe;const Ne=getContainer$2(_e);syncRealContainer$1(Ne,_e);const Fe=findExistNode$1(pe,_e);if(Fe)return!((Ce=_e.csp)===null||Ce===void 0)&&Ce.nonce&&Fe.nonce!==((Ie=_e.csp)===null||Ie===void 0?void 0:Ie.nonce)&&(Fe.nonce=(Oe=_e.csp)===null||Oe===void 0?void 0:Oe.nonce),Fe.innerHTML!==xe&&(Fe.innerHTML=xe),Fe;const Ue=injectCSS$1(xe,_e);return Ue.setAttribute(getMark$1(_e),pe),Ue}function sameDerivativeOption(xe,pe){if(xe.length!==pe.length)return!1;for(let _e=0;_e<xe.length;_e++)if(xe[_e]!==pe[_e])return!1;return!0}class ThemeCache{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(pe){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ce={map:this.cache};return pe.forEach(Ie=>{var Oe;Ce?Ce=(Oe=Ce==null?void 0:Ce.map)===null||Oe===void 0?void 0:Oe.get(Ie):Ce=void 0}),Ce!=null&&Ce.value&&_e&&(Ce.value[1]=this.cacheCallTimes++),Ce==null?void 0:Ce.value}get(pe){var _e;return(_e=this.internalGet(pe,!0))===null||_e===void 0?void 0:_e[0]}has(pe){return!!this.internalGet(pe)}set(pe,_e){if(!this.has(pe)){if(this.size()+1>ThemeCache.MAX_CACHE_SIZE+ThemeCache.MAX_CACHE_OFFSET){const[Ie]=this.keys.reduce((Oe,Ne)=>{const[,Fe]=Oe;return this.internalGet(Ne)[1]<Fe?[Ne,this.internalGet(Ne)[1]]:Oe},[this.keys[0],this.cacheCallTimes]);this.delete(Ie)}this.keys.push(pe)}let Ce=this.cache;pe.forEach((Ie,Oe)=>{if(Oe===pe.length-1)Ce.set(Ie,{value:[_e,this.cacheCallTimes++]});else{const Ne=Ce.get(Ie);Ne?Ne.map||(Ne.map=new Map):Ce.set(Ie,{map:new Map}),Ce=Ce.get(Ie).map}})}deleteByPath(pe,_e){var Ce;const Ie=pe.get(_e[0]);if(_e.length===1)return Ie.map?pe.set(_e[0],{map:Ie.map}):pe.delete(_e[0]),(Ce=Ie.value)===null||Ce===void 0?void 0:Ce[0];const Oe=this.deleteByPath(Ie.map,_e.slice(1));return(!Ie.map||Ie.map.size===0)&&!Ie.value&&pe.delete(_e[0]),Oe}delete(pe){if(this.has(pe))return this.keys=this.keys.filter(_e=>!sameDerivativeOption(_e,pe)),this.deleteByPath(this.cache,pe)}}ThemeCache.MAX_CACHE_SIZE=20;ThemeCache.MAX_CACHE_OFFSET=5;function noop$4(){}let warning$1=noop$4,uuid$1=0;class Theme{constructor(pe){this.derivatives=Array.isArray(pe)?pe:[pe],this.id=uuid$1,pe.length===0&&warning$1(pe.length>0),uuid$1+=1}getDerivativeToken(pe){return this.derivatives.reduce((_e,Ce)=>Ce(pe,_e),void 0)}}const cacheThemes=new ThemeCache;function createTheme(xe){const pe=Array.isArray(xe)?xe:[xe];return cacheThemes.has(pe)||cacheThemes.set(pe,new Theme(pe)),cacheThemes.get(pe)}const flattenTokenCache=new WeakMap;function flattenToken(xe){let pe=flattenTokenCache.get(xe)||"";return pe||(Object.keys(xe).forEach(_e=>{const Ce=xe[_e];pe+=_e,Ce instanceof Theme?pe+=Ce.id:Ce&&typeof Ce=="object"?pe+=flattenToken(Ce):pe+=Ce}),flattenTokenCache.set(xe,pe)),pe}function token2key(xe,pe){return murmur2("".concat(pe,"_").concat(flattenToken(xe)))}const randomSelectorKey="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),checkContent="_bAmBoO_";function supportSelector(xe,pe,_e){var Ce,Ie;if(canUseDom$1()){updateCSS$1(xe,randomSelectorKey);const Oe=document.createElement("div");Oe.style.position="fixed",Oe.style.left="0",Oe.style.top="0",pe==null||pe(Oe),document.body.appendChild(Oe);const Ne=_e?_e(Oe):(Ce=getComputedStyle(Oe).content)===null||Ce===void 0?void 0:Ce.includes(checkContent);return(Ie=Oe.parentNode)===null||Ie===void 0||Ie.removeChild(Oe),removeCSS(randomSelectorKey),Ne}return!1}let canLayer;function supportLayer(){return canLayer===void 0&&(canLayer=supportSelector("@layer ".concat(randomSelectorKey," { .").concat(randomSelectorKey,' { content: "').concat(checkContent,'"!important; } }'),xe=>{xe.className=randomSelectorKey})),canLayer}const EMPTY_OVERRIDE={},isProduction=!0,isPrerender=!1,hashPrefix=!isProduction&&!isPrerender?"css-dev-only-do-not-override":"css",tokenKeys=new Map;function recordCleanToken(xe){tokenKeys.set(xe,(tokenKeys.get(xe)||0)+1)}function removeStyleTags(xe,pe){typeof document<"u"&&document.querySelectorAll("style[".concat(ATTR_TOKEN,'="').concat(xe,'"]')).forEach(Ce=>{var Ie;Ce[CSS_IN_JS_INSTANCE]===pe&&((Ie=Ce.parentNode)===null||Ie===void 0||Ie.removeChild(Ce))})}const TOKEN_THRESHOLD=0;function cleanTokenStyle(xe,pe){tokenKeys.set(xe,(tokenKeys.get(xe)||0)-1);const _e=Array.from(tokenKeys.keys()),Ce=_e.filter(Ie=>(tokenKeys.get(Ie)||0)<=0);_e.length-Ce.length>TOKEN_THRESHOLD&&Ce.forEach(Ie=>{removeStyleTags(Ie,pe),tokenKeys.delete(Ie)})}const getComputedToken=(xe,pe,_e,Ce)=>{const Ie=_e.getDerivativeToken(xe);let Oe=_extends$1(_extends$1({},Ie),pe);return Ce&&(Oe=Ce(Oe)),Oe};function useCacheToken(xe,pe){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ref({});const Ce=useStyleInject(),Ie=computed(()=>_extends$1({},...pe.value)),Oe=computed(()=>flattenToken(Ie.value)),Ne=computed(()=>flattenToken(_e.value.override||EMPTY_OVERRIDE));return useClientCache("token",computed(()=>[_e.value.salt||"",xe.value.id,Oe.value,Ne.value]),()=>{const{salt:Ue="",override:$e=EMPTY_OVERRIDE,formatToken:ze,getComputedToken:Ve}=_e.value,qe=Ve?Ve(Ie.value,$e,xe.value):getComputedToken(Ie.value,$e,xe.value,ze),En=token2key(qe,Ue);qe._tokenKey=En,recordCleanToken(En);const vn="".concat(hashPrefix,"-").concat(murmur2(En));return qe._hashId=vn,[qe,vn]},Ue=>{var $e;cleanTokenStyle(Ue[0]._tokenKey,($e=Ce.value)===null||$e===void 0?void 0:$e.cache.instanceId)})}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(xe){return xe.trim()}function replace(xe,pe,_e){return xe.replace(pe,_e)}function indexof(xe,pe,_e){return xe.indexOf(pe,_e)}function charat(xe,pe){return xe.charCodeAt(pe)|0}function substr(xe,pe,_e){return xe.slice(pe,_e)}function strlen(xe){return xe.length}function sizeof(xe){return xe.length}function append(xe,pe){return pe.push(xe),xe}var line=1,column=1,length=0,position=0,character=0,characters="";function node(xe,pe,_e,Ce,Ie,Oe,Ne,Fe){return{value:xe,root:pe,parent:_e,type:Ce,props:Ie,children:Oe,line,column,length:Ne,return:"",siblings:Fe}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(xe,pe){return substr(characters,xe,pe)}function token(xe){switch(xe){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(xe){return line=column=1,length=strlen(characters=xe),position=0,[]}function dealloc(xe){return characters="",xe}function delimit(xe){return trim(slice(position-1,delimiter(xe===91?xe+2:xe===40?xe+1:xe)))}function whitespace(xe){for(;(character=peek())&&character<33;)next();return token(xe)>2||token(character)>3?"":" "}function escaping(xe,pe){for(;--pe&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(xe,caret()+(pe<6&&peek()==32&&next()==32))}function delimiter(xe){for(;next();)switch(character){case xe:return position;case 34:case 39:xe!==34&&xe!==39&&delimiter(character);break;case 40:xe===41&&delimiter(xe);break;case 92:next();break}return position}function commenter(xe,pe){for(;next()&&xe+character!==57;)if(xe+character===84&&peek()===47)break;return"/*"+slice(pe,position-1)+"*"+from(xe===47?xe:next())}function identifier(xe){for(;!token(peek());)next();return slice(xe,position)}function compile(xe){return dealloc(parse("",null,null,null,[""],xe=alloc(xe),0,[0],xe))}function parse(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue){for(var $e=0,ze=0,Ve=Ne,qe=0,En=0,vn=0,hn=1,_n=1,bn=1,An=0,xn="",Sn=Ie,Cn=Oe,Tn=Ce,wn=xn;_n;)switch(vn=An,An=next()){case 40:if(vn!=108&&charat(wn,Ve-1)==58){indexof(wn+=replace(delimit(An),"&","&\f"),"&\f",abs($e?Fe[$e-1]:0))!=-1&&(bn=-1);break}case 34:case 39:case 91:wn+=delimit(An);break;case 9:case 10:case 13:case 32:wn+=whitespace(vn);break;case 92:wn+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),pe,_e,Ue),Ue);break;default:wn+="/"}break;case 123*hn:Fe[$e++]=strlen(wn)*bn;case 125*hn:case 59:case 0:switch(An){case 0:case 125:_n=0;case 59+ze:bn==-1&&(wn=replace(wn,/\f/g,"")),En>0&&strlen(wn)-Ve&&append(En>32?declaration(wn+";",Ce,_e,Ve-1,Ue):declaration(replace(wn," ","")+";",Ce,_e,Ve-2,Ue),Ue);break;case 59:wn+=";";default:if(append(Tn=ruleset(wn,pe,_e,$e,ze,Ie,Fe,xn,Sn=[],Cn=[],Ve,Oe),Oe),An===123)if(ze===0)parse(wn,pe,Tn,Tn,Sn,Oe,Ve,Fe,Cn);else switch(qe===99&&charat(wn,3)===110?100:qe){case 100:case 108:case 109:case 115:parse(xe,Tn,Tn,Ce&&append(ruleset(xe,Tn,Tn,0,0,Ie,Fe,xn,Ie,Sn=[],Ve,Cn),Cn),Ie,Cn,Ve,Fe,Ce?Sn:Cn);break;default:parse(wn,Tn,Tn,Tn,[""],Cn,0,Fe,Cn)}}$e=ze=En=0,hn=bn=1,xn=wn="",Ve=Ne;break;case 58:Ve=1+strlen(wn),En=vn;default:if(hn<1){if(An==123)--hn;else if(An==125&&hn++==0&&prev()==125)continue}switch(wn+=from(An),An*hn){case 38:bn=ze>0?1:(wn+="\f",-1);break;case 44:Fe[$e++]=(strlen(wn)-1)*bn,bn=1;break;case 64:peek()===45&&(wn+=delimit(next())),qe=peek(),ze=Ve=strlen(xn=wn+=identifier(caret())),An++;break;case 45:vn===45&&strlen(wn)==2&&(hn=0)}}return Oe}function ruleset(xe,pe,_e,Ce,Ie,Oe,Ne,Fe,Ue,$e,ze,Ve){for(var qe=Ie-1,En=Ie===0?Oe:[""],vn=sizeof(En),hn=0,_n=0,bn=0;hn<Ce;++hn)for(var An=0,xn=substr(xe,qe+1,qe=abs(_n=Ne[hn])),Sn=xe;An<vn;++An)(Sn=trim(_n>0?En[An]+" "+xn:replace(xn,/&\f/g,En[An])))&&(Ue[bn++]=Sn);return node(xe,pe,_e,Ie===0?RULESET:Fe,Ue,$e,ze,Ve)}function comment(xe,pe,_e,Ce){return node(xe,pe,_e,COMMENT,from(char()),substr(xe,2,-2),0,Ce)}function declaration(xe,pe,_e,Ce,Ie){return node(xe,pe,_e,DECLARATION,substr(xe,0,Ce),substr(xe,Ce+1,-1),Ce,Ie)}function serialize(xe,pe){for(var _e="",Ce=0;Ce<xe.length;Ce++)_e+=pe(xe[Ce],Ce,xe,pe)||"";return _e}function stringify(xe,pe,_e,Ce){switch(xe.type){case LAYER:if(xe.children.length)break;case IMPORT:case DECLARATION:return xe.return=xe.return||xe.value;case COMMENT:return"";case KEYFRAMES:return xe.return=xe.value+"{"+serialize(xe.children,Ce)+"}";case RULESET:if(!strlen(xe.value=xe.props.join(",")))return""}return strlen(_e=serialize(xe.children,Ce))?xe.return=xe.value+"{"+_e+"}":""}const ATTR_CACHE_MAP="data-ant-cssinjs-cache-path",CSS_FILE_STYLE="_FILE_STYLE__";let cachePathMap,fromCSSFile=!0;function prepare(){var xe;if(!cachePathMap&&(cachePathMap={},canUseDom$1())){const pe=document.createElement("div");pe.className=ATTR_CACHE_MAP,pe.style.position="fixed",pe.style.visibility="hidden",pe.style.top="-9999px",document.body.appendChild(pe);let _e=getComputedStyle(pe).content||"";_e=_e.replace(/^"/,"").replace(/"$/,""),_e.split(";").forEach(Ie=>{const[Oe,Ne]=Ie.split(":");cachePathMap[Oe]=Ne});const Ce=document.querySelector("style[".concat(ATTR_CACHE_MAP,"]"));Ce&&(fromCSSFile=!1,(xe=Ce.parentNode)===null||xe===void 0||xe.removeChild(Ce)),document.body.removeChild(pe)}}function existPath(xe){return prepare(),!!cachePathMap[xe]}function getStyleAndHash(xe){const pe=cachePathMap[xe];let _e=null;if(pe&&canUseDom$1())if(fromCSSFile)_e=CSS_FILE_STYLE;else{const Ce=document.querySelector("style[".concat(ATTR_MARK,'="').concat(cachePathMap[xe],'"]'));Ce?_e=Ce.innerHTML:delete cachePathMap[xe]}return[_e,pe]}const isClientSide=canUseDom$1(),SKIP_CHECK="_skip_check_",MULTI_VALUE="_multi_value_";function normalizeStyle(xe){return serialize(compile(xe),stringify).replace(/\{%%%\:[^;];}/g,";")}function isCompoundCSSProperty(xe){return typeof xe=="object"&&xe&&(SKIP_CHECK in xe||MULTI_VALUE in xe)}function injectSelectorHash(xe,pe,_e){if(!pe)return xe;const Ce=".".concat(pe),Ie=_e==="low"?":where(".concat(Ce,")"):Ce;return xe.split(",").map(Ne=>{var Fe;const Ue=Ne.trim().split(/\s+/);let $e=Ue[0]||"";const ze=((Fe=$e.match(/^\w+/))===null||Fe===void 0?void 0:Fe[0])||"";return $e="".concat(ze).concat(Ie).concat($e.slice(ze.length)),[$e,...Ue.slice(1)].join(" ")}).join(",")}const globalEffectStyleKeys=new Set,parseStyle=function(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:_e,injectHash:Ce,parentSelectors:Ie}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:Oe,layer:Ne,path:Fe,hashPriority:Ue,transformers:$e=[],linters:ze=[]}=pe;let Ve="",qe={};function En(_n){const bn=_n.getName(Oe);if(!qe[bn]){const[An]=parseStyle(_n.style,pe,{root:!1,parentSelectors:Ie});qe[bn]="@keyframes ".concat(_n.getName(Oe)).concat(An)}}function vn(_n){let bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _n.forEach(An=>{Array.isArray(An)?vn(An,bn):An&&bn.push(An)}),bn}if(vn(Array.isArray(xe)?xe:[xe]).forEach(_n=>{const bn=typeof _n=="string"&&!_e?{}:_n;if(typeof bn=="string")Ve+="".concat(bn,"\n");else if(bn._keyframe)En(bn);else{const An=$e.reduce((xn,Sn)=>{var Cn;return((Cn=Sn==null?void 0:Sn.visit)===null||Cn===void 0?void 0:Cn.call(Sn,xn))||xn},bn);Object.keys(An).forEach(xn=>{var Sn;const Cn=An[xn];if(typeof Cn=="object"&&Cn&&(xn!=="animationName"||!Cn._keyframe)&&!isCompoundCSSProperty(Cn)){let Tn=!1,wn=xn.trim(),Ln=!1;(_e||Ce)&&Oe?wn.startsWith("@")?Tn=!0:wn=injectSelectorHash(xn,Oe,Ue):_e&&!Oe&&(wn==="&"||wn==="")&&(wn="",Ln=!0);const[Pn,kn]=parseStyle(Cn,pe,{root:Ln,injectHash:Tn,parentSelectors:[...Ie,wn]});qe=_extends$1(_extends$1({},qe),kn),Ve+="".concat(wn).concat(Pn)}else{let Tn=function(Ln,Pn){const kn=Ln.replace(/[A-Z]/g,Rn=>"-".concat(Rn.toLowerCase()));let In=Pn;!unitlessKeys[Ln]&&typeof In=="number"&&In!==0&&(In="".concat(In,"px")),Ln==="animationName"&&(Pn!=null&&Pn._keyframe)&&(En(Pn),In=Pn.getName(Oe)),Ve+="".concat(kn,":").concat(In,";")};const wn=(Sn=Cn==null?void 0:Cn.value)!==null&&Sn!==void 0?Sn:Cn;typeof Cn=="object"&&(Cn!=null&&Cn[MULTI_VALUE])&&Array.isArray(wn)?wn.forEach(Ln=>{Tn(xn,Ln)}):Tn(xn,wn)}})}}),!_e)Ve="{".concat(Ve,"}");else if(Ne&&supportLayer()){const _n=Ne.split(","),bn=_n[_n.length-1].trim();Ve="@layer ".concat(bn," {").concat(Ve,"}"),_n.length>1&&(Ve="@layer ".concat(Ne,"{%%%:%}").concat(Ve))}return[Ve,qe]};function uniqueHash(xe,pe){return murmur2("".concat(xe.join("%")).concat(pe))}function useStyleRegister(xe,pe){const _e=useStyleInject(),Ce=computed(()=>xe.value.token._tokenKey),Ie=computed(()=>[Ce.value,...xe.value.path]);let Oe=isClientSide;return useClientCache("style",Ie,()=>{const{path:Ne,hashId:Fe,layer:Ue,nonce:$e,clientOnly:ze,order:Ve=0}=xe.value,qe=Ie.value.join("|");if(existPath(qe)){const[wn,Ln]=getStyleAndHash(qe);if(wn)return[wn,Ce.value,Ln,{},ze,Ve]}const En=pe(),{hashPriority:vn,container:hn,transformers:_n,linters:bn,cache:An}=_e.value,[xn,Sn]=parseStyle(En,{hashId:Fe,hashPriority:vn,layer:Ue,path:Ne.join("-"),transformers:_n,linters:bn}),Cn=normalizeStyle(xn),Tn=uniqueHash(Ie.value,Cn);if(Oe){const wn={mark:ATTR_MARK,prepend:"queue",attachTo:hn,priority:Ve},Ln=typeof $e=="function"?$e():$e;Ln&&(wn.csp={nonce:Ln});const Pn=updateCSS$1(Cn,Tn,wn);Pn[CSS_IN_JS_INSTANCE]=An.instanceId,Pn.setAttribute(ATTR_TOKEN,Ce.value),Object.keys(Sn).forEach(kn=>{globalEffectStyleKeys.has(kn)||(globalEffectStyleKeys.add(kn),updateCSS$1(normalizeStyle(Sn[kn]),"_effect-".concat(kn),{mark:ATTR_MARK,prepend:"queue",attachTo:hn}))})}return[Cn,Ce.value,Tn,Sn,ze,Ve]},(Ne,Fe)=>{let[,,Ue]=Ne;(Fe||_e.value.autoClear)&&isClientSide&&removeCSS(Ue,{mark:ATTR_MARK})}),Ne=>Ne}class Keyframe{constructor(pe,_e){this._keyframe=!0,this.name=pe,this.style=_e}getName(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return pe?"".concat(pe,"-").concat(this.name):this.name}}const version="4.1.2";var hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(xe){var pe=xe.r,_e=xe.g,Ce=xe.b,Ie=rgbToHsv(pe,_e,Ce);return{h:Ie.h*360,s:Ie.s,v:Ie.v}}function toHex$1(xe){var pe=xe.r,_e=xe.g,Ce=xe.b;return"#".concat(rgbToHex(pe,_e,Ce,!1))}function mix(xe,pe,_e){var Ce=_e/100,Ie={r:(pe.r-xe.r)*Ce+xe.r,g:(pe.g-xe.g)*Ce+xe.g,b:(pe.b-xe.b)*Ce+xe.b};return Ie}function getHue(xe,pe,_e){var Ce;return Math.round(xe.h)>=60&&Math.round(xe.h)<=240?Ce=_e?Math.round(xe.h)-hueStep*pe:Math.round(xe.h)+hueStep*pe:Ce=_e?Math.round(xe.h)+hueStep*pe:Math.round(xe.h)-hueStep*pe,Ce<0?Ce+=360:Ce>=360&&(Ce-=360),Ce}function getSaturation(xe,pe,_e){if(xe.h===0&&xe.s===0)return xe.s;var Ce;return _e?Ce=xe.s-saturationStep*pe:pe===darkColorCount?Ce=xe.s+saturationStep:Ce=xe.s+saturationStep2*pe,Ce>1&&(Ce=1),_e&&pe===lightColorCount&&Ce>.1&&(Ce=.1),Ce<.06&&(Ce=.06),Number(Ce.toFixed(2))}function getValue(xe,pe,_e){var Ce;return _e?Ce=xe.v+brightnessStep1*pe:Ce=xe.v-brightnessStep2*pe,Ce>1&&(Ce=1),Number(Ce.toFixed(2))}function generate$1(xe){for(var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=[],Ce=inputToRGB(xe),Ie=lightColorCount;Ie>0;Ie-=1){var Oe=toHsv(Ce),Ne=toHex$1(inputToRGB({h:getHue(Oe,Ie,!0),s:getSaturation(Oe,Ie,!0),v:getValue(Oe,Ie,!0)}));_e.push(Ne)}_e.push(toHex$1(Ce));for(var Fe=1;Fe<=darkColorCount;Fe+=1){var Ue=toHsv(Ce),$e=toHex$1(inputToRGB({h:getHue(Ue,Fe),s:getSaturation(Ue,Fe),v:getValue(Ue,Fe)}));_e.push($e)}return pe.theme==="dark"?darkColorMap.map(function(ze){var Ve=ze.index,qe=ze.opacity,En=toHex$1(mix(inputToRGB(pe.backgroundColor||"#141414"),inputToRGB(_e[Ve]),qe*100));return En}):_e}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function(xe){presetPalettes[xe]=generate$1(presetPrimaryColors[xe]),presetPalettes[xe].primary=presetPalettes[xe][5],presetDarkPalettes[xe]=generate$1(presetPrimaryColors[xe],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[xe].primary=presetDarkPalettes[xe][5]});var blue=presetPalettes.blue;const genControlHeight=xe=>{const{controlHeight:pe}=xe;return{controlHeightSM:pe*.75,controlHeightXS:pe*.5,controlHeightLG:pe*1.25}};function genSizeMapToken(xe){const{sizeUnit:pe,sizeStep:_e}=xe;return{sizeXXL:pe*(_e+8),sizeXL:pe*(_e+4),sizeLG:pe*(_e+2),sizeMD:pe*(_e+1),sizeMS:pe*_e,size:pe*_e,sizeSM:pe*(_e-1),sizeXS:pe*(_e-2),sizeXXS:pe*(_e-3)}}const defaultPresetColors={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},seedToken=_extends$1(_extends$1({},defaultPresetColors),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),defaultSeedToken=seedToken;function genColorMapToken(xe,pe){let{generateColorPalettes:_e,generateNeutralColorPalettes:Ce}=pe;const{colorSuccess:Ie,colorWarning:Oe,colorError:Ne,colorInfo:Fe,colorPrimary:Ue,colorBgBase:$e,colorTextBase:ze}=xe,Ve=_e(Ue),qe=_e(Ie),En=_e(Oe),vn=_e(Ne),hn=_e(Fe),_n=Ce($e,ze);return _extends$1(_extends$1({},_n),{colorPrimaryBg:Ve[1],colorPrimaryBgHover:Ve[2],colorPrimaryBorder:Ve[3],colorPrimaryBorderHover:Ve[4],colorPrimaryHover:Ve[5],colorPrimary:Ve[6],colorPrimaryActive:Ve[7],colorPrimaryTextHover:Ve[8],colorPrimaryText:Ve[9],colorPrimaryTextActive:Ve[10],colorSuccessBg:qe[1],colorSuccessBgHover:qe[2],colorSuccessBorder:qe[3],colorSuccessBorderHover:qe[4],colorSuccessHover:qe[4],colorSuccess:qe[6],colorSuccessActive:qe[7],colorSuccessTextHover:qe[8],colorSuccessText:qe[9],colorSuccessTextActive:qe[10],colorErrorBg:vn[1],colorErrorBgHover:vn[2],colorErrorBorder:vn[3],colorErrorBorderHover:vn[4],colorErrorHover:vn[5],colorError:vn[6],colorErrorActive:vn[7],colorErrorTextHover:vn[8],colorErrorText:vn[9],colorErrorTextActive:vn[10],colorWarningBg:En[1],colorWarningBgHover:En[2],colorWarningBorder:En[3],colorWarningBorderHover:En[4],colorWarningHover:En[4],colorWarning:En[6],colorWarningActive:En[7],colorWarningTextHover:En[8],colorWarningText:En[9],colorWarningTextActive:En[10],colorInfoBg:hn[1],colorInfoBgHover:hn[2],colorInfoBorder:hn[3],colorInfoBorderHover:hn[4],colorInfoHover:hn[4],colorInfo:hn[6],colorInfoActive:hn[7],colorInfoTextHover:hn[8],colorInfoText:hn[9],colorInfoTextActive:hn[10],colorBgMask:new TinyColor("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const genRadius=xe=>{let pe=xe,_e=xe,Ce=xe,Ie=xe;return xe<6&&xe>=5?pe=xe+1:xe<16&&xe>=6?pe=xe+2:xe>=16&&(pe=16),xe<7&&xe>=5?_e=4:xe<8&&xe>=7?_e=5:xe<14&&xe>=8?_e=6:xe<16&&xe>=14?_e=7:xe>=16&&(_e=8),xe<6&&xe>=2?Ce=1:xe>=6&&(Ce=2),xe>4&&xe<8?Ie=4:xe>=8&&(Ie=6),{borderRadius:xe>16?16:xe,borderRadiusXS:Ce,borderRadiusSM:_e,borderRadiusLG:pe,borderRadiusOuter:Ie}};function genCommonMapToken(xe){const{motionUnit:pe,motionBase:_e,borderRadius:Ce,lineWidth:Ie}=xe;return _extends$1({motionDurationFast:"".concat((_e+pe).toFixed(1),"s"),motionDurationMid:"".concat((_e+pe*2).toFixed(1),"s"),motionDurationSlow:"".concat((_e+pe*3).toFixed(1),"s"),lineWidthBold:Ie+1},genRadius(Ce))}const getAlphaColor$1=(xe,pe)=>new TinyColor(xe).setAlpha(pe).toRgbString(),getSolidColor=(xe,pe)=>new TinyColor(xe).darken(pe).toHexString(),generateColorPalettes=xe=>{const pe=generate$1(xe);return{1:pe[0],2:pe[1],3:pe[2],4:pe[3],5:pe[4],6:pe[5],7:pe[6],8:pe[4],9:pe[5],10:pe[6]}},generateNeutralColorPalettes=(xe,pe)=>{const _e=xe||"#fff",Ce=pe||"#000";return{colorBgBase:_e,colorTextBase:Ce,colorText:getAlphaColor$1(Ce,.88),colorTextSecondary:getAlphaColor$1(Ce,.65),colorTextTertiary:getAlphaColor$1(Ce,.45),colorTextQuaternary:getAlphaColor$1(Ce,.25),colorFill:getAlphaColor$1(Ce,.15),colorFillSecondary:getAlphaColor$1(Ce,.06),colorFillTertiary:getAlphaColor$1(Ce,.04),colorFillQuaternary:getAlphaColor$1(Ce,.02),colorBgLayout:getSolidColor(_e,4),colorBgContainer:getSolidColor(_e,0),colorBgElevated:getSolidColor(_e,0),colorBgSpotlight:getAlphaColor$1(Ce,.85),colorBorder:getSolidColor(_e,15),colorBorderSecondary:getSolidColor(_e,6)}};function getFontSizes(xe){const pe=new Array(10).fill(null).map((_e,Ce)=>{const Ie=Ce-1,Oe=xe*Math.pow(2.71828,Ie/5),Ne=Ce>1?Math.floor(Oe):Math.ceil(Oe);return Math.floor(Ne/2)*2});return pe[1]=xe,pe.map(_e=>{const Ce=_e+8;return{size:_e,lineHeight:Ce/_e}})}const genFontMapToken=xe=>{const pe=getFontSizes(xe),_e=pe.map(Ie=>Ie.size),Ce=pe.map(Ie=>Ie.lineHeight);return{fontSizeSM:_e[0],fontSize:_e[1],fontSizeLG:_e[2],fontSizeXL:_e[3],fontSizeHeading1:_e[6],fontSizeHeading2:_e[5],fontSizeHeading3:_e[4],fontSizeHeading4:_e[3],fontSizeHeading5:_e[2],lineHeight:Ce[1],lineHeightLG:Ce[2],lineHeightSM:Ce[0],lineHeightHeading1:Ce[6],lineHeightHeading2:Ce[5],lineHeightHeading3:Ce[4],lineHeightHeading4:Ce[3],lineHeightHeading5:Ce[2]}};function derivative(xe){const pe=Object.keys(defaultPresetColors).map(_e=>{const Ce=generate$1(xe[_e]);return new Array(10).fill(1).reduce((Ie,Oe,Ne)=>(Ie["".concat(_e,"-").concat(Ne+1)]=Ce[Ne],Ie),{})}).reduce((_e,Ce)=>(_e=_extends$1(_extends$1({},_e),Ce),_e),{});return _extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},xe),pe),genColorMapToken(xe,{generateColorPalettes,generateNeutralColorPalettes})),genFontMapToken(xe.fontSize)),genSizeMapToken(xe)),genControlHeight(xe)),genCommonMapToken(xe))}function isStableColor(xe){return xe>=0&&xe<=255}function getAlphaColor(xe,pe){const{r:_e,g:Ce,b:Ie,a:Oe}=new TinyColor(xe).toRgb();if(Oe<1)return xe;const{r:Ne,g:Fe,b:Ue}=new TinyColor(pe).toRgb();for(let $e=.01;$e<=1;$e+=.01){const ze=Math.round((_e-Ne*(1-$e))/$e),Ve=Math.round((Ce-Fe*(1-$e))/$e),qe=Math.round((Ie-Ue*(1-$e))/$e);if(isStableColor(ze)&&isStableColor(Ve)&&isStableColor(qe))return new TinyColor({r:ze,g:Ve,b:qe,a:Math.round($e*100)/100}).toRgbString()}return new TinyColor({r:_e,g:Ce,b:Ie,a:1}).toRgbString()}var __rest$6=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};function formatToken(xe){const{override:pe}=xe,_e=__rest$6(xe,["override"]),Ce=_extends$1({},pe);Object.keys(defaultSeedToken).forEach(En=>{delete Ce[En]});const Ie=_extends$1(_extends$1({},_e),Ce),Oe=480,Ne=576,Fe=768,Ue=992,$e=1200,ze=1600,Ve=2e3;return _extends$1(_extends$1(_extends$1({},Ie),{colorLink:Ie.colorInfoText,colorLinkHover:Ie.colorInfoHover,colorLinkActive:Ie.colorInfoActive,colorFillContent:Ie.colorFillSecondary,colorFillContentHover:Ie.colorFill,colorFillAlter:Ie.colorFillQuaternary,colorBgContainerDisabled:Ie.colorFillTertiary,colorBorderBg:Ie.colorBgContainer,colorSplit:getAlphaColor(Ie.colorBorderSecondary,Ie.colorBgContainer),colorTextPlaceholder:Ie.colorTextQuaternary,colorTextDisabled:Ie.colorTextQuaternary,colorTextHeading:Ie.colorText,colorTextLabel:Ie.colorTextSecondary,colorTextDescription:Ie.colorTextTertiary,colorTextLightSolid:Ie.colorWhite,colorHighlight:Ie.colorError,colorBgTextHover:Ie.colorFillSecondary,colorBgTextActive:Ie.colorFill,colorIcon:Ie.colorTextTertiary,colorIconHover:Ie.colorText,colorErrorOutline:getAlphaColor(Ie.colorErrorBg,Ie.colorBgContainer),colorWarningOutline:getAlphaColor(Ie.colorWarningBg,Ie.colorBgContainer),fontSizeIcon:Ie.fontSizeSM,lineWidth:Ie.lineWidth,controlOutlineWidth:Ie.lineWidth*2,controlInteractiveSize:Ie.controlHeight/2,controlItemBgHover:Ie.colorFillTertiary,controlItemBgActive:Ie.colorPrimaryBg,controlItemBgActiveHover:Ie.colorPrimaryBgHover,controlItemBgActiveDisabled:Ie.colorFill,controlTmpOutline:Ie.colorFillQuaternary,controlOutline:getAlphaColor(Ie.colorPrimaryBg,Ie.colorBgContainer),lineType:Ie.lineType,borderRadius:Ie.borderRadius,borderRadiusXS:Ie.borderRadiusXS,borderRadiusSM:Ie.borderRadiusSM,borderRadiusLG:Ie.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:Ie.sizeXXS,paddingXS:Ie.sizeXS,paddingSM:Ie.sizeSM,padding:Ie.size,paddingMD:Ie.sizeMD,paddingLG:Ie.sizeLG,paddingXL:Ie.sizeXL,paddingContentHorizontalLG:Ie.sizeLG,paddingContentVerticalLG:Ie.sizeMS,paddingContentHorizontal:Ie.sizeMS,paddingContentVertical:Ie.sizeSM,paddingContentHorizontalSM:Ie.size,paddingContentVerticalSM:Ie.sizeXS,marginXXS:Ie.sizeXXS,marginXS:Ie.sizeXS,marginSM:Ie.sizeSM,margin:Ie.size,marginMD:Ie.sizeMD,marginLG:Ie.sizeLG,marginXL:Ie.sizeXL,marginXXL:Ie.sizeXXL,boxShadow:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:Oe,screenXSMin:Oe,screenXSMax:Ne-1,screenSM:Ne,screenSMMin:Ne,screenSMMax:Fe-1,screenMD:Fe,screenMDMin:Fe,screenMDMax:Ue-1,screenLG:Ue,screenLGMin:Ue,screenLGMax:$e-1,screenXL:$e,screenXLMin:$e,screenXLMax:ze-1,screenXXL:ze,screenXXLMin:ze,screenXXLMax:Ve-1,screenXXXL:Ve,screenXXXLMin:Ve,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new TinyColor("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new TinyColor("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new TinyColor("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),Ce)}const resetComponent=xe=>({boxSizing:"border-box",margin:0,padding:0,color:xe.colorText,fontSize:xe.fontSize,lineHeight:xe.lineHeight,listStyle:"none",fontFamily:xe.fontFamily}),resetIcon=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),genLinkStyle=xe=>({a:{color:xe.colorLink,textDecoration:xe.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(xe.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:xe.colorLinkHover},"&:active":{color:xe.colorLinkActive},"&:active,\n  &:hover":{textDecoration:xe.linkHoverDecoration,outline:0},"&:focus":{textDecoration:xe.linkFocusDecoration,outline:0},"&[disabled]":{color:xe.colorTextDisabled,cursor:"not-allowed"}}}),genCommonStyle=(xe,pe)=>{const{fontFamily:_e,fontSize:Ce}=xe,Ie='[class^="'.concat(pe,'"], [class*=" ').concat(pe,'"]');return{[Ie]:{fontFamily:_e,fontSize:Ce,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[Ie]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}};function genComponentStyleHook(xe,pe,_e){return Ce=>{const Ie=computed(()=>Ce==null?void 0:Ce.value),[Oe,Ne,Fe]=useToken(),{getPrefixCls:Ue,iconPrefixCls:$e}=useConfigContextInject(),ze=computed(()=>Ue()),Ve=computed(()=>({theme:Oe.value,token:Ne.value,hashId:Fe.value,path:["Shared",ze.value]}));useStyleRegister(Ve,()=>[{"&":genLinkStyle(Ne.value)}]);const qe=computed(()=>({theme:Oe.value,token:Ne.value,hashId:Fe.value,path:[xe,Ie.value,$e.value]}));return[useStyleRegister(qe,()=>{const{token:En,flush:vn}=statisticToken(Ne.value),hn=typeof _e=="function"?_e(En):_e,_n=_extends$1(_extends$1({},hn),Ne.value[xe]),bn=".".concat(Ie.value),An=merge(En,{componentCls:bn,prefixCls:Ie.value,iconCls:".".concat($e.value),antCls:".".concat(ze.value)},_n),xn=pe(An,{hashId:Fe.value,prefixCls:Ie.value,rootPrefixCls:ze.value,iconPrefixCls:$e.value,overrideComponentToken:Ne.value[xe]});return vn(xe,_n),[genCommonStyle(Ne.value,Ie.value),xn]}),Fe]}}const enableStatistic=typeof CSSINJS_STATISTIC<"u";let recording=!0;function merge(){for(var xe=arguments.length,pe=new Array(xe),_e=0;_e<xe;_e++)pe[_e]=arguments[_e];if(!enableStatistic)return _extends$1({},...pe);recording=!1;const Ce={};return pe.forEach(Ie=>{Object.keys(Ie).forEach(Ne=>{Object.defineProperty(Ce,Ne,{configurable:!0,enumerable:!0,get:()=>Ie[Ne]})})}),recording=!0,Ce}function noop$3(){}function statisticToken(xe){let pe,_e=xe,Ce=noop$3;return enableStatistic&&(pe=new Set,_e=new Proxy(xe,{get(Ie,Oe){return recording&&pe.add(Oe),Ie[Oe]}}),Ce=(Ie,Oe)=>{Array.from(pe)}),{token:_e,keys:pe,flush:Ce}}const defaultTheme=createTheme(derivative),defaultConfig={token:defaultSeedToken,hashed:!0},DesignTokenContextKey=Symbol("DesignTokenContext"),globalDesignTokenApi=shallowRef(),useDesignTokenProvider=xe=>{provide(DesignTokenContextKey,xe),watch(xe,()=>{globalDesignTokenApi.value=unref(xe),triggerRef(globalDesignTokenApi)},{immediate:!0,deep:!0})},DesignTokenProvider=defineComponent({props:{value:objectType()},setup(xe,pe){let{slots:_e}=pe;return useDesignTokenProvider(computed(()=>xe.value)),()=>{var Ce;return(Ce=_e.default)===null||Ce===void 0?void 0:Ce.call(_e)}}});function useToken(){const xe=inject(DesignTokenContextKey,computed(()=>globalDesignTokenApi.value||defaultConfig)),pe=computed(()=>"".concat(version,"-").concat(xe.value.hashed||"")),_e=computed(()=>xe.value.theme||defaultTheme),Ce=useCacheToken(_e,computed(()=>[defaultSeedToken,xe.value.token]),computed(()=>({salt:pe.value,override:_extends$1({override:xe.value.token},xe.value.components),formatToken})));return[_e,computed(()=>Ce.value[0]),computed(()=>xe.value.hashed?Ce.value[1]:"")]}const Empty$2=defineComponent({compatConfig:{MODE:3},setup(){const[,xe]=useToken(),pe=computed(()=>new TinyColor(xe.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>createVNode("svg",{style:pe.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[createVNode("g",{fill:"none","fill-rule":"evenodd"},[createVNode("g",{transform:"translate(24 31.67)"},[createVNode("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),createVNode("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),createVNode("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),createVNode("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),createVNode("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),createVNode("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),createVNode("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[createVNode("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),createVNode("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});Empty$2.PRESENTED_IMAGE_DEFAULT=!0;const DefaultEmptyImg=Empty$2,Simple=defineComponent({compatConfig:{MODE:3},setup(){const[,xe]=useToken(),pe=computed(()=>{const{colorFill:_e,colorFillTertiary:Ce,colorFillQuaternary:Ie,colorBgContainer:Oe}=xe.value;return{borderColor:new TinyColor(_e).onBackground(Oe).toHexString(),shadowColor:new TinyColor(Ce).onBackground(Oe).toHexString(),contentColor:new TinyColor(Ie).onBackground(Oe).toHexString()}});return()=>createVNode("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[createVNode("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[createVNode("ellipse",{fill:pe.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),createVNode("g",{"fill-rule":"nonzero",stroke:pe.value.borderColor},[createVNode("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),createVNode("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:pe.value.contentColor},null)])])])}});Simple.PRESENTED_IMAGE_SIMPLE=!0;const SimpleEmptyImg=Simple,genSharedEmptyStyle=xe=>{const{componentCls:pe,margin:_e,marginXS:Ce,marginXL:Ie,fontSize:Oe,lineHeight:Ne}=xe;return{[pe]:{marginInline:Ce,fontSize:Oe,lineHeight:Ne,textAlign:"center",["".concat(pe,"-image")]:{height:xe.emptyImgHeight,marginBottom:Ce,opacity:xe.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},["".concat(pe,"-footer")]:{marginTop:_e},"&-normal":{marginBlock:Ie,color:xe.colorTextDisabled,["".concat(pe,"-image")]:{height:xe.emptyImgHeightMD}},"&-small":{marginBlock:Ce,color:xe.colorTextDisabled,["".concat(pe,"-image")]:{height:xe.emptyImgHeightSM}}}}},useStyle$3=genComponentStyleHook("Empty",xe=>{const{componentCls:pe,controlHeightLG:_e}=xe,Ce=merge(xe,{emptyImgCls:"".concat(pe,"-img"),emptyImgHeight:_e*2.5,emptyImgHeightMD:_e,emptyImgHeightSM:_e*.875});return[genSharedEmptyStyle(Ce)]});var __rest$5=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};const defaultEmptyImg=createVNode(DefaultEmptyImg,null,null),simpleEmptyImg=createVNode(SimpleEmptyImg,null,null),emptyProps=()=>({prefixCls:String,imageStyle:objectType(),image:anyType(),description:anyType()}),Empty=defineComponent({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:emptyProps(),setup(xe,pe){let{slots:_e={},attrs:Ce}=pe;const{direction:Ie,prefixCls:Oe}=useConfigInject("empty",xe),[Ne,Fe]=useStyle$3(Oe);return()=>{var Ue,$e;const ze=Oe.value,Ve=_extends$1(_extends$1({},xe),Ce),{image:qe=((Ue=_e.image)===null||Ue===void 0?void 0:Ue.call(_e))||defaultEmptyImg,description:En=(($e=_e.description)===null||$e===void 0?void 0:$e.call(_e))||void 0,imageStyle:vn,class:hn=""}=Ve,_n=__rest$5(Ve,["image","description","imageStyle","class"]);return Ne(createVNode(LocaleReceiver,{componentName:"Empty",children:bn=>{const An=typeof En<"u"?En:bn.description,xn=typeof An=="string"?An:"empty";let Sn=null;return typeof qe=="string"?Sn=createVNode("img",{alt:xn,src:qe},null):Sn=qe,createVNode("div",_objectSpread2$1({class:classNames(ze,hn,Fe.value,{["".concat(ze,"-normal")]:qe===simpleEmptyImg,["".concat(ze,"-rtl")]:Ie.value==="rtl"})},_n),[createVNode("div",{class:"".concat(ze,"-image"),style:vn},[Sn]),An&&createVNode("p",{class:"".concat(ze,"-description")},[An]),_e.default&&createVNode("div",{class:"".concat(ze,"-footer")},[filterEmpty(_e.default())])])}},null))}}});Empty.PRESENTED_IMAGE_DEFAULT=defaultEmptyImg;Empty.PRESENTED_IMAGE_SIMPLE=simpleEmptyImg;const Empty$1=withInstall(Empty),DefaultRenderEmpty=xe=>{const{prefixCls:pe}=useConfigInject("empty",xe);return(Ce=>{switch(Ce){case"Table":case"List":return createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE,class:"".concat(pe.value,"-small")},null);default:return createVNode(Empty$1,null,null)}})(xe.componentName)};function renderEmpty(xe){return createVNode(DefaultRenderEmpty,{componentName:xe},null)}const SizeContextKey=Symbol("SizeContextKey"),useInjectSize=()=>inject(SizeContextKey,ref(void 0)),useProviderSize=xe=>{const pe=useInjectSize();return provide(SizeContextKey,computed(()=>xe.value||pe.value)),xe},useConfigInject=(xe,pe)=>{const _e=useInjectSize(),Ce=useInjectDisabled(),Ie=inject(configProviderKey,_extends$1(_extends$1({},defaultConfigProvider),{renderEmpty:wn=>h$1(DefaultRenderEmpty,{componentName:wn})})),Oe=computed(()=>Ie.getPrefixCls(xe,pe.prefixCls)),Ne=computed(()=>{var wn,Ln;return(wn=pe.direction)!==null&&wn!==void 0?wn:(Ln=Ie.direction)===null||Ln===void 0?void 0:Ln.value}),Fe=computed(()=>{var wn;return(wn=pe.iconPrefixCls)!==null&&wn!==void 0?wn:Ie.iconPrefixCls.value}),Ue=computed(()=>Ie.getPrefixCls()),$e=computed(()=>{var wn;return(wn=Ie.autoInsertSpaceInButton)===null||wn===void 0?void 0:wn.value}),ze=Ie.renderEmpty,Ve=Ie.space,qe=Ie.pageHeader,En=Ie.form,vn=computed(()=>{var wn,Ln;return(wn=pe.getTargetContainer)!==null&&wn!==void 0?wn:(Ln=Ie.getTargetContainer)===null||Ln===void 0?void 0:Ln.value}),hn=computed(()=>{var wn,Ln,Pn;return(Ln=(wn=pe.getContainer)!==null&&wn!==void 0?wn:pe.getPopupContainer)!==null&&Ln!==void 0?Ln:(Pn=Ie.getPopupContainer)===null||Pn===void 0?void 0:Pn.value}),_n=computed(()=>{var wn,Ln;return(wn=pe.dropdownMatchSelectWidth)!==null&&wn!==void 0?wn:(Ln=Ie.dropdownMatchSelectWidth)===null||Ln===void 0?void 0:Ln.value}),bn=computed(()=>{var wn;return(pe.virtual===void 0?((wn=Ie.virtual)===null||wn===void 0?void 0:wn.value)!==!1:pe.virtual!==!1)&&_n.value!==!1}),An=computed(()=>pe.size||_e.value),xn=computed(()=>{var wn,Ln,Pn;return(wn=pe.autocomplete)!==null&&wn!==void 0?wn:(Pn=(Ln=Ie.input)===null||Ln===void 0?void 0:Ln.value)===null||Pn===void 0?void 0:Pn.autocomplete}),Sn=computed(()=>{var wn;return(wn=pe.disabled)!==null&&wn!==void 0?wn:Ce.value}),Cn=computed(()=>{var wn;return(wn=pe.csp)!==null&&wn!==void 0?wn:Ie.csp}),Tn=computed(()=>{var wn,Ln;return(wn=pe.wave)!==null&&wn!==void 0?wn:(Ln=Ie.wave)===null||Ln===void 0?void 0:Ln.value});return{configProvider:Ie,prefixCls:Oe,direction:Ne,size:An,getTargetContainer:vn,getPopupContainer:hn,space:Ve,pageHeader:qe,form:En,autoInsertSpaceInButton:$e,renderEmpty:ze,virtual:bn,dropdownMatchSelectWidth:_n,rootPrefixCls:Ue,getPrefixCls:Ie.getPrefixCls,autocomplete:xn,csp:Cn,iconPrefixCls:Fe,disabled:Sn,select:Ie.select,wave:Tn}};function e$2(xe,pe){for(var _e=0;_e<pe.length;_e++){var Ce=pe[_e];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(xe,Ce.key,Ce)}}function t$2(xe,pe,_e){return pe&&e$2(xe.prototype,pe),_e&&e$2(xe,_e),xe}function n$1(){return(n$1=Object.assign||function(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(xe[Ce]=_e[Ce])}return xe}).apply(this,arguments)}function r$1(xe,pe){xe.prototype=Object.create(pe.prototype),xe.prototype.constructor=xe,xe.__proto__=pe}function i$1(xe,pe){if(xe==null)return{};var _e,Ce,Ie={},Oe=Object.keys(xe);for(Ce=0;Ce<Oe.length;Ce++)pe.indexOf(_e=Oe[Ce])>=0||(Ie[_e]=xe[_e]);return Ie}function o$2(xe){return((pe=xe)!=null&&typeof pe=="object"&&Array.isArray(pe)===!1)==1&&Object.prototype.toString.call(xe)==="[object Object]";var pe}var u$1=Object.prototype,a$1=u$1.toString,f=u$1.hasOwnProperty,c=/^\s*function (\w+)/;function l$1(xe){var pe,_e=(pe=xe==null?void 0:xe.type)!==null&&pe!==void 0?pe:xe;if(_e){var Ce=_e.toString().match(c);return Ce?Ce[1]:""}return""}var s$1=function(xe){var pe,_e;return o$2(xe)!==!1&&typeof(pe=xe.constructor)=="function"&&o$2(_e=pe.prototype)!==!1&&_e.hasOwnProperty("isPrototypeOf")!==!1},v=function(xe){return xe},y=v,d=function(xe,pe){return f.call(xe,pe)},h=Number.isInteger||function(xe){return typeof xe=="number"&&isFinite(xe)&&Math.floor(xe)===xe},b=Array.isArray||function(xe){return a$1.call(xe)==="[object Array]"},O=function(xe){return a$1.call(xe)==="[object Function]"},g=function(xe){return s$1(xe)&&d(xe,"_vueTypes_name")},m=function(xe){return s$1(xe)&&(d(xe,"type")||["_vueTypes_name","validator","default","required"].some(function(pe){return d(xe,pe)}))};function j(xe,pe){return Object.defineProperty(xe.bind(pe),"__original",{value:xe})}function _(xe,pe,_e){var Ce;_e===void 0&&(_e=!1);var Ie=!0,Oe="";Ce=s$1(xe)?xe:{type:xe};var Ne=g(Ce)?Ce._vueTypes_name+" - ":"";if(m(Ce)&&Ce.type!==null){if(Ce.type===void 0||Ce.type===!0||!Ce.required&&pe===void 0)return Ie;b(Ce.type)?(Ie=Ce.type.some(function(Ve){return _(Ve,pe,!0)===!0}),Oe=Ce.type.map(function(Ve){return l$1(Ve)}).join(" or ")):Ie=(Oe=l$1(Ce))==="Array"?b(pe):Oe==="Object"?s$1(pe):Oe==="String"||Oe==="Number"||Oe==="Boolean"||Oe==="Function"?function(Ve){if(Ve==null)return"";var qe=Ve.constructor.toString().match(c);return qe?qe[1]:""}(pe)===Oe:pe instanceof Ce.type}if(!Ie){var Fe=Ne+'value "'+pe+'" should be of type "'+Oe+'"';return _e===!1?(y(Fe),!1):Fe}if(d(Ce,"validator")&&O(Ce.validator)){var Ue=y,$e=[];if(y=function(Ve){$e.push(Ve)},Ie=Ce.validator(pe),y=Ue,!Ie){var ze=($e.length>1?"* ":"")+$e.join("\n* ");return $e.length=0,_e===!1?(y(ze),Ie):ze}}return Ie}function T(xe,pe){var _e=Object.defineProperties(pe,{_vueTypes_name:{value:xe,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(Ie){return Ie!==void 0||this.default?O(Ie)||_(this,Ie,!0)===!0?(this.default=b(Ie)?function(){return[].concat(Ie)}:s$1(Ie)?function(){return Object.assign({},Ie)}:Ie,this):(y(this._vueTypes_name+' - invalid default value: "'+Ie+'"'),this):this}}}),Ce=_e.validator;return O(Ce)&&(_e.validator=j(Ce,_e)),_e}function w(xe,pe){var _e=T(xe,pe);return Object.defineProperty(_e,"validate",{value:function(Ce){return O(this.validator)&&y(this._vueTypes_name+" - calling .validate() will overwrite the current custom validator function. Validator info:\n"+JSON.stringify(this)),this.validator=j(Ce,this),this}})}function k(xe,pe,_e){var Ce,Ie,Oe=(Ce=pe,Ie={},Object.getOwnPropertyNames(Ce).forEach(function(Ve){Ie[Ve]=Object.getOwnPropertyDescriptor(Ce,Ve)}),Object.defineProperties({},Ie));if(Oe._vueTypes_name=xe,!s$1(_e))return Oe;var Ne,Fe,Ue=_e.validator,$e=i$1(_e,["validator"]);if(O(Ue)){var ze=Oe.validator;ze&&(ze=(Fe=(Ne=ze).__original)!==null&&Fe!==void 0?Fe:Ne),Oe.validator=j(ze?function(Ve){return ze.call(this,Ve)&&Ue.call(this,Ve)}:Ue,Oe)}return Object.assign(Oe,$e)}function P(xe){return xe.replace(/^(?!\s*$)/gm,"  ")}var x=function(){return w("any",{})},A=function(){return w("function",{type:Function})},E=function(){return w("boolean",{type:Boolean})},N=function(){return w("string",{type:String})},q$1=function(){return w("number",{type:Number})},S=function(){return w("array",{type:Array})},V$1=function(){return w("object",{type:Object})},F=function(){return T("integer",{type:Number,validator:function(xe){return h(xe)}})},D=function(){return T("symbol",{validator:function(xe){return typeof xe=="symbol"}})};function L(xe,pe){if(pe===void 0&&(pe="custom validation failed"),typeof xe!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return T(xe.name||"<<anonymous function>>",{validator:function(_e){var Ce=xe(_e);return Ce||y(this._vueTypes_name+" - "+pe),Ce}})}function Y$1(xe){if(!b(xe))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var pe='oneOf - value should be one of "'+xe.join('", "')+'".',_e=xe.reduce(function(Ce,Ie){if(Ie!=null){var Oe=Ie.constructor;Ce.indexOf(Oe)===-1&&Ce.push(Oe)}return Ce},[]);return T("oneOf",{type:_e.length>0?_e:void 0,validator:function(Ce){var Ie=xe.indexOf(Ce)!==-1;return Ie||y(pe),Ie}})}function B(xe){if(!b(xe))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var pe=!1,_e=[],Ce=0;Ce<xe.length;Ce+=1){var Ie=xe[Ce];if(m(Ie)){if(g(Ie)&&Ie._vueTypes_name==="oneOf"){_e=_e.concat(Ie.type);continue}if(O(Ie.validator)&&(pe=!0),Ie.type!==!0&&Ie.type){_e=_e.concat(Ie.type);continue}}_e.push(Ie)}return _e=_e.filter(function(Oe,Ne){return _e.indexOf(Oe)===Ne}),T("oneOfType",pe?{type:_e,validator:function(Oe){var Ne=[],Fe=xe.some(function(Ue){var $e=_(g(Ue)&&Ue._vueTypes_name==="oneOf"?Ue.type||null:Ue,Oe,!0);return typeof $e=="string"&&Ne.push($e),$e===!0});return Fe||y("oneOfType - provided value does not match any of the "+Ne.length+" passed-in validators:\n"+P(Ne.join("\n"))),Fe}}:{type:_e})}function I(xe){return T("arrayOf",{type:Array,validator:function(pe){var _e,Ce=pe.every(function(Ie){return(_e=_(xe,Ie,!0))===!0});return Ce||y("arrayOf - value validation error:\n"+P(_e)),Ce}})}function J$1(xe){return T("instanceOf",{type:xe})}function M(xe){return T("objectOf",{type:Object,validator:function(pe){var _e,Ce=Object.keys(pe).every(function(Ie){return(_e=_(xe,pe[Ie],!0))===!0});return Ce||y("objectOf - value validation error:\n"+P(_e)),Ce}})}function R(xe){var pe=Object.keys(xe),_e=pe.filter(function(Ie){var Oe;return!!(!((Oe=xe[Ie])===null||Oe===void 0)&&Oe.required)}),Ce=T("shape",{type:Object,validator:function(Ie){var Oe=this;if(!s$1(Ie))return!1;var Ne=Object.keys(Ie);if(_e.length>0&&_e.some(function(Ue){return Ne.indexOf(Ue)===-1})){var Fe=_e.filter(function(Ue){return Ne.indexOf(Ue)===-1});return y(Fe.length===1?'shape - required property "'+Fe[0]+'" is not defined.':'shape - required properties "'+Fe.join('", "')+'" are not defined.'),!1}return Ne.every(function(Ue){if(pe.indexOf(Ue)===-1)return Oe._vueTypes_isLoose===!0||(y('shape - shape definition does not include a "'+Ue+'" property. Allowed keys: "'+pe.join('", "')+'".'),!1);var $e=_(xe[Ue],Ie[Ue],!0);return typeof $e=="string"&&y('shape - "'+Ue+'" property validation error:\n '+P($e)),$e===!0})}});return Object.defineProperty(Ce,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(Ce,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),Ce}var $$1=function(){function xe(){}return xe.extend=function(pe){var _e=this;if(b(pe))return pe.forEach(function(Ve){return _e.extend(Ve)}),this;var Ce=pe.name,Ie=pe.validate,Oe=Ie!==void 0&&Ie,Ne=pe.getter,Fe=Ne!==void 0&&Ne,Ue=i$1(pe,["name","validate","getter"]);if(d(this,Ce))throw new TypeError('[VueTypes error]: Type "'+Ce+'" already defined');var $e,ze=Ue.type;return g(ze)?(delete Ue.type,Object.defineProperty(this,Ce,Fe?{get:function(){return k(Ce,ze,Ue)}}:{value:function(){var Ve,qe=k(Ce,ze,Ue);return qe.validator&&(qe.validator=(Ve=qe.validator).bind.apply(Ve,[qe].concat([].slice.call(arguments)))),qe}})):($e=Fe?{get:function(){var Ve=Object.assign({},Ue);return Oe?w(Ce,Ve):T(Ce,Ve)},enumerable:!0}:{value:function(){var Ve,qe,En=Object.assign({},Ue);return Ve=Oe?w(Ce,En):T(Ce,En),En.validator&&(Ve.validator=(qe=En.validator).bind.apply(qe,[Ve].concat([].slice.call(arguments)))),Ve},enumerable:!0},Object.defineProperty(this,Ce,$e))},t$2(xe,null,[{key:"any",get:function(){return x()}},{key:"func",get:function(){return A().def(this.defaults.func)}},{key:"bool",get:function(){return E().def(this.defaults.bool)}},{key:"string",get:function(){return N().def(this.defaults.string)}},{key:"number",get:function(){return q$1().def(this.defaults.number)}},{key:"array",get:function(){return S().def(this.defaults.array)}},{key:"object",get:function(){return V$1().def(this.defaults.object)}},{key:"integer",get:function(){return F().def(this.defaults.integer)}},{key:"symbol",get:function(){return D()}}]),xe}();function z$1(xe){var pe;return xe===void 0&&(xe={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(pe=function(_e){function Ce(){return _e.apply(this,arguments)||this}return r$1(Ce,_e),t$2(Ce,null,[{key:"sensibleDefaults",get:function(){return n$1({},this.defaults)},set:function(Ie){this.defaults=Ie!==!1?n$1({},Ie!==!0?Ie:xe):{}}}]),Ce}($$1)).defaults=n$1({},xe),pe}$$1.defaults={},$$1.custom=L,$$1.oneOf=Y$1,$$1.instanceOf=J$1,$$1.oneOfType=B,$$1.arrayOf=I,$$1.objectOf=M,$$1.shape=R,$$1.utils={validate:function(xe,pe){return _(pe,xe,!0)===!0},toType:function(xe,pe,_e){return _e===void 0&&(_e=!1),_e?w(xe,pe):T(xe,pe)}};(function(xe){function pe(){return xe.apply(this,arguments)||this}return r$1(pe,xe),pe})(z$1());const PropTypes=z$1({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});PropTypes.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const PropTypes$1=PropTypes;function getMotion$1(xe){let{prefixCls:pe,animation:_e,transitionName:Ce}=xe;return _e?{name:"".concat(pe,"-").concat(_e)}:Ce?{name:Ce}:{}}tuple("bottomLeft","bottomRight","topLeft","topRight");const getTransitionGroupProps=function(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _extends$1(xe?{name:xe,appear:!0,appearActiveClass:"".concat(xe),appearToClass:"".concat(xe,"-appear ").concat(xe,"-appear-active"),enterFromClass:"".concat(xe,"-appear ").concat(xe,"-enter ").concat(xe,"-appear-prepare ").concat(xe,"-enter-prepare"),enterActiveClass:"".concat(xe),enterToClass:"".concat(xe,"-enter ").concat(xe,"-appear ").concat(xe,"-appear-active ").concat(xe,"-enter-active"),leaveActiveClass:"".concat(xe," ").concat(xe,"-leave"),leaveToClass:"".concat(xe,"-leave-active")}:{css:!1},pe)},PortalContextKey=Symbol("PortalContextKey"),useProvidePortal=function(xe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};provide(PortalContextKey,{inTriggerContext:pe.inTriggerContext,shouldRender:computed(()=>{const{sPopupVisible:_e,popupRef:Ce,forceRender:Ie,autoDestroy:Oe}=xe||{};let Ne=!1;return(_e||Ce||Ie)&&(Ne=!0),!_e&&Oe&&(Ne=!1),Ne})})},useInjectPortal=()=>{useProvidePortal({},{inTriggerContext:!1});const xe=inject(PortalContextKey,{shouldRender:computed(()=>!1),inTriggerContext:!1});return{shouldRender:computed(()=>xe.shouldRender.value||xe.inTriggerContext===!1)}},Portal=defineComponent({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:PropTypes$1.func.isRequired,didUpdate:Function},setup(xe,pe){let{slots:_e}=pe,Ce=!0,Ie;const{shouldRender:Oe}=useInjectPortal();function Ne(){Oe.value&&(Ie=xe.getContainer())}onBeforeMount(()=>{Ce=!1,Ne()}),onMounted(()=>{Ie||Ne()});const Fe=watch(Oe,()=>{Oe.value&&!Ie&&(Ie=xe.getContainer()),Ie&&Fe()});return onUpdated(()=>{nextTick(()=>{var Ue;Oe.value&&((Ue=xe.didUpdate)===null||Ue===void 0||Ue.call(xe,xe))})}),()=>{var Ue;return Oe.value?Ce?(Ue=_e.default)===null||Ue===void 0?void 0:Ue.call(_e):Ie?createVNode(Teleport,{to:Ie},_e):null:null}}});var contextKey=Symbol("iconContext"),useInjectIconContext=function(){return inject(contextKey,{prefixCls:ref("anticon"),rootClassName:ref(""),csp:ref()})};function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains(xe,pe){return xe&&xe.contains?xe.contains(pe):!1}var APPEND_ORDER="data-vc-order",MARK_KEY="vc-icon-key",containerCache=new Map;function getMark(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=xe.mark;return pe?pe.startsWith("data-")?pe:"data-".concat(pe):MARK_KEY}function getContainer$1(xe){if(xe.attachTo)return xe.attachTo;var pe=document.querySelector("head");return pe||document.body}function getOrder(xe){return xe==="queue"?"prependQueue":xe?"prepend":"append"}function findStyles(xe){return Array.from((containerCache.get(xe)||xe).children).filter(function(pe){return pe.tagName==="STYLE"})}function injectCSS(xe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var _e=pe.csp,Ce=pe.prepend,Ie=document.createElement("style");Ie.setAttribute(APPEND_ORDER,getOrder(Ce)),_e&&_e.nonce&&(Ie.nonce=_e.nonce),Ie.innerHTML=xe;var Oe=getContainer$1(pe),Ne=Oe.firstChild;if(Ce){if(Ce==="queue"){var Fe=findStyles(Oe).filter(function(Ue){return["prepend","prependQueue"].includes(Ue.getAttribute(APPEND_ORDER))});if(Fe.length)return Oe.insertBefore(Ie,Fe[Fe.length-1].nextSibling),Ie}Oe.insertBefore(Ie,Ne)}else Oe.appendChild(Ie);return Ie}function findExistNode(xe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=getContainer$1(pe);return findStyles(_e).find(function(Ce){return Ce.getAttribute(getMark(pe))===xe})}function syncRealContainer(xe,pe){var _e=containerCache.get(xe);if(!_e||!contains(document,_e)){var Ce=injectCSS("",pe),Ie=Ce.parentNode;containerCache.set(xe,Ie),xe.removeChild(Ce)}}function updateCSS(xe,pe){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ce=getContainer$1(_e);syncRealContainer(Ce,_e);var Ie=findExistNode(pe,_e);if(Ie)return _e.csp&&_e.csp.nonce&&Ie.nonce!==_e.csp.nonce&&(Ie.nonce=_e.csp.nonce),Ie.innerHTML!==xe&&(Ie.innerHTML=xe),Ie;var Oe=injectCSS(xe,_e);return Oe.setAttribute(getMark(_e),pe),Oe}function _objectSpread$c(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$d(xe,Ie,_e[Ie])})}return xe}function _defineProperty$d(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}function warning(xe,pe){}function isIconDefinition(xe){return typeof xe=="object"&&typeof xe.name=="string"&&typeof xe.theme=="string"&&(typeof xe.icon=="object"||typeof xe.icon=="function")}function generate(xe,pe,_e){return _e?h$1(xe.tag,_objectSpread$c({key:pe},_e,xe.attrs),(xe.children||[]).map(function(Ce,Ie){return generate(Ce,"".concat(pe,"-").concat(xe.tag,"-").concat(Ie))})):h$1(xe.tag,_objectSpread$c({key:pe},xe.attrs),(xe.children||[]).map(function(Ce,Ie){return generate(Ce,"".concat(pe,"-").concat(xe.tag,"-").concat(Ie))}))}function getSecondaryColor(xe){return generate$1(xe)[0]}function normalizeTwoToneColors(xe){return xe?Array.isArray(xe)?xe:[xe]:[]}var iconStyles="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";function getRoot(xe){return xe&&xe.getRootNode&&xe.getRootNode()}function inShadow(xe){return canUseDom()?getRoot(xe)instanceof ShadowRoot:!1}function getShadowRoot(xe){return inShadow(xe)?getRoot(xe):null}var useInsertStyles=function(){var pe=useInjectIconContext(),_e=pe.prefixCls,Ce=pe.csp,Ie=getCurrentInstance(),Oe=iconStyles;_e&&(Oe=Oe.replace(/anticon/g,_e.value)),nextTick(function(){if(canUseDom()){var Ne=Ie.vnode.el,Fe=getShadowRoot(Ne);updateCSS(Oe,"@ant-design-vue-icons",{prepend:!0,csp:Ce.value,attachTo:Fe})}})},_excluded$1=["icon","primaryColor","secondaryColor"];function _objectWithoutProperties$1(xe,pe){if(xe==null)return{};var _e=_objectWithoutPropertiesLoose$1(xe,pe),Ce,Ie;if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(xe);for(Ie=0;Ie<Oe.length;Ie++)Ce=Oe[Ie],!(pe.indexOf(Ce)>=0)&&Object.prototype.propertyIsEnumerable.call(xe,Ce)&&(_e[Ce]=xe[Ce])}return _e}function _objectWithoutPropertiesLoose$1(xe,pe){if(xe==null)return{};var _e={},Ce=Object.keys(xe),Ie,Oe;for(Oe=0;Oe<Ce.length;Oe++)Ie=Ce[Oe],!(pe.indexOf(Ie)>=0)&&(_e[Ie]=xe[Ie]);return _e}function _objectSpread$b(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$c(xe,Ie,_e[Ie])})}return xe}function _defineProperty$c(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var twoToneColorPalette=reactive({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function setTwoToneColors(xe){var pe=xe.primaryColor,_e=xe.secondaryColor;twoToneColorPalette.primaryColor=pe,twoToneColorPalette.secondaryColor=_e||getSecondaryColor(pe),twoToneColorPalette.calculated=!!_e}function getTwoToneColors(){return _objectSpread$b({},twoToneColorPalette)}var IconBase=function(pe,_e){var Ce=_objectSpread$b({},pe,_e.attrs),Ie=Ce.icon,Oe=Ce.primaryColor,Ne=Ce.secondaryColor,Fe=_objectWithoutProperties$1(Ce,_excluded$1),Ue=twoToneColorPalette;if(Oe&&(Ue={primaryColor:Oe,secondaryColor:Ne||getSecondaryColor(Oe)}),isIconDefinition(Ie),!isIconDefinition(Ie))return null;var $e=Ie;return $e&&typeof $e.icon=="function"&&($e=_objectSpread$b({},$e,{icon:$e.icon(Ue.primaryColor,Ue.secondaryColor)})),generate($e.icon,"svg-".concat($e.name),_objectSpread$b({},Fe,{"data-icon":$e.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};IconBase.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};IconBase.inheritAttrs=!1;IconBase.displayName="IconBase";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;const VueIcon=IconBase;function _slicedToArray$1(xe,pe){return _arrayWithHoles$1(xe)||_iterableToArrayLimit$1(xe,pe)||_unsupportedIterableToArray$1(xe,pe)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$1(xe,pe){if(xe){if(typeof xe=="string")return _arrayLikeToArray$1(xe,pe);var _e=Object.prototype.toString.call(xe).slice(8,-1);if(_e==="Object"&&xe.constructor&&(_e=xe.constructor.name),_e==="Map"||_e==="Set")return Array.from(xe);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return _arrayLikeToArray$1(xe,pe)}}function _arrayLikeToArray$1(xe,pe){(pe==null||pe>xe.length)&&(pe=xe.length);for(var _e=0,Ce=new Array(pe);_e<pe;_e++)Ce[_e]=xe[_e];return Ce}function _iterableToArrayLimit$1(xe,pe){var _e=xe==null?null:typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(_e!=null){var Ce=[],Ie=!0,Oe=!1,Ne,Fe;try{for(_e=_e.call(xe);!(Ie=(Ne=_e.next()).done)&&(Ce.push(Ne.value),!(pe&&Ce.length===pe));Ie=!0);}catch(Ue){Oe=!0,Fe=Ue}finally{try{!Ie&&_e.return!=null&&_e.return()}finally{if(Oe)throw Fe}}return Ce}}function _arrayWithHoles$1(xe){if(Array.isArray(xe))return xe}function setTwoToneColor(xe){var pe=normalizeTwoToneColors(xe),_e=_slicedToArray$1(pe,2),Ce=_e[0],Ie=_e[1];return VueIcon.setTwoToneColors({primaryColor:Ce,secondaryColor:Ie})}function getTwoToneColor(){var xe=VueIcon.getTwoToneColors();return xe.calculated?[xe.primaryColor,xe.secondaryColor]:xe.primaryColor}var InsertStyles=defineComponent({name:"InsertStyles",setup:function(){return useInsertStyles(),function(){return null}}}),_excluded=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function _slicedToArray(xe,pe){return _arrayWithHoles(xe)||_iterableToArrayLimit(xe,pe)||_unsupportedIterableToArray(xe,pe)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(xe,pe){if(xe){if(typeof xe=="string")return _arrayLikeToArray(xe,pe);var _e=Object.prototype.toString.call(xe).slice(8,-1);if(_e==="Object"&&xe.constructor&&(_e=xe.constructor.name),_e==="Map"||_e==="Set")return Array.from(xe);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return _arrayLikeToArray(xe,pe)}}function _arrayLikeToArray(xe,pe){(pe==null||pe>xe.length)&&(pe=xe.length);for(var _e=0,Ce=new Array(pe);_e<pe;_e++)Ce[_e]=xe[_e];return Ce}function _iterableToArrayLimit(xe,pe){var _e=xe==null?null:typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(_e!=null){var Ce=[],Ie=!0,Oe=!1,Ne,Fe;try{for(_e=_e.call(xe);!(Ie=(Ne=_e.next()).done)&&(Ce.push(Ne.value),!(pe&&Ce.length===pe));Ie=!0);}catch(Ue){Oe=!0,Fe=Ue}finally{try{!Ie&&_e.return!=null&&_e.return()}finally{if(Oe)throw Fe}}return Ce}}function _arrayWithHoles(xe){if(Array.isArray(xe))return xe}function _objectSpread$a(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$b(xe,Ie,_e[Ie])})}return xe}function _defineProperty$b(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}function _objectWithoutProperties(xe,pe){if(xe==null)return{};var _e=_objectWithoutPropertiesLoose(xe,pe),Ce,Ie;if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(xe);for(Ie=0;Ie<Oe.length;Ie++)Ce=Oe[Ie],!(pe.indexOf(Ce)>=0)&&Object.prototype.propertyIsEnumerable.call(xe,Ce)&&(_e[Ce]=xe[Ce])}return _e}function _objectWithoutPropertiesLoose(xe,pe){if(xe==null)return{};var _e={},Ce=Object.keys(xe),Ie,Oe;for(Oe=0;Oe<Ce.length;Oe++)Ie=Ce[Oe],!(pe.indexOf(Ie)>=0)&&(_e[Ie]=xe[Ie]);return _e}setTwoToneColor(blue.primary);var Icon=function(pe,_e){var Ce,Ie=_objectSpread$a({},pe,_e.attrs),Oe=Ie.class,Ne=Ie.icon,Fe=Ie.spin,Ue=Ie.rotate,$e=Ie.tabindex,ze=Ie.twoToneColor,Ve=Ie.onClick,qe=_objectWithoutProperties(Ie,_excluded),En=useInjectIconContext(),vn=En.prefixCls,hn=En.rootClassName,_n=(Ce={},_defineProperty$b(Ce,hn.value,!!hn.value),_defineProperty$b(Ce,vn.value,!0),_defineProperty$b(Ce,"".concat(vn.value,"-").concat(Ne.name),!!Ne.name),_defineProperty$b(Ce,"".concat(vn.value,"-spin"),!!Fe||Ne.name==="loading"),Ce),bn=$e;bn===void 0&&Ve&&(bn=-1);var An=Ue?{msTransform:"rotate(".concat(Ue,"deg)"),transform:"rotate(".concat(Ue,"deg)")}:void 0,xn=normalizeTwoToneColors(ze),Sn=_slicedToArray(xn,2),Cn=Sn[0],Tn=Sn[1];return createVNode("span",_objectSpread$a({role:"img","aria-label":Ne.name},qe,{onClick:Ve,class:[_n,Oe],tabindex:bn}),[createVNode(VueIcon,{icon:Ne,primaryColor:Cn,secondaryColor:Tn,style:An},null),createVNode(InsertStyles,null,null)])};Icon.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};Icon.displayName="AntdIcon";Icon.inheritAttrs=!1;Icon.getTwoToneColor=getTwoToneColor;Icon.setTwoToneColor=setTwoToneColor;const AntdIcon=Icon;var LoadingOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const LoadingOutlinedSvg=LoadingOutlined$2;function _objectSpread$9(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$a(xe,Ie,_e[Ie])})}return xe}function _defineProperty$a(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var LoadingOutlined=function(pe,_e){var Ce=_objectSpread$9({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$9({},Ce,{icon:LoadingOutlinedSvg}),null)};LoadingOutlined.displayName="LoadingOutlined";LoadingOutlined.inheritAttrs=!1;const LoadingOutlined$1=LoadingOutlined;var CloseOutlined$2={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const CloseOutlinedSvg=CloseOutlined$2;function _objectSpread$8(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$9(xe,Ie,_e[Ie])})}return xe}function _defineProperty$9(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var CloseOutlined=function(pe,_e){var Ce=_objectSpread$8({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$8({},Ce,{icon:CloseOutlinedSvg}),null)};CloseOutlined.displayName="CloseOutlined";CloseOutlined.inheritAttrs=!1;const CloseOutlined$1=CloseOutlined;var CloseCircleFilled$2={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const CloseCircleFilledSvg=CloseCircleFilled$2;function _objectSpread$7(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$8(xe,Ie,_e[Ie])})}return xe}function _defineProperty$8(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var CloseCircleFilled=function(pe,_e){var Ce=_objectSpread$7({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$7({},Ce,{icon:CloseCircleFilledSvg}),null)};CloseCircleFilled.displayName="CloseCircleFilled";CloseCircleFilled.inheritAttrs=!1;const CloseCircleFilled$1=CloseCircleFilled;var CheckCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const CheckCircleOutlinedSvg=CheckCircleOutlined$2;function _objectSpread$6(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$7(xe,Ie,_e[Ie])})}return xe}function _defineProperty$7(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var CheckCircleOutlined=function(pe,_e){var Ce=_objectSpread$6({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$6({},Ce,{icon:CheckCircleOutlinedSvg}),null)};CheckCircleOutlined.displayName="CheckCircleOutlined";CheckCircleOutlined.inheritAttrs=!1;const CheckCircleOutlined$1=CheckCircleOutlined;var ExclamationCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const ExclamationCircleOutlinedSvg=ExclamationCircleOutlined$2;function _objectSpread$5(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$6(xe,Ie,_e[Ie])})}return xe}function _defineProperty$6(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var ExclamationCircleOutlined=function(pe,_e){var Ce=_objectSpread$5({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$5({},Ce,{icon:ExclamationCircleOutlinedSvg}),null)};ExclamationCircleOutlined.displayName="ExclamationCircleOutlined";ExclamationCircleOutlined.inheritAttrs=!1;const ExclamationCircleOutlined$1=ExclamationCircleOutlined;var InfoCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const InfoCircleOutlinedSvg=InfoCircleOutlined$2;function _objectSpread$4(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$5(xe,Ie,_e[Ie])})}return xe}function _defineProperty$5(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var InfoCircleOutlined=function(pe,_e){var Ce=_objectSpread$4({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$4({},Ce,{icon:InfoCircleOutlinedSvg}),null)};InfoCircleOutlined.displayName="InfoCircleOutlined";InfoCircleOutlined.inheritAttrs=!1;const InfoCircleOutlined$1=InfoCircleOutlined;var CloseCircleOutlined$2={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const CloseCircleOutlinedSvg=CloseCircleOutlined$2;function _objectSpread$3(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$4(xe,Ie,_e[Ie])})}return xe}function _defineProperty$4(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var CloseCircleOutlined=function(pe,_e){var Ce=_objectSpread$3({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$3({},Ce,{icon:CloseCircleOutlinedSvg}),null)};CloseCircleOutlined.displayName="CloseCircleOutlined";CloseCircleOutlined.inheritAttrs=!1;const CloseCircleOutlined$1=CloseCircleOutlined;var CheckCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const CheckCircleFilledSvg=CheckCircleFilled$2;function _objectSpread$2(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$3(xe,Ie,_e[Ie])})}return xe}function _defineProperty$3(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var CheckCircleFilled=function(pe,_e){var Ce=_objectSpread$2({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$2({},Ce,{icon:CheckCircleFilledSvg}),null)};CheckCircleFilled.displayName="CheckCircleFilled";CheckCircleFilled.inheritAttrs=!1;const CheckCircleFilled$1=CheckCircleFilled;var ExclamationCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const ExclamationCircleFilledSvg=ExclamationCircleFilled$2;function _objectSpread$1(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$2(xe,Ie,_e[Ie])})}return xe}function _defineProperty$2(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var ExclamationCircleFilled=function(pe,_e){var Ce=_objectSpread$1({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread$1({},Ce,{icon:ExclamationCircleFilledSvg}),null)};ExclamationCircleFilled.displayName="ExclamationCircleFilled";ExclamationCircleFilled.inheritAttrs=!1;const ExclamationCircleFilled$1=ExclamationCircleFilled;var InfoCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const InfoCircleFilledSvg=InfoCircleFilled$2;function _objectSpread(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?Object(arguments[pe]):{},Ce=Object.keys(_e);typeof Object.getOwnPropertySymbols=="function"&&(Ce=Ce.concat(Object.getOwnPropertySymbols(_e).filter(function(Ie){return Object.getOwnPropertyDescriptor(_e,Ie).enumerable}))),Ce.forEach(function(Ie){_defineProperty$1(xe,Ie,_e[Ie])})}return xe}function _defineProperty$1(xe,pe,_e){return pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}var InfoCircleFilled=function(pe,_e){var Ce=_objectSpread({},pe,_e.attrs);return createVNode(AntdIcon,_objectSpread({},Ce,{icon:InfoCircleFilledSvg}),null)};InfoCircleFilled.displayName="InfoCircleFilled";InfoCircleFilled.inheritAttrs=!1;const InfoCircleFilled$1=InfoCircleFilled;let runtimeLocale=_extends$1({},localeValues$1.Modal);function changeConfirmLocale(xe){xe?runtimeLocale=_extends$1(_extends$1({},runtimeLocale),xe):runtimeLocale=_extends$1({},localeValues$1.Modal)}const ANT_MARK="internalMark",LocaleProvider=defineComponent({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(xe,pe){let{slots:_e}=pe;warning$1(xe.ANT_MARK__===ANT_MARK);const Ce=reactive({antLocale:_extends$1(_extends$1({},xe.locale),{exist:!0}),ANT_MARK__:ANT_MARK});return provide("localeData",Ce),watch(()=>xe.locale,Ie=>{changeConfirmLocale(Ie&&Ie.Modal),Ce.antLocale=_extends$1(_extends$1({},Ie),{exist:!0})},{immediate:!0}),()=>{var Ie;return(Ie=_e.default)===null||Ie===void 0?void 0:Ie.call(_e)}}});LocaleProvider.install=function(xe){return xe.component(LocaleProvider.name,LocaleProvider),xe};const locale$3=withInstall(LocaleProvider),Notice=defineComponent({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(xe,pe){let{attrs:_e,slots:Ce}=pe,Ie,Oe=!1;const Ne=computed(()=>xe.duration===void 0?4.5:xe.duration),Fe=()=>{Ne.value&&!Oe&&(Ie=setTimeout(()=>{$e()},Ne.value*1e3))},Ue=()=>{Ie&&(clearTimeout(Ie),Ie=null)},$e=Ve=>{Ve&&Ve.stopPropagation(),Ue();const{onClose:qe,noticeKey:En}=xe;qe&&qe(En)},ze=()=>{Ue(),Fe()};return onMounted(()=>{Fe()}),onUnmounted(()=>{Oe=!0,Ue()}),watch([Ne,()=>xe.updateMark,()=>xe.visible],(Ve,qe)=>{let[En,vn,hn]=Ve,[_n,bn,An]=qe;(En!==_n||vn!==bn||hn!==An&&An)&&ze()},{flush:"post"}),()=>{var Ve,qe;const{prefixCls:En,closable:vn,closeIcon:hn=(Ve=Ce.closeIcon)===null||Ve===void 0?void 0:Ve.call(Ce),onClick:_n,holder:bn}=xe,{class:An,style:xn}=_e,Sn="".concat(En,"-notice"),Cn=Object.keys(_e).reduce((wn,Ln)=>((Ln.startsWith("data-")||Ln.startsWith("aria-")||Ln==="role")&&(wn[Ln]=_e[Ln]),wn),{}),Tn=createVNode("div",_objectSpread2$1({class:classNames(Sn,An,{["".concat(Sn,"-closable")]:vn}),style:xn,onMouseenter:Ue,onMouseleave:Fe,onClick:_n},Cn),[createVNode("div",{class:"".concat(Sn,"-content")},[(qe=Ce.default)===null||qe===void 0?void 0:qe.call(Ce)]),vn?createVNode("a",{tabindex:0,onClick:$e,class:"".concat(Sn,"-close")},[hn||createVNode("span",{class:"".concat(Sn,"-close-x")},null)]):null]);return bn?createVNode(Teleport,{to:bn},{default:()=>Tn}):Tn}}});var __rest$4=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};let seed$1=0;const now$2=Date.now();function getUuid$1(){const xe=seed$1;return seed$1+=1,"rcNotification_".concat(now$2,"_").concat(xe)}const Notification$1=defineComponent({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(xe,pe){let{attrs:_e,expose:Ce,slots:Ie}=pe;const Oe=new Map,Ne=ref([]),Fe=computed(()=>{const{prefixCls:ze,animation:Ve="fade"}=xe;let qe=xe.transitionName;return!qe&&Ve&&(qe="".concat(ze,"-").concat(Ve)),getTransitionGroupProps(qe)}),Ue=(ze,Ve)=>{const qe=ze.key||getUuid$1(),En=_extends$1(_extends$1({},ze),{key:qe}),{maxCount:vn}=xe,hn=Ne.value.map(bn=>bn.notice.key).indexOf(qe),_n=Ne.value.concat();hn!==-1?_n.splice(hn,1,{notice:En,holderCallback:Ve}):(vn&&Ne.value.length>=vn&&(En.key=_n[0].notice.key,En.updateMark=getUuid$1(),En.userPassKey=qe,_n.shift()),_n.push({notice:En,holderCallback:Ve})),Ne.value=_n},$e=ze=>{Ne.value=Ne.value.filter(Ve=>{let{notice:{key:qe,userPassKey:En}}=Ve;return(En||qe)!==ze})};return Ce({add:Ue,remove:$e,notices:Ne}),()=>{var ze;const{prefixCls:Ve,closeIcon:qe=(ze=Ie.closeIcon)===null||ze===void 0?void 0:ze.call(Ie,{prefixCls:Ve})}=xe,En=Ne.value.map((hn,_n)=>{let{notice:bn,holderCallback:An}=hn;const xn=_n===Ne.value.length-1?bn.updateMark:void 0,{key:Sn,userPassKey:Cn}=bn,{content:Tn}=bn,wn=_extends$1(_extends$1(_extends$1({prefixCls:Ve,closeIcon:typeof qe=="function"?qe({prefixCls:Ve}):qe},bn),bn.props),{key:Sn,noticeKey:Cn||Sn,updateMark:xn,onClose:Ln=>{var Pn;$e(Ln),(Pn=bn.onClose)===null||Pn===void 0||Pn.call(bn)},onClick:bn.onClick});return An?createVNode("div",{key:Sn,class:"".concat(Ve,"-hook-holder"),ref:Ln=>{typeof Sn>"u"||(Ln?(Oe.set(Sn,Ln),An(Ln,wn)):Oe.delete(Sn))}},null):createVNode(Notice,_objectSpread2$1(_objectSpread2$1({},wn),{},{class:classNames(wn.class,xe.hashId)}),{default:()=>[typeof Tn=="function"?Tn({prefixCls:Ve}):Tn]})}),vn={[Ve]:1,[_e.class]:!!_e.class,[xe.hashId]:!0};return createVNode("div",{class:vn,style:_e.style||{top:"65px",left:"50%"}},[createVNode(TransitionGroup,_objectSpread2$1({tag:"div"},Fe.value),{default:()=>[En]})])}}});Notification$1.newInstance=function(pe,_e){const Ce=pe||{},{name:Ie="notification",getContainer:Oe,appContext:Ne,prefixCls:Fe,rootPrefixCls:Ue,transitionName:$e,hasTransitionName:ze,useStyle:Ve}=Ce,qe=__rest$4(Ce,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),En=document.createElement("div");Oe?Oe().appendChild(En):document.body.appendChild(En);const hn=createVNode(defineComponent({compatConfig:{MODE:3},name:"NotificationWrapper",setup(_n,bn){let{attrs:An}=bn;const xn=shallowRef(),Sn=computed(()=>globalConfigForApi.getPrefixCls(Ie,Fe)),[,Cn]=Ve(Sn);return onMounted(()=>{_e({notice(Tn){var wn;(wn=xn.value)===null||wn===void 0||wn.add(Tn)},removeNotice(Tn){var wn;(wn=xn.value)===null||wn===void 0||wn.remove(Tn)},destroy(){render(null,En),En.parentNode&&En.parentNode.removeChild(En)},component:xn})}),()=>{const Tn=globalConfigForApi,wn=Tn.getRootPrefixCls(Ue,Sn.value),Ln=ze?$e:"".concat(Sn.value,"-").concat($e);return createVNode(__unplugin_components_1,_objectSpread2$1(_objectSpread2$1({},Tn),{},{prefixCls:wn}),{default:()=>[createVNode(Notification$1,_objectSpread2$1(_objectSpread2$1({ref:xn},An),{},{prefixCls:Sn.value,transitionName:Ln,hashId:Cn.value}),null)]})}}}),qe);hn.appContext=Ne||hn.appContext,render(hn,En)};const Notification$2=Notification$1;let seed=0;const now$1=Date.now();function getUuid(){const xe=seed;return seed+=1,"rcNotification_".concat(now$1,"_").concat(xe)}const Notification=defineComponent({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(xe,pe){let{attrs:_e,slots:Ce}=pe;const Ie=new Map,Oe=computed(()=>xe.notices),Ne=computed(()=>{let ze=xe.transitionName;if(!ze&&xe.animation)switch(typeof xe.animation){case"string":ze=xe.animation;break;case"function":ze=xe.animation().name;break;case"object":ze=xe.animation.name;break;default:ze="".concat(xe.prefixCls,"-fade");break}return getTransitionGroupProps(ze)}),Fe=ze=>xe.remove(ze),Ue=ref({});watch(Oe,()=>{const ze={};Object.keys(Ue.value).forEach(Ve=>{ze[Ve]=[]}),xe.notices.forEach(Ve=>{const{placement:qe="topRight"}=Ve.notice;qe&&(ze[qe]=ze[qe]||[],ze[qe].push(Ve))}),Ue.value=ze});const $e=computed(()=>Object.keys(Ue.value));return()=>{var ze;const{prefixCls:Ve,closeIcon:qe=(ze=Ce.closeIcon)===null||ze===void 0?void 0:ze.call(Ce,{prefixCls:Ve})}=xe,En=$e.value.map(vn=>{var hn,_n;const bn=Ue.value[vn],An=(hn=xe.getClassName)===null||hn===void 0?void 0:hn.call(xe,vn),xn=(_n=xe.getStyles)===null||_n===void 0?void 0:_n.call(xe,vn),Sn=bn.map((wn,Ln)=>{let{notice:Pn,holderCallback:kn}=wn;const In=Ln===Oe.value.length-1?Pn.updateMark:void 0,{key:Rn,userPassKey:Nn}=Pn,{content:On}=Pn,Dn=_extends$1(_extends$1(_extends$1({prefixCls:Ve,closeIcon:typeof qe=="function"?qe({prefixCls:Ve}):qe},Pn),Pn.props),{key:Rn,noticeKey:Nn||Rn,updateMark:In,onClose:Mn=>{var Bn;Fe(Mn),(Bn=Pn.onClose)===null||Bn===void 0||Bn.call(Pn)},onClick:Pn.onClick});return kn?createVNode("div",{key:Rn,class:"".concat(Ve,"-hook-holder"),ref:Mn=>{typeof Rn>"u"||(Mn?(Ie.set(Rn,Mn),kn(Mn,Dn)):Ie.delete(Rn))}},null):createVNode(Notice,_objectSpread2$1(_objectSpread2$1({},Dn),{},{class:classNames(Dn.class,xe.hashId)}),{default:()=>[typeof On=="function"?On({prefixCls:Ve}):On]})}),Cn={[Ve]:1,["".concat(Ve,"-").concat(vn)]:1,[_e.class]:!!_e.class,[xe.hashId]:!0,[An]:!!An};function Tn(){var wn;bn.length>0||(Reflect.deleteProperty(Ue.value,vn),(wn=xe.onAllRemoved)===null||wn===void 0||wn.call(xe))}return createVNode("div",{key:vn,class:Cn,style:_e.style||xn||{top:"65px",left:"50%"}},[createVNode(TransitionGroup,_objectSpread2$1(_objectSpread2$1({tag:"div"},Ne.value),{},{onAfterLeave:Tn}),{default:()=>[Sn]})])});return createVNode(Portal,{getContainer:xe.getContainer},{default:()=>[En]})}}}),HookNotification=Notification;var __rest$3=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};const defaultGetContainer$1=()=>document.body;let uniqueKey=0;function mergeConfig$1(){const xe={};for(var pe=arguments.length,_e=new Array(pe),Ce=0;Ce<pe;Ce++)_e[Ce]=arguments[Ce];return _e.forEach(Ie=>{Ie&&Object.keys(Ie).forEach(Oe=>{const Ne=Ie[Oe];Ne!==void 0&&(xe[Oe]=Ne)})}),xe}function useNotification$1(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:pe=defaultGetContainer$1,motion:_e,prefixCls:Ce,maxCount:Ie,getClassName:Oe,getStyles:Ne,onAllRemoved:Fe}=xe,Ue=__rest$3(xe,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),$e=shallowRef([]),ze=shallowRef(),Ve=(bn,An)=>{const xn=bn.key||getUuid(),Sn=_extends$1(_extends$1({},bn),{key:xn}),Cn=$e.value.map(wn=>wn.notice.key).indexOf(xn),Tn=$e.value.concat();Cn!==-1?Tn.splice(Cn,1,{notice:Sn,holderCallback:An}):(Ie&&$e.value.length>=Ie&&(Sn.key=Tn[0].notice.key,Sn.updateMark=getUuid(),Sn.userPassKey=xn,Tn.shift()),Tn.push({notice:Sn,holderCallback:An})),$e.value=Tn},qe=bn=>{$e.value=$e.value.filter(An=>{let{notice:{key:xn,userPassKey:Sn}}=An;return(Sn||xn)!==bn})},En=()=>{$e.value=[]},vn=()=>createVNode(HookNotification,{ref:ze,prefixCls:Ce,maxCount:Ie,notices:$e.value,remove:qe,getClassName:Oe,getStyles:Ne,animation:_e,hashId:xe.hashId,onAllRemoved:Fe,getContainer:pe},null),hn=shallowRef([]),_n={open:bn=>{const An=mergeConfig$1(Ue,bn);(An.key===null||An.key===void 0)&&(An.key="vc-notification-".concat(uniqueKey),uniqueKey+=1),hn.value=[...hn.value,{type:"open",config:An}]},close:bn=>{hn.value=[...hn.value,{type:"close",key:bn}]},destroy:()=>{hn.value=[...hn.value,{type:"destroy"}]}};return watch(hn,()=>{hn.value.length&&(hn.value.forEach(bn=>{switch(bn.type){case"open":Ve(bn.config);break;case"close":qe(bn.key);break;case"destroy":En();break}}),hn.value=[])}),[_n,vn]}const genMessageStyle=xe=>{const{componentCls:pe,iconCls:_e,boxShadowSecondary:Ce,colorBgElevated:Ie,colorSuccess:Oe,colorError:Ne,colorWarning:Fe,colorInfo:Ue,fontSizeLG:$e,motionEaseInOutCirc:ze,motionDurationSlow:Ve,marginXS:qe,paddingXS:En,borderRadiusLG:vn,zIndexPopup:hn,messageNoticeContentPadding:_n}=xe,bn=new Keyframe("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:En,transform:"translateY(0)",opacity:1}}),An=new Keyframe("MessageMoveOut",{"0%":{maxHeight:xe.height,padding:En,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[pe]:_extends$1(_extends$1({},resetComponent(xe)),{position:"fixed",top:qe,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:hn,["".concat(pe,"-move-up")]:{animationFillMode:"forwards"},["\n        ".concat(pe,"-move-up-appear,\n        ").concat(pe,"-move-up-enter\n      ")]:{animationName:bn,animationDuration:Ve,animationPlayState:"paused",animationTimingFunction:ze},["\n        ".concat(pe,"-move-up-appear").concat(pe,"-move-up-appear-active,\n        ").concat(pe,"-move-up-enter").concat(pe,"-move-up-enter-active\n      ")]:{animationPlayState:"running"},["".concat(pe,"-move-up-leave")]:{animationName:An,animationDuration:Ve,animationPlayState:"paused",animationTimingFunction:ze},["".concat(pe,"-move-up-leave").concat(pe,"-move-up-leave-active")]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{["".concat(pe,"-notice")]:{padding:En,textAlign:"center",[_e]:{verticalAlign:"text-bottom",marginInlineEnd:qe,fontSize:$e},["".concat(pe,"-notice-content")]:{display:"inline-block",padding:_n,background:Ie,borderRadius:vn,boxShadow:Ce,pointerEvents:"all"},["".concat(pe,"-success ").concat(_e)]:{color:Oe},["".concat(pe,"-error ").concat(_e)]:{color:Ne},["".concat(pe,"-warning ").concat(_e)]:{color:Fe},["\n        ".concat(pe,"-info ").concat(_e,",\n        ").concat(pe,"-loading ").concat(_e)]:{color:Ue}}},{["".concat(pe,"-notice-pure-panel")]:{padding:0,textAlign:"start"}}]},useStyle$2=genComponentStyleHook("Message",xe=>{const pe=merge(xe,{messageNoticeContentPadding:"".concat((xe.controlHeightLG-xe.fontSize*xe.lineHeight)/2,"px ").concat(xe.paddingSM,"px")});return[genMessageStyle(pe)]},xe=>({height:150,zIndexPopup:xe.zIndexPopupBase+10})),TypeIcon={info:createVNode(InfoCircleFilled$1,null,null),success:createVNode(CheckCircleFilled$1,null,null),error:createVNode(CloseCircleFilled$1,null,null),warning:createVNode(ExclamationCircleFilled$1,null,null),loading:createVNode(LoadingOutlined$1,null,null)},PureContent$1=defineComponent({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(xe,pe){let{slots:_e}=pe;return()=>{var Ce;return createVNode("div",{class:classNames("".concat(xe.prefixCls,"-custom-content"),"".concat(xe.prefixCls,"-").concat(xe.type))},[xe.icon||TypeIcon[xe.type],createVNode("span",null,[(Ce=_e.default)===null||Ce===void 0?void 0:Ce.call(_e)])])}}});var __rest$2=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};const DEFAULT_OFFSET$1=8,DEFAULT_DURATION$1=3,Holder$1=defineComponent({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved"],setup(xe,pe){let{expose:_e}=pe;var Ce,Ie;const{getPrefixCls:Oe,getPopupContainer:Ne}=useConfigInject("message",xe),Fe=computed(()=>Oe("message",xe.prefixCls)),[,Ue]=useStyle$2(Fe),$e=()=>{var hn;const _n=(hn=xe.top)!==null&&hn!==void 0?hn:DEFAULT_OFFSET$1;return{left:"50%",transform:"translateX(-50%)",top:typeof _n=="number"?"".concat(_n,"px"):_n}},ze=()=>classNames(Ue.value,xe.rtl?"".concat(Fe.value,"-rtl"):""),Ve=()=>{var hn;return getMotion$1({prefixCls:Fe.value,animation:(hn=xe.animation)!==null&&hn!==void 0?hn:"move-up",transitionName:xe.transitionName})},qe=createVNode("span",{class:"".concat(Fe.value,"-close-x")},[createVNode(CloseOutlined$1,{class:"".concat(Fe.value,"-close-icon")},null)]),[En,vn]=useNotification$1({getStyles:$e,prefixCls:Fe.value,getClassName:ze,motion:Ve,closable:!1,closeIcon:qe,duration:(Ce=xe.duration)!==null&&Ce!==void 0?Ce:DEFAULT_DURATION$1,getContainer:(Ie=xe.staticGetContainer)!==null&&Ie!==void 0?Ie:Ne.value,maxCount:xe.maxCount,onAllRemoved:xe.onAllRemoved});return _e(_extends$1(_extends$1({},En),{prefixCls:Fe,hashId:Ue})),vn}});let keyIndex=0;function useInternalMessage(xe){const pe=shallowRef(null),_e=Symbol("messageHolderKey"),Ce=Ue=>{var $e;($e=pe.value)===null||$e===void 0||$e.close(Ue)},Ie=Ue=>{if(!pe.value){const Cn=()=>{};return Cn.then=()=>{},Cn}const{open:$e,prefixCls:ze,hashId:Ve}=pe.value,qe="".concat(ze,"-notice"),{content:En,icon:vn,type:hn,key:_n,class:bn,onClose:An}=Ue,xn=__rest$2(Ue,["content","icon","type","key","class","onClose"]);let Sn=_n;return Sn==null&&(keyIndex+=1,Sn="antd-message-".concat(keyIndex)),wrapPromiseFn(Cn=>($e(_extends$1(_extends$1({},xn),{key:Sn,content:()=>createVNode(PureContent$1,{prefixCls:ze,type:hn,icon:typeof vn=="function"?vn():vn},{default:()=>[typeof En=="function"?En():En]}),placement:"top",class:classNames(hn&&"".concat(qe,"-").concat(hn),Ve,bn),onClose:()=>{An==null||An(),Cn()}})),()=>{Ce(Sn)}))},Ne={open:Ie,destroy:Ue=>{var $e;Ue!==void 0?Ce(Ue):($e=pe.value)===null||$e===void 0||$e.destroy()}};return["info","success","warning","error","loading"].forEach(Ue=>{const $e=(ze,Ve,qe)=>{let En;ze&&typeof ze=="object"&&"content"in ze?En=ze:En={content:ze};let vn,hn;typeof Ve=="function"?hn=Ve:(vn=Ve,hn=qe);const _n=_extends$1(_extends$1({onClose:hn,duration:vn},En),{type:Ue});return Ie(_n)};Ne[Ue]=$e}),[Ne,()=>createVNode(Holder$1,_objectSpread2$1(_objectSpread2$1({key:_e},xe),{},{ref:pe}),null)]}function useMessage(xe){return useInternalMessage(xe)}let defaultDuration$1=3,defaultTop$1,messageInstance,key=1,localPrefixCls="",transitionName="move-up",hasTransitionName=!1,getContainer=()=>document.body,maxCount$1,rtl$1=!1;function getKeyThenIncreaseKey(){return key++}function setMessageConfig(xe){xe.top!==void 0&&(defaultTop$1=xe.top,messageInstance=null),xe.duration!==void 0&&(defaultDuration$1=xe.duration),xe.prefixCls!==void 0&&(localPrefixCls=xe.prefixCls),xe.getContainer!==void 0&&(getContainer=xe.getContainer,messageInstance=null),xe.transitionName!==void 0&&(transitionName=xe.transitionName,messageInstance=null,hasTransitionName=!0),xe.maxCount!==void 0&&(maxCount$1=xe.maxCount,messageInstance=null),xe.rtl!==void 0&&(rtl$1=xe.rtl)}function getMessageInstance(xe,pe){if(messageInstance){pe(messageInstance);return}Notification$2.newInstance({appContext:xe.appContext,prefixCls:xe.prefixCls||localPrefixCls,rootPrefixCls:xe.rootPrefixCls,transitionName,hasTransitionName,style:{top:defaultTop$1},getContainer:getContainer||xe.getPopupContainer,maxCount:maxCount$1,name:"message",useStyle:useStyle$2},_e=>{if(messageInstance){pe(messageInstance);return}messageInstance=_e,pe(_e)})}const typeToIcon$2={info:InfoCircleFilled$1,success:CheckCircleFilled$1,error:CloseCircleFilled$1,warning:ExclamationCircleFilled$1,loading:LoadingOutlined$1},typeList=Object.keys(typeToIcon$2);function notice$1(xe){const pe=xe.duration!==void 0?xe.duration:defaultDuration$1,_e=xe.key||getKeyThenIncreaseKey(),Ce=new Promise(Oe=>{const Ne=()=>(typeof xe.onClose=="function"&&xe.onClose(),Oe(!0));getMessageInstance(xe,Fe=>{Fe.notice({key:_e,duration:pe,style:xe.style||{},class:xe.class,content:Ue=>{let{prefixCls:$e}=Ue;const ze=typeToIcon$2[xe.type],Ve=ze?createVNode(ze,null,null):"",qe=classNames("".concat($e,"-custom-content"),{["".concat($e,"-").concat(xe.type)]:xe.type,["".concat($e,"-rtl")]:rtl$1===!0});return createVNode("div",{class:qe},[typeof xe.icon=="function"?xe.icon():xe.icon||Ve,createVNode("span",null,[typeof xe.content=="function"?xe.content():xe.content])])},onClose:Ne,onClick:xe.onClick})})}),Ie=()=>{messageInstance&&messageInstance.removeNotice(_e)};return Ie.then=(Oe,Ne)=>Ce.then(Oe,Ne),Ie.promise=Ce,Ie}function isArgsProps(xe){return Object.prototype.toString.call(xe)==="[object Object]"&&!!xe.content}const api$2={open:notice$1,config:setMessageConfig,destroy(xe){if(messageInstance)if(xe){const{removeNotice:pe}=messageInstance;pe(xe)}else{const{destroy:pe}=messageInstance;pe(),messageInstance=null}}};function attachTypeApi(xe,pe){xe[pe]=(_e,Ce,Ie)=>isArgsProps(_e)?xe.open(_extends$1(_extends$1({},_e),{type:pe})):(typeof Ce=="function"&&(Ie=Ce,Ce=void 0),xe.open({content:_e,duration:Ce,type:pe,onClose:Ie}))}typeList.forEach(xe=>attachTypeApi(api$2,xe));api$2.warn=api$2.warning;api$2.useMessage=useMessage;const message=api$2,genNotificationPlacementStyle=xe=>{const{componentCls:pe,width:_e,notificationMarginEdge:Ce}=xe,Ie=new Keyframe("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),Oe=new Keyframe("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),Ne=new Keyframe("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:_e},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{["&".concat(pe,"-top, &").concat(pe,"-bottom")]:{marginInline:0},["&".concat(pe,"-top")]:{["".concat(pe,"-fade-enter").concat(pe,"-fade-enter-active, ").concat(pe,"-fade-appear").concat(pe,"-fade-appear-active")]:{animationName:Ie}},["&".concat(pe,"-bottom")]:{["".concat(pe,"-fade-enter").concat(pe,"-fade-enter-active, ").concat(pe,"-fade-appear").concat(pe,"-fade-appear-active")]:{animationName:Oe}},["&".concat(pe,"-topLeft, &").concat(pe,"-bottomLeft")]:{marginInlineEnd:0,marginInlineStart:Ce,["".concat(pe,"-fade-enter").concat(pe,"-fade-enter-active, ").concat(pe,"-fade-appear").concat(pe,"-fade-appear-active")]:{animationName:Ne}}}},genNotificationStyle=xe=>{const{iconCls:pe,componentCls:_e,boxShadowSecondary:Ce,fontSizeLG:Ie,notificationMarginBottom:Oe,borderRadiusLG:Ne,colorSuccess:Fe,colorInfo:Ue,colorWarning:$e,colorError:ze,colorTextHeading:Ve,notificationBg:qe,notificationPadding:En,notificationMarginEdge:vn,motionDurationMid:hn,motionEaseInOut:_n,fontSize:bn,lineHeight:An,width:xn,notificationIconSize:Sn}=xe,Cn="".concat(_e,"-notice"),Tn=new Keyframe("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:xn},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),wn=new Keyframe("antNotificationFadeOut",{"0%":{maxHeight:xe.animationMaxHeight,marginBottom:Oe,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[_e]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(xe)),{position:"fixed",zIndex:xe.zIndexPopup,marginInlineEnd:vn,["".concat(_e,"-hook-holder")]:{position:"relative"},["&".concat(_e,"-top, &").concat(_e,"-bottom")]:{["".concat(_e,"-notice")]:{marginInline:"auto auto"}},["&".concat(_e,"-topLeft, &").concat(_e,"-bottomLeft")]:{["".concat(_e,"-notice")]:{marginInlineEnd:"auto",marginInlineStart:0}},["".concat(_e,"-fade-enter, ").concat(_e,"-fade-appear")]:{animationDuration:xe.motionDurationMid,animationTimingFunction:_n,animationFillMode:"both",opacity:0,animationPlayState:"paused"},["".concat(_e,"-fade-leave")]:{animationTimingFunction:_n,animationFillMode:"both",animationDuration:hn,animationPlayState:"paused"},["".concat(_e,"-fade-enter").concat(_e,"-fade-enter-active, ").concat(_e,"-fade-appear").concat(_e,"-fade-appear-active")]:{animationName:Tn,animationPlayState:"running"},["".concat(_e,"-fade-leave").concat(_e,"-fade-leave-active")]:{animationName:wn,animationPlayState:"running"}}),genNotificationPlacementStyle(xe)),{"&-rtl":{direction:"rtl",["".concat(_e,"-notice-btn")]:{float:"left"}}})},{[Cn]:{position:"relative",width:xn,maxWidth:"calc(100vw - ".concat(vn*2,"px)"),marginBottom:Oe,marginInlineStart:"auto",padding:En,overflow:"hidden",lineHeight:An,wordWrap:"break-word",background:qe,borderRadius:Ne,boxShadow:Ce,["".concat(_e,"-close-icon")]:{fontSize:bn,cursor:"pointer"},["".concat(Cn,"-message")]:{marginBottom:xe.marginXS,color:Ve,fontSize:Ie,lineHeight:xe.lineHeightLG},["".concat(Cn,"-description")]:{fontSize:bn},["&".concat(Cn,"-closable ").concat(Cn,"-message")]:{paddingInlineEnd:xe.paddingLG},["".concat(Cn,"-with-icon ").concat(Cn,"-message")]:{marginBottom:xe.marginXS,marginInlineStart:xe.marginSM+Sn,fontSize:Ie},["".concat(Cn,"-with-icon ").concat(Cn,"-description")]:{marginInlineStart:xe.marginSM+Sn,fontSize:bn},["".concat(Cn,"-icon")]:{position:"absolute",fontSize:Sn,lineHeight:0,["&-success".concat(pe)]:{color:Fe},["&-info".concat(pe)]:{color:Ue},["&-warning".concat(pe)]:{color:$e},["&-error".concat(pe)]:{color:ze}},["".concat(Cn,"-close")]:{position:"absolute",top:xe.notificationPaddingVertical,insetInlineEnd:xe.notificationPaddingHorizontal,color:xe.colorIcon,outline:"none",width:xe.notificationCloseButtonSize,height:xe.notificationCloseButtonSize,borderRadius:xe.borderRadiusSM,transition:"background-color ".concat(xe.motionDurationMid,", color ").concat(xe.motionDurationMid),display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:xe.colorIconHover,backgroundColor:xe.wireframe?"transparent":xe.colorFillContent}},["".concat(Cn,"-btn")]:{float:"right",marginTop:xe.marginSM}}},{["".concat(Cn,"-pure-panel")]:{margin:0}}]},useStyle$1=genComponentStyleHook("Notification",xe=>{const pe=xe.paddingMD,_e=xe.paddingLG,Ce=merge(xe,{notificationBg:xe.colorBgElevated,notificationPaddingVertical:pe,notificationPaddingHorizontal:_e,notificationPadding:"".concat(xe.paddingMD,"px ").concat(xe.paddingContentHorizontalLG,"px"),notificationMarginBottom:xe.margin,notificationMarginEdge:xe.marginLG,animationMaxHeight:150,notificationIconSize:xe.fontSizeLG*xe.lineHeightLG,notificationCloseButtonSize:xe.controlHeightLG*.55});return[genNotificationStyle(Ce)]},xe=>({zIndexPopup:xe.zIndexPopupBase+50,width:384}));function getCloseIcon(xe,pe){return pe||createVNode("span",{class:"".concat(xe,"-close-x")},[createVNode(CloseOutlined$1,{class:"".concat(xe,"-close-icon")},null)])}createVNode(InfoCircleFilled$1,null,null),createVNode(CheckCircleFilled$1,null,null),createVNode(CloseCircleFilled$1,null,null),createVNode(ExclamationCircleFilled$1,null,null),createVNode(LoadingOutlined$1,null,null);const typeToIcon$1={success:CheckCircleFilled$1,info:InfoCircleFilled$1,error:CloseCircleFilled$1,warning:ExclamationCircleFilled$1};function PureContent(xe){let{prefixCls:pe,icon:_e,type:Ce,message:Ie,description:Oe,btn:Ne}=xe,Fe=null;if(_e)Fe=createVNode("span",{class:"".concat(pe,"-icon")},[renderHelper(_e)]);else if(Ce){const Ue=typeToIcon$1[Ce];Fe=createVNode(Ue,{class:"".concat(pe,"-icon ").concat(pe,"-icon-").concat(Ce)},null)}return createVNode("div",{class:classNames({["".concat(pe,"-with-icon")]:Fe}),role:"alert"},[Fe,createVNode("div",{class:"".concat(pe,"-message")},[Ie]),createVNode("div",{class:"".concat(pe,"-description")},[Oe]),Ne&&createVNode("div",{class:"".concat(pe,"-btn")},[Ne])])}function getPlacementStyle(xe,pe,_e){let Ce;switch(pe=typeof pe=="number"?"".concat(pe,"px"):pe,_e=typeof _e=="number"?"".concat(_e,"px"):_e,xe){case"top":Ce={left:"50%",transform:"translateX(-50%)",right:"auto",top:pe,bottom:"auto"};break;case"topLeft":Ce={left:0,top:pe,bottom:"auto"};break;case"topRight":Ce={right:0,top:pe,bottom:"auto"};break;case"bottom":Ce={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:_e};break;case"bottomLeft":Ce={left:0,top:"auto",bottom:_e};break;default:Ce={right:0,top:"auto",bottom:_e};break}return Ce}function getMotion(xe){return{name:"".concat(xe,"-fade")}}var __rest$1=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};const DEFAULT_OFFSET=24,DEFAULT_DURATION=4.5,Holder=defineComponent({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(xe,pe){let{expose:_e}=pe;const{getPrefixCls:Ce,getPopupContainer:Ie}=useConfigInject("notification",xe),Oe=computed(()=>xe.prefixCls||Ce("notification")),Ne=qe=>{var En,vn;return getPlacementStyle(qe,(En=xe.top)!==null&&En!==void 0?En:DEFAULT_OFFSET,(vn=xe.bottom)!==null&&vn!==void 0?vn:DEFAULT_OFFSET)},[,Fe]=useStyle$1(Oe),Ue=()=>classNames(Fe.value,{["".concat(Oe.value,"-rtl")]:xe.rtl}),$e=()=>getMotion(Oe.value),[ze,Ve]=useNotification$1({prefixCls:Oe.value,getStyles:Ne,getClassName:Ue,motion:$e,closable:!0,closeIcon:getCloseIcon(Oe.value),duration:DEFAULT_DURATION,getContainer:()=>{var qe,En;return((qe=xe.getPopupContainer)===null||qe===void 0?void 0:qe.call(xe))||((En=Ie.value)===null||En===void 0?void 0:En.call(Ie))||document.body},maxCount:xe.maxCount,hashId:Fe.value,onAllRemoved:xe.onAllRemoved});return _e(_extends$1(_extends$1({},ze),{prefixCls:Oe.value,hashId:Fe})),Ve}});function useInternalNotification(xe){const pe=shallowRef(null),_e=Symbol("notificationHolderKey"),Ce=Fe=>{if(!pe.value)return;const{open:Ue,prefixCls:$e,hashId:ze}=pe.value,Ve="".concat($e,"-notice"),{message:qe,description:En,icon:vn,type:hn,btn:_n,class:bn}=Fe,An=__rest$1(Fe,["message","description","icon","type","btn","class"]);return Ue(_extends$1(_extends$1({placement:"topRight"},An),{content:()=>createVNode(PureContent,{prefixCls:Ve,icon:typeof vn=="function"?vn():vn,type:hn,message:typeof qe=="function"?qe():qe,description:typeof En=="function"?En():En,btn:typeof _n=="function"?_n():_n},null),class:classNames(hn&&"".concat(Ve,"-").concat(hn),ze,bn)}))},Oe={open:Ce,destroy:Fe=>{var Ue,$e;Fe!==void 0?(Ue=pe.value)===null||Ue===void 0||Ue.close(Fe):($e=pe.value)===null||$e===void 0||$e.destroy()}};return["success","info","warning","error"].forEach(Fe=>{Oe[Fe]=Ue=>Ce(_extends$1(_extends$1({},Ue),{type:Fe}))}),[Oe,()=>createVNode(Holder,_objectSpread2$1(_objectSpread2$1({key:_e},xe),{},{ref:pe}),null)]}function useNotification(xe){return useInternalNotification(xe)}const notificationInstance={};let defaultDuration=4.5,defaultTop="24px",defaultBottom="24px",defaultPrefixCls$1="",defaultPlacement="topRight",defaultGetContainer=()=>document.body,defaultCloseIcon=null,rtl=!1,maxCount;function setNotificationConfig(xe){const{duration:pe,placement:_e,bottom:Ce,top:Ie,getContainer:Oe,closeIcon:Ne,prefixCls:Fe}=xe;Fe!==void 0&&(defaultPrefixCls$1=Fe),pe!==void 0&&(defaultDuration=pe),_e!==void 0&&(defaultPlacement=_e),Ce!==void 0&&(defaultBottom=typeof Ce=="number"?"".concat(Ce,"px"):Ce),Ie!==void 0&&(defaultTop=typeof Ie=="number"?"".concat(Ie,"px"):Ie),Oe!==void 0&&(defaultGetContainer=Oe),Ne!==void 0&&(defaultCloseIcon=Ne),xe.rtl!==void 0&&(rtl=xe.rtl),xe.maxCount!==void 0&&(maxCount=xe.maxCount)}function getNotificationInstance(xe,pe){let{prefixCls:_e,placement:Ce=defaultPlacement,getContainer:Ie=defaultGetContainer,top:Oe,bottom:Ne,closeIcon:Fe=defaultCloseIcon,appContext:Ue}=xe;const{getPrefixCls:$e}=globalConfig(),ze=$e("notification",_e||defaultPrefixCls$1),Ve="".concat(ze,"-").concat(Ce,"-").concat(rtl),qe=notificationInstance[Ve];if(qe){Promise.resolve(qe).then(vn=>{pe(vn)});return}const En=classNames("".concat(ze,"-").concat(Ce),{["".concat(ze,"-rtl")]:rtl===!0});Notification$2.newInstance({name:"notification",prefixCls:_e||defaultPrefixCls$1,useStyle:useStyle$1,class:En,style:getPlacementStyle(Ce,Oe!=null?Oe:defaultTop,Ne!=null?Ne:defaultBottom),appContext:Ue,getContainer:Ie,closeIcon:vn=>{let{prefixCls:hn}=vn;return createVNode("span",{class:"".concat(hn,"-close-x")},[renderHelper(Fe,{},createVNode(CloseOutlined$1,{class:"".concat(hn,"-close-icon")},null))])},maxCount,hasTransitionName:!0},vn=>{notificationInstance[Ve]=vn,pe(vn)})}const typeToIcon={success:CheckCircleOutlined$1,info:InfoCircleOutlined$1,error:CloseCircleOutlined$1,warning:ExclamationCircleOutlined$1};function notice(xe){const{icon:pe,type:_e,description:Ce,message:Ie,btn:Oe}=xe,Ne=xe.duration===void 0?defaultDuration:xe.duration;getNotificationInstance(xe,Fe=>{Fe.notice({content:Ue=>{let{prefixCls:$e}=Ue;const ze="".concat($e,"-notice");let Ve=null;if(pe)Ve=()=>createVNode("span",{class:"".concat(ze,"-icon")},[renderHelper(pe)]);else if(_e){const qe=typeToIcon[_e];Ve=()=>createVNode(qe,{class:"".concat(ze,"-icon ").concat(ze,"-icon-").concat(_e)},null)}return createVNode("div",{class:Ve?"".concat(ze,"-with-icon"):""},[Ve&&Ve(),createVNode("div",{class:"".concat(ze,"-message")},[!Ce&&Ve?createVNode("span",{class:"".concat(ze,"-message-single-line-auto-margin")},null):null,renderHelper(Ie)]),createVNode("div",{class:"".concat(ze,"-description")},[renderHelper(Ce)]),Oe?createVNode("span",{class:"".concat(ze,"-btn")},[renderHelper(Oe)]):null])},duration:Ne,closable:!0,onClose:xe.onClose,onClick:xe.onClick,key:xe.key,style:xe.style||{},class:xe.class})})}const api$1={open:notice,close(xe){Object.keys(notificationInstance).forEach(pe=>Promise.resolve(notificationInstance[pe]).then(_e=>{_e.removeNotice(xe)}))},config:setNotificationConfig,destroy(){Object.keys(notificationInstance).forEach(xe=>{Promise.resolve(notificationInstance[xe]).then(pe=>{pe.destroy()}),delete notificationInstance[xe]})}},iconTypes=["success","info","warning","error"];iconTypes.forEach(xe=>{api$1[xe]=pe=>api$1.open(_extends$1(_extends$1({},pe),{type:xe}))});api$1.warn=api$1.warning;api$1.useNotification=useNotification;const notification=api$1,dynamicStyleMark="-ant-".concat(Date.now(),"-").concat(Math.random());function getStyle(xe,pe){const _e={},Ce=(Ne,Fe)=>{let Ue=Ne.clone();return Ue=(Fe==null?void 0:Fe(Ue))||Ue,Ue.toRgbString()},Ie=(Ne,Fe)=>{const Ue=new TinyColor(Ne),$e=generate$1(Ue.toRgbString());_e["".concat(Fe,"-color")]=Ce(Ue),_e["".concat(Fe,"-color-disabled")]=$e[1],_e["".concat(Fe,"-color-hover")]=$e[4],_e["".concat(Fe,"-color-active")]=$e[6],_e["".concat(Fe,"-color-outline")]=Ue.clone().setAlpha(.2).toRgbString(),_e["".concat(Fe,"-color-deprecated-bg")]=$e[0],_e["".concat(Fe,"-color-deprecated-border")]=$e[2]};if(pe.primaryColor){Ie(pe.primaryColor,"primary");const Ne=new TinyColor(pe.primaryColor),Fe=generate$1(Ne.toRgbString());Fe.forEach(($e,ze)=>{_e["primary-".concat(ze+1)]=$e}),_e["primary-color-deprecated-l-35"]=Ce(Ne,$e=>$e.lighten(35)),_e["primary-color-deprecated-l-20"]=Ce(Ne,$e=>$e.lighten(20)),_e["primary-color-deprecated-t-20"]=Ce(Ne,$e=>$e.tint(20)),_e["primary-color-deprecated-t-50"]=Ce(Ne,$e=>$e.tint(50)),_e["primary-color-deprecated-f-12"]=Ce(Ne,$e=>$e.setAlpha($e.getAlpha()*.12));const Ue=new TinyColor(Fe[0]);_e["primary-color-active-deprecated-f-30"]=Ce(Ue,$e=>$e.setAlpha($e.getAlpha()*.3)),_e["primary-color-active-deprecated-d-02"]=Ce(Ue,$e=>$e.darken(2))}pe.successColor&&Ie(pe.successColor,"success"),pe.warningColor&&Ie(pe.warningColor,"warning"),pe.errorColor&&Ie(pe.errorColor,"error"),pe.infoColor&&Ie(pe.infoColor,"info");const Oe=Object.keys(_e).map(Ne=>"--".concat(xe,"-").concat(Ne,": ").concat(_e[Ne],";"));return"\n  :root {\n    ".concat(Oe.join("\n"),"\n  }\n  ").trim()}function registerTheme(xe,pe){const _e=getStyle(xe,pe);canUseDom$1()&&updateCSS$1(_e,"".concat(dynamicStyleMark,"-dynamic-theme"))}const useStyle=xe=>{const[pe,_e]=useToken();return useStyleRegister(computed(()=>({theme:pe.value,token:_e.value,hashId:"",path:["ant-design-icons",xe.value]})),()=>[{[".".concat(xe.value)]:_extends$1(_extends$1({},resetIcon()),{[".".concat(xe.value," .").concat(xe.value,"-icon")]:{display:"block"}})}])};function useTheme(xe,pe){const _e=computed(()=>(xe==null?void 0:xe.value)||{}),Ce=computed(()=>_e.value.inherit===!1||!(pe!=null&&pe.value)?defaultConfig:pe.value);return computed(()=>{if(!(xe!=null&&xe.value))return pe==null?void 0:pe.value;const Oe=_extends$1({},Ce.value.components);return Object.keys(xe.value.components||{}).forEach(Ne=>{Oe[Ne]=_extends$1(_extends$1({},Oe[Ne]),xe.value.components[Ne])}),_extends$1(_extends$1(_extends$1({},Ce.value),_e.value),{token:_extends$1(_extends$1({},Ce.value.token),_e.value.token),components:Oe})})}var __rest=function(xe,pe){var _e={};for(var Ce in xe)Object.prototype.hasOwnProperty.call(xe,Ce)&&pe.indexOf(Ce)<0&&(_e[Ce]=xe[Ce]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,Ce=Object.getOwnPropertySymbols(xe);Ie<Ce.length;Ie++)pe.indexOf(Ce[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ce[Ie])&&(_e[Ce[Ie]]=xe[Ce[Ie]]);return _e};const defaultPrefixCls="ant";function getGlobalPrefixCls(){return globalConfigForApi.prefixCls||defaultPrefixCls}function getGlobalIconPrefixCls(){return globalConfigForApi.iconPrefixCls||defaultIconPrefixCls}const globalConfigBySet=reactive({}),globalConfigForApi=reactive({});watchEffect(()=>{_extends$1(globalConfigForApi,globalConfigBySet),globalConfigForApi.prefixCls=getGlobalPrefixCls(),globalConfigForApi.iconPrefixCls=getGlobalIconPrefixCls(),globalConfigForApi.getPrefixCls=(xe,pe)=>pe||(xe?"".concat(globalConfigForApi.prefixCls,"-").concat(xe):globalConfigForApi.prefixCls),globalConfigForApi.getRootPrefixCls=()=>globalConfigForApi.prefixCls?globalConfigForApi.prefixCls:getGlobalPrefixCls()});let stopWatchEffect;const setGlobalConfig=xe=>{stopWatchEffect&&stopWatchEffect(),stopWatchEffect=watchEffect(()=>{_extends$1(globalConfigBySet,reactive(xe)),_extends$1(globalConfigForApi,reactive(xe))}),xe.theme&&registerTheme(getGlobalPrefixCls(),xe.theme)},globalConfig=()=>({getPrefixCls:(xe,pe)=>pe||(xe?"".concat(getGlobalPrefixCls(),"-").concat(xe):getGlobalPrefixCls()),getIconPrefixCls:getGlobalIconPrefixCls,getRootPrefixCls:()=>globalConfigForApi.prefixCls?globalConfigForApi.prefixCls:getGlobalPrefixCls()}),ConfigProvider=defineComponent({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:configProviderProps(),setup(xe,pe){let{slots:_e}=pe;const Ce=useConfigContextInject(),Ie=(Dn,Mn)=>{const{prefixCls:Bn="ant"}=xe;if(Mn)return Mn;const $n=Bn||Ce.getPrefixCls("");return Dn?"".concat($n,"-").concat(Dn):$n},Oe=computed(()=>xe.iconPrefixCls||Ce.iconPrefixCls.value||defaultIconPrefixCls),Ne=computed(()=>Oe.value!==Ce.iconPrefixCls.value),Fe=computed(()=>{var Dn;return xe.csp||((Dn=Ce.csp)===null||Dn===void 0?void 0:Dn.value)}),Ue=useStyle(Oe),$e=useTheme(computed(()=>xe.theme),computed(()=>{var Dn;return(Dn=Ce.theme)===null||Dn===void 0?void 0:Dn.value})),ze=Dn=>(xe.renderEmpty||_e.renderEmpty||Ce.renderEmpty||renderEmpty)(Dn),Ve=computed(()=>{var Dn,Mn;return(Dn=xe.autoInsertSpaceInButton)!==null&&Dn!==void 0?Dn:(Mn=Ce.autoInsertSpaceInButton)===null||Mn===void 0?void 0:Mn.value}),qe=computed(()=>{var Dn;return xe.locale||((Dn=Ce.locale)===null||Dn===void 0?void 0:Dn.value)});watch(qe,()=>{globalConfigBySet.locale=qe.value},{immediate:!0});const En=computed(()=>{var Dn;return xe.direction||((Dn=Ce.direction)===null||Dn===void 0?void 0:Dn.value)}),vn=computed(()=>{var Dn,Mn;return(Dn=xe.space)!==null&&Dn!==void 0?Dn:(Mn=Ce.space)===null||Mn===void 0?void 0:Mn.value}),hn=computed(()=>{var Dn,Mn;return(Dn=xe.virtual)!==null&&Dn!==void 0?Dn:(Mn=Ce.virtual)===null||Mn===void 0?void 0:Mn.value}),_n=computed(()=>{var Dn,Mn;return(Dn=xe.dropdownMatchSelectWidth)!==null&&Dn!==void 0?Dn:(Mn=Ce.dropdownMatchSelectWidth)===null||Mn===void 0?void 0:Mn.value}),bn=computed(()=>{var Dn;return xe.getTargetContainer!==void 0?xe.getTargetContainer:(Dn=Ce.getTargetContainer)===null||Dn===void 0?void 0:Dn.value}),An=computed(()=>{var Dn;return xe.getPopupContainer!==void 0?xe.getPopupContainer:(Dn=Ce.getPopupContainer)===null||Dn===void 0?void 0:Dn.value}),xn=computed(()=>{var Dn;return xe.pageHeader!==void 0?xe.pageHeader:(Dn=Ce.pageHeader)===null||Dn===void 0?void 0:Dn.value}),Sn=computed(()=>{var Dn;return xe.input!==void 0?xe.input:(Dn=Ce.input)===null||Dn===void 0?void 0:Dn.value}),Cn=computed(()=>{var Dn;return xe.pagination!==void 0?xe.pagination:(Dn=Ce.pagination)===null||Dn===void 0?void 0:Dn.value}),Tn=computed(()=>{var Dn;return xe.form!==void 0?xe.form:(Dn=Ce.form)===null||Dn===void 0?void 0:Dn.value}),wn=computed(()=>{var Dn;return xe.select!==void 0?xe.select:(Dn=Ce.select)===null||Dn===void 0?void 0:Dn.value}),Ln=computed(()=>xe.componentSize),Pn=computed(()=>xe.componentDisabled),kn=computed(()=>{var Dn,Mn;return(Dn=xe.wave)!==null&&Dn!==void 0?Dn:(Mn=Ce.wave)===null||Mn===void 0?void 0:Mn.value}),In={csp:Fe,autoInsertSpaceInButton:Ve,locale:qe,direction:En,space:vn,virtual:hn,dropdownMatchSelectWidth:_n,getPrefixCls:Ie,iconPrefixCls:Oe,theme:computed(()=>{var Dn,Mn;return(Dn=$e.value)!==null&&Dn!==void 0?Dn:(Mn=Ce.theme)===null||Mn===void 0?void 0:Mn.value}),renderEmpty:ze,getTargetContainer:bn,getPopupContainer:An,pageHeader:xn,input:Sn,pagination:Cn,form:Tn,select:wn,componentSize:Ln,componentDisabled:Pn,transformCellText:computed(()=>xe.transformCellText),wave:kn},Rn=computed(()=>{const Dn=$e.value||{},{algorithm:Mn,token:Bn}=Dn,$n=__rest(Dn,["algorithm","token"]),Fn=Mn&&(!Array.isArray(Mn)||Mn.length>0)?createTheme(Mn):void 0;return _extends$1(_extends$1({},$n),{theme:Fn,token:_extends$1(_extends$1({},defaultSeedToken),Bn)})}),Nn=computed(()=>{var Dn,Mn;let Bn={};return qe.value&&(Bn=((Dn=qe.value.Form)===null||Dn===void 0?void 0:Dn.defaultValidateMessages)||((Mn=localeValues$1.Form)===null||Mn===void 0?void 0:Mn.defaultValidateMessages)||{}),xe.form&&xe.form.validateMessages&&(Bn=_extends$1(_extends$1({},Bn),xe.form.validateMessages)),Bn});useConfigContextProvider(In),useProvideGlobalForm({validateMessages:Nn}),useProviderSize(Ln),useProviderDisabled(Pn);const On=Dn=>{var Mn,Bn;let $n=Ne.value?Ue((Mn=_e.default)===null||Mn===void 0?void 0:Mn.call(_e)):(Bn=_e.default)===null||Bn===void 0?void 0:Bn.call(_e);if(xe.theme){const Fn=function(){return $n}();$n=createVNode(DesignTokenProvider,{value:Rn.value},{default:()=>[Fn]})}return createVNode(locale$3,{locale:qe.value||Dn,ANT_MARK__:ANT_MARK},{default:()=>[$n]})};return watchEffect(()=>{En.value&&(message.config({rtl:En.value==="rtl"}),notification.config({rtl:En.value==="rtl"}))}),()=>createVNode(LocaleReceiver,{children:(Dn,Mn,Bn)=>On(Bn)},null)}});ConfigProvider.config=setGlobalConfig;ConfigProvider.install=function(xe){xe.component(ConfigProvider.name,ConfigProvider)};const __unplugin_components_1=ConfigProvider,Pagination={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"};/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=xe=>activePinia=xe,piniaSymbol=Symbol();function isPlainObject(xe){return xe&&typeof xe=="object"&&Object.prototype.toString.call(xe)==="[object Object]"&&typeof xe.toJSON!="function"}var MutationType;(function(xe){xe.direct="direct",xe.patchObject="patch object",xe.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const xe=effectScope(!0),pe=xe.run(()=>ref({}));let _e=[],Ce=[];const Ie=markRaw({install(Oe){setActivePinia(Ie),Ie._a=Oe,Oe.provide(piniaSymbol,Ie),Oe.config.globalProperties.$pinia=Ie,Ce.forEach(Ne=>_e.push(Ne)),Ce=[]},use(Oe){return!this._a&&!isVue2?Ce.push(Oe):_e.push(Oe),this},_p:_e,_a:null,_e:xe,_s:new Map,state:pe});return Ie}const noop$2=()=>{};function addSubscription(xe,pe,_e,Ce=noop$2){xe.push(pe);const Ie=()=>{const Oe=xe.indexOf(pe);Oe>-1&&(xe.splice(Oe,1),Ce())};return!_e&&getCurrentScope()&&onScopeDispose(Ie),Ie}function triggerSubscriptions(xe,...pe){xe.slice().forEach(_e=>{_e(...pe)})}const fallbackRunWithContext=xe=>xe();function mergeReactiveObjects(xe,pe){xe instanceof Map&&pe instanceof Map&&pe.forEach((_e,Ce)=>xe.set(Ce,_e)),xe instanceof Set&&pe instanceof Set&&pe.forEach(xe.add,xe);for(const _e in pe){if(!pe.hasOwnProperty(_e))continue;const Ce=pe[_e],Ie=xe[_e];isPlainObject(Ie)&&isPlainObject(Ce)&&xe.hasOwnProperty(_e)&&!isRef(Ce)&&!isReactive(Ce)?xe[_e]=mergeReactiveObjects(Ie,Ce):xe[_e]=Ce}return xe}const skipHydrateSymbol=Symbol();function shouldHydrate(xe){return!isPlainObject(xe)||!xe.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$2}=Object;function isComputed(xe){return!!(isRef(xe)&&xe.effect)}function createOptionsStore(xe,pe,_e,Ce){const{state:Ie,actions:Oe,getters:Ne}=pe,Fe=_e.state.value[xe];let Ue;function $e(){Fe||(_e.state.value[xe]=Ie?Ie():{});const ze=toRefs(_e.state.value[xe]);return assign$2(ze,Oe,Object.keys(Ne||{}).reduce((Ve,qe)=>(Ve[qe]=markRaw(computed(()=>{setActivePinia(_e);const En=_e._s.get(xe);return Ne[qe].call(En,En)})),Ve),{}))}return Ue=createSetupStore(xe,$e,pe,_e,Ce,!0),Ue}function createSetupStore(xe,pe,_e={},Ce,Ie,Oe){let Ne;const Fe=assign$2({actions:{}},_e),Ue={deep:!0};let $e,ze,Ve=[],qe=[],En;const vn=Ce.state.value[xe];!Oe&&!vn&&(Ce.state.value[xe]={}),ref({});let hn;function _n(Ln){let Pn;$e=ze=!1,typeof Ln=="function"?(Ln(Ce.state.value[xe]),Pn={type:MutationType.patchFunction,storeId:xe,events:En}):(mergeReactiveObjects(Ce.state.value[xe],Ln),Pn={type:MutationType.patchObject,payload:Ln,storeId:xe,events:En});const kn=hn=Symbol();nextTick().then(()=>{hn===kn&&($e=!0)}),ze=!0,triggerSubscriptions(Ve,Pn,Ce.state.value[xe])}const bn=Oe?function(){const{state:Pn}=_e,kn=Pn?Pn():{};this.$patch(In=>{assign$2(In,kn)})}:noop$2;function An(){Ne.stop(),Ve=[],qe=[],Ce._s.delete(xe)}function xn(Ln,Pn){return function(){setActivePinia(Ce);const kn=Array.from(arguments),In=[],Rn=[];function Nn(Mn){In.push(Mn)}function On(Mn){Rn.push(Mn)}triggerSubscriptions(qe,{args:kn,name:Ln,store:Cn,after:Nn,onError:On});let Dn;try{Dn=Pn.apply(this&&this.$id===xe?this:Cn,kn)}catch(Mn){throw triggerSubscriptions(Rn,Mn),Mn}return Dn instanceof Promise?Dn.then(Mn=>(triggerSubscriptions(In,Mn),Mn)).catch(Mn=>(triggerSubscriptions(Rn,Mn),Promise.reject(Mn))):(triggerSubscriptions(In,Dn),Dn)}}const Sn={_p:Ce,$id:xe,$onAction:addSubscription.bind(null,qe),$patch:_n,$reset:bn,$subscribe(Ln,Pn={}){const kn=addSubscription(Ve,Ln,Pn.detached,()=>In()),In=Ne.run(()=>watch(()=>Ce.state.value[xe],Rn=>{(Pn.flush==="sync"?ze:$e)&&Ln({storeId:xe,type:MutationType.direct,events:En},Rn)},assign$2({},Ue,Pn)));return kn},$dispose:An},Cn=reactive(Sn);Ce._s.set(xe,Cn);const wn=(Ce._a&&Ce._a.runWithContext||fallbackRunWithContext)(()=>Ce._e.run(()=>(Ne=effectScope()).run(pe)));for(const Ln in wn){const Pn=wn[Ln];if(isRef(Pn)&&!isComputed(Pn)||isReactive(Pn))Oe||(vn&&shouldHydrate(Pn)&&(isRef(Pn)?Pn.value=vn[Ln]:mergeReactiveObjects(Pn,vn[Ln])),Ce.state.value[xe][Ln]=Pn);else if(typeof Pn=="function"){const kn=xn(Ln,Pn);wn[Ln]=kn,Fe.actions[Ln]=Pn}}return assign$2(Cn,wn),assign$2(toRaw(Cn),wn),Object.defineProperty(Cn,"$state",{get:()=>Ce.state.value[xe],set:Ln=>{_n(Pn=>{assign$2(Pn,Ln)})}}),Ce._p.forEach(Ln=>{assign$2(Cn,Ne.run(()=>Ln({store:Cn,app:Ce._a,pinia:Ce,options:Fe})))}),vn&&Oe&&_e.hydrate&&_e.hydrate(Cn.$state,vn),$e=!0,ze=!0,Cn}function defineStore(xe,pe,_e){let Ce,Ie;const Oe=typeof pe=="function";typeof xe=="string"?(Ce=xe,Ie=Oe?_e:pe):(Ie=xe,Ce=xe.id);function Ne(Fe,Ue){const $e=hasInjectionContext();return Fe=Fe||($e?inject(piniaSymbol,null):null),Fe&&setActivePinia(Fe),Fe=activePinia,Fe._s.has(Ce)||(Oe?createSetupStore(Ce,pe,Ie,Fe):createOptionsStore(Ce,Ie,Fe)),Fe._s.get(Ce)}return Ne.$id=Ce,Ne}function storeToRefs(xe){{xe=toRaw(xe);const pe={};for(const _e in xe){const Ce=xe[_e];(isRef(Ce)||isReactive(Ce))&&(pe[_e]=toRef(xe,_e))}return pe}}var zhCn$1={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const locale$2={locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},CalendarLocale=locale$2,locale$1={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},TimePicker=locale$1,locale={lang:_extends$1({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},CalendarLocale),timePickerLocale:_extends$1({},TimePicker)};locale.lang.ok="确定";const DatePicker=locale,typeTemplate="${label}不是一个有效的${type}",localeValues={locale:"zh-cn",Pagination,DatePicker,TimePicker,Calendar:DatePicker,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码已过期",refresh:"点击刷新",scanned:"已扫描"}},antLocale=localeValues;var zhCn={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce(requireDayjs_min())})(commonjsGlobal,function(_e){function Ce(Ne){return Ne&&typeof Ne=="object"&&"default"in Ne?Ne:{default:Ne}}var Ie=Ce(_e),Oe={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(Ne,Fe){return Fe==="W"?Ne+"周":Ne+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(Ne,Fe){var Ue=100*Ne+Fe;return Ue<600?"凌晨":Ue<900?"早上":Ue<1100?"上午":Ue<1300?"中午":Ue<1800?"下午":"晚上"}};return Ie.default.locale(Oe,null,!0),Oe})})(zhCn);var u=navigator.userAgent.toLowerCase();u.match(/\(i[^;]+;( u;)? cpu.+mac os x/),u.includes("android")||u.includes("adr")||u.includes("linux"),u.includes("iphone"),u.includes("ipad"),u.includes("micromessenger"),u.includes("dingding")||u.includes("dingtalk"),u.indexOf("taurusapp")>-1;dayjs.locale("zh-cn");function dateFormat(xe,pe="YYYY-MM-DD"){let _e=xe;return xe===""||xe===0?"":(xe===void 0&&(_e=new Date),typeof _e=="string"&&(_e=_e.replace(/-/g,"/")),(typeof _e=="string"||typeof _e=="number")&&new Date(_e).toString()==="Invalid Date"?"".concat(xe):dayjs(_e).format(pe))}function useFullUrl(xe=""){function pe(_e,Ce=!1){return _e?/^http(s)?:\/\//.test(_e)||/base64/i.test(_e)?_e:Ce?"data:image/png;base64,".concat(_e):"".concat(xe!=null?xe:"").concat(_e.replace(/^~/,"")):""}return pe}function assign$1(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var Ce in _e)xe[Ce]=_e[Ce]}return xe}var defaultConverter={read:function(xe){return xe[0]==='"'&&(xe=xe.slice(1,-1)),xe.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(xe){return encodeURIComponent(xe).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(xe,pe){function _e(Ie,Oe,Ne){if(!(typeof document>"u")){Ne=assign$1({},pe,Ne),typeof Ne.expires=="number"&&(Ne.expires=new Date(Date.now()+Ne.expires*864e5)),Ne.expires&&(Ne.expires=Ne.expires.toUTCString()),Ie=encodeURIComponent(Ie).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var Fe="";for(var Ue in Ne)Ne[Ue]&&(Fe+="; "+Ue,Ne[Ue]!==!0&&(Fe+="="+Ne[Ue].split(";")[0]));return document.cookie=Ie+"="+xe.write(Oe,Ie)+Fe}}function Ce(Ie){if(!(typeof document>"u"||arguments.length&&!Ie)){for(var Oe=document.cookie?document.cookie.split("; "):[],Ne={},Fe=0;Fe<Oe.length;Fe++){var Ue=Oe[Fe].split("="),$e=Ue.slice(1).join("=");try{var ze=decodeURIComponent(Ue[0]);if(Ne[ze]=xe.read($e,ze),Ie===ze)break}catch(Ve){}}return Ie?Ne[Ie]:Ne}}return Object.create({set:_e,get:Ce,remove:function(Ie,Oe){_e(Ie,"",assign$1({},Oe,{expires:-1}))},withAttributes:function(Ie){return init(this.converter,assign$1({},this.attributes,Ie))},withConverter:function(Ie){return init(assign$1({},this.converter,Ie),this.attributes)}},{attributes:{value:Object.freeze(pe)},converter:{value:Object.freeze(xe)}})}var api=init(defaultConverter,{path:"/"}),StorageEnum=(xe=>(xe.LOCAL="localStorage",xe.SESSION="sessionStorage",xe.COOKIE="cookie",xe))(StorageEnum||{}),storages={localStorage,sessionStorage,cookie:api},useStore=(xe="")=>({set(pe,_e,{expire:Ce,storage:Ie="sessionStorage"}={}){const Oe="".concat(xe,"-").concat(pe);if(Ie==="cookie"){storages[Ie].set(Oe,JSON.stringify(_e),{expires:Ce||7});return}const Ne=storages[Ie],Fe={data:_e};Ce&&(Fe.expire=new Date().getTime()+Ce*1e3),Ne.setItem(Oe,JSON.stringify(Fe))},get(pe,_e="sessionStorage"){const Ce="".concat(xe,"-").concat(pe);if(_e==="cookie"){const Fe=storages[_e].get(Ce);return Fe?JSON.parse(Fe):null}const Ie=storages[_e],Oe=Ie.getItem(Ce);if(Oe){const Ne=JSON.parse(Oe),Fe=Ne.expire;return Fe&&Fe<new Date().getTime()?(Ie.removeItem(Ce),null):Ne.data}return null},remove(pe,_e="sessionStorage"){const Ce="".concat(xe,"-").concat(pe);if(_e==="cookie"){storages[_e].remove(Ce);return}storages[_e].removeItem(Ce)}}),useIntervalDate=()=>{const xe=reactive({date:dateFormat(new Date,"YYYY-MM-DD"),time:dateFormat(new Date,"HH:mm:ss"),week:dateFormat(new Date,"dddd")}),pe=()=>{xe.date=dateFormat(new Date,"YYYY-MM-DD"),xe.time=dateFormat(new Date,"HH:mm:ss"),xe.week=dateFormat(new Date,"dddd")};let _e=null;const Ce=()=>{_e&&clearInterval(_e),_e=null},Ie=()=>{Ce(),_e=setInterval(pe,1e3)};return getCurrentInstance()?(onMounted(()=>{Ie()}),onBeforeUnmount(()=>{_e&&clearInterval(_e)})):Ie(),{currDate:xe}},Loader=class{constructor(xe,pe=document.createElement("div"),_e=document.body){this.comp=xe,this.div=pe,this.teleport=_e,this.app=null}show(){this.app=createApp(this.comp),this.teleport.appendChild(this.div),this.app.mount(this.div)}hide(){var xe;(xe=this.app)==null||xe.unmount(),this.div.remove(),this.app=null}};function useRem({designWidth:xe=1920,size:pe=192,listener:_e=!0,immediate:Ce=!0,rootWidth:Ie}={}){const Oe=document.documentElement,Ne=window.devicePixelRatio||1;let Fe=null,Ue=xe,$e=pe,ze=Ie;function Ve(){if(document.body){document.body.style.fontSize="".concat(12*Ne,"px");return}document.addEventListener("DOMContentLoaded",Ve)}Ve();function qe(){const bn=Ue/$e,An=ze||Oe.clientWidth;Oe.style.fontSize="".concat(An/bn,"px")}function En(){Fe&&clearTimeout(Fe),Fe=setTimeout(qe,300)}function vn(){window.addEventListener("resize",En,!1),window.addEventListener("pageshow",bn=>{bn.persisted&&En()},!1)}function hn(){window.removeEventListener("resize",En,!1),window.removeEventListener("pageshow",bn=>{bn.persisted&&En()},!1)}function _n({designWidth:bn=xe,size:An=pe,listener:xn=_e,rootWidth:Sn}={}){Ue=bn,$e=An,ze=Sn,xn&&vn(),!xn&&hn(),qe()}if(Ce&&(_e&&vn(),qe()),Ne>=2){const bn=document.createElement("body"),An=document.createElement("div");An.style.border=".5px solid transparent",bn.appendChild(An),Oe.appendChild(bn),An.offsetHeight===1&&Oe.classList.add("hairlines"),Oe.removeChild(bn)}return{changeRem:_n}}/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/var eruda$1={exports:{}};/*! eruda v3.0.1 https://eruda.liriliri.io/ */(function(module,exports){(function(xe,pe){module.exports=pe()})(self,function(){return function(){var __webpack_modules__={422:function(xe,pe,_e){_e.d(pe,{Z:function(){return mr}});var Ce=_e(5671),Ie=_e(3144),Oe=_e(9340),Ne=_e(2963),Fe=_e(1120),Ue=_e(2461),$e=_e.n(Ue),ze=_e(3990),Ve=_e.n(ze),qe=_e(6768),En=_e.n(qe),vn=_e(4331),hn=_e.n(vn),_n=_e(5610),bn=_e.n(_n),An=_e(7483),xn=_e.n(An),Sn=_e(6341),Cn=_e.n(Sn),Tn=_e(3875),wn=_e.n(Tn),Ln=_e(6954),Pn=_e.n(Ln);_e(9585);function kn(yr){var Tr="luna-".concat(yr,"-");function Sr(Yn){return $e()(hn()(Yn).split(/\s+/),function(Qn){return Cn()(Qn,Tr)?Qn:Qn.replace(/[\w-]+/,function(rr){return"".concat(Tr).concat(rr)})}).join(" ")}return function(Yn){if(/<[^>]*>/g.test(Yn))try{var Qn=xn().parse(Yn);return In(Qn,function(rr){rr.attrs&&rr.attrs.class&&(rr.attrs.class=Sr(rr.attrs.class))}),xn().stringify(Qn)}catch(rr){return Sr(Yn)}return Sr(Yn)}}function In(yr,Tr){for(var Sr=0,Yn=yr.length;Sr<Yn;Sr++){var Qn=yr[Sr];Tr(Qn),Qn.content&&In(Qn.content,Tr)}}bn();function Rn(){var yr=Pn()();return yr==="os x"?"mac":yr}var Nn=_e(1443),On=_e.n(Nn),Dn=_e(1512),Mn=_e.n(Dn),Bn=_e(3783),$n=_e.n(Bn),Fn=_e(6329),Un=_e.n(Fn),Hn=_e(4193),Wn=_e.n(Hn),Xn=_e(5852),or=_e.n(Xn);function fr(yr){var Tr=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Sr){return!1}}();return function(){var Sr,Yn=(0,Fe.Z)(yr);if(Tr){var Qn=(0,Fe.Z)(this).constructor;Sr=Reflect.construct(Yn,arguments,Qn)}else Sr=Yn.apply(this,arguments);return(0,Ne.Z)(this,Sr)}}var cr=function(yr){(0,Oe.Z)(Sr,yr);var Tr=fr(Sr);function Sr(Yn,Qn){var rr,gr=Qn.compName,Ar=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Br=Ar===void 0?"light":Ar;return(0,Ce.Z)(this,Sr),(rr=Tr.call(this)).subComponents=[],rr.compName=gr,rr.c=kn(gr),rr.options={},rr.container=Yn,rr.$container=Mn()(Yn),rr.$container.addClass(["luna-".concat(gr),rr.c("platform-".concat(Rn()))]),rr.on("optionChange",function(Vr,Fr,Er){var Dr=rr.c;Vr==="theme"&&(rr.$container.rmClass(Dr("theme-".concat(Er))).addClass(Dr("theme-".concat(Fr))),$n()(rr.subComponents,function(Pr){return Pr.setOption("theme",Fr)}))}),rr.setOption("theme",Br),rr}return(0,Ie.Z)(Sr,[{key:"destroy",value:function(){this.destroySubComponents();var Yn=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Yn("platform-".concat(Rn()))).rmClass(Yn("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Yn,Qn){var rr=this,gr=this.options,Ar={};typeof Yn=="string"?Ar[Yn]=Qn:Ar=Yn,$n()(Ar,function(Br,Vr){var Fr=gr[Vr];gr[Vr]=Br,rr.emit("optionChange",Vr,Br,Fr)})}},{key:"getOption",value:function(Yn){return this.options[Yn]}},{key:"addSubComponent",value:function(Yn){Yn.setOption("theme",this.options.theme),this.subComponents.push(Yn)}},{key:"removeSubComponent",value:function(Yn){or()(this.subComponents,function(Qn){return Qn===Yn})}},{key:"destroySubComponents",value:function(){$n()(this.subComponents,function(Yn){return Yn.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Yn){var Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wn()(Yn,Qn),Un()(this.options,Yn)}},{key:"find",value:function(Yn){return this.$container.find(this.c(Yn))}}]),Sr}(On());function Jn(yr){var Tr=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Sr){return!1}}();return function(){var Sr,Yn=(0,Fe.Z)(yr);if(Tr){var Qn=(0,Fe.Z)(this).constructor;Sr=Reflect.construct(Yn,arguments,Qn)}else Sr=Yn.apply(this,arguments);return(0,Ne.Z)(this,Sr)}}xe=_e.hmd(xe);var mr=function(yr){(0,Oe.Z)(Sr,yr);var Tr=Jn(Sr);function Sr(Yn){var Qn,rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Ce.Z)(this,Sr),(Qn=Tr.call(this,Yn,{compName:"box-model"})).initOptions(rr),Qn.options.element&&Qn.render(),Qn.bindEvent(),Qn}return(0,Ie.Z)(Sr,[{key:"bindEvent",value:function(){var Yn=this;this.on("optionChange",function(Qn){Qn==="element"&&Yn.render()})}},{key:"render",value:function(){var Yn=this.c,Qn=this.getBoxModelData();this.$container.html(['<div class="'.concat(Yn("box-model"),'">'),Qn.position?'<div class="'.concat(Yn("position"),'">'):"",Qn.position?'<div class="'.concat(Yn("label"),'">position</div><div class="').concat(Yn("top"),'">').concat(Qn.position.top,'</div><br><div class="').concat(Yn("left"),'">').concat(Qn.position.left,"</div>"):"",'<div class="'.concat(Yn("margin"),'">'),'<div class="'.concat(Yn("label"),'">margin</div><div class="').concat(Yn("top"),'">').concat(Qn.margin.top,'</div><br><div class="').concat(Yn("left"),'">').concat(Qn.margin.left,"</div>"),'<div class="'.concat(Yn("border"),'">'),'<div class="'.concat(Yn("label"),'">border</div><div class="').concat(Yn("top"),'">').concat(Qn.border.top,'</div><br><div class="').concat(Yn("left"),'">').concat(Qn.border.left,"</div>"),'<div class="'.concat(Yn("padding"),'">'),'<div class="'.concat(Yn("label"),'">padding</div><div class="').concat(Yn("top"),'">').concat(Qn.padding.top,'</div><br><div class="').concat(Yn("left"),'">').concat(Qn.padding.left,"</div>"),'<div class="'.concat(Yn("content"),'">'),"<span>".concat(Qn.content.width,"</span>&nbsp;×&nbsp;<span>").concat(Qn.content.height,"</span>"),"</div>",'<div class="'.concat(Yn("right"),'">').concat(Qn.padding.right,'</div><br><div class="').concat(Yn("bottom"),'">').concat(Qn.padding.bottom,"</div>"),"</div>",'<div class="'.concat(Yn("right"),'">').concat(Qn.border.right,'</div><br><div class="').concat(Yn("bottom"),'">').concat(Qn.border.bottom,"</div>"),"</div>",'<div class="'.concat(Yn("right"),'">').concat(Qn.margin.right,'</div><br><div class="').concat(Yn("bottom"),'">').concat(Qn.margin.bottom,"</div>"),"</div>",Qn.position?'<div class="'.concat(Yn("right"),'">').concat(Qn.position.right,'</div><br><div class="').concat(Yn("bottom"),'">').concat(Qn.position.bottom,"</div>"):"",Qn.position?"</div>":"","</div>"].join(""))}},{key:"getBoxModelData",value:function(){var Yn=this.options.element,Qn=window.getComputedStyle(Yn);function rr(Ar){var Br=["top","left","right","bottom"];return Ar!=="position"&&(Br=$e()(Br,function(Vr){return"".concat(Ar,"-").concat(Vr)})),Ar==="border"&&(Br=$e()(Br,function(Vr){return"".concat(Vr,"-width")})),{top:Ir(Qn[Br[0]],Ar),left:Ir(Qn[Br[1]],Ar),right:Ir(Qn[Br[2]],Ar),bottom:Ir(Qn[Br[3]],Ar)}}var gr={margin:rr("margin"),border:rr("border"),padding:rr("padding"),content:{width:Ir(Qn.width),height:Ir(Qn.height)}};return Qn.position!=="static"&&(gr.position=rr("position")),gr}}]),Sr}(cr);function Ir(yr,Tr){if(Ve()(yr))return yr;if(!En()(yr))return"‒";var Sr,Yn=(Sr=yr,wn()(Sr.replace("px","")));return isNaN(Yn)?yr:Tr==="position"?Yn:Yn===0?"‒":Yn}(function(yr,Tr){try{yr.exports=Tr,yr.exports.default=Tr}catch(Sr){}})(xe,mr)},8816:function(xe,pe,_e){_e.d(pe,{Z:function(){return Sa}});var Ce=_e(168),Ie=_e(181);function Oe(Ao,$o){return function(yo){if(Array.isArray(yo))return yo}(Ao)||function(yo,pr){var hr=yo==null?null:typeof Symbol<"u"&&yo[Symbol.iterator]||yo["@@iterator"];if(hr!=null){var Nr,Wr,fo,io,po=[],mo=!0,ko=!1;try{if(fo=(hr=hr.call(yo)).next,pr===0){if(Object(hr)!==hr)return;mo=!1}else for(;!(mo=(Nr=fo.call(hr)).done)&&(po.push(Nr.value),po.length!==pr);mo=!0);}catch(jo){ko=!0,Wr=jo}finally{try{if(!mo&&hr.return!=null&&(io=hr.return(),Object(io)!==io))return}finally{if(ko)throw Wr}}return po}}(Ao,$o)||(0,Ie.Z)(Ao,$o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=_e(5671),Fe=_e(3144),Ue=_e(1752),$e=_e(9340),ze=_e(2963),Ve=_e(1120),qe=_e(7326),En=_e(8901),vn=_e.n(En),hn=_e(3367),_n=_e.n(hn),bn=_e(6341),An=_e.n(bn),xn=_e(6930),Sn=_e.n(xn),Cn=_e(4187),Tn=_e.n(Cn),wn=_e(3783),Ln=_e.n(wn),Pn=_e(4858),kn=_e.n(Pn),In=_e(8887),Rn=_e.n(In),Nn=_e(7756),On=_e.n(Nn),Dn=_e(3023),Mn=_e.n(Dn);function Bn(Ao){return Ao.constructor&&Ao.constructor.name?Ao.constructor.name:Mn()({}.toString.call(Ao).replace(/(\[object )|]/g,""))}var $n=_e(2461),Fn=_e.n($n),Un=_e(4331),Hn=_e.n(Un),Wn=_e(5610),Xn=_e.n(Wn),or=_e(7483),fr=_e.n(or),cr=_e(3990),Jn=_e.n(cr),mr=_e(3875),Ir=_e.n(mr),yr=_e(6954),Tr=_e.n(yr),Sr=_e(9585),Yn=_e.n(Sr);function Qn(Ao){var $o="luna-".concat(Ao,"-");function yo(pr){return Fn()(Hn()(pr).split(/\s+/),function(hr){return An()(hr,$o)?hr:hr.replace(/[\w-]+/,function(Nr){return"".concat($o).concat(Nr)})}).join(" ")}return function(pr){if(/<[^>]*>/g.test(pr))try{var hr=fr().parse(pr);return rr(hr,function(Nr){Nr.attrs&&Nr.attrs.class&&(Nr.attrs.class=yo(Nr.attrs.class))}),fr().stringify(hr)}catch(Nr){return yo(pr)}return yo(pr)}}function rr(Ao,$o){for(var yo=0,pr=Ao.length;yo<pr;yo++){var hr=Ao[yo];$o(hr),hr.content&&rr(hr.content,$o)}}Xn();var gr=Qn("console");function Ar(Ao){var $o,yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pr=yo.topObj,hr=yo.level,Nr=hr===void 0?0:hr,Wr=yo.getterVal,fo=Wr!==void 0&&Wr,io=yo.unenumerable,po=io===void 0||io,mo="",ko="",jo=[],Ko=[],Xo="";pr=pr||Ao;var li={getterVal:fo,unenumerable:po,level:Nr+1},Vo=Nr===0,Jo='<span class="'.concat(gr("key"),'">'),Qo='<span class="'.concat(gr("number"),'">'),hi='<span class="'.concat(gr("null"),'">'),Ki='<span class="'.concat(gr("string"),'">'),wi='<span class="'.concat(gr("boolean"),'">'),Gi='<span class="'.concat(gr("special"),'">'),ki=function(ni){return vn()(ni).replace(/\\n/g,"↵").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,"")},bi="</span>";function ci(ni){return ni=_n()(ni),An()(Br,ni)||Sn()(ni,"Array[")?Gi+ki(ni)+bi:(ni.length>100&&(ni=On()(ni,100,{separator:" ",ellipsis:"…"})),Ki+ki('"'.concat(ni,'"'))+bi)}function Li(ni){if($o>5)Xo=", …";else{var ea=function(za){return Jo+ki(za)+bi}(Fr(ni));if(!fo){var $i=Object.getOwnPropertyDescriptor(Ao,ni);if($i&&$i.get)return jo.push("".concat(ea,": ").concat(ci("(...)"))),void $o++}jo.push("".concat(ea,": ").concat(Ar(pr[ni],li))),$o++}}try{ko={}.toString.call(Ao)}catch(ni){ko="[object Object]"}var Mi,Zi=ko=="[object Array]",Ii=ko=="[object Object]",Wi=ko=="[object Number]",Xi=ko=="[object RegExp]",Di=ko=="[object Symbol]",Bi=ko=="[object Function]",Qi=ko=="[object Boolean]";if(ko=="[object String]")mo=ci(Fr(Ao));else if(Xi)Mi=Fr(Ao.toString()),mo=Ki+Mi+bi;else if(Bi)mo=ci("ƒ");else if(Zi)if(Vo){mo="[";var sa=Ao.length,Fi="";sa>100&&(sa=100,Fi=", …");for(var Ji=0;Ji<sa;Ji++)jo.push("".concat(Ar(Ao[Ji],li)));mo+=jo.join(", ")+Fi+"]"}else mo="Array(".concat(Ao.length,")");else if(Ii)Vr(Ao)&&(Ao=Object.getPrototypeOf(Ao)),Ko=po?Object.getOwnPropertyNames(Ao):Object.keys(Ao),Vo?($o=1,mo="{",Ln()(Ko,Li),mo+=jo.join(", ")+Xo+"}"):(mo=Bn(Ao))==="Object"&&(mo="{…}");else if(Wi)mo=Ao+"",mo=kn()(mo,"Infinity")||mo==="NaN"?'"'.concat(mo,'"'):Qo+mo+bi;else if(Qi)mo=wi+(Ao?"true":"false")+bi;else if(Ao===null)mo=function(ni){return hi+ni+bi}("null");else if(Di)mo=ci("Symbol");else if(Ao===void 0)mo=ci("undefined");else try{Vr(Ao)&&(Ao=Object.getPrototypeOf(Ao)),Vo?($o=1,mo="{",Ko=po?Object.getOwnPropertyNames(Ao):Object.keys(Ao),Ln()(Ko,Li),mo+=jo.join(", ")+Xo+"}"):(mo=Bn(Ao))==="Object"&&(mo="{…}")}catch(ni){mo=ci(Ao)}return mo}var Br=["(...)","undefined","Symbol","Object","ƒ"];function Vr(Ao){var $o=Rn()(Object.getOwnPropertyNames(Ao)),yo=Object.getPrototypeOf(Ao);return $o&&yo&&yo!==Object.prototype}function Fr(Ao){return Tn()(Ao).replace(/\\'/g,"'").replace(/\t/g,"\\t")}var Er,Dr=_e(8299),Pr=_e(5564),$r=_e(8209),Lr=_e(242),Or=_e.n(Lr),Hr=_e(5166),qr=_e.n(Hr),ao=_e(6768),Ur=_e.n(ao),_r=_e(2749),ur=_e.n(_r),kr=_e(6997),lr=_e.n(kr),br=_e(4193),Mr=_e.n(br),vr=_e(9833),jr=_e.n(vr),Gr=_e(9296),zr=_e.n(Gr),to=_e(8099),no=_e.n(to),oo=_e(6156),Eo=_e.n(oo),So=_e(1286),No=_e.n(So),Fo=_e(4777),Bo=_e.n(Fo),Ho=_e(1352),Go=_e.n(Ho),si=_e(6472),Ai=_e.n(si),Po=_e(42),Io=_e.n(Po),_o=_e(4675),eo=_e.n(_o),so=_e(3063),Rr=_e.n(so),dr=_e(2533),lo=_e.n(dr),Co=_e(1512),Do=_e.n(Co),go=_e(8613),vo=_e.n(go),co=_e(1443),Xr=_e.n(co),ro=_e(6049),uo=_e.n(ro),Ro=_e(4400),wo=_e.n(Ro),xo=_e(2327),bo=_e.n(xo),Oo=_e(9963),To=_e.n(Oo),Mo=_e(6837),Wo=_e.n(Mo),qo=_e(3988),Zo=_e.n(qo),ii=_e(3651),pi=_e.n(ii),fi=_e(6053),mi=_e.n(fi),Ei=_e(1907),ri=_e.n(Ei),_i=_e(4891),ui=_e.n(_i),Oi=_e(5229),oi=_e.n(Oi),gi=_e(4696),xi=_e.n(gi),Ui=_e(9804),Vi=_e.n(Ui),vi=_e(1754),ya=_e.n(vi);function Ti(Ao){var $o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(yo){return!1}}();return function(){var yo,pr=(0,Ve.Z)(Ao);if($o){var hr=(0,Ve.Z)(this).constructor;yo=Reflect.construct(pr,arguments,hr)}else yo=pr.apply(this,arguments);return(0,ze.Z)(this,yo)}}var Yi=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,Ni={comment:"",string:"",number:"",keyword:"",operator:""},ji=function(Ao){(0,$e.Z)(yo,Ao);var $o=Ti(yo);function yo(pr,hr){var Nr,Wr=hr.type,fo=Wr===void 0?"log":Wr,io=hr.args,po=io===void 0?[]:io,mo=hr.id,ko=hr.group,jo=hr.targetGroup,Ko=hr.header,Xo=hr.ignoreFilter,li=Xo!==void 0&&Xo,Vo=hr.accessGetter,Jo=hr.unenumerable,Qo=hr.lazyEvaluation;(0,Ne.Z)(this,yo),(Nr=$o.call(this)).container=vo()("div"),Nr.count=1,Nr.width=0,Nr.height=0,Nr.isHidden=!1,Nr.columns=[],Nr.elements={},Nr.objects={},Nr.console=pr,Nr.type=fo,Nr.group=ko,Nr.targetGroup=jo,Nr.args=po,Nr.id=mo,Nr.header=Ko,Nr.ignoreFilter=li,Nr.collapsed=!1,Nr.container.log=(0,qe.Z)(Nr),Nr.height=0,Nr.width=0,Nr.$container=Do()(Nr.container),Nr.accessGetter=Vo,Nr.unenumerable=Jo,Nr.lazyEvaluation=Qo;var hi="info";switch(fo){case"debug":hi="verbose";break;case"error":hi="error";break;case"warn":hi="warning"}return Nr.level=hi,Nr.resizeSensor=new(Or())(Nr.container),Nr.onResize=uo()(function(){Yn()(Nr.container)?Nr.isHidden=!0:(Nr.isHidden||Nr.updateSize(!1),Nr.isHidden=!1)},16),Nr.formatMsg(),Nr.group&&Nr.checkGroup(),Nr.bindEvent(),Nr}return(0,Fe.Z)(yo,[{key:"checkGroup",value:function(){for(var pr=this.group,hr=!1;pr;){if(pr.collapsed){hr=!0;break}pr=pr.parent}return hr!==this.collapsed&&(this.collapsed=hr,!0)}},{key:"updateIcon",value:function(pr){var hr=this.console.c;return this.$container.find(hr(".icon-container")).find(hr(".icon")).rmAttr("class").addClass([hr("icon"),hr("icon-".concat(pr))]),this}},{key:"addCount",value:function(){this.count++;var pr=this.$container,hr=this.count,Nr=this.console.c,Wr=pr.find(Nr(".count-container")),fo=pr.find(Nr(".icon-container")),io=Wr.find(Nr(".count"));return hr===2&&Wr.rmClass(Nr("hidden")),io.text(_n()(hr)),fo.addClass(Nr("hidden")),this}},{key:"groupEnd",value:function(){var pr=this.$container,hr=this.console.c;return pr.find(".".concat(hr("nesting-level"),":not(.").concat(hr("group-closed"),")")).last().addClass(hr("group-closed")),this}},{key:"updateTime",value:function(pr){var hr=this.$container.find(this.console.c(".time-container"));return this.header&&(hr.find("span").eq(0).text(pr),this.header.time=pr),this}},{key:"isAttached",value:function(){return!!this.container.parentNode}},{key:"isSimple",value:function(){return!mi()(this.args,function(pr){return qr()(pr)})}},{key:"updateSize",value:function(){var pr=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],hr=this.container.getBoundingClientRect(),Nr=hr.width,Wr=hr.height-1;this.height!==Wr&&(this.height=Wr,pr||this.emit("updateHeight")),this.width!==Nr&&(this.width=Nr)}},{key:"html",value:function(){return this.container.outerHTML}},{key:"text",value:function(){return this.content.textContent||""}},{key:"select",value:function(){this.$container.addClass(this.console.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.console.c("selected"))}},{key:"copy",value:function(){var pr=this.args,hr="";Ln()(pr,function(Nr,Wr){Wr!==0&&(hr+=" "),qr()(Nr)?hr+=wo()(Nr):hr+=_n()(Nr)}),bo()(hr)}},{key:"bindEvent",value:function(){var pr=this,hr=this.console.c,Nr=this;this.resizeSensor.addListener(this.onResize),this.$container.on("click",hr(".dom-viewer"),function(Wr){return Wr.stopPropagation()}).on("click",hr(".preview"),function(Wr){Wr.stopPropagation();var fo=Do()(this).find(hr(".preview-icon-container")).find(hr(".icon")),io="caret-down";fo.hasClass(hr("icon-caret-down"))&&(io="caret-right"),fo.rmAttr("class").addClass([hr("icon"),hr("icon-".concat(io))]),Nr.renderObjectViewer(this)}).on("click",function(){return pr.click()})}},{key:"renderEl",value:function(){var pr=this.elements,hr=this.console.c,Nr=this;this.$container.find(hr(".dom-viewer")).each(function(){var Wr=Do()(this).data("id");new $r.Z(this,{node:pr[Wr],theme:Nr.console.getOption("theme")})})}},{key:"renderObjectViewer",value:function(pr){var hr=this.console,Nr=this.unenumerable,Wr=this.accessGetter,fo=this.lazyEvaluation,io=hr.c,po=Do()(pr),mo=po.data("id");if(mo){var ko=this.objects[mo],jo=po.find(io(".json"));if(jo.hasClass(io("hidden"))){if(jo.data("init")!=="true"){if(fo){var Ko=new Dr.Z(jo.get(0),{unenumerable:Nr,accessGetter:Wr});Ko.setOption("theme",hr.getOption("theme")),Ko.set(ko)}else{var Xo=new Dr.q(jo.get(0));Xo.setOption("theme",hr.getOption("theme")),Xo.set(ko)}jo.data("init","true")}jo.rmClass(io("hidden"))}else jo.addClass(io("hidden"))}}},{key:"renderTable",value:function(pr){var hr=this,Nr="__LunaConsoleValue",Wr=this.columns,fo=this.$container,io=this.console,po=io.c,mo=fo.find(po(".data-grid")),ko=pr[0],jo=new Pr.Z(mo.get(0),{columns:no()([{id:"(index)",title:"(index)",sortable:!0}],Fn()(Wr,function(Ko){return{id:Ko,title:Ko===Nr?"Value":Ko,sortable:!0}})),theme:io.getOption("theme")});Ln()(ko,function(Ko,Xo){var li={"(index)":_n()(Xo)};Wr.forEach(function(Vo){qr()(Ko)?li[Vo]=Vo===Nr?"":hr.formatTableVal(Ko[Vo]):lr()(Ko)&&(li[Vo]=Vo===Nr?hr.formatTableVal(Ko):"")}),jo.append(li)})}},{key:"extractObj",value:function(pr){var hr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nr=arguments.length>2?arguments[2]:void 0,Wr=this.accessGetter,fo=this.unenumerable;Mr()(hr,{accessGetter:Wr,unenumerable:fo,symbol:fo,timeout:1e3}),function(io,po,mo){var ko=To()(io,po);Wo()(function(){return mo(ko)})}(pr,hr,function(io){return Nr(JSON.parse(io))})}},{key:"click",value:function(){var pr=this.type,hr=this.$container,Nr=this.console,Wr=Nr.c;switch(pr){case"log":case"warn":case"info":case"debug":case"output":case"table":case"dir":break;case"group":case"groupCollapsed":Nr.toggleGroup(this);break;case"error":hr.find(Wr(".stack")).toggleClass(Wr("hidden"))}}},{key:"formatMsg",value:function(){var pr=this.args,hr=this.type,Nr=this.id,Wr=this.header,fo=this.group,io=this.console.c;pr=eo()(pr);var po,mo,ko="";switch(hr!=="group"&&hr!=="groupCollapsed"||pr.length===0&&(pr=["console.group"]),hr){case"log":case"info":case"debug":ko=this.formatCommon(pr);break;case"dir":ko=this.formatDir(pr);break;case"warn":po="warn",ko=this.formatCommon(pr);break;case"error":Ur()(pr[0])&&pr.length!==1&&(pr=this.substituteStr(pr)),mo=pr[0],po="error",mo=ur()(mo)?mo:new Error(this.formatCommon(pr)),ko=this.formatErr(mo);break;case"table":ko=this.formatTable(pr);break;case"html":ko=pr[0];break;case"input":ko=this.formatJs(pr[0]),po="input";break;case"output":ko=this.formatCommon(pr),po="output";break;case"groupCollapsed":ko=this.formatCommon(pr),po="caret-right";break;case"group":ko=this.formatCommon(pr),po="caret-down"}An()(["log","debug","warn"],hr)&&this.isSimple()&&(ko=Zo()(ko,function(jo){return'<a href="'.concat(jo,'" target="_blank">').concat(jo,"</a>")})),ko=this.render({msg:ko,type:hr,icon:po,id:Nr,header:Wr,group:fo}),this.$container.addClass("".concat(io("log-container"))).html(ko),hr==="table"&&(Rn()(this.columns)||this.renderTable(pr)),Rn()(this.elements)||this.renderEl(),this.$content=this.$container.find(io(".log-content")),this.content=this.$content.get(0)}},{key:"render",value:function(pr){var hr=this.console.c,Nr="",Wr="";if(pr.group)for(var fo=pr.group.indentLevel,io=0;io<fo;io++)Wr+='<div class="'.concat(hr("nesting-level"),'"></div>');pr.header&&(Nr+=ri()(Er||(Er=(0,Ce.Z)(['\n      <div class="','">\n        ','\n        <div class="','">\n          <span>',"</span> <span>","</span>\n        </div>\n      </div>"])),hr("header"),Wr,hr("time-from-container"),pr.header.time,pr.header.from));var po="";return pr.icon&&(po='<div class="'.concat(hr("icon-container"),'"><span class="').concat(hr("icon icon-"+pr.icon),'"></span></div>')),Nr+='\n    <div class="'.concat(hr(pr.type+" log-item"),'">\n      ').concat(Wr,"\n      ").concat(po,'\n      <div class="').concat(hr("count-container hidden"),'">\n        <div class="').concat(hr("count"),'"></div>\n      </div>    \n      <div class="').concat(hr("log-content-wrapper"),'">\n        <div class="').concat(hr("log-content"),'">').concat(pr.msg,"</div>\n      </div>\n    </div>")}},{key:"formatTable",value:function(pr){var hr=pr[0],Nr=pr[1],Wr=[];return Ur()(Nr)&&(Nr=Go()(Nr)),Ai()(Nr)||(Nr=null),qr()(hr)?(Ln()(hr,function(fo){lr()(fo)?Wr.push("__LunaConsoleValue"):qr()(fo)&&(Wr=Wr.concat(lo()(fo)))}),(Wr=Io()(Wr)).sort(),Nr&&(Wr=Wr.filter(function(fo){return An()(Nr,fo)})),Wr.length>20&&(Wr=Wr.slice(0,20)),Rn()(Wr)?this.formatCommon(pr):(this.columns=Wr,this.console.c('<div class="data-grid"></div>')+this.formatPreview(hr))):this.formatCommon(pr)}},{key:"formatErr",value:function(pr){var hr=pr.stack?pr.stack.split("\n"):[],Nr="".concat(pr.message||hr[0],"<br/>");return hr=hr.map(function(Wr){return vn()(Wr)}),Nr+'<div class="'.concat(this.console.c("stack hidden"),'">').concat(hr.slice(1).join("<br/>"),"</div>").replace(Yi,function(Wr){return'<a href="'.concat(Wr,'" target="_blank">').concat(Wr,"</a>")})}},{key:"formatCommon",value:function(pr){var hr=this.console.c,Nr=Ur()(pr[0])&&pr.length!==1;Nr&&(pr=this.substituteStr(pr));for(var Wr=0,fo=pr.length;Wr<fo;Wr++){var io=pr[Wr];jr()(io)?pr[Wr]=this.formatEl(io):Bo()(io)?pr[Wr]=this.formatFn(io):ya()(io)?pr[Wr]='<span class="'.concat(hr("regexp"),'">').concat(vn()(_n()(io)),"</span>"):qr()(io)?pr[Wr]=this.formatPreview(io):No()(io)?pr[Wr]='<span class="'.concat(hr("undefined"),'">undefined</span>'):Eo()(io)?pr[Wr]='<span class="'.concat(hr("null"),'">null</span>'):Jn()(io)?pr[Wr]='<span class="'.concat(hr("number"),'">').concat(_n()(io),"</span>"):typeof io=="bigint"?pr[Wr]='<span class="'.concat(hr("number"),'">').concat(_n()(io),"n</span>"):xi()(io)?pr[Wr]='<span class="'.concat(hr("boolean"),'">').concat(_n()(io),"</span>"):Vi()(io)?pr[Wr]='<span class="'.concat(hr("symbol"),'">').concat(vn()(_n()(io)),"</span>"):(io=_n()(io),Wr===0&&Nr||(io=vn()(io)),io.length>5e3&&(io=On()(io,5e3,{separator:" ",ellipsis:"…"})),pr[Wr]=io)}return pr.join(" ")}},{key:"formatDir",value:function(pr){return qr()(pr[0])?this.formatPreview(pr[0]):this.formatCommon(pr)}},{key:"formatTableVal",value:function(pr){var hr=this.console.c;return qr()(pr)?"{…}":lr()(pr)?ui()('<div class="'.concat(hr("preview"),'">').concat(Ar(pr),"</div>")):_n()(pr)}},{key:"formatPreview",value:function(pr){var hr=this,Nr=this.console.c,Wr=oi()();this.lazyEvaluation?this.objects[Wr]=pr:this.extractObj(pr,{},function(po){hr.objects[Wr]=po});var fo=An()(["dir","table"],this.type),io=Bn(pr);return io==="Array"&&pr.length>1?(io="(".concat(pr.length,")"),fo&&(io="Array".concat(io))):io==="RegExp"?io=_n()(pr):jr()(pr)&&(io=this.formatElName(pr)),'<div class="'.concat(Nr("preview"),'" data-id="').concat(Wr,'">')+'<div class="'.concat(Nr("preview-container"),'">')+'<div class="'.concat(Nr("preview-icon-container"),'"><span class="').concat(Nr("icon icon-caret-right"),'"></span></div>')+'<span class="'.concat(Nr("preview-content-container"),'">')+'<span class="'.concat(Nr("descriptor"),'">').concat(vn()(io),"</span> ")+'<span class="'.concat(Nr("object-preview"),'">').concat(fo?"":Ar(pr,{getterVal:this.accessGetter,unenumerable:!1}),"</span>")+"</span></div>"+'<div class="'.concat(Nr("json hidden"),'"></div></div>')}},{key:"substituteStr",value:function(pr){var hr=vn()(pr[0]),Nr=!1,Wr="";pr.shift();for(var fo=0,io=hr.length;fo<io;fo++){var po=hr[fo];if(po==="%"&&pr.length!==0){fo++;var mo=pr.shift();switch(hr[fo]){case"i":case"d":Wr+=zr()(mo);break;case"f":Wr+=Ir()(mo);break;case"s":Wr+=_n()(mo);break;case"O":qr()(mo)?Wr+=this.formatPreview(mo):Wr+=_n()(mo);break;case"o":jr()(mo)?Wr+=this.formatEl(mo):qr()(mo)?Wr+=this.formatPreview(mo):Wr+=_n()(mo);break;case"c":if(hr.length<=fo+1)break;Nr&&(Wr+="</span>"),Nr=!0,Wr+='<span style="'.concat(zi(mo),'">');break;default:fo--,pr.unshift(mo),Wr+=po}}else Wr+=po}return Nr&&(Wr+="</span>"),pr.unshift(Wr),pr}},{key:"formatJs",value:function(pr){return'<pre class="'.concat(this.console.c("code"),'">').concat(this.console.c(pi()(pr,"js",Ni)),"</pre>")}},{key:"formatFn",value:function(pr){return'<pre style="display:inline">'.concat(this.formatJs(pr.toString()),"</pre>")}},{key:"formatElName",value:function(pr){var hr=pr.id,Nr=pr.className,Wr=pr.tagName.toLowerCase();if(hr!==""&&(Wr+="#".concat(hr)),Ur()(Nr)){var fo="";Ln()(Nr.split(/\s+/g),function(io){io.trim()!==""&&(fo+=".".concat(io))}),Wr+=fo}return Wr}},{key:"formatEl",value:function(pr){var hr=oi()();return this.elements[hr]=pr,this.console.c('<div class="dom-viewer" data-id="'.concat(hr,'"></div>'))}}]),yo}(Xr());function zi(Ao){var $o=(Ao=Rr()(Ao)).split(";"),yo={};Ln()($o,function(hr){if(An()(hr,":")){var Nr=Oe(hr.split(":"),2),Wr=Nr[0],fo=Nr[1];yo[Hn()(Wr)]=Hn()(fo)}}),yo.display="inline-block",yo["max-width"]="100%",delete yo.width,delete yo.height;var pr="";return Ln()(yo,function(hr,Nr){pr+="".concat(Nr,":").concat(hr,";")}),pr}var La=_e(1194),ba=_e.n(La),Aa=_e(8847),Ri=_e.n(Aa),Ia=_e(6329),ti=_e.n(Ia),Ea=_e(9001),qi=_e.n(Ea),oa=_e(9702),Ra=_e.n(oa),ia=_e(2439),ai=_e.n(ia),Pa=_e(8933),Yo=_e.n(Pa),Da=_e(4407),Pi=_e.n(Da),Oa=_e(5852),Na=_e.n(Oa);function Ma(Ao){var $o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(yo){return!1}}();return function(){var yo,pr=(0,Ve.Z)(Ao);if($o){var hr=(0,Ve.Z)(this).constructor;yo=Reflect.construct(pr,arguments,hr)}else yo=pr.apply(this,arguments);return(0,ze.Z)(this,yo)}}var Hi,Ba=function(Ao){(0,$e.Z)(yo,Ao);var $o=Ma(yo);function yo(pr,hr){var Nr,Wr,fo=hr.compName,io=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,po=io===void 0?"light":io;return(0,Ne.Z)(this,yo),(Nr=$o.call(this)).subComponents=[],Nr.compName=fo,Nr.c=Qn(fo),Nr.options={},Nr.container=pr,Nr.$container=Do()(pr),Nr.$container.addClass(["luna-".concat(fo),Nr.c("platform-".concat((Wr=Tr()(),Wr==="os x"?"mac":Wr)))]),Nr.on("optionChange",function(mo,ko,jo){var Ko=Nr.c;mo==="theme"&&(Nr.$container.rmClass(Ko("theme-".concat(jo))).addClass(Ko("theme-".concat(ko))),Ln()(Nr.subComponents,function(Xo){return Xo.setOption("theme",ko)}))}),Nr.setOption("theme",po),Nr}return(0,Fe.Z)(yo,[{key:"destroy",value:function(){var pr=this;this.destroySubComponents();var hr=this.$container,Nr=hr.attr("class");Ln()(Nr.split(/\s+/),function(Wr){Sn()(Wr,"luna-".concat(pr.compName))&&hr.rmClass(Wr)}),hr.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(pr,hr){var Nr=this,Wr=this.options,fo={};typeof pr=="string"?fo[pr]=hr:fo=pr,Ln()(fo,function(io,po){var mo=Wr[po];Wr[po]=io,Nr.emit("optionChange",po,io,mo)})}},{key:"getOption",value:function(pr){return this.options[pr]}},{key:"addSubComponent",value:function(pr){pr.setOption("theme",this.options.theme),this.subComponents.push(pr)}},{key:"removeSubComponent",value:function(pr){Na()(this.subComponents,function(hr){return hr===pr})}},{key:"destroySubComponents",value:function(){Ln()(this.subComponents,function(pr){return pr.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(pr){var hr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Mr()(pr,hr),ti()(this.options,pr)}},{key:"find",value:function(pr){return this.$container.find(this.c(pr))}}]),yo}(Xr()),Fa=_e(1571),xa=_e.n(Fa);function $a(Ao){var $o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(yo){return!1}}();return function(){var yo,pr=(0,Ve.Z)(Ao);if($o){var hr=(0,Ve.Z)(this).constructor;yo=Reflect.construct(pr,arguments,hr)}else yo=pr.apply(this,arguments);return(0,ze.Z)(this,yo)}}xe=_e.hmd(xe);var Ca=navigator.userAgent,Ua=Ca.indexOf("Android")>-1||Ca.indexOf("Adr")>-1,Va=0,Sa=function(Ao){(0,$e.Z)(yo,Ao);var $o=$a(yo);function yo(pr){var hr,Nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Ne.Z)(this,yo),(hr=$o.call(this,pr,{compName:"console"},Nr)).spaceHeight=0,hr.topSpaceHeight=0,hr.bottomSpaceHeight=0,hr.lastScrollTop=0,hr.lastTimestamp=0,hr.speedToleranceFactor=100,hr.maxSpeedTolerance=2e3,hr.minSpeedTolerance=100,hr.logs=[],hr.displayLogs=[],hr.timer={},hr.counter={},hr.asyncList=[],hr.asyncTimer=null,hr.isAtBottom=!0,hr.groupStack=new(qi()),hr.selectedLog=null,hr.onScroll=function(){var Wr=hr.container,fo=Wr.scrollHeight,io=Wr.offsetHeight,po=Wr.scrollTop;if(!(po<=0||io+po>fo)){var mo=!1;(fo===io||po===fo-io)&&(mo=!0),hr.isAtBottom=mo;var ko=hr.lastScrollTop,jo=hr.lastTimestamp,Ko=Ri()(),Xo=Ko-jo,li=po-ko,Vo=Math.abs(li/Xo)*hr.speedToleranceFactor;Xo>1e3&&(Vo=1e3),Vo>hr.maxSpeedTolerance&&(Vo=hr.maxSpeedTolerance),Vo<hr.minSpeedTolerance&&(Vo=hr.minSpeedTolerance),hr.lastScrollTop=po,hr.lastTimestamp=Ko;var Jo=0,Qo=0;ko<po?(Jo=hr.minSpeedTolerance,Qo=Vo):(Jo=Vo,Qo=hr.minSpeedTolerance),hr.topSpaceHeight<po-Jo&&hr.topSpaceHeight+hr.el.offsetHeight>po+io+Qo||hr.renderViewport({topTolerance:2*Jo,bottomTolerance:2*Qo})}},hr.initTpl(),hr.initOptions(Nr,{maxNum:0,asyncRender:!0,showHeader:!1,filter:"",level:["verbose","info","warning","error"],accessGetter:!1,unenumerable:!0,lazyEvaluation:!0}),hr.$el=hr.find(".logs"),hr.el=hr.$el.get(0),hr.$fakeEl=hr.find(".fake-logs"),hr.fakeEl=hr.$fakeEl.get(0),hr.$space=hr.find(".logs-space"),hr.space=hr.$space.get(0),Ua&&(hr.speedToleranceFactor=800,hr.maxSpeedTolerance=3e3,hr.minSpeedTolerance=800),hr.resizeSensor=new(Or())(pr),hr.renderViewport=ai()(function(Wr){hr._renderViewport(Wr)},16),hr.global={copy:function(Wr){Ur()(Wr)||(Wr=JSON.stringify(Wr,null,2)),bo()(Wr)},$:function(Wr){return document.querySelector(Wr)},$$:function(Wr){return Go()(document.querySelectorAll(Wr))},$x:function(Wr){return Yo()(Wr)},clear:function(){hr.clear()},dir:function(Wr){hr.dir(Wr)},table:function(Wr,fo){hr.table(Wr,fo)},keys:lo()},hr.bindEvent(),hr}return(0,Fe.Z)(yo,[{key:"setGlobal",value:function(pr,hr){this.global[pr]=hr}},{key:"destroy",value:function(){this.$container.off("scroll",this.onScroll),this.resizeSensor.destroy(),(0,Ue.Z)((0,Ve.Z)(yo.prototype),"destroy",this).call(this)}},{key:"count",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",hr=this.counter;No()(hr[pr])?hr[pr]=1:hr[pr]++,this.info("".concat(pr,": ").concat(hr[pr]))}},{key:"countReset",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.counter[pr]=0}},{key:"assert",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||hr.shift()||(hr.length===0&&hr.unshift("console.assert"),hr.unshift("Assertion failed: "),this.insert("error",hr))}},{key:"log",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||this.insert("log",hr)}},{key:"debug",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||this.insert("debug",hr)}},{key:"dir",value:function(pr){No()(pr)||this.insert("dir",[pr])}},{key:"table",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||this.insert("table",hr)}},{key:"time",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";if(this.timer[pr])return this.insert("warn",["Timer '".concat(pr,"' already exists")]);this.timer[pr]=ba()()}},{key:"timeLog",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",hr=this.timer[pr];if(!hr)return this.insert("warn",["Timer '".concat(pr,"' does not exist")]);this.info("".concat(pr,": ").concat(ba()()-hr,"ms"))}},{key:"timeEnd",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.timeLog(pr),delete this.timer[pr]}},{key:"clear",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logs=[],this.displayLogs=[],this.selectLog(null),this.lastLog=void 0,this.counter={},this.timer={},this.groupStack=new(qi()),this.asyncList=[],this.asyncTimer&&(clearTimeout(this.asyncTimer),this.asyncTimer=null),pr?this.render():this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}},{key:"info",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||this.insert("info",hr)}},{key:"error",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||this.insert("error",hr)}},{key:"warn",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];Rn()(hr)||this.insert("warn",hr)}},{key:"group",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];this.insert({type:"group",args:hr,ignoreFilter:!0})}},{key:"groupCollapsed",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];this.insert({type:"groupCollapsed",args:hr,ignoreFilter:!0})}},{key:"groupEnd",value:function(){this.insert("groupEnd")}},{key:"evaluate",value:function(pr){this.insert({type:"input",args:[pr],ignoreFilter:!0});try{this.output(this.evalJs(pr))}catch(hr){this.insert({type:"error",ignoreFilter:!0,args:[hr]})}}},{key:"html",value:function(){for(var pr=arguments.length,hr=new Array(pr),Nr=0;Nr<pr;Nr++)hr[Nr]=arguments[Nr];this.insert("html",hr)}},{key:"toggleGroup",value:function(pr){pr.targetGroup.collapsed?this.openGroup(pr):this.collapseGroup(pr)}},{key:"output",value:function(pr){this.insert({type:"output",args:[pr],ignoreFilter:!0})}},{key:"render",value:function(){var pr=this.logs,hr=this.selectedLog;this.$el.html(""),this.isAtBottom=!0,this.updateBottomSpace(0),this.updateTopSpace(0),this.displayLogs=[];for(var Nr=0,Wr=pr.length;Nr<Wr;Nr++)this.attachLog(pr[Nr]);hr&&(An()(this.displayLogs,hr)||this.selectLog(null))}},{key:"insert",value:function(pr,hr){var Nr,Wr=this.options,fo=Wr.showHeader,io=Wr.asyncRender;if(fo&&(Nr={time:ja(),from:aa()}),io)return this.insertAsync(pr,hr,Nr);this.insertSync(pr,hr,Nr)}},{key:"insertAsync",value:function(pr,hr,Nr){this.asyncList.push([pr,hr,Nr]),this.handleAsyncList()}},{key:"insertSync",value:function(pr,hr,Nr){var Wr,fo=this,io=this.logs,po=this.groupStack,mo=this.options,ko=mo.maxNum,jo=mo.accessGetter,Ko=mo.unenumerable,Xo=mo.lazyEvaluation;if((Wr=Ur()(pr)?{type:pr,args:hr,header:Nr}:pr).type==="groupEnd")return this.lastLog.groupEnd(),void this.groupStack.pop();if(po.size>0&&(Wr.group=po.peek()),ti()(Wr,{id:++Va,accessGetter:jo,unenumerable:Ko,lazyEvaluation:Xo}),Wr.type==="group"||Wr.type==="groupCollapsed"){var li={id:oi()("group"),collapsed:!1,parent:po.peek(),indentLevel:po.size+1};Wr.type==="groupCollapsed"&&(li.collapsed=!0),Wr.targetGroup=li,po.push(li)}var Vo=new ji(this,Wr);Vo.on("updateHeight",function(){fo.isAtBottom=!1,fo.renderViewport()});var Jo=this.lastLog;if(Jo&&!An()(["html","group","groupCollapsed"],Vo.type)&&Jo.type===Vo.type&&Vo.isSimple()&&Jo.text()===Vo.text()?(Jo.addCount(),Vo.header&&Jo.updateTime(Vo.header.time),Vo=Jo,this.detachLog(Jo)):(io.push(Vo),this.lastLog=Vo),ko!==0&&io.length>ko){var Qo=io[0];this.detachLog(Qo),io.shift()}this.attachLog(Vo),this.emit("insert",Vo)}},{key:"updateTopSpace",value:function(pr){this.topSpaceHeight=pr,this.el.style.top=pr+"px"}},{key:"updateBottomSpace",value:function(pr){this.bottomSpaceHeight=pr}},{key:"updateSpace",value:function(pr){this.spaceHeight!==pr&&(this.spaceHeight=pr,this.space.style.height=pr+"px")}},{key:"detachLog",value:function(pr){var hr=this.displayLogs,Nr=hr.indexOf(pr);Nr>-1&&(hr.splice(Nr,1),this.renderViewport())}},{key:"attachLog",value:function(pr){if(this.filterLog(pr)&&!pr.collapsed){var hr=this.displayLogs;if(hr.length===0)return hr.push(pr),void this.renderViewport();var Nr=Ra()(hr);if(pr.id>Nr.id)return hr.push(pr),void this.renderViewport();for(var Wr,fo=0,io=hr.length-1,po=0;fo<=io;){if((Wr=hr[po=fo+Math.floor((io-fo)/2)]).id===pr.id)return;Wr.id<pr.id?fo=po+1:io=po-1}Wr.id<pr.id?hr.splice(po+1,0,pr):hr.splice(po,0,pr),this.renderViewport()}}},{key:"handleAsyncList",value:function(){var pr=this,hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,Nr=this.asyncList;this.asyncTimer||(this.asyncTimer=setTimeout(function(){pr.asyncTimer=null;var Wr,fo,io=!1,po=Nr.length;po<1e3?(fo=200,Wr=400):po<5e3?(fo=500,Wr=800):po<1e4?(fo=800,Wr=1e3):po<25e3?(fo=1e3,Wr=1200):po<5e4?(fo=1500,Wr=1500):(fo=2e3,Wr=2500),fo>po&&(fo=po,io=!0);for(var mo=0;mo<fo;mo++){var ko=Oe(Nr.shift(),3),jo=ko[0],Ko=ko[1],Xo=ko[2];pr.insertSync(jo,Ko,Xo)}io||xa()(function(){return pr.handleAsyncList(Wr)})},hr))}},{key:"injectGlobal",value:function(){Ln()(this.global,function(pr,hr){window[hr]||(window[hr]=pr)})}},{key:"clearGlobal",value:function(){Ln()(this.global,function(pr,hr){window[hr]&&window[hr]===pr&&delete window[hr]})}},{key:"evalJs",value:function(pr){var hr;this.injectGlobal();try{hr=eval.call(window,"(".concat(pr,")"))}catch(Nr){hr=eval.call(window,pr)}return this.setGlobal("$_",hr),this.clearGlobal(),hr}},{key:"filterLog",value:function(pr){var hr=this.options.level,Nr=this.options.filter;if(pr.ignoreFilter)return!0;if(!An()(hr,pr.level))return!1;if(Nr){if(Bo()(Nr))return Nr(pr);if(ya()(Nr))return Nr.test(Rr()(pr.text()));if(Ur()(Nr)&&(Nr=Hn()(Nr)))return An()(Rr()(pr.text()),Rr()(Nr))}return!0}},{key:"collapseGroup",value:function(pr){pr.targetGroup.collapsed=!0,pr.updateIcon("caret-right"),this.updateGroup(pr)}},{key:"openGroup",value:function(pr){pr.targetGroup.collapsed=!1,pr.updateIcon("caret-down"),this.updateGroup(pr)}},{key:"updateGroup",value:function(pr){for(var hr=pr.targetGroup,Nr=this.logs,Wr=Nr.length,fo=Nr.indexOf(pr)+1;fo<Wr;){var io=Nr[fo];if(!io.checkGroup()&&io.group===hr)break;io.collapsed?this.detachLog(io):this.attachLog(io),fo++}}},{key:"selectLog",value:function(pr){var hr;this.selectedLog&&(this.selectedLog.deselect(),this.selectedLog=null),Eo()(pr)?this.emit("deselect"):(this.selectedLog=pr,(hr=this.selectedLog)===null||hr===void 0||hr.select(),this.emit("select",pr))}},{key:"bindEvent",value:function(){var pr=this,hr=this.$el,Nr=this.c;this.resizeSensor.addListener(this.renderViewport);var Wr=this;hr.on("click",Nr(".log-container"),function(){Wr.selectLog(this.log)}),this.on("optionChange",function(fo,io){var po=pr.logs;switch(fo){case"maxNum":io>0&&po.length>io&&(pr.logs=po.slice(po.length-io),pr.render());break;case"filter":pr.render();break;case"level":pr.options.level=Go()(io),pr.render()}}),this.$container.on("scroll",this.onScroll)}},{key:"_renderViewport",value:function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},hr=pr.topTolerance,Nr=hr===void 0?500:hr,Wr=pr.bottomTolerance,fo=Wr===void 0?500:Wr,io=this.el,po=this.container,mo=this.space;if(!Yn()(po)){for(var ko=po.scrollTop,jo=po.offsetHeight,Ko=mo.getBoundingClientRect().width,Xo=ko-Nr,li=ko+jo+fo,Vo=this.displayLogs,Jo=0,Qo=0,hi=0,Ki=Vo.length,wi=this.fakeEl,Gi=document.createDocumentFragment(),ki=[],bi=0;bi<Ki;bi++){var ci=Vo[bi],Li=ci.width;ci.height!==0&&Li===Ko||(Gi.appendChild(ci.container),ki.push(ci))}if(ki.length>0){wi.appendChild(Gi);for(var Mi=0,Zi=ki.length;Mi<Zi;Mi++)ki[Mi].updateSize();wi.textContent=""}for(var Ii=document.createDocumentFragment(),Wi=0;Wi<Ki;Wi++){var Xi=Vo[Wi],Di=Xi.container,Bi=Xi.height;hi>li?Qo+=Bi:hi+Bi>Xo?Ii.appendChild(Di):hi<Xo&&(Jo+=Bi),hi+=Bi}for(this.updateSpace(hi),this.updateTopSpace(Jo),this.updateBottomSpace(Qo);io.firstChild;)io.lastChild&&io.removeChild(io.lastChild);io.appendChild(Ii);var Qi=po.scrollHeight;this.isAtBottom&&ko<=Qi-jo&&(po.scrollTop=1e7)}}},{key:"initTpl",value:function(){this.$container.html(this.c(ri()(Hi||(Hi=(0,Ce.Z)(['\n      <div class="logs-space">\n        <div class="fake-logs"></div>\n        <div class="logs"></div>\n      </div>\n    '])))))}}]),yo}(Ba),ja=function(){return Pi()("HH:MM:ss ")};function aa(){for(var Ao=new Error,$o="",yo=Ao.stack?Ao.stack.split("\n"):"",pr=0,hr=yo.length;pr<hr;pr++)if(($o=yo[pr]).indexOf("winConsole")>-1&&pr<hr-1){$o=yo[pr+1];break}return $o}(function(Ao,$o){try{Ao.exports=$o,Ao.exports.default=$o}catch(yo){}})(xe,Sa)},5564:function(xe,pe,_e){_e.d(pe,{Z:function(){return Go}});var Ce=_e(168),Ie=_e(5671),Oe=_e(3144),Ne=_e(7326),Fe=_e(1752),Ue=_e(9340),$e=_e(2963),ze=_e(1120),Ve=_e(1512),qe=_e.n(Ve),En=_e(1907),vn=_e.n(En),hn=_e(1443),_n=_e.n(hn),bn=_e(2461),An=_e.n(bn),xn=_e(4331),Sn=_e.n(xn),Cn=_e(5610),Tn=_e.n(Cn),wn=_e(7483),Ln=_e.n(wn),Pn=(_e(3990),_e(6341)),kn=_e.n(Pn),In=_e(3875),Rn=_e.n(In),Nn=_e(6954),On=_e.n(Nn);_e(9585);function Dn(Po){var Io="luna-".concat(Po,"-");function _o(eo){return An()(Sn()(eo).split(/\s+/),function(so){return kn()(so,Io)?so:so.replace(/[\w-]+/,function(Rr){return"".concat(Io).concat(Rr)})}).join(" ")}return function(eo){if(/<[^>]*>/g.test(eo))try{var so=Ln().parse(eo);return Mn(so,function(Rr){Rr.attrs&&Rr.attrs.class&&(Rr.attrs.class=_o(Rr.attrs.class))}),Ln().stringify(so)}catch(Rr){return _o(eo)}return _o(eo)}}function Mn(Po,Io){for(var _o=0,eo=Po.length;_o<eo;_o++){var so=Po[_o];Io(so),so.content&&Mn(so.content,Io)}}var Bn="ontouchstart"in Tn(),$n="PointerEvent"in Tn(),Fn={start:"touchstart",move:"touchmove",end:"touchend"},Un={start:"mousedown",move:"mousemove",end:"mouseup"},Hn={start:"pointerdown",move:"pointermove",end:"pointerup"};function Wn(Po){return $n?Hn[Po]:Bn?Fn[Po]:Un[Po]}function Xn(Po,Io){var _o=Po==="x"?"clientX":"clientY";return Io[_o]?Io[_o]:Io.changedTouches?Io.changedTouches[0][_o]:0}function or(Po){return Rn()(Po.replace("px",""))}var fr=_e(3783),cr=_e.n(fr),Jn=_e(6329),mr=_e.n(Jn),Ir=_e(4193),yr=_e.n(Ir),Tr=_e(5852),Sr=_e.n(Tr),Yn=_e(6930),Qn=_e.n(Yn);function rr(Po){var Io=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_o){return!1}}();return function(){var _o,eo=(0,ze.Z)(Po);if(Io){var so=(0,ze.Z)(this).constructor;_o=Reflect.construct(eo,arguments,so)}else _o=eo.apply(this,arguments);return(0,$e.Z)(this,_o)}}var gr,Ar=function(Po){(0,Ue.Z)(_o,Po);var Io=rr(_o);function _o(eo,so){var Rr,dr,lo=so.compName,Co=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Do=Co===void 0?"light":Co;return(0,Ie.Z)(this,_o),(Rr=Io.call(this)).subComponents=[],Rr.compName=lo,Rr.c=Dn(lo),Rr.options={},Rr.container=eo,Rr.$container=qe()(eo),Rr.$container.addClass(["luna-".concat(lo),Rr.c("platform-".concat((dr=On()(),dr==="os x"?"mac":dr)))]),Rr.on("optionChange",function(go,vo,co){var Xr=Rr.c;go==="theme"&&(Rr.$container.rmClass(Xr("theme-".concat(co))).addClass(Xr("theme-".concat(vo))),cr()(Rr.subComponents,function(ro){return ro.setOption("theme",vo)}))}),Rr.setOption("theme",Do),Rr}return(0,Oe.Z)(_o,[{key:"destroy",value:function(){var eo=this;this.destroySubComponents();var so=this.$container,Rr=so.attr("class");cr()(Rr.split(/\s+/),function(dr){Qn()(dr,"luna-".concat(eo.compName))&&so.rmClass(dr)}),so.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(eo,so){var Rr=this,dr=this.options,lo={};typeof eo=="string"?lo[eo]=so:lo=eo,cr()(lo,function(Co,Do){var go=dr[Do];dr[Do]=Co,Rr.emit("optionChange",Do,Co,go)})}},{key:"getOption",value:function(eo){return this.options[eo]}},{key:"addSubComponent",value:function(eo){eo.setOption("theme",this.options.theme),this.subComponents.push(eo)}},{key:"removeSubComponent",value:function(eo){Sr()(this.subComponents,function(so){return so===eo})}},{key:"destroySubComponents",value:function(){cr()(this.subComponents,function(eo){return eo.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(eo){var so=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yr()(eo,so),mr()(this.options,eo)}},{key:"find",value:function(eo){return this.$container.find(this.c(eo))}}]),_o}(_n()),Br=_e(8901),Vr=_e.n(Br),Fr=_e(8613),Er=_e.n(Fr),Dr=_e(3367),Pr=_e.n(Dr),$r=_e(9833),Lr=_e.n($r),Or=_e(1286),Hr=_e.n(Or),qr=_e(242),ao=_e.n(qr),Ur=_e(2439),_r=_e.n(Ur),ur=_e(6156),kr=_e.n(ur),lr=_e(4777),br=_e.n(lr),Mr=_e(1754),vr=_e.n(Mr),jr=_e(6768),Gr=_e.n(jr),zr=_e(3063),to=_e.n(zr),no=_e(9882),oo=_e.n(no),Eo=_e(9853),So=_e.n(Eo),No=_e(6435),Fo=_e.n(No);function Bo(Po){var Io=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_o){return!1}}();return function(){var _o,eo=(0,ze.Z)(Po);if(Io){var so=(0,ze.Z)(this).constructor;_o=Reflect.construct(eo,arguments,so)}else _o=eo.apply(this,arguments);return(0,$e.Z)(this,_o)}}xe=_e.hmd(xe);var Ho=qe()(document),Go=function(Po){(0,Ue.Z)(_o,Po);var Io=Bo(_o);function _o(eo,so){var Rr;(0,Ie.Z)(this,_o),(Rr=Io.call(this,eo,{compName:"data-grid"},so)).resizeIdx=0,Rr.resizeStartX=0,Rr.resizeStartLeft=0,Rr.resizeDeltaX=0,Rr.nodes=[],Rr.colWidthsInitialized=!1,Rr.colMap={},Rr.selectedNode=null,Rr.isAscending=!0,Rr.colWidths=[],Rr.onResizeColMove=function(go){var vo=(0,Ne.Z)(Rr),co=vo.resizeIdx,Xr=vo.$resizers,ro=vo.colWidths,uo=vo.$colgroup,Ro=Xn("x",go=go.origEvent)-Rr.resizeStartX,wo=ro[co],xo=ro[co+1],bo=Fo()(24-wo,0),Oo=So()(xo-24,0);Ro=oo()(Ro,bo,Oo),uo.each(function(){var Mo=qe()(this).find("col");Mo.eq(co).css("width",wo+Ro+"px"),Mo.eq(co+1).css("width",xo-Ro+"px")}),Rr.resizeDeltaX=Ro;var To=Rr.resizeStartLeft+Ro;Xr.eq(co).css("left","".concat(To,"px"))},Rr.onResizeColEnd=function(go){Rr.onResizeColMove(go);var vo=(0,Ne.Z)(Rr),co=vo.c,Xr=vo.colWidths,ro=vo.resizeIdx,uo=vo.resizeDeltaX,Ro=Rr.options.columns,wo=Ro[ro],xo=Ro[ro+1],bo=Xr[ro]+uo,Oo=bo+(Xr[ro+1]-uo),To=wo.weight+xo.weight,Mo=To*(bo/Oo),Wo=To-Mo;wo.weight=Mo,xo.weight=Wo,Rr.applyColWeights(),qe()(document.body).rmClass(co("resizing")),Ho.off(Wn("move"),Rr.onResizeColMove),Ho.off(Wn("end"),Rr.onResizeColEnd)},Rr.$container.attr("tabindex","0"),Rr.resizeSensor=new(ao())(eo),Rr.onResize=_r()(function(){Rr.updateHeight(),Rr.updateWeights()},16),so.height&&(so.maxHeight=so.height,so.minHeight=so.height),Rr.initOptions(so,{minHeight:41,maxHeight:1/0,filter:""});var dr=Rr.options,lo=dr.columns,Co=dr.minHeight,Do=dr.maxHeight;return cr()(lo,function(go){yr()(go,{sortable:!1}),Rr.colMap[go.id]=go}),Do<Co&&Rr.setOption("maxHeight",Co),Rr.initTpl(),Rr.$headerRow=Rr.find(".header").find("tr"),Rr.$fillerRow=Rr.find(".filler-row"),Rr.fillerRow=Rr.$fillerRow.get(0),Rr.$tableBody=Rr.find(".data").find("tbody"),Rr.tableBody=Rr.$tableBody.get(0),Rr.$colgroup=Rr.$container.find("colgroup"),Rr.$dataContainer=Rr.find(".data-container"),Rr.renderHeader(),Rr.renderResizers(),Rr.updateWeights(),Rr.updateHeight(),Rr.bindEvent(),Rr}return(0,Oe.Z)(_o,[{key:"destroy",value:function(){(0,Fe.Z)((0,ze.Z)(_o.prototype),"destroy",this).call(this),this.resizeSensor.destroy(),this.$container.rmAttr("tabindex")}},{key:"remove",value:function(eo){var so=this.nodes,Rr=so.indexOf(eo);Rr>-1&&(eo.detach(),so.splice(Rr,1),eo===this.selectedNode&&this.selectNode(so[Rr]||so[Rr-1]||null),this.updateHeight())}},{key:"append",value:function(eo,so){var Rr=new si(this,eo,so);return this.nodes.push(Rr),this.sortId?this.sortNodes(this.sortId,this.isAscending):this.filterNode(Rr)&&(this.tableBody.insertBefore(Rr.container,this.fillerRow),this.updateHeight()),Rr}},{key:"clear",value:function(){cr()(this.nodes,function(eo){return eo.detach()}),this.nodes=[],this.selectNode(null),this.updateHeight()}},{key:"updateHeight",value:function(){var eo=this.$fillerRow,so=this.c,Rr=this.$container,dr=this.options,lo=dr.maxHeight,Co=dr.minHeight;this.$dataContainer.css({height:"auto"});var Do=this.$headerRow.offset().height+or(Rr.css("border-top-width"))+or(Rr.css("border-bottom-width"));(Co-=Do)<0&&(Co=0),lo-=Do;var go=this.$dataContainer.find(so(".node")),vo=go.length,co=0;vo>0&&(co=go.offset().height*vo),co>Co?eo.hide():eo.show(),co<Co?co=Co:co>=lo&&(co=lo),this.$dataContainer.css({height:co})}},{key:"selectNode",value:function(eo){var so;(kr()(eo)||eo!=null&&eo.selectable)&&(this.selectedNode&&(this.selectedNode.deselect(),this.selectedNode=null),kr()(eo)?this.emit("deselect"):(this.selectedNode=eo,(so=this.selectedNode)===null||so===void 0||so.select(),this.emit("select",eo)))}},{key:"onResizeColStart",value:function(eo){var so=this.c,Rr=this.resizeIdx,dr=this.$resizers;eo.stopPropagation(),eo.preventDefault(),eo=eo.origEvent,this.resizeStartX=Xn("x",eo),this.resizeStartLeft=or(dr.eq(Rr).css("left")),qe()(document.body).addClass(so("resizing")),Ho.on(Wn("move"),this.onResizeColMove),Ho.on(Wn("end"),this.onResizeColEnd)}},{key:"bindEvent",value:function(){var eo=this,so=this.c,Rr=this.$headerRow,dr=this.$tableBody,lo=this.$resizers;this.resizeSensor.addListener(this.onResize);var Co=this;dr.on("click",so(".node"),function(){Co.selectNode(this.dataGridNode)}),Rr.on("click",so(".sortable"),function(Do){Do.stopPropagation();var go=qe()(this),vo=go.data("id"),co=go.data("order")!=="descending";go.data("order",co?"descending":"ascending"),Co.sortNodes(vo,co),Rr.find("th").each(function(){var Xr=qe()(this);Xr.data("id")!==vo&&Xr.rmAttr("data-order")})}),lo.on(Wn("start"),function(Do){var go=qe()(this);Co.resizeIdx=Rn()(go.data("idx")),Co.onResizeColStart(Do)}),this.on("optionChange",function(Do){switch(Do){case"minHeight":case"maxHeight":eo.updateHeight();break;case"filter":eo.renderData()}})}},{key:"sortNodes",value:function(eo,so){var Rr=this.colMap[eo].comparator||Ai;this.nodes.sort(function(dr,lo){var Co=dr.data[eo],Do=lo.data[eo];return Lr()(Co)&&(Co=Co.innerText),Lr()(Do)&&(Do=Do.innerText),so?Rr(Co,Do):Rr(Do,Co)}),this.renderData(),this.sortId=eo,this.isAscending=so}},{key:"updateWeights",value:function(){var eo=this.container,so=this.$headerRow,Rr=this.options.columns,dr=eo.offsetWidth;if(!this.colWidthsInitialized&&dr){for(var lo=0,Co=Rr.length;lo<Co;lo++){var Do=Rr[lo];if(!Do.weight){var go=so.find("th").get(lo).offsetWidth;Do.weight=100*go/dr}}this.colWidthsInitialized=!0}this.applyColWeights()}},{key:"applyColWeights",value:function(){var eo=this.container,so=this.$colgroup,Rr=this.options.columns,dr=eo.offsetWidth;if(!(dr<=0)){for(var lo=0,Co=Rr.length,Do=0;Do<Co;Do++)lo+=Rr[Do].weight;var go="",vo=0,co=0;this.colWidths=[];for(var Xr=0;Xr<Co;Xr++){var ro=(vo+=Rr[Xr].weight)*dr/lo|0,uo=Math.max(ro-co,14);co=ro,go+='<col style="width:'.concat(uo,'px"></col>'),this.colWidths[Xr]=uo}so.html(go),this.positionResizers()}}},{key:"positionResizers",value:function(){for(var eo=this.colWidths,so=[],Rr=eo.length-1,dr=0;dr<Rr;dr++)so[dr]=(so[dr-1]||0)+eo[dr];for(var lo=0;lo<Rr;lo++)this.$resizers.eq(lo).css("left",so[lo]+"px")}},{key:"renderData",value:function(){var eo=this,so=this.tableBody,Rr=this.nodes,dr=this.fillerRow;cr()(Rr,function(lo){return lo.detach()}),cr()(Rr,function(lo){eo.filterNode(lo)&&so.insertBefore(lo.container,dr)}),this.selectedNode&&!this.filterNode(this.selectedNode)&&this.selectNode(null),this.updateHeight()}},{key:"filterNode",value:function(eo){var so=this.options.filter;if(so){if(br()(so))return so(eo);if(vr()(so))return so.test(eo.text());if(Gr()(so)&&(so=Sn()(so)))return kn()(to()(eo.text()),to()(so))}return!0}},{key:"renderHeader",value:function(){var eo=this.c,so="",Rr="";cr()(this.options.columns,function(dr){var lo=Vr()(dr.title);dr.sortable?so+=eo('<th class="sortable" data-id="'.concat(dr.id,'">').concat(lo,"</th>")):so+="<th>".concat(lo,"</th>"),Rr+="<td></td>"}),this.$headerRow.html(so),this.$fillerRow.html(Rr)}},{key:"renderResizers",value:function(){for(var eo="",so=this.options.columns.length-1,Rr=0;Rr<so;Rr++)eo+=this.c('<div class="resizer" data-idx="'.concat(Rr,'"></div>'));this.$container.append(eo),this.$resizers=this.find(".resizer")}},{key:"initTpl",value:function(){this.$container.html(this.c(vn()(gr||(gr=(0,Ce.Z)(['\n        <div class="header-container">\n          <table class="header">\n            <colgroup></colgroup>\n            <tbody>\n              <tr></tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="data-container">\n          <table class="data">\n            <colgroup></colgroup>\n            <tbody>\n              <tr class="filler-row"></tr>\n            </tbody>\n          </table>\n        </div>\n      '])))))}}]),_o}(Ar),si=function(){function Po(Io,_o){var eo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{selectable:!1};(0,Ie.Z)(this,Po),this.container=Er()("tr"),this.selectable=!1,this.container.dataGridNode=this,this.$container=qe()(this.container),this.$container.addClass(Io.c("node")),this.dataGrid=Io,this.data=_o,eo.selectable&&(this.selectable=eo.selectable),this.render()}return(0,Oe.Z)(Po,[{key:"text",value:function(){return this.$container.text()}},{key:"detach",value:function(){this.$container.remove()}},{key:"select",value:function(){this.$container.addClass(this.dataGrid.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.dataGrid.c("selected"))}},{key:"render",value:function(){var Io=this.data,_o=this.$container,eo=this.container,so=this.dataGrid.getOption("columns");_o.html(""),cr()(so,function(Rr){var dr=Er()("td"),lo=Io[Rr.id];Hr()(lo)||(Lr()(lo)?dr.appendChild(lo):dr.innerText=Pr()(lo)),eo.appendChild(dr)})}}]),Po}();function Ai(Po,Io){if(Po=Pr()(Po),Io=Pr()(Io),Qn()(Po,"_")&&!Qn()(Io,"_"))return 1;if(Qn()(Io,"_")&&!Qn()(Po,"_"))return-1;for(var _o,eo,so,Rr,dr=/^\d+|^\D+/;;){if(!Po)return Io?-1:0;if(!Io)return 1;if(_o=Po.match(dr)[0],eo=Io.match(dr)[0],so=!isNaN(_o),Rr=!isNaN(eo),so&&!Rr)return-1;if(Rr&&!so)return 1;if(so&&Rr){var lo=_o-eo;if(lo)return lo;if(_o.length!==eo.length)return+_o||+eo?eo.length-_o.length:_o.length-eo.length}else if(_o!==eo)return _o<eo?-1:1;Po=Po.substring(_o.length),Io=Io.substring(eo.length)}}(function(Po,Io){try{Po.exports=Io,Po.exports.default=Io}catch(_o){}})(xe,Go)},8209:function(xe,pe,_e){_e.d(pe,{Z:function(){return qr}});var Ce=_e(168),Ie=_e(4942),Oe=_e(5671),Ne=_e(3144),Fe=_e(7326),Ue=_e(9340),$e=_e(2963),ze=_e(1120),Ve=_e(1443),qe=_e.n(Ve),En=_e(1512),vn=_e.n(En),hn=_e(2461),_n=_e.n(hn),bn=_e(4331),An=_e.n(bn),xn=_e(5610),Sn=_e.n(xn),Cn=_e(7483),Tn=_e.n(Cn),wn=(_e(3990),_e(6341)),Ln=_e.n(wn),Pn=(_e(3875),_e(6954)),kn=_e.n(Pn);_e(9585);function In(_r){var ur="luna-".concat(_r,"-");function kr(lr){return _n()(An()(lr).split(/\s+/),function(br){return Ln()(br,ur)?br:br.replace(/[\w-]+/,function(Mr){return"".concat(ur).concat(Mr)})}).join(" ")}return function(lr){if(/<[^>]*>/g.test(lr))try{var br=Tn().parse(lr);return Rn(br,function(Mr){Mr.attrs&&Mr.attrs.class&&(Mr.attrs.class=kr(Mr.attrs.class))}),Tn().stringify(br)}catch(Mr){return kr(lr)}return kr(lr)}}function Rn(_r,ur){for(var kr=0,lr=_r.length;kr<lr;kr++){var br=_r[kr];ur(br),br.content&&Rn(br.content,ur)}}var Nn="ontouchstart"in Sn();function On(){var _r=kn()();return _r==="os x"?"mac":_r}var Dn=_e(3783),Mn=_e.n(Dn),Bn=_e(6329),$n=_e.n(Bn),Fn=_e(4193),Un=_e.n(Fn),Hn=_e(5852),Wn=_e.n(Hn);function Xn(_r){var ur=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(kr){return!1}}();return function(){var kr,lr=(0,ze.Z)(_r);if(ur){var br=(0,ze.Z)(this).constructor;kr=Reflect.construct(lr,arguments,br)}else kr=lr.apply(this,arguments);return(0,$e.Z)(this,kr)}}var or,fr=function(_r){(0,Ue.Z)(kr,_r);var ur=Xn(kr);function kr(lr,br){var Mr,vr=br.compName,jr=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Gr=jr===void 0?"light":jr;return(0,Oe.Z)(this,kr),(Mr=ur.call(this)).subComponents=[],Mr.compName=vr,Mr.c=In(vr),Mr.options={},Mr.container=lr,Mr.$container=vn()(lr),Mr.$container.addClass(["luna-".concat(vr),Mr.c("platform-".concat(On()))]),Mr.on("optionChange",function(zr,to,no){var oo=Mr.c;zr==="theme"&&(Mr.$container.rmClass(oo("theme-".concat(no))).addClass(oo("theme-".concat(to))),Mn()(Mr.subComponents,function(Eo){return Eo.setOption("theme",to)}))}),Mr.setOption("theme",Gr),Mr}return(0,Ne.Z)(kr,[{key:"destroy",value:function(){this.destroySubComponents();var lr=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(lr("platform-".concat(On()))).rmClass(lr("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(lr,br){var Mr=this,vr=this.options,jr={};typeof lr=="string"?jr[lr]=br:jr=lr,Mn()(jr,function(Gr,zr){var to=vr[zr];vr[zr]=Gr,Mr.emit("optionChange",zr,Gr,to)})}},{key:"getOption",value:function(lr){return this.options[lr]}},{key:"addSubComponent",value:function(lr){lr.setOption("theme",this.options.theme),this.subComponents.push(lr)}},{key:"removeSubComponent",value:function(lr){Wn()(this.subComponents,function(br){return br===lr})}},{key:"destroySubComponents",value:function(){Mn()(this.subComponents,function(lr){return lr.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(lr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Un()(lr,br),$n()(this.options,lr)}},{key:"find",value:function(lr){return this.$container.find(this.c(lr))}}]),kr}(qe()),cr=_e(8613),Jn=_e.n(cr),mr=_e(5972),Ir=_e.n(mr),yr=_e(1907),Tr=_e.n(yr),Sr=_e(1352),Yn=_e.n(Sr),Qn=_e(2289),rr=_e.n(Qn),gr=_e(3651),Ar=_e.n(gr),Br=_e(7756),Vr=_e.n(Br),Fr=_e(8901),Er=_e.n(Fr),Dr=_e(1672),Pr=_e.n(Dr);function $r(_r,ur){var kr=Object.keys(_r);if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(_r);ur&&(lr=lr.filter(function(br){return Object.getOwnPropertyDescriptor(_r,br).enumerable})),kr.push.apply(kr,lr)}return kr}function Lr(_r){for(var ur=1;ur<arguments.length;ur++){var kr=arguments[ur]!=null?arguments[ur]:{};ur%2?$r(Object(kr),!0).forEach(function(lr){(0,Ie.Z)(_r,lr,kr[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_r,Object.getOwnPropertyDescriptors(kr)):$r(Object(kr)).forEach(function(lr){Object.defineProperty(_r,lr,Object.getOwnPropertyDescriptor(kr,lr))})}return _r}function Or(_r){var ur=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(kr){return!1}}();return function(){var kr,lr=(0,ze.Z)(_r);if(ur){var br=(0,ze.Z)(this).constructor;kr=Reflect.construct(lr,arguments,br)}else kr=lr.apply(this,arguments);return(0,$e.Z)(this,kr)}}xe=_e.hmd(xe);var Hr={comment:"",string:"",number:"",keyword:"",operator:""},qr=function(_r){(0,Ue.Z)(kr,_r);var ur=Or(kr);function kr(lr){var br,Mr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Oe.Z)(this,kr),(br=ur.call(this,lr,{compName:"dom-viewer"},Mr)).isExpanded=!1,br.childNodes=[],br.childNodeDomViewers=[],br.toggle=function(){br.isExpanded?br.collapse():br.expand()},br.initOptions(Mr,{node:document.documentElement,parent:null,isEndTag:!1,rootContainer:lr,rootDomViewer:(0,Fe.Z)(br),ignore:function(){return!1}}),br.initTpl(),br.bindEvent(),br.options.isEndTag||br.initObserver(),br}return(0,Ne.Z)(kr,[{key:"select",value:function(lr){var br=this.c,Mr=this.options;if(!lr||lr&&Mr.node===lr)return this.$tag.hasClass(br("selected"))?void 0:(vn()(this.options.rootContainer).find(br(".selected")).rmClass(br("selected")).rmAttr("tabindex"),this.$tag.attr("tabindex","0").get(0).focus(),this.$tag.addClass(br("selected")),void Mr.rootDomViewer.emit("select",Mr.node));if(lr.nodeType===Node.ELEMENT_NODE)for(var vr=lr,jr=lr.parentElement;jr;){if(jr===Mr.node){this.expand(),this.childNodeDomViewers[this.childNodes.indexOf(vr)].select(lr);break}vr=jr,jr=jr.parentElement}}},{key:"attach",value:function(){this.container.appendChild(this.$tag.get(0)),this.$children&&this.container.appendChild(this.$children.get(0))}},{key:"isAttached",value:function(){return!!this.$tag.get(0).parentNode}},{key:"detach",value:function(){this.$tag.remove(),this.$children&&this.$children.remove()}},{key:"expand",value:function(){this.isExpandable()&&!this.isExpanded&&(this.isExpanded=!0,this.renderExpandTag(),this.renderChildNodes())}},{key:"collapse",value:function(){this.isExpandable()&&this.isExpanded&&(this.isExpanded=!1,this.renderCollapseTag())}},{key:"destroy",value:function(){var lr=this.c;this.$tag.hasClass(lr("selected"))&&this.options.rootDomViewer.emit("deselect"),this.detach(),this.observer&&this.observer.disconnect(),this.destroySubComponents(),this.options.rootDomViewer===this&&this.$container.rmClass("luna-dom-viewer").rmClass(lr("platform-".concat(On()))).rmClass(lr("theme-".concat(this.options.theme))),this.emit("destroy"),this.removeAllListeners()}},{key:"renderExpandTag",value:function(){var lr=this.$tag,br=this.c,Mr=this.options.node;lr.html(this.renderHtmlTag(Lr(Lr({},ao(Mr)),{},{hasTail:!1,hasToggleButton:!0}))),lr.addClass(br("expanded")),this.$children.rmClass(br("hidden"))}},{key:"renderCollapseTag",value:function(){var lr=this.$tag,br=this.c,Mr=this.options.node;this.$children.addClass(br("hidden")),this.$tag.html(this.renderHtmlTag(Lr(Lr({},ao(Mr)),{},{hasTail:!0,hasToggleButton:!0}))),lr.rmClass(br("expanded"))}},{key:"initObserver",value:function(){var lr=this;this.observer=new(rr())(function(br){Mn()(br,function(Mr){lr.handleMutation(Mr)})}),this.observer.observe(this.options.node,{attributes:!0,childList:!0,characterData:!0})}},{key:"handleMutation",value:function(lr){var br=this.$tag,Mr=this.c,vr=this.options,jr=vr.node,Gr=vr.ignore;if(Ln()(["attributes","childList"],lr.type)){if(lr.type==="childList"){if(Pr()(lr.addedNodes,Gr)&&Pr()(lr.removedNodes,Gr))return;this.renderChildNodes()}this.isExpandable()?this.isExpanded?this.renderExpandTag():this.renderCollapseTag():(this.$children.addClass(Mr("hidden")),br.html(this.renderHtmlTag(Lr(Lr({},ao(jr)),{},{hasTail:!1}))))}else lr.type==="characterData"&&(jr.nodeType===Node.TEXT_NODE?br.html(this.renderTextNode(jr)):jr.nodeType===Node.COMMENT_NODE&&br.html(this.renderHtmlComment(jr.nodeValue)))}},{key:"bindEvent",value:function(){var lr=this,br=this.c,Mr=this.$tag;this.options.node.nodeType===Node.ELEMENT_NODE&&Mr.on("click",br(".toggle"),function(vr){vr.stopPropagation(),lr.toggle()}),Nn?Mr.on("click",function(){return lr.select()}):Mr.on("mousedown",function(){return lr.select()})}},{key:"isExpandable",value:function(){return this.options.node.nodeType===Node.ELEMENT_NODE&&this.getChildNodes().length>0}},{key:"getChildNodes",value:function(){var lr=this.options,br=lr.rootContainer,Mr=lr.ignore,vr=this.options.node,jr=Yn()(vr.childNodes);return jr=Ir()(jr,function(Gr){if(Gr.nodeType===Node.TEXT_NODE||Gr.nodeType===Node.COMMENT_NODE){var zr=Gr.nodeValue;if(An()(zr)==="")return!1}return Gr!==br&&!Mr(Gr)})}},{key:"initTpl",value:function(){var lr=this.container,br=this.c,Mr=this.options,vr=Mr.node,jr=Mr.isEndTag,Gr=vn()(Jn()("li"));if(Gr.addClass(br("tree-item")),this.$tag=Gr,jr)Gr.html(br('<span class="html-tag" style="margin-left: -15px;">&lt;<span class="tag-name">/'.concat(vr.tagName.toLocaleLowerCase(),'</span>&gt;</span><span class="selection"></span>')));else if(vr.nodeType===Node.ELEMENT_NODE){var zr=this.isExpandable(),to=Lr(Lr({},ao(vr)),{},{hasTail:zr,hasToggleButton:zr});Gr.html(this.renderHtmlTag(to))}else if(vr.nodeType===Node.TEXT_NODE)Gr.html(this.renderTextNode(vr));else{if(vr.nodeType!==Node.COMMENT_NODE)return;var no=vr.nodeValue;if(no.trim()==="")return;Gr.html(this.renderHtmlComment(no))}if(lr.appendChild(Gr.get(0)),vr.nodeType===vr.ELEMENT_NODE){var oo=vn()(Jn()("ul"));oo.addClass([br("children"),br("hidden")]),lr.appendChild(oo.get(0)),this.$children=oo}}},{key:"renderChildNodes",value:function(){var lr=this,br=this.options.node,Mr=this.options,vr=Mr.rootContainer,jr=Mr.ignore,Gr=Mr.rootDomViewer,zr=this.$children.get(0),to=this.childNodes,no=this.childNodeDomViewers;Mn()(no,function(So){So.detach(),lr.removeSubComponent(So)}),this.endTagDomViewer&&this.endTagDomViewer.detach();var oo=this.getChildNodes();this.childNodes=oo;var Eo=[];this.childNodeDomViewers=Eo,Mn()(oo,function(So,No){var Fo,Bo=to.indexOf(So);(Fo=Bo>-1?no[Bo]:new kr(zr,{node:So,parent:lr,rootContainer:vr,rootDomViewer:Gr,ignore:jr})).attach(),Eo[No]=Fo,lr.addSubComponent(Fo)}),Mn()(no,function(So){So.isAttached()||So.destroy()}),br&&(this.endTagDomViewer?this.endTagDomViewer.attach():(this.endTagDomViewer=new kr(zr,{node:br,parent:this,isEndTag:!0,rootContainer:vr,rootDomViewer:Gr,ignore:jr}),this.addSubComponent(this.endTagDomViewer)))}},{key:"renderHtmlTag",value:function(lr){var br=_n()(lr.attributes,function(jr){var Gr=jr.name,zr=jr.value,to=jr.isLink;return'<span class="attribute">\n          <span class="attribute-name">'.concat(Er()(Gr),"</span>").concat(zr?'="<span class="attribute-value'.concat(to?" attribute-underline":"",'">').concat(Er()(zr),'</span>"'):"","</span>")}).join(""),Mr="";lr.hasTail?Mr="".concat(lr.hasTail?"…":"",'<span class="html-tag">&lt;<span class="tag-name">/').concat(lr.tagName,"</span>&gt;</span>"):this.isExpandable()||(Mr='<span class="html-tag">&lt;<span class="tag-name">/'.concat(lr.tagName,"</span>&gt;</span>"));var vr="";return lr.hasToggleButton&&(vr='<div class="toggle "><span class="icon icon-arrow-right"></span><span class="icon icon-arrow-down"></span></div>'),this.c(Tr()(or||(or=(0,Ce.Z)(["\n      ",'\n      <span class="html-tag">&lt;<span class="tag-name">',"</span>","&gt;</span>",'\n      <span class="selection"></span>'])),vr,lr.tagName,br,Mr))}},{key:"renderTextNode",value:function(lr){var br=this.c,Mr=lr.nodeValue,vr=lr.parentElement,jr='<span class="text-node">',Gr='</span><span class="selection"></span>';if(vr&&Mr.length<1e4){if(vr.tagName==="STYLE")return br("".concat(jr).concat(Ar()(Mr,"css",Hr)).concat(Gr));if(vr.tagName==="SCRIPT")return br("".concat(jr).concat(Ar()(Mr,"js",Hr)).concat(Gr))}return br('"'.concat(jr).concat(Er()(Vr()(Mr,1e4,{separator:" ",ellipsis:"…"}))).concat(Gr,'"'))}},{key:"renderHtmlComment",value:function(lr){return this.c('<span class="html-comment">&lt;!-- '.concat(Er()(lr),' --&gt;</span><span class="selection"></span>'))}}]),kr}(fr);function ao(_r){var ur={tagName:"",attributes:[]};ur.tagName=_r.tagName.toLocaleLowerCase();var kr=[];return Mn()(_r.attributes,function(lr){var br=lr.name,Mr=lr.value;kr.push({name:br,value:Mr,isLink:Ur(_r,br)})}),ur.attributes=kr,ur}function Ur(_r,ur){var kr=_r.tagName;return(kr==="SCRIPT"||kr==="IMAGE"||kr==="VIDEO"||kr==="AUDIO")&&ur==="src"||kr==="LINK"&&ur==="href"}(function(_r,ur){try{_r.exports=ur,_r.exports.default=ur}catch(kr){}})(xe,qr)},129:function(xe,pe,_e){_e.d(pe,{Z:function(){return Qn}});var Ce=_e(907),Ie=_e(181);function Oe(Fr){return function(Er){if(Array.isArray(Er))return(0,Ce.Z)(Er)}(Fr)||function(Er){if(typeof Symbol<"u"&&Er[Symbol.iterator]!=null||Er["@@iterator"]!=null)return Array.from(Er)}(Fr)||(0,Ie.Z)(Fr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=_e(168),Fe=_e(5671),Ue=_e(3144),$e=_e(7326),ze=_e(1752),Ve=_e(9340),qe=_e(2963),En=_e(1120),vn=_e(1443),hn=_e.n(vn),_n=_e(1512),bn=_e.n(_n),An=_e(2461),xn=_e.n(An),Sn=_e(4331),Cn=_e.n(Sn),Tn=_e(5610),wn=_e.n(Tn),Ln=_e(7483),Pn=_e.n(Ln),kn=(_e(3990),_e(6341)),In=_e.n(kn),Rn=(_e(3875),_e(6954)),Nn=_e.n(Rn);_e(9585);function On(Fr){var Er="luna-".concat(Fr,"-");function Dr(Pr){return xn()(Cn()(Pr).split(/\s+/),function($r){return In()($r,Er)?$r:$r.replace(/[\w-]+/,function(Lr){return"".concat(Er).concat(Lr)})}).join(" ")}return function(Pr){if(/<[^>]*>/g.test(Pr))try{var $r=Pn().parse(Pr);return Dn($r,function(Lr){Lr.attrs&&Lr.attrs.class&&(Lr.attrs.class=Dr(Lr.attrs.class))}),Pn().stringify($r)}catch(Lr){return Dr(Pr)}return Dr(Pr)}}function Dn(Fr,Er){for(var Dr=0,Pr=Fr.length;Dr<Pr;Dr++){var $r=Fr[Dr];Er($r),$r.content&&Dn($r.content,Er)}}wn();var Mn=_e(3783),Bn=_e.n(Mn),$n=_e(6329),Fn=_e.n($n),Un=_e(4193),Hn=_e.n(Un),Wn=_e(5852),Xn=_e.n(Wn),or=_e(6930),fr=_e.n(or);function cr(Fr){var Er=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Dr){return!1}}();return function(){var Dr,Pr=(0,En.Z)(Fr);if(Er){var $r=(0,En.Z)(this).constructor;Dr=Reflect.construct(Pr,arguments,$r)}else Dr=Pr.apply(this,arguments);return(0,qe.Z)(this,Dr)}}var Jn,mr=function(Fr){(0,Ve.Z)(Dr,Fr);var Er=cr(Dr);function Dr(Pr,$r){var Lr,Or,Hr=$r.compName,qr=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,ao=qr===void 0?"light":qr;return(0,Fe.Z)(this,Dr),(Lr=Er.call(this)).subComponents=[],Lr.compName=Hr,Lr.c=On(Hr),Lr.options={},Lr.container=Pr,Lr.$container=bn()(Pr),Lr.$container.addClass(["luna-".concat(Hr),Lr.c("platform-".concat((Or=Nn()(),Or==="os x"?"mac":Or)))]),Lr.on("optionChange",function(Ur,_r,ur){var kr=Lr.c;Ur==="theme"&&(Lr.$container.rmClass(kr("theme-".concat(ur))).addClass(kr("theme-".concat(_r))),Bn()(Lr.subComponents,function(lr){return lr.setOption("theme",_r)}))}),Lr.setOption("theme",ao),Lr}return(0,Ue.Z)(Dr,[{key:"destroy",value:function(){var Pr=this;this.destroySubComponents();var $r=this.$container,Lr=$r.attr("class");Bn()(Lr.split(/\s+/),function(Or){fr()(Or,"luna-".concat(Pr.compName))&&$r.rmClass(Or)}),$r.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Pr,$r){var Lr=this,Or=this.options,Hr={};typeof Pr=="string"?Hr[Pr]=$r:Hr=Pr,Bn()(Hr,function(qr,ao){var Ur=Or[ao];Or[ao]=qr,Lr.emit("optionChange",ao,qr,Ur)})}},{key:"getOption",value:function(Pr){return this.options[Pr]}},{key:"addSubComponent",value:function(Pr){Pr.setOption("theme",this.options.theme),this.subComponents.push(Pr)}},{key:"removeSubComponent",value:function(Pr){Xn()(this.subComponents,function($r){return $r===Pr})}},{key:"destroySubComponents",value:function(){Bn()(this.subComponents,function(Pr){return Pr.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Pr){var $r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hn()(Pr,$r),Fn()(this.options,Pr)}},{key:"find",value:function(Pr){return this.$container.find(this.c(Pr))}}]),Dr}(hn()),Ir=_e(1907),yr=_e.n(Ir),Tr=_e(8613),Sr=_e.n(Tr);function Yn(Fr){var Er=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Dr){return!1}}();return function(){var Dr,Pr=(0,En.Z)(Fr);if(Er){var $r=(0,En.Z)(this).constructor;Dr=Reflect.construct(Pr,arguments,$r)}else Dr=Pr.apply(this,arguments);return(0,qe.Z)(this,Dr)}}xe=_e.hmd(xe);var Qn=function(Fr){(0,Ve.Z)(Dr,Fr);var Er=Yn(Dr);function Dr(Pr){var $r,Lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Fe.Z)(this,Dr),($r=Er.call(this,Pr,{compName:"modal"},Lr)).render=function(){var Or=(0,$e.Z)($r),Hr=Or.options,qr=Or.c,ao=Or.$body;Hr.title?(ao.rmClass(qr("no-title")),$r.$title.text(Hr.title)):ao.addClass(qr("no-title")),Hr.footer?(ao.rmClass(qr("no-footer")),$r.$footer.html("").append(Hr.footer)):ao.addClass(qr("no-footer")),Hr.showClose?$r.$close.show():$r.$close.hide(),$r.$body.css("width",Hr.width+"px"),$r.$content.html("").append(Hr.content)},$r.hide(),$r.initOptions(Lr,{title:"",content:"",footer:"",showClose:!0,width:Vr()}),$r.initTpl(),$r.$title=$r.find(".title"),$r.$content=$r.find(".content"),$r.$body=$r.find(".body"),$r.$footer=$r.find(".footer"),$r.$close=$r.find(".icon-close"),$r.bindEvent(),$r}return(0,Ue.Z)(Dr,[{key:"show",value:function(){this.render(),this.$container.rmClass(this.c("hidden"))}},{key:"hide",value:function(){this.$container.addClass(this.c("hidden"))}},{key:"destroy",value:function(){(0,ze.Z)((0,En.Z)(Dr.prototype),"destroy",this).call(this),this.$container.rmClass(this.c("hidden"))}},{key:"bindEvent",value:function(){var Pr=this;this.$body.on("click",this.c(".icon-close"),function(){return Pr.hide()}),this.on("optionChange",this.render)}},{key:"initTpl",value:function(){this.$container.html(this.c(yr()(Jn||(Jn=(0,Ne.Z)(['\n      <div class="body">\n        <span class="icon icon-close"></span>\n        <div class="title"></div>\n        <div class="content"></div>\n        <div class="footer"></div>\n      </div>\n      '])))))}}],[{key:"alert",value:function(Pr){var $r=Ar(),Lr=$r.c;$r.setOption({title:"",content:Pr,width:Vr(),footer:Br({OK:{type:"primary",onclick:function(){$r.hide()}}},Lr)}),$r.show()}},{key:"confirm",value:function(Pr){return new Promise(function($r){var Lr=Ar(),Or=Lr.c;Lr.setOption({title:"",content:Pr,width:Vr(),footer:Br({Cancel:{type:"secondary",onclick:function(){Lr.hide(),$r(!1)}},OK:{type:"primary",onclick:function(){Lr.hide(),$r(!0)}}},Or)}),Lr.show()})}},{key:"prompt",value:function(){var Pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise(function(Lr){var Or=Ar(),Hr=Or.c,qr=Sr()("input"+Hr(".input"),{value:$r});function ao(){Or.hide(),Lr(qr.value)}bn()(qr).on("keypress",function(_r){(_r=_r.origEvent).key==="Enter"&&ao()}),Or.setOption({title:Pr,content:qr,width:Vr(),footer:Br({Cancel:{type:"secondary",onclick:function(){Or.hide(),Lr(null)}},OK:{type:"primary",onclick:ao}},Hr)}),Or.show();var Ur=qr.value.length;qr.setSelectionRange(Ur,Ur),qr.focus()})}},{key:"setContainer",value:function(Pr){gr=Pr}}]),Dr}(mr),rr=null,gr=null;function Ar(){return gr||(gr=Sr()("div"),document.body.append(gr)),rr||(rr=new Qn(gr,{showClose:!1})),rr}function Br(Fr,Er){var Dr=xn()(Fr,function(Pr,$r){return Sr()(Er(".button")+Er("."+Pr.type),{onclick:Pr.onclick},$r)});return Sr().apply(void 0,[Er(".button-group"),{}].concat(Oe(Dr)))}function Vr(){return window.innerWidth<500?window.innerWidth-32:500}(function(Fr,Er){try{Fr.exports=Er,Fr.exports.default=Er}catch(Dr){}})(xe,Qn)},8299:function(xe,pe,_e){_e.d(pe,{q:function(){return dr},Z:function(){return Do}});var Ce=_e(1002),Ie=_e(5671),Oe=_e(3144),Ne=_e(7326),Fe=_e(1752),Ue=_e(9340),$e=_e(2963),ze=_e(1120),Ve=_e(415),qe=_e.n(Ve),En=_e(3990),vn=_e.n(En),hn=_e(4696),_n=_e.n(hn),bn=_e(3063),An=_e.n(bn),xn=_e(5166),Sn=_e.n(xn),Cn=_e(6472),Tn=_e.n(Cn),wn=_e(3023),Ln=_e.n(wn),Pn=_e(2533),kn=_e.n(Pn),In=_e(3783),Rn=_e.n(In),Nn=_e(300),On=_e.n(Nn),Dn=_e(4321),Mn=_e.n(Dn),Bn=_e(3085),$n=_e.n(Bn),Fn=_e(1512),Un=_e.n(Fn),Hn=_e(801),Wn=_e.n(Hn),Xn=_e(7756),or=_e.n(Xn),fr=_e(6768),cr=_e.n(fr),Jn=_e(1116),mr=_e.n(Jn),Ir=_e(5972),yr=_e.n(Ir),Tr=_e(996),Sr=_e.n(Tr),Yn=_e(3367),Qn=_e.n(Yn),rr=_e(1214),gr=_e.n(rr),Ar=_e(6339),Br=_e.n(Ar),Vr=_e(6329),Fr=_e.n(Vr),Er=function(){function go(){(0,Ie.Z)(this,go),this.id=0,this.visited=[]}return(0,Oe.Z)(go,[{key:"set",value:function(vo,co){var Xr=this.visited,ro=this.id,uo={id:ro,val:vo};return Fr()(uo,co),Xr.push(uo),this.id++,ro}},{key:"get",value:function(vo){for(var co=this.visited,Xr=0,ro=co.length;Xr<ro;Xr++){var uo=co[Xr];if(vo===uo.val)return uo}return!1}}]),go}(),Dr=_e(4331),Pr=_e.n(Dr),$r=_e(8901),Lr=_e.n($r),Or=function(go){return Lr()(Qn()(go)).replace(/\n/g,"↵").replace(/\f|\r|\t/g,"")};function Hr(go){return go.length>500&&(go=go.slice(0,500)+"..."),"ƒ "+Pr()(function(vo){var co=vo.match(qr);return co?co[0]:vo}(go).replace("function",""))}var qr=/function(.*?)\((.*?)\)/,ao=_e(6930),Ur=_e.n(ao),_r=_e(5229),ur=_e.n(_r),kr=_e(3875),lr=_e.n(kr),br=_e(9433),Mr=_e.n(br),vr=_e(1443),jr=_e.n(vr),Gr=_e(2461),zr=_e.n(Gr),to=_e(5610),no=_e.n(to),oo=_e(7483),Eo=_e.n(oo),So=_e(6341),No=_e.n(So),Fo=_e(6954),Bo=_e.n(Fo);_e(9585);function Ho(go){var vo="luna-".concat(go,"-");function co(Xr){return zr()(Pr()(Xr).split(/\s+/),function(ro){return No()(ro,vo)?ro:ro.replace(/[\w-]+/,function(uo){return"".concat(vo).concat(uo)})}).join(" ")}return function(Xr){if(/<[^>]*>/g.test(Xr))try{var ro=Eo().parse(Xr);return Go(ro,function(uo){uo.attrs&&uo.attrs.class&&(uo.attrs.class=co(uo.attrs.class))}),Eo().stringify(ro)}catch(uo){return co(Xr)}return co(Xr)}}function Go(go,vo){for(var co=0,Xr=go.length;co<Xr;co++){var ro=go[co];vo(ro),ro.content&&Go(ro.content,vo)}}no();function si(){var go=Bo()();return go==="os x"?"mac":go}var Ai=_e(4193),Po=_e.n(Ai),Io=_e(5852),_o=_e.n(Io);function eo(go){var vo=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(co){return!1}}();return function(){var co,Xr=(0,ze.Z)(go);if(vo){var ro=(0,ze.Z)(this).constructor;co=Reflect.construct(Xr,arguments,ro)}else co=Xr.apply(this,arguments);return(0,$e.Z)(this,co)}}var so=function(go){(0,Ue.Z)(co,go);var vo=eo(co);function co(Xr,ro){var uo,Ro=ro.compName,wo=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,xo=wo===void 0?"light":wo;return(0,Ie.Z)(this,co),(uo=vo.call(this)).subComponents=[],uo.compName=Ro,uo.c=Ho(Ro),uo.options={},uo.container=Xr,uo.$container=Un()(Xr),uo.$container.addClass(["luna-".concat(Ro),uo.c("platform-".concat(si()))]),uo.on("optionChange",function(bo,Oo,To){var Mo=uo.c;bo==="theme"&&(uo.$container.rmClass(Mo("theme-".concat(To))).addClass(Mo("theme-".concat(Oo))),Rn()(uo.subComponents,function(Wo){return Wo.setOption("theme",Oo)}))}),uo.setOption("theme",xo),uo}return(0,Oe.Z)(co,[{key:"destroy",value:function(){this.destroySubComponents();var Xr=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Xr("platform-".concat(si()))).rmClass(Xr("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Xr,ro){var uo=this,Ro=this.options,wo={};typeof Xr=="string"?wo[Xr]=ro:wo=Xr,Rn()(wo,function(xo,bo){var Oo=Ro[bo];Ro[bo]=xo,uo.emit("optionChange",bo,xo,Oo)})}},{key:"getOption",value:function(Xr){return this.options[Xr]}},{key:"addSubComponent",value:function(Xr){Xr.setOption("theme",this.options.theme),this.subComponents.push(Xr)}},{key:"removeSubComponent",value:function(Xr){_o()(this.subComponents,function(ro){return ro===Xr})}},{key:"destroySubComponents",value:function(){Rn()(this.subComponents,function(Xr){return Xr.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Xr){var ro=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Po()(Xr,ro),Fr()(this.options,Xr)}},{key:"find",value:function(Xr){return this.$container.find(this.c(Xr))}}]),co}(jr());function Rr(go){var vo=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(co){return!1}}();return function(){var co,Xr=(0,ze.Z)(go);if(vo){var ro=(0,ze.Z)(this).constructor;co=Reflect.construct(Xr,arguments,ro)}else co=Xr.apply(this,arguments);return(0,$e.Z)(this,co)}}var dr=function(go){(0,Ue.Z)(co,go);var vo=Rr(co);function co(Xr){var ro;return(0,Ie.Z)(this,co),(ro=vo.call(this,Xr,{compName:"object-viewer"})).onItemClick=function(uo){var Ro=(0,Ne.Z)(ro),wo=Ro.map,xo=Ro.c,bo=Un()(uo.curTarget),Oo=bo.data("object-id"),To=bo.find("span").eq(0);if(!bo.data("first-level")&&(Oo&&(bo.find("ul").html(ro.objToHtml(wo[Oo],!1)),bo.rmAttr("data-object-id")),uo.stopImmediatePropagation(),To.hasClass(xo("expanded")))){var Mo=bo.find("ul").eq(0);To.hasClass(xo("collapsed"))?(To.rmClass(xo("collapsed")),Mo.show()):(To.addClass(xo("collapsed")),Mo.hide()),ro.emit("change")}},ro.bindEvent(),ro}return(0,Oe.Z)(co,[{key:"set",value:function(Xr){cr()(Xr)&&(Xr=JSON.parse(Xr)),this.data={id:ur()("json"),enumerable:{0:Xr}},this.map={},lo(this.map,this.data),this.render()}},{key:"destroy",value:function(){(0,Fe.Z)((0,ze.Z)(co.prototype),"destroy",this).call(this),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(Xr,ro){var uo=this,Ro="";return Rn()(["enumerable","unenumerable","symbol"],function(wo){if(Xr[wo]){var xo=kn()(Xr[wo]);Br()(xo);for(var bo=0,Oo=xo.length;bo<Oo;bo++){var To=xo[bo];Ro+=uo.createEl(To,Xr[wo][To],wo,ro)}}}),Xr.proto&&(Ro===""?Ro=this.objToHtml(Xr.proto):Ro+=this.createEl("[[Prototype]]",Xr.proto,"proto")),Ro}},{key:"createEl",value:function(Xr,ro,uo){var Ro=arguments.length>3&&arguments[3]!==void 0&&arguments[3],wo=this.c,xo=(0,Ce.Z)(ro);if(ro===null)return"<li>".concat(qo(Xr),'<span class="').concat(wo("null"),'">null</span></li>');if(vn()(ro)||_n()(ro))return"<li>".concat(qo(Xr),'<span class="').concat(wo(xo),'">').concat(Or(ro),"</span></li>");if(ro.type==="RegExp"&&(xo="regexp"),ro.type==="Number"&&(xo="number"),ro.type==="Number"||ro.type==="RegExp")return"<li>".concat(qo(Xr),'<span class="').concat(wo(xo),'">').concat(Or(ro.value),"</span></li>");if(ro.type==="Undefined"||ro.type==="Symbol")return"<li>".concat(qo(Xr),'<span class="').concat(wo("special"),'">').concat(An()(ro.type),"</span></li>");if(ro==="(...)")return"<li>".concat(qo(Xr),'<span class="').concat(wo("special"),'">').concat(ro,"</span></li>");if(Sn()(ro)){var bo=ro.id,Oo=ro.reference,To=function(Zo){var ii=Zo.type,pi=Zo.value;if(ii)return ii==="Function"?Hr(pi):ii==="Array"&&Zo.unenumerable?"Array(".concat(Zo.unenumerable.length,")"):Zo.type}(ro)||Ln()(xo),Mo=Ro?"":'<span class="'.concat(wo("expanded collapsed"),'"><span class="').concat(wo("icon icon-caret-right"),'"></span><span class="').concat(wo("icon icon-caret-down"),'"></span></span>'),Wo="<li ".concat(Ro?'data-first-level="true"':""," ").concat('data-object-id="'+(Oo||bo)+'"',">").concat(Mo).concat(qo(Xr),'<span class="').concat(wo("open"),'">').concat(Ro?"":To,'</span><ul class="').concat(wo(xo),'" ').concat(Ro?"":'style="display:none"',">");return Ro&&(Wo+=this.objToHtml(this.map[bo])),Wo+'</ul><span class="'.concat(wo("close"),'"></span></li>')}function qo(Zo){if(Ro||Sn()(ro)&&ro.jsonSplitArr)return"";var ii=wo("key");return uo==="unenumerable"||uo==="symbol"?ii=wo("key-lighter"):uo==="proto"&&(ii=wo("key-special")),'<span class="'.concat(ii,'">').concat(Or(Zo),"</span>: ")}return cr()(ro)&&ro.length>1e4&&(ro=or()(ro,50,{separator:" ",ellipsis:"…"})),"<li>".concat(qo(Xr),'<span class="').concat(wo((0,Ce.Z)(ro)),'">"').concat(Or(ro),'"</span></li>')}},{key:"render",value:function(){var Xr=this.map[this.data.id];this.$container.html(this.objToHtml(Xr,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}]),co}(so);function lo(go,vo){var co=vo.id;if(co||co===0){if(vo.type&&Ur()(vo.type,"Array")&&vo.enumerable){var Xr=function(xo,bo,Oo){var To=[],Mo={};return Rn()(xo.enumerable,function(Wo,qo){var Zo=lr()(qo);Mr()(Zo)?Mo[qo]=Wo:To[Zo]=Wo}),To.enumerable=Mo,To.type=Oo,To.id=bo,xo.unenumerable&&(To.unenumerable=xo.unenumerable),xo.symbol&&(To.symbol=xo.symbol),xo.proto&&(To.proto=xo.proto),To}(vo,co,vo.type);Xr.length>100&&(vo=function(xo){var bo=0,Oo={};Rn()(Sr()(xo,100),function(Mo){var Wo={},qo=bo;Wo.type="["+qo,Wo.enumerable={},Rn()(Mo,function(ii){Wo.enumerable[bo]=ii,bo+=1});var Zo=bo-1;Wo.type+=(Zo-qo>0?" … "+Zo:"")+"]",Wo.id=ur()("json"),Wo.jsonSplitArr=!0,Oo[bo]=Wo});var To={};return To.enumerable=Oo,To.id=xo.id,To.type=xo.type,xo.unenumerable&&(To.unenumerable=xo.unenumerable),xo.symbol&&(To.symbol=xo.symbol),xo.proto&&(To.proto=xo.proto),To}(Xr))}go[co]=vo;var ro=[];Rn()(["enumerable","unenumerable","symbol"],function(xo){if(vo[xo])for(var bo in vo[xo])ro.push(vo[xo][bo])}),vo.proto&&ro.push(vo.proto);for(var uo=0,Ro=ro.length;uo<Ro;uo++){var wo=ro[uo];Sn()(wo)&&lo(go,wo)}}}function Co(go){var vo=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(co){return!1}}();return function(){var co,Xr=(0,ze.Z)(go);if(vo){var ro=(0,ze.Z)(this).constructor;co=Reflect.construct(Xr,arguments,ro)}else co=Xr.apply(this,arguments);return(0,$e.Z)(this,co)}}xe=_e.hmd(xe);var Do=function(go){(0,Ue.Z)(co,go);var vo=Co(co);function co(Xr){var ro,uo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Ie.Z)(this,co),(ro=vo.call(this,Xr,{compName:"object-viewer"})).onItemClick=function(Ro){var wo=(0,Ne.Z)(ro),xo=wo.map,bo=wo.c,Oo=Un()(Ro.curTarget),To=Oo.data("object-id"),Mo=Oo.find("span").eq(0);if(!Oo.data("first-level")&&(To&&(Oo.find("ul").html(ro.objToHtml(xo[To],!1)),Oo.rmAttr("data-object-id")),Ro.stopImmediatePropagation(),Mo.hasClass(bo("expanded")))){var Wo=Oo.find("ul").eq(0);Mo.hasClass(bo("collapsed"))?(Mo.rmClass(bo("collapsed")),Wo.show()):(Mo.addClass(bo("collapsed")),Wo.hide()),ro.emit("change")}},ro.initOptions(uo,{unenumerable:!1,accessGetter:!1}),ro.bindEvent(),ro}return(0,Oe.Z)(co,[{key:"set",value:function(Xr){this.data=[Xr],this.visitor=new Er,this.map={},this.render()}},{key:"destroy",value:function(){(0,Fe.Z)((0,ze.Z)(co.prototype),"destroy",this).call(this),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(Xr,ro){var uo=this,Ro=this.visitor,wo=Xr,xo=!1,bo=Ro.get(Xr);bo&&bo.self&&(wo=bo.self);var Oo="",To=["enumerable"],Mo=kn()(Xr),Wo=[],qo=[],Zo=[],ii={};if(this.options.unenumerable&&!ro&&(To.push("unenumerable"),To.push("symbol"),Wo=Wn()(mr()(Xr,{prototype:!1,unenumerable:!0}),Mo),qo=yr()(mr()(Xr,{prototype:!1,symbol:!0}),function(ri){return(0,Ce.Z)(ri)==="symbol"})),Tn()(Xr)&&Xr.length>100){To.unshift("virtual"),xo=!0;var pi=0,fi={};Rn()(Sr()(Xr,100),function(ri){var _i=Object.create(null),ui=pi,Oi="["+ui;Rn()(ri,function(gi){_i[pi]=gi,fi[pi]=!0,pi++});var oi=pi-1;ii[Oi+=(oi-ui>0?" … "+oi:"")+"]"]=_i}),Zo=kn()(ii),Mo=yr()(Mo,function(ri){return!fi[ri]})}Rn()(To,function(ri){var _i=[];_i=ri==="symbol"?qo:ri==="unenumerable"?Wo:ri==="virtual"?Zo:Mo,xo||Br()(_i);for(var ui=0,Oi=_i.length;ui<Oi;ui++){var oi=Qn()(_i[ui]),gi="",xi=Object.getOwnPropertyDescriptor(Xr,oi),Ui=xi&&xi.get,Vi=xi&&xi.set;if(Ui&&!uo.options.accessGetter)gi="(...)";else try{gi=ri==="virtual"?ii[oi]:wo[oi],Mn()(gi)&&gi.catch(gr())}catch(vi){gi=vi instanceof Error?vi.message:Qn()(vi)}Oo+=uo.createEl(oi,Xr,gi,ri,ro),Ui&&(Oo+=uo.createEl("get ".concat(oi),Xr,xi.get,ri,ro)),Vi&&(Oo+=uo.createEl("set ".concat(oi),Xr,xi.set,ri,ro))}});var mi=qe()(Xr);if(!ro&&mi)if(Oo===""){var Ei=Ro.set(mi,{self:Xr});this.map[Ei]=mi,Oo=this.objToHtml(mi)}else Oo+=this.createEl("[[Prototype]]",wo||Xr,mi,"proto");return Oo}},{key:"createEl",value:function(Xr,ro,uo,Ro){var wo=arguments.length>4&&arguments[4]!==void 0&&arguments[4],xo=this.visitor,bo=this.c,Oo=(0,Ce.Z)(uo),To=$n()(uo,!1);if(Ro==="virtual"&&(To=Xr),uo===null)return"<li>".concat(fi(Xr),'<span class="').concat(bo("null"),'">null</span></li>');if(vn()(uo)||_n()(uo))return"<li>".concat(fi(Xr),'<span class="').concat(bo(Oo),'">').concat(Or(uo),"</span></li>");if(To==="RegExp"&&(Oo="regexp"),To==="Number"&&(Oo="number"),To==="Undefined"||To==="Symbol")return"<li>".concat(fi(Xr),'<span class="').concat(bo("special"),'">').concat(An()(To),"</span></li>");if(uo==="(...)")return"<li>".concat(fi(Xr),'<span class="').concat(bo("special"),'">').concat(uo,"</span></li>");if(Sn()(uo)){var Mo,Wo=xo.get(uo);if(Wo)Mo=Wo.id;else{var qo={};Ro==="proto"&&(qo.self=ro),Mo=xo.set(uo,qo),this.map[Mo]=uo}var Zo="Object";Zo=Oo==="regexp"?'<span class="'.concat(bo(Oo),'">').concat(Or(uo)):Or(function(mi,Ei){if(Ei)return Ei==="Function"?Hr(On()(mi)):Ei==="Array"?"Array(".concat(mi.length,")"):Ei}(uo,To)||Ln()(Oo));var ii=wo?"":'<span class="'.concat(bo("expanded collapsed"),'"><span class="').concat(bo("icon icon-caret-right"),'"></span><span class="').concat(bo("icon icon-caret-down"),'"></span></span>'),pi="<li ".concat(wo?'data-first-level="true"':""," ").concat('data-object-id="'+Mo+'"',">").concat(ii).concat(fi(Xr),'<span class="').concat(bo("open"),'">').concat(wo?"":Zo,'</span><ul class="').concat(bo(Oo),'" ').concat(wo?"":'style="display:none"',">");return wo&&(pi+=this.objToHtml(uo)),pi+'</ul><span class="'.concat(bo("close"),'"></span></li>')}function fi(mi){if(wo||Sn()(uo)&&Ro==="virtual")return"";var Ei=bo("key");return Ro==="unenumerable"||Ro==="symbol"?Ei=bo("key-lighter"):Ro==="proto"&&(Ei=bo("key-special")),'<span class="'.concat(Ei,'">').concat(Or(mi),"</span>: ")}return cr()(uo)&&uo.length>1e4&&(uo=or()(uo,50,{separator:" ",ellipsis:"…"})),"<li>".concat(fi(Xr),'<span class="').concat(bo((0,Ce.Z)(uo)),'">"').concat(Or(uo),'"</span></li>')}},{key:"render",value:function(){this.$container.html(this.objToHtml(this.data,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}]),co}(so);Do.Static=dr,function(go,vo){try{go.exports=vo,go.exports.default=vo}catch(co){}}(xe,Do)},8692:function(xe,pe,_e){_e.d(pe,{Z:function(){return Hr}});var Ce=_e(7326),Ie=_e(5671),Oe=_e(3144),Ne=_e(9340),Fe=_e(2963),Ue=_e(1120),$e=_e(1512),ze=_e.n($e),Ve=_e(8613),qe=_e.n(Ve),En=_e(8901),vn=_e.n(En),hn=_e(5229),_n=_e.n(hn),bn=_e(5166),An=_e.n(bn),xn=_e(4193),Sn=_e.n(xn),Cn=_e(2461),Tn=_e.n(Cn),wn=_e(3875),Ln=_e.n(wn),Pn=_e(3367),kn=_e.n(Pn),In=_e(4777),Rn=_e.n(In),Nn=_e(9702),On=_e.n(Nn),Dn=_e(1754),Mn=_e.n(Dn),Bn=_e(6768),$n=_e.n(Bn),Fn=_e(4331),Un=_e.n(Fn),Hn=_e(6341),Wn=_e.n(Hn),Xn=_e(3063),or=_e.n(Xn),fr=_e(6156),cr=_e.n(fr),Jn=_e(3783),mr=_e.n(Jn),Ir=_e(1443),yr=_e.n(Ir),Tr=_e(5610),Sr=_e.n(Tr),Yn=_e(7483),Qn=_e.n(Yn),rr=(_e(3990),_e(6954)),gr=_e.n(rr);_e(9585);function Ar(vr){var jr="luna-".concat(vr,"-");function Gr(zr){return Tn()(Un()(zr).split(/\s+/),function(to){return Wn()(to,jr)?to:to.replace(/[\w-]+/,function(no){return"".concat(jr).concat(no)})}).join(" ")}return function(zr){if(/<[^>]*>/g.test(zr))try{var to=Qn().parse(zr);return Br(to,function(no){no.attrs&&no.attrs.class&&(no.attrs.class=Gr(no.attrs.class))}),Qn().stringify(to)}catch(no){return Gr(zr)}return Gr(zr)}}function Br(vr,jr){for(var Gr=0,zr=vr.length;Gr<zr;Gr++){var to=vr[Gr];jr(to),to.content&&Br(to.content,jr)}}Sr();function Vr(){var vr=gr()();return vr==="os x"?"mac":vr}var Fr=_e(6329),Er=_e.n(Fr),Dr=_e(5852),Pr=_e.n(Dr);function $r(vr){var jr=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Gr){return!1}}();return function(){var Gr,zr=(0,Ue.Z)(vr);if(jr){var to=(0,Ue.Z)(this).constructor;Gr=Reflect.construct(zr,arguments,to)}else Gr=zr.apply(this,arguments);return(0,Fe.Z)(this,Gr)}}var Lr=function(vr){(0,Ne.Z)(Gr,vr);var jr=$r(Gr);function Gr(zr,to){var no,oo=to.compName,Eo=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,So=Eo===void 0?"light":Eo;return(0,Ie.Z)(this,Gr),(no=jr.call(this)).subComponents=[],no.compName=oo,no.c=Ar(oo),no.options={},no.container=zr,no.$container=ze()(zr),no.$container.addClass(["luna-".concat(oo),no.c("platform-".concat(Vr()))]),no.on("optionChange",function(No,Fo,Bo){var Ho=no.c;No==="theme"&&(no.$container.rmClass(Ho("theme-".concat(Bo))).addClass(Ho("theme-".concat(Fo))),mr()(no.subComponents,function(Go){return Go.setOption("theme",Fo)}))}),no.setOption("theme",So),no}return(0,Oe.Z)(Gr,[{key:"destroy",value:function(){this.destroySubComponents();var zr=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(zr("platform-".concat(Vr()))).rmClass(zr("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(zr,to){var no=this,oo=this.options,Eo={};typeof zr=="string"?Eo[zr]=to:Eo=zr,mr()(Eo,function(So,No){var Fo=oo[No];oo[No]=So,no.emit("optionChange",No,So,Fo)})}},{key:"getOption",value:function(zr){return this.options[zr]}},{key:"addSubComponent",value:function(zr){zr.setOption("theme",this.options.theme),this.subComponents.push(zr)}},{key:"removeSubComponent",value:function(zr){Pr()(this.subComponents,function(to){return to===zr})}},{key:"destroySubComponents",value:function(){mr()(this.subComponents,function(zr){return zr.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(zr){var to=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sn()(zr,to),Er()(this.options,zr)}},{key:"find",value:function(zr){return this.$container.find(this.c(zr))}}]),Gr}(yr());function Or(vr){var jr=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Gr){return!1}}();return function(){var Gr,zr=(0,Ue.Z)(vr);if(jr){var to=(0,Ue.Z)(this).constructor;Gr=Reflect.construct(zr,arguments,to)}else Gr=zr.apply(this,arguments);return(0,Fe.Z)(this,Gr)}}xe=_e.hmd(xe);var Hr=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr){var to,no=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Ie.Z)(this,Gr),(to=jr.call(this,zr,{compName:"setting"},no)).items=[],to.selectedItem=null,to.initOptions(no,{separatorCollapse:!0,filter:""}),to.bindEvent(),to}return(0,Oe.Z)(Gr,[{key:"appendTitle",value:function(zr){var to=new ao(this,zr);return this.append(to),to}},{key:"appendSeparator",value:function(){var zr=this.items,to=this.options.separatorCollapse,no=On()(zr);if(to&&no instanceof Ur)return no;var oo=new Ur(this);return this.append(oo),oo}},{key:"appendNumber",value:function(zr,to,no,oo,Eo){An()(oo)&&(Eo=oo,oo="");var So=new ur(this,zr,to,no,oo,Eo);return this.append(So),So}},{key:"appendButton",value:function(zr,to,no){Rn()(to)&&(no=to,to="");var oo=new Mr(this,zr,to,no);return this.append(oo),oo}},{key:"appendInput",value:function(zr,to,no){var oo=new _r(this,zr,to,no,arguments.length>3&&arguments[3]!==void 0?arguments[3]:"");return this.append(oo),oo}},{key:"appendCheckbox",value:function(zr,to,no,oo){oo||(oo=no,no="");var Eo=new lr(this,zr,to,no,oo);return this.append(Eo),Eo}},{key:"appendSelect",value:function(zr,to,no,oo,Eo){An()(oo)&&(Eo=oo,oo="");var So=new br(this,zr,to,no,oo,Eo);return this.append(So),So}},{key:"remove",value:function(zr){var to=this.items,no=to.indexOf(zr);no>-1&&(zr.detach(),to.splice(no,1),zr===this.selectedItem&&this.selectItem(null))}},{key:"clear",value:function(){mr()(this.items,function(zr){return zr.detach()}),this.items=[],this.selectItem(null)}},{key:"selectItem",value:function(zr){var to;this.selectedItem&&(this.selectedItem.deselect(),this.selectedItem=null),cr()(zr)||(this.selectedItem=zr,(to=this.selectedItem)===null||to===void 0||to.select())}},{key:"renderSettings",value:function(){var zr=this,to=this.items;mr()(to,function(no){return no.detach()}),mr()(to,function(no){zr.filterItem(no)&&zr.$container.append(no.container)})}},{key:"bindEvent",value:function(){var zr=this,to=this.c;this.on("optionChange",function(oo){oo==="filter"&&zr.renderSettings()});var no=this;this.$container.on("click",to(".item"),function(){no.selectItem(this.settingItem)})}},{key:"filterItem",value:function(zr){var to=this.options.filter;if(to){if(Rn()(to))return to(zr);if(Mn()(to))return to.test(zr.text());if($n()(to)&&(to=Un()(to)))return Wn()(or()(zr.text()),or()(to))}return!0}},{key:"append",value:function(zr){this.items.push(zr),this.filterItem(zr)&&this.$container.append(zr.container)}}]),Gr}(Lr),qr=function(){function vr(jr,Gr,zr,to){(0,Ie.Z)(this,vr),this.container=qe()("div",{tabindex:"0"}),this.setting=jr,this.container.settingItem=this,this.$container=ze()(this.container),this.$container.addClass(jr.c("item")).addClass(jr.c("item-".concat(to))),this.key=Gr,this.value=zr}return(0,Oe.Z)(vr,[{key:"select",value:function(){this.$container.addClass(this.setting.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.setting.c("selected"))}},{key:"detach",value:function(){this.$container.remove()}},{key:"text",value:function(){return this.$container.text()}},{key:"onChange",value:function(jr){this.setting.emit("change",this.key,jr,this.value),this.value=jr}}]),vr}(),ao=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr,to){var no;return(0,Ie.Z)(this,Gr),(no=jr.call(this,zr,"","","title")).$container.text(to),no}return(0,Oe.Z)(Gr)}(qr),Ur=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr){return(0,Ie.Z)(this,Gr),jr.call(this,zr,"","","separator")}return(0,Oe.Z)(Gr)}(qr),_r=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr,to,no,oo,Eo){var So;(0,Ie.Z)(this,Gr),So=jr.call(this,zr,to,no,"input");var No=zr.c;So.$container.html('<div class="'.concat(No("title"),'">').concat(vn()(oo),'</div>\n      <div class="').concat(No("description"),'">').concat(Eo,'</div>\n      <div class="').concat(No("control"),'">\n        <input type="text"></input>\n      </div>'));var Fo=So.$container.find("input");return Fo.val(no),Fo.on("change",function(){return So.onChange(Fo.val())}),So}return(0,Oe.Z)(Gr)}(qr),ur=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr,to,no,oo,Eo){var So,No=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};(0,Ie.Z)(this,Gr),So=jr.call(this,zr,to,no,"number"),Sn()(No,{min:0,max:10,step:1});var Fo=(0,Ce.Z)(So).$container,Bo=zr.c,Ho=!!No.range;delete No.range;var Go=No.min,si=No.max,Ai='<input type="'.concat(Ho?"range":"number",'"').concat(Tn()(No,function(eo,so){return" ".concat(so,'="').concat(eo,'"')}),"></input>");Ho&&(Ai="".concat(Go,'<div class="').concat(Bo("range-container"),'">\n        <div class="').concat(Bo("range-track"),'">\n          <div class="').concat(Bo("range-track-bar"),'">\n            <div class="').concat(Bo("range-track-progress"),'" style="width: ').concat(kr(no,Go,si),'%;"></div>\n          </div>\n        </div>\n        ').concat(Ai,'\n      </div><span class="').concat(Bo("value"),'">').concat(no,"</span>/").concat(si)),Fo.html('<div class="'.concat(Bo("title"),'">').concat(vn()(oo),'</div>\n      <div class="').concat(Bo("description"),'">').concat(Eo,'</div>\n      <div class="').concat(Bo("control"),'">').concat(Ai,"</div>"));var Po=Fo.find(Bo(".value")),Io=Fo.find("input"),_o=Fo.find(Bo(".range-track-progress"));return Io.val(kn()(no)),Io.on("change",function(){var eo=Ln()(Io.val());So.onChange(eo)}),Io.on("input",function(){var eo=Ln()(Io.val());_o.css("width",kr(eo,Go,si)+"%"),Po.text(kn()(eo))}),So}return(0,Oe.Z)(Gr)}(qr),kr=function(vr,jr,Gr){return((vr-jr)/(Gr-jr)*100).toFixed(2)},lr=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr,to,no,oo,Eo){var So;(0,Ie.Z)(this,Gr),So=jr.call(this,zr,to,no,"checkbox");var No=zr.c,Fo=_n()(zr.c("checkbox-"));So.$container.html('<div class="'.concat(No("title"),'">').concat(vn()(oo),'</div>\n      <div class="').concat(No("control"),'">\n        <input type="checkbox" id="').concat(Fo,'"></input>\n        <label for="').concat(Fo,'">').concat(Eo,"</label>\n      </div>"));var Bo=So.$container.find("input"),Ho=Bo.get(0);return Ho.checked=no,Bo.on("change",function(){return So.onChange(Ho.checked)}),So}return(0,Oe.Z)(Gr)}(qr),br=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr,to,no,oo,Eo,So){var No;(0,Ie.Z)(this,Gr),No=jr.call(this,zr,to,no,"select");var Fo=zr.c;No.$container.html('<div class="'.concat(Fo("title"),'">').concat(vn()(oo),'</div>\n      <div class="').concat(Fo("description"),'">').concat(Eo,'</div>\n      <div class="').concat(Fo("control"),'">\n        <div class="').concat(Fo("select"),'">\n          <select>\n            ').concat(Tn()(So,function(Ho,Go){return'<option value="'.concat(vn()(Ho),'"').concat(Ho===no?" selected":"",">").concat(vn()(Go),"</option>")}).join(""),"\n          </select>\n        </div>\n      </div>"));var Bo=No.$container.find("select");return Bo.on("change",function(){return No.onChange(Bo.val())}),No}return(0,Oe.Z)(Gr)}(qr),Mr=function(vr){(0,Ne.Z)(Gr,vr);var jr=Or(Gr);function Gr(zr,to,no,oo){var Eo;return(0,Ie.Z)(this,Gr),no||(no=to,to=""),(Eo=jr.call(this,zr,"","","button")).$container.html(zr.c('<div class="title">'.concat(vn()(to),'</div>\n      <div class="control">\n        <button>').concat(vn()(no),"</button>\n      </div>"))),Eo.$container.find("button").on("click",oo),Eo}return(0,Oe.Z)(Gr)}(qr);(function(vr,jr){try{vr.exports=jr,vr.exports.default=jr}catch(Gr){}})(xe,Hr)},7638:function(xe,pe,_e){_e.d(pe,{Z:function(){return Tr}});var Ce=_e(168),Ie=_e(5671),Oe=_e(3144),Ne=_e(9340),Fe=_e(2963),Ue=_e(1120),$e=_e(1443),ze=_e.n($e),Ve=_e(1512),qe=_e.n(Ve),En=_e(2461),vn=_e.n(En),hn=_e(4331),_n=_e.n(hn),bn=_e(5610),An=_e.n(bn),xn=_e(7483),Sn=_e.n(xn),Cn=_e(3990),Tn=_e.n(Cn),wn=_e(6341),Ln=_e.n(wn),Pn=(_e(3875),_e(6954)),kn=_e.n(Pn);_e(9585);function In(Sr){var Yn="luna-".concat(Sr,"-");function Qn(rr){return vn()(_n()(rr).split(/\s+/),function(gr){return Ln()(gr,Yn)?gr:gr.replace(/[\w-]+/,function(Ar){return"".concat(Yn).concat(Ar)})}).join(" ")}return function(rr){if(/<[^>]*>/g.test(rr))try{var gr=Sn().parse(rr);return Rn(gr,function(Ar){Ar.attrs&&Ar.attrs.class&&(Ar.attrs.class=Qn(Ar.attrs.class))}),Sn().stringify(gr)}catch(Ar){return Qn(rr)}return Qn(rr)}}function Rn(Sr,Yn){for(var Qn=0,rr=Sr.length;Qn<rr;Qn++){var gr=Sr[Qn];Yn(gr),gr.content&&Rn(gr.content,Yn)}}var Nn;An();function On(){var Sr=kn()();return Sr==="os x"?"mac":Sr}var Dn=_e(3783),Mn=_e.n(Dn),Bn=_e(6329),$n=_e.n(Bn),Fn=_e(4193),Un=_e.n(Fn),Hn=_e(5852),Wn=_e.n(Hn);function Xn(Sr){var Yn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Qn){return!1}}();return function(){var Qn,rr=(0,Ue.Z)(Sr);if(Yn){var gr=(0,Ue.Z)(this).constructor;Qn=Reflect.construct(rr,arguments,gr)}else Qn=rr.apply(this,arguments);return(0,Fe.Z)(this,Qn)}}var or,fr=function(Sr){(0,Ne.Z)(Qn,Sr);var Yn=Xn(Qn);function Qn(rr,gr){var Ar,Br=gr.compName,Vr=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Fr=Vr===void 0?"light":Vr;return(0,Ie.Z)(this,Qn),(Ar=Yn.call(this)).subComponents=[],Ar.compName=Br,Ar.c=In(Br),Ar.options={},Ar.container=rr,Ar.$container=qe()(rr),Ar.$container.addClass(["luna-".concat(Br),Ar.c("platform-".concat(On()))]),Ar.on("optionChange",function(Er,Dr,Pr){var $r=Ar.c;Er==="theme"&&(Ar.$container.rmClass($r("theme-".concat(Pr))).addClass($r("theme-".concat(Dr))),Mn()(Ar.subComponents,function(Lr){return Lr.setOption("theme",Dr)}))}),Ar.setOption("theme",Fr),Ar}return(0,Oe.Z)(Qn,[{key:"destroy",value:function(){this.destroySubComponents();var rr=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(rr("platform-".concat(On()))).rmClass(rr("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(rr,gr){var Ar=this,Br=this.options,Vr={};typeof rr=="string"?Vr[rr]=gr:Vr=rr,Mn()(Vr,function(Fr,Er){var Dr=Br[Er];Br[Er]=Fr,Ar.emit("optionChange",Er,Fr,Dr)})}},{key:"getOption",value:function(rr){return this.options[rr]}},{key:"addSubComponent",value:function(rr){rr.setOption("theme",this.options.theme),this.subComponents.push(rr)}},{key:"removeSubComponent",value:function(rr){Wn()(this.subComponents,function(gr){return gr===rr})}},{key:"destroySubComponents",value:function(){Mn()(this.subComponents,function(rr){return rr.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(rr){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Un()(rr,gr),$n()(this.options,rr)}},{key:"find",value:function(rr){return this.$container.find(this.c(rr))}}]),Qn}(ze()),cr=_e(1907),Jn=_e.n(cr),mr=_e(8901),Ir=_e.n(mr);function yr(Sr){var Yn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Qn){return!1}}();return function(){var Qn,rr=(0,Ue.Z)(Sr);if(Yn){var gr=(0,Ue.Z)(this).constructor;Qn=Reflect.construct(rr,arguments,gr)}else Qn=rr.apply(this,arguments);return(0,Fe.Z)(this,Qn)}}xe=_e.hmd(xe);var Tr=function(Sr){(0,Ne.Z)(Qn,Sr);var Yn=yr(Qn);function Qn(rr){var gr,Ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Ie.Z)(this,Qn),(gr=Yn.call(this,rr,{compName:"tab"},Ar)).initOptions(Ar,{height:30}),gr.initTpl(),gr.$tabs=gr.find(".tabs"),gr.tabs=gr.$tabs.get(0),gr.$slider=gr.find(".slider"),gr.bindEvent(),gr.updateHeight(),gr}return(0,Oe.Z)(Qn,[{key:"length",get:function(){return this.$tabs.find(this.c(".item")).length}},{key:"insert",value:function(rr,gr){var Ar=this.c,Br=this.$tabs,Vr=this.options.height-1,Fr=Br.find(Ar(".item")),Er=Fr.length,Dr='<div class="'.concat(this.c("item"),'" data-id="').concat(Ir()(gr.id),'" style="height: ').concat(Vr,"px; line-height: ").concat(Vr,'px;">').concat(Ir()(gr.title),"</div>");rr>Er-1?Br.append(Dr):Fr.eq(rr).before(Dr),this.updateSlider()}},{key:"append",value:function(rr){this.insert(this.length,rr)}},{key:"remove",value:function(rr){var gr=this.c,Ar=this;this.$tabs.find(gr(".item")).each(function(){var Br=qe()(this);if(Br.data("id")===rr){if(Br.hasClass(gr("selected")))if(Ar.length>0){var Vr=Ar.$tabs.find(gr(".item")).eq(0).data("id");Ar.select(Vr)}else Ar.emit("deselect");Br.remove()}}),this.updateSlider()}},{key:"select",value:function(rr){var gr=this.c,Ar=this;this.$tabs.find(gr(".item")).each(function(){var Br=qe()(this);Br.data("id")===rr?(Br.addClass(gr("selected")),Ar.updateSlider(),Ar.scrollToSelected(),Ar.emit("select",rr)):Br.rmClass(gr("selected"))})}},{key:"scrollToSelected",value:function(){var rr,gr=this.$tabs,Ar=this.tabs,Br=this.c,Vr=gr.find(Br(".selected")).get(0),Fr=Vr.offsetLeft,Er=Vr.offsetWidth,Dr=Ar.offsetWidth,Pr=Ar.scrollLeft;Fr<Pr?rr=Fr:Fr+Er>Dr+Pr&&(rr=Fr+Er-Dr),Tn()(rr)&&(Ar.scrollLeft=rr)}},{key:"hideScrollbar",value:function(){var rr=this.$tabs;if(getComputedStyle(this.tabs,"::-webkit-scrollbar").display!=="none"){var gr=function(){if(Tn()(Nn))return Nn;if(!document)return 16;var Ar=document.createElement("div"),Br=document.createElement("div");Ar.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),Br.setAttribute("style","height: 200px"),Ar.appendChild(Br);var Vr=document.body||document.documentElement;return Vr.appendChild(Ar),Nn=Ar.offsetWidth-Ar.clientWidth,Vr.removeChild(Ar),Nn}();rr.css("height",this.options.height-1+gr+"px")}}},{key:"updateSlider",value:function(){var rr=this.$slider,gr=this.$tabs,Ar=this.c,Br=gr.find(Ar(".selected")).get(0);Br?rr.css({width:Br.offsetWidth,left:Br.offsetLeft-gr.get(0).scrollLeft}):rr.css({width:0})}},{key:"updateHeight",value:function(){var rr=this.options.height,gr=rr-1;this.find(".tabs-container").css("height",rr+"px"),this.find(".item").css({height:gr,lineHeight:gr}),this.hideScrollbar()}},{key:"bindEvent",value:function(){var rr=this,gr=this.tabs,Ar=this.c;this.on("optionChange",function(Vr){Vr==="height"&&rr.updateHeight()});var Br=this;this.$tabs.on("wheel",function(Vr){Vr.preventDefault(),gr.scrollLeft+=Vr.origEvent.deltaY}).on("click",Ar(".item"),function(){var Vr=qe()(this);Br.select(Vr.data("id"))}).on("scroll",function(){rr.updateSlider()})}},{key:"initTpl",value:function(){this.$container.html(this.c(Jn()(or||(or=(0,Ce.Z)(['\n        <div class="tabs-container">\n          <div class="tabs"></div>\n        </div>\n        <div class="slider"></div>\n      '])))))}}]),Qn}(fr);(function(Sr,Yn){try{Sr.exports=Yn,Sr.exports.default=Yn}catch(Qn){}})(xe,Tr)},7049:function(xe,pe,_e){_e.d(pe,{Z:function(){return Er}});var Ce=_e(5671),Ie=_e(3144),Oe=_e(7326),Ne=_e(1752),Fe=_e(9340),Ue=_e(2963),$e=_e(1120),ze=_e(1443),Ve=_e.n(ze),qe=_e(1512),En=_e.n(qe),vn=_e(2461),hn=_e.n(vn),_n=_e(4331),bn=_e.n(_n),An=_e(5610),xn=_e.n(An),Sn=_e(7483),Cn=_e.n(Sn),Tn=(_e(3990),_e(6341)),wn=_e.n(Tn),Ln=(_e(3875),_e(6954)),Pn=_e.n(Ln);_e(9585);function kn(Pr){var $r="luna-".concat(Pr,"-");function Lr(Or){return hn()(bn()(Or).split(/\s+/),function(Hr){return wn()(Hr,$r)?Hr:Hr.replace(/[\w-]+/,function(qr){return"".concat($r).concat(qr)})}).join(" ")}return function(Or){if(/<[^>]*>/g.test(Or))try{var Hr=Cn().parse(Or);return In(Hr,function(qr){qr.attrs&&qr.attrs.class&&(qr.attrs.class=Lr(qr.attrs.class))}),Cn().stringify(Hr)}catch(qr){return Lr(Or)}return Lr(Or)}}function In(Pr,$r){for(var Lr=0,Or=Pr.length;Lr<Or;Lr++){var Hr=Pr[Lr];$r(Hr),Hr.content&&In(Hr.content,$r)}}var Rn="ontouchstart"in xn();function Nn(){var Pr=Pn()();return Pr==="os x"?"mac":Pr}var On=_e(3783),Dn=_e.n(On),Mn=_e(6329),Bn=_e.n(Mn),$n=_e(4193),Fn=_e.n($n),Un=_e(5852),Hn=_e.n(Un);function Wn(Pr){var $r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Lr){return!1}}();return function(){var Lr,Or=(0,$e.Z)(Pr);if($r){var Hr=(0,$e.Z)(this).constructor;Lr=Reflect.construct(Or,arguments,Hr)}else Lr=Or.apply(this,arguments);return(0,Ue.Z)(this,Lr)}}var Xn=function(Pr){(0,Fe.Z)(Lr,Pr);var $r=Wn(Lr);function Lr(Or,Hr){var qr,ao=Hr.compName,Ur=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,_r=Ur===void 0?"light":Ur;return(0,Ce.Z)(this,Lr),(qr=$r.call(this)).subComponents=[],qr.compName=ao,qr.c=kn(ao),qr.options={},qr.container=Or,qr.$container=En()(Or),qr.$container.addClass(["luna-".concat(ao),qr.c("platform-".concat(Nn()))]),qr.on("optionChange",function(ur,kr,lr){var br=qr.c;ur==="theme"&&(qr.$container.rmClass(br("theme-".concat(lr))).addClass(br("theme-".concat(kr))),Dn()(qr.subComponents,function(Mr){return Mr.setOption("theme",kr)}))}),qr.setOption("theme",_r),qr}return(0,Ie.Z)(Lr,[{key:"destroy",value:function(){this.destroySubComponents();var Or=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Or("platform-".concat(Nn()))).rmClass(Or("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Or,Hr){var qr=this,ao=this.options,Ur={};typeof Or=="string"?Ur[Or]=Hr:Ur=Or,Dn()(Ur,function(_r,ur){var kr=ao[ur];ao[ur]=_r,qr.emit("optionChange",ur,_r,kr)})}},{key:"getOption",value:function(Or){return this.options[Or]}},{key:"addSubComponent",value:function(Or){Or.setOption("theme",this.options.theme),this.subComponents.push(Or)}},{key:"removeSubComponent",value:function(Or){Hn()(this.subComponents,function(Hr){return Hr===Or})}},{key:"destroySubComponents",value:function(){Dn()(this.subComponents,function(Or){return Or.destroy()}),this.subComponents=[]}},{key:"initOptions",value:function(Or){var Hr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fn()(Or,Hr),Bn()(this.options,Or)}},{key:"find",value:function(Or){return this.$container.find(this.c(Or))}}]),Lr}(Ve()),or=_e(9702),fr=_e.n(or),cr=_e(8887),Jn=_e.n(cr),mr=_e(2439),Ir=_e.n(mr),yr=_e(6049),Tr=_e.n(yr),Sr=_e(2327),Yn=_e.n(Sr),Qn=_e(8901),rr=_e.n(Qn),gr=_e(7387),Ar=_e.n(gr),Br=_e(6677),Vr=_e.n(Br);function Fr(Pr){var $r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Lr){return!1}}();return function(){var Lr,Or=(0,$e.Z)(Pr);if($r){var Hr=(0,$e.Z)(this).constructor;Lr=Reflect.construct(Or,arguments,Hr)}else Lr=Or.apply(this,arguments);return(0,Ue.Z)(this,Lr)}}xe=_e.hmd(xe);var Er=function(Pr){(0,Fe.Z)(Lr,Pr);var $r=Fr(Lr);function Lr(Or){var Hr,qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,Ce.Z)(this,Lr),(Hr=$r.call(this,Or,{compName:"text-viewer"},qr)).lineNum=0,Hr.copy=function(){var ao=(0,Oe.Z)(Hr).c,Ur=Hr.options,_r=Ur.text,ur=Ur.escape;Yn()(ur?_r:Ar()(Vr()(_r)));var kr=Hr.$copy.find(ao(".icon"));kr.addClass(ao("icon-check")).rmClass(ao("icon-copy")),setTimeout(function(){kr.rmClass(ao("icon-check")).addClass(ao("icon-copy"))},1e3)},Hr._updateCopyPos=function(){var ao=(0,Oe.Z)(Hr).container;Hr.$copy.css({top:ao.scrollTop+5,right:5-ao.scrollLeft})},Hr.initOptions(qr,{text:"",escape:!0,showLineNumbers:!0,wrapLongLines:!0,maxHeight:1/0}),Hr.render=Ir()(function(){return Hr._render()},16),Hr.updateCopyPos=Tr()(function(){return Hr._updateCopyPos()},300),Hr.initTpl(),Hr.$text=Hr.find(".text"),Hr.$copy=Hr.find(".copy"),Rn&&Hr.$copy.css("opacity","1"),Hr.options.text&&Hr.render(),Hr.bindEvent(),Hr.updateHeight(),Hr}return(0,Ie.Z)(Lr,[{key:"append",value:function(Or){var Hr=this,qr=this.options,ao=this.$copy,Ur=this.c,_r=this.$text,ur=qr.showLineNumbers;if(this.options.text+=Or,!ur)return this.$text.append(qr.escape?rr()(Or):Or);var kr=function(br){return br.length===0?[]:br.split(Dr)}(Or);Jn()(kr)&&(kr=["&nbsp;"]),bn()(fr()(kr))||kr.pop();var lr="";Dn()(kr,function(br,Mr){Hr.lineNum+=1,lr+='<div class="'.concat(Ur("table-row"),'"><div class="').concat(Ur("line-number"),'">').concat(Hr.lineNum,'</div><div class="').concat(Ur("line-text"),'">').concat(qr.escape?rr()(br):br||" ","</div></div>")}),_r.find(Ur(".table")).append(lr),ao.hide(),_r.offset().height>40&&ao.show(),this.updateCopyPos()}},{key:"destroy",value:function(){this.$container.off("scroll",this.updateCopyPos),(0,Ne.Z)((0,$e.Z)(Lr.prototype),"destroy",this).call(this)}},{key:"updateHeight",value:function(){var Or=this.options.maxHeight;Or>0&&Or!==1/0?this.$text.css("max-height",Or):this.$text.css("max-height","none")}},{key:"initTpl",value:function(){this.$container.html(this.c('<div class="text"></div><div class="copy"><span class="icon icon-copy"></span></div>'))}},{key:"bindEvent",value:function(){var Or=this;this.on("optionChange",function(Hr){Hr==="maxHeight"?Or.updateHeight():Or.render()}),this.$container.on("scroll",this.updateCopyPos),this.$copy.on("click",this.copy)}},{key:"_render",value:function(){var Or=this.c,Hr=this.$text,qr=this.options,ao=qr.text,Ur=qr.wrapLongLines,_r=qr.showLineNumbers;Ur?Hr.addClass(Or("wrap-long-lines")):Hr.rmClass(Or("wrap-long-lines")),_r?Hr.addClass(Or("line-numbers")):Hr.rmClass(Or("line-numbers")),Hr.html('<div class="'.concat(Or("table"),'"></div>')),this.lineNum=0,this.options.text="",this.append(ao)}}]),Lr}(Xn),Dr=/\r\n|\r|\n/g;(function(Pr,$r){try{Pr.exports=$r,Pr.exports.default=$r}catch(Lr){}})(xe,Er)},6672:function(xe,pe,_e){_e.d(pe,{Z:function(){return Jr}});var Ce={};_e.r(Ce),_e.d(Ce,{classPrefix:function(){return dr},drag:function(){return ro},escapeJsonStr:function(){return Ai},evalCss:function(){return Rr},eventClient:function(){return uo},eventPage:function(){return Ro},getFileName:function(){return Io},hasSafeArea:function(){return si},isChobitsuEl:function(){return so},isErudaEl:function(){return eo},pxToNum:function(){return _o},safeStorage:function(){return Po}});var Ie=_e(5671),Oe=_e(3144),Ne=_e(7326),Fe=_e(9340),Ue=_e(2963),$e=_e(1120),ze=_e(4942),Ve=_e(1443),qe=_e.n(Ve),En=new(qe());En.ADD="ADD",En.SHOW="SHOW",En.SCALE="SCALE";var vn=En,hn=_e(1752),_n=_e(7496),bn=_e.n(_n)()({init:function(sr){this._$el=sr},show:function(){return this._$el.show(),this},hide:function(){return this._$el.hide(),this},destroy:function(){this._$el.remove()}}),An=_e(1512),xn=_e.n(An),Sn=_e(125),Cn=_e.n(Sn),Tn=_e(5229),wn=_e.n(Tn),Ln=_e(3783),Pn=_e.n(Ln),kn=_e(5972),In=_e.n(kn),Rn=_e(6768),Nn=_e.n(Rn),On=_e(6341),Dn=_e.n(On),Mn=_e(4675),Bn=_e.n(Mn),$n=_e(3367),Fn=_e.n($n),Un=_e(2533),Hn=_e.n(Un),Wn=_e(7622),Xn=_e.n(Wn),or=_e(4193),fr=_e.n(or),cr=_e(6329),Jn=_e.n(cr),mr=_e(6472),Ir=_e.n(mr),yr=["background","foreground","selectForeground","accent","highlight","border","primary","contrast","varColor","stringColor","keywordColor","numberColor","operatorColor","linkColor","textColor","tagNameColor","functionColor","attributeNameColor","commentColor"],Tr=yr.length;function Sr(sr){for(var ar={},nr=0;nr<Tr;nr++)ar[yr[nr]]=sr[nr];return ar}function Yn(sr){return Ir()(sr)&&(sr=Sr(sr)),sr.darkerBackground||(sr.darkerBackground=sr.contrast),Jn()({consoleWarnBackground:"#332a00",consoleWarnForeground:"#ffcb6b",consoleWarnBorder:"#650",consoleErrorBackground:"#290000",consoleErrorForeground:"#ff8080",consoleErrorBorder:"#5c0000",light:"#ccc",dark:"#aaa"},sr)}function Qn(sr){return Ir()(sr)&&(sr=Sr(sr)),sr.darkerBackground||(sr.darkerBackground=sr.contrast),Jn()({consoleWarnBackground:"#fffbe5",consoleWarnForeground:"#5c5c00",consoleWarnBorder:"#fff5c2",consoleErrorBackground:"#fff0f0",consoleErrorForeground:"#f00",consoleErrorBorder:"#ffd6d6",light:"#fff",dark:"#eee"},sr)}var rr=["Dark","Material Oceanic","Material Darker","Material Palenight","Material Deep Ocean","Monokai Pro","Dracula","Arc Dark","Atom One Dark","Solarized Dark","Night Owl"],gr={Light:Qn({darkerBackground:"#f3f3f3",background:"#fff",foreground:"#333",selectForeground:"#333",accent:"#1a73e8",highlight:"#eaeaea",border:"#ccc",primary:"#333",contrast:"#f2f7fd",varColor:"#c80000",stringColor:"#1a1aa6",keywordColor:"#881280",numberColor:"#1c00cf",operatorColor:"#808080",linkColor:"#1155cc",textColor:"#8097bd",tagNameColor:"#881280",functionColor:"#222",attributeNameColor:"#994500",commentColor:"#236e25",cssProperty:"#c80000"}),Dark:Yn({darkerBackground:"#333",background:"#242424",foreground:"#a5a5a5",selectForeground:"#eaeaea",accent:"#555",highlight:"#000",border:"#3d3d3d",primary:"#ccc",contrast:"#0b2544",varColor:"#e36eec",stringColor:"#f29766",keywordColor:"#9980ff",numberColor:"#9980ff",operatorColor:"#7f7f7f",linkColor:"#ababab",textColor:"#42597f",tagNameColor:"#5db0d7",functionColor:"#d5d5d5",attributeNameColor:"#9bbbdc",commentColor:"#747474"}),"Material Oceanic":Yn(["#263238","#B0BEC5","#FFFFFF","#009688","#425B67","#2A373E","#607D8B","#1E272C","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#546e7a"]),"Material Darker":Yn(["#212121","#B0BEC5","#FFFFFF","#FF9800","#3F3F3F","#292929","#727272","#1A1A1A","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#616161"]),"Material Lighter":Qn(["#FAFAFA","#546E7A","#546e7a","#00BCD4","#E7E7E8","#d3e1e8","#94A7B0","#F4F4F4","#272727","#91B859","#7C4DFF","#F76D47","#39ADB5","#39ADB5","#546E7A","#E53935","#6182B8","#F6A434","#AABFC9"]),"Material Palenight":Yn(["#292D3E","#A6ACCD","#FFFFFF","#ab47bc","#444267","#2b2a3e","#676E95","#202331","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#A6ACCD","#f07178","#82aaff","#ffcb6b","#676E95"]),"Material Deep Ocean":Yn(["#0F111A","#8F93A2","#FFFFFF","#84ffff","#1F2233","#41465b","#4B526D","#090B10","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#8F93A2","#f07178","#82aaff","#ffcb6b","#717CB4"]),"Monokai Pro":Yn(["#2D2A2E","#fcfcfa","#FFFFFF","#ffd866","#5b595c","#423f43","#939293","#221F22","#FCFCFA","#FFD866","#FF6188","#AB9DF2","#FF6188","#78DCE8","#fcfcfa","#FF6188","#A9DC76","#78DCE8","#727072"]),Dracula:Yn(["#282A36","#F8F8F2","#8BE9FD","#FF79C5","#6272A4","#21222C","#6272A4","#191A21","#F8F8F2","#F1FA8C","#FF79C6","#BD93F9","#FF79C6","#F1FA8C","#F8F8F2","#FF79C6","#50FA78","#50FA7B","#6272A4"]),"Arc Dark":Yn(["#2f343f","#D3DAE3","#FFFFFF","#42A5F5","#3F3F46","#404552","#8b9eb5","#262b33","#CF6A4C","#8F9D6A","#9B859D","#CDA869","#A7A7A7","#7587A6","#D3DAE3","#CF6A4C","#7587A6","#F9EE98","#747C84"]),"Atom One Dark":Yn(["#282C34","#979FAD","#FFFFFF","#2979ff","#383D48","#2e3239","#979FAD","#21252B","#D19A66","#98C379","#C679DD","#D19A66","#61AFEF","#56B6C2","#979FAD","#F07178","#61AEEF","#E5C17C","#59626F"]),"Atom One Light":Qn(["#FAFAFA","#232324","#232324","#2979ff","#EAEAEB","#DBDBDC","#9D9D9F","#FFFFFF","#986801","#50A14E","#A626A4","#986801","#4078F2","#0184BC","#232324","#E4564A","#4078F2","#C18401","#A0A1A7"]),"Solarized Dark":Yn(["#002B36","#839496","#FFFFFF","#d33682","#11353F","#0D3640","#586e75","#00252E","#268BD2","#2AA198","#859900","#D33682","#93A1A1","#268BD2","#839496","#268BD2","#B58900","#B58900","#657B83"]),"Solarized Light":Qn(["#fdf6e3","#586e75","#002b36","#d33682","#F6F0DE","#f7f2e2","#93a1a1","#eee8d5","#268BD2","#2AA198","#859900","#D33682","#657B83","#268BD2","#586e75","#268BD2","#B58900","#657B83","#93A1A1"]),Github:Qn(["#F7F8FA","#5B6168","#FFFFFF","#79CB60","#CCE5FF","#DFE1E4","#292D31","#FFFFFF","#24292E","#032F62","#D73A49","#005CC5","#D73A49","#005CC5","#5B6168","#22863A","#6F42C1","#6F42C1","#6A737D"]),"Night Owl":Yn(["#011627","#b0bec5","#ffffff","#7e57c2","#152C3B","#2a373e","#607d8b","#001424","#addb67","#ecc48d","#c792ea","#f78c6c","#c792ea","#80CBC4","#b0bec5","#7fdbca","#82AAFF","#FAD430","#637777"]),"Light Owl":Qn(["#FAFAFA","#546e7a","#403f53","#269386","#E0E7EA","#efefef","#403F53","#FAFAFA","#0C969B","#c96765","#994cc3","#aa0982","#7d818b","#994cc3","#546e7a","#994cc3","#4876d6","#4876d6","#637777"])},Ar=[],Br=1,Vr=gr.Light,Fr=function sr(ar,nr){ar=Fn()(ar);for(var Vn=0,qn=Ar.length;Vn<qn;Vn++)if(Ar[Vn].css===ar)return;nr=nr||sr.container||document.head;var tr=document.createElement("style");tr.type="text/css",nr.appendChild(tr);var xr={css:ar,el:tr,container:nr};return Dr(xr),Ar.push(xr),xr};function Er(){Pn()(Ar,function(sr){return Dr(sr)})}function Dr(sr){var ar=sr.css,nr=sr.el;ar=(ar=ar.replace(/(\d+)px/g,function(qn,tr){return+tr*Br+"px"})).replace(/_/g,"eruda-");var Vn=Hn()(gr.Light);Pn()(Vn,function(qn){ar=ar.replace(new RegExp("var\\(--".concat(Xn()(qn),"\\)"),"g"),Vr[qn])}),nr.innerText=ar}Fr.setScale=function(sr){Br=sr,Er()},Fr.setTheme=function(sr){Vr=Nn()(sr)?gr[sr]||gr.Light:fr()(sr,gr.Light),Er()},Fr.getCurTheme=function(){return Vr},Fr.getThemes=function(){return gr},Fr.clear=function(){Pn()(Ar,function(sr){var ar=sr.container,nr=sr.el;return ar.removeChild(nr)}),Ar=[]},Fr.remove=function(sr){Ar=In()(Ar,function(ar){return ar!==sr}),sr.container.removeChild(sr.el)};var Pr=Fr,$r=_e(8692);function Lr(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var Or=function(sr){(0,Fe.Z)(nr,sr);var ar=Lr(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),(Vn=ar.call(this))._style=Pr(_e(8011)),Vn.name="settings",Vn._settings=[],Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._setting=new $r.Z(Vn.get(0)),this._bindEvent()}},{key:"remove",value:function(Vn,qn){var tr=this;if(Nn()(Vn)){var xr=this;this._$el.find(".luna-setting-item-title").each(function(){xn()(this).text()===Vn&&xr._setting.remove(this.settingItem)})}else this._settings=In()(this._settings,function(Kr){return Kr.config!==Vn||Kr.key!==qn||(tr._setting.remove(Kr.item),!1)});return this._cleanSeparator(),this}},{key:"destroy",value:function(){this._setting.destroy(),(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),Pr.remove(this._style)}},{key:"clear",value:function(){this._settings=[],this._setting.clear()}},{key:"switch",value:function(Vn,qn,tr){var xr=this._genId(),Kr=this._setting.appendCheckbox(xr,!!Vn.get(qn),tr);return this._settings.push({config:Vn,key:qn,id:xr,item:Kr}),this}},{key:"select",value:function(Vn,qn,tr,xr){var Kr=this._genId(),Yr={};Pn()(xr,function(ho){return Yr[ho]=ho});var Qr=this._setting.appendSelect(Kr,Vn.get(qn),"",tr,Yr);return this._settings.push({config:Vn,key:qn,id:Kr,item:Qr}),this}},{key:"range",value:function(Vn,qn,tr,xr){var Kr=xr.min,Yr=Kr===void 0?0:Kr,Qr=xr.max,ho=Qr===void 0?1:Qr,Lo=xr.step,Uo=Lo===void 0?.1:Lo,zo=this._genId(),ei=this._setting.appendNumber(zo,Vn.get(qn),tr,{max:ho,min:Yr,step:Uo,range:!0});return this._settings.push({config:Vn,key:qn,min:Yr,max:ho,step:Uo,id:zo,item:ei}),this}},{key:"button",value:function(Vn,qn){return this._setting.appendButton(Vn,qn),this}},{key:"separator",value:function(){return this._setting.appendSeparator(),this}},{key:"text",value:function(Vn){return this._setting.appendTitle(Vn),this}},{key:"_cleanSeparator",value:function(){var Vn=Bn()(this._$el.get(0).children);function qn(Kr){return Dn()(Kr.getAttribute("class"),"luna-setting-item-separator")}for(var tr=0,xr=Vn.length;tr<xr-1;tr++)qn(Vn[tr])&&qn(Vn[tr+1])&&xn()(Vn[tr]).remove()}},{key:"_genId",value:function(){return wn()("eruda-settings")}},{key:"_getSetting",value:function(Vn){var qn;return Pn()(this._settings,function(tr){tr.id===Vn&&(qn=tr)}),qn}},{key:"_bindEvent",value:function(){var Vn=this;this._setting.on("change",function(qn,tr){var xr=Vn._getSetting(qn);xr.config.set(xr.key,tr)})}}],[{key:"createCfg",value:function(Vn,qn){return new(Cn())("eruda-"+Vn,qn)}}]),nr}(bn),Hr=_e(6837),qr=_e.n(Hr),ao=_e(442),Ur=_e.n(ao),_r=_e(6334),ur=_e.n(_r),kr=_e(4187),lr=_e.n(kr),br=_e(1286),Mr=_e.n(br),vr=_e(9702),jr=_e.n(vr),Gr=_e(2461),zr=_e.n(Gr),to=_e(5026),no=_e.n(to),oo=_e(5610),Eo=_e.n(oo),So=_e(3875),No=_e.n(So),Fo=_e(4331),Bo=_e.n(Fo),Ho=_e(7483),Go=_e.n(Ho);function si(){var sr=!1,ar=document.createElement("div");if(CSS.supports("padding-bottom: env(safe-area-inset-bottom)")?(ar.style.paddingBottom="env(safe-area-inset-bottom)",sr=!0):CSS.supports("padding-bottom: constant(safe-area-inset-bottom)")&&(ar.style.paddingBottom="constant(safe-area-inset-bottom)",sr=!0),sr){document.body.appendChild(ar);var nr=parseInt(window.getComputedStyle(ar).paddingBottom);if(document.body.removeChild(ar),nr>0)return!0}return!1}function Ai(sr){return lr()(sr).replace(/\\'/g,"'").replace(/\t/g,"\\t")}function Po(sr,ar){var nr;switch(Mr()(ar)&&(ar=!0),sr){case"local":nr=window.localStorage;break;case"session":nr=window.sessionStorage}try{var Vn="test-localStorage-"+Date.now();nr.setItem(Vn,Vn);var qn=nr.getItem(Vn);if(nr.removeItem(Vn),qn!==Vn)throw new Error}catch(tr){return ar?no():void 0}return nr}function Io(sr){var ar=jr()(sr.split("/"));return ar===""&&(ar=(sr=new(ur())(sr)).hostname),ar}function _o(sr){return No()(sr.replace("px",""))}function eo(sr){for(;sr;){if(sr.id==="eruda")return!0;sr=sr.parentNode}return!1}function so(sr){for(;sr;){var ar="";if(sr.getAttribute&&(ar=sr.getAttribute("class")||""),Dn()(ar,"__chobitsu-hide__"))return!0;sr=sr.parentNode}return!1}var Rr=Pr;function dr(sr){if(/<[^>]*>/g.test(sr))try{var ar=Go().parse(sr);return lo(ar,function(nr){nr.attrs&&nr.attrs.class&&(nr.attrs.class=Co(nr.attrs.class))}),Go().stringify(ar)}catch(nr){return Co(sr)}return Co(sr)}function lo(sr,ar){for(var nr=0,Vn=sr.length;nr<Vn;nr++){var qn=sr[nr];ar(qn),qn.content&&lo(qn.content,ar)}}function Co(sr){var ar="eruda-";return zr()(Bo()(sr).split(/\s+/),function(nr){return Dn()(nr,ar)?nr:nr.replace(/[\w-]+/,function(Vn){return"".concat(ar).concat(Vn)})}).join(" ")}var Do="ontouchstart"in Eo(),go="PointerEvent"in Eo(),vo={start:"touchstart",move:"touchmove",end:"touchend"},co={start:"mousedown",move:"mousemove",end:"mouseup"},Xr={start:"pointerdown",move:"pointermove",end:"pointerup"};function ro(sr){return go?Xr[sr]:Do?vo[sr]:co[sr]}function uo(sr,ar){var nr=sr==="x"?"clientX":"clientY";return ar[nr]?ar[nr]:ar.changedTouches?ar.changedTouches[0][nr]:0}function Ro(sr,ar){var nr=sr==="x"?"pageX":"pageY";return ar[nr]?ar[nr]:ar.changedTouches?ar.changedTouches[0][nr]:0}function wo(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var xo,bo=xn()(document),Oo=function(sr){(0,Fe.Z)(nr,sr);var ar=wo(nr);function nr(Vn){var qn;return(0,Ie.Z)(this,nr),qn=ar.call(this),(0,ze.Z)((0,Ne.Z)(qn),"_onDragStart",function(tr){var xr=qn._$el;xr.addClass(dr("active")),qn._isClick=!0,tr=tr.origEvent,qn._startX=uo("x",tr),qn._oldX=_o(xr.css("left")),qn._oldY=_o(xr.css("top")),qn._startY=uo("y",tr),bo.on(ro("move"),qn._onDragMove),bo.on(ro("end"),qn._onDragEnd)}),(0,ze.Z)((0,Ne.Z)(qn),"_onDragMove",function(tr){var xr=qn._$el.get(0).offsetWidth,Kr=qn._$container.get(0).offsetWidth,Yr=qn._$container.get(0).offsetHeight,Qr=uo("x",tr=tr.origEvent)-qn._startX,ho=uo("y",tr)-qn._startY;(Math.abs(Qr)>3||Math.abs(ho)>3)&&(qn._isClick=!1);var Lo=qn._oldX+Qr,Uo=qn._oldY+ho;Lo<0?Lo=0:Lo>Kr-xr&&(Lo=Kr-xr),Uo<0?Uo=0:Uo>Yr-xr&&(Uo=Yr-xr),qn._$el.css({left:Lo,top:Uo})}),(0,ze.Z)((0,Ne.Z)(qn),"_onDragEnd",function(tr){var xr=qn._$el;qn._isClick&&qn.emit("click"),qn._onDragMove(tr),bo.off(ro("move"),qn._onDragMove),bo.off(ro("end"),qn._onDragEnd);var Kr=qn.config;Kr.get("rememberPos")&&Kr.set("pos",{x:_o(xr.css("left")),y:_o(xr.css("top"))}),xr.rmClass("eruda-active")}),qn._style=Pr(_e(9195)),qn._$container=Vn,qn._initTpl(),qn._bindEvent(),qn._registerListener(),qn}return(0,Oe.Z)(nr,[{key:"hide",value:function(){this._$el.hide()}},{key:"show",value:function(){this._$el.show()}},{key:"setPos",value:function(Vn){this._isOutOfRange(Vn)&&(Vn=this._getDefPos()),this._$el.css({left:Vn.x,top:Vn.y}),this.config.set("pos",Vn)}},{key:"getPos",value:function(){return this.config.get("pos")}},{key:"destroy",value:function(){Pr.remove(this._style),this._unregisterListener(),this._$el.remove()}},{key:"_isOutOfRange",value:function(Vn){Vn=Vn||this.config.get("pos");var qn=this._getDefPos();return Vn.x>qn.x+10||Vn.x<0||Vn.y<0||Vn.y>qn.y+10}},{key:"_registerListener",value:function(){var Vn=this;this._scaleListener=function(){return qr()(function(){Vn._isOutOfRange()&&Vn._resetPos()})},vn.on(vn.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){vn.off(vn.SCALE,this._scaleListener)}},{key:"_initTpl",value:function(){var Vn=this._$container;Vn.append(dr('<div class="entry-btn"><span class="icon-tool"></span></div>')),this._$el=Vn.find(".eruda-entry-btn")}},{key:"_resetPos",value:function(Vn){var qn=this.config,tr=qn.get("pos"),xr=this._getDefPos();qn.get("rememberPos")&&!Vn||(tr=xr),this.setPos(tr)}},{key:"_bindEvent",value:function(){var Vn=this;this._$el.on(ro("start"),this._onDragStart),Ur().on("change",function(){return Vn._resetPos(!0)}),window.addEventListener("resize",function(){return Vn._resetPos()})}},{key:"initCfg",value:function(Vn){var qn=this.config=Or.createCfg("entry-button",{rememberPos:!0,pos:this._getDefPos()});Vn.switch(qn,"rememberPos","Remember Entry Button Position"),this._resetPos()}},{key:"_getDefPos",value:function(){var Vn=this._$el.get(0).offsetWidth+10;return{x:window.innerWidth-Vn,y:window.innerHeight-Vn}}}]),nr}(qe()),To=_e(4989),Mo=xo=new(_e.n(To)())("[Eruda]","warn");xo.formatter=function(sr,ar){return ar.unshift(this.name),ar};var Wo=_e(3990),qo=_e.n(Wo),Zo=_e(2520),ii=_e.n(Zo),pi=_e(6930),fi=_e.n(pi),mi=_e(4270),Ei=_e.n(mi),ri=_e(6093),_i=_e.n(ri),ui=_e(129),Oi=_e(7638);function oi(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var gi=function(sr){(0,Fe.Z)(nr,sr);var ar=oi(nr);function nr(Vn){var qn,tr=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).defaults,xr=tr===void 0?{}:tr;return(0,Ie.Z)(this,nr),qn=ar.call(this),(0,ze.Z)((0,Ne.Z)(qn),"_checkSafeArea",function(){var Kr=(0,Ne.Z)(qn).$container;si()?Kr.addClass(dr("safe-area")):Kr.rmClass(dr("safe-area"))}),(0,ze.Z)((0,Ne.Z)(qn),"_updateTabHeight",function(Kr){qn._tab.setOption("height",40*Kr),qr()(function(){qn._tab.updateSlider()})}),qn._defCfg=Jn()({transparency:1,displaySize:80,theme:ii()()?"Dark":"Light"},xr),qn._style=Pr(_e(13)),qn.$container=Vn,qn._isShow=!1,qn._opacity=1,qn._tools={},qn._isResizing=!1,qn._resizeTimer=null,qn._resizeStartY=0,qn._resizeStartSize=0,qn._initTpl(),qn._initTab(),qn._initNotification(),qn._initModal(),Ei()(function(){return qn._checkSafeArea()}),qn._bindEvent(),qn}return(0,Oe.Z)(nr,[{key:"show",value:function(){var Vn=this;return this._isShow=!0,this._$el.show(),this._tab.updateSlider(),setTimeout(function(){Vn._$el.css("opacity",Vn._opacity)},50),this.emit("show"),this}},{key:"hide",value:function(){var Vn=this;return this._isShow=!1,this.emit("hide"),this._$el.css({opacity:0}),setTimeout(function(){return Vn._$el.hide()},300),this}},{key:"toggle",value:function(){return this._isShow?this.hide():this.show()}},{key:"add",value:function(Vn){var qn=this._tab;if(!(Vn instanceof bn)){var tr=new bn,xr=tr.init,Kr=tr.show,Yr=tr.hide,Qr=tr.destroy;fr()(Vn,{init:xr,show:Kr,hide:Yr,destroy:Qr})}var ho=Vn.name;return ho?(ho=ho.toLowerCase(),this._tools[ho]?Mo.warn("Tool ".concat(ho," already exists")):(this._$tools.prepend('<div id="'.concat(dr(ho),'" class="').concat(dr(ho+" tool"),'"></div>')),Vn.init(this._$tools.find(".".concat(dr(ho),".").concat(dr("tool"))),this),Vn.active=!1,this._tools[ho]=Vn,ho==="settings"?qn.append({id:ho,title:ho}):qn.insert(qn.length-1,{id:ho,title:ho}),this)):Mo.error("You must specify a name for a tool")}},{key:"remove",value:function(Vn){var qn=this._tools;if(!qn[Vn])return Mo.warn("Tool ".concat(Vn," doesn't exist"));this._tab.remove(Vn);var tr=qn[Vn];if(delete qn[Vn],tr.active){var xr=Hn()(qn);xr.length>0&&this.showTool(qn[jr()(xr)].name)}return tr.destroy(),this}},{key:"removeAll",value:function(){var Vn=this;return Pn()(this._tools,function(qn){return Vn.remove(qn.name)}),this}},{key:"get",value:function(Vn){var qn=this._tools[Vn];if(qn)return qn}},{key:"showTool",value:function(Vn){if(this._curTool===Vn)return this;this._curTool=Vn;var qn=this._tools,tr=qn[Vn];if(tr){var xr={};return Pn()(qn,function(Kr){Kr.active&&(xr=Kr,Kr.active=!1,Kr.hide())}),tr.active=!0,tr.show(),this._tab.select(Vn),this.emit("showTool",Vn,xr),this}}},{key:"initCfg",value:function(Vn){var qn=this,tr=this.config=Or.createCfg("dev-tools",this._defCfg);this._setTransparency(tr.get("transparency")),this._setDisplaySize(tr.get("displaySize")),this._setTheme(tr.get("theme")),tr.on("change",function(xr,Kr){switch(xr){case"transparency":return qn._setTransparency(Kr);case"displaySize":return qn._setDisplaySize(Kr);case"theme":return qn._setTheme(Kr)}}),Vn.separator().select(tr,"theme","Theme",Hn()(Pr.getThemes())).range(tr,"transparency","Transparency",{min:.2,max:1,step:.01}).range(tr,"displaySize","Display Size",{min:40,max:100,step:1}).button("Restore defaults and reload",function(){var xr=Po("local"),Kr=JSON.parse(JSON.stringify(xr));Pn()(Kr,function(Yr,Qr){Nn()(Yr)&&fi()(Qr,"eruda")&&xr.removeItem(Qr)}),window.location.reload()}).separator()}},{key:"notify",value:function(Vn,qn){this._notification.notify(Vn,qn)}},{key:"destroy",value:function(){Pr.remove(this._style),this.removeAll(),this._tab.destroy(),this._$el.remove(),window.removeEventListener("resize",this._checkSafeArea),vn.off(vn.SCALE,this._updateTabHeight)}},{key:"_setTheme",value:function(Vn){var qn=this.$container;(function(tr){return Dn()(rr,tr)})(Vn)?qn.addClass(dr("dark")):qn.rmClass(dr("dark")),Pr.setTheme(Vn)}},{key:"_setTransparency",value:function(Vn){qo()(Vn)&&(this._opacity=Vn,this._isShow&&this._$el.css({opacity:Vn}))}},{key:"_setDisplaySize",value:function(Vn){qo()(Vn)&&this._$el.css({height:Vn+"%"})}},{key:"_initTpl",value:function(){var Vn=this.$container;Vn.append(dr('\n      <div class="dev-tools">\n        <div class="resizer"></div>\n        <div class="tab"></div>\n        <div class="tools"></div>\n        <div class="notification"></div>\n        <div class="modal"></div>\n      </div>\n      ')),this._$el=Vn.find(dr(".dev-tools")),this._$tools=this._$el.find(dr(".tools"))}},{key:"_initTab",value:function(){var Vn=this;this._tab=new Oi.Z(this._$el.find(dr(".tab")).get(0),{height:40}),this._tab.on("select",function(qn){return Vn.showTool(qn)})}},{key:"_initNotification",value:function(){this._notification=new(_i())(this._$el.find(dr(".notification")).get(0),{position:{x:"center",y:"top"}})}},{key:"_initModal",value:function(){ui.Z.setContainer(this._$el.find(dr(".modal")).get(0))}},{key:"_bindEvent",value:function(){var Vn=this,qn=this._$el.find(dr(".resizer")),tr=this._$el.find(dr(".nav-bar")),xr=xn()(document),Kr=function(Qr){if(Vn._isResizing){Qr.preventDefault(),Qr.stopPropagation(),Qr=Qr.origEvent;var ho=(Vn._resizeStartY-uo("y",Qr))/window.innerHeight*100,Lo=Vn._resizeStartSize+ho;Lo<40?Lo=40:Lo>100&&(Lo=100),Vn.config.set("displaySize",No()(Lo.toFixed(2)))}},Yr=function Qr(){clearTimeout(Vn._resizeTimer),Vn._isResizing=!1,qn.css("height",10),xr.off(ro("move"),Kr),xr.off(ro("end"),Qr)};qn.css("height",10),qn.on(ro("start"),function(Qr){Qr.preventDefault(),Qr.stopPropagation(),Qr=Qr.origEvent,Vn._isResizing=!0,Vn._resizeStartSize=Vn.config.get("displaySize"),Vn._resizeStartY=uo("y",Qr),qn.css("height","100%"),xr.on(ro("move"),Kr),xr.on(ro("end"),Yr)}),tr.on("contextmenu",function(Qr){return Qr.preventDefault()}),this.$container.on("click",function(Qr){return Qr.stopPropagation()}),window.addEventListener("resize",this._checkSafeArea),vn.on(vn.SCALE,this._updateTabHeight)}}]),nr}(qe()),xi=_e(1214),Ui=_e.n(xi),Vi=_e(4777),vi=_e.n(Vi),ya=_e(1754),Ti=_e.n(ya),Yi=_e(5484),Ni=_e.n(Yi),ji=_e(3023),zi=_e.n(ji),La=_e(9585),ba=_e.n(La),Aa=_e(6156),Ri=_e.n(Aa),Ia=_e(8816);function ti(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}Ni().start();var Ea=function(sr){(0,Fe.Z)(nr,sr);var ar=ti(nr);function nr(){var Vn,qn=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).name,tr=qn===void 0?"console":qn;return(0,Ie.Z)(this,nr),Vn=ar.call(this),(0,ze.Z)((0,Ne.Z)(Vn),"_handleShow",function(){ba()(Vn._$el.get(0))||Vn._logger.renderViewport()}),(0,ze.Z)((0,Ne.Z)(Vn),"_handleErr",function(xr){Vn._logger.error(xr)}),qe().mixin((0,Ne.Z)(Vn)),Vn.name=tr,Vn._selectedLog=null,Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn,qn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._container=qn,this._appendTpl(),this._initCfg(),this._initLogger(),this._exposeLogger(),this._bindEvent()}},{key:"show",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"show",this).call(this),this._handleShow()}},{key:"overrideConsole",value:function(){var Vn=this,qn=this._origConsole={},tr=window.console;return qi.forEach(function(xr){var Kr=qn[xr]=Ui();tr[xr]&&(Kr=qn[xr]=tr[xr].bind(tr)),tr[xr]=function(){Vn[xr].apply(Vn,arguments),Kr.apply(void 0,arguments)}}),this}},{key:"setGlobal",value:function(Vn,qn){this._logger.setGlobal(Vn,qn)}},{key:"restoreConsole",value:function(){var Vn=this;return this._origConsole?(qi.forEach(function(qn){return window.console[qn]=Vn._origConsole[qn]}),delete this._origConsole,this):this}},{key:"catchGlobalErr",value:function(){return Ni().addListener(this._handleErr),this}},{key:"ignoreGlobalErr",value:function(){return Ni().rmListener(this._handleErr),this}},{key:"filter",value:function(Vn){var qn=this._$filterText,tr=this._logger;Nn()(Vn)?(qn.text(Vn),tr.setOption("filter",Bo()(Vn))):Ti()(Vn)?(qn.text(Fn()(Vn)),tr.setOption("filter",Vn)):vi()(Vn)&&(qn.text("ƒ"),tr.setOption("filter",Vn))}},{key:"destroy",value:function(){this._logger.destroy(),(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),this._container.off("show",this._handleShow),this._style&&Pr.remove(this._style),this.ignoreGlobalErr(),this.restoreConsole(),this._rmCfg()}},{key:"_enableJsExecution",value:function(Vn){var qn=this._$el,tr=qn.find(dr(".js-input"));Vn?(tr.show(),qn.rmClass(dr("js-input-hidden"))):(tr.hide(),qn.addClass(dr("js-input-hidden")))}},{key:"_appendTpl",value:function(){var Vn=this._$el;this._style=Pr(_e(3191)),Vn.append(dr('\n      <div class="control">\n        <span class="icon-clear clear-console"></span>\n        <span class="level active" data-level="all">All</span>\n        <span class="level" data-level="info">Info</span>\n        <span class="level" data-level="warning">Warning</span>\n        <span class="level" data-level="error">Error</span>\n        <span class="filter-text"></span>\n        <span class="icon-filter filter"></span>\n        <span class="icon-copy icon-disabled copy"></span>\n      </div>\n      <div class="logs-container"></div>\n      <div class="js-input">\n        <div class="buttons">\n          <div class="button cancel">Cancel</div>\n          <div class="button execute">Execute</div>\n        </div>\n        <span class="icon-arrow-right"></span>\n        <textarea></textarea>\n      </div>\n    '));var qn=Vn.find(dr(".js-input")),tr=qn.find("textarea"),xr=qn.find(dr(".buttons"));Jn()(this,{_$control:Vn.find(dr(".control")),_$logs:Vn.find(dr(".logs-container")),_$inputContainer:qn,_$input:tr,_$inputBtns:xr,_$filterText:Vn.find(dr(".filter-text"))})}},{key:"_initLogger",value:function(){var Vn=this.config,qn=Vn.get("maxLogNum");qn=qn==="infinite"?0:+qn;var tr=this._$control.find(dr(".level")),xr=new Ia.Z(this._$logs.get(0),{asyncRender:Vn.get("asyncRender"),maxNum:qn,showHeader:Vn.get("displayExtraInfo"),unenumerable:Vn.get("displayUnenumerable"),accessGetter:Vn.get("displayGetterVal"),lazyEvaluation:Vn.get("lazyEvaluation")});xr.on("optionChange",function(Kr,Yr){Kr==="level"&&tr.each(function(){var Qr=xn()(this),ho=Qr.data("level");Qr[ho===Yr||ho==="all"&&Ir()(Yr)?"addClass":"rmClass"](dr("active"))})}),Vn.get("overrideConsole")&&this.overrideConsole(),this._logger=xr}},{key:"_exposeLogger",value:function(){var Vn=this,qn=this._logger;["html"].concat(qi).forEach(function(tr){return Vn[tr]=function(){for(var xr=arguments.length,Kr=new Array(xr),Yr=0;Yr<xr;Yr++)Kr[Yr]=arguments[Yr];return qn[tr].apply(qn,Kr),Vn.emit.apply(Vn,[tr].concat(Kr)),Vn}})}},{key:"_bindEvent",value:function(){var Vn=this,qn=this._container,tr=this._$input,xr=this._$inputBtns,Kr=this._$control,Yr=this._logger,Qr=this.config;Kr.on("click",dr(".clear-console"),function(){return Yr.clear(!0)}).on("click",dr(".level"),function(){var ho=xn()(this).data("level");ho==="all"&&(ho=["verbose","info","warning","error"]),Yr.setOption("level",ho)}).on("click",dr(".filter"),function(){ui.Z.prompt("Filter").then(function(ho){Ri()(ho)||Vn.filter(ho)})}).on("click",dr(".copy"),function(){Vn._selectedLog.copy(),qn.notify("Copied")}),xr.on("click",dr(".cancel"),function(){return Vn._hideInput()}).on("click",dr(".execute"),function(){var ho=tr.val().trim();ho!==""&&(Yr.evaluate(ho),tr.val("").get(0).blur(),Vn._hideInput())}),tr.on("focusin",function(){return Vn._showInput()}),Yr.on("insert",function(ho){ho.type==="error"&&Qr.get("displayIfErr")&&qn.showTool("console").show()}),Yr.on("select",function(ho){Vn._selectedLog=ho,Kr.find(dr(".icon-copy")).rmClass(dr("icon-disabled"))}),Yr.on("deselect",function(){Vn._selectedLog=null,Kr.find(dr(".icon-copy")).addClass(dr("icon-disabled"))}),qn.on("show",this._handleShow)}},{key:"_hideInput",value:function(){this._$inputContainer.rmClass(dr("active")),this._$inputBtns.css("display","none")}},{key:"_showInput",value:function(){this._$inputContainer.addClass(dr("active")),this._$inputBtns.css("display","flex")}},{key:"_rmCfg",value:function(){var Vn=this.config,qn=this._container.get("settings");qn&&qn.remove(Vn,"asyncRender").remove(Vn,"jsExecution").remove(Vn,"catchGlobalErr").remove(Vn,"overrideConsole").remove(Vn,"displayExtraInfo").remove(Vn,"displayUnenumerable").remove(Vn,"displayGetterVal").remove(Vn,"lazyEvaluation").remove(Vn,"displayIfErr").remove(Vn,"maxLogNum").remove(zi()(this.name))}},{key:"_initCfg",value:function(){var Vn=this,qn=this._container,tr=this.config=Or.createCfg(this.name,{asyncRender:!0,catchGlobalErr:!0,jsExecution:!0,overrideConsole:!0,displayExtraInfo:!1,displayUnenumerable:!0,displayGetterVal:!0,lazyEvaluation:!0,displayIfErr:!1,maxLogNum:"infinite"});this._enableJsExecution(tr.get("jsExecution")),tr.get("catchGlobalErr")&&this.catchGlobalErr(),tr.on("change",function(Kr,Yr){var Qr=Vn._logger;switch(Kr){case"asyncRender":return Qr.setOption("asyncRender",Yr);case"jsExecution":return Vn._enableJsExecution(Yr);case"catchGlobalErr":return Yr?Vn.catchGlobalErr():Vn.ignoreGlobalErr();case"overrideConsole":return Yr?Vn.overrideConsole():Vn.restoreConsole();case"maxLogNum":return Qr.setOption("maxNum",Yr==="infinite"?0:+Yr);case"displayExtraInfo":return Qr.setOption("showHeader",Yr);case"displayUnenumerable":return Qr.setOption("unenumerable",Yr);case"displayGetterVal":return Qr.setOption("accessGetter",Yr);case"lazyEvaluation":return Qr.setOption("lazyEvaluation",Yr)}});var xr=qn.get("settings");xr&&xr.text(zi()(this.name)).switch(tr,"asyncRender","Asynchronous Rendering").switch(tr,"jsExecution","Enable JavaScript Execution").switch(tr,"catchGlobalErr","Catch Global Errors").switch(tr,"overrideConsole","Override Console").switch(tr,"displayIfErr","Auto Display If Error Occurs").switch(tr,"displayExtraInfo","Display Extra Information").switch(tr,"displayUnenumerable","Display Unenumerable Properties").switch(tr,"displayGetterVal","Access Getter Value").switch(tr,"lazyEvaluation","Lazy Evaluation").select(tr,"maxLogNum","Max Log Number",["infinite","250","125","100","50","10"]).separator()}}]),nr}(bn),qi=["log","error","info","warn","dir","time","timeLog","timeEnd","clear","table","assert","count","countReset","debug","group","groupCollapsed","groupEnd"],oa=_e(4677),Ra=_e.n(oa),ia=_e(8887),ai=_e.n(ia),Pa=_e(8901),Yo=_e.n(Pa),Da=_e(2327),Pi=_e.n(Da),Oa=_e(4219),Na=_e.n(Oa),Ma=_e(7756),Hi=_e.n(Ma);function Ba(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var Fa=function(sr){(0,Fe.Z)(nr,sr);var ar=Ba(nr);function nr(Vn,qn){var tr;return(0,Ie.Z)(this,nr),tr=ar.call(this),(0,ze.Z)((0,Ne.Z)(tr),"_copyRes",function(){var xr=tr._detailData,Kr="".concat(xr.method," ").concat(xr.url," ").concat(xr.status,"\n");ai()(xr.data)||(Kr+="\nRequest Data\n\n",Kr+="".concat(xr.data,"\n")),ai()(xr.reqHeaders)||(Kr+="\nRequest Headers\n\n",Pn()(xr.reqHeaders,function(Yr,Qr){return Kr+="".concat(Qr,": ").concat(Yr,"\n")})),ai()(xr.resHeaders)||(Kr+="\nResponse Headers\n\n",Pn()(xr.resHeaders,function(Yr,Qr){return Kr+="".concat(Qr,": ").concat(Yr,"\n")})),xr.resTxt&&(Kr+="\n".concat(xr.resTxt,"\n")),Pi()(Kr),tr._devtools.notify("Copied")}),tr._$container=Vn,tr._devtools=qn,tr._detailData={},tr._bindEvent(),tr}return(0,Oe.Z)(nr,[{key:"show",value:function(Vn){Vn.resTxt&&Bo()(Vn.resTxt)===""&&delete Vn.resTxt,ai()(Vn.resHeaders)&&delete Vn.resHeaders,ai()(Vn.reqHeaders)&&delete Vn.reqHeaders;var qn="";Vn.data&&(qn='<pre class="'.concat(dr("data"),'">').concat(Yo()(Vn.data),"</pre>"));var tr="<tr><td>Empty</td></tr>";Vn.reqHeaders&&(tr=zr()(Vn.reqHeaders,function(ho,Lo){return'<tr>\n          <td class="'.concat(dr("key"),'">').concat(Yo()(Lo),"</td>\n          <td>").concat(Yo()(ho),"</td>\n        </tr>")}).join(""));var xr="<tr><td>Empty</td></tr>";Vn.resHeaders&&(xr=zr()(Vn.resHeaders,function(ho,Lo){return'<tr>\n          <td class="'.concat(dr("key"),'">').concat(Yo()(Lo),"</td>\n          <td>").concat(Yo()(ho),"</td>\n        </tr>")}).join(""));var Kr="";if(Vn.resTxt){var Yr=Vn.resTxt;Yr.length>xa&&(Yr=Hi()(Yr,xa)),Kr='<pre class="'.concat(dr("response"),'">').concat(Yo()(Yr),"</pre>")}var Qr='<div class="'.concat(dr("control"),'">\n      <span class="').concat(dr("icon-arrow-left back"),'"></span>\n      <span class="').concat(dr("icon-delete back"),'"></span>\n      <span class="').concat(dr("url"),'">').concat(Yo()(Vn.url),'</span>\n      <span class="').concat(dr("icon-copy copy-res"),'"></span>\n    </div>\n    <div class="').concat(dr("http"),'">\n      ').concat(qn,'\n      <div class="').concat(dr("section"),'">\n        <h2>Response Headers</h2>\n        <table class="').concat(dr("headers"),'">\n          <tbody>\n            ').concat(xr,'\n          </tbody>\n        </table>\n      </div>\n      <div class="').concat(dr("section"),'">\n        <h2>Request Headers</h2>\n        <table class="').concat(dr("headers"),'">\n          <tbody>\n            ').concat(tr,"\n          </tbody>\n        </table>\n      </div>\n      ").concat(Kr,"\n    </div>");this._$container.html(Qr).show(),this._detailData=Vn}},{key:"hide",value:function(){this._$container.hide(),this.emit("hide")}},{key:"_bindEvent",value:function(){var Vn=this,qn=this._devtools;this._$container.on("click",dr(".back"),function(){return Vn.hide()}).on("click",dr(".copy-res"),this._copyRes).on("click",dr(".http .response"),function(){var xr=Vn._detailData,Kr=xr.resTxt;if(Na()(Kr))return tr("object",Kr);switch(xr.subType){case"css":return tr("css",Kr);case"html":return tr("html",Kr);case"javascript":return tr("js",Kr);case"json":return tr("object",Kr)}return xr.type==="image"?tr("img",xr.url):void 0});var tr=function(xr,Kr){var Yr=qn.get("sources");Yr&&(Yr.set(xr,Kr),qn.showTool("sources"))}}}]),nr}(qe()),xa=1e5,$a=_e(2439),Ca=_e.n($a),Ua=_e(9143),Va=_e.n(Ua),Sa=_e(2139),ja=_e(8689),aa=_e(7935),Ao=_e(9119);function $o(sr,ar){var nr=Object.keys(sr);if(Object.getOwnPropertySymbols){var Vn=Object.getOwnPropertySymbols(sr);ar&&(Vn=Vn.filter(function(qn){return Object.getOwnPropertyDescriptor(sr,qn).enumerable})),nr.push.apply(nr,Vn)}return nr}function yo(sr){for(var ar=1;ar<arguments.length;ar++){var nr=arguments[ar]!=null?arguments[ar]:{};ar%2?$o(Object(nr),!0).forEach(function(Vn){(0,ze.Z)(sr,Vn,nr[Vn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sr,Object.getOwnPropertyDescriptors(nr)):$o(Object(nr)).forEach(function(Vn){Object.defineProperty(sr,Vn,Object.getOwnPropertyDescriptor(nr,Vn))})}return sr}var pr=new(Va());pr.register("Network",Sa),pr.register("Overlay",ja),pr.register("DOM",yo(yo({},aa),{},{getNodeId:aa.getDOMNodeId,getNode:aa.getDOMNode})),pr.register("Storage",Ao);var hr=pr,Nr=_e(5564),Wr=_e(242),fo=_e.n(Wr),io=_e(2765),po=_e.n(io),mo=_e(6954),ko=_e.n(mo),jo=_e(7913),Ko=_e.n(jo);function Xo(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var li=function(sr){(0,Fe.Z)(nr,sr);var ar=Xo(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),Vn=ar.call(this),(0,ze.Z)((0,Ne.Z)(Vn),"_reqWillBeSent",function(qn){if(Vn._isRecording){var tr,xr={name:Io(qn.request.url),url:qn.request.url,status:"pending",type:"unknown",subType:"unknown",size:0,data:qn.request.postData,method:qn.request.method,startTime:1e3*qn.timestamp,time:0,resTxt:"",done:!1,reqHeaders:qn.request.headers||{},resHeaders:{}};xr.render=function(){var Kr={name:xr.name,method:xr.method,status:xr.status,type:xr.subType,size:xr.size,time:xr.displayTime};tr?(tr.data=Kr,tr.render()):(tr=Vn._requestDataGrid.append(Kr,{selectable:!0}),xn()(tr.container).data("id",qn.requestId)),xr.hasErr&&xn()(tr.container).addClass(dr("request-error"))},xr.render(),Vn._requests[qn.requestId]=xr}}),(0,ze.Z)((0,Ne.Z)(Vn),"_resReceivedExtraInfo",function(qn){var tr=Vn._requests[qn.requestId];Vn._isRecording&&tr&&(tr.resHeaders=qn.headers,Vn._updateType(tr),tr.render())}),(0,ze.Z)((0,Ne.Z)(Vn),"_resReceived",function(qn){var tr=Vn._requests[qn.requestId];if(Vn._isRecording&&tr){var xr=qn.response,Kr=xr.status,Yr=xr.headers;tr.status=Kr,(Kr<200||Kr>=300)&&(tr.hasErr=!0),Yr&&(tr.resHeaders=Yr,Vn._updateType(tr)),tr.render()}}),(0,ze.Z)((0,Ne.Z)(Vn),"_loadingFinished",function(qn){var tr=Vn._requests[qn.requestId];if(Vn._isRecording&&tr){var xr=1e3*qn.timestamp;tr.time=xr-tr.startTime,tr.displayTime=Ra()(tr.time),tr.size=qn.encodedDataLength,tr.done=!0,tr.resTxt=hr.domain("Network").getResponseBody({requestId:qn.requestId}).body,tr.render()}}),(0,ze.Z)((0,Ne.Z)(Vn),"_copyCurl",function(){var qn=Vn._selectedRequest;Pi()(function(tr){var xr=ko()();xr==="windows"&&(xr="win");var Kr=[],Yr=Ko()(["accept-encoding","host","method","path","scheme","version"]),Qr=xr==="win"?function(Si){var ls=/[\r\n]/.test(Si)?'^"':'"';return ls+Si.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[^a-zA-Z0-9\s_\-:=+~'\/.',?;()*`&]/g,"^$&").replace(/%(?=[a-zA-Z0-9_])/g,"%^").replace(/\r?\n/g,"^\n\n")+ls}:function(Si){return/[\0-\x1F\x7F-\x9F!]|\'/.test(Si)?"$'"+Si.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\0-\x1F\x7F-\x9F!]/g,function(ls){for(var cs=ls.charCodeAt(0).toString(16);cs.length<4;)cs="0"+cs;return"\\u"+cs})+"'":"'"+Si+"'"};Kr.push(Qr(tr.url()).replace(/[[{}\]]/g,"\\$&"));var ho="GET",Lo=[],Uo=tr.requestFormData();Uo&&(Lo.push("--data-raw "+Qr(Uo)),Yr["content-length"]=!0,ho="POST"),tr.requestMethod!==ho&&Kr.push("-X "+Qr(tr.requestMethod));for(var zo=tr.requestHeaders(),ei=0;ei<zo.length;ei++){var di=zo[ei],Ci=di.name.replace(/^:/,"");Yr[Ci.toLowerCase()]||Kr.push("-H "+Qr(Ci+": "+di.value))}return(Kr=Kr.concat(Lo)).push("--compressed"),"curl "+Kr.join(Kr.length>=3?xr==="win"?" ^\n  ":" \\\n  ":" ")}({requestMethod:qn.method,url:function(){return qn.url},requestFormData:function(){return qn.data},requestHeaders:function(){var tr=qn.reqHeaders||{};return Jn()(tr,{"User-Agent":navigator.userAgent,Referer:location.href}),zr()(tr,function(xr,Kr){return{name:Kr,value:xr}})}})),Vn._container.notify("Copied")}),(0,ze.Z)((0,Ne.Z)(Vn),"_toggleRecording",function(){Vn._$control.find(dr(".record")).toggleClass(dr("recording")),Vn._isRecording=!Vn._isRecording}),(0,ze.Z)((0,Ne.Z)(Vn),"_showDetail",function(){Vn._selectedRequest&&(Vn._splitMode&&Vn._$network.css("width","50%"),Vn._detail.show(Vn._selectedRequest))}),(0,ze.Z)((0,Ne.Z)(Vn),"_updateScale",function(qn){Vn._splitMediaQuery.setQuery("screen and (min-width: ".concat(680*qn,"px)"))}),Vn._style=Pr(_e(3180)),Vn.name="network",Vn._requests={},Vn._selectedRequest=null,Vn._isRecording=!0,Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn,qn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._container=qn,this._initTpl(),this._detail=new Fa(this._$detail,qn),this._splitMediaQuery=new(po())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._requestDataGrid=new Nr.Z(this._$requests.get(0),{columns:[{id:"name",title:"Name",sortable:!0,weight:30},{id:"method",title:"Method",sortable:!0,weight:14},{id:"status",title:"Status",sortable:!0,weight:14},{id:"type",title:"Type",sortable:!0,weight:14},{id:"size",title:"Size",sortable:!0,weight:14},{id:"time",title:"Time",sortable:!0,weight:14}]}),this._resizeSensor=new(fo())(Vn.get(0)),this._bindEvent()}},{key:"show",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"show",this).call(this),this._updateDataGridHeight()}},{key:"clear",value:function(){this._requests={},this._requestDataGrid.clear()}},{key:"requests",value:function(){var Vn=[];return Pn()(this._requests,function(qn){Vn.push(qn)}),Vn}},{key:"_updateDataGridHeight",value:function(){var Vn=this._$el.offset().height-this._$control.offset().height;this._requestDataGrid.setOption({minHeight:Vn,maxHeight:Vn})}},{key:"_updateType",value:function(Vn){var qn=function(Kr){if(!Kr)return"unknown";var Yr=Kr.split(";")[0].split("/");return{type:Yr[0],subType:jr()(Yr)}}(Vn.resHeaders["content-type"]||""),tr=qn.type,xr=qn.subType;Vn.type=tr,Vn.subType=xr}},{key:"_updateButtons",value:function(){var Vn=this._$control,qn=Vn.find(dr(".show-detail")),tr=Vn.find(dr(".copy-curl")),xr=dr("icon-disabled");qn.addClass(xr),tr.addClass(xr),this._selectedRequest&&(qn.rmClass(xr),tr.rmClass(xr))}},{key:"_bindEvent",value:function(){var Vn=this,qn=this._$control,tr=this._$filterText,xr=this._requestDataGrid,Kr=this;qn.on("click",dr(".clear-request"),function(){return Vn.clear()}).on("click",dr(".show-detail"),this._showDetail).on("click",dr(".copy-curl"),this._copyCurl).on("click",dr(".record"),this._toggleRecording).on("click",dr(".filter"),function(){ui.Z.prompt("Filter").then(function(Qr){Ri()(Qr)||(tr.text(Qr),xr.setOption("filter",Bo()(Qr)))})}),xr.on("select",function(Qr){var ho=xn()(Qr.container).data("id"),Lo=Kr._requests[ho];Vn._selectedRequest=Lo,Vn._updateButtons(),Vn._splitMode&&Vn._showDetail()}),xr.on("deselect",function(){Vn._selectedRequest=null,Vn._updateButtons(),Vn._detail.hide()}),this._resizeSensor.addListener(Ca()(function(){return Vn._updateDataGridHeight()},15)),this._splitMediaQuery.on("match",function(){Vn._detail.hide(),Vn._splitMode=!0}),this._splitMediaQuery.on("unmatch",function(){Vn._detail.hide(),Vn._splitMode=!1}),this._detail.on("hide",function(){Vn._splitMode&&Vn._$network.css("width","100%")}),hr.domain("Network").enable();var Yr=hr.domain("Network");Yr.on("requestWillBeSent",this._reqWillBeSent),Yr.on("responseReceivedExtraInfo",this._resReceivedExtraInfo),Yr.on("responseReceived",this._resReceived),Yr.on("loadingFinished",this._loadingFinished),vn.on(vn.SCALE,this._updateScale)}},{key:"destroy",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),this._resizeSensor.destroy(),Pr.remove(this._style),this._splitMediaQuery.removeAllListeners();var Vn=hr.domain("Network");Vn.off("requestWillBeSent",this._reqWillBeSent),Vn.off("responseReceivedExtraInfo",this._resReceivedExtraInfo),Vn.off("responseReceived",this._resReceived),Vn.off("loadingFinished",this._loadingFinished),vn.off(vn.SCALE,this._updateScale)}},{key:"_initTpl",value:function(){var Vn=this._$el;Vn.html(dr('<div class="network">\n        <div class="control">\n          <span class="icon-record record recording"></span>\n          <span class="icon-clear clear-request"></span>\n          <span class="icon-eye icon-disabled show-detail"></span>\n          <span class="icon-copy icon-disabled copy-curl"></span>\n          <span class="filter-text"></span>\n          <span class="icon-filter filter"></span>\n        </div>\n        <div class="requests"></div>\n      </div>\n      <div class="detail"></div>')),this._$network=Vn.find(dr(".network")),this._$detail=Vn.find(dr(".detail")),this._$requests=Vn.find(dr(".requests")),this._$control=Vn.find(dr(".control")),this._$filterText=Vn.find(dr(".filter-text"))}}]),nr}(bn),Vo=_e(9833),Jo=_e.n(Vo),Qo=_e(9956),hi=_e.n(Qo),Ki=_e(8209),wi=_e(3063),Gi=_e.n(wi),ki=_e(3487),bi=_e.n(ki),ci=_e(42),Li=_e.n(ci),Mi=_e(4696),Zi=_e.n(Mi),Ii=_e(7653),Wi=_e.n(Ii),Xi=_e(8613),Di=_e.n(Xi),Bi=_e(2289),Qi=_e.n(Bi),sa=_e(3629),Fi=_e.n(sa);function Ji(sr){for(var ar={},nr=0,Vn=sr.length;nr<Vn;nr++){var qn=sr[nr];sr[qn]!=="initial"&&(ar[qn]=sr[qn])}return function(tr){return Fi()(tr,{comparator:function(xr,Kr){for(var Yr=xr.length,Qr=Kr.length,ho=Yr>Qr?Qr:Yr,Lo=0;Lo<ho;Lo++){var Uo=za(xr.charCodeAt(Lo),Kr.charCodeAt(Lo));if(Uo!==0)return Uo}return Yr>Qr?1:Yr<Qr?-1:0}})}(ar)}var ni=Element.prototype,ea=function(){return!1};ni.webkitMatchesSelector?ea=function(sr,ar){return sr.webkitMatchesSelector(ar)}:ni.mozMatchesSelector&&(ea=function(sr,ar){return sr.mozMatchesSelector(ar)});var $i=function(){function sr(ar){(0,Ie.Z)(this,sr),this._el=ar}return(0,Oe.Z)(sr,[{key:"getComputedStyle",value:function(){return Ji(window.getComputedStyle(this._el))}},{key:"getMatchedCSSRules",value:function(){var ar=this,nr=[];return Pn()(document.styleSheets,function(Vn){try{if(!Vn.cssRules)return}catch(qn){return}Pn()(Vn.cssRules,function(qn){var tr=!1;try{tr=ar._elMatchesSel(qn.selectorText)}catch(xr){}tr&&nr.push({selectorText:qn.selectorText,style:Ji(qn.style)})})}),nr}},{key:"_elMatchesSel",value:function(ar){return ea(this._el,ar)}}]),sr}();function za(sr,ar){return(sr=Wa(sr))>(ar=Wa(ar))?1:sr<ar?-1:0}function Wa(sr){return sr===45?123:sr}var ds=_e(422);function ta(sr){var ar=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).noAttr,nr=ar!==void 0&&ar;if(sr.nodeType===Node.TEXT_NODE)return'<span class="'.concat(dr("tag-name-color"),'">(text)</span>');if(sr.nodeType===Node.COMMENT_NODE)return'<span class="'.concat(dr("tag-name-color"),'"><!--></span>');var Vn=sr.id,qn=sr.className,tr=sr.attributes,xr='<span class="eruda-tag-name-color">'.concat(sr.tagName.toLowerCase(),"</span>");if(Vn!==""&&(xr+='<span class="eruda-function-color">#'.concat(Vn,"</span>")),Nn()(qn)){var Kr="";Pn()(qn.split(/\s+/g),function(Yr){Yr.trim()!==""&&(Kr+=".".concat(Yr))}),xr+='<span class="eruda-attribute-name-color">'.concat(Kr,"</span>")}return nr||Pn()(tr,function(Yr){var Qr=Yr.name;Qr!=="id"&&Qr!=="class"&&Qr!=="style"&&(xr+=' <span class="eruda-attribute-name-color">'.concat(Qr,'</span><span class="eruda-operator-color">="</span><span class="eruda-string-color">').concat(Yr.value,'</span><span class="eruda-operator-color">"</span>'))}),xr}var fs=function(){function sr(ar,nr){var Vn=this;(0,Ie.Z)(this,sr),(0,ze.Z)(this,"hide",function(){Vn._$container.hide(),Vn._disableObserver(),hr.domain("Overlay").hideHighlight()}),this._$container=ar,this._devtools=nr,this._curEl=document.documentElement,this._bindEvent(),this._initObserver(),this._initCfg(),this._initTpl()}return(0,Oe.Z)(sr,[{key:"show",value:function(ar){this._curEl=ar,this._rmDefComputedStyle=!0,this._computedStyleSearchKeyword="",this._enableObserver(),this._render();var nr=hr.domain("DOM").getNodeId({node:ar}).nodeId;hr.domain("Overlay").highlightNode({nodeId:nr,highlightConfig:{showInfo:!0,contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}})}},{key:"destroy",value:function(){this._disableObserver(),this.restoreEventTarget(),this._rmCfg()}},{key:"overrideEventTarget",value:function(){var ar=Xa(),nr=this._origAddEvent=ar.addEventListener,Vn=this._origRmEvent=ar.removeEventListener;ar.addEventListener=function(qn,tr,xr){(function(Kr,Yr,Qr){var ho=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(!Jo()(Kr)||!vi()(Qr)||!Zi()(ho))){var Lo=Kr.erudaEvents=Kr.erudaEvents||{};Lo[Yr]=Lo[Yr]||[],Lo[Yr].push({listener:Qr,listenerStr:Qr.toString(),useCapture:ho})}})(this,qn,tr,xr),nr.apply(this,arguments)},ar.removeEventListener=function(qn,tr,xr){(function(Kr,Yr,Qr){var ho=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(!Jo()(Kr)||!vi()(Qr)||!Zi()(ho))){var Lo=Kr.erudaEvents;if(!(!Lo||!Lo[Yr])){for(var Uo=Lo[Yr],zo=0,ei=Uo.length;zo<ei;zo++)if(Uo[zo].listener===Qr){Uo.splice(zo,1);break}Uo.length===0&&delete Lo[Yr],Hn()(Lo).length===0&&delete Kr.erudaEvents}}})(this,qn,tr,xr),Vn.apply(this,arguments)}}},{key:"restoreEventTarget",value:function(){var ar=Xa();this._origAddEvent&&(ar.addEventListener=this._origAddEvent),this._origRmEvent&&(ar.removeEventListener=this._origRmEvent)}},{key:"_initTpl",value:function(){var ar=this._$container,nr='<div class="'.concat(dr("control"),'">\n      <span class="').concat(dr("icon-arrow-left back"),'"></span>\n      <span class="').concat(dr("element-name"),'"></span>\n      <span class="').concat(dr("icon-refresh refresh"),'"></span>\n    </div>\n    <div class="').concat(dr("element"),'">\n      <div class="').concat(dr("attributes section"),'"></div>\n      <div class="').concat(dr("styles section"),'"></div>\n      <div class="').concat(dr("computed-style section"),'"></div>\n      <div class="').concat(dr("listeners section"),'"></div>\n    </div>');ar.html(nr),this._$elementName=ar.find(dr(".element-name")),this._$attributes=ar.find(dr(".attributes")),this._$styles=ar.find(dr(".styles")),this._$listeners=ar.find(dr(".listeners")),this._$computedStyle=ar.find(dr(".computed-style"));var Vn=Di()("div");this._$boxModel=xn()(Vn),this._boxModel=new ds.Z(Vn)}},{key:"_toggleAllComputedStyle",value:function(){this._rmDefComputedStyle=!this._rmDefComputedStyle,this._render()}},{key:"_render",value:function(){var ar=this._getData(this._curEl),nr=this._$attributes,Vn=this._$elementName,qn=this._$styles,tr=this._$computedStyle,xr=this._$listeners;Vn.html(ar.name);var Kr="<tr><td>Empty</td></tr>";ai()(ar.attributes)||(Kr=zr()(ar.attributes,function(zo){var ei=zo.name,di=zo.value;return'<tr>\n          <td class="'.concat(dr("attribute-name-color"),'">').concat(Yo()(ei),'</td>\n          <td class="').concat(dr("string-color"),'">').concat(di,"</td>\n        </tr>")}).join("")),Kr='<h2>Attributes</h2>\n    <div class="'.concat(dr("table-wrapper"),'">\n      <table>\n        <tbody>\n          ').concat(Kr," \n        </tbody>\n      </table>\n    </div>"),nr.html(Kr);var Yr="";if(ai()(ar.styles))qn.hide();else{var Qr=zr()(ar.styles,function(zo){var ei=zo.selectorText,di=zo.style;return di=zr()(di,function(Ci,Si){return'<div class="'.concat(dr("rule"),'"><span>').concat(Yo()(Si),"</span>: ").concat(Ci,";</div>")}).join(""),'<div class="'.concat(dr("style-rules"),'">\n          <div>').concat(Yo()(ei)," {</div>\n            ").concat(di,"\n          <div>}</div>\n        </div>")}).join("");Yr='<h2>Styles</h2>\n      <div class="'.concat(dr("style-wrapper"),'">\n        ').concat(Qr,"\n      </div>"),qn.html(Yr).show()}var ho="";if(ar.computedStyle){var Lo=dr('<div class="btn toggle-all-computed-style">\n        <span class="icon-expand"></span>\n      </div>');ar.rmDefComputedStyle&&(Lo=dr('<div class="btn toggle-all-computed-style">\n          <span class="icon-compress"></span>\n        </div>')),ho="<h2>\n        Computed Style\n        ".concat(Lo,'\n        <div class="').concat(dr("btn computed-style-search"),'">\n          <span class="').concat(dr("icon-filter"),'"></span>\n        </div>\n        ').concat(ar.computedStyleSearchKeyword?'<div class="'.concat(dr("btn filter-text"),'">').concat(Yo()(ar.computedStyleSearchKeyword),"</div>"):"",'\n      </h2>\n      <div class="').concat(dr("box-model"),'"></div>\n      <div class="').concat(dr("table-wrapper"),'">\n        <table>\n          <tbody>\n          ').concat(zr()(ar.computedStyle,function(zo,ei){return'<tr>\n              <td class="'.concat(dr("key"),'">').concat(Yo()(ei),"</td>\n              <td>").concat(zo,"</td>\n            </tr>")}).join(""),"\n          </tbody>\n        </table>\n      </div>"),tr.html(ho).show(),this._boxModel.setOption("element",this._curEl),tr.find(dr(".box-model")).append(this._$boxModel.get(0))}else tr.text("").hide();var Uo="";ar.listeners?(Uo=zr()(ar.listeners,function(zo,ei){return zo=zr()(zo,function(di){var Ci=di.useCapture,Si=di.listenerStr;return"<li ".concat(Ci?'class="'.concat(dr("capture"),'"'):"",">").concat(Yo()(Si),"</li>")}).join(""),'<div class="'.concat(dr("listener"),'">\n          <div class="').concat(dr("listener-type"),'">').concat(Yo()(ei),'</div>\n          <ul class="').concat(dr("listener-content"),'">\n            ').concat(zo,"\n          </ul>\n        </div>")}).join(""),Uo='<h2>Event Listeners</h2>\n      <div class="'.concat(dr("listener-wrapper"),'">\n        ').concat(Uo," \n      </div>"),xr.html(Uo).show()):xr.hide(),this._$container.show()}},{key:"_getData",value:function(ar){var nr={},Vn=new $i(ar),qn=ar.className,tr=ar.id,xr=ar.attributes,Kr=ar.tagName;nr.computedStyleSearchKeyword=this._computedStyleSearchKeyword,nr.attributes=hs(xr),nr.name=ta({tagName:Kr,id:tr,className:qn,attributes:xr});var Yr=ar.erudaEvents;if(Yr&&Hn()(Yr).length!==0&&(nr.listeners=Yr),ca(Kr))return nr;var Qr=Vn.getComputedStyle(),ho=Vn.getMatchedCSSRules();ho.unshift(function(Uo){for(var zo={selectorText:"element.style",style:{}},ei=0,di=Uo.length;ei<di;ei++){var Ci=Uo[ei];zo.style[Ci]=Uo[Ci]}return zo}(ar.style)),ho.forEach(function(Uo){return Ya(Uo.style)}),nr.styles=ho,this._rmDefComputedStyle&&(Qr=function(Uo,zo){var ei={},di=["display","width","height"];return Pn()(zo,function(Ci){di=di.concat(Hn()(Ci.style))}),di=Li()(di),Pn()(Uo,function(Ci,Si){Dn()(di,Si)&&(ei[Si]=Ci)}),ei}(Qr,ho)),nr.rmDefComputedStyle=this._rmDefComputedStyle;var Lo=Gi()(nr.computedStyleSearchKeyword);return Lo&&(Qr=bi()(Qr,function(Uo,zo){return Dn()(zo,Lo)||Dn()(Uo,Lo)})),Ya(Qr),nr.computedStyle=Qr,nr}},{key:"_bindEvent",value:function(){var ar=this,nr=this._devtools;this._$container.on("click",dr(".toggle-all-computed-style"),function(){return ar._toggleAllComputedStyle()}).on("click",dr(".computed-style-search"),function(){ui.Z.prompt("Filter").then(function(Vn){Ri()(Vn)||(Vn=Bo()(Vn),ar._computedStyleSearchKeyword=Vn,ar._render())})}).on("click",".eruda-listener-content",function(){var Vn=xn()(this).text(),qn=nr.get("sources");qn&&(qn.set("js",Vn),nr.showTool("sources"))}).on("click",dr(".element-name"),function(){var Vn=nr.get("sources");Vn&&(Vn.set("object",ar._curEl),nr.showTool("sources"))}).on("click",dr(".back"),this.hide).on("click",dr(".refresh"),function(){ar._render(),nr.notify("Refreshed")})}},{key:"_initObserver",value:function(){var ar=this;this._observer=new(Qi())(function(nr){Pn()(nr,function(Vn){return ar._handleMutation(Vn)})})}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}},{key:"_handleMutation",value:function(ar){if(!eo(ar.target)&&ar.type==="attributes"){if(ar.target!==this._curEl)return;this._render()}}},{key:"_rmCfg",value:function(){var ar=this.config,nr=this._devtools.get("settings");nr&&nr.remove(ar,"overrideEventTarget").remove(ar,"observeElement").remove("Elements")}},{key:"_initCfg",value:function(){var ar=this,nr=this.config=Or.createCfg("elements",{overrideEventTarget:!0});nr.get("overrideEventTarget")&&this.overrideEventTarget(),nr.on("change",function(qn,tr){if(qn==="overrideEventTarget")return tr?ar.overrideEventTarget():ar.restoreEventTarget()});var Vn=this._devtools.get("settings");Vn&&(Vn.text("Elements").switch(nr,"overrideEventTarget","Catch Event Listeners"),Vn.separator())}}]),sr}();function Ya(sr){Pn()(sr,function(ar,nr){return sr[nr]=qa(ar)})}var hs=function(sr){return zr()(sr,function(ar){var nr=ar.value,Vn=ar.name;return nr=Yo()(nr),(Vn==="src"||Vn==="href")&&!fi()(nr,"data")&&(nr=Za(nr)),Vn==="style"&&(nr=qa(nr)),{name:Vn,value:nr}})},la=/rgba?\((.*?)\)/g,ps=/url\("?(.*?)"?\)/g;function qa(sr){return(sr=Fn()(sr)).replace(la,'<span class="eruda-style-color" style="background-color: $&"></span>$&').replace(ps,function(ar,nr){return'url("'.concat(Za(nr),'")')})}var ms=["script","style","meta","title","link","head"],ca=function(sr){return ms.indexOf(sr.toLowerCase())>-1},Za=function(sr){return'<a href="'.concat(sr,'" target="_blank">').concat(sr,"</a>")},Xa=function(){return Wi()(window,"EventTarget.prototype")||window.Node.prototype};function gs(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var ua=function(sr){(0,Fe.Z)(nr,sr);var ar=gs(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),Vn=ar.call(this),(0,ze.Z)((0,Ne.Z)(Vn),"_showDetail",function(){Vn._isShow&&Vn._curNode&&(Vn._curNode.nodeType===Node.ELEMENT_NODE?Vn._detail.show(Vn._curNode):Vn._detail.show(Vn._curNode.parentNode))}),(0,ze.Z)((0,Ne.Z)(Vn),"_back",function(){if(Vn._curNode!==Vn._htmlEl){for(var qn=Vn._curParentQueue,tr=qn.shift();!Qa(tr);)tr=qn.shift();Vn.set(tr)}}),(0,ze.Z)((0,Ne.Z)(Vn),"_updateScale",function(qn){Vn._splitMediaQuery.setQuery("screen and (min-width: ".concat(680*qn,"px)"))}),(0,ze.Z)((0,Ne.Z)(Vn),"_deleteNode",function(){var qn=Vn._curNode;qn.parentNode&&qn.parentNode.removeChild(qn)}),(0,ze.Z)((0,Ne.Z)(Vn),"_copyNode",function(){var qn=Vn._curNode;qn.nodeType===Node.ELEMENT_NODE?Pi()(qn.outerHTML):Pi()(qn.nodeValue),Vn._container.notify("Copied")}),(0,ze.Z)((0,Ne.Z)(Vn),"_toggleSelect",function(){Vn._$el.find(dr(".select")).toggleClass(dr("active")),Vn._selectElement=!Vn._selectElement,Vn._selectElement?(hr.domain("Overlay").setInspectMode({mode:"searchForNode",highlightConfig:{showInfo:!hi()(),showRulers:!1,showAccessibilityInfo:!hi()(),showExtensionLines:!1,contrastAlgorithm:"aa",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}}),Vn._container.hide()):(hr.domain("Overlay").setInspectMode({mode:"none"}),hr.domain("Overlay").hideHighlight())}),(0,ze.Z)((0,Ne.Z)(Vn),"_inspectNodeRequested",function(qn){var tr=qn.backendNodeId;Vn._container.show(),Vn._toggleSelect();var xr=hr.domain("DOM").getNode({nodeId:tr}).node;Vn.select(xr)}),(0,ze.Z)((0,Ne.Z)(Vn),"_setNode",function(qn){if(qn!==Vn._curNode){Vn._curNode=qn,Vn._renderCrumbs();for(var tr=[],xr=qn.parentNode;xr;)tr.push(xr),xr=xr.parentNode;Vn._curParentQueue=tr,Vn._splitMode&&Vn._showDetail(),Vn._updateButtons(),Vn._updateHistory()}}),Vn._style=Pr(_e(5896)),Vn.name="elements",Vn._selectElement=!1,Vn._observeElement=!0,Vn._history=[],qe().mixin((0,Ne.Z)(Vn)),Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn,qn){var tr=this;(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._container=qn,this._initTpl(),this._htmlEl=document.documentElement,this._detail=new fs(this._$detail,qn),this.config=this._detail.config,this._splitMediaQuery=new(po())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._domViewer=new Ki.Z(this._$domViewer.get(0),{node:this._htmlEl,ignore:function(xr){return eo(xr)||so(xr)}}),this._domViewer.expand(),this._bindEvent(),hr.domain("Overlay").enable(),qr()(function(){return tr._updateHistory()})}},{key:"show",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"show",this).call(this),this._isShow=!0,this._curNode?this._splitMode&&this._showDetail():this.select(document.body)}},{key:"hide",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"hide",this).call(this),this._isShow=!1,hr.domain("Overlay").hideHighlight()}},{key:"set",value:function(Vn){return this.select(Vn)}},{key:"select",value:function(Vn){return this._domViewer.select(Vn),this._setNode(Vn),this.emit("change",Vn),this}},{key:"destroy",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),vn.off(vn.SCALE,this._updateScale),Pr.remove(this._style),this._detail.destroy(),hr.domain("Overlay").off("inspectNodeRequested",this._inspectNodeRequested),hr.domain("Overlay").disable(),this._splitMediaQuery.removeAllListeners()}},{key:"_updateButtons",value:function(){var Vn=this._$control,qn=Vn.find(dr(".show-detail")),tr=Vn.find(dr(".copy-node")),xr=Vn.find(dr(".delete-node")),Kr=dr("icon-disabled");qn.addClass(Kr),tr.addClass(Kr),xr.addClass(Kr);var Yr=this._curNode;Yr&&(Yr!==document.documentElement&&Yr!==document.body&&xr.rmClass(Kr),tr.rmClass(Kr),Yr.nodeType===Node.ELEMENT_NODE&&qn.rmClass(Kr))}},{key:"_initTpl",value:function(){var Vn=this._$el;Vn.html(dr('<div class="elements">\n        <div class="control">\n          <span class="icon icon-select select"></span>\n          <span class="icon icon-eye show-detail"></span>\n          <span class="icon icon-copy copy-node"></span>\n          <span class="icon icon-delete delete-node"></span>\n        </div>\n        <div class="dom-viewer-container">\n          <div class="dom-viewer"></div>\n        </div>\n        <div class="crumbs"></div>\n      </div>\n      <div class="detail"></div>')),this._$detail=Vn.find(dr(".detail")),this._$domViewer=Vn.find(dr(".dom-viewer")),this._$control=Vn.find(dr(".control")),this._$crumbs=Vn.find(dr(".crumbs"))}},{key:"_renderCrumbs",value:function(){var Vn=function(tr){for(var xr=[],Kr=0;tr;)xr.push({text:ta(tr,{noAttr:!0}),idx:Kr++}),tr=tr.parentElement;return xr.reverse()}(this._curNode),qn="";ai()(Vn)||(qn=zr()(Vn,function(tr){var xr=tr.text,Kr=tr.idx;return'<li class="'.concat(dr("crumb"),'" data-idx="').concat(Kr,'">').concat(xr,"</div></li>")}).join("")),this._$crumbs.html(qn)}},{key:"_bindEvent",value:function(){var Vn=this,qn=this;this._$el.on("click",dr(".crumb"),function(){for(var tr=No()(xn()(this).data("idx")),xr=qn._curNode;tr--&&xr.parentElement;)xr=xr.parentElement;Qa(xr)&&qn.select(xr)}),this._$control.on("click",dr(".select"),this._toggleSelect).on("click",dr(".show-detail"),this._showDetail).on("click",dr(".copy-node"),this._copyNode).on("click",dr(".delete-node"),this._deleteNode),this._domViewer.on("select",this._setNode).on("deselect",this._back),hr.domain("Overlay").on("inspectNodeRequested",this._inspectNodeRequested),this._splitMediaQuery.on("match",function(){Vn._splitMode=!0,Vn._showDetail()}),this._splitMediaQuery.on("unmatch",function(){Vn._splitMode=!1,Vn._detail.hide()}),vn.on(vn.SCALE,this._updateScale)}},{key:"_updateHistory",value:function(){var Vn=this._container.get("console");if(Vn){var qn=this._history;qn.unshift(this._curNode),qn.length>5&&qn.pop();for(var tr=0;tr<5;tr++)Vn.setGlobal("$".concat(tr),qn[tr])}}}]),nr}(bn),Qa=function(sr){return Jo()(sr)&&sr.parentNode},vs=_e(8847),da=_e.n(vs),ys=_e(9622),bs=_e.n(ys),Ta=null,fa=[{name:"Border All",fn:function(){if(Ta)return Pr.remove(Ta),void(Ta=null);Ta=Pr("* { outline: 2px dashed #707d8b; outline-offset: -3px; }",document.head)},desc:"Add color borders to all elements"},{name:"Refresh Page",fn:function(){var sr=new(ur());sr.setQuery("timestamp",da()()),window.location.replace(sr.toString())},desc:"Add timestamp to url and refresh"},{name:"Search Text",fn:function(){ui.Z.prompt("Enter the text").then(function(sr){sr&&Bo()(sr)!==""&&function(ar){var nr=document.body,Vn=new RegExp(ar,"ig");Ha(nr,function(qn){var tr=xn()(qn);if(tr.hasClass("eruda-search-highlight-block"))return document.createTextNode(tr.text())}),Ha(nr,function(qn){if(qn.nodeType===3){var tr=qn.nodeValue;if((tr=tr.replace(Vn,function(Kr){return'<span class="eruda-keyword">'.concat(Kr,"</span>")}))!==qn.nodeValue){var xr=xn()(document.createElement("div"));return xr.html(tr),xr.addClass("eruda-search-highlight-block"),xr.get(0)}}})}(sr)})},desc:"Highlight given text on page"},{name:"Edit Page",fn:function(){var sr=document.body;sr.contentEditable=sr.contentEditable!=="true"},desc:"Toggle body contentEditable"},{name:"Fit Screen",fn:function(){var sr=document.body,ar=document.documentElement,nr=xn()(sr);if(nr.data("scaled"))window.scrollTo(0,+nr.data("scaled")),nr.rmAttr("data-scaled"),nr.css("transform","none");else{var Vn=Math.max(sr.scrollHeight,sr.offsetHeight,ar.clientHeight,ar.scrollHeight,ar.offsetHeight),qn=Math.max(document.documentElement.clientHeight,window.innerHeight||0),tr=qn/Vn;nr.css("transform","scale(".concat(tr,")")),nr.data("scaled",window.scrollY),window.scrollTo(0,Vn/2-qn/2)}},desc:"Scale down the whole page to fit screen"},{name:"Load Monitor Plugin",fn:function(){yi("monitor")},desc:"Display page fps and memory"},{name:"Load Features Plugin",fn:function(){yi("features")},desc:"Browser feature detections"},{name:"Load Timing Plugin",fn:function(){yi("timing")},desc:"Show performance and resource timing"},{name:"Load Code Plugin",fn:function(){yi("code")},desc:"Edit and run JavaScript"},{name:"Load Benchmark Plugin",fn:function(){yi("benchmark")},desc:"Run JavaScript benchmarks"},{name:"Load Geolocation Plugin",fn:function(){yi("geolocation")},desc:"Test geolocation"},{name:"Load Orientation Plugin",fn:function(){yi("orientation")},desc:"Test orientation api"},{name:"Load Touches Plugin",fn:function(){yi("touches")},desc:"Visualize screen touches"}];function Ha(sr,ar){var nr=sr.childNodes;if(!eo(sr)){for(var Vn=0,qn=nr.length;Vn<qn;Vn++){var tr=Ha(nr[Vn],ar);tr&&sr.replaceChild(tr,nr[Vn])}return ar(sr)}}function yi(sr){var ar="eruda"+zi()(sr);if(!window[ar]){var nr=location.protocol;fi()(nr,"http")||(nr="http:"),bs()("".concat(nr,"//cdn.jsdelivr.net/npm/eruda-").concat(sr,"@").concat(Ja[sr]),function(Vn){if(!Vn||!window[ar])return Mo.error("Fail to load plugin "+sr);vn.emit(vn.ADD,window[ar]),vn.emit(vn.SHOW,sr)})}}Pr(_e(7346),document.head);var Ja={monitor:"1.0.0",features:"2.0.0",timing:"2.0.1",code:"2.1.0",benchmark:"2.0.1",geolocation:"2.0.0",dom:"2.0.0",orientation:"2.0.0",touches:"2.0.0"},Ka=_e(5852),As=_e.n(Ka);function Es(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var ha=function(sr){(0,Fe.Z)(nr,sr);var ar=Es(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),(Vn=ar.call(this))._style=Pr(_e(5571)),Vn.name="snippets",Vn._snippets=[],Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._bindEvent(),this._addDefSnippets()}},{key:"destroy",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),Pr.remove(this._style)}},{key:"add",value:function(Vn,qn,tr){return this._snippets.push({name:Vn,fn:qn,desc:tr}),this._render(),this}},{key:"remove",value:function(Vn){return As()(this._snippets,function(qn){return qn.name===Vn}),this._render(),this}},{key:"run",value:function(Vn){for(var qn=this._snippets,tr=0,xr=qn.length;tr<xr;tr++)qn[tr].name===Vn&&this._run(tr);return this}},{key:"clear",value:function(){return this._snippets=[],this._render(),this}},{key:"_bindEvent",value:function(){var Vn=this;this._$el.on("click",".eruda-run",function(){var qn=xn()(this).data("idx");Vn._run(qn)})}},{key:"_run",value:function(Vn){this._snippets[Vn].fn.call(null)}},{key:"_addDefSnippets",value:function(){var Vn=this;Pn()(fa,function(qn){Vn.add(qn.name,qn.fn,qn.desc)})}},{key:"_render",value:function(){var Vn=zr()(this._snippets,function(qn,tr){return'<div class="'.concat(dr("section run"),'" data-idx="').concat(tr,'">\n        <h2 class="').concat(dr("name"),'">').concat(Yo()(qn.name),'\n          <div class="').concat(dr("btn"),'">\n            <span class="').concat(dr("icon-play"),'"></span>\n          </div>\n        </h2>\n        <div class="').concat(dr("description"),'">\n          ').concat(Yo()(qn.desc),"\n        </div>\n      </div>")}).join("");this._renderHtml(Vn)}},{key:"_renderHtml",value:function(Vn){Vn!==this._lastHtml&&(this._lastHtml=Vn,this._$el.html(Vn))}}]),nr}(bn),_s=_e(4224),xs=_e.n(_s),Cs=_e(8991),na=_e.n(Cs),Ss=_e(1352),Ga=_e.n(Ss),Ts=_e(8099),pa=_e.n(Ts),es=function(){function sr(ar,nr,Vn,qn){var tr=this;(0,Ie.Z)(this,sr),(0,ze.Z)(this,"_updateGridHeight",function(xr){tr._dataGrid.setOption({minHeight:60*xr,maxHeight:223*xr})}),this._type=qn,this._$container=ar,this._devtools=nr,this._resources=Vn,this._selectedItem=null,this._storeData=[],this._initTpl(),this._dataGrid=new Nr.Z(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}return(0,Oe.Z)(sr,[{key:"destroy",value:function(){vn.off(vn.SCALE,this._updateGridHeight)}},{key:"refresh",value:function(){var ar=this._dataGrid;this._refreshStorage(),ar.clear(),Pn()(this._storeData,function(nr){var Vn=nr.key,qn=nr.val;ar.append({key:Vn,value:qn},{selectable:!0})})}},{key:"_refreshStorage",value:function(){var ar=this._resources,nr=Po(this._type,!1);if(nr){var Vn=[];nr=JSON.parse(JSON.stringify(nr)),Pn()(nr,function(qn,tr){Nn()(qn)&&(ar.config.get("hideErudaSetting")&&(fi()(tr,"eruda")||tr==="active-eruda")||Vn.push({key:tr,val:Hi()(qn,200)}))}),this._storeData=Vn}}},{key:"_updateButtons",value:function(){var ar=this._$container,nr=ar.find(dr(".show-detail")),Vn=ar.find(dr(".delete-storage")),qn=ar.find(dr(".copy-storage")),tr=dr("btn-disabled");nr.addClass(tr),Vn.addClass(tr),qn.addClass(tr),this._selectedItem&&(nr.rmClass(tr),Vn.rmClass(tr),qn.rmClass(tr))}},{key:"_initTpl",value:function(){var ar=this._$container,nr=this._type;ar.html(dr('<h2 class="title">\n      '.concat(nr==="local"?"Local":"Session",' Storage\n      <div class="btn refresh-storage">\n        <span class="icon icon-refresh"></span>\n      </div>\n      <div class="btn show-detail btn-disabled">\n        <span class="icon icon-eye"></span>\n      </div>\n      <div class="btn copy-storage btn-disabled">\n        <span class="icon icon-copy"></span>\n      </div>\n      <div class="btn delete-storage btn-disabled">\n        <span class="icon icon-delete"></span>\n      </div>\n      <div class="btn clear-storage">\n        <span class="icon icon-clear"></span>\n      </div>\n      <div class="btn filter">\n        <span class="icon icon-filter"></span>\n      </div>\n      <div class="btn filter-text"></div>\n    </h2>\n    <div class="data-grid"></div>'))),this._$dataGrid=ar.find(dr(".data-grid")),this._$filterText=ar.find(dr(".filter-text"))}},{key:"_getVal",value:function(ar){return this._type==="local"?localStorage.getItem(ar):sessionStorage.getItem(ar)}},{key:"_bindEvent",value:function(){var ar=this,nr=this._type,Vn=this._devtools;function qn(tr,xr){var Kr=Vn.get("sources");if(Kr)return Kr.set(tr,xr),Vn.showTool("sources"),!0}this._$container.on("click",dr(".refresh-storage"),function(){Vn.notify("Refreshed"),ar.refresh()}).on("click",dr(".clear-storage"),function(){Pn()(ar._storeData,function(tr){nr==="local"?localStorage.removeItem(tr.key):sessionStorage.removeItem(tr.key)}),ar.refresh()}).on("click",dr(".show-detail"),function(){var tr=ar._selectedItem,xr=ar._getVal(tr);try{qn("object",JSON.parse(xr))}catch(Kr){qn("raw",xr)}}).on("click",dr(".copy-storage"),function(){var tr=ar._selectedItem;Pi()(ar._getVal(tr)),Vn.notify("Copied")}).on("click",dr(".filter"),function(){ui.Z.prompt("Filter").then(function(tr){Ri()(tr)||(tr=Bo()(tr),ar._$filterText.text(tr),ar._dataGrid.setOption("filter",tr))})}).on("click",dr(".delete-storage"),function(){var tr=ar._selectedItem;nr==="local"?localStorage.removeItem(tr):sessionStorage.removeItem(tr),ar.refresh()}),this._dataGrid.on("select",function(tr){ar._selectedItem=tr.data.key,ar._updateButtons()}).on("deselect",function(){ar._selectedItem=null,ar._updateButtons()}),vn.on(vn.SCALE,this._updateGridHeight)}}]),sr}();function wa(sr,ar){sr.rmClass(dr("ok")).rmClass(dr("danger")).rmClass(dr("warn")).addClass(dr(ar))}function ka(sr,ar){if(ar===0)return"";var nr=0,Vn=0;switch(sr){case"cookie":nr=30,Vn=60;break;case"script":nr=5,Vn=10;break;case"stylesheet":nr=4,Vn=8;break;case"image":nr=50,Vn=100}return ar>=Vn?"danger":ar>=nr?"warn":"ok"}var ma=function(){function sr(ar,nr){(0,Ie.Z)(this,sr),this._$container=ar,this._devtools=nr,this._selectedItem=null,this._initTpl(),this._dataGrid=new Nr.Z(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}return(0,Oe.Z)(sr,[{key:"refresh",value:function(){var ar=this._$container,nr=this._dataGrid,Vn=hr.domain("Network").getCookies().cookies,qn=zr()(Vn,function(tr){return{key:tr.name,val:tr.value}});nr.clear(),Pn()(qn,function(tr){var xr=tr.key,Kr=tr.val;nr.append({key:xr,value:Kr},{selectable:!0})}),wa(ar,ka("cookie",qn.length))}},{key:"_initTpl",value:function(){var ar=this._$container;ar.html(dr('<h2 class="title">\n      Cookie\n      <div class="btn refresh-cookie">\n        <span class="icon-refresh"></span>\n      </div>\n      <div class="btn show-detail btn-disabled">\n        <span class="icon icon-eye"></span>\n      </div>\n      <div class="btn copy-cookie btn-disabled">\n        <span class="icon icon-copy"></span>\n      </div>\n      <div class="btn delete-cookie btn-disabled">\n        <span class="icon icon-delete"></span>\n      </div>\n      <div class="btn clear-cookie">\n        <span class="icon-clear"></span>\n      </div>\n      <div class="btn filter" data-type="cookie">\n        <span class="icon-filter"></span>\n      </div>\n      <div class="btn filter-text"></div>\n    </h2>\n    <div class="data-grid"></div>')),this._$dataGrid=ar.find(dr(".data-grid")),this._$filterText=ar.find(dr(".filter-text"))}},{key:"_updateButtons",value:function(){var ar=this._$container,nr=ar.find(dr(".show-detail")),Vn=ar.find(dr(".delete-cookie")),qn=ar.find(dr(".copy-cookie")),tr=dr("btn-disabled");nr.addClass(tr),Vn.addClass(tr),qn.addClass(tr),this._selectedItem&&(nr.rmClass(tr),Vn.rmClass(tr),qn.rmClass(tr))}},{key:"_getVal",value:function(ar){for(var nr=hr.domain("Network").getCookies().cookies,Vn=0,qn=nr.length;Vn<qn;Vn++)if(nr[Vn].name===ar)return nr[Vn].value;return""}},{key:"_bindEvent",value:function(){var ar=this,nr=this._devtools;function Vn(qn,tr){var xr=nr.get("sources");if(xr)return xr.set(qn,tr),nr.showTool("sources"),!0}this._$container.on("click",dr(".refresh-cookie"),function(){nr.notify("Refreshed"),ar.refresh()}).on("click",dr(".clear-cookie"),function(){hr.domain("Storage").clearDataForOrigin({storageTypes:"cookies"}),ar.refresh()}).on("click",dr(".delete-cookie"),function(){var qn=ar._selectedItem;hr.domain("Network").deleteCookies({name:qn}),ar.refresh()}).on("click",dr(".show-detail"),function(){var qn=ar._selectedItem,tr=ar._getVal(qn);try{Vn("object",JSON.parse(tr))}catch(xr){Vn("raw",tr)}}).on("click",dr(".copy-cookie"),function(){var qn=ar._selectedItem;Pi()(ar._getVal(qn)),nr.notify("Copied")}).on("click",dr(".filter"),function(){ui.Z.prompt("Filter").then(function(qn){Ri()(qn)||(qn=Bo()(qn),ar._filter=qn,ar._$filterText.text(qn),ar._dataGrid.setOption("filter",qn))})}),this._dataGrid.on("select",function(qn){ar._selectedItem=qn.data.key,ar._updateButtons()}).on("deselect",function(){ar._selectedItem=null,ar._updateButtons()})}}]),sr}();function ws(sr,ar){var nr=typeof Symbol<"u"&&sr[Symbol.iterator]||sr["@@iterator"];if(!nr){if(Array.isArray(sr)||(nr=function(Yr,Qr){if(Yr){if(typeof Yr=="string")return ts(Yr,Qr);var ho=Object.prototype.toString.call(Yr).slice(8,-1);if(ho==="Object"&&Yr.constructor&&(ho=Yr.constructor.name),ho==="Map"||ho==="Set")return Array.from(Yr);if(ho==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ho))return ts(Yr,Qr)}}(sr))||ar&&sr&&typeof sr.length=="number"){nr&&(sr=nr);var Vn=0,qn=function(){};return{s:qn,n:function(){return Vn>=sr.length?{done:!0}:{done:!1,value:sr[Vn++]}},e:function(Yr){throw Yr},f:qn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var tr,xr=!0,Kr=!1;return{s:function(){nr=nr.call(sr)},n:function(){var Yr=nr.next();return xr=Yr.done,Yr},e:function(Yr){Kr=!0,tr=Yr},f:function(){try{xr||nr.return==null||nr.return()}finally{if(Kr)throw tr}}}}function ts(sr,ar){(ar==null||ar>sr.length)&&(ar=sr.length);for(var nr=0,Vn=new Array(ar);nr<ar;nr++)Vn[nr]=sr[nr];return Vn}function ks(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var ga=function(sr){(0,Fe.Z)(nr,sr);var ar=ks(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),(Vn=ar.call(this))._style=Pr(_e(2488)),Vn.name="resources",Vn._hideErudaSetting=!1,Vn._observeElement=!0,Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn,qn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._container=qn,this._initTpl(),this._localStorage=new es(this._$localStorage,qn,this,"local"),this._sessionStorage=new es(this._$sessionStorage,qn,this,"session"),this._cookie=new ma(this._$cookie,qn),this._bindEvent(),this._initObserver(),this._initCfg()}},{key:"refresh",value:function(){return this.refreshLocalStorage().refreshSessionStorage().refreshCookie().refreshScript().refreshStylesheet().refreshIframe().refreshImage()}},{key:"destroy",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),this._localStorage.destroy(),this._sessionStorage.destroy(),this._disableObserver(),Pr.remove(this._style),this._rmCfg()}},{key:"refreshScript",value:function(){var Vn=[];xn()("script").each(function(){var Yr=this.src;Yr!==""&&Vn.push(Yr)});var qn=ka("script",(Vn=Li()(Vn)).length),tr="<li>Empty</li>";ai()(Vn)||(tr=zr()(Vn,function(Yr){return Yr=Yo()(Yr),'<li><a href="'.concat(Yr,'" target="_blank" class="').concat(dr("js-link"),'">').concat(Yr,"</a></li>")}).join(""));var xr='<h2 class="'.concat(dr("title"),'">\n      Script\n      <div class="').concat(dr("btn refresh-script"),'">\n        <span class="').concat(dr("icon-refresh"),'"></span>\n      </div>\n    </h2>\n    <ul class="').concat(dr("link-list"),'">\n      ').concat(tr,"\n    </ul>"),Kr=this._$script;return wa(Kr,qn),Kr.html(xr),this}},{key:"refreshStylesheet",value:function(){var Vn=[];xn()("link").each(function(){this.rel==="stylesheet"&&Vn.push(this.href)});var qn=ka("stylesheet",(Vn=Li()(Vn)).length),tr="<li>Empty</li>";ai()(Vn)||(tr=zr()(Vn,function(Yr){return Yr=Yo()(Yr),' <li><a href="'.concat(Yr,'" target="_blank" class="').concat(dr("css-link"),'">').concat(Yr,"</a></li>")}).join(""));var xr='<h2 class="'.concat(dr("title"),'">\n      Stylesheet\n      <div class="').concat(dr("btn refresh-stylesheet"),'">\n        <span class="').concat(dr("icon-refresh"),'"></span>\n      </div>\n    </h2>\n    <ul class="').concat(dr("link-list"),'">\n      ').concat(tr,"\n    </ul>"),Kr=this._$stylesheet;return wa(Kr,qn),Kr.html(xr),this}},{key:"refreshIframe",value:function(){var Vn=[];xn()("iframe").each(function(){var xr=xn()(this).attr("src");xr&&Vn.push(xr)}),Vn=Li()(Vn);var qn="<li>Empty</li>";ai()(Vn)||(qn=zr()(Vn,function(xr){return xr=Yo()(xr),'<li><a href="'.concat(xr,'" target="_blank" class="').concat(dr("iframe-link"),'">').concat(xr,"</a></li>")}).join(""));var tr='<h2 class="'.concat(dr("title"),'">\n      Iframe\n      <div class="').concat(dr("btn refresh-iframe"),'">\n        <span class="').concat(dr("icon-refresh"),'"></span>\n      </div>\n    </h2>\n    <ul class="').concat(dr("link-list"),'">\n      ').concat(qn,"\n    </ul>");return this._$iframe.html(tr),this}},{key:"refreshLocalStorage",value:function(){return this._localStorage.refresh(),this}},{key:"refreshSessionStorage",value:function(){return this._sessionStorage.refresh(),this}},{key:"refreshCookie",value:function(){return this._cookie.refresh(),this}},{key:"refreshImage",value:function(){var Vn=[],qn=this._performance=window.webkitPerformance||window.performance;qn&&qn.getEntries?this._performance.getEntries().forEach(function(Qr){if(Qr.initiatorType==="img"||Is(Qr.name)){if(Dn()(Qr.name,"exclude=true"))return;Vn.push(Qr.name)}}):xn()("img").each(function(){var Qr=xn()(this),ho=Qr.attr("src");Qr.data("exclude")!=="true"&&Vn.push(ho)}),(Vn=Li()(Vn)).sort();var tr=ka("image",Vn.length),xr="<li>Empty</li>";ai()(Vn)||(xr=zr()(Vn,function(Qr){return'<li class="'.concat(dr("image"),'">\n          <img src="').concat(Yo()(Qr),'" data-exclude="true" class="').concat(dr("img-link"),'"/>\n        </li>')}).join(""));var Kr='<h2 class="'.concat(dr("title"),'">\n      Image\n      <div class="').concat(dr("btn refresh-image"),'">\n        <span class="').concat(dr("icon-refresh"),'"></span>\n      </div>\n    </h2>\n    <ul class="').concat(dr("image-list"),'">\n      ').concat(xr,"\n    </ul>"),Yr=this._$image;return wa(Yr,tr),Yr.html(Kr),this}},{key:"show",value:function(){return(0,hn.Z)((0,$e.Z)(nr.prototype),"show",this).call(this),this._observeElement&&this._enableObserver(),this.refresh()}},{key:"hide",value:function(){return this._disableObserver(),(0,hn.Z)((0,$e.Z)(nr.prototype),"hide",this).call(this)}},{key:"_initTpl",value:function(){var Vn=this._$el;Vn.html(dr('<div class="section local-storage"></div>\n      <div class="section session-storage"></div>\n      <div class="section cookie"></div>\n      <div class="section script"></div>\n      <div class="section stylesheet"></div>\n      <div class="section iframe"></div>\n      <div class="section image"></div>')),this._$localStorage=Vn.find(dr(".local-storage")),this._$sessionStorage=Vn.find(dr(".session-storage")),this._$cookie=Vn.find(dr(".cookie")),this._$script=Vn.find(dr(".script")),this._$stylesheet=Vn.find(dr(".stylesheet")),this._$iframe=Vn.find(dr(".iframe")),this._$image=Vn.find(dr(".image"))}},{key:"_bindEvent",value:function(){var Vn=this,qn=this._$el,tr=this._container;function xr(Yr,Qr){var ho=tr.get("sources");if(ho)return ho.set(Yr,Qr),tr.showTool("sources"),!0}function Kr(Yr){return function(Qr){if(tr.get("sources")){Qr.preventDefault();var ho=xn()(this).attr("href");Yr!=="iframe"&&xs()(location.href,ho)?na()({url:ho,success:function(Lo){xr(Yr,Lo)},dataType:"raw"}):xr("iframe",ho)}}}qn.on("click",".eruda-refresh-script",function(){tr.notify("Refreshed"),Vn.refreshScript()}).on("click",".eruda-refresh-stylesheet",function(){tr.notify("Refreshed"),Vn.refreshStylesheet()}).on("click",".eruda-refresh-iframe",function(){tr.notify("Refreshed"),Vn.refreshIframe()}).on("click",".eruda-refresh-image",function(){tr.notify("Refreshed"),Vn.refreshImage()}).on("click",".eruda-img-link",function(){xr("img",xn()(this).attr("src"))}).on("click",".eruda-css-link",Kr("css")).on("click",".eruda-js-link",Kr("js")).on("click",".eruda-iframe-link",Kr("iframe"))}},{key:"_rmCfg",value:function(){var Vn=this.config,qn=this._container.get("settings");qn&&qn.remove(Vn,"hideErudaSetting").remove(Vn,"observeElement").remove("Resources")}},{key:"_initCfg",value:function(){var Vn=this,qn=this.config=Or.createCfg("resources",{hideErudaSetting:!0,observeElement:!0});qn.get("hideErudaSetting")&&(this._hideErudaSetting=!0),qn.get("observeElement")||(this._observeElement=!1),qn.on("change",function(tr,xr){switch(tr){case"hideErudaSetting":return void(Vn._hideErudaSetting=xr);case"observeElement":return Vn._observeElement=xr,xr?Vn._enableObserver():Vn._disableObserver()}}),this._container.get("settings").text("Resources").switch(qn,"hideErudaSetting","Hide Eruda Setting").switch(qn,"observeElement","Auto Refresh Elements").separator()}},{key:"_initObserver",value:function(){var Vn=this;this._observer=new(Qi())(function(qn){Pn()(qn,function(tr){Vn._handleMutation(tr)})})}},{key:"_handleMutation",value:function(Vn){var qn=this;if(!eo(Vn.target)){var tr=function(Qr){var ho=function(Lo){return Lo.tagName?Lo.tagName.toLowerCase():""}(Qr);switch(ho){case"script":qn.refreshScript();break;case"img":qn.refreshImage();break;case"link":qn.refreshStylesheet()}};if(Vn.type==="attributes")tr(Vn.target);else if(Vn.type==="childList"){tr(Vn.target);var xr,Kr=Ga()(Vn.addedNodes),Yr=ws(Kr=pa()(Kr,Ga()(Vn.removedNodes)));try{for(Yr.s();!(xr=Yr.n()).done;)tr(xr.value)}catch(Qr){Yr.e(Qr)}finally{Yr.f()}}}}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}}]),nr}(bn),Ls=/\.(jpeg|jpg|gif|png)$/,Is=function(sr){return Ls.test(sr)},Rs=_e(4541),ns=_e.n(Rs),rs=ns()(),va=[{name:"Location",val:function(){return Yo()(location.href)}},{name:"User Agent",val:navigator.userAgent},{name:"Device",val:["<table><tbody>",'<tr><td class="eruda-device-key">screen</td><td>'.concat(screen.width," * ").concat(screen.height,"</td></tr>"),"<tr><td>viewport</td><td>".concat(window.innerWidth," * ").concat(window.innerHeight,"</td></tr>"),"<tr><td>pixel ratio</td><td>".concat(window.devicePixelRatio,"</td></tr>"),"</tbody></table>"].join("")},{name:"System",val:["<table><tbody>",'<tr><td class="eruda-system-key">os</td><td>'.concat(ko()(),"</td></tr>"),"<tr><td>browser</td><td>".concat(rs.name+" "+rs.version,"</td></tr>"),"</tbody></table>"].join("")},{name:"About",val:'<a href="https://eruda.liriliri.io" target="_blank">Eruda v3.0.1</a>'},{name:"Backers",val:function(){return'<a rel="noreferrer noopener" href="https://opencollective.com/eruda" target="_blank"><img data-exclude="true" style="width: 100%;"src="https://opencollective.com/eruda/backers.svg?width='.concat(1.5*window.innerWidth,'&exclude=true"></a>')}}],os=_e(550),Ps=_e.n(os);function is(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var as=function(sr){(0,Fe.Z)(nr,sr);var ar=is(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),(Vn=ar.call(this))._style=Pr(_e(879)),Vn.name="info",Vn._infos=[],Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn,qn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._container=qn,this._addDefInfo(),this._bindEvent()}},{key:"destroy",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),Pr.remove(this._style)}},{key:"add",value:function(Vn,qn){var tr=this._infos,xr=!1;return Pn()(tr,function(Kr){Vn===Kr.name&&(Kr.val=qn,xr=!0)}),xr||tr.push({name:Vn,val:qn}),this._render(),this}},{key:"get",value:function(Vn){var qn,tr=this._infos;return Mr()(Vn)?Ps()(tr):(Pn()(tr,function(xr){Vn===xr.name&&(qn=xr.val)}),qn)}},{key:"remove",value:function(Vn){for(var qn=this._infos,tr=qn.length-1;tr>=0;tr--)qn[tr].name===Vn&&qn.splice(tr,1);return this._render(),this}},{key:"clear",value:function(){return this._infos=[],this._render(),this}},{key:"_addDefInfo",value:function(){var Vn=this;Pn()(va,function(qn){return Vn.add(qn.name,qn.val)})}},{key:"_render",value:function(){var Vn=[];Pn()(this._infos,function(tr){var xr=tr.name,Kr=tr.val;vi()(Kr)&&(Kr=Kr()),Vn.push({name:xr,val:Kr})});var qn="<ul>".concat(zr()(Vn,function(tr){return'<li><h2 class="'.concat(dr("title"),'">').concat(Yo()(tr.name),'<span class="').concat(dr("icon-copy copy"),'"></span></h2><div class="').concat(dr("content"),'">').concat(tr.val,"</div></li>")}).join(""),"</ul>");this._renderHtml(qn)}},{key:"_bindEvent",value:function(){var Vn=this._container;this._$el.on("click",dr(".copy"),function(){var qn=xn()(this).parent().parent(),tr=qn.find(dr(".title")).text(),xr=qn.find(dr(".content")).text();Pi()("".concat(tr,": ").concat(xr)),Vn.notify("Copied")})}},{key:"_renderHtml",value:function(Vn){Vn!==this._lastHtml&&(this._lastHtml=Vn,this._$el.html(Vn))}}]),nr}(bn),ss=_e(8299),ra=_e(8368),Ds=_e.n(ra),Os=_e(3651),Ns=_e.n(Os),zn=_e(7049);function Kn(sr){var ar=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nr){return!1}}();return function(){var nr,Vn=(0,$e.Z)(sr);if(ar){var qn=(0,$e.Z)(this).constructor;nr=Reflect.construct(Vn,arguments,qn)}else nr=Vn.apply(this,arguments);return(0,Ue.Z)(this,nr)}}var er=function(sr){(0,Fe.Z)(nr,sr);var ar=Kn(nr);function nr(){var Vn;return(0,Ie.Z)(this,nr),(Vn=ar.call(this))._style=Pr(_e(1344)),Vn.name="sources",Vn._showLineNum=!0,Vn}return(0,Oe.Z)(nr,[{key:"init",value:function(Vn,qn){(0,hn.Z)((0,$e.Z)(nr.prototype),"init",this).call(this,Vn),this._container=qn,this._bindEvent(),this._initCfg()}},{key:"destroy",value:function(){(0,hn.Z)((0,$e.Z)(nr.prototype),"destroy",this).call(this),Pr.remove(this._style),this._rmCfg()}},{key:"set",value:function(Vn,qn){if(Vn==="img"){this._isFetchingData=!0;var tr=new Image,xr=this;return tr.onload=function(){xr._isFetchingData=!1,xr._data={type:"img",val:{width:this.width,height:this.height,src:qn}},xr._render()},tr.onerror=function(){xr._isFetchingData=!1},void(tr.src=qn)}return this._data={type:Vn,val:qn},this._render(),this}},{key:"show",value:function(){return(0,hn.Z)((0,$e.Z)(nr.prototype),"show",this).call(this),this._data||this._isFetchingData||this._renderDef(),this}},{key:"_renderDef",value:function(){var Vn=this;if(this._html)return this._data={type:"html",val:this._html},this._render();this._isGettingHtml||(this._isGettingHtml=!0,na()({url:location.href,success:function(qn){return Vn._html=qn},error:function(){return Vn._html="Sorry, unable to fetch source code:("},complete:function(){Vn._isGettingHtml=!1,Vn._renderDef()},dataType:"raw"}))}},{key:"_bindEvent",value:function(){var Vn=this;this._container.on("showTool",function(qn,tr){qn!==Vn.name&&tr.name===Vn.name&&delete Vn._data})}},{key:"_rmCfg",value:function(){var Vn=this.config,qn=this._container.get("settings");qn&&qn.remove(Vn,"showLineNum").remove("Sources")}},{key:"_initCfg",value:function(){var Vn=this,qn=this.config=Or.createCfg("sources",{showLineNum:!0});qn.get("showLineNum")||(this._showLineNum=!1),qn.on("change",function(tr,xr){tr!=="showLineNum"||(Vn._showLineNum=xr)}),this._container.get("settings").text("Sources").switch(qn,"showLineNum","Show Line Numbers").separator()}},{key:"_render",value:function(){switch(this._isInit=!0,this._data.type){case"html":case"js":case"css":return this._renderCode();case"img":return this._renderImg();case"object":return this._renderObj();case"raw":return this._renderRaw();case"iframe":return this._renderIframe()}}},{key:"_renderImg",value:function(){var Vn=this._data.val,qn=Vn.width,tr=Vn.height,xr=Vn.src;this._renderHtml('<div class="'.concat(dr("image"),'">\n      <div class="').concat(dr("breadcrumb"),'">').concat(Yo()(xr),'</div>\n      <div class="').concat(dr("img-container"),'" data-exclude="true">\n        <img src="').concat(Yo()(xr),'">\n      </div>\n      <div class="').concat(dr("img-info"),'">').concat(Yo()(qn)," × ").concat(Yo()(tr),"</div>\n    </div>"))}},{key:"_renderCode",value:function(){var Vn=this._data;this._renderHtml('<div class="'.concat(dr("code"),'" data-type="').concat(Vn.type,'"></div>'),!1);var qn=Vn.val,tr=Vn.val.length;tr>Zn&&(qn=Hi()(qn,Zn)),tr<jn?(qn=Ns()(qn,Vn.type,{comment:"",string:"",number:"",keyword:"",operator:""}),Pn()(["comment","string","number","keyword","operator"],function(Kr){qn=Ds()(qn,'class="'.concat(Kr,'"'),'class="'.concat(dr(Kr),'"'))})):qn=Yo()(qn);var xr=this._$el.find(dr(".code")).get(0);new zn.Z(xr,{text:qn,escape:!1,wrapLongLines:!0,showLineNumbers:Vn.val.length<Gn&&this._showLineNum})}},{key:"_renderObj",value:function(){this._renderHtml('<ul class="'.concat(dr("json"),'"></ul>'),!1);var Vn=this._data.val;try{Nn()(Vn)&&(Vn=JSON.parse(Vn))}catch(qn){}new ss.Z(this._$el.find(".eruda-json").get(0),{unenumerable:!0,accessGetter:!0}).set(Vn)}},{key:"_renderRaw",value:function(){var Vn=this._data;this._renderHtml('<div class="'.concat(dr("raw-wrapper"),'">\n      <div class="').concat(dr("raw"),'"></div>\n    </div>'));var qn=Vn.val,tr=this._$el.find(dr(".raw")).get(0);qn.length>Zn&&(qn=Hi()(qn,Zn)),new zn.Z(tr,{text:qn,wrapLongLines:!0,showLineNumbers:qn.length<Gn&&this._showLineNum})}},{key:"_renderIframe",value:function(){this._renderHtml('<iframe src="'.concat(Yo()(this._data.val),'"></iframe>'))}},{key:"_renderHtml",value:function(Vn){var qn=this;(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&Vn===this._lastHtml||(this._lastHtml=Vn,this._$el.html(Vn),setTimeout(function(){return qn._$el.get(0).scrollTop=0},0))}}]),nr}(bn),jn=3e4,Gn=8e4,Zn=1e5,ir=_e(5166),Cr=_e.n(ir),wr=_e(3514),Zr=_e.n(wr),Jr={init:function(){var sr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ar=sr.container,nr=sr.tool,Vn=sr.autoScale,qn=Vn===void 0||Vn,tr=sr.useShadowDom,xr=tr===void 0||tr,Kr=sr.defaults,Yr=Kr===void 0?{}:Kr;this._isInit||(this._isInit=!0,this._scale=1,this._initContainer(ar,xr),this._initStyle(),this._initDevTools(Yr),this._initEntryBtn(),this._initSettings(),this._initTools(nr),this._registerListener(),qn&&this._autoScale())},_isInit:!1,version:"3.0.1",util:Ce,chobitsu:hr,Tool:bn,Console:Ea,Elements:ua,Network:li,Sources:er,Resources:ga,Info:as,Snippets:ha,Settings:Or,get:function(sr){if(this._checkInit()){if(sr==="entryBtn")return this._entryBtn;var ar=this._devTools;return sr?ar.get(sr):ar}},add:function(sr){if(this._checkInit())return vi()(sr)&&(sr=sr(this)),this._devTools.add(sr),this},remove:function(sr){return this._devTools.remove(sr),this},show:function(sr){if(this._checkInit()){var ar=this._devTools;return sr?ar.showTool(sr):ar.show(),this}},hide:function(){if(this._checkInit())return this._devTools.hide(),this},destroy:function(){this._devTools.destroy(),delete this._devTools,this._entryBtn.destroy(),delete this._entryBtn,this._unregisterListener(),xn()(this._container).remove(),Pr.clear(),this._isInit=!1,this._container=null,this._shadowRoot=null},scale:function(sr){return qo()(sr)?(this._scale=sr,vn.emit(vn.SCALE,sr),this):this._scale},position:function(sr){var ar=this._entryBtn;return Cr()(sr)?(ar.setPos(sr),this):ar.getPos()},_autoScale:function(){hi()()&&this.scale(1/Zr()())},_registerListener:function(){var sr=this;this._addListener=function(){return sr.add.apply(sr,arguments)},this._showListener=function(){return sr.show.apply(sr,arguments)},vn.on(vn.ADD,this._addListener),vn.on(vn.SHOW,this._showListener),vn.on(vn.SCALE,Pr.setScale)},_unregisterListener:function(){vn.off(vn.ADD,this._addListener),vn.off(vn.SHOW,this._showListener),vn.off(vn.SCALE,Pr.setScale)},_checkInit:function(){return this._isInit||Mo.error('Please call "eruda.init()" first'),this._isInit},_initContainer:function(sr,ar){var nr,Vn;sr||(sr=document.createElement("div"),document.documentElement.appendChild(sr)),sr.id="eruda",sr.style.all="initial",this._container=sr,ar&&(sr.attachShadow?nr=sr.attachShadow({mode:"open"}):sr.createShadowRoot&&(nr=sr.createShadowRoot()),nr&&(Pr.container=document.head,Pr(_e(5357)+_e(9327)+_e(4821)+_e(8903)+_e(5777)),Vn=document.createElement("div"),nr.appendChild(Vn),this._shadowRoot=nr)),this._shadowRoot||(Vn=document.createElement("div"),sr.appendChild(Vn)),Jn()(Vn,{className:"eruda-container __chobitsu-hide__",contentEditable:!1}),ns()().name==="ios"&&Vn.setAttribute("ontouchstart",""),this._$el=xn()(Vn)},_initDevTools:function(sr){this._devTools=new gi(this._$el,{defaults:sr})},_initStyle:function(){var sr="eruda-style-container",ar=this._$el;this._shadowRoot?(Pr.container=this._shadowRoot,Pr(":host { all: initial }")):(ar.append('<div class="'.concat(sr,'"></div>')),Pr.container=ar.find(".".concat(sr)).get(0)),Pr(_e(8020)+_e(4821)+_e(9327)+_e(7591)+_e(4987)+_e(8903)+_e(5512)+_e(2156)+_e(5777)+_e(7871)+_e(6833)+_e(8516)+_e(5357))},_initEntryBtn:function(){var sr=this;this._entryBtn=new Oo(this._$el),this._entryBtn.on("click",function(){return sr._devTools.toggle()})},_initSettings:function(){var sr=this._devTools,ar=new Or;sr.add(ar),this._entryBtn.initCfg(ar),sr.initCfg(ar)},_initTools:function(){var sr=this,ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["console","elements","network","resources","sources","info","snippets"];ar=Ga()(ar);var nr=this._devTools;ar.forEach(function(Vn){var qn=sr[zi()(Vn)];try{qn&&nr.add(new qn)}catch(tr){qr()(function(){Mo.error("Something wrong when initializing tool ".concat(Vn,":"),tr.message)})}}),nr.showTool(ar[0]||"settings")}}},2027:function(xe,pe,_e){var Ce=_e(6672).Z;xe.exports=Ce,xe.exports.default=Ce},6610:function(xe,pe,_e){_e.r(pe),pe.default={}},9143:function(xe,pe,_e){var Ce=this&&this.__awaiter||function(En,vn,hn,_n){return new(hn||(hn=Promise))(function(bn,An){function xn(Tn){try{Cn(_n.next(Tn))}catch(wn){An(wn)}}function Sn(Tn){try{Cn(_n.throw(Tn))}catch(wn){An(wn)}}function Cn(Tn){var wn;Tn.done?bn(Tn.value):(wn=Tn.value,wn instanceof hn?wn:new hn(function(Ln){Ln(wn)})).then(xn,Sn)}Cn((_n=_n.apply(En,vn||[])).next())})},Ie=this&&this.__generator||function(En,vn){var hn,_n,bn,An,xn={label:0,sent:function(){if(1&bn[0])throw bn[1];return bn[1]},trys:[],ops:[]};return An={next:Sn(0),throw:Sn(1),return:Sn(2)},typeof Symbol=="function"&&(An[Symbol.iterator]=function(){return this}),An;function Sn(Cn){return function(Tn){return function(wn){if(hn)throw new TypeError("Generator is already executing.");for(;xn;)try{if(hn=1,_n&&(bn=2&wn[0]?_n.return:wn[0]?_n.throw||((bn=_n.return)&&bn.call(_n),0):_n.next)&&!(bn=bn.call(_n,wn[1])).done)return bn;switch(_n=0,bn&&(wn=[2&wn[0],bn.value]),wn[0]){case 0:case 1:bn=wn;break;case 4:return xn.label++,{value:wn[1],done:!1};case 5:xn.label++,_n=wn[1],wn=[0];continue;case 7:wn=xn.ops.pop(),xn.trys.pop();continue;default:if(bn=xn.trys,!((bn=bn.length>0&&bn[bn.length-1])||wn[0]!==6&&wn[0]!==2)){xn=0;continue}if(wn[0]===3&&(!bn||wn[1]>bn[0]&&wn[1]<bn[3])){xn.label=wn[1];break}if(wn[0]===6&&xn.label<bn[1]){xn.label=bn[1],bn=wn;break}if(bn&&xn.label<bn[2]){xn.label=bn[2],xn.ops.push(wn);break}bn[2]&&xn.ops.pop(),xn.trys.pop();continue}wn=vn.call(En,xn)}catch(Ln){wn=[6,Ln],_n=0}finally{hn=bn=0}if(5&wn[0])throw wn[1];return{value:wn[0]?wn[1]:void 0,done:!0}}([Cn,Tn])}}},Oe=this&&this.__importDefault||function(En){return En&&En.__esModule?En:{default:En}};Object.defineProperty(pe,"__esModule",{value:!0});var Ne=Oe(_e(3276)),Fe=Oe(_e(1214)),Ue=Oe(_e(5936)),$e=Oe(_e(3783)),ze=Oe(_e(1443)),Ve=_e(316),qe=function(){function En(){var vn=this;this.resolves=new Map,this.domains=new Map,this.onMessage=Fe.default,Ne.default.on("message",function(hn){var _n=JSON.parse(hn),bn=vn.resolves.get(_n.id);if(bn&&bn(_n.result),!_n.id){var An=_n.method.split("."),xn=An[0],Sn=An[1],Cn=vn.domains.get(xn);Cn&&Cn.emit(Sn,_n.params)}vn.onMessage(hn)})}return En.prototype.domain=function(vn){return this.domains.get(vn)},En.prototype.setOnMessage=function(vn){this.onMessage=vn},En.prototype.sendMessage=function(vn,hn){var _n=this;hn===void 0&&(hn={});var bn=Ue.default();return this.sendRawMessage(JSON.stringify({id:bn,method:vn,params:hn})),new Promise(function(An){_n.resolves.set(bn,An)})},En.prototype.sendRawMessage=function(vn){return Ce(this,void 0,void 0,function(){var hn,_n,bn,An,xn,Sn,Cn;return Ie(this,function(Tn){switch(Tn.label){case 0:hn=JSON.parse(vn),_n=hn.method,bn=hn.params,An=hn.id,xn={id:An},Tn.label=1;case 1:return Tn.trys.push([1,3,,4]),Sn=xn,[4,this.callMethod(_n,bn)];case 2:return Sn.result=Tn.sent(),[3,4];case 3:return(Cn=Tn.sent())instanceof Ve.ErrorWithCode?xn.error={message:Cn.message,code:Cn.code}:Cn instanceof Error&&(xn.error={message:Cn.message}),[3,4];case 4:return Ne.default.emit("message",JSON.stringify(xn)),[2]}})})},En.prototype.register=function(vn,hn){var _n=this.domains,bn=_n.get(vn);bn||(bn={},ze.default.mixin(bn)),$e.default(hn,function(An,xn){bn[xn]=An}),_n.set(vn,bn)},En.prototype.callMethod=function(vn,hn){return Ce(this,void 0,void 0,function(){var _n,bn,An,xn;return Ie(this,function(Sn){if(_n=vn.split("."),bn=_n[0],An=_n[1],(xn=this.domain(bn))&&xn[An])return[2,xn[An](hn)||{}];throw Error(vn+" unimplemented")})})},En}();pe.default=qe},7935:function(xe,pe,_e){var Ce=this&&this.__createBinding||(Object.create?function(On,Dn,Mn,Bn){Bn===void 0&&(Bn=Mn),Object.defineProperty(On,Bn,{enumerable:!0,get:function(){return Dn[Mn]}})}:function(On,Dn,Mn,Bn){Bn===void 0&&(Bn=Mn),On[Bn]=Dn[Mn]}),Ie=this&&this.__setModuleDefault||(Object.create?function(On,Dn){Object.defineProperty(On,"default",{enumerable:!0,value:Dn})}:function(On,Dn){On.default=Dn}),Oe=this&&this.__importStar||function(On){if(On&&On.__esModule)return On;var Dn={};if(On!=null)for(var Mn in On)Mn!=="default"&&Object.hasOwnProperty.call(On,Mn)&&Ce(Dn,On,Mn);return Ie(Dn,On),Dn},Ne=this&&this.__importDefault||function(On){return On&&On.__esModule?On:{default:On}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.getDOMNode=pe.getDOMNodeId=pe.setOuterHTML=pe.setNodeValue=pe.setInspectedNode=pe.setAttributeValue=pe.setAttributesAsText=pe.resolveNode=pe.requestNode=pe.requestChildNodes=pe.removeNode=pe.pushNodesByBackendIdsToFrontend=pe.discardSearchResults=pe.pushNodesToFrontend=pe.getSearchResults=pe.performSearch=pe.moveTo=pe.getOuterHTML=pe.getDocument=pe.enable=pe.copyTo=pe.collectClassNamesFromSubtree=void 0;var Fe=Ne(_e(3276)),Ue=Oe(_e(2049)),$e=_e(2049),ze=Oe(_e(7923)),Ve=Ne(_e(6126)),qe=Ne(_e(1512)),En=Ne(_e(6156)),vn=Ne(_e(8887)),hn=Ne(_e(7483)),_n=Ne(_e(2461)),bn=Ne(_e(42)),An=Ne(_e(6341)),xn=Ne(_e(3063)),Sn=Ne(_e(3783)),Cn=Ne(_e(1352)),Tn=Ne(_e(8933)),wn=Ne(_e(8099)),Ln=_e(1628),Pn=_e(316);pe.collectClassNamesFromSubtree=function(On){var Dn=$e.getNode(On.nodeId),Mn=[];return Nn(Dn,function(Bn){if(Bn.nodeType===1){var $n=Bn.getAttribute("class");if($n)for(var Fn=0,Un=$n.split(/\s+/);Fn<Un.length;Fn++){var Hn=Un[Fn];Mn.push(Hn)}}}),{classNames:bn.default(Mn)}},pe.copyTo=function(On){var Dn=On.nodeId,Mn=On.targetNodeId,Bn=$e.getNode(Dn),$n=$e.getNode(Mn),Fn=Bn.cloneNode(!0);$n.appendChild(Fn)},pe.enable=function(){Ve.default.observe(),Ue.clear()},pe.getDocument=function(){return{root:Ue.wrap(document,{depth:2})}},pe.getOuterHTML=function(On){return{outerHTML:$e.getNode(On.nodeId).outerHTML}},pe.moveTo=function(On){var Dn=On.nodeId,Mn=On.targetNodeId,Bn=$e.getNode(Dn);$e.getNode(Mn).appendChild(Bn)};var kn=new Map;function In(On){for(var Dn=[On],Mn=On.parentNode;Mn&&(Dn.push(Mn),!($n=$e.getNodeId(Mn)));)Mn=Mn.parentNode;for(;Dn.length;){var Bn=Dn.pop(),$n=$e.getNodeId(Bn);Fe.default.trigger("DOM.setChildNodes",{parentId:$n,nodes:Ue.getChildNodes(Bn,1)})}return $e.getNodeId(On)}pe.performSearch=function(On){var Dn=xn.default(On.query),Mn=[];try{Mn=wn.default(Mn,Cn.default(document.querySelectorAll(Dn)))}catch($n){}try{Mn=wn.default(Mn,Tn.default(Dn))}catch($n){}Nn(document,function($n){var Fn=$n.nodeType;if(Fn===1){var Un=$n.localName;if(An.default("<"+Un+" ",Dn)||An.default("</"+Un+">",Dn))return void Mn.push($n);var Hn=[];Sn.default($n.attributes,function(or){var fr=or.name,cr=or.value;return Hn.push(fr,cr)});for(var Wn=0,Xn=Hn.length;Wn<Xn;Wn++)if(An.default(xn.default(Hn[Wn]),Dn)){Mn.push($n);break}}else Fn===3&&An.default(xn.default($n.nodeValue),Dn)&&Mn.push($n)});var Bn=Pn.createId();return kn.set(Bn,Mn),{searchId:Bn,resultCount:Mn.length}},pe.getSearchResults=function(On){var Dn=On.searchId,Mn=On.fromIndex,Bn=On.toIndex,$n=kn.get(Dn).slice(Mn,Bn);return{nodeIds:_n.default($n,function(Fn){var Un=$e.getNodeId(Fn);return Un||In(Fn)})}},pe.pushNodesToFrontend=In,pe.discardSearchResults=function(On){kn.delete(On.searchId)},pe.pushNodesByBackendIdsToFrontend=function(On){return{nodeIds:On.backendNodeIds}},pe.removeNode=function(On){var Dn=$e.getNode(On.nodeId);qe.default(Dn).remove()},pe.requestChildNodes=function(On){var Dn=On.nodeId,Mn=On.depth,Bn=Mn===void 0?1:Mn,$n=$e.getNode(Dn);Fe.default.trigger("DOM.setChildNodes",{parentId:Dn,nodes:Ue.getChildNodes($n,Bn)})},pe.requestNode=function(On){var Dn=ze.getObj(On.objectId);return{nodeId:$e.getNodeId(Dn)}},pe.resolveNode=function(On){var Dn=$e.getNode(On.nodeId);return{object:ze.wrap(Dn)}},pe.setAttributesAsText=function(On){var Dn,Mn=On.name,Bn=On.text,$n=On.nodeId,Fn=$e.getNode($n);Mn&&Fn.removeAttribute(Mn),qe.default(Fn).attr((Dn="<div "+(Dn=Bn)+"></div>",hn.default.parse(Dn)[0].attrs))},pe.setAttributeValue=function(On){var Dn=On.nodeId,Mn=On.name,Bn=On.value;$e.getNode(Dn).setAttribute(Mn,Bn)};var Rn=[];function Nn(On,Dn){for(var Mn=Ue.filterNodes(On.childNodes),Bn=0,$n=Mn.length;Bn<$n;Bn++){var Fn=Mn[Bn];Dn(Fn),Nn(Fn,Dn)}}pe.setInspectedNode=function(On){var Dn=$e.getNode(On.nodeId);Rn.unshift(Dn),Rn.length>5&&Rn.pop();for(var Mn=0;Mn<5;Mn++)Ln.setGlobal("$"+Mn,Rn[Mn])},pe.setNodeValue=function(On){var Dn=On.nodeId,Mn=On.value;$e.getNode(Dn).nodeValue=Mn},pe.setOuterHTML=function(On){var Dn=On.nodeId,Mn=On.outerHTML;$e.getNode(Dn).outerHTML=Mn},pe.getDOMNodeId=function(On){var Dn=On.node;return{nodeId:Ue.getOrCreateNodeId(Dn)}},pe.getDOMNode=function(On){var Dn=On.nodeId;return{node:$e.getNode(Dn)}},Ve.default.on("attributes",function(On,Dn){var Mn=$e.getNodeId(On);if(Mn){var Bn=On.getAttribute(Dn);En.default(Bn)?Fe.default.trigger("DOM.attributeRemoved",{nodeId:Mn,name:Dn}):Fe.default.trigger("DOM.attributeModified",{nodeId:Mn,name:Dn,value:Bn})}}),Ve.default.on("childList",function(On,Dn,Mn){var Bn=$e.getNodeId(On);if(Bn){if(Dn=Ue.filterNodes(Dn),Mn=Ue.filterNodes(Mn),!vn.default(Dn)){or();for(var $n=0,Fn=Dn.length;$n<Fn;$n++){var Un=Dn[$n],Hn=Ue.getPreviousNode(Un),Wn=Hn?$e.getNodeId(Hn):0,Xn={node:Ue.wrap(Un,{depth:0}),parentNodeId:Bn,previousNodeId:Wn};Fe.default.trigger("DOM.childNodeInserted",Xn)}}if(!vn.default(Mn))for($n=0,Fn=Mn.length;$n<Fn;$n++){if(Un=Mn[$n],!$e.getNodeId(Un)){or();break}Fe.default.trigger("DOM.childNodeRemoved",{nodeId:$e.getNodeId(Un),parentNodeId:Bn})}}function or(){Fe.default.trigger("DOM.childNodeCountUpdated",{childNodeCount:Ue.wrap(On,{depth:0}).childNodeCount,nodeId:Bn})}}),Ve.default.on("characterData",function(On){var Dn=$e.getNodeId(On);Dn&&Fe.default.trigger("DOM.characterDataModified",{characterData:On.nodeValue,nodeId:Dn})})},2139:function(xe,pe,_e){var Ce=this&&this.__spreadArrays||function(){for(var hn=0,_n=0,bn=arguments.length;_n<bn;_n++)hn+=arguments[_n].length;var An=Array(hn),xn=0;for(_n=0;_n<bn;_n++)for(var Sn=arguments[_n],Cn=0,Tn=Sn.length;Cn<Tn;Cn++,xn++)An[xn]=Sn[Cn];return An},Ie=this&&this.__importDefault||function(hn){return hn&&hn.__esModule?hn:{default:hn}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.getResponseBody=pe.enable=pe.getCookies=pe.deleteCookies=void 0;var Oe=Ie(_e(4331)),Ne=Ie(_e(3783)),Fe=Ie(_e(1420)),Ue=Ie(_e(5031)),$e=Ie(_e(8763)),ze=Ie(_e(8740)),Ve=Ie(_e(6341)),qe=_e(2636),En=Ie(_e(3276));pe.deleteCookies=function(hn){Ue.default(hn.name)},pe.getCookies=function(){var hn=[],_n=document.cookie;return Oe.default(_n)!==""&&Ne.default(_n.split(";"),function(bn){bn=bn.split("=");var An=Oe.default(bn.shift());bn=Fe.default(bn.join("=")),hn.push({name:An,value:bn})}),{cookies:hn}};var vn=new Map;pe.enable=$e.default(function(){var hn=window.XMLHttpRequest.prototype,_n=hn.send,bn=hn.open,An=hn.setRequestHeader;hn.open=function(Cn,Tn){if(!function(Pn){return!Ve.default(Pn,"__chobitsu-hide__=true")}(Tn))return bn.apply(this,arguments);var wn=this,Ln=wn.chobitsuRequest=new qe.XhrRequest(wn,Cn,Tn);Ln.on("send",function(Pn,kn){var In={method:kn.method,url:kn.url,headers:kn.reqHeaders};kn.data&&(In.postData=kn.data),En.default.trigger("Network.requestWillBeSent",{requestId:Pn,type:"XHR",request:In,timestamp:kn.time/1e3})}),Ln.on("headersReceived",function(Pn,kn){En.default.trigger("Network.responseReceivedExtraInfo",{requestId:Pn,blockedCookies:[],headers:kn.resHeaders})}),Ln.on("done",function(Pn,kn){En.default.trigger("Network.responseReceived",{requestId:Pn,type:"XHR",response:{status:kn.status},timestamp:kn.time/1e3}),vn.set(Pn,kn.resTxt),En.default.trigger("Network.loadingFinished",{requestId:Pn,encodedDataLength:kn.size,timestamp:kn.time/1e3})}),wn.addEventListener("readystatechange",function(){switch(wn.readyState){case 2:return Ln.handleHeadersReceived();case 4:return Ln.handleDone()}}),bn.apply(this,arguments)},hn.send=function(Cn){var Tn=this.chobitsuRequest;Tn&&Tn.handleSend(Cn),_n.apply(this,arguments)},hn.setRequestHeader=function(Cn,Tn){var wn=this.chobitsuRequest;wn&&wn.handleReqHeadersSet(Cn,Tn),An.apply(this,arguments)};var xn=!1;if(window.fetch&&(xn=ze.default(window.fetch)),!xn&&navigator.serviceWorker&&(xn=!0),xn){var Sn=window.fetch;window.fetch=function(){for(var Cn=[],Tn=0;Tn<arguments.length;Tn++)Cn[Tn]=arguments[Tn];var wn=new(qe.FetchRequest.bind.apply(qe.FetchRequest,Ce([void 0],Cn)));wn.on("send",function(Pn,kn){var In={method:kn.method,url:kn.url,headers:kn.reqHeaders};kn.data&&(In.postData=kn.data),En.default.trigger("Network.requestWillBeSent",{requestId:Pn,type:"Fetch",request:In,timestamp:kn.time/1e3})}),wn.on("done",function(Pn,kn){En.default.trigger("Network.responseReceived",{requestId:Pn,type:"Fetch",response:{status:kn.status,headers:kn.resHeaders},timestamp:kn.time/1e3}),vn.set(Pn,kn.resTxt),En.default.trigger("Network.loadingFinished",{requestId:Pn,encodedDataLength:kn.size,timestamp:kn.time/1e3})});var Ln=Sn.apply(void 0,Cn);return wn.send(Ln),Ln}}}),pe.getResponseBody=function(hn){return{base64Encoded:!1,body:vn.get(hn.requestId)}}},8689:function(xe,pe,_e){var Ce=this&&this.__createBinding||(Object.create?function(fr,cr,Jn,mr){mr===void 0&&(mr=Jn),Object.defineProperty(fr,mr,{enumerable:!0,get:function(){return cr[Jn]}})}:function(fr,cr,Jn,mr){mr===void 0&&(mr=Jn),fr[mr]=cr[Jn]}),Ie=this&&this.__setModuleDefault||(Object.create?function(fr,cr){Object.defineProperty(fr,"default",{enumerable:!0,value:cr})}:function(fr,cr){fr.default=cr}),Oe=this&&this.__importStar||function(fr){if(fr&&fr.__esModule)return fr;var cr={};if(fr!=null)for(var Jn in fr)Jn!=="default"&&Object.hasOwnProperty.call(fr,Jn)&&Ce(cr,fr,Jn);return Ie(cr,fr),cr},Ne=this&&this.__importDefault||function(fr){return fr&&fr.__esModule?fr:{default:fr}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.setInspectMode=pe.setShowViewportSizeOnResize=pe.hideHighlight=pe.highlightNode=pe.disable=pe.enable=void 0;var Fe,Ue,$e=_e(2049),ze=_e(7935),Ve=Ne(_e(1512)),qe=Ne(_e(8613)),En=Ne(_e(642)),vn=Ne(_e(4193)),hn=Ne(_e(6329)),_n=Ne(_e(3276)),bn=Ne(_e(5610)),An=Ne(_e(3474)),xn=Ne(_e(4210)),Sn=Ne(_e(7715)),Cn=Oe(_e(7923)),Tn=!1,wn=!1,Ln=xn.default("clip-path","polygon(50% 0px, 0px 100%, 100% 100%)"),Pn="ontouchstart"in bn.default,kn=_e(2777).replace("/*# sourceMappingURL=luna-dom-highlighter.css.map*/","");function In(fr){var cr,Jn=fr.nodeId,mr=fr.highlightConfig,Ir=fr.objectId;Jn&&(cr=$e.getNode(Jn)),Ir&&(cr=Cn.getObj(Ir)),cr.nodeType!==1&&cr.nodeType!==3||(vn.default(mr,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),Ln||hn.default(mr,{showInfo:!1}),Fe.highlight(cr,mr))}function Rn(){Fe.hide()}pe.enable=function(){if(!wn){var fr=qe.default("div",{class:"__chobitsu-hide__",style:{all:"initial"}});Ue=Ve.default(fr),document.documentElement.appendChild(fr);var cr=null,Jn=null;if(fr.attachShadow?Jn=fr.attachShadow({mode:"open"}):fr.createShadowRoot&&(Jn=fr.createShadowRoot()),Jn){var mr=document.createElement("style");mr.textContent=kn,mr.type="text/css",Jn.appendChild(mr),cr=document.createElement("div"),Jn.appendChild(cr)}else cr=document.createElement("div"),fr.appendChild(cr),Tn||(En.default(kn),Tn=!0);Fe=new Sn.default(cr,{monitorResize:An.default(bn.default.ResizeObserver),showInfo:Ln}),window.addEventListener("resize",Wn),wn=!0}},pe.disable=function(){Fe.destroy(),Ue.remove(),window.removeEventListener("resize",Wn),wn=!1},pe.highlightNode=In,pe.hideHighlight=Rn;var Nn=!1;pe.setShowViewportSizeOnResize=function(fr){Nn=fr.show};var On={},Dn="none";function Mn(fr){if(Pn){var cr=fr.touches[0]||fr.changedTouches[0];return document.elementFromPoint(cr.clientX,cr.clientY)}return document.elementFromPoint(fr.clientX,fr.clientY)}pe.setInspectMode=function(fr){On=fr.highlightConfig,Dn=fr.mode};var Bn=-1;function $n(fr){if(Dn!=="none"){var cr=Mn(fr);if(cr&&$e.isValidNode(cr)){var Jn=$e.getNodeId(cr);Jn||(Jn=ze.pushNodesToFrontend(cr)),In({nodeId:Jn,highlightConfig:On}),Jn!==Bn&&(_n.default.trigger("Overlay.nodeHighlightRequested",{nodeId:Jn}),Bn=Jn)}}}function Fn(fr){if(Dn!=="none"){fr.preventDefault(),fr.stopImmediatePropagation();var cr=Mn(fr);_n.default.trigger("Overlay.inspectNodeRequested",{backendNodeId:$e.getNodeId(cr)}),Bn=-1,Rn()}}function Un(fr,cr){document.documentElement.addEventListener(fr,cr,!0)}Pn?(Un("touchstart",$n),Un("touchmove",$n),Un("touchend",Fn)):(Un("mousemove",$n),Un("mouseout",function(){Dn!=="none"&&Rn()}),Un("click",Fn));var Hn=qe.default("div",{class:"__chobitsu-hide__",style:{position:"fixed",right:0,top:0,background:"#fff",fontSize:13,opacity:.5,padding:"4px 6px"}});function Wn(){Nn&&(or.text(window.innerWidth+"px × "+window.innerHeight+"px"),Xn?clearTimeout(Xn):document.documentElement.appendChild(Hn),Xn=setTimeout(function(){or.remove(),Xn=null},1e3))}var Xn,or=Ve.default(Hn)},9119:function(xe,pe,_e){var Ce=this&&this.__importDefault||function(ze){return ze&&ze.__esModule?ze:{default:ze}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.getTrustTokens=pe.clearDataForOrigin=pe.getUsageAndQuota=void 0;var Ie=Ce(_e(3783)),Oe=Ce(_e(5031)),Ne=Ce(_e(615)),Fe=_e(2139),Ue=Ne.default("local"),$e=Ne.default("session");pe.getUsageAndQuota=function(){return{quota:0,usage:0,usageBreakdown:[]}},pe.clearDataForOrigin=function(ze){var Ve=ze.storageTypes.split(",");Ie.default(Ve,function(qe){if(qe==="cookies"){var En=Fe.getCookies().cookies;Ie.default(En,function(vn){var hn=vn.name;return Oe.default(hn)})}else qe==="local_storage"&&(Ue.clear(),$e.clear())})},pe.getTrustTokens=function(){return{tokens:[]}}},3276:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(Fe,Ue){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($e,ze){$e.__proto__=ze}||function($e,ze){for(var Ve in ze)ze.hasOwnProperty(Ve)&&($e[Ve]=ze[Ve])},Ce(Fe,Ue)},function(Fe,Ue){function $e(){this.constructor=Fe}Ce(Fe,Ue),Fe.prototype=Ue===null?Object.create(Ue):($e.prototype=Ue.prototype,new $e)}),Oe=this&&this.__importDefault||function(Fe){return Fe&&Fe.__esModule?Fe:{default:Fe}};Object.defineProperty(pe,"__esModule",{value:!0});var Ne=function(Fe){function Ue(){return Fe!==null&&Fe.apply(this,arguments)||this}return Ie(Ue,Fe),Ue.prototype.trigger=function($e,ze){this.emit("message",JSON.stringify({method:$e,params:ze}))},Ue}(Oe(_e(1443)).default);pe.default=new Ne},1628:function(xe,pe,_e){var Ce=this&&this.__importDefault||function(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.setGlobal=void 0;var Ie=Ce(_e(6768)),Oe=Ce(_e(2327)),Ne=Ce(_e(1352)),Fe=Ce(_e(2533)),Ue=Ce(_e(8933)),$e=Ce(_e(3783)),ze={copy:function(Ve){Ie.default(Ve)||(Ve=JSON.stringify(Ve,null,2)),Oe.default(Ve)},$:function(Ve){return document.querySelector(Ve)},$$:function(Ve){return Ne.default(document.querySelectorAll(Ve))},$x:function(Ve){return Ue.default(Ve)},keys:Fe.default};pe.setGlobal=function(Ve,qe){ze[Ve]=qe},pe.default=function(Ve){var qe;$e.default(ze,function(En,vn){window[vn]||(window[vn]=En)});try{qe=eval.call(window,"("+Ve+")")}catch(En){qe=eval.call(window,Ve)}return $e.default(ze,function(En,vn){window[vn]&&window[vn]===En&&delete window[vn]}),qe}},6126:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function($e,ze){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ve,qe){Ve.__proto__=qe}||function(Ve,qe){for(var En in qe)qe.hasOwnProperty(En)&&(Ve[En]=qe[En])},Ce($e,ze)},function($e,ze){function Ve(){this.constructor=$e}Ce($e,ze),$e.prototype=ze===null?Object.create(ze):(Ve.prototype=ze.prototype,new Ve)}),Oe=this&&this.__importDefault||function($e){return $e&&$e.__esModule?$e:{default:$e}};Object.defineProperty(pe,"__esModule",{value:!0});var Ne=Oe(_e(1443)),Fe=Oe(_e(3783)),Ue=function($e){function ze(){var Ve=$e.call(this)||this;return Ve.observer=new MutationObserver(function(qe){Fe.default(qe,function(En){return Ve.handleMutation(En)})}),Ve}return Ie(ze,$e),ze.prototype.observe=function(){var Ve=this.observer;Ve.disconnect(),Ve.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},ze.prototype.handleMutation=function(Ve){Ve.type==="attributes"?this.emit("attributes",Ve.target,Ve.attributeName):Ve.type==="childList"?this.emit("childList",Ve.target,Ve.addedNodes,Ve.removedNodes):Ve.type==="characterData"&&this.emit("characterData",Ve.target)},ze}(Ne.default);pe.default=new Ue},2049:function(xe,pe,_e){var Ce=this&&this.__importDefault||function(xn){return xn&&xn.__esModule?xn:{default:xn}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.getNode=pe.isValidNode=pe.filterNodes=pe.getPreviousNode=pe.getChildNodes=pe.wrap=pe.getNodeId=pe.clear=pe.getOrCreateNodeId=void 0;var Ie=Ce(_e(2461)),Oe=Ce(_e(5972)),Ne=Ce(_e(3783)),Fe=Ce(_e(4331)),Ue=Ce(_e(6341)),$e=Ce(_e(6329)),ze=_e(316),Ve=new Map,qe=new Map,En=1;function vn(xn){var Sn=qe.get(xn);return Sn||(Sn=En++,qe.set(xn,Sn),Ve.set(Sn,xn),Sn)}function hn(xn,Sn){var Cn=(Sn===void 0?{}:Sn).depth,Tn=Cn===void 0?1:Cn,wn=vn(xn),Ln={nodeName:xn.nodeName,nodeType:xn.nodeType,localName:xn.localName||"",nodeValue:xn.nodeValue||"",nodeId:wn,backendNodeId:wn};if(xn.parentNode&&(Ln.parentId=vn(xn.parentNode)),xn.nodeType===10)return $e.default(Ln,{publicId:"",systemId:""});if(xn.attributes){var Pn=[];Ne.default(xn.attributes,function(Rn){var Nn=Rn.name,On=Rn.value;return Pn.push(Nn,On)}),Ln.attributes=Pn}var kn=bn(xn.childNodes);Ln.childNodeCount=kn.length;var In=Ln.childNodeCount===1&&kn[0].nodeType===3;return(Tn>0||In)&&(Ln.children=_n(xn,Tn)),Ln}function _n(xn,Sn){var Cn=bn(xn.childNodes);return Ie.default(Cn,function(Tn){return hn(Tn,{depth:Sn-1})})}function bn(xn){return Oe.default(xn,function(Sn){return An(Sn)})}function An(xn){if(xn.nodeType===1){var Sn=xn.getAttribute("class")||"";if(Ue.default(Sn,"__chobitsu-hide__")||Ue.default(Sn,"html2canvas-container"))return!1}var Cn=!(xn.nodeType===3&&Fe.default(xn.nodeValue||"")==="");return Cn&&xn.parentNode?An(xn.parentNode):Cn}pe.getOrCreateNodeId=vn,pe.clear=function(){Ve.clear(),qe.clear()},pe.getNodeId=function(xn){return qe.get(xn)},pe.wrap=hn,pe.getChildNodes=_n,pe.getPreviousNode=function(xn){var Sn=xn.previousSibling;if(Sn){for(;!An(Sn)&&Sn.previousSibling;)Sn=Sn.previousSibling;return Sn&&An(Sn)?Sn:void 0}},pe.filterNodes=bn,pe.isValidNode=An,pe.getNode=function(xn){var Sn=Ve.get(xn);if(!Sn||Sn.nodeType===10)throw ze.createErr(-32e3,"Could not find node with given id");return Sn}},7923:function(xe,pe,_e){var Ce=this&&this.__importDefault||function(Un){return Un&&Un.__esModule?Un:{default:Un}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.getProperties=pe.releaseObj=pe.getObj=pe.wrap=pe.clear=void 0;var Ie=Ce(_e(3367)),Oe=Ce(_e(6156)),Ne=Ce(_e(6472)),Fe=Ce(_e(4777)),Ue=Ce(_e(9833)),$e=Ce(_e(2749)),ze=Ce(_e(3708)),Ve=Ce(_e(7470)),qe=Ce(_e(1754)),En=Ce(_e(3085)),vn=Ce(_e(2533)),hn=Ce(_e(300)),_n=Ce(_e(1116)),bn=Ce(_e(8740)),An=Ce(_e(415)),xn=Ce(_e(9804)),Sn=Ce(_e(6257)),Cn=new Map,Tn=new Map,wn=new Map,Ln=new Map,Pn=1;function kn(Un,Hn){var Wn=Tn.get(Un);return Wn||(Wn=JSON.stringify({injectedScriptId:0,id:Pn++}),Tn.set(Un,Wn),Cn.set(Wn,Un),wn.set(Wn,Hn),Wn)}function In(Un,Hn){var Wn=Hn===void 0?{}:Hn,Xn=Wn.generatePreview,or=Xn!==void 0&&Xn,fr=Wn.self,cr=fr===void 0?Un:fr,Jn=Bn(Un),mr=Jn.type,Ir=Jn.subtype;return mr==="undefined"?Jn:mr==="string"||mr==="boolean"||Ir==="null"?(Jn.value=Un,Jn):(Jn.description=Mn(Un,cr),mr==="number"?(Jn.value=Un,Jn):mr==="symbol"?(Jn.objectId=kn(Un,cr),Jn):(Jn.className=mr==="function"?"Function":Ir==="array"?"Array":Ir==="map"?"Map":Ir==="set"?"Set":Ir==="regexp"?"RegExp":Ir==="error"?Un.name:En.default(Un,!1),or&&(Jn.preview=On(Un,cr)),Jn.objectId=kn(Un,cr),Jn))}function Rn(Un){return Cn.get(Un)}pe.clear=function(){Cn.clear(),Tn.clear(),wn.clear()},pe.wrap=In,pe.getObj=Rn,pe.releaseObj=function(Un){var Hn=Rn(Un);Tn.delete(Hn),wn.delete(Un),Cn.delete(Un)},pe.getProperties=function(Un){for(var Hn=Un.accessorPropertiesOnly,Wn=Un.objectId,Xn=Un.ownProperties,or=Un.generatePreview,fr=[],cr={prototype:!Xn,unenumerable:!0,symbol:!Hn},Jn=Cn.get(Wn),mr=wn.get(Wn),Ir=_n.default(Jn,cr),yr=An.default(Jn),Tr=0,Sr=Ir.length;Tr<Sr;Tr++){var Yn=Ir[Tr],Qn=void 0;try{Qn=mr[Yn]}catch(Fr){}var rr={name:Ie.default(Yn),isOwn:Sn.default(mr,Yn)},gr=Object.getOwnPropertyDescriptor(Jn,Yn);if(!gr&&yr&&(gr=Object.getOwnPropertyDescriptor(yr,Yn)),gr){if(Hn&&!gr.get&&!gr.set)continue;rr.configurable=gr.configurable,rr.enumerable=gr.enumerable,rr.writable=gr.writable,gr.get&&(rr.get=In(gr.get)),gr.set&&(rr.set=In(gr.set))}yr&&Sn.default(yr,Yn)&&rr.enumerable&&(rr.isOwn=!0);var Ar=!0;!rr.isOwn&&rr.get&&(Ar=!1),Ar&&(xn.default(Yn)?(rr.symbol=In(Yn),rr.value={type:"undefined"}):rr.value=In(Qn,{generatePreview:or})),Hn&&Fe.default(Qn)&&bn.default(Qn)||fr.push(rr)}if(!yr||Xn||Fn(Jn)||fr.push({name:"__proto__",configurable:!0,enumerable:!1,isOwn:Sn.default(Jn,"__proto__"),value:In(yr,{self:mr}),writable:!1}),Hn)return{result:fr};var Br=[];if(yr&&!Fn(Jn)&&Br.push({name:"[[Prototype]]",value:In(yr,{self:mr})}),ze.default(Jn)||Ve.default(Jn)){var Vr=function(Fr){for(var Er=Ln.get(Fr),Dr=Er?Rn(Er):[],Pr=Fr.entries(),$r=Pr.next().value;$r;)ze.default(Fr)?Dr.push(new $n($r[1],$r[0])):Dr.push(new $n($r[1])),$r=Pr.next().value;return Dr}(Jn);Br.push({name:"[[Entries]]",value:In(Vr)})}return{internalProperties:Br,result:fr}};var Nn=5;function On(Un,Hn){Hn===void 0&&(Hn=Un);var Wn=Bn(Un);Wn.description=Mn(Un,Hn);var Xn=!1,or=[],fr=vn.default(Un),cr=fr.length;cr>Nn&&(cr=Nn,Xn=!0);for(var Jn=0;Jn<cr;Jn++){var mr=fr[Jn];or.push(Dn(mr,Hn[mr]))}if(Wn.properties=or,ze.default(Un)){for(var Ir=[],yr=(Jn=0,Un.keys()),Tr=yr.next().value;Tr;){if(Jn>Nn){Xn=!0;break}Ir.push({key:On(Tr),value:On(Un.get(Tr))}),Jn++,Tr=yr.next().value}Wn.entries=Ir}else if(Ve.default(Un)){var Sr=[],Yn=(Jn=0,Un.keys());for(Tr=Yn.next().value;Tr;){if(Jn>Nn){Xn=!0;break}Sr.push({value:On(Tr)}),Jn++,Tr=Yn.next().value}Wn.entries=Sr}return Wn.overflow=Xn,Wn}function Dn(Un,Hn){var Wn=Bn(Hn);Wn.name=Un;var Xn,or=Wn.subtype;return Xn=Wn.type==="object"?or==="null"?"null":or==="array"?"Array("+Hn.length+")":or==="map"?"Map("+Hn.size+")":or==="set"?"Set("+Hn.size+")":En.default(Hn,!1):Ie.default(Hn),Wn.value=Xn,Wn}function Mn(Un,Hn){Hn===void 0&&(Hn=Un);var Wn=Bn(Un),Xn=Wn.type,or=Wn.subtype;return Xn==="string"?Un:Xn==="number"||Xn==="symbol"?Ie.default(Un):Xn==="function"?hn.default(Un):or==="array"?"Array("+Un.length+")":or==="map"?"Map("+Hn.size+")":or==="set"?"Set("+Hn.size+")":or==="regexp"?Ie.default(Un):or==="error"?Un.stack:or==="internal#entry"?Un.name?'{"'+Ie.default(Un.name)+'" => "'+Ie.default(Un.value)+'"}':'"'+Ie.default(Un.value)+'"':En.default(Un,!1)}function Bn(Un){var Hn=typeof Un,Wn="object";if(Un instanceof $n)Wn="internal#entry";else if(Oe.default(Un))Wn="null";else if(Ne.default(Un))Wn="array";else if(qe.default(Un))Wn="regexp";else if($e.default(Un))Wn="error";else if(ze.default(Un))Wn="map";else if(Ve.default(Un))Wn="set";else try{Ue.default(Un)&&(Wn="node")}catch(Xn){}return{type:Hn,subtype:Wn}}var $n=function(Un,Hn){Hn&&(this.name=Hn),this.value=Un};function Fn(Un){return Un instanceof $n||!!(Un[0]&&Un[0]instanceof $n)}},2636:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(Nn,On){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dn,Mn){Dn.__proto__=Mn}||function(Dn,Mn){for(var Bn in Mn)Mn.hasOwnProperty(Bn)&&(Dn[Bn]=Mn[Bn])},Ce(Nn,On)},function(Nn,On){function Dn(){this.constructor=Nn}Ce(Nn,On),Nn.prototype=On===null?Object.create(On):(Dn.prototype=On.prototype,new Dn)}),Oe=this&&this.__importDefault||function(Nn){return Nn&&Nn.__esModule?Nn:{default:Nn}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.fullUrl=pe.FetchRequest=pe.XhrRequest=void 0;var Ne=Oe(_e(1443)),Fe=Oe(_e(6768)),Ue=Oe(_e(9702)),$e=Oe(_e(6334)),ze=Oe(_e(8887)),Ve=Oe(_e(4331)),qe=Oe(_e(8847)),En=Oe(_e(3783)),vn=Oe(_e(6930)),hn=Oe(_e(3875)),_n=_e(316),bn=function(Nn){function On(Dn,Mn,Bn){var $n=Nn.call(this)||this;return $n.xhr=Dn,$n.reqHeaders={},$n.method=Mn,$n.url=Ln(Bn),$n.id=_n.createId(),$n}return Ie(On,Nn),On.prototype.toJSON=function(){return{method:this.method,url:this.url,id:this.id}},On.prototype.handleSend=function(Dn){Fe.default(Dn)||(Dn=""),Dn={name:Pn(this.url),url:this.url,data:Dn,time:qe.default(),reqHeaders:this.reqHeaders,method:this.method},ze.default(this.reqHeaders)||(Dn.reqHeaders=this.reqHeaders),this.emit("send",this.id,Dn)},On.prototype.handleReqHeadersSet=function(Dn,Mn){Dn&&Mn&&(this.reqHeaders[Dn]=Mn)},On.prototype.handleHeadersReceived=function(){var Dn=this.xhr,Mn=kn(Dn.getResponseHeader("Content-Type")||"");this.emit("headersReceived",this.id,{type:Mn.type,subType:Mn.subType,size:Tn(Dn,!0,this.url),time:qe.default(),resHeaders:Cn(Dn)})},On.prototype.handleDone=function(){var Dn,Mn,Bn,$n=this,Fn=this.xhr,Un=Fn.responseType,Hn="",Wn=function(){$n.emit("done",$n.id,{status:Fn.status,size:Tn(Fn,!1,$n.url),time:qe.default(),resTxt:Hn})},Xn=kn(Fn.getResponseHeader("Content-Type")||"");Un!=="blob"||Xn.type!=="text"&&Xn.subType!=="javascript"&&Xn.subType!=="json"?(Un!==""&&Un!=="text"||(Hn=Fn.responseText),Un==="json"&&(Hn=JSON.stringify(Fn.response)),Wn()):(Dn=Fn.response,Mn=function(or,fr){fr&&(Hn=fr),Wn()},(Bn=new FileReader).onload=function(){Mn(null,Bn.result)},Bn.onerror=function(or){Mn(or)},Bn.readAsText(Dn))},On}(Ne.default);pe.XhrRequest=bn;var An=function(Nn){function On(Dn,Mn){Mn===void 0&&(Mn={});var Bn=Nn.call(this)||this;return Dn instanceof window.Request&&(Dn=Dn.url),Bn.url=Ln(Dn),Bn.id=_n.createId(),Bn.options=Mn,Bn.reqHeaders=Mn.headers||{},Bn.method=Mn.method||"GET",Bn}return Ie(On,Nn),On.prototype.send=function(Dn){var Mn=this,Bn=this.options,$n=Fe.default(Bn.body)?Bn.body:"";this.emit("send",this.id,{name:Pn(this.url),url:this.url,data:$n,reqHeaders:this.reqHeaders,time:qe.default(),method:this.method}),Dn.then(function(Fn){var Un=kn((Fn=Fn.clone()).headers.get("Content-Type"));return Fn.text().then(function(Hn){var Wn={type:Un.type,subType:Un.subType,time:qe.default(),size:xn(Fn,Hn),resTxt:Hn,resHeaders:Sn(Fn),status:Fn.status};ze.default(Mn.reqHeaders)||(Wn.reqHeaders=Mn.reqHeaders),Mn.emit("done",Mn.id,Wn)}),Fn})},On}(Ne.default);function xn(Nn,On){var Dn=Nn.headers.get("Content-length");return Dn?hn.default(Dn):Rn(On)}function Sn(Nn){var On={};return Nn.headers.forEach(function(Dn,Mn){return On[Mn]=Dn}),On}function Cn(Nn){var On=Nn.getAllResponseHeaders().split("\n"),Dn={};return En.default(On,function(Mn){if((Mn=Ve.default(Mn))!==""){var Bn=Mn.split(":",2),$n=Bn[0],Fn=Bn[1];Dn[$n]=Ve.default(Fn)}}),Dn}function Tn(Nn,On,Dn){var Mn=0;function Bn(){if(!On){var $n=Nn.responseType,Fn="";$n!==""&&$n!=="text"||(Fn=Nn.responseText),Fn&&(Mn=Rn(Fn))}}if(function($n){return!vn.default($n,In)}(Dn))Bn();else try{Mn=hn.default(Nn.getResponseHeader("Content-Length"))}catch($n){Bn()}return Mn===0&&Bn(),Mn}pe.FetchRequest=An;var wn=document.createElement("a");function Ln(Nn){return wn.href=Nn,wn.protocol+"//"+wn.host+wn.pathname+wn.search+wn.hash}function Pn(Nn){var On=Ue.default(Nn.split("/"));return On.indexOf("?")>-1&&(On=Ve.default(On.split("?")[0])),On===""&&(On=new $e.default(Nn).hostname),On}function kn(Nn){if(!Nn)return{type:"unknown",subType:"unknown"};var On=Nn.split(";")[0].split("/");return{type:On[0],subType:Ue.default(On)}}pe.fullUrl=Ln;var In=window.location.origin;function Rn(Nn){var On=encodeURIComponent(Nn).match(/%[89ABab]/g);return Nn.length+(On?On.length:0)}},316:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(An,xn){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Sn,Cn){Sn.__proto__=Cn}||function(Sn,Cn){for(var Tn in Cn)Cn.hasOwnProperty(Tn)&&(Sn[Tn]=Cn[Tn])},Ce(An,xn)},function(An,xn){function Sn(){this.constructor=An}Ce(An,xn),An.prototype=xn===null?Object.create(xn):(Sn.prototype=xn.prototype,new Sn)}),Oe=this&&this.__awaiter||function(An,xn,Sn,Cn){return new(Sn||(Sn=Promise))(function(Tn,wn){function Ln(In){try{kn(Cn.next(In))}catch(Rn){wn(Rn)}}function Pn(In){try{kn(Cn.throw(In))}catch(Rn){wn(Rn)}}function kn(In){var Rn;In.done?Tn(In.value):(Rn=In.value,Rn instanceof Sn?Rn:new Sn(function(Nn){Nn(Rn)})).then(Ln,Pn)}kn((Cn=Cn.apply(An,xn||[])).next())})},Ne=this&&this.__generator||function(An,xn){var Sn,Cn,Tn,wn,Ln={label:0,sent:function(){if(1&Tn[0])throw Tn[1];return Tn[1]},trys:[],ops:[]};return wn={next:Pn(0),throw:Pn(1),return:Pn(2)},typeof Symbol=="function"&&(wn[Symbol.iterator]=function(){return this}),wn;function Pn(kn){return function(In){return function(Rn){if(Sn)throw new TypeError("Generator is already executing.");for(;Ln;)try{if(Sn=1,Cn&&(Tn=2&Rn[0]?Cn.return:Rn[0]?Cn.throw||((Tn=Cn.return)&&Tn.call(Cn),0):Cn.next)&&!(Tn=Tn.call(Cn,Rn[1])).done)return Tn;switch(Cn=0,Tn&&(Rn=[2&Rn[0],Tn.value]),Rn[0]){case 0:case 1:Tn=Rn;break;case 4:return Ln.label++,{value:Rn[1],done:!1};case 5:Ln.label++,Cn=Rn[1],Rn=[0];continue;case 7:Rn=Ln.ops.pop(),Ln.trys.pop();continue;default:if(Tn=Ln.trys,!((Tn=Tn.length>0&&Tn[Tn.length-1])||Rn[0]!==6&&Rn[0]!==2)){Ln=0;continue}if(Rn[0]===3&&(!Tn||Rn[1]>Tn[0]&&Rn[1]<Tn[3])){Ln.label=Rn[1];break}if(Rn[0]===6&&Ln.label<Tn[1]){Ln.label=Tn[1],Tn=Rn;break}if(Tn&&Ln.label<Tn[2]){Ln.label=Tn[2],Ln.ops.push(Rn);break}Tn[2]&&Ln.ops.pop(),Ln.trys.pop();continue}Rn=xn.call(An,Ln)}catch(Nn){Rn=[6,Nn],Cn=0}finally{Sn=Tn=0}if(5&Rn[0])throw Rn[1];return{value:Rn[0]?Rn[1]:void 0,done:!0}}([kn,In])}}},Fe=this&&this.__importDefault||function(An){return An&&An.__esModule?An:{default:An}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.getBase64Content=pe.getTextContent=pe.getOrigin=pe.getUrl=pe.createErr=pe.ErrorWithCode=pe.getAbsoluteUrl=pe.createId=void 0;var Ue=Fe(_e(5229)),$e=Fe(_e(1216)),ze=Fe(_e(6930)),Ve=Fe(_e(6334)),qe=Fe(_e(1792)),En=Fe(_e(6610)),vn=$e.default(1e3,9999)+".";pe.createId=function(){return Ue.default(vn)},pe.getAbsoluteUrl=function(An){var xn=document.createElement("a");return xn.href=An,xn.href};var hn=function(An){function xn(Sn,Cn){var Tn=this.constructor,wn=An.call(this,Cn)||this;return wn.code=Sn,Object.setPrototypeOf(wn,Tn.prototype),wn}return Ie(xn,An),xn}(Error);function _n(An,xn,Sn){return Sn===void 0&&(Sn=""),Oe(this,void 0,void 0,function(){var Cn;return Ne(this,function(Tn){switch(Tn.label){case 0:return Tn.trys.push([0,2,,8]),(Cn=new Ve.default(An)).setQuery("__chobitsu-hide__","true"),[4,En.default.get(Cn.toString(),{responseType:xn})];case 1:return[2,Tn.sent().data];case 2:if(Tn.sent(),!Sn)return[3,7];Tn.label=3;case 3:return Tn.trys.push([3,6,,7]),[4,En.default.get(bn(Sn,An),{responseType:xn})];case 4:return[4,Tn.sent().data];case 5:return[2,Tn.sent()];case 6:return Tn.sent(),[3,7];case 7:return[3,8];case 8:return[2,xn==="arraybuffer"?new ArrayBuffer(0):""]}})})}function bn(An,xn){var Sn=new Ve.default(An);return Sn.setQuery("url",xn),Sn.setQuery("__chobitsu-hide__","true"),Sn.toString()}pe.ErrorWithCode=hn,pe.createErr=function(An,xn){return new hn(An,xn)},pe.getUrl=function(){var An=location.href;return ze.default(An,"about:")?parent.location.href:An},pe.getOrigin=function(){var An=location.origin;return An==="null"?parent.location.origin:An},pe.getTextContent=function(An,xn){return xn===void 0&&(xn=""),Oe(this,void 0,void 0,function(){return Ne(this,function(Sn){switch(Sn.label){case 0:return[4,_n(An,"text",xn)];case 1:return[2,Sn.sent()]}})})},pe.getBase64Content=function(An,xn){return xn===void 0&&(xn=""),Oe(this,void 0,void 0,function(){var Sn;return Ne(this,function(Cn){switch(Cn.label){case 0:return Sn=qe.default,[4,_n(An,"arraybuffer",xn)];case 1:return[2,Sn.apply(void 0,[Cn.sent(),"base64"])]}})})}},3191:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_console{padding-top:40px;padding-bottom:24px;width:100%;height:100%}#_console._js-input-hidden{padding-bottom:0}#_console ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px 10px 10px 35px}#_console ._control [class*=' _icon-'],#_console ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_console ._control [class*=' _icon-']._active,#_console ._control [class*=' _icon-']:active,#_console ._control [class^='_icon-']._active,#_console ._control [class^='_icon-']:active{color:var(--accent)}#_console ._control ._icon-clear{padding-right:0;left:0}#_console ._control ._icon-copy{right:0}#_console ._control ._icon-filter{right:23px}#_console ._control ._level{cursor:pointer;font-size:12px;height:20px;display:inline-block;margin:0 2px;padding:0 4px;line-height:20px;transition:background-color .3s,color .3s}#_console ._control ._level._active{background:var(--highlight);color:var(--select-foreground)}#_console ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:55px;font-size:14px;text-overflow:ellipsis}#_console ._js-input{pointer-events:none;position:absolute;z-index:100;left:0;bottom:0;width:100%;border-top:1px solid var(--border);height:24px}#_console ._js-input ._icon-arrow-right{line-height:23px;color:var(--accent);position:absolute;left:10px;top:0;z-index:10}#_console ._js-input._active{height:100%;padding-top:40px;padding-bottom:40px;border-top:none}#_console ._js-input._active ._icon-arrow-right{display:none}#_console ._js-input._active textarea{overflow:auto;padding-left:10px}#_console ._js-input ._buttons{display:none;position:absolute;left:0;bottom:0;width:100%;height:40px;color:var(--primary);background:var(--darker-background);font-size:12px;border-top:1px solid var(--border)}#_console ._js-input ._buttons ._button{pointer-events:all;cursor:pointer;flex:1;text-align:center;border-right:1px solid var(--border);height:40px;line-height:40px;transition:background-color .3s,color .3s}#_console ._js-input ._buttons ._button:last-child{border-right:none}#_console ._js-input ._buttons ._button:active{color:var(--select-foreground);background:var(--highlight)}#_console ._js-input textarea{overflow:hidden;pointer-events:all;padding:3px 10px;padding-left:25px;outline:0;border:none;font-size:14px;width:100%;height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;resize:none;color:var(--primary);background:var(--background)}._safe-area #_console{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console._js-input-hidden{padding-bottom:0}._safe-area #_console ._js-input{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input._active{height:100%;padding-bottom:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons{height:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons ._button{height:calc(40px + env(safe-area-inset-bottom))}",""]),xe.exports=pe},13:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"._dev-tools{position:absolute;width:100%;height:100%;left:0;bottom:0;background:var(--background);z-index:500;display:none;padding-top:40px!important;opacity:0;transition:opacity .3s;border-top:1px solid var(--border)}._dev-tools ._resizer{position:absolute;width:100%;touch-action:none;left:0;top:-8px;cursor:row-resize;z-index:120}._dev-tools ._tools{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;width:100%;position:relative}._dev-tools ._tools ._tool{position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;display:none}",""]),xe.exports=pe},5896:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_elements ._elements{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:40px;padding-bottom:24px;font-size:14px}#_elements ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px 0}#_elements ._control [class*=' _icon-'],#_elements ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_elements ._control [class*=' _icon-']._active,#_elements ._control [class*=' _icon-']:active,#_elements ._control [class^='_icon-']._active,#_elements ._control [class^='_icon-']:active{color:var(--accent)}#_elements ._control ._icon-eye{right:0}#_elements ._control ._icon-copy{right:23px}#_elements ._control ._icon-delete{right:46px}#_elements ._dom-viewer-container{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;padding:5px 0}#_elements ._crumbs{position:absolute;width:100%;height:24px;left:0;top:0;top:initial;line-height:24px;bottom:0;border-top:1px solid var(--border);background:var(--darker-background);color:var(--primary);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#_elements ._crumbs li{cursor:pointer;padding:0 7px;display:inline-block}#_elements ._crumbs li:hover,#_elements ._crumbs li:last-child{background:var(--highlight)}#_elements ._crumbs ._icon-arrow-right{font-size:12px;position:relative;top:1px}#_elements ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;padding-top:40px;display:none;background:var(--background)}#_elements ._detail ._control{padding:10px 35px}#_elements ._detail ._control ._element-name{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_elements ._detail ._control ._icon-arrow-left{left:0}#_elements ._detail ._control ._icon-refresh{right:0}#_elements ._detail ._element{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_elements ._section{border-bottom:1px solid var(--border);color:var(--foreground);margin:10px 0}#_elements ._section h2{color:var(--primary);background:var(--darker-background);border-top:1px solid var(--border);padding:10px;line-height:18px;font-size:14px;transition:background-color .3s}#_elements ._section h2 ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_elements ._section h2 ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_elements ._section h2 ._btn:active{color:var(--accent)}#_elements ._section h2 ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_elements ._section h2 ._btn._btn-disabled *{pointer-events:none}#_elements ._section h2._active-effect{cursor:pointer}#_elements ._section h2._active-effect:active{background:var(--highlight);color:var(--select-foreground)}#_elements ._attributes{font-size:12px}#_elements ._attributes a{color:var(--link-color)}#_elements ._attributes ._table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}#_elements ._attributes table td{padding:5px 10px}#_elements ._text-content{background:#fff}#_elements ._text-content ._content{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px}#_elements ._style-color{position:relative;top:1px;width:10px;height:10px;border-radius:50%;margin-right:2px;border:1px solid var(--border);display:inline-block}#_elements ._box-model{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;text-align:center;border-bottom:1px solid var(--color)}#_elements ._computed-style{font-size:12px}#_elements ._computed-style a{color:var(--link-color)}#_elements ._computed-style ._table-wrapper{overflow-y:auto;-webkit-overflow-scrolling:touch;max-height:200px;border-top:1px solid var(--border)}#_elements ._computed-style table td{padding:5px 10px}#_elements ._computed-style table td._key{white-space:nowrap;color:var(--var-color)}#_elements ._styles{font-size:12px}#_elements ._styles ._style-wrapper{padding:10px}#_elements ._styles ._style-wrapper ._style-rules{border:1px solid var(--border);padding:10px;margin-bottom:10px}#_elements ._styles ._style-wrapper ._style-rules ._rule{padding-left:2em;word-break:break-all}#_elements ._styles ._style-wrapper ._style-rules ._rule a{color:var(--link-color)}#_elements ._styles ._style-wrapper ._style-rules ._rule span{color:var(--var-color)}#_elements ._styles ._style-wrapper ._style-rules:last-child{margin-bottom:0}#_elements ._listeners{font-size:12px}#_elements ._listeners ._listener-wrapper{padding:10px}#_elements ._listeners ._listener-wrapper ._listener{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_elements ._listeners ._listener-wrapper ._listener ._listener-type{padding:10px;background:var(--darker-background);color:var(--primary)}#_elements ._listeners ._listener-wrapper ._listener ._listener-content li{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;border-top:none}._safe-area #_elements ._elements{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._crumbs{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._element{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_elements ._elements{width:50%}#_elements ._elements ._control ._icon-eye{display:none}#_elements ._elements ._control ._icon-copy{right:0}#_elements ._elements ._control ._icon-delete{right:23px}#_elements ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_elements ._detail ._control{padding-left:10px}#_elements ._detail ._control ._icon-arrow-left{display:none}}",""]),xe.exports=pe},9195:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"._container ._entry-btn{touch-action:none;width:40px;height:40px;display:flex;background:#000;opacity:.3;border-radius:10px;position:relative;z-index:1000;transition:opacity .3s;color:#fff;font-size:25px;align-items:center;justify-content:center}._container ._entry-btn._active,._container ._entry-btn:active{opacity:.8}",""]),xe.exports=pe},879:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_info{overflow-y:auto;-webkit-overflow-scrolling:touch}#_info li{margin:10px;border:1px solid var(--border)}#_info li ._content,#_info li ._title{padding:10px}#_info li ._title{position:relative;padding-bottom:0;color:var(--accent)}#_info li ._title ._icon-copy{position:absolute;right:10px;top:14px;color:var(--primary);cursor:pointer;transition:color .3s}#_info li ._title ._icon-copy:active{color:var(--accent)}#_info li ._content{margin:0;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;color:var(--foreground);font-size:12px;word-break:break-all}#_info li ._content table{width:100%;border-collapse:collapse}#_info li ._content table td,#_info li ._content table th{border:1px solid var(--border);padding:10px}#_info li ._content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_info li ._content a{color:var(--link-color)}#_info li ._device-key,#_info li ._system-key{width:100px}._safe-area #_info{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),xe.exports=pe},3180:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_network ._network{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:39px}#_network ._control{position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border);padding:10px;border-bottom:none}#_network ._control [class*=' _icon-'],#_network ._control [class^='_icon-']{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_network ._control [class*=' _icon-']._active,#_network ._control [class*=' _icon-']:active,#_network ._control [class^='_icon-']._active,#_network ._control [class^='_icon-']:active{color:var(--accent)}#_network ._control ._title{font-size:14px}#_network ._control ._icon-clear{left:23px}#_network ._control ._icon-eye{right:0}#_network ._control ._icon-copy{right:23px}#_network ._control ._icon-filter{right:46px}#_network ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:88px;font-size:14px;text-overflow:ellipsis}#_network ._control ._icon-record{left:0}#_network ._control ._icon-record._recording{color:var(--console-error-foreground);text-shadow:0 0 4px var(--console-error-foreground)}#_network ._request-error{color:var(--console-error-foreground)}#_network .luna-data-grid:focus .luna-data-grid-data-container ._request-error.luna-data-grid-selected{background:var(--console-error-background)}#_network .luna-data-grid{border-left:none;border-right:none}#_network ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;display:none;padding-top:40px;background:var(--background)}#_network ._detail ._control{padding:10px 35px;border-bottom:1px solid var(--border)}#_network ._detail ._control ._url{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_network ._detail ._control ._icon-arrow-left{left:0}#_network ._detail ._control ._icon-delete{left:0;display:none}#_network ._detail ._control ._icon-copy{right:0}#_network ._detail ._http{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_network ._detail ._http ._section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-top:10px;margin-bottom:10px}#_network ._detail ._http ._section h2{background:var(--darker-background);color:var(--primary);padding:10px;line-height:18px;font-size:14px}#_network ._detail ._http ._section table{color:var(--foreground)}#_network ._detail ._http ._section table *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_network ._detail ._http ._section table td{font-size:12px;padding:5px 10px;word-break:break-all}#_network ._detail ._http ._section table ._key{white-space:nowrap;font-weight:700;color:var(--accent)}#_network ._detail ._http ._data,#_network ._detail ._http ._response{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:12px;margin:10px 0;white-space:pre-wrap;border-top:1px solid var(--border);color:var(--foreground);border-bottom:1px solid var(--border)}._safe-area #_network ._http{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_network ._network ._control ._icon-eye{display:none}#_network ._network ._control ._icon-copy{right:0}#_network ._network ._control ._icon-filter{right:23px}#_network ._network ._control ._filter-text{right:55px}#_network ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_network ._detail ._control ._icon-arrow-left{display:none}#_network ._detail ._control ._icon-delete{display:block}}",""]),xe.exports=pe},2488:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_resources{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:14px}#_resources ._section{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_resources ._section._warn{border:1px solid var(--console-warn-border)}#_resources ._section._warn ._title{background:var(--console-warn-background);color:var(--console-warn-foreground)}#_resources ._section._danger{border:1px solid var(--console-error-border)}#_resources ._section._danger ._title{background:var(--console-error-background);color:var(--console-error-foreground)}#_resources ._section._cookie,#_resources ._section._local-storage,#_resources ._section._session-storage{border:none}#_resources ._section._cookie ._title,#_resources ._section._local-storage ._title,#_resources ._section._session-storage ._title{border:1px solid var(--border);border-bottom:none}#_resources ._title{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background)}#_resources ._title ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_resources ._title ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_resources ._title ._btn:active{color:var(--accent)}#_resources ._title ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_resources ._title ._btn._btn-disabled *{pointer-events:none}#_resources ._link-list{font-size:12px;color:var(--foreground)}#_resources ._link-list li{padding:10px;word-break:break-all}#_resources ._link-list li a{color:var(--link-color)!important}#_resources ._image-list{color:var(--foreground);font-size:12px;display:flex;flex-wrap:wrap;padding:10px!important}#_resources ._image-list:after{content:'';display:block;clear:both}#_resources ._image-list li{flex-grow:1;cursor:pointer;overflow-y:hidden}#_resources ._image-list li._image{height:100px;font-size:0}#_resources ._image-list li img{height:100px;min-width:100%;-o-object-fit:cover;object-fit:cover}._safe-area #_resources{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),xe.exports=pe},8011:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_settings{overflow-y:auto;-webkit-overflow-scrolling:touch}._safe-area #_settings{padding-bottom:calc(0px + env(safe-area-inset-bottom))}",""]),xe.exports=pe},5571:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_snippets{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px}#_snippets ._section{margin-bottom:10px;border:1px solid var(--border);overflow:hidden;cursor:pointer}#_snippets ._section:active ._name{background:var(--highlight);color:var(--select-foreground)}#_snippets ._section ._name{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background);transition:background-color .3s}#_snippets ._section ._name ._btn{margin-left:10px;float:right;text-align:center;width:18px;height:18px;font-size:12px}#_snippets ._section ._description{font-size:12px;color:var(--foreground);padding:10px;transition:background-color .3s}._safe-area #_snippets{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),xe.exports=pe},7346:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"._search-highlight-block{display:inline}._search-highlight-block ._keyword{background:var(--console-warn-background);color:var(--console-warn-foreground)}",""]),xe.exports=pe},1344:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"#_sources{font-size:0;overflow-y:auto;-webkit-overflow-scrolling:touch;color:var(--foreground)}#_sources ._code-wrapper,#_sources ._raw-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;min-height:100%}#_sources ._code,#_sources ._raw{height:100%}#_sources ._code ._keyword,#_sources ._raw ._keyword{color:var(--keyword-color)}#_sources ._code ._comment,#_sources ._raw ._comment{color:var(--comment-color)}#_sources ._code ._number,#_sources ._raw ._number{color:var(--number-color)}#_sources ._code ._string,#_sources ._raw ._string{color:var(--string-color)}#_sources ._code ._operator,#_sources ._raw ._operator{color:var(--operator-color)}#_sources ._code[data-type=html] ._keyword,#_sources ._raw[data-type=html] ._keyword{color:var(--tag-name-color)}#_sources ._image{font-size:12px}#_sources ._image ._breadcrumb{background:var(--darker-background);color:var(--primary);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-bottom:10px;word-break:break-all;padding:10px;font-size:16px;min-height:40px;border-bottom:1px solid var(--border)}#_sources ._image ._img-container{text-align:center}#_sources ._image ._img-container img{max-width:100%}#_sources ._image ._img-info{text-align:center;margin:20px 0;color:var(--foreground)}#_sources ._json{padding:0 10px}#_sources ._json *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_sources iframe{width:100%;height:100%}",""]),xe.exports=pe},8020:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"._container a,._container abbr,._container acronym,._container address,._container applet,._container article,._container aside,._container audio,._container b,._container big,._container blockquote,._container canvas,._container caption,._container center,._container cite,._container code,._container dd,._container del,._container details,._container dfn,._container dl,._container dt,._container em,._container embed,._container fieldset,._container figcaption,._container figure,._container footer,._container form,._container h1,._container h2,._container h3,._container h4,._container h5,._container h6,._container header,._container hgroup,._container i,._container iframe,._container img,._container ins,._container kbd,._container label,._container legend,._container li,._container mark,._container menu,._container nav,._container object,._container ol,._container output,._container p,._container pre,._container q,._container ruby,._container s,._container samp,._container section,._container small,._container span,._container strike,._container strong,._container sub,._container summary,._container sup,._container table,._container tbody,._container td,._container tfoot,._container th,._container thead,._container time,._container tr,._container tt,._container u,._container ul,._container var,._container video{margin:0;padding:0;border:0;font-size:100%}._container article,._container aside,._container details,._container figcaption,._container figure,._container footer,._container header,._container hgroup,._container menu,._container nav,._container section{display:block}._container body{line-height:1}._container ol,._container ul{list-style:none}._container blockquote,._container q{quotes:none}._container blockquote:after,._container blockquote:before,._container q:after,._container q:before{content:'';content:none}._container table{border-collapse:collapse;border-spacing:0}",""]),xe.exports=pe},8516:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,'.luna-console{background:var(--background)}.luna-console-header{color:var(--link-color);border-bottom-color:var(--border)}.luna-console-nesting-level{border-right-color:var(--border)}.luna-console-nesting-level::before{border-bottom-color:var(--border)}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:var(--contrast)}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:var(--border)}.luna-console-log-item{border-bottom-color:var(--border);color:var(--foreground)}.luna-console-log-item a{color:var(--link-color)!important}.luna-console-log-item .luna-console-icon-container .luna-console-icon{color:var(--foreground)}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{color:#e8a400}.luna-console-log-item .luna-console-count{color:var(--select-foreground);background:var(--highlight)}.luna-console-log-item.luna-console-warn{color:var(--console-warn-foreground);background:var(--console-warn-background);border-color:var(--console-warn-border)}.luna-console-log-item.luna-console-error{background:var(--console-error-background);color:var(--console-error-foreground);border-color:var(--console-error-border)}.luna-console-log-item.luna-console-error .luna-console-count{background:var(--console-error-foreground)}.luna-console-log-item .luna-console-code .luna-console-key{color:var(--var-color)}.luna-console-log-item .luna-console-code .luna-console-number{color:var(--number-color)}.luna-console-log-item .luna-console-code .luna-console-null{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-string{color:var(--string-color)}.luna-console-log-item .luna-console-code .luna-console-boolean{color:var(--keyword-color)}.luna-console-log-item .luna-console-code .luna-console-special{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-keyword{color:var(--keyword-color)}.luna-console-log-item .luna-console-code .luna-console-operator{color:var(--operator-color)}.luna-console-log-item .luna-console-code .luna-console-comment{color:var(--comment-color)}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:var(--operator-color)}.luna-console-log-item .luna-console-log-content .luna-console-number{color:var(--number-color)}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:var(--keyword-color)}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:var(--var-color)}.luna-console-preview .luna-console-key{color:var(--var-color)}.luna-console-preview .luna-console-number{color:var(--number-color)}.luna-console-preview .luna-console-null{color:var(--operator-color)}.luna-console-preview .luna-console-string{color:var(--string-color)}.luna-console-preview .luna-console-boolean{color:var(--keyword-color)}.luna-console-preview .luna-console-special{color:var(--operator-color)}.luna-console-preview .luna-console-keyword{color:var(--keyword-color)}.luna-console-preview .luna-console-operator{color:var(--operator-color)}.luna-console-preview .luna-console-comment{color:var(--comment-color)}.luna-object-viewer{color:var(--primary);font-size:12px!important}.luna-object-viewer-null{color:var(--operator-color)}.luna-object-viewer-regexp,.luna-object-viewer-string{color:var(--string-color)}.luna-object-viewer-number{color:var(--number-color)}.luna-object-viewer-boolean{color:var(--keyword-color)}.luna-object-viewer-special{color:var(--operator-color)}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:var(--var-color)}.luna-object-viewer-expanded:before{border-color:transparent;border-top-color:var(--foreground)}.luna-object-viewer-collapsed:before{border-top-color:transparent;border-left-color:var(--foreground)}.luna-notification{pointer-events:none!important;padding:10px;z-index:1000}.luna-notification-item{z-index:500;color:var(--foreground);background:var(--background);box-shadow:none;padding:5px 10px;border:1px solid var(--border)}.luna-notification-upper{margin-bottom:10px}.luna-notification-lower{margin-top:10px}.luna-data-grid{color:var(--foreground);background:var(--background);border-color:var(--border)}.luna-data-grid:focus .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--accent)}.luna-data-grid td,.luna-data-grid th{border-color:var(--border)}.luna-data-grid th{background:var(--darker-background)}.luna-data-grid th.luna-data-grid-sortable:active,.luna-data-grid th.luna-data-grid-sortable:hover{color:var(--select-foreground);background:var(--highlight)}.luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--highlight)}.luna-data-grid .luna-data-grid-data-container tr:nth-child(even){background:var(--contrast)}.luna-dom-viewer{color:var(--foreground)}.luna-dom-viewer .luna-dom-viewer-html-tag,.luna-dom-viewer .luna-dom-viewer-tag-name{color:var(--tag-name-color)}.luna-dom-viewer .luna-dom-viewer-attribute-name{color:var(--attribute-name-color)}.luna-dom-viewer .luna-dom-viewer-attribute-value{color:var(--string-color)}.luna-dom-viewer .luna-dom-viewer-html-comment{color:var(--comment-color)}.luna-dom-viewer .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:var(--contrast)}.luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:var(--highlight)}.luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:var(--accent);opacity:.2}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-key{color:var(--var-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-number{color:var(--number-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-null{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-string{color:var(--string-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-boolean{color:var(--keyword-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-special{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:var(--keyword-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:var(--operator-color)}.luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:var(--comment-color)}.luna-dom-viewer-children{margin:0;padding-left:15px!important}.luna-modal{z-index:9999999}.luna-modal-body,.luna-modal-input{color:var(--foreground);background:var(--background)}.luna-modal-input{-webkit-user-select:text!important;-moz-user-select:text!important;-ms-user-select:text!important;user-select:text!important;border-color:var(--border)}.luna-modal-button-group .luna-modal-secondary{border-color:var(--border);color:var(--foreground);background:var(--background)}.luna-modal-button-group .luna-modal-primary{background:var(--accent)}.luna-modal-button-group .luna-modal-button:active::before{background:var(--accent)}.luna-tab{position:absolute;left:0;top:0;color:var(--foreground);background:var(--darker-background)}.luna-tab-tabs-container{border-color:var(--border)}.luna-tab-item.luna-tab-selected,.luna-tab-item:hover{background:var(--highlight);color:var(--select-foreground)}.luna-tab-slider{background:var(--accent)}.luna-text-viewer{color:var(--foreground);border:none;border-bottom:1px solid var(--border);background:var(--background);font-size:12px}.luna-text-viewer .luna-text-viewer-line-text{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-text-viewer .luna-text-viewer-line-text *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-text-viewer .luna-text-viewer-copy,.luna-text-viewer .luna-text-viewer-line-number{border-color:var(--border)}.luna-text-viewer .luna-text-viewer-copy .luna-text-viewer-icon-check{color:var(--accent)}.luna-text-viewer .luna-text-viewer-copy{background-color:var(--background)}.luna-setting{color:var(--foreground);background:var(--background)}.luna-setting-item.luna-setting-selected,.luna-setting-item:hover{background:var(--darker-background)}.luna-setting-item.luna-setting-selected:focus{outline:0}.luna-setting-item-title{font-size:14px}.luna-setting-item-separator{border-color:var(--border)}.luna-setting-item-checkbox input{border-color:var(--border)}.luna-setting-item-checkbox input:checked{background-color:var(--accent);border-color:var(--accent)}.luna-setting-item-select .luna-setting-select select{color:var(--foreground);border-color:var(--border);background:var(--background)}.luna-setting-item-select .luna-setting-select:after{border-top-color:var(--foreground)}.luna-setting-item-button button{color:var(--accent);background:var(--background);border-color:var(--border)}.luna-setting-item-button button:active,.luna-setting-item-button button:hover{background:var(--darker-background)}.luna-setting-item-button button:active{border:1px solid var(--accent)}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:var(--border)}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background:var(--accent)}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:var(--border);background:radial-gradient(circle at center,var(--dark) 0,var(--dark) 15%,var(--light) 22%,var(--light) 100%)}.luna-box-model{background:0 0}.luna-box-model-position{color:var(--foreground)}._container{min-width:320px;pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999999;color:var(--foreground);font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande","Segoe UI",Tahoma,sans-serif;font-size:14px;direction:ltr}._container._dark{color-scheme:dark}._container *{box-sizing:border-box;pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}._container ul{list-style:none;padding:0;margin:0}._container h1,._container h2,._container h3,._container h4{margin:0}._container h2{font-size:14px}._container h2 [class*=\' _icon-\'],._container h2 [class^=\'_icon-\']{font-weight:400}._hidden{display:none}._icon-disabled{opacity:.5;pointer-events:none;cursor:default!important}._icon-disabled:active{color:inherit!important}._tag-name-color{color:var(--tag-name-color)}._function-color{color:var(--function-color)}._attribute-name-color{color:var(--attribute-name-color)}._operator-color{color:var(--operator-color)}._string-color{color:var(--string-color)}',""]),xe.exports=pe},6833:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,".luna-box-model{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;display:inline-block;color:#222;font-size:12px;text-align:center;white-space:nowrap}.luna-box-model.luna-box-model-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-box-model.luna-box-model-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-box-model .luna-box-model-hidden,.luna-box-model.luna-box-model-hidden{display:none}.luna-box-model .luna-box-model-invisible,.luna-box-model.luna-box-model-invisible{visibility:hidden}.luna-box-model *{box-sizing:border-box}.luna-box-model.luna-box-model-theme-dark{color:#a5a5a5;background-color:#242424}.luna-box-model-label{position:absolute;margin-left:3px;padding:0 2px}.luna-box-model-bottom,.luna-box-model-left,.luna-box-model-right,.luna-box-model-top{display:inline-block}.luna-box-model-left,.luna-box-model-right{vertical-align:middle}.luna-box-model-border,.luna-box-model-content,.luna-box-model-margin,.luna-box-model-padding,.luna-box-model-position{position:relative;display:inline-block;text-align:center;vertical-align:middle;padding:3px;margin:3px}.luna-box-model-position{border:1px grey dotted}.luna-box-model-margin{color:#333;border:1px dashed;background:rgba(246,178,107,.66)}.luna-box-model-border{color:#333;border:1px #000 solid;background:rgba(255,229,153,.66)}.luna-box-model-padding{color:#333;border:1px grey dashed;background:rgba(147,196,125,.55)}.luna-box-model-content{color:#333;border:1px grey solid;min-width:100px;background:rgba(111,168,220,.66)}",""]),xe.exports=pe},9327:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"@font-face{font-family:luna-console-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAACnAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAI4AAADcIsYnIk9TLzIAAAGYAAAAPgAAAFZWmlGRY21hcAAAAdgAAAD2AAACyDioZ9NnbHlmAAAC0AAAAZgAAAH8Lq6nDGhlYWQAAARoAAAAMQAAADZ25cSzaGhlYQAABJwAAAAdAAAAJAgCBBRobXR4AAAEvAAAABkAAABYGAH//GxvY2EAAATYAAAAGAAAAC4J8glUbWF4cAAABPAAAAAfAAAAIAEjAFBuYW1lAAAFEAAAASkAAAIWm5e+CnBvc3QAAAY8AAAAcAAAAJ7qA/7MeJxNjTsOwjAQRJ8TJzE2hPBrKBBHQByAAiGqFBRcIBVCiqhyBA7O2AgRr9Y7M2+lxQCeAyeyy7W9U/fd8GKL5fsiH2vTPx8d7ufEbJpO/aagYc+RM7fEjBKnmiRuySmZUTNNf0wybYSRj9VoO4iU7NQh+Up8qelZs5EupP75Shfm2oz3Kmkvt/gARcgJKwAAeJxjYGQUZ5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHGHQ/srGAuDEsTGBhRhABALQ1CMwAAHiczdJNbsIwEIbh1+QHQsJviNRFF1XX7aEQRZQNRQjEHXqgrnopn4B+E8+qqip117GeRB4nk4lloAAyeZIcwicBiw9lQ5/PGPf5nHfNV8yVyXlmzZY9R05cuMbydtOqZTfsOCh7Vjb02e8RVMXGHfc8aDxqwFKVF7QMtdLpmzUVDSOmTJjpnUH/3YJSBcofqv4Wyz8+b6FuWvXSjW1SV30r1sl/icYuofFZh+1+Yn+7dnPZuIW8uFa2big7t5JXZzX3znbh4Gp5c5UcnfVyciM5u6lc3ESuTnsZQ2JnLQ4S7J4ldjZjntj5jEVi5zaWCeUXWN4q9AAAeJxdUMFOU0EUnTMzb2o1FB5O5wENg31k5mExVEo7jSGBEuO6CStDmtbIBuiKBYg/gRu/ABO3/ocscOEXsHBpogtWvFfnvQgxJnduztx7zknuIXQyIYSDE9IgLwmBmIZI1pDYbTSxBqeW4KvrVKSmaaRKFZREE7YJIyONSLW6W37bLiRxscXNTH1zbnFqlnJ5Eu+G9MnT8JBy9l69ELx69Ohd9JCryrwcU07TbCU5H4y+jQbnyco/EF+8x1/eaX03bCzR8IgGwVn0WC/I8YOzaLGS+4+p4K8O/lcXkPhj/CP0ig1JQIhJyugCxz3o7LqH4YUH0L3swlMK3q+CV/HMbhkJAqlarm1jgd+97DpnfsKPeH15eT2+l9L5OJ/kcjZJfY6MU++wQPzI+PRECUJjo97aAtqupaqhFLHtRLHNf1Kwn9lAOid9L7tV9nzVldNL3dC+NmrGOGM+sme2VrO335Mda3foXlXravY57zemY23HkLs72RsW5JegDjZK99FnPPtwl8FX1i92IfAax6yfvkWf/AHb1F1JeJxjYGRgYABi3/mPYuP5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMAQ2IK+QAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFYgBbLQQgAAAAeJxjYGBgYGH4/58FTIPZf2FsSgAAM58EEwAAAHicY2AAgjyGJoYlDI8YPjD8ww8BeTMTR3icY2BkYGAQY3BhYGYAASYg5gJCBob/YD4DABGFAXQAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxtxksOgjAUQNF3kaIW/x9cBYtqgEAnLXlp0+1rwtQzuVcq2Vj5r6NiR42hYc+BI5aWE2cuXLlx58GTF286PmIm1ajGhzWnJub0S12cBjs4nVI/xhLabdXPS2JCiXgCK5lEwTHQMzKziHwBqnYYpg==') format('woff')}[class*=' luna-console-icon-'],[class^=luna-console-icon-]{display:inline-block;font-family:luna-console-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-console-icon-error:before{content:'\\f101'}.luna-console-icon-input:before{content:'\\f102'}.luna-console-icon-output:before{content:'\\f103'}.luna-console-icon-warn:before{content:'\\f104'}.luna-console-icon-caret-down:before{content:'\\f105'}.luna-console-icon-caret-right:before{content:'\\f106'}.luna-console{background:#fff;overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;position:relative;will-change:scroll-position;cursor:default;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console.luna-console-theme-dark{background-color:#242424}.luna-console-hidden{display:none}.luna-console-fake-logs{position:absolute;left:0;top:0;pointer-events:none;visibility:hidden;width:100%}.luna-console-logs{padding-top:1px;position:absolute;width:100%}.luna-console-log-container{box-sizing:content-box}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:#ecf1f8}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#ccdef5}.luna-console-header{white-space:nowrap;display:flex;font-size:11px;color:#545454;border-top:1px solid transparent;border-bottom:1px solid #ccc}.luna-console-header .luna-console-time-from-container{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:3px 10px}.luna-console-nesting-level{width:14px;flex-shrink:0;margin-top:-1px;margin-bottom:-1px;position:relative;border-right:1px solid #ccc}.luna-console-nesting-level.luna-console-group-closed::before{content:\"\"}.luna-console-nesting-level::before{border-bottom:1px solid #ccc;position:absolute;top:0;left:0;margin-left:100%;width:5px;height:100%;box-sizing:border-box}.luna-console-log-item{position:relative;display:flex;border-top:1px solid transparent;border-bottom:1px solid #ccc;margin-top:-1px;color:#333}.luna-console-log-item:after{content:\"\";display:block;clear:both}.luna-console-log-item .luna-console-code{display:inline;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console-log-item .luna-console-code .luna-console-keyword{color:#881280}.luna-console-log-item .luna-console-code .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-code .luna-console-operator{color:gray}.luna-console-log-item .luna-console-code .luna-console-comment{color:#236e25}.luna-console-log-item .luna-console-code .luna-console-string{color:#1a1aa6}.luna-console-log-item a{color:#15c!important}.luna-console-log-item .luna-console-icon-container{margin:0 -6px 0 10px}.luna-console-log-item .luna-console-icon-container .luna-console-icon{line-height:20px;font-size:12px;color:#333;position:relative}.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-right{top:0;left:-2px}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{top:0;color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{top:0;color:#e8a400}.luna-console-log-item .luna-console-count{background:#8097bd;color:#fff;padding:2px 4px;border-radius:10px;font-size:12px;float:left;margin:1px -6px 0 10px}.luna-console-log-item .luna-console-log-content-wrapper{flex:1;overflow:hidden}.luna-console-log-item .luna-console-log-content{padding:3px 0;margin:0 10px;overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content>*{vertical-align:top}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#5e5e5e}.luna-console-log-item .luna-console-log-content .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:#0d22aa}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#881391}.luna-console-log-item .luna-console-data-grid,.luna-console-log-item .luna-console-dom-viewer{white-space:initial}.luna-console-log-item.luna-console-error{z-index:50;background:#fff0f0;color:red;border-top:1px solid #ffd6d6;border-bottom:1px solid #ffd6d6}.luna-console-log-item.luna-console-error .luna-console-stack{padding-left:1.2em;white-space:nowrap}.luna-console-log-item.luna-console-error .luna-console-count{background:red}.luna-console-log-item.luna-console-debug{z-index:20}.luna-console-log-item.luna-console-input{border-bottom-color:transparent}.luna-console-log-item.luna-console-warn{z-index:40;color:#5c5c00;background:#fffbe5;border-top:1px solid #fff5c2;border-bottom:1px solid #fff5c2}.luna-console-log-item.luna-console-warn .luna-console-count{background:#e8a400}.luna-console-log-item.luna-console-info{z-index:30}.luna-console-log-item.luna-console-group,.luna-console-log-item.luna-console-groupCollapsed{font-weight:700}.luna-console-preview{display:inline-block}.luna-console-preview .luna-console-preview-container{display:flex;align-items:center}.luna-console-preview .luna-console-json{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-left:12px}.luna-console-preview .luna-console-preview-icon-container{display:block}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon{position:relative;font-size:12px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-down{top:2px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-right{top:1px}.luna-console-preview .luna-console-preview-content-container{word-break:break-all}.luna-console-preview .luna-console-descriptor,.luna-console-preview .luna-console-object-preview{font-style:italic}.luna-console-preview .luna-console-key{color:#881391}.luna-console-preview .luna-console-number{color:#1c00cf}.luna-console-preview .luna-console-null{color:#5e5e5e}.luna-console-preview .luna-console-string{color:#c41a16}.luna-console-preview .luna-console-boolean{color:#0d22aa}.luna-console-preview .luna-console-special{color:#5e5e5e}.luna-console-theme-dark{color-scheme:dark}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item{background:#29323d}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#4173b4}.luna-console-theme-dark .luna-console-log-item{color:#a5a5a5;border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-keyword{color:#e36eec}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-operator{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-comment{color:#747474}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-log-item.luna-console-error{background:#290000;color:#ff8080;border-top-color:#5c0000;border-bottom-color:#5c0000}.luna-console-theme-dark .luna-console-log-item.luna-console-error .luna-console-count{background:#ff8080}.luna-console-theme-dark .luna-console-log-item.luna-console-warn{color:#ffcb6b;background:#332a00;border-top-color:#650;border-bottom-color:#650}.luna-console-theme-dark .luna-console-log-item .luna-console-count{background:#42597f;color:#949494}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-boolean,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#e36eec}.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-right{color:#9aa0a6}.luna-console-theme-dark .luna-console-header{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level{border-right-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level::before{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-preview .luna-console-key{color:#e36eec}.luna-console-theme-dark .luna-console-preview .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-null{color:#7f7f7f}.luna-console-theme-dark .luna-console-preview .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-preview .luna-console-boolean{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-special{color:#7f7f7f}",""]),xe.exports=pe},4987:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,'.luna-data-grid{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;position:relative;font-size:12px;border:1px solid #ccc;overflow:hidden;outline:0}.luna-data-grid.luna-data-grid-platform-windows{font-family:"Segoe UI",Tahoma,sans-serif}.luna-data-grid.luna-data-grid-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-data-grid .luna-data-grid-hidden,.luna-data-grid.luna-data-grid-hidden{display:none}.luna-data-grid .luna-data-grid-invisible,.luna-data-grid.luna-data-grid-invisible{visibility:hidden}.luna-data-grid *{box-sizing:border-box}.luna-data-grid.luna-data-grid-theme-dark{color:#a5a5a5;background-color:#242424}.luna-data-grid.luna-data-grid-theme-dark{color:#a5a5a5;background:#242424;border-color:#3d3d3d}.luna-data-grid table{width:100%;height:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}.luna-data-grid td,.luna-data-grid th{padding:1px 4px;border-left:1px solid #ccc;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.luna-data-grid td:first-child,.luna-data-grid th:first-child{border-left:none}.luna-data-grid th{font-weight:400;border-bottom:1px solid #ccc;text-align:left;background:#f3f3f3}.luna-data-grid th.luna-data-grid-sortable:active,.luna-data-grid th.luna-data-grid-sortable:hover{background:#e6e6e6}.luna-data-grid td{height:20px;cursor:default;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-data-grid:focus .luna-data-grid-node.luna-data-grid-selected{color:#fff;background:#1a73e8}.luna-data-grid:focus.luna-data-grid-theme-dark .luna-data-grid-node.luna-data-grid-selected{background:#0e639c}.luna-data-grid-data-container,.luna-data-grid-header-container{overflow:hidden}.luna-data-grid-header-container{height:21px}.luna-data-grid-data-container{overflow-y:auto}.luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:#ddd}.luna-data-grid-data-container tr:nth-child(even){background:#f2f7fd}.luna-data-grid-filler-row td{height:auto}.luna-data-grid-resizer{position:absolute;top:0;bottom:0;width:5px;z-index:500;touch-action:none;cursor:col-resize}.luna-data-grid-resizing{cursor:col-resize!important}.luna-data-grid-resizing .luna-data-grid *{cursor:col-resize!important}.luna-data-grid-theme-dark{color-scheme:dark}.luna-data-grid-theme-dark td,.luna-data-grid-theme-dark th{border-color:#3d3d3d}.luna-data-grid-theme-dark th{background:#292a2d}.luna-data-grid-theme-dark th.luna-data-grid-sortable:hover{background:#303030}.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:#393939}.luna-data-grid-theme-dark .luna-data-grid-data-container tr:nth-child(even){background:#0b2544}',""]),xe.exports=pe},8903:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"@font-face{font-family:luna-dom-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAASgAAsAAAAAB4QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFwAAACMIRYl8k9TLzIAAAFkAAAAPQAAAFZLxUkaY21hcAAAAaQAAADHAAACWBcU1KRnbHlmAAACbAAAAC4AAAAwabU7V2hlYWQAAAKcAAAALwAAADZzjr4faGhlYQAAAswAAAAYAAAAJAFyANdobXR4AAAC5AAAABAAAAA4AZAAAGxvY2EAAAL0AAAAEAAAAB4AnACQbWF4cAAAAwQAAAAfAAAAIAEZAA9uYW1lAAADJAAAASkAAAIWm5e+CnBvc3QAAARQAAAATgAAAG5m1cqleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiC2AdNMDGwMckCSGyzHCuSxA2kuIJ+HgReoggtJnANMcwJFGRmYAXZLBkt4nGNgZJBlnMDAysDAUMfQAyRloHQCAyeDMQMDEwMrMwNWEJDmmsJwgEH3IxPDCSBXCEwyMDCCCABbzwhtAAAAeJy1kksKwjAQhr/0oX0JLlyIZ9BDCQXtRkEEwQO56uV6Av0nmZWI4MIJX2H+JvNIBiiBXGxFAWEkYPaQGqKe00S94C5/xVJKwY49PQNnLly5Tdnzqb9JPXByNUT13YKipLVm4wvmilvR0ilfrboKFsy0N9OB2Yco32z+437SLVTQdo05dUksgF8z/8+6+B3dU2m67YR1u3fsLXtH7egtEq04OhZpcKzbk1OLs2NzcXE0F3rNhOW9ObqbKSRsVqYsQfYC6fYeiQB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOLeSTNM4/ltvjJwM5wACkRxPt7XgKCBYCXDMiDJwcAE4gAAQEgKxAB4nGNgZGBgOMHAACdXMjAyoAI+ADixAkp4nGNgAIITUEwCAABMyAGReJxjYAACHgYJ7BAADsoBLXicY2BkYGDgY2BmANEMDExAzAWEDAz/wXwGAAomASkAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxk0KgCAUAOE3/adlJ/FQgqBuFETw+i2kTd9mRiYZvv4ZJmYWVjZ2Dk4UmosbwyPK1Vq69aVnPbamEBuOSqFj8WQSgUgTeQGPtA2iAAA=') format('woff')}[class*=' luna-dom-viewer-icon-'],[class^=luna-dom-viewer-icon-]{display:inline-block;font-family:luna-dom-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-dom-viewer-icon-arrow-down:before{content:'\\f101'}.luna-dom-viewer-icon-arrow-right:before{content:'\\f102'}.luna-dom-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:0 0;overflow-x:hidden;word-wrap:break-word;padding:0 0 0 12px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;cursor:default;list-style:none}.luna-dom-viewer.luna-dom-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-viewer.luna-dom-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-viewer .luna-dom-viewer-hidden,.luna-dom-viewer.luna-dom-viewer-hidden{display:none}.luna-dom-viewer .luna-dom-viewer-invisible,.luna-dom-viewer.luna-dom-viewer-invisible{visibility:hidden}.luna-dom-viewer *{box-sizing:border-box}.luna-dom-viewer.luna-dom-viewer-theme-dark{color:#a5a5a5;background-color:#242424}.luna-dom-viewer ul{list-style:none}.luna-dom-viewer.luna-dom-viewer-theme-dark{color:#e8eaed}.luna-dom-viewer-toggle{min-width:12px;margin-left:-12px}.luna-dom-viewer-icon-arrow-down,.luna-dom-viewer-icon-arrow-right{position:absolute!important;font-size:12px!important}.luna-dom-viewer-tree-item{line-height:16px;min-height:16px;position:relative;z-index:10;outline:0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection,.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{display:block}.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#f2f7fd}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#e0e0e0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#cfe8fc}.luna-dom-viewer-tree-item .luna-dom-viewer-icon-arrow-down{display:none}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-arrow-down{display:inline-block}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-arrow-right{display:none}.luna-dom-viewer-html-tag{color:#881280}.luna-dom-viewer-tag-name{color:#881280}.luna-dom-viewer-attribute-name{color:#994500}.luna-dom-viewer-attribute-value{color:#1a1aa6}.luna-dom-viewer-attribute-value.luna-dom-viewer-attribute-underline{text-decoration:underline}.luna-dom-viewer-html-comment{color:#236e25}.luna-dom-viewer-selection{position:absolute;display:none;left:-10000px;right:-10000px;top:0;bottom:0;z-index:-1}.luna-dom-viewer-children{margin:0;overflow-x:visible;overflow-y:visible;padding-left:15px}.luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#881280}.luna-dom-viewer-text-node .luna-dom-viewer-number{color:#1c00cf}.luna-dom-viewer-text-node .luna-dom-viewer-operator{color:grey}.luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#236e25}.luna-dom-viewer-text-node .luna-dom-viewer-string{color:#1a1aa6}.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-arrow-down,.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-arrow-right{color:#9aa0a6}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-dark .luna-dom-viewer-tag-name{color:#5db0d7}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-name{color:#9bbbdc}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-value{color:#f29766}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-comment{color:#898989}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#083c69}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#454545}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#073d69}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#e36eec}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#9980ff}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:#7f7f7f}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#747474}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#f29766}",""]),xe.exports=pe},5512:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"@font-face{font-family:luna-modal-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-modal-icon-'],[class^=luna-modal-icon-]{display:inline-block;font-family:luna-modal-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-modal-icon-close:before{content:'\\f101'}.luna-modal{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.luna-modal.luna-modal-platform-windows{font-family:\"Segoe UI\",Tahoma,sans-serif}.luna-modal.luna-modal-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-modal .luna-modal-hidden,.luna-modal.luna-modal-hidden{display:none}.luna-modal .luna-modal-invisible,.luna-modal.luna-modal-invisible{visibility:hidden}.luna-modal *{box-sizing:border-box}.luna-modal.luna-modal-theme-dark{color:#a5a5a5;background-color:#242424}.luna-modal-icon-close{position:absolute;right:16px;top:18px;cursor:pointer;font-size:20px}.luna-modal-body{position:relative;background:#fff;max-height:100%;display:flex;flex-direction:column;border-radius:4px}.luna-modal-body.luna-modal-no-title{position:static}.luna-modal-body.luna-modal-no-title .luna-modal-title{display:none}.luna-modal-body.luna-modal-no-title .luna-modal-icon-close{color:#fff}.luna-modal-body.luna-modal-no-footer .luna-modal-footer{display:none}.luna-modal-hidden{display:none}.luna-modal-title{padding:16px;padding-right:36px;padding-bottom:0;font-size:18px;height:46px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-modal-content{padding:16px;overflow-y:auto}.luna-modal-footer{padding:12px}.luna-modal-button-group{display:flex;justify-content:flex-end}.luna-modal-button{padding:0 12px;background:#e9ecef;cursor:default;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 4px;font-size:12px;border-radius:4px;overflow:hidden;height:28px;line-height:28px}.luna-modal-button:active::before{background:#1a73e8;content:\"\";opacity:.4;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.luna-modal-button.luna-modal-secondary{color:#1a73e8;border:1px solid #ccc;background:#fff}.luna-modal-button.luna-modal-primary{color:#fff;background:#1a73e8}.luna-modal-input{box-sizing:border-box;outline:0;width:100%;font-size:16px;padding:6px 12px;border:1px solid #ccc;-webkit-appearance:none;-moz-appearance:none}.luna-modal-theme-dark{color:#a5a5a5}.luna-modal-theme-dark .luna-modal-body{background:#242424}",""]),xe.exports=pe},7591:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,".luna-notification{position:fixed;top:0;left:0;width:100%;height:100%;padding:20px;box-sizing:border-box;pointer-events:none;display:flex;flex-direction:column;font-size:14px;font-family:Arial,Helvetica,sans-serif}.luna-notification-item{display:flex;box-shadow:0 2px 2px 0 rgba(0,0,0,.07),0 1px 5px 0 rgba(0,0,0,.1);padding:10px 16px;color:#333;background:#fff}.luna-notification-lower{margin-top:16px}.luna-notification-upper{margin-bottom:16px}.luna-notification-theme-dark .luna-notification-item{box-shadow:0 2px 2px 0 rgba(255,255,255,.07),0 1px 5px 0 rgba(255,255,255,.1);color:#a5a5a5;background:#242424}",""]),xe.exports=pe},4821:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"@font-face{font-family:luna-object-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-object-viewer-icon-'],[class^=luna-object-viewer-icon-]{display:inline-block;font-family:luna-object-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-object-viewer-icon-caret-down:before{content:'\\f101'}.luna-object-viewer-icon-caret-right:before{content:'\\f102'}.luna-object-viewer{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;cursor:default;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;line-height:1.2;min-height:100%;color:#333;list-style:none!important}.luna-object-viewer ul{list-style:none!important;padding:0!important;padding-left:12px!important;margin:0!important}.luna-object-viewer li{position:relative;white-space:nowrap;line-height:16px;min-height:16px}.luna-object-viewer>li>.luna-object-viewer-key{display:none}.luna-object-viewer span{position:static!important}.luna-object-viewer li .luna-object-viewer-collapsed~.luna-object-viewer-close:before{color:#999}.luna-object-viewer-array .luna-object-viewer-object .luna-object-viewer-key{display:inline}.luna-object-viewer-null{color:#5e5e5e}.luna-object-viewer-regexp,.luna-object-viewer-string{color:#c41a16}.luna-object-viewer-number{color:#1c00cf}.luna-object-viewer-boolean{color:#0d22aa}.luna-object-viewer-special{color:#5e5e5e}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:#881391}.luna-object-viewer-key-lighter{opacity:.6}.luna-object-viewer-key-special{color:#5e5e5e}.luna-object-viewer-collapsed .luna-object-viewer-icon,.luna-object-viewer-expanded .luna-object-viewer-icon{position:absolute!important;left:-12px;color:#727272;font-size:12px}.luna-object-viewer-icon-caret-right{top:0}.luna-object-viewer-icon-caret-down{top:1px}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-down{display:inline}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-right{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-down{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-right{display:inline}.luna-object-viewer-hidden~ul{display:none}.luna-object-viewer-theme-dark{color:#fff}.luna-object-viewer-theme-dark .luna-object-viewer-null,.luna-object-viewer-theme-dark .luna-object-viewer-special{color:#a1a1a1}.luna-object-viewer-theme-dark .luna-object-viewer-regexp,.luna-object-viewer-theme-dark .luna-object-viewer-string{color:#f28b54}.luna-object-viewer-theme-dark .luna-object-viewer-boolean,.luna-object-viewer-theme-dark .luna-object-viewer-number{color:#9980ff}.luna-object-viewer-theme-dark .luna-object-viewer-key,.luna-object-viewer-theme-dark .luna-object-viewer-key-lighter{color:#5db0d7}",""]),xe.exports=pe},7871:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,".luna-setting{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;min-width:320px}.luna-setting.luna-setting-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-setting.luna-setting-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-setting .luna-setting-hidden,.luna-setting.luna-setting-hidden{display:none}.luna-setting .luna-setting-invisible,.luna-setting.luna-setting-invisible{visibility:hidden}.luna-setting *{box-sizing:border-box}.luna-setting-item.luna-setting-selected,.luna-setting-item:hover{background:#f3f3f3}.luna-setting-item.luna-setting-selected:focus{outline:1px solid #1a73e8}.luna-setting-item .luna-setting-title{line-height:1.4em;font-weight:600}.luna-setting-item .luna-setting-description{line-height:1.4em}.luna-setting-item .luna-setting-description *{margin:0}.luna-setting-item .luna-setting-description strong{font-weight:600}.luna-setting-item .luna-setting-description a{background-color:transparent;color:#0969da;text-decoration:none}.luna-setting-item .luna-setting-control,.luna-setting-item .luna-setting-description{font-size:12px}.luna-setting-item .luna-setting-description{margin-bottom:8px}.luna-setting-item .luna-setting-control{display:flex;align-items:center}.luna-setting-item-button,.luna-setting-item-checkbox,.luna-setting-item-input,.luna-setting-item-number,.luna-setting-item-select,.luna-setting-item-title{padding:10px}.luna-setting-item-title{font-size:18px;font-weight:600}.luna-setting-item-input input{-webkit-tap-highlight-color:transparent;color:#333;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #ccc;outline:0;padding:2px 8px;border-radius:0;font-size:14px;background:#fff;width:100%}.luna-setting-item-number input[type=number]{-webkit-tap-highlight-color:transparent;color:#333;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #ccc;outline:0;padding:2px 8px;border-radius:0;font-size:14px;background:#fff;width:200px;padding:2px}.luna-setting-item-number .luna-setting-range-container{flex:2;position:relative;top:1px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track{height:4px;width:100%;padding:0 10px;position:absolute;left:0;top:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:#ccc;border-radius:2px;overflow:hidden;width:100%;height:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{height:100%;background:#1a73e8;width:50%}.luna-setting-item-number .luna-setting-range-container input{-webkit-appearance:none;background:0 0;height:4px;width:100%;position:relative;top:-3px;margin:0 auto;outline:0;border-radius:2px}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{-webkit-appearance:none;position:relative;top:0;z-index:1;width:16px;border:none;height:16px;border-radius:10px;border:1px solid #ccc;background:radial-gradient(circle at center,#eee 0,#eee 15%,#fff 22%,#fff 100%)}.luna-setting-item-checkbox input{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;border:1px solid #ccc;border-radius:0;position:relative;outline:0;margin-left:0;margin-right:8px;transition:background-color .1s;align-self:flex-start;flex-shrink:0}.luna-setting-item-checkbox input:checked{background-color:#1a73e8;border-color:#1a73e8}.luna-setting-item-checkbox input:checked:after{content:\"\";width:100%;height:100%;position:absolute;left:0;top:0;background-image:url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4PSIwcHgiIHk9IjBweCI+PHRpdGxlPmljb25fYnlfUG9zaGx5YWtvdjEwPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjZmZmZmZmIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDI2LjAwMDAwMCkiPjxwYXRoIGQ9Ik0xNy45OTk5ODc4LDMyLjQgTDEwLjk5OTk4NzgsMjUuNCBDMTAuMjI2Nzg5MSwyNC42MjY4MDE0IDguOTczMTg2NDQsMjQuNjI2ODAxNCA4LjE5OTk4Nzc5LDI1LjQgTDguMTk5OTg3NzksMjUuNCBDNy40MjY3ODkxNCwyNi4xNzMxOTg2IDcuNDI2Nzg5MTQsMjcuNDI2ODAxNCA4LjE5OTk4Nzc5LDI4LjIgTDE2LjU4NTc3NDIsMzYuNTg1Nzg2NCBDMTcuMzY2ODIyOCwzNy4zNjY4MzUgMTguNjMzMTUyOCwzNy4zNjY4MzUgMTkuNDE0MjAxNCwzNi41ODU3ODY0IEw0MC41OTk5ODc4LDE1LjQgQzQxLjM3MzE4NjQsMTQuNjI2ODAxNCA0MS4zNzMxODY0LDEzLjM3MzE5ODYgNDAuNTk5OTg3OCwxMi42IEw0MC41OTk5ODc4LDEyLjYgQzM5LjgyNjc4OTEsMTEuODI2ODAxNCAzOC41NzMxODY0LDExLjgyNjgwMTQgMzcuNzk5OTg3OCwxMi42IEwxNy45OTk5ODc4LDMyLjQgWiI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-size:30px;background-repeat:no-repeat;background-position:center}.luna-setting-item-checkbox label{-webkit-tap-highlight-color:transparent}.luna-setting-item-checkbox label *{margin:0}.luna-setting-item-select .luna-setting-select{position:relative}.luna-setting-item-select .luna-setting-select select{margin:0;font-size:14px;background:#fff;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #ccc;padding:2px 8px;padding-right:18px;outline:0;color:#333;border-radius:0;-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select:after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #333;position:absolute;top:0;bottom:0;right:6px;margin:auto;pointer-events:none}.luna-setting-item-select .luna-setting-select select{width:300px}.luna-setting-item-button button{-webkit-tap-highlight-color:transparent;background:#fff;border:1px solid #ccc;padding:2px 8px;color:#1a73e8;font-size:14px;border-radius:2px}.luna-setting-item-button button:active,.luna-setting-item-button button:hover{background:#f3f3f3}.luna-setting-item-button button:active{border:1px solid #1a73e8}.luna-setting-item-separator{border-bottom:1px solid #ccc}.luna-setting-theme-dark{color-scheme:dark;color:#a5a5a5;background:#242424}.luna-setting-theme-dark .luna-setting-item.luna-setting-selected,.luna-setting-theme-dark .luna-setting-item:hover{background:#292a2d}.luna-setting-theme-dark .luna-setting-item .luna-setting-description a{background-color:transparent;color:#58a6ff}.luna-setting-theme-dark .luna-setting-item-separator{border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-input input{background:#3d3d3d;border-color:#3d3d3d;color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-checkbox input{border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select select{color:#a5a5a5;border-color:#3d3d3d;background:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select:after{border-top-color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-button button{background:#242424;border-color:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-button button:active,.luna-setting-theme-dark .luna-setting-item-button button:hover{background:#292a2d}.luna-setting-theme-dark .luna-setting-item-button button:active{border:1px solid #1a73e8}.luna-setting-theme-dark .luna-setting-item-number input[type=number]{background:#3d3d3d;border-color:#3d3d3d;color:#a5a5a5}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:#3d3d3d}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#3d3d3d;background:radial-gradient(circle at center,#aaa 0,#aaa 15%,#ccc 22%,#ccc 100%)}",""]),xe.exports=pe},2156:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,".luna-tab{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;position:relative;overflow:hidden;width:100%}.luna-tab.luna-tab-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-tab.luna-tab-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-tab .luna-tab-hidden,.luna-tab.luna-tab-hidden{display:none}.luna-tab .luna-tab-invisible,.luna-tab.luna-tab-invisible{visibility:hidden}.luna-tab *{box-sizing:border-box}.luna-tab.luna-tab-theme-dark{color:#a5a5a5;background-color:#242424}.luna-tab-tabs-container{border-bottom:1px solid #ccc}.luna-tab-tabs{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;width:100%;height:100%;font-size:0;white-space:nowrap}.luna-tab-tabs::-webkit-scrollbar{display:none;width:0;height:0}.luna-tab-item{cursor:pointer;display:inline-block;padding:0 10px;font-size:12px;text-align:center;text-transform:capitalize}.luna-tab-item:hover{background:#f3f3f3}.luna-tab-slider{transition:left .3s,width .3s;height:1px;background:#1a73e8;position:absolute;bottom:0;left:0}",""]),xe.exports=pe},5777:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"@font-face{font-family:luna-text-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS0AAsAAAAAB2QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFQAAAB0INElr09TLzIAAAFcAAAAPQAAAFZL+0klY21hcAAAAZwAAACfAAACEAEewxRnbHlmAAACPAAAAIYAAACkNSDggmhlYWQAAALEAAAALgAAADZzrb4oaGhlYQAAAvQAAAAWAAAAJAGRANNobXR4AAADDAAAABAAAAAoAZAAAGxvY2EAAAMcAAAAEAAAABYBWgFIbWF4cAAAAywAAAAdAAAAIAEXADtuYW1lAAADTAAAASkAAAIWm5e+CnBvc3QAAAR4AAAAOwAAAFJIWdOleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBWAdNMDGwMQkAWK1CGlYEZyGMCstiBMpxAUUYGZgDbGgXDeJxjYGTQYJzAwMrAwFDH0AMkZaB0AgMngzEDAxMDKzMDVhCQ5prCcIAh+SMTwwkgVwhMMjAwgggAY84IrgAAAHicvZFLCsMwDERHzsdJ6aL0HD1VQiDQRbIN9Axd9aI+QTpjq5Bdd5F4Bo1lybIBNAAq8iA1YB8YZG+qlvUKl6zXGBjf6MofMWHGEyu2FPb9oCxULCtHs3yy+J2urg1rtojo0HM/MKnFGabOGlbdYvdT+1N6/7drXl8e6Vajo3efHP3b7HAUvntBMy1OJKujMTeHNZMV9McpFBC+tLgY4QB4nGNgZACBEwzrGdgZGOwZxdnVDdXNPfKEGlhchO0KhZtZ3IQYmMFq1jCsZpBi0GLQY2AwNzGzZjQSk2UUYdNmVFID8UyVRUXYlNRMlVGlTM1FjU3tmZkTmVhYmFRBhHwoCyuzKgtTIjMzWJg3ZClIGMRlZQmVB7GhMixM0aGhQIsB52sTqgAAeJxjYGRgYADi2JNxkvH8Nl8ZuBlOAAWiOB/va0DQQHCCYT2Q5GBgAnEANJ0KnQAAeJxjYGRgYDjBwIBEMjKgAi4AOvoCZQAAeJxjYACCE1CMBwAAM7gBkXicY2AAAiGGIFQIABXIAqN4nGNgZGBg4GLQZ2BmAAEmMI8LSP4H8xkADjQBUwAAAHicZZA9bsJAFITHYEgCUoIUKSmzVQoimZ+SA0BPQZfCmLUxsr3WekGiywlyhBwhp4hyghwoY/NoYC0/fzNv3u7KAAb4hYd6ebhtar1auKE6cZv0IOyTn4U76ONFuEt/KNzDG6bCfTzinTt4/h2dAUrhFu7xIdym/ynsk7+EO3jCt3CX/o9wDyv8Cffx6g3TyBSxKdxSJ/sstGd5/q60rVJTqEkwPlsLXWgbOr1R66OqDsnUuVjF1uRqzq7OMqNKa3Y6csHWuXI2GsXiB5HJkSKCQYG4qQ5LaCTYI0MIe9W91CumLSr6tVaYIMD4KrVgqmiSIZXGhsk1jqwVDjxtStcxrfhazuSkucxq3iQjK/7vurejE9EPsG2mSsww4hNf5IPmDvk/PRFeqAAAAHicXcU7CsAgFEXBe4x/l/kQBAtt3X0KSZNpRk7X91/F8eAJRBKZQqUp2Og2va19MAadyWJzpBd4kgcWAA==') format('woff')}[class*=' luna-text-viewer-icon-'],[class^=luna-text-viewer-icon-]{display:inline-block;font-family:luna-text-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-text-viewer-icon-check:before{content:'\\f101'}.luna-text-viewer-icon-copy:before{content:'\\f102'}.luna-text-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;padding:0;unicode-bidi:embed;position:relative;overflow:auto;border:1px solid #ccc}.luna-text-viewer.luna-text-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-text-viewer.luna-text-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-text-viewer .luna-text-viewer-hidden,.luna-text-viewer.luna-text-viewer-hidden{display:none}.luna-text-viewer .luna-text-viewer-invisible,.luna-text-viewer.luna-text-viewer-invisible{visibility:hidden}.luna-text-viewer *{box-sizing:border-box}.luna-text-viewer.luna-text-viewer-theme-dark{color:#d9d9d9;border-color:#3d3d3d;background:#242424}.luna-text-viewer:hover .luna-text-viewer-copy{opacity:1}.luna-text-viewer-table{display:table}.luna-text-viewer-table .luna-text-viewer-line-number,.luna-text-viewer-table .luna-text-viewer-line-text{padding:0}.luna-text-viewer-table-row{display:table-row}.luna-text-viewer-line-number{display:table-cell;padding:0 3px 0 8px!important;text-align:right;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-right:1px solid #ccc}.luna-text-viewer-line-text{display:table-cell;padding-left:4px!important;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-text-viewer-copy{background:#fff;opacity:0;position:absolute;right:5px;top:5px;border:1px solid #ccc;border-radius:4px;width:25px;height:25px;text-align:center;line-height:25px;cursor:pointer;transition:opacity .3s,top .3s}.luna-text-viewer-copy .luna-text-viewer-icon-check{color:#188037}.luna-text-viewer-text{padding:4px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;box-sizing:border-box;white-space:pre;display:block}.luna-text-viewer-text.luna-text-viewer-line-numbers{padding:0}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines{white-space:pre-wrap}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines .luna-text-viewer-line-text{word-break:break-all}.luna-text-viewer-theme-dark{color-scheme:dark}.luna-text-viewer-theme-dark .luna-text-viewer-copy,.luna-text-viewer-theme-dark .luna-text-viewer-line-number{border-color:#3d3d3d}.luna-text-viewer-theme-dark .luna-text-viewer-copy .luna-text-viewer-icon-check{color:#81c995}.luna-text-viewer-theme-dark .luna-text-viewer-copy{background-color:#242424}",""]),xe.exports=pe},5357:function(xe,pe,_e){(pe=_e(3645)(!1)).push([xe.id,"@font-face{font-family:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAA6UAAsAAAAAGvAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAARoAAAHeLjoycE9TLzIAAAIkAAAAPwAAAFZWm1KoY21hcAAAAmQAAAFdAAADwhPu1O9nbHlmAAADxAAAB+wAAA9I7RPQpGhlYWQAAAuwAAAAMQAAADZ26MSyaGhlYQAAC+QAAAAdAAAAJAgEBC9obXR4AAAMBAAAAB0AAACwXAv//GxvY2EAAAwkAAAAOwAAAFpuVmoybWF4cAAADGAAAAAfAAAAIAE9AQ1uYW1lAAAMgAAAASkAAAIWm5e+CnBvc3QAAA2sAAAA5QAAAU4VMmUJeJxNkD1Ow0AQhb9NHGISCH9RiB0cErCNHRrqFFSIyqKiQHSpEFJERUnBCTgPZ+AEHIe34wDe1f69efPezOKAHldc07q5re4ZrFevL8QE1MPHm3e3fn5aEf6+FAvsDHHuTUoxd7zzwSdffLulq9wjLbaYau8TacZMONE554xzZsrtNfBEzFOhbSmOyTmga0ikvRR/37RSsSMyDukYPjWdgGOtsSK55Y/k0Bf/ksK0MrbFr70idsVZKNPnDcSay3umd2TISCvWTJSxI78lFQ/C+qbv/Zo9tNXDP55ZL7k0Q90u5F5XX0qrYx16btccCtXg/ULrKzGFuqY9rUTMhf3fkCNj+MxUnsM/frr5Qx+ZbH4vVQ0F5Q/ZQBvxAAB4nGNgZJJgnMDAysDA1Mt0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+KsIC4MSxMDIxAGoQZALgnCOUAeJy1011SGlEQhuF3BFHxD5UUyr8gIJIsiiKJsSqJlrHKsJssKFeuxF6Bfj3dF96aqhzqoZnDzJyG8w2wCVTko1SheKLAx1/NFuV8hXo5X+WPjht6+fmfWHLDHQ+srfnykjMrvnPPoxXlzNtRlFc26HLBZblal1N9ntBnwIgx5/SYMaWt78+YM6TDgitduaEVq+q0xhbb7KifPQ441N2OOOaEJh9oaYka7xvdd57vQz1P+oPR+Bx6s2lbrc6H0Flc/cO9/sfY87fiOY8u8X0J/muX6VRW6UI+p4l8SX35mgZynUbyLY3lJukf0e6HnvxIM/mZpnKb2nKXvM/7dCa/0lwe0lAeU0d+p4Wsk3bBiuDptY2A10rw9Fo1eOJtM/iTYLWA162A1+2A152A13rwJ8R2g++AJaUU2w/KK3YQlFzsMCjDWCMozdhRUK6x46CEYydBWceagdYraihRngAAAHic7RdbbBxX9Z57Z2d2d2ZndryzM7ve9ax3NztjO/bann0lTuW16zoBJSWJ7Zg83NiUJCQ1Ik2ikKQJNC9FFQqVEG0RVLQoSpEKH2klqgpEIyWAUMRTNBJC/PUDhETgiwhQd8y5s1s7oqr624/srO6ce89zzjn3nHsJEPwxyn5GVEJKBTcCdc80pAiYhkjfNWL+NnhLdTKqfxVOqJlxFX6E84wb86/6X4+5GRLw0/vsOgkREoFGBFx62P/uFviBP78FWrC02d/r79vcpmMl+k2uBwwJxIILTrVeyXsmK8krRLb5YGqUaCb9ksYnMuBqMtnRcY6V1nidml6texaY9CxSRm3TtKNIjcxrUjhEWKD3OnuNJEgPKSG/I6nUpo06fxwXH8lmEoyDFQIVyrROs7254z990rj0u2PLez47WqG1yu69V7ZdfDxU9He4C6P+v+HN+vlnD9Uou0Zp+NnfvveT/XL0kbGFxT/u37tx7CTdeuGlKfiibcMr/gt9qfyu05e4+YEdb7A3iEVG0ArdEAvDIPHBqTbB7bgCDA0sdH0x3/nEHDT4YFJi9siz74iaOBkK3ZyRTRXwE+FGG15BeA0Pf14hqinP3AyFJnHhnVm5xzThmNSBNFjDdvwzw75GFJIlvWhZ1UHlYlI3zIputa3CSduiRF7P09e9on+jODpanPOKsJMDOPV2wU7/BqsVPcQ2ix41X/8ARKpbfhPVtHNgik1hXAhIlmQ1rIbbcCVIzN/7+65794KRTc13IBwJXVkhRACBkAEyhVyiBqJbRn81YRjKUDfRN9xHpoVBt0xJRZ+iS4ehZFg2utJrjCO2GrAUAizcj+c3pXpiXVQwThZmdNrbrx+hAjtjbhSF5FPyKSsqmGraWKYCbfl97vMLi79fXHje7XsAhBsoo0P35fyMPpCj+lM0FDptJexuYzl82upRufxlKgrTh/+fOwBXc+Jt9jZJBTnxUbH/yGT5j4jRT2pB9O1oO/oi3FyD2/ggU14LY/j5RuHTJIZf5LR/WVmbaB2CT6xdQa4KwJZIHPfyMFoWRNSmQZDLlJVpdRw8GwwVWEGlScOGijdOq2VKyfHDB7/d1/+d37zXeT/dXG42l7/Kh2a20pd0JpxsxTVNt8KWyuu/94Ujr+7uvFpvQXP5PCfEAU4l+6pZZ9Ix3eqGqmsGrvok28V+zi6TKEYyi/Udt0MNavkkJC1e+vQA1tGqil6EV93j/UBbY0AXm/2Vku+z53x/8MDT5879U9Nb4Cqq/yf/WEjReiECfS9+C2f/6umFS/77q3t7kp0nGu8DTrFTQrwG1KtsoHVXlnXL0qMKHTRpGbaJlt7aoVsSbO3aQFb5L7MTJElIwrBMvnWxQteCEl2QREn8Ci/Ef9i7u1IT6tX5Pb/ePV+rUXKEL3DMkUPzc6OeNzo3/6C8K2QdrzVlKAYyHhBcxGgUyoCRqXimJZXYwYO1y1tWxQWKLkyfunpqevrU5vJs4SQ02JUDw94qMlC6maORJpc9AR/Sm7C4cK7S4MoL/FNqFYy+Nw5VbpIoWaWXP0atf+fj1Lb36w12h6SxShIouuNQw+TCVDNsWvHqDStpNUoFnobUs6mhUvpmn+r2VxaeuXjmCc974vSjm44OxfytrXeH5iaKxYm5fXMThcLEHLwcGzq66dHTnObMxWcWKv2u2tfa1ipMzu7rEM5OFshqLfsFu4R9thszrVjAUoHFgH98DxRreb3CK74rMTh/bWmJTq9Pd0nCZOvsbfrYrVsTty9cOPc5Or2U6spq8rXbrbNAL9yeuHWLYuEnEiErK0JIAPIN8kNyl9wn/yUt7mioN6GGTi1jDQrypNPRxQ+8zREatnUsVtgbcDHAaZA0rc6TxOIWLPFVXLDbvYRT45CDSnBOqFhee4aTcWw8gapGnS+Z+EYrOuqh825jrY5WSVwPDSewh/OWqYueCJQFEjhELTdgcdEODjUCo5yge7lcAlJxRSgceyZyu5LFfqnaeldKlsyunnK6N6LEaUSqTSndgpZK7jC7NZaR7LGcGhXwgMNC+WFt0MxEomZcECQ9EY4JkgAQDilSNKnGuxXJ0u2hdG9YUZkiZcfWpaOWkUv0G6IaCseVVH81o0dEEClKGokassX0hKSk44PxBGOS4E8cmNk+OMSY5+2cXfz8zI4hrG4jI9tnFpW/hqKx7PCnH1O7wpFkqeANT4IUVhopPTUwnNJxzSlUzLASV+4YfUIkpoQFTYvoMUFkJgtJ/Z6VEIyymx4usdCW5CuDc9s+dZDm6GeiejTl1jN6VFKUdMHMlUIWzaQEOdyrKHIsL0VZJB0TE1rUlLvCo71yPKya3dW+ONBQRBajUdPuKoXFsBAOiYoUdx7JtSXlU3ZJNAW1O+4ktBCFqBjLJhMW97JgyonISE5kVIJQJJ6tO6nueCJj1TV/D6uMzu06tH/H44NlRr3RnbNPLu7cXh75sWOklURzi5ZI9dgqG6tuEAf0bkWX0/0j6S6+RjfaYiQsbkKHhuNdms6kUExWZNGSlJgzkjIGjPK61KjLxOvGc/1/27r9KOQe7omHe+LhnvjQnmArLTyHMYHiPbGbFLEL4Q1BxOsiHrfy2HIBz67BXQbPsVbB4TNDZP/wF4x63cAxUl/PRtbXI61f2QM2/iuZUqleKr3ABp1Mxnn/rjvpOJN0b9K2k/73+Xi/VHOcGl4qyf8AzjWNo3icY2BkYGAA4uhnXafj+W2+MnCzgASiOB/va4DR///+/8/CysIElOBgAJEMAHS2DWQAAAB4nGNgZGBgYQABFtb/f///ZWFlYGRABToAW+YEPQAAAHicY2BgYGAhiP//J6wGCbNCMcP/vwxUBgDl4QRhAAAAeJxjYAACBQYThiCGAoYtjAyMZowBjPuYuJjCmBYxvWNWYXZhzmFewfyIRYUliPUOexr7EmIhAF3rF0sAeJxjYGRgYNBhZGRgZwABJiDmAkIGhv9gPgMADcIBTAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG2MyW6DQBiD+RKYpKT7vqf7Gg55pNHwEyJNGDSMRHj70nKtD7Zly45G0YA0+h8LRoyJSVBMmLJDyoxd9tjngEOOOOaEU84454JLrrjmhlvuuGfOA4888cwLr7zxzgeffPHNgixKtfeuzawUYTZYv16VITXaS8hy11azwf7FibGi/dS4Te2laWLj6k7lYiVIIv3aK9nWusqng2TLsXR900m2VMXaBvFxbXWnvBjn84mXor8pk54kqKa/NmUvVkyIg3NW/VK2jFvtKzQeR0uGRSgIrFlRYsip2FDT0LGNoh/MCkh9AAAA') format('woff')}[class*=' _icon-'],[class^='_icon-']{display:inline-block;font-family:eruda-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}._icon-arrow-left:before{content:'\\f101'}._icon-arrow-right:before{content:'\\f102'}._icon-caret-down:before{content:'\\f103'}._icon-caret-right:before{content:'\\f104'}._icon-clear:before{content:'\\f105'}._icon-compress:before{content:'\\f106'}._icon-copy:before{content:'\\f107'}._icon-delete:before{content:'\\f108'}._icon-error:before{content:'\\f109'}._icon-expand:before{content:'\\f10a'}._icon-eye:before{content:'\\f10b'}._icon-filter:before{content:'\\f10c'}._icon-play:before{content:'\\f10d'}._icon-record:before{content:'\\f10e'}._icon-refresh:before{content:'\\f10f'}._icon-reset:before{content:'\\f110'}._icon-search:before{content:'\\f111'}._icon-select:before{content:'\\f112'}._icon-tool:before{content:'\\f113'}._icon-warn:before{content:'\\f114'}",""]),xe.exports=pe},3645:function(xe){xe.exports=function(pe){var _e=[];return _e.toString=function(){return this.map(function(Ce){var Ie=function(Oe,Ne){var Fe=Oe[1]||"",Ue=Oe[3];if(!Ue)return Fe;if(Ne&&typeof btoa=="function"){var $e=(Ve=Ue,qe=btoa(unescape(encodeURIComponent(JSON.stringify(Ve)))),En="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(qe),"/*# ".concat(En," */")),ze=Ue.sources.map(function(vn){return"/*# sourceURL=".concat(Ue.sourceRoot||"").concat(vn," */")});return[Fe].concat(ze).concat([$e]).join("\n")}var Ve,qe,En;return[Fe].join("\n")}(Ce,pe);return Ce[2]?"@media ".concat(Ce[2]," {").concat(Ie,"}"):Ie}).join("")},_e.i=function(Ce,Ie,Oe){typeof Ce=="string"&&(Ce=[[null,Ce,""]]);var Ne={};if(Oe)for(var Fe=0;Fe<this.length;Fe++){var Ue=this[Fe][0];Ue!=null&&(Ne[Ue]=!0)}for(var $e=0;$e<Ce.length;$e++){var ze=[].concat(Ce[$e]);Oe&&Ne[ze[0]]||(Ie&&(ze[2]?ze[2]="".concat(Ie," and ").concat(ze[2]):ze[2]=Ie),_e.push(ze))}},_e}},1512:function(xe,pe,_e){var Ce=_e(3244),Ie=_e(6906),Oe=_e(7665),Ne=_e(975),Fe=_e(4991),Ue=_e(4209),$e=_e(9702),ze=_e(6757),Ve=_e(8381),qe=_e(5543),En=_e(7781),vn=_e(8908),hn=_e(1286),_n=_e(6768);pe=function(An){return new Ce(An)},Ce.methods({offset:function(){return Ie(this)},hide:function(){return this.css("display","none")},show:function(){return Oe(this),this},first:function(){return pe(this[0])},last:function(){return pe($e(this))},get:function(An){return this[An]},eq:function(An){return pe(this[An])},on:function(An,xn,Sn){return qe.on(this,An,xn,Sn),this},off:function(An,xn,Sn){return qe.off(this,An,xn,Sn),this},html:function(An){var xn=Ue.html(this,An);return hn(An)?xn:this},text:function(An){var xn=Ue.text(this,An);return hn(An)?xn:this},val:function(An){var xn=Ue.val(this,An);return hn(An)?xn:this},css:function(An,xn){var Sn=Ne(this,An,xn);return bn(An,xn)?Sn:this},attr:function(An,xn){var Sn=Fe(this,An,xn);return bn(An,xn)?Sn:this},data:function(An,xn){var Sn=Ve(this,An,xn);return bn(An,xn)?Sn:this},rmAttr:function(An){return Fe.remove(this,An),this},remove:function(){return ze(this),this},addClass:function(An){return En.add(this,An),this},rmClass:function(An){return En.remove(this,An),this},toggleClass:function(An){return En.toggle(this,An),this},hasClass:function(An){return En.has(this,An)},parent:function(){return pe(this[0].parentNode)},append:function(An){return vn.append(this,An),this},prepend:function(An){return vn.prepend(this,An),this},before:function(An){return vn.before(this,An),this},after:function(An){return vn.after(this,An),this}});var bn=function(An,xn){return hn(xn)&&_n(An)};xe.exports=pe},4991:function(xe,pe,_e){var Ce=_e(1352),Ie=_e(5166),Oe=_e(6768),Ne=_e(3783),Fe=_e(1286),Ue=_e(2341);(pe=function($e,ze,Ve){if($e=Ue($e),Fe(Ve)&&Oe(ze))return function(En,vn){return En.getAttribute(vn)}($e[0],ze);var qe=ze;Ie(qe)||((qe={})[ze]=Ve),function(En,vn){Ne(En,function(hn){Ne(vn,function(_n,bn){hn.setAttribute(bn,_n)})})}($e,qe)}).remove=function($e,ze){$e=Ue($e),ze=Ce(ze),Ne($e,function(Ve){Ne(ze,function(qe){Ve.removeAttribute(qe)})})},xe.exports=pe},7781:function(xe,pe,_e){var Ce=_e(1352),Ie=_e(6053),Oe=_e(2341),Ne=_e(6768),Fe=_e(3783);function Ue($e){return Ne($e)?$e.split(/\s+/):Ce($e)}pe={add:function($e,ze){$e=Oe($e);var Ve=Ue(ze);Fe($e,function(qe){var En=[];Fe(Ve,function(vn){pe.has(qe,vn)||En.push(vn)}),En.length!==0&&(qe.className+=(qe.className?" ":"")+En.join(" "))})},has:function($e,ze){$e=Oe($e);var Ve=new RegExp("(^|\\s)"+ze+"(\\s|$)");return Ie($e,function(qe){return Ve.test(qe.className)})},toggle:function($e,ze){$e=Oe($e),Fe($e,function(Ve){if(!pe.has(Ve,ze))return pe.add(Ve,ze);pe.remove(Ve,ze)})},remove:function($e,ze){$e=Oe($e);var Ve=Ue(ze);Fe($e,function(qe){Fe(Ve,function(En){qe.classList.remove(En)})})}},xe.exports=pe},975:function(xe,pe,_e){var Ce=_e(6768),Ie=_e(5166),Oe=_e(7622),Ne=_e(1286),Fe=_e(6341),Ue=_e(3990),$e=_e(2341),ze=_e(747),Ve=_e(3783);pe=function(En,vn,hn){if(En=$e(En),Ne(hn)&&Ce(vn))return function(bn,An){return bn.style[ze(An)]||getComputedStyle(bn,"").getPropertyValue(An)}(En[0],vn);var _n=vn;Ie(_n)||((_n={})[vn]=hn),function(bn,An){Ve(bn,function(xn){var Sn=";";Ve(An,function(Cn,Tn){Tn=ze.dash(Tn),Sn+=Tn+":"+function(wn,Ln){var Pn=Ue(Ln)&&!Fe(qe,Oe(wn));return Pn?Ln+"px":Ln}(Tn,Cn)+";"}),xn.style.cssText+=Sn})}(En,_n)};var qe=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];xe.exports=pe},8381:function(xe,pe,_e){var Ce=_e(4991),Ie=_e(6768),Oe=_e(5166),Ne=_e(3783);_e(2341),pe=function(Fe,Ue,$e){var ze=Ue;return Ie(Ue)&&(ze="data-"+Ue),Oe(Ue)&&(ze={},Ne(Ue,function(Ve,qe){ze["data-"+qe]=Ve})),Ce(Fe,ze,$e)},xe.exports=pe},5543:function(xe,pe,_e){var Ce=_e(2443),Ie=_e(1286),Oe=_e(2341),Ne=_e(3783);function Fe(Ue){return function($e,ze,Ve,qe){$e=Oe($e),Ie(qe)&&(qe=Ve,Ve=void 0),Ne($e,function(En){Ce[Ue](En,ze,Ve,qe)})}}pe={on:Fe("add"),off:Fe("remove")},xe.exports=pe},8908:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(2341),Oe=_e(6768);function Ne(Fe){return function(Ue,$e){Ue=Ie(Ue),Ce(Ue,function(ze){if(Oe($e))ze.insertAdjacentHTML(Fe,$e);else{var Ve=ze.parentNode;switch(Fe){case"beforebegin":Ve&&Ve.insertBefore($e,ze);break;case"afterend":Ve&&Ve.insertBefore($e,ze.nextSibling);break;case"beforeend":ze.appendChild($e);break;case"afterbegin":ze.prepend($e)}}})}}pe={before:Ne("beforebegin"),after:Ne("afterend"),append:Ne("beforeend"),prepend:Ne("afterbegin")},xe.exports=pe},6906:function(xe,pe,_e){var Ce=_e(2341);pe=function(Ie){var Oe=(Ie=Ce(Ie))[0].getBoundingClientRect();return{left:Oe.left+window.pageXOffset,top:Oe.top+window.pageYOffset,width:Math.round(Oe.width),height:Math.round(Oe.height)}},xe.exports=pe},4209:function(xe,pe,_e){var Ce=_e(1286),Ie=_e(3783),Oe=_e(2341);function Ne(Fe){return function(Ue,$e){var ze=(Ue=Oe(Ue))[0];if(Ce($e))return ze?ze[Fe]:"";ze&&Ie(Ue,function(Ve){Ve[Fe]=$e})}}pe={html:Ne("innerHTML"),text:Ne("textContent"),val:Ne("value")},xe.exports=pe},6757:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(2341);pe=function(Oe){Oe=Ie(Oe),Ce(Oe,function(Ne){var Fe=Ne.parentNode;Fe&&Fe.removeChild(Ne)})},xe.exports=pe},2341:function(xe,pe,_e){var Ce=_e(6768),Ie=_e(1352),Oe=_e(3244);pe=function(Ne){return Ie(Ce(Ne)?new Oe(Ne):Ne)},xe.exports=pe},7665:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(2341);pe=function(Ne){Ne=Ie(Ne),Ce(Ne,function(Fe){(function(Ue){return getComputedStyle(Ue,"").getPropertyValue("display")=="none"})(Fe)&&(Fe.style.display=function(Ue){var $e,ze;return Oe[Ue]||($e=document.createElement(Ue),document.documentElement.appendChild($e),ze=getComputedStyle($e,"").getPropertyValue("display"),$e.parentNode.removeChild($e),ze=="none"&&(ze="block"),Oe[Ue]=ze),Oe[Ue]}(Fe.nodeName))})};var Oe={};xe.exports=pe},7496:function(xe,pe,_e){var Ce=_e(6329),Ie=_e(1352),Oe=_e(5022),Ne=_e(7653),Fe=_e(9537),Ue=(pe=function($e,ze){return Ue.extend($e,ze)}).Base=function $e(ze,Ve,qe){qe=qe||{};var En=Ve.className||Ne(Ve,"initialize.name")||"";delete Ve.className;var vn=function(){var hn=Ie(arguments);return this.initialize&&this.initialize.apply(this,hn)||this};if(!Fe)try{vn=new Function("toArr","return function "+En+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(Ie)}catch(hn){}return Oe(vn,ze),vn.prototype.constructor=vn,vn.extend=function(hn,_n){return $e(vn,hn,_n)},vn.inherits=function(hn){Oe(vn,hn)},vn.methods=function(hn){return Ce(vn.prototype,hn),vn},vn.statics=function(hn){return Ce(vn,hn),vn},vn.methods(Ve).statics(qe),vn}(Object,{className:"Base",callSuper:function($e,ze,Ve){return $e.prototype[ze].apply(this,Ve)},toString:function(){return this.constructor.name}});xe.exports=pe},3009:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(6768),Oe=_e(9882),Ne=_e(3279),Fe=_e(5925),Ue=_e(5044);pe=Ce({initialize:function(vn){Ie(vn)&&(vn=pe.parse(vn)),this.model=vn.model,this.val=vn.val},toRgb:function(){var vn=this.val;this.model==="hsl"&&(vn=Fe(vn));var hn="rgba";return vn[3]===1&&(hn="rgb",vn=vn.slice(0,3)),hn+"("+vn.join(", ")+")"},toHex:function(){var vn=this.val;this.model==="hsl"&&(vn=Fe(vn));var hn=Ue.encode(vn.slice(0,3));return hn[0]===hn[1]&&hn[2]===hn[3]&&hn[4]===hn[5]&&(hn=hn[0]+hn[2]+hn[5]),"#"+hn},toHsl:function(){var vn=this.val;this.model==="rgb"&&(vn=Ne(vn));var hn="hsla";return vn[3]===1&&(hn="hsl",vn=vn.slice(0,3)),vn[1]=vn[1]+"%",vn[2]=vn[2]+"%",hn+"("+vn.join(", ")+")"}},{parse:function(vn){var hn,_n,bn=[0,0,0,1],An="rgb";if(_n=vn.match($e))for(_n=_n[1],hn=0;hn<3;hn++)bn[hn]=parseInt(_n[hn]+_n[hn],16);else if(_n=vn.match(ze))for(_n=_n[1],hn=0;hn<3;hn++){var xn=2*hn;bn[hn]=parseInt(_n.slice(xn,xn+2),16)}else if(_n=vn.match(Ve)){for(hn=0;hn<3;hn++)bn[hn]=parseInt(_n[hn+1],0);_n[4]&&(bn[3]=parseFloat(_n[4]))}else if(_n=vn.match(qe)){for(hn=0;hn<3;hn++)bn[hn]=Math.round(2.55*parseFloat(_n[hn+1]));_n[4]&&(bn[3]=parseFloat(_n[4]))}else(_n=vn.match(En))&&(An="hsl",bn=[(parseFloat(_n[1])%360+360)%360,Oe(parseFloat(_n[2]),0,100),Oe(parseFloat(_n[3]),0,100),Oe(parseFloat(_n[4]),0,1)]);return{val:bn,model:An}}});var $e=/^#([a-fA-F0-9]{3})$/,ze=/^#([a-fA-F0-9]{6})$/,Ve=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,qe=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,En=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;xe.exports=pe},1443:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(6257),Oe=_e(3783),Ne=_e(9677),Fe=_e(8763),Ue=_e(4675);pe=Ce({initialize:function(){this._events=this._events||{}},on:function($e,ze){return this._events[$e]=this._events[$e]||[],this._events[$e].push(ze),this},off:function($e,ze){var Ve=this._events;if(Ie(Ve,$e)){var qe=Ve[$e].indexOf(ze);return qe>-1&&Ve[$e].splice(qe,1),this}},once:function($e,ze){return this.on($e,Fe(ze)),this},emit:function($e){var ze=this;if(Ie(this._events,$e)){var Ve=Ne(arguments,1),qe=Ue(this._events[$e]);return Oe(qe,function(En){return En.apply(ze,Ve)},this),this}},removeAllListeners:function($e){return $e?delete this._events[$e]:this._events={},this}},{mixin:function($e){Oe(["on","off","once","emit","removeAllListeners"],function(ze){$e[ze]=pe.prototype[ze]}),$e._events=$e._events||{}}}),xe.exports=pe},9640:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(4454),Oe=_e(6472),Ne=_e(3783),Fe=_e(2533);pe=Ce({initialize:function(Ue){Oe(Ue)?(this.size=Ue.length,Ne(Ue,function($e,ze){this[$e]=ze},this)):(this.size=Fe(Ue).length,Ne(Ue,function($e,ze){this[ze]=$e},this)),Ie(this)}}),xe.exports=pe},125:function(xe,pe,_e){var Ce=_e(5128),Ie=_e(615),Oe=_e(8887),Ne=_e(4400),Fe=_e(4193),Ue=_e(5166),$e=Ie("local");pe=Ce.extend({initialize:function(ze,Ve){this._name=ze,Ve=Ve||{};var qe=$e.getItem(ze);try{qe=JSON.parse(qe)}catch(En){qe={}}Ue(qe)||(qe={}),Ve=Fe(qe,Ve),this.callSuper(Ce,"initialize",[Ve])},save:function(ze){if(Oe(ze))return $e.removeItem(this._name);$e.setItem(this._name,Ne(ze))}}),xe.exports=pe},4989:function(xe,pe,_e){var Ce=_e(1443),Ie=_e(9640),Oe=_e(1352),Ne=_e(1286),Fe=_e(4675),Ue=_e(6768),$e=_e(3990);pe=Ce.extend({initialize:function(ze,Ve){this.name=ze,this.setLevel(Ne(Ve)?pe.level.DEBUG:Ve),this.callSuper(Ce,"initialize",arguments)},setLevel:function(ze){return Ue(ze)?((ze=pe.level[ze.toUpperCase()])&&(this._level=ze),this):($e(ze)&&(this._level=ze),this)},getLevel:function(){return this._level},formatter:function(ze,Ve){return Ve},trace:function(){return this._log("trace",arguments)},debug:function(){return this._log("debug",arguments)},info:function(){return this._log("info",arguments)},warn:function(){return this._log("warn",arguments)},error:function(){return this._log("error",arguments)},_log:function(ze,Ve){return(Ve=Oe(Ve)).length===0?this:(this.emit("all",ze,Fe(Ve)),pe.level[ze.toUpperCase()]<this._level||(this.emit(ze,Fe(Ve)),(ze==="debug"?console.log:console[ze]).apply(console,this.formatter(ze,Ve))),this)}},{level:new Ie({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5})}),xe.exports=pe},2765:function(xe,pe,_e){var Ce=_e(1443);pe=Ce.extend({className:"MediaQuery",initialize:function(Ie){var Oe=this;this.callSuper(Ce,"initialize"),this._listener=function(){Oe.emit(Oe.isMatch()?"match":"unmatch")},this.setQuery(Ie)},setQuery:function(Ie){this._mql&&this._mql.removeListener(this._listener),this._mql=window.matchMedia(Ie),this._mql.addListener(this._listener)},isMatch:function(){return this._mql.matches}}),xe.exports=pe},2289:function(xe,pe,_e){var Ce=_e(7496);(pe=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(pe=Ce({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),xe.exports=pe},242:function(xe,pe,_e){var Ce=_e(8985),Ie=_e(8613),Oe=_e(5543),Ne=_e(975),Fe=_e(6341),Ue=_e(6329),$e=_e(5610);pe=$e.ResizeObserver?Ce.extend({initialize:function(ze){var Ve=this;if(ze._resizeSensor)return ze._resizeSensor;this.callSuper(Ce,"initialize");var qe=new $e.ResizeObserver(function(){return Ve.emit()});qe.observe(ze),ze._resizeSensor=this,this._resizeObserver=qe,this._el=ze},destroy:function(){var ze=this._el;ze._resizeSensor&&(this.rmAllListeners(),delete ze._resizeSensor,this._resizeObserver.unobserve(ze))}}):Ce.extend({initialize:function(ze){if(ze._resizeSensor)return ze._resizeSensor;this.callSuper(Ce,"initialize"),this._el=ze,ze._resizeSensor=this,Fe(["absolute","relative","fixed","sticky"],Ne(ze,"position"))||Ne(ze,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var ze=this._el;ze._resizeSensor&&(this.rmAllListeners(),delete ze._resizeSensor,ze.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var ze=this._el,Ve={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},qe={position:"absolute",left:"0px",top:"0px",transition:"0s"},En=Ie("div",{style:qe}),vn=Ie("div.resize-sensor-expand",{style:Ve},En),hn=Ie("div.resize-sensor-shrink",{style:Ve},Ie("div",{style:Ue({width:"200%",height:"200%"},qe)})),_n=Ie("div.resize-sensor",{dir:"ltr",style:Ve},vn,hn);this._expandEl=vn,this._expandChildEl=En,this._shrinkEl=hn,this._resizeSensorEl=_n,ze.appendChild(_n),this._resetExpandShrink()},_bindEvent:function(){var ze=this;Oe.on(this._expandEl,"scroll",function(){return ze._onScroll()}),Oe.on(this._shrinkEl,"scroll",function(){return ze._onScroll()})},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var ze=this._el,Ve=ze.offsetWidth,qe=ze.offsetHeight;Ne(this._expandChildEl,{width:Ve+10,height:qe+10}),Ue(this._expandEl,{scrollLeft:Ve+10,scrollTop:qe+10}),Ue(this._shrinkEl,{scrollLeft:Ve+10,scrollTop:qe+10})}}),xe.exports=pe},3244:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(6768),Oe=_e(3783),Ne=_e(9971),Fe=new(pe=Ce({className:"Select",initialize:function(Ue){return this.length=0,Ue?Ie(Ue)?Fe.find(Ue):void(Ue.nodeType&&(this[0]=Ue,this.length=1)):this},find:function(Ue){var $e=new pe;return this.each(function(){Ne($e,this.querySelectorAll(Ue))}),$e},each:function(Ue){return Oe(this,function($e,ze){Ue.call($e,ze,$e)}),this}}))(document);xe.exports=pe},8985:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(4675),Oe=_e(3783),Ne=_e(1352);pe=Ce({initialize:function(){this._listeners=[]},addListener:function(Fe){this._listeners.push(Fe)},rmListener:function(Fe){var Ue=this._listeners.indexOf(Fe);Ue>-1&&this._listeners.splice(Ue,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var Fe=this,Ue=Ne(arguments),$e=Ie(this._listeners);Oe($e,function(ze){return ze.apply(Fe,Ue)},this)}},{mixin:function(Fe){Oe(["addListener","rmListener","emit","rmAllListeners"],function(Ue){Fe[Ue]=pe.prototype[Ue]}),Fe._listeners=Fe._listeners||[]}}),xe.exports=pe},9001:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(1527);pe=Ce({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(Oe){return this._items.push(Oe),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(Oe,Ne){Ne=arguments.length>1?Ne:this;for(var Fe=this._items,Ue=this.size-1,$e=0;Ue>=0;Ue--,$e++)Oe.call(Ne,Fe[Ue],$e,this)},toArr:function(){return Ie(this._items)}}),xe.exports=pe},5128:function(xe,pe,_e){var Ce=_e(1443),Ie=_e(6768),Oe=_e(5166),Ne=_e(3783),Fe=_e(1352);pe=Ce.extend({initialize:function(Ue){this.callSuper(Ce,"initialize",arguments),this._data=Ue||{},this.save(this._data)},set:function(Ue,$e){var ze;Ie(Ue)?(ze={})[Ue]=$e:Oe(Ue)&&(ze=Ue);var Ve=this;Ne(ze,function(qe,En){var vn=Ve._data[En];Ve._data[En]=qe,Ve.emit("change",En,qe,vn)}),this.save(this._data)},get:function(Ue){var $e=this._data;if(Ie(Ue))return $e[Ue];var ze={};return Ne(Ue,function(Ve){ze[Ve]=$e[Ve]}),ze},remove:function(Ue){Ue=Fe(Ue);var $e=this._data;Ne(Ue,function(ze){delete $e[ze]}),this.save($e)},clear:function(){this._data={},this.save(this._data)},each:function(Ue){Ne(this._data,Ue)},save:function(Ue){this._data=Ue}}),xe.exports=pe},6334:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(6329),Oe=_e(4331),Ne=_e(1745),Fe=_e(8887),Ue=_e(3783),$e=_e(6472),ze=_e(1352),Ve=_e(2727),qe=_e(5166),En=_e(3367);pe=Ce({className:"Url",initialize:function(bn){!bn&&Ve&&(bn=window.location.href),Ie(this,pe.parse(bn||""))},setQuery:function(bn,An){var xn=this.query;return qe(bn)?Ue(bn,function(Sn,Cn){xn[Cn]=En(Sn)}):xn[bn]=En(An),this},rmQuery:function(bn){var An=this.query;return $e(bn)||(bn=ze(bn)),Ue(bn,function(xn){delete An[xn]}),this},toString:function(){return pe.stringify(this)}},{parse:function(bn){var An={protocol:"",auth:"",hostname:"",hash:"",query:{},port:"",pathname:"",slashes:!1},xn=Oe(bn),Sn=!1,Cn=xn.match(vn);if(Cn&&(Cn=Cn[0],An.protocol=Cn.toLowerCase(),xn=xn.substr(Cn.length)),Cn&&(Sn=xn.substr(0,2)==="//")&&(xn=xn.slice(2),An.slashes=!0),Sn){for(var Tn=xn,wn=-1,Ln=0,Pn=_n.length;Ln<Pn;Ln++){var kn=xn.indexOf(_n[Ln]);kn!==-1&&(wn===-1||kn<wn)&&(wn=kn)}wn>-1&&(Tn=xn.slice(0,wn),xn=xn.slice(wn));var In=Tn.lastIndexOf("@");In!==-1&&(An.auth=decodeURIComponent(Tn.slice(0,In)),Tn=Tn.slice(In+1)),An.hostname=Tn;var Rn=Tn.match(hn);Rn&&((Rn=Rn[0])!==":"&&(An.port=Rn.substr(1)),An.hostname=Tn.substr(0,Tn.length-Rn.length))}var Nn=xn.indexOf("#");Nn!==-1&&(An.hash=xn.substr(Nn),xn=xn.slice(0,Nn));var On=xn.indexOf("?");return On!==-1&&(An.query=Ne.parse(xn.substr(On+1)),xn=xn.slice(0,On)),An.pathname=xn||"/",An},stringify:function(bn){var An=bn.protocol+(bn.slashes?"//":"")+(bn.auth?encodeURIComponent(bn.auth)+"@":"")+bn.hostname+(bn.port?":"+bn.port:"")+bn.pathname;return Fe(bn.query)||(An+="?"+Ne.stringify(bn.query)),bn.hash&&(An+=bn.hash),An}});var vn=/^([a-z0-9.+-]+:)/i,hn=/:[0-9]*$/,_n=["/","?","#"];xe.exports=pe},8991:function(xe,pe,_e){var Ce=_e(4777),Ie=_e(1214),Oe=_e(4193),Ne=_e(5166),Fe=_e(1745);function Ue($e,ze,Ve,qe){return Ce(ze)&&(qe=Ve,Ve=ze,ze={}),{url:$e,data:ze,success:Ve,dataType:qe}}(pe=function($e){Oe($e,pe.setting);var ze,Ve=$e.type,qe=$e.url,En=$e.data,vn=$e.dataType,hn=$e.success,_n=$e.error,bn=$e.timeout,An=$e.complete,xn=$e.xhr();return xn.onreadystatechange=function(){if(xn.readyState===4){var Sn;clearTimeout(ze);var Cn=xn.status;if(Cn>=200&&Cn<300||Cn===304){Sn=xn.responseText,vn==="xml"&&(Sn=xn.responseXML);try{vn==="json"&&(Sn=JSON.parse(Sn))}catch(Tn){}hn(Sn,xn)}else _n(xn);An(xn)}},Ve==="GET"?(En=Fe.stringify(En))&&(qe+=qe.indexOf("?")>-1?"&"+En:"?"+En):$e.contentType==="application/x-www-form-urlencoded"?Ne(En)&&(En=Fe.stringify(En)):$e.contentType==="application/json"&&Ne(En)&&(En=JSON.stringify(En)),xn.open(Ve,qe,!0),xn.setRequestHeader("Content-Type",$e.contentType),bn>0&&(ze=setTimeout(function(){xn.onreadystatechange=Ie,xn.abort(),_n(xn,"timeout"),An(xn)},bn)),xn.send(Ve==="GET"?null:En),xn}).setting={type:"GET",success:Ie,error:Ie,complete:Ie,dataType:"json",contentType:"application/x-www-form-urlencoded",data:{},xhr:function(){return new XMLHttpRequest},timeout:0},pe.get=function(){return pe(Ue.apply(null,arguments))},pe.post=function(){var $e=Ue.apply(null,arguments);return $e.type="POST",pe($e)},xe.exports=pe},1116:function(xe,pe,_e){var Ce=_e(2533),Ie=_e(415),Oe=_e(42),Ne=Object.getOwnPropertyNames,Fe=Object.getOwnPropertySymbols;pe=function(Ue){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=$e.prototype,Ve=ze===void 0||ze,qe=$e.unenumerable,En=qe!==void 0&&qe,vn=$e.symbol,hn=vn!==void 0&&vn,_n=[];if((En||hn)&&Ne){var bn=Ce;En&&Ne&&(bn=Ne);do _n=_n.concat(bn(Ue)),hn&&Fe&&(_n=_n.concat(Fe(Ue)));while(Ve&&(Ue=Ie(Ue))&&Ue!==Object.prototype);_n=Oe(_n)}else if(Ve)for(var An in Ue)_n.push(An);else _n=Ce(Ue);return _n},xe.exports=pe},7913:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(1286),Oe=_e(4777);pe=function(Ne,Fe){Ie(Fe)&&(Fe=!0);var Ue=Oe(Fe),$e={};return Ce(Ne,function(ze){$e[ze]=Ue?Fe(ze):Fe}),$e},xe.exports=pe},3901:function(xe,pe){pe={encode:function(Ne){var Fe,Ue,$e=[],ze=Ne.length,Ve=ze%3;ze-=Ve;for(var qe=0;qe<ze;qe+=3)$e.push((Fe=(Ne[qe]<<16)+(Ne[qe+1]<<8)+Ne[qe+2],Ce[Fe>>18&63]+Ce[Fe>>12&63]+Ce[Fe>>6&63]+Ce[63&Fe]));return ze=Ne.length,Ve===1?(Ue=Ne[ze-1],$e.push(Ce[Ue>>2]),$e.push(Ce[Ue<<4&63]),$e.push("==")):Ve===2&&(Ue=(Ne[ze-2]<<8)+Ne[ze-1],$e.push(Ce[Ue>>10]),$e.push(Ce[Ue>>4&63]),$e.push(Ce[Ue<<2&63]),$e.push("=")),$e.join("")},decode:function(Ne){var Fe=Ne.length,Ue=0;Ne[Fe-2]==="="?Ue=2:Ne[Fe-1]==="="&&(Ue=1);var $e,ze,Ve,qe,En,vn,hn,_n=new Array(3*Fe/4-Ue);for(Fe=Ue>0?Fe-4:Fe,$e=0,ze=0;$e<Fe;$e+=4){var bn=(Ve=Ne[$e],qe=Ne[$e+1],En=Ne[$e+2],vn=Ne[$e+3],_e[Ve.charCodeAt(0)]<<18|_e[qe.charCodeAt(0)]<<12|_e[En.charCodeAt(0)]<<6|_e[vn.charCodeAt(0)]);_n[ze++]=bn>>16&255,_n[ze++]=bn>>8&255,_n[ze++]=255&bn}return Ue===2?(hn=_e[Ne.charCodeAt($e)]<<2|_e[Ne.charCodeAt($e+1)]>>4,_n[ze++]=255&hn):Ue===1&&(hn=_e[Ne.charCodeAt($e)]<<10|_e[Ne.charCodeAt($e+1)]<<4|_e[Ne.charCodeAt($e+2)]>>2,_n[ze++]=hn>>8&255,_n[ze++]=255&hn),_n}};for(var _e=[],Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ie=0,Oe=Ce.length;Ie<Oe;Ie++)_e[Ce.charCodeAt(Ie)]=Ie;xe.exports=pe},5637:function(xe,pe){pe=function(_e,Ce){var Ie;return function(){return--_e>0&&(Ie=Ce.apply(this,arguments)),_e<=1&&(Ce=null),Ie}},xe.exports=pe},7494:function(xe,pe,_e){var Ce=_e(8935);function Ie(Oe,Ne){this[Ne]=Oe.replace(/\w/,function(Fe){return Fe.toUpperCase()})}pe=function(Oe){var Ne=Ce(Oe),Fe=Ne[0];return Ne.shift(),Ne.forEach(Ie,Ne),Fe+=Ne.join("")},xe.exports=pe},1694:function(xe,pe,_e){var Ce=_e(6257),Ie=_e(6472);pe=function(Fe,Ue){if(Ie(Fe))return Fe;if(Ue&&Ce(Ue,Fe))return[Fe];var $e=[];return Fe.replace(Oe,function(ze,Ve,qe,En){$e.push(qe?En.replace(Ne,"$1"):Ve||ze)}),$e};var Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/\\(\\)?/g;xe.exports=pe},996:function(xe,pe){pe=function(_e,Ce){var Ie=[];Ce=Ce||1;for(var Oe=0,Ne=Math.ceil(_e.length/Ce);Oe<Ne;Oe++){var Fe=Oe*Ce,Ue=Fe+Ce;Ie.push(_e.slice(Fe,Ue))}return Ie},xe.exports=pe},9882:function(xe,pe,_e){var Ce=_e(1286);pe=function(Ie,Oe,Ne){return Ce(Ne)&&(Ne=Oe,Oe=void 0),!Ce(Oe)&&Ie<Oe?Oe:Ie>Ne?Ne:Ie},xe.exports=pe},4675:function(xe,pe,_e){var Ce=_e(5166),Ie=_e(6472),Oe=_e(6329);pe=function(Ne){return Ce(Ne)?Ie(Ne)?Ne.slice():Oe({},Ne):Ne},xe.exports=pe},550:function(xe,pe,_e){var Ce=_e(5166),Ie=_e(4777),Oe=_e(6472),Ne=_e(8820);pe=function(Fe){return Oe(Fe)?Fe.map(function(Ue){return pe(Ue)}):Ce(Fe)&&!Ie(Fe)?Ne(Fe,function(Ue){return pe(Ue)}):Fe},xe.exports=pe},8099:function(xe,pe,_e){var Ce=_e(1352);pe=function(){for(var Ie=Ce(arguments),Oe=[],Ne=0,Fe=Ie.length;Ne<Fe;Ne++)Oe=Oe.concat(Ce(Ie[Ne]));return Oe},xe.exports=pe},6341:function(xe,pe,_e){var Ce=_e(496),Ie=_e(6768),Oe=_e(1369),Ne=_e(2578);pe=function(Fe,Ue){return Ie(Fe)?Fe.indexOf(Ue)>-1:(Oe(Fe)||(Fe=Ne(Fe)),Ce(Fe,Ue)>=0)},xe.exports=pe},1792:function(xe,pe,_e){var Ce=_e(6768),Ie=_e(3901),Oe=_e(385),Ne=_e(6472),Fe=_e(2349),Ue=_e(3085),$e=_e(3063);(pe=function(ze,Ve){var qe;if(Ve=$e(Ve),Ce(ze))qe=new Uint8Array(Ie.decode(ze));else if(Oe(ze))ze=ze.slice(0),qe=new Uint8Array(ze);else if(Ne(ze))qe=new Uint8Array(ze);else if(Ue(ze)==="uint8array")qe=ze.slice(0);else if(Fe(ze)){qe=new Uint8Array(ze.length);for(var En=0;En<ze.length;En++)qe[En]=ze[En]}if(qe)switch(Ve){case"base64":qe=Ie.encode(qe);break;case"arraybuffer":qe=qe.buffer;break;case"array":qe=[].slice.call(qe);break;case"buffer":qe=Buffer.from(qe);break;case"blob":qe=new Blob([qe.buffer])}return qe}).blobToArrBuffer=function(ze){return new Promise(function(Ve,qe){var En=new FileReader;En.onload=function(vn){Ve(vn.target.result)},En.onerror=function(vn){qe(vn)},En.readAsArrayBuffer(ze)})},xe.exports=pe},6299:function(xe,pe,_e){var Ce=_e(4193),Ie=_e(3990),Oe=_e(1286),Ne=_e(1420),Fe={path:"/"};function Ue($e,ze,Ve){if(!Oe(ze)){if(Ve=Ce(Ve=Ve||{},Fe),Ie(Ve.expires)){var qe=new Date;qe.setMilliseconds(qe.getMilliseconds()+864e5*Ve.expires),Ve.expires=qe}return ze=encodeURIComponent(ze),$e=encodeURIComponent($e),document.cookie=[$e,"=",ze,Ve.expires&&"; expires="+Ve.expires.toUTCString(),Ve.path&&"; path="+Ve.path,Ve.domain&&"; domain="+Ve.domain,Ve.secure?"; secure":""].join(""),pe}for(var En=document.cookie?document.cookie.split("; "):[],vn=$e?void 0:{},hn=0,_n=En.length;hn<_n;hn++){var bn=En[hn],An=bn.split("="),xn=Ne(An.shift());if(bn=An.join("="),bn=Ne(bn),$e===xn){vn=bn;break}$e||(vn[xn]=bn)}return vn}pe={get:Ue,set:Ue,remove:function($e,ze){return(ze=ze||{}).expires=-1,Ue($e,"",ze)}},xe.exports=pe},2327:function(xe,pe,_e){var Ce=_e(6329),Ie=_e(1214);pe=function(Oe,Ne){Ne=Ne||Ie;var Fe=document.createElement("textarea"),Ue=document.body;Ce(Fe.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),Fe.value=Oe,Ue.appendChild(Fe),Fe.setAttribute("readonly",""),Fe.select(),Fe.setSelectionRange(0,Oe.length);try{document.execCommand("copy"),Ne()}catch($e){Ne($e)}finally{Ue.removeChild(Fe)}},xe.exports=pe},1662:function(xe,pe,_e){var Ce=_e(5166);pe=function(Oe){if(!Ce(Oe))return{};if(Ie)return Ie(Oe);function Ne(){}return Ne.prototype=Oe,new Ne};var Ie=Object.create;xe.exports=pe},4427:function(xe,pe,_e){var Ce=_e(1286),Ie=_e(3783);pe=function(Oe,Ne){return function(Fe){return Ie(arguments,function(Ue,$e){if($e!==0){var ze=Oe(Ue);Ie(ze,function(Ve){Ne&&!Ce(Fe[Ve])||(Fe[Ve]=Ue[Ve])})}}),Fe}},xe.exports=pe},4210:function(xe,pe,_e){var Ce=_e(1475),Ie=_e(1286),Oe=_e(7494);pe=Ce(function(Fe,Ue){return Ie(Ue)?(Fe=Oe(Fe),!Ie(Ne[Fe])):(Ne.cssText="",Ne.cssText=Fe+":"+Ue,!!Ne.length)},function(Fe,Ue){return Fe+" "+Ue});var Ne=document.createElement("p").style;xe.exports=pe},4407:function(xe,pe,_e){var Ce=_e(6768),Ie=_e(2106),Oe=_e(3367),Ne=_e(5351);pe=function(qe,En,vn,hn){arguments.length===1&&Ce(qe)&&!ze.test(qe)&&(En=qe,qe=void 0),qe=qe||new Date,Ie(qe)||(qe=new Date(qe));var _n=(En=Oe(pe.masks[En]||En||pe.masks.default)).slice(0,4);_n!=="UTC:"&&_n!=="GMT:"||(En=En.slice(4),vn=!0,_n==="GMT:"&&(hn=!0));var bn=vn?"getUTC":"get",An=qe[bn+"Date"](),xn=qe[bn+"Day"](),Sn=qe[bn+"Month"](),Cn=qe[bn+"FullYear"](),Tn=qe[bn+"Hours"](),wn=qe[bn+"Minutes"](),Ln=qe[bn+"Seconds"](),Pn=qe[bn+"Milliseconds"](),kn=vn?0:qe.getTimezoneOffset(),In={d:An,dd:Fe(An),ddd:pe.i18n.dayNames[xn],dddd:pe.i18n.dayNames[xn+7],m:Sn+1,mm:Fe(Sn+1),mmm:pe.i18n.monthNames[Sn],mmmm:pe.i18n.monthNames[Sn+12],yy:Oe(Cn).slice(2),yyyy:Cn,h:Tn%12||12,hh:Fe(Tn%12||12),H:Tn,HH:Fe(Tn),M:wn,MM:Fe(wn),s:Ln,ss:Fe(Ln),l:Fe(Pn,3),L:Fe(Math.round(Pn/10)),t:Tn<12?"a":"p",tt:Tn<12?"am":"pm",T:Tn<12?"A":"P",TT:Tn<12?"AM":"PM",Z:hn?"GMT":vn?"UTC":(Oe(qe).match($e)||[""]).pop().replace(Ve,""),o:(kn>0?"-":"+")+Fe(100*Math.floor(Math.abs(kn)/60)+Math.abs(kn)%60,4),S:["th","st","nd","rd"][An%10>3?0:(An%100-An%10!=10)*An%10]};return En.replace(Ue,function(Rn){return Rn in In?In[Rn]:Rn.slice(1,Rn.length-1)})};var Fe=function(qe){var En=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Ne(Oe(qe),En,"0")},Ue=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,$e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,ze=/\d/,Ve=/[^-+\dA-Z]/g;pe.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},pe.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},xe.exports=pe},6049:function(xe,pe){pe=function(_e,Ce,Ie){var Oe;return function(){var Ne=this,Fe=arguments;Ie||clearTimeout(Oe),Ie&&Oe||(Oe=setTimeout(function(){Oe=null,_e.apply(Ne,Fe)},Ce))}},xe.exports=pe},1420:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(8166),Oe=_e(2461),Ne=_e(5742);function Fe($e){return+("0x"+$e)}pe=function($e){try{return decodeURIComponent($e)}catch(Ve){var ze=$e.match(Ue);return ze&&Ce(ze,function(qe){$e=$e.replace(qe,function(En){En=En.split("%").slice(1);var vn=Oe(En,Fe);return En=Ie.encode(vn),En=Ne.decode(En,!0),En}(qe))}),$e}};var Ue=/(%[a-f0-9]{2})+/gi;xe.exports=pe},4193:function(xe,pe,_e){pe=_e(4427)(_e(1116),!0),xe.exports=pe},9803:function(xe,pe,_e){var Ce=_e(1694),Ie=_e(6768),Oe=_e(5166),Ne=_e(3783);function Fe(Ue,$e,ze){for(var Ve=Ce($e,Ue),qe=Ve.pop();$e=Ve.shift();)Ue[$e]||(Ue[$e]={}),Ue=Ue[$e];Object.defineProperty(Ue,qe,ze)}pe=function(Ue,$e,ze){return Ie($e)?Fe(Ue,$e,ze):Oe($e)&&Ne($e,function(Ve,qe){Fe(Ue,qe,Ve)}),Ue},xe.exports=pe},2443:function(xe,pe,_e){var Ce=_e(7496),Ie=_e(6341);function Oe(){return!0}function Ne(){return!1}function Fe($e){var ze,Ve=this.events[$e.type],qe=Ue.call(this,$e,Ve);$e=new pe.Event($e);for(var En,vn,hn=0;(vn=qe[hn++])&&!$e.isPropagationStopped();)for($e.curTarget=vn.el,En=0;(ze=vn.handlers[En++])&&!$e.isImmediatePropagationStopped();)ze.handler.apply(vn.el,[$e])===!1&&($e.preventDefault(),$e.stopPropagation())}function Ue($e,ze){var Ve,qe,En,vn,hn=$e.target,_n=[],bn=ze.delegateCount;if(hn.nodeType)for(;hn!==this;hn=hn.parentNode||this){for(qe=[],vn=0;vn<bn;vn++)qe[Ve=(En=ze[vn]).selector+" "]===void 0&&(qe[Ve]=Ie(this.querySelectorAll(Ve),hn)),qe[Ve]&&qe.push(En);qe.length&&_n.push({el:hn,handlers:qe})}return bn<ze.length&&_n.push({el:this,handlers:ze.slice(bn)}),_n}pe={add:function($e,ze,Ve,qe){var En,vn={selector:Ve,handler:qe};$e.events||($e.events={}),(En=$e.events[ze])||((En=$e.events[ze]=[]).delegateCount=0,$e.addEventListener(ze,function(){Fe.apply($e,arguments)},!1)),Ve?En.splice(En.delegateCount++,0,vn):En.push(vn)},remove:function($e,ze,Ve,qe){var En=$e.events;if(En&&En[ze])for(var vn,hn=En[ze],_n=hn.length;_n--;)vn=hn[_n],Ve&&vn.selector!=Ve||vn.handler!=qe||(hn.splice(_n,1),vn.selector&&hn.delegateCount--)},Event:Ce({className:"Event",initialize:function($e){this.origEvent=$e},isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,preventDefault:function(){var $e=this.origEvent;this.isDefaultPrevented=Oe,$e&&$e.preventDefault&&$e.preventDefault()},stopPropagation:function(){var $e=this.origEvent;this.isPropagationStopped=Oe,$e&&$e.stopPropagation&&$e.stopPropagation()},stopImmediatePropagation:function(){var $e=this.origEvent;this.isImmediatePropagationStopped=Oe,$e&&$e.stopImmediatePropagation&&$e.stopImmediatePropagation(),this.stopPropagation()}})},xe.exports=pe},4541:function(xe,pe,_e){var Ce=_e(2727),Ie=_e(9296),Oe=_e(2533);pe=function(ze){var Ve=$e(ze=(ze=ze||(Ce?navigator.userAgent:"")).toLowerCase(),"msie ");if(Ve)return{version:Ve,name:"ie"};if(Fe.test(ze))return{version:11,name:"ie"};for(var qe=0,En=Ue.length;qe<En;qe++){var vn=Ue[qe],hn=ze.match(Ne[vn]);if(hn!=null){var _n=Ie(hn[1].split(".")[0]);return vn==="opera"&&(_n=$e(ze,"version/")||_n),{name:vn,version:_n}}}return{name:"unknown",version:-1}};var Ne={edge:/edge\/([0-9._]+)/,firefox:/firefox\/([0-9.]+)(?:\s|$)/,opera:/opera\/([0-9.]+)(?:\s|$)/,android:/android\s([0-9.]+)/,ios:/version\/([0-9._]+).*mobile.*safari.*/,safari:/version\/([0-9._]+).*safari/,chrome:/(?!chrom.*opr)chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/},Fe=/trident\/7\./,Ue=Oe(Ne);function $e(ze,Ve){var qe=ze.indexOf(Ve);if(qe>-1)return Ie(ze.substring(qe+Ve.length,ze.indexOf(".",qe)))}xe.exports=pe},6954:function(xe,pe,_e){var Ce=_e(2727);pe=function(Ie){if(Ie=(Ie=Ie||(Ce?navigator.userAgent:"")).toLowerCase(),Oe("windows phone"))return"windows phone";if(Oe("win"))return"windows";if(Oe("android"))return"android";if(Oe("ipad")||Oe("iphone")||Oe("ipod"))return"ios";if(Oe("mac"))return"os x";if(Oe("linux"))return"linux";function Oe(Ne){return Ie.indexOf(Ne)>-1}return"unknown"},xe.exports=pe},801:function(xe,pe,_e){var Ce=_e(1137),Ie=_e(288),Oe=_e(5972),Ne=_e(6341);pe=Ce(function(Fe,Ue){return Ue=Ie(Ue),Oe(Fe,function($e){return!Ne(Ue,$e)})}),xe.exports=pe},3783:function(xe,pe,_e){var Ce=_e(1369),Ie=_e(2533),Oe=_e(3955);pe=function(Ne,Fe,Ue){var $e,ze;if(Fe=Oe(Fe,Ue),Ce(Ne))for($e=0,ze=Ne.length;$e<ze;$e++)Fe(Ne[$e],$e,Ne);else{var Ve=Ie(Ne);for($e=0,ze=Ve.length;$e<ze;$e++)Fe(Ne[Ve[$e]],Ve[$e],Ne)}return Ne},xe.exports=pe},4858:function(xe,pe){pe=function(_e,Ce){var Ie=_e.length-Ce.length;return Ie>=0&&_e.indexOf(Ce,Ie)===Ie},xe.exports=pe},8901:function(xe,pe,_e){var Ce=_e(2533),Ie=(pe=function($e){return Ne.test($e)?$e.replace(Fe,Ue):$e}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Oe="(?:"+Ce(Ie).join("|")+")",Ne=new RegExp(Oe),Fe=new RegExp(Oe,"g"),Ue=function($e){return Ie[$e]};xe.exports=pe},4187:function(xe,pe,_e){var Ce=_e(3367);pe=function(Oe){return Ce(Oe).replace(Ie,function(Ne){switch(Ne){case'"':case"'":case"\\":return"\\"+Ne;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};var Ie=/["'\\\n\r\u2028\u2029]/g;xe.exports=pe},2337:function(xe,pe){pe=function(_e){return _e.replace(/\W/g,"\\$&")},xe.exports=pe},642:function(xe,pe){pe=function(_e){var Ce=document.createElement("style");return Ce.textContent=_e,Ce.type="text/css",document.head.appendChild(Ce),Ce},xe.exports=pe},1672:function(xe,pe,_e){var Ce=_e(2838),Ie=_e(1369),Oe=_e(2533);pe=function(Ne,Fe,Ue){Fe=Ce(Fe,Ue);for(var $e=!Ie(Ne)&&Oe(Ne),ze=($e||Ne).length,Ve=0;Ve<ze;Ve++){var qe=$e?$e[Ve]:Ve;if(!Fe(Ne[qe],qe,Ne))return!1}return!0},xe.exports=pe},6329:function(xe,pe,_e){pe=_e(4427)(_e(1116)),xe.exports=pe},3021:function(xe,pe,_e){var Ce=_e(2533);pe=_e(4427)(Ce),xe.exports=pe},2581:function(xe,pe,_e){var Ce=_e(42),Ie=_e(4331),Oe=_e(2461),Ne=_e(1352);pe=function(Ue){var $e=Ne(Ue.match(Fe));return Ce(Oe($e,function(ze){return Ie(ze)}))};var Fe=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;xe.exports=pe},5972:function(xe,pe,_e){var Ce=_e(2838),Ie=_e(3783);pe=function(Oe,Ne,Fe){var Ue=[];return Ne=Ce(Ne,Fe),Ie(Oe,function($e,ze,Ve){Ne($e,ze,Ve)&&Ue.push($e)}),Ue},xe.exports=pe},2244:function(xe,pe,_e){var Ce=_e(2267),Ie=_e(4072),Oe=_e(1369),Ne=_e(1286);pe=function(Fe,Ue,$e){var ze=(Oe(Fe)?Ie:Ce)(Fe,Ue,$e);if(!Ne(ze)&&ze!==-1)return Fe[ze]},xe.exports=pe},4072:function(xe,pe,_e){var Ce=_e(2838);pe=function(Ie,Oe,Ne,Fe){Fe=Fe||1,Oe=Ce(Oe,Ne);for(var Ue=Ie.length,$e=Fe>0?0:Ue-1;$e>=0&&$e<Ue;){if(Oe(Ie[$e],$e,Ie))return $e;$e+=Fe}return-1},xe.exports=pe},2267:function(xe,pe,_e){var Ce=_e(2838),Ie=_e(2533);pe=function(Oe,Ne,Fe){Ne=Ce(Ne,Fe);for(var Ue,$e=Ie(Oe),ze=0,Ve=$e.length;ze<Ve;ze++)if(Ne(Oe[Ue=$e[ze]],Ue,Oe))return Ue},xe.exports=pe},288:function(xe,pe,_e){var Ce=_e(6472);function Ie(Oe,Ne){for(var Fe,Ue=Oe.length,$e=-1;Ue--;)Fe=Oe[++$e],Ce(Fe)?Ie(Fe,Ne):Ne.push(Fe);return Ne}pe=function(Oe){return Ie(Oe,[])},xe.exports=pe},4454:function(xe,pe,_e){var Ce=_e(2533);pe=function(Ie){return Object.freeze?Object.freeze(Ie):(Ce(Ie).forEach(function(Oe){Object.getOwnPropertyDescriptor(Ie,Oe).configurable&&Object.defineProperty(Ie,Oe,{writable:!1,configurable:!1})}),Ie)},xe.exports=pe},415:function(xe,pe,_e){var Ce=_e(5166),Ie=_e(4777),Oe=Object.getPrototypeOf,Ne={}.constructor;pe=function(Fe){if(Ce(Fe)){if(Oe)return Oe(Fe);var Ue=Fe.__proto__;return Ue||Ue===null?Ue:Ie(Fe.constructor)?Fe.constructor.prototype:Fe instanceof Ne?Ne.prototype:void 0}},xe.exports=pe},8613:function(xe,pe,_e){var Ce=_e(9833),Ie=_e(6768),Oe=_e(6930),Ne=_e(7781),Fe=_e(975),Ue=_e(3783),$e=_e(4777);pe=function(ze,Ve){for(var qe=arguments.length,En=new Array(qe>2?qe-2:0),vn=2;vn<qe;vn++)En[vn-2]=arguments[vn];(Ce(Ve)||Ie(Ve))&&(En.unshift(Ve),Ve=null),Ve||(Ve={});var hn=function(Sn){for(var Cn="div",Tn="",wn=[],Ln=[],Pn="",kn=0,In=Sn.length;kn<In;kn++){var Rn=Sn[kn];Rn==="#"||Rn==="."?(Ln.push(Pn),Pn=Rn):Pn+=Rn}Ln.push(Pn);for(var Nn=0,On=Ln.length;Nn<On;Nn++)(Pn=Ln[Nn])&&(Oe(Pn,"#")?Tn=Pn.slice(1):Oe(Pn,".")?wn.push(Pn.slice(1)):Cn=Pn);return{tagName:Cn,id:Tn,classes:wn}}(ze),_n=hn.tagName,bn=hn.id,An=hn.classes,xn=document.createElement(_n);return bn&&xn.setAttribute("id",bn),Ne.add(xn,An),Ue(En,function(Sn){Ie(Sn)?xn.appendChild(document.createTextNode(Sn)):Ce(Sn)&&xn.appendChild(Sn)}),Ue(Ve,function(Sn,Cn){Ie(Sn)?xn.setAttribute(Cn,Sn):$e(Sn)&&Oe(Cn,"on")?xn.addEventListener(Cn.slice(2),Sn,!1):Cn==="style"&&Fe(xn,Sn)}),xn},xe.exports=pe},6257:function(xe,pe){var _e=Object.prototype.hasOwnProperty;pe=function(Ce,Ie){return _e.call(Ce,Ie)},xe.exports=pe},5044:function(xe,pe,_e){var Ce=_e(7348);pe={encode:function(Ie){for(var Oe=[],Ne=0,Fe=Ie.length;Ne<Fe;Ne++){var Ue=Ie[Ne];Oe.push((Ue>>>4).toString(16)),Oe.push((15&Ue).toString(16))}return Oe.join("")},decode:function(Ie){var Oe=[],Ne=Ie.length;Ce(Ne)&&Ne--;for(var Fe=0;Fe<Ne;Fe+=2)Oe.push(parseInt(Ie.substr(Fe,2),16));return Oe}},xe.exports=pe},3651:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(4193);pe=function(Fe){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"js",$e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ie($e,Oe),Fe=Fe.replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ue=Ne[Ue];var ze=0,Ve=[];Ce(Ue,function(En){En.language&&(Fe=Fe.replace(En.re,function(vn,hn){return hn?(Ve[ze++]=pe(hn,En.language,$e),vn.replace(hn,"___subtmpl"+(ze-1)+"___")):vn}))}),Ce(Ue,function(En,vn){Ne[En.language]||(Fe=Fe.replace(En.re,"___"+vn+"___$1___end"+vn+"___"))});var qe=[];return Fe=Fe.replace(/___(?!subtmpl)\w+?___/g,function(En){var vn=En.substr(3,3)==="end",hn=(vn?En.substr(6):En.substr(3)).replace(/_/g,""),_n=qe.length>0?qe[qe.length-1]:null;return!vn&&(_n==null||hn==_n||_n!=null&&Ue[_n]&&Ue[_n].embed!=null&&Ue[_n].embed.indexOf(hn)>-1)?(qe.push(hn),En):vn&&hn==_n?(qe.pop(),En):""}),Ce(Ue,function(En,vn){var hn=$e[En.style]?' style="'.concat($e[En.style],'"'):"";Fe=Fe.replace(new RegExp("___end"+vn+"___","g"),"</span>").replace(new RegExp("___"+vn+"___","g"),'<span class="'.concat(En.style,'"').concat(hn,">"))}),Ce(Ue,function(En){En.language&&(Fe=Fe.replace(/___subtmpl\d+___/g,function(vn){var hn=parseInt(vn.replace(/___subtmpl(\d+)___/,"$1"),10);return Ve[hn]}))}),Fe};var Oe={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},Ne={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};Ne.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:Ne.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},Ne.css={comment:Ne.js.comment,string:Ne.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},xe.exports=pe},5925:function(xe,pe){pe=function(Ce){var Ie,Oe,Ne,Fe=Ce[0]/360,Ue=Ce[1]/100,$e=Ce[2]/100,ze=[];if(Ce[3]&&(ze[3]=Ce[3]),Ue===0)return Ne=_e(255*$e),ze[0]=ze[1]=ze[2]=Ne,ze;for(var Ve=2*$e-(Ie=$e<.5?$e*(1+Ue):$e+Ue-$e*Ue),qe=0;qe<3;qe++)(Oe=Fe+.3333333333333333*-(qe-1))<0&&Oe++,Oe>1&&Oe--,Ne=6*Oe<1?Ve+6*(Ie-Ve)*Oe:2*Oe<1?Ie:3*Oe<2?Ve+(Ie-Ve)*(.6666666666666666-Oe)*6:Ve,ze[qe]=_e(255*Ne);return ze};var _e=Math.round;xe.exports=pe},7483:function(xe,pe,_e){var Ce=_e(8702),Ie=_e(9001),Oe=_e(6472),Ne=_e(3783),Fe=_e(6768),Ue=_e(8820),$e=function(Ve){return Ve.replace(/&quot;/g,'"')},ze=function(Ve){return Ve.replace(/"/g,"&quot;")};pe={parse:function(Ve){var qe=[],En=new Ie;return Ce(Ve,{start:function(vn,hn){hn=Ue(hn,function(_n){return $e(_n)}),En.push({tag:vn,attrs:hn})},end:function(){var vn=En.pop();if(En.size){var hn=En.peek();Oe(hn.content)||(hn.content=[]),hn.content.push(vn)}else qe.push(vn)},comment:function(vn){var hn="<!--".concat(vn,"-->"),_n=En.peek();_n?(_n.content||(_n.content=[]),_n.content.push(hn)):qe.push(hn)},text:function(vn){var hn=En.peek();hn?(hn.content||(hn.content=[]),hn.content.push(vn)):qe.push(vn)}}),qe},stringify:function Ve(qe){var En="";return Oe(qe)?Ne(qe,function(vn){return En+=Ve(vn)}):Fe(qe)?En=qe:(En+="<".concat(qe.tag),Ne(qe.attrs,function(vn,hn){return En+=" ".concat(hn,'="').concat(ze(vn),'"')}),En+=">",qe.content&&(En+=Ve(qe.content)),En+="</".concat(qe.tag,">")),En}},xe.exports=pe},6362:function(xe,pe){pe=function(_e){return _e},xe.exports=pe},496:function(xe,pe){pe=function(_e,Ce,Ie){return Array.prototype.indexOf.call(_e,Ce,Ie)},xe.exports=pe},5022:function(xe,pe,_e){var Ce=_e(1662);pe=function(Ie,Oe){Ie.prototype=Ce(Oe.prototype)},xe.exports=pe},7190:function(xe,pe,_e){var Ce=_e(3783);pe=function(Ie){var Oe={};return Ce(Ie,function(Ne,Fe){Oe[Ne]=Fe}),Oe},xe.exports=pe},7403:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object Arguments]"},xe.exports=pe},6472:function(xe,pe,_e){var Ce=_e(106);pe=Array.isArray?Array.isArray:function(Ie){return Ce(Ie)==="[object Array]"},xe.exports=pe},385:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object ArrayBuffer]"},xe.exports=pe},1369:function(xe,pe,_e){var Ce=_e(3990),Ie=_e(4777),Oe=Math.pow(2,53)-1;pe=function(Ne){if(!Ne)return!1;var Fe=Ne.length;return Ce(Fe)&&Fe>=0&&Fe<=Oe&&!Ie(Ne)},xe.exports=pe},4696:function(xe,pe){pe=function(_e){return _e===!0||_e===!1},xe.exports=pe},2727:function(xe,pe){pe=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,xe.exports=pe},2349:function(xe,pe,_e){var Ce=_e(4777);pe=function(Ie){return Ie!=null&&(!!Ie._isBuffer||Ie.constructor&&Ce(Ie.constructor.isBuffer)&&Ie.constructor.isBuffer(Ie))},xe.exports=pe},2520:function(xe,pe,_e){var Ce=new(_e(2765))("(prefers-color-scheme: dark)");pe=function(){return Ce.isMatch()},xe.exports=pe},2106:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object Date]"},xe.exports=pe},9833:function(xe,pe){pe=function(_e){return!(!_e||_e.nodeType!==1)},xe.exports=pe},8887:function(xe,pe,_e){var Ce=_e(1369),Ie=_e(6472),Oe=_e(6768),Ne=_e(7403),Fe=_e(2533);pe=function(Ue){return Ue==null||(Ce(Ue)&&(Ie(Ue)||Oe(Ue)||Ne(Ue))?Ue.length===0:Fe(Ue).length===0)},xe.exports=pe},2749:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object Error]"},xe.exports=pe},4777:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){var Oe=Ce(Ie);return Oe==="[object Function]"||Oe==="[object GeneratorFunction]"||Oe==="[object AsyncFunction]"},xe.exports=pe},9585:function(xe,pe,_e){var Ce=_e(5610),Ie=Ce.getComputedStyle,Oe=Ce.document;function Ne(Fe,Ue){return Fe.right<Ue.left||Fe.left>Ue.right||Fe.bottom<Ue.top||Fe.top>Ue.bottom}pe=function(Fe){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e=Ue.display,ze=$e===void 0||$e,Ve=Ue.visibility,qe=Ve!==void 0&&Ve,En=Ue.opacity,vn=En!==void 0&&En,hn=Ue.size,_n=hn!==void 0&&hn,bn=Ue.viewport,An=bn!==void 0&&bn,xn=Ue.overflow,Sn=xn!==void 0&&xn,Cn=Ie(Fe);if(ze){var Tn=Fe.tagName;if(Tn==="BODY"||Tn==="HTML"||Cn.position==="fixed"){if(Cn.display==="none")return!0;for(var wn=Fe;wn=wn.parentElement;)if(Ie(wn).display==="none")return!0}else if(Fe.offsetParent===null)return!0}if(qe&&Cn.visibility==="hidden")return!0;if(vn){if(Cn.opacity==="0")return!0;for(var Ln=Fe;Ln=Ln.parentElement;)if(Ie(Ln).opacity==="0")return!0}var Pn=Fe.getBoundingClientRect();if(_n&&(Pn.width===0||Pn.height===0))return!0;if(An)return Ne(Pn,{top:0,left:0,right:Oe.documentElement.clientWidth,bottom:Oe.documentElement.clientHeight});if(Sn)for(var kn=Fe;kn=kn.parentElement;){var In=Ie(kn).overflow;if((In==="scroll"||In==="hidden")&&Ne(Pn,kn.getBoundingClientRect()))return!0}return!1},xe.exports=pe},2246:function(xe,pe,_e){var Ce=_e(3990);pe=function(Ie){return Ce(Ie)&&Ie%1==0},xe.exports=pe},4219:function(xe,pe){pe=function(_e){try{return JSON.parse(_e),!0}catch(Ce){return!1}},xe.exports=pe},3708:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object Map]"},xe.exports=pe},7949:function(xe,pe,_e){var Ce=_e(2533);pe=function(Ie,Oe){var Ne=Ce(Oe),Fe=Ne.length;if(Ie==null)return!Fe;Ie=Object(Ie);for(var Ue=0;Ue<Fe;Ue++){var $e=Ne[Ue];if(Oe[$e]!==Ie[$e]||!($e in Ie))return!1}return!0},xe.exports=pe},9537:function(xe,pe,_e){var Ce=_e(4777);pe=typeof wx<"u"&&Ce(wx.openLocation),xe.exports=pe},9956:function(xe,pe,_e){var Ce=_e(2727),Ie=_e(1475),Oe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Ne=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;pe=Ie(function(Fe){return Fe=Fe||(Ce?navigator.userAgent:""),Oe.test(Fe)||Ne.test(Fe.substr(0,4))}),xe.exports=pe},9433:function(xe,pe,_e){var Ce=_e(3990);pe=function(Ie){return Ce(Ie)&&Ie!==+Ie},xe.exports=pe},8740:function(xe,pe,_e){var Ce=_e(5166),Ie=_e(4777),Oe=_e(300);pe=function($e){return!!Ce($e)&&(Ie($e)?Fe.test(Oe($e)):Ue.test(Oe($e)))};var Ne=Object.prototype.hasOwnProperty,Fe=new RegExp("^"+Oe(Ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=/^\[object .+?Constructor\]$/;xe.exports=pe},2763:function(xe,pe){pe=function(_e){return _e==null},xe.exports=pe},1965:function(xe,pe,_e){var Ce=_e(106);pe=typeof process<"u"&&Ce(process)==="[object process]",xe.exports=pe},6156:function(xe,pe){pe=function(_e){return _e===null},xe.exports=pe},3990:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object Number]"},xe.exports=pe},5166:function(xe,pe){pe=function(_e){var Ce=typeof _e;return!!_e&&(Ce==="function"||Ce==="object")},xe.exports=pe},7348:function(xe,pe,_e){var Ce=_e(2246);pe=function(Ie){return!!Ce(Ie)&&Ie%2!=0},xe.exports=pe},6997:function(xe,pe){pe=function(_e){var Ce=typeof _e;return _e==null||Ce!=="function"&&Ce!=="object"},xe.exports=pe},4321:function(xe,pe,_e){var Ce=_e(5166),Ie=_e(4777);pe=function(Oe){return Ce(Oe)&&Ie(Oe.then)&&Ie(Oe.catch)},xe.exports=pe},1754:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object RegExp]"},xe.exports=pe},7470:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object Set]"},xe.exports=pe},3843:function(xe,pe){pe=function(_e){for(var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe.defComparator,Ie=0,Oe=_e.length;Ie<Oe-1;Ie++)if(Ce(_e[Ie],_e[Ie+1])>0)return!1;return!0},pe.defComparator=function(_e,Ce){return _e<Ce?-1:_e>Ce?1:0},xe.exports=pe},6768:function(xe,pe,_e){var Ce=_e(106);pe=function(Ie){return Ce(Ie)==="[object String]"},xe.exports=pe},9804:function(xe,pe){pe=function(_e){return typeof _e=="symbol"},xe.exports=pe},1286:function(xe,pe){pe=function(_e){return _e===void 0},xe.exports=pe},7622:function(xe,pe,_e){var Ce=_e(8935);pe=function(Ie){return Ce(Ie).join("-")},xe.exports=pe},2533:function(xe,pe,_e){var Ce=_e(6257);pe=Object.keys?Object.keys:function(Ie){var Oe=[];for(var Ne in Ie)Ce(Ie,Ne)&&Oe.push(Ne);return Oe},xe.exports=pe},9702:function(xe,pe){pe=function(_e){var Ce=_e?_e.length:0;if(Ce)return _e[Ce-1]},xe.exports=pe},3988:function(xe,pe,_e){var Ce=_e(2581),Ie=_e(3783),Oe=_e(2337);function Ne(Fe){return'<a href="'+Fe+'">'+Fe+"</a>"}pe=function(Fe,Ue){Ue=Ue||Ne;var $e=Ce(Fe);return Ie($e,function(ze){Fe=Fe.replace(new RegExp(Oe(ze),"g"),Ue)}),Fe},xe.exports=pe},9622:function(xe,pe){pe=function(_e,Ce){var Ie=document.createElement("script");Ie.src=_e,Ie.onload=function(){var Oe=Ie.readyState&&Ie.readyState!="complete"&&Ie.readyState!="loaded";Ce&&Ce(!Oe)},Ie.onerror=function(){Ce(!1)},document.body.appendChild(Ie)},xe.exports=pe},3063:function(xe,pe,_e){var Ce=_e(3367);pe=function(Ie){return Ce(Ie).toLocaleLowerCase()},xe.exports=pe},5351:function(xe,pe,_e){var Ce=_e(4552),Ie=_e(3367);pe=function(Oe,Ne,Fe){var Ue=(Oe=Ie(Oe)).length;return Fe=Fe||" ",Ue<Ne&&(Oe=(Ce(Fe,Ne-Ue)+Oe).slice(-Ne)),Oe},xe.exports=pe},7767:function(xe,pe){var _e=/^\s+/;pe=function(Ce,Ie){if(Ie==null)return Ce.trimLeft?Ce.trimLeft():Ce.replace(_e,"");for(var Oe,Ne,Fe=0,Ue=Ce.length,$e=Ie.length,ze=!0;ze&&Fe<Ue;)for(ze=!1,Oe=-1,Ne=Ce.charAt(Fe);++Oe<$e;)if(Ne===Ie[Oe]){ze=!0,Fe++;break}return Fe>=Ue?"":Ce.substr(Fe,Ue)},xe.exports=pe},2461:function(xe,pe,_e){var Ce=_e(2838),Ie=_e(2533),Oe=_e(1369);pe=function(Ne,Fe,Ue){Fe=Ce(Fe,Ue);for(var $e=!Oe(Ne)&&Ie(Ne),ze=($e||Ne).length,Ve=Array(ze),qe=0;qe<ze;qe++){var En=$e?$e[qe]:qe;Ve[qe]=Fe(Ne[En],En,Ne)}return Ve},xe.exports=pe},8820:function(xe,pe,_e){var Ce=_e(2838),Ie=_e(2533);pe=function(Oe,Ne,Fe){Ne=Ce(Ne,Fe);for(var Ue=Ie(Oe),$e=Ue.length,ze={},Ve=0;Ve<$e;Ve++){var qe=Ue[Ve];ze[qe]=Ne(Oe[qe],qe,Oe)}return ze},xe.exports=pe},4491:function(xe,pe,_e){var Ce=_e(3021),Ie=_e(7949);pe=function(Oe){return Oe=Ce({},Oe),function(Ne){return Ie(Ne,Oe)}},xe.exports=pe},9853:function(xe,pe){pe=function(){for(var _e=arguments,Ce=_e[0],Ie=1,Oe=_e.length;Ie<Oe;Ie++)_e[Ie]>Ce&&(Ce=_e[Ie]);return Ce},xe.exports=pe},5026:function(xe,pe,_e){var Ce=_e(2533);pe={getItem:function($e){return(Oe[$e]?Ie[$e]:this[$e])||null},setItem:function($e,ze){Oe[$e]?Ie[$e]=ze:this[$e]=ze},removeItem:function($e){Oe[$e]?delete Ie[$e]:delete this[$e]},key:function($e){var ze=Ne();return $e>=0&&$e<ze.length?ze[$e]:null},clear:function(){for(var $e,ze=Fe(),Ve=0;$e=ze[Ve];Ve++)delete this[$e];ze=Ue();for(var qe,En=0;qe=ze[En];En++)delete Ie[qe]}},Object.defineProperty(pe,"length",{enumerable:!1,configurable:!0,get:function(){return Ne().length}});var Ie={},Oe={getItem:1,setItem:1,removeItem:1,key:1,clear:1,length:1};function Ne(){return Fe().concat(Ue())}function Fe(){return Ce(pe).filter(function($e){return!Oe[$e]})}function Ue(){return Ce(Ie)}xe.exports=pe},1475:function(xe,pe,_e){var Ce=_e(6257);pe=function(Ie,Oe){var Ne=function(Fe){var Ue=Ne.cache,$e=""+(Oe?Oe.apply(this,arguments):Fe);return Ce(Ue,$e)||(Ue[$e]=Ie.apply(this,arguments)),Ue[$e]};return Ne.cache={},Ne},xe.exports=pe},9971:function(xe,pe,_e){pe=_e(1137)(function(Ce,Ie){for(var Oe=Ce.length,Ne=0,Fe=Ie.length;Ne<Fe;Ne++)for(var Ue=Ie[Ne],$e=0,ze=Ue.length;$e<ze;$e++)Ce[Oe++]=Ue[$e];return Ce.length=Oe,Ce}),xe.exports=pe},8573:function(xe,pe,_e){var Ce=_e(3783),Ie=_e(6768),Oe=_e(1286),Ne=_e(6341),Fe=_e(6472),Ue=_e(5166),$e=_e(1352);(pe=function(En,vn){if(Oe(En))return hn={},Ve(function(bn,An){hn[bn]=An}),hn;var hn;if(Ie(En)&&Oe(vn)||Fe(En))return function(bn){if(!Ie(bn)){var An={};return Ve(function(Sn,Cn){Ne(bn,Sn)&&(An[Sn]=Cn)}),An}var xn=qe(bn);if(xn)return xn.getAttribute("content")}(En);var _n=En;Ue(_n)||((_n={})[En]=vn),function(bn){Ce(bn,function(An,xn){var Sn=qe(xn);if(Sn)return Sn.setAttribute("content",An);(Sn=ze.createElement("meta")).setAttribute("name",xn),Sn.setAttribute("content",An),ze.head.appendChild(Sn)})}(_n)}).remove=function(En){En=$e(En),Ce(En,function(vn){var hn=qe(vn);hn&&ze.head.removeChild(hn)})};var ze=document;function Ve(En){var vn=ze.querySelectorAll("meta");Ce(vn,function(hn){var _n=hn.getAttribute("name"),bn=hn.getAttribute("content");_n&&bn&&En(_n,bn)})}function qe(En){return ze.querySelector('meta[name="'+En+'"]')}xe.exports=pe},6435:function(xe,pe){pe=function(){for(var _e=arguments,Ce=_e[0],Ie=1,Oe=_e.length;Ie<Oe;Ie++)_e[Ie]<Ce&&(Ce=_e[Ie]);return Ce},xe.exports=pe},4677:function(xe,pe,_e){var Ce=_e(3875),Ie=_e(6768);pe=function(Ue){if(Ie(Ue)){var $e=Ue.match(Fe);return $e?Ce($e[1])*Oe[$e[2]||"ms"]:0}for(var ze=Ue,Ve="ms",qe=0,En=Ne.length;qe<En;qe++)if(ze>=Oe[Ne[qe]]){Ve=Ne[qe];break}return+(ze/Oe[Ve]).toFixed(2)+Ve};var Oe={ms:1,s:1e3};Oe.m=60*Oe.s,Oe.h=60*Oe.m,Oe.d=24*Oe.h,Oe.y=365.25*Oe.d;var Ne=["y","d","h","m","s"],Fe=/^((?:\d+)?\.?\d+) *(s|m|h|d|y)?$/;xe.exports=pe},6339:function(xe,pe,_e){var Ce=_e(6930),Ie=_e(5610),Oe=_e(3367);function Ne(Fe,Ue){if(Fe=Oe(Fe),Ue=Oe(Ue),Ce(Fe,"_")&&!Ce(Ue,"_"))return 1;if(Ce(Ue,"_")&&!Ce(Fe,"_"))return-1;for(var $e,ze,Ve,qe,En=/^\d+|^\D+/;;){if(!Fe)return Ue?-1:0;if(!Ue)return 1;if($e=Fe.match(En)[0],ze=Ue.match(En)[0],Ve=!Ie.isNaN($e),qe=!Ie.isNaN(ze),Ve&&!qe)return-1;if(qe&&!Ve)return 1;if(Ve&&qe){var vn=$e-ze;if(vn)return vn;if($e.length!==ze.length)return+$e||+ze?ze.length-$e.length:$e.length-ze.length}else if($e!==ze)return $e<ze?-1:1;Fe=Fe.substring($e.length),Ue=Ue.substring(ze.length)}}pe=function(Fe){return Fe.sort(Ne)},xe.exports=pe},6837:function(xe,pe){function _e(Ce){if(typeof Ce!="function")throw new TypeError(Ce+" is not a function");return Ce}pe=typeof process=="object"&&process.nextTick?process.nextTick:typeof setImmediate=="function"?function(Ce){setImmediate(_e(Ce))}:function(Ce){setTimeout(_e(Ce),0)},xe.exports=pe},1214:function(xe,pe){pe=function(){},xe.exports=pe},8847:function(xe,pe){pe=Date.now?Date.now:function(){return new Date().getTime()},xe.exports=pe},106:function(xe,pe){var _e=Object.prototype.toString;pe=function(Ce){return _e.call(Ce)},xe.exports=pe},8763:function(xe,pe,_e){pe=_e(4198)(_e(5637),2),xe.exports=pe},3955:function(xe,pe,_e){var Ce=_e(1286);pe=function(Ie,Oe,Ne){if(Ce(Oe))return Ie;switch(Ne==null?3:Ne){case 1:return function(Fe){return Ie.call(Oe,Fe)};case 3:return function(Fe,Ue,$e){return Ie.call(Oe,Fe,Ue,$e)};case 4:return function(Fe,Ue,$e,ze){return Ie.call(Oe,Fe,Ue,$e,ze)}}return function(){return Ie.apply(Oe,arguments)}},xe.exports=pe},442:function(xe,pe,_e){var Ce=_e(1443),Ie=_e(7653),Oe=window.screen;pe={get:function(){if(Oe){var Ne=Ie(Oe,"orientation.type");if(Ne)return Ne.split("-").shift()}return window.innerWidth>window.innerHeight?"landscape":"portrait"}},Ce.mixin(pe),window.addEventListener("orientationchange",function(){setTimeout(function(){pe.emit("change",pe.get())},200)},!1),xe.exports=pe},8702:function(xe,pe,_e){var Ce=_e(9702),Ie=_e(7913),Oe=_e(6930),Ne=_e(3063);pe=function(qe,En){for(var vn,hn=[],_n=qe;qe;){if(vn=!0,Ce(hn)&&Ve[Ce(hn)]){var bn=new RegExp("</".concat(Ce(hn),"[^>]*>")).exec(qe);if(bn){var An=qe.substring(0,bn.index);qe=qe.substring(bn.index+bn[0].length),An&&En.text&&En.text(An)}kn("",Ce(hn))}else{if(Oe(qe,"<!--")){var xn=qe.indexOf("-->");xn>=0&&(En.comment&&En.comment(qe.substring(4,xn)),qe=qe.substring(xn+3),vn=!1)}else if(Oe(qe,"<!")){var Sn=qe.match(Fe);Sn&&(En.text&&En.text(qe.substring(0,Sn[0].length)),qe=qe.substring(Sn[0].length),vn=!1)}else if(Oe(qe,"</")){var Cn=qe.match(Ue);Cn&&(qe=qe.substring(Cn[0].length),Cn[0].replace(Ue,kn),vn=!1)}else if(Oe(qe,"<")){var Tn=qe.match($e);Tn&&(qe=qe.substring(Tn[0].length),Tn[0].replace($e,Pn),vn=!1)}if(vn){var wn=qe.indexOf("<"),Ln=wn<0?qe:qe.substring(0,wn);qe=wn<0?"":qe.substring(wn),En.text&&En.text(Ln)}}if(_n===qe)throw Error("Parse Error: "+qe);_n=qe}function Pn(In,Rn,Nn,On){if(Rn=Ne(Rn),(On=!!On)||hn.push(Rn),En.start){var Dn={};Nn.replace(ze,function(Mn,Bn,$n,Fn,Un){Dn[Bn]=$n||Fn||Un||""}),En.start(Rn,Dn,On)}}function kn(In,Rn){var Nn;if(Rn=Ne(Rn))for(Nn=hn.length-1;Nn>=0&&hn[Nn]!==Rn;Nn--);else Nn=0;if(Nn>=0){for(var On=hn.length-1;On>=Nn;On--)En.end&&En.end(hn[On]);hn.length=Nn}}kn()};var Fe=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,Ue=/^<\/([-A-Za-z0-9_]+)[^>]*>/,$e=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,ze=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,Ve=Ie("script,style".split(","));xe.exports=pe},4198:function(xe,pe,_e){var Ce=_e(1137),Ie=_e(1352);pe=Ce(function(Oe,Ne){return function(){var Fe=[];return Fe=(Fe=Fe.concat(Ne)).concat(Ie(arguments)),Oe.apply(this,Fe)}}),xe.exports=pe},1194:function(xe,pe,_e){var Ce,Ie=_e(8847),Oe=_e(5610),Ne=Oe.performance,Fe=Oe.process;if(Ne&&Ne.now)pe=function(){return Ne.now()};else if(Fe&&Fe.hrtime){var Ue=function(){var $e=Fe.hrtime();return 1e9*$e[0]+$e[1]};Ce=Ue()-1e9*Fe.uptime(),pe=function(){return(Ue()-Ce)/1e6}}else Ce=Ie(),pe=function(){return Ie()-Ce};xe.exports=pe},3487:function(xe,pe,_e){var Ce=_e(6768),Ie=_e(6472),Oe=_e(6341),Ne=_e(3783);pe=function(Fe,Ue,$e){if(Ce(Ue)&&(Ue=[Ue]),Ie(Ue)){var ze=Ue;Ue=function(En,vn){return Oe(ze,vn)}}var Ve={},qe=function(En,vn){Ue(En,vn)&&(Ve[vn]=En)};return $e&&(qe=function(En,vn){Ue(En,vn)||(Ve[vn]=En)}),Ne(Fe,qe),Ve},xe.exports=pe},747:function(xe,pe,_e){var Ce=_e(1475),Ie=_e(7494),Oe=_e(3023),Ne=_e(6257),Fe=_e(7622);(pe=Ce(function(Ve){if(Ve=Ve.replace($e,""),Ve=Ie(Ve),Ne(ze,Ve))return Ve;for(var qe=Ue.length;qe--;){var En=Ue[qe]+Oe(Ve);if(Ne(ze,En))return En}return Ve})).dash=Ce(function(Ve){var qe=pe(Ve);return($e.test(qe)?"-":"")+Fe(qe)});var Ue=["O","ms","Moz","Webkit"],$e=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,ze=document.createElement("p").style;xe.exports=pe},2994:function(xe,pe,_e){var Ce=_e(6472),Ie=_e(7653);pe=function(Oe){return Ce(Oe)?function(Fe){return Ie(Fe,Oe)}:(Ne=Oe,function(Fe){return Fe==null?void 0:Fe[Ne]});var Ne},xe.exports=pe},1745:function(xe,pe,_e){var Ce=_e(4331),Ie=_e(3783),Oe=_e(1286),Ne=_e(6472),Fe=_e(2461),Ue=_e(8887),$e=_e(5972),ze=_e(5166);pe={parse:function(qe){var En={};return qe=Ce(qe).replace(Ve,""),Ie(qe.split("&"),function(vn){var hn=vn.split("="),_n=hn.shift(),bn=hn.length>0?hn.join("="):null;_n=decodeURIComponent(_n),bn=decodeURIComponent(bn),Oe(En[_n])?En[_n]=bn:Ne(En[_n])?En[_n].push(bn):En[_n]=[En[_n],bn]}),En},stringify:function(qe,En){return $e(Fe(qe,function(vn,hn){return ze(vn)&&Ue(vn)?"":Ne(vn)?pe.stringify(vn,hn):encodeURIComponent(En||hn)+"="+encodeURIComponent(vn)}),function(vn){return vn.length>0}).join("&")}};var Ve=/^(\?|#|&)/g;xe.exports=pe},1571:function(xe,pe,_e){var Ce,Ie,Oe=_e(8847),Ne=_e(2727),Fe=0;if(Ne){Ce=window.requestAnimationFrame,Ie=window.cancelAnimationFrame;for(var Ue=["ms","moz","webkit","o"],$e=0,ze=Ue.length;$e<ze&&!Ce;$e++)Ce=window[Ue[$e]+"RequestAnimationFrame"],Ie=window[Ue[$e]+"CancelAnimationFrame"]||window[Ue[$e]+"CancelRequestAnimationFrame"];Ce&&(Ce=Ce.bind(window),Ie=Ie.bind(window))}Ie=Ie||function(Ve){clearTimeout(Ve)},(Ce=Ce||function(Ve){var qe=Oe(),En=Math.max(0,16-(qe-Fe)),vn=setTimeout(function(){Ve(qe+En)},En);return Fe=qe+En,vn}).cancel=Ie,pe=Ce,xe.exports=pe},1216:function(xe,pe){pe=function(_e,Ce,Ie){Ce==null&&(Ce=_e,_e=0);var Oe=Math.random();return Ie||_e%1||Ce%1?Math.min(_e+Oe*(Ce-_e+parseFloat("1e-"+((Oe+"").length-1))),Ce):_e+Math.floor(Oe*(Ce-_e+1))},xe.exports=pe},3366:function(module,exports,__webpack_require__){var random=__webpack_require__(1216),isBrowser=__webpack_require__(2727),isNode=__webpack_require__(1965),crypto;exports=function(xe){for(var pe=new Uint8Array(xe),_e=0;_e<xe;_e++)pe[_e]=random(0,255);return pe},isBrowser?(crypto=window.crypto||window.msCrypto,crypto&&(exports=function(xe){var pe=new Uint8Array(xe);return crypto.getRandomValues(pe),pe})):isNode&&(crypto=eval("require")("crypto"),exports=function(xe){return crypto.randomBytes(xe)}),module.exports=exports},4270:function(xe,pe){var _e,Ce=[],Ie=document,Oe=Ie.documentElement.doScroll,Ne="DOMContentLoaded",Fe=(Oe?/^loaded|^c/:/^loaded|^i|^c/).test(Ie.readyState);Fe||Ie.addEventListener(Ne,_e=function(){for(Ie.removeEventListener(Ne,_e),Fe=1;_e=Ce.shift();)_e()}),pe=function(Ue){Fe?setTimeout(Ue,0):Ce.push(Ue)},xe.exports=pe},5852:function(xe,pe,_e){var Ce=_e(2838);pe=function(Ie,Oe,Ne){var Fe=[];Oe=Ce(Oe,Ne);for(var Ue=-1,$e=Ie.length;++Ue<$e;){var ze=Ue-Fe.length,Ve=Ie[ze];Oe(Ve,Ue,Ie)&&(Fe.push(Ve),Ie.splice(ze,1))}return Fe},xe.exports=pe},4552:function(xe,pe){pe=function(_e,Ce){var Ie="";if(Ce<1)return"";for(;Ce>0;)1&Ce&&(Ie+=_e),Ce>>=1,_e+=_e;return Ie},xe.exports=pe},8368:function(xe,pe,_e){var Ce=_e(2337);pe=function(Ie,Oe,Ne){return Ie.replace(new RegExp(Ce(Oe),"g"),Ne)},xe.exports=pe},1137:function(xe,pe){pe=function(_e,Ce){return Ce=Ce==null?_e.length-1:+Ce,function(){var Ie,Oe=Math.max(arguments.length-Ce,0),Ne=new Array(Oe);for(Ie=0;Ie<Oe;Ie++)Ne[Ie]=arguments[Ie+Ce];switch(Ce){case 0:return _e.call(this,Ne);case 1:return _e.call(this,arguments[0],Ne);case 2:return _e.call(this,arguments[0],arguments[1],Ne)}var Fe=new Array(Ce+1);for(Ie=0;Ie<Ce;Ie++)Fe[Ie]=arguments[Ie];return Fe[Ce]=Ne,_e.apply(this,Fe)}},xe.exports=pe},1527:function(xe,pe){pe=function(_e){var Ce=_e.length,Ie=Array(Ce);Ce--;for(var Oe=0;Oe<=Ce;Oe++)Ie[Ce-Oe]=_e[Oe];return Ie},xe.exports=pe},3279:function(xe,pe){pe=function(Oe){var Ne,Fe,Ue=Oe[0]/255,$e=Oe[1]/255,ze=Oe[2]/255,Ve=_e(Ue,$e,ze),qe=Ce(Ue,$e,ze),En=qe-Ve;(Ne=_e(60*(Ne=qe===Ve?0:Ue===qe?($e-ze)/En:$e===qe?2+(ze-Ue)/En:4+(Ue-$e)/En),360))<0&&(Ne+=360);var vn=(Ve+qe)/2;Fe=qe===Ve?0:vn<=.5?En/(qe+Ve):En/(2-qe-Ve);var hn=[Ie(Ne),Ie(100*Fe),Ie(100*vn)];return Oe[3]&&(hn[3]=Oe[3]),hn};var _e=Math.min,Ce=Math.max,Ie=Math.round;xe.exports=pe},5031:function(xe,pe,_e){var Ce=_e(6299);pe=function(Ie){var Oe,Ne=window.location,Fe=Ne.hostname,Ue=Ne.pathname,$e=Fe.split("."),ze=Ue.split("/"),Ve="",qe=ze.length;if(!bn())for(var En=$e.length-1;En>=0;En--){var vn=$e[En];if(vn!==""){if(bn({domain:Ve=Ve===""?vn:vn+"."+Ve,path:Oe="/"})||bn({domain:Ve}))return;for(var hn=0;hn<qe;hn++){var _n=ze[hn];if(_n!==""&&(bn({domain:Ve,path:Oe+=_n})||bn({path:Oe})||bn({domain:Ve,path:Oe+="/"})||bn({path:Oe})))return}}}function bn(An){return An=An||{},Ce.remove(Ie,An),!Ce.get(Ie)}},xe.exports=pe},5610:function(xe,pe,_e){pe=_e(2727)?window:_e.g,xe.exports=pe},3597:function(xe,pe){pe=function(_e,Ce){if(Ce==null){if(_e.trimRight)return _e.trimRight();Ce=" \r\n	\f\v"}for(var Ie,Oe,Ne=_e.length-1,Fe=Ce.length,Ue=!0;Ue&&Ne>=0;)for(Ue=!1,Ie=-1,Oe=_e.charAt(Ne);++Ie<Fe;)if(Oe===Ce[Ie]){Ue=!0,Ne--;break}return Ne>=0?_e.substring(0,Ne+1):""},xe.exports=pe},2838:function(xe,pe,_e){var Ce=_e(4777),Ie=_e(5166),Oe=_e(6472),Ne=_e(3955),Fe=_e(4491),Ue=_e(6362),$e=_e(2994);pe=function(ze,Ve,qe){return ze==null?Ue:Ce(ze)?Ne(ze,Ve,qe):Ie(ze)&&!Oe(ze)?Fe(ze):$e(ze)},xe.exports=pe},7653:function(xe,pe,_e){var Ce=_e(1286),Ie=_e(1694);pe=function(Oe,Ne){var Fe;for(Fe=(Ne=Ie(Ne,Oe)).shift();!Ce(Fe);){if((Oe=Oe[Fe])==null)return;Fe=Ne.shift()}return Oe},xe.exports=pe},8079:function(xe,pe,_e){var Ce=_e(1694),Ie=_e(1286),Oe=_e(3367),Ne=_e(9804),Fe=_e(6768);pe=function(Ue,$e,ze){var Ve,qe=($e=Ce($e,Ue)).pop();for(Ve=$e.shift();!Ie(Ve);){if(Fe(Ve)||Ne(Ve)||(Ve=Oe(Ve)),Ve==="__proto__"||Ve==="constructor"||Ve==="prototype")return;Ue[Ve]||(Ue[Ve]={}),Ue=Ue[Ve],Ve=$e.shift()}Ue[qe]=ze},xe.exports=pe},615:function(xe,pe,_e){var Ce=_e(5026);pe=function(Ie){var Oe;switch(Ie=Ie||"local"){case"local":Oe=window.localStorage;break;case"session":Oe=window.sessionStorage}try{var Ne="test-localStorage-"+Date.now();Oe.setItem(Ne,Ne);var Fe=Oe.getItem(Ne);if(Oe.removeItem(Ne),Fe!==Ne)throw new Error}catch(Ue){return Ce}return Oe},xe.exports=pe},4224:function(xe,pe,_e){var Ce=_e(6334);pe=function(Ie,Oe){return Ie=new Ce(Ie),Oe=new Ce(Oe),Ie.port=0|Ie.port||(Ie.protocol==="https"?443:80),Oe.port=0|Oe.port||(Oe.protocol==="https"?443:80),Ie.protocol===Oe.protocol&&Ie.hostname===Oe.hostname&&Ie.port===Oe.port},xe.exports=pe},9677:function(xe,pe){pe=function(_e,Ce,Ie){var Oe=_e.length;Ce=Ce==null?0:Ce<0?Math.max(Oe+Ce,0):Math.min(Ce,Oe),Ie=Ie==null?Oe:Ie<0?Math.max(Oe+Ie,0):Math.min(Ie,Oe);for(var Ne=[];Ce<Ie;)Ne.push(_e[Ce++]);return Ne},xe.exports=pe},6053:function(xe,pe,_e){var Ce=_e(2838),Ie=_e(1369),Oe=_e(2533);pe=function(Ne,Fe,Ue){Fe=Ce(Fe,Ue);for(var $e=!Ie(Ne)&&Oe(Ne),ze=($e||Ne).length,Ve=0;Ve<ze;Ve++){var qe=$e?$e[Ve]:Ve;if(Fe(Ne[qe],qe,Ne))return!0}return!1},xe.exports=pe},3629:function(xe,pe,_e){var Ce=_e(3843),Ie=_e(4193),Oe=_e(2533),Ne=_e(6472),Fe=_e(5166);pe=function($e){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ie(ze,Ue);var Ve=ze.deep,qe=ze.comparator,En=[],vn=[];return function hn(_n){var bn,An=En.indexOf(_n);if(An>-1)return vn[An];if(Ne(_n)){bn=[],En.push(_n),vn.push(bn);for(var xn=0,Sn=_n.length;xn<Sn;xn++){var Cn=_n[xn];Ve&&Fe(Cn)?bn[xn]=hn(Cn):bn[xn]=Cn}}else{bn={},En.push(_n),vn.push(bn);for(var Tn=Oe(_n).sort(qe),wn=0,Ln=Tn.length;wn<Ln;wn++){var Pn=Tn[wn],kn=_n[Pn];Ve&&Fe(kn)?bn[Pn]=hn(kn):bn[Pn]=kn}}return bn}($e)};var Ue={deep:!1,comparator:Ce.defComparator};xe.exports=pe},8935:function(xe,pe){var _e=/([A-Z])/g,Ce=/[_.\- ]+/g,Ie=/(^-)|(-$)/g;pe=function(Oe){return(Oe=Oe.replace(_e,"-$1").toLowerCase().replace(Ce,"-").replace(Ie,"")).split("-")},xe.exports=pe},6930:function(xe,pe){pe=function(_e,Ce){return _e.indexOf(Ce)===0},xe.exports=pe},4400:function(xe,pe,_e){var Ce=_e(3085),Ie=_e(3023),Oe=_e(3367),Ne=_e(1286),Fe=_e(4777),Ue=_e(1754);pe=function($e,ze){return JSON.stringify($e,(Ve=[],qe=[],function(En,vn){if(Ve.length>0){var hn=Ve.indexOf(this);hn>-1?(Ve.splice(hn+1),qe.splice(hn,1/0,En)):(Ve.push(this),qe.push(En));var _n=Ve.indexOf(vn);_n>-1&&(vn=Ve[0]===vn?"[Circular ~]":"[Circular ~."+qe.slice(0,_n).join(".")+"]")}else Ve.push(vn);return Ue(vn)||Fe(vn)?vn="["+Ie(Ce(vn))+" "+Oe(vn)+"]":Ne(vn)&&(vn=null),vn}),ze);var Ve,qe},xe.exports=pe},9963:function(xe,pe,_e){var Ce=_e(4187),Ie=_e(3085),Oe=_e(3367),Ne=_e(4858),Fe=_e(300),Ue=_e(2533),$e=_e(3783),ze=_e(7496),Ve=_e(415),qe=_e(801),En=_e(6329),vn=_e(4321),hn=_e(5972),_n=_e(8847),bn=_e(1116),An=_e(6341),xn=_e(5166),Sn=_e(9537),Cn=_e(1662),Tn=_e(6930),wn=_e(8079),Ln=_e(9803),Pn=_e(3487),kn=_e(1369);function In($n,Fn,Un,Hn){var Wn=[];return $e(Fn,function(Xn){var or,fr=Object.getOwnPropertyDescriptor(Un,Xn),cr=fr&&fr.get,Jn=fr&&fr.set;if(!Hn.accessGetter&&cr)or="(...)";else try{if(or=Un[Xn],An(Hn.ignore,or))return;vn(or)&&or.catch(function(){})}catch(mr){or=mr.message}Wn.push("".concat(Rn(Xn),":").concat(pe(or,Hn))),cr&&Wn.push("".concat(Rn("get "+Oe(Xn)),":").concat(pe(fr.get,Hn))),Jn&&Wn.push("".concat(Rn("set "+Oe(Xn)),":").concat(pe(fr.set,Hn)))}),'"'.concat($n,'":{')+Wn.join(",")+"}"}function Rn($n){return'"'.concat(On($n),'"')}function Nn($n){return'"'.concat(On(Oe($n)),'"')}function On($n){return Ce($n).replace(/\\'/g,"'").replace(/\t/g,"\\t")}pe=function($n){var Fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Un=Fn.self,Hn=Fn.startTime,Wn=Hn===void 0?_n():Hn,Xn=Fn.timeout,or=Xn===void 0?0:Xn,fr=Fn.depth,cr=fr===void 0?0:fr,Jn=Fn.curDepth,mr=Jn===void 0?1:Jn,Ir=Fn.visitor,yr=Ir===void 0?new Dn:Ir,Tr=Fn.unenumerable,Sr=Tr!==void 0&&Tr,Yn=Fn.symbol,Qn=Yn!==void 0&&Yn,rr=Fn.accessGetter,gr=rr!==void 0&&rr,Ar=Fn.ignore,Br=Ar===void 0?[]:Ar,Vr="",Fr={visitor:yr,unenumerable:Sr,symbol:Qn,accessGetter:gr,depth:cr,curDepth:mr+1,timeout:or,startTime:Wn,ignore:Br},Er=Ie($n,!1);if(Er==="String")Vr=Nn($n);else if(Er==="Number")Vr=Oe($n),Ne(Vr,"Infinity")&&(Vr='{"value":"'.concat(Vr,'","type":"Number"}'));else if(Er==="NaN")Vr='{"value":"NaN","type":"Number"}';else if(Er==="Boolean")Vr=$n?"true":"false";else if(Er==="Null")Vr="null";else if(Er==="Undefined")Vr='{"type":"Undefined"}';else if(Er==="Symbol"){var Dr="Symbol";try{Dr=Oe($n)}catch(_r){}Vr='{"value":'.concat(Nn(Dr),',"type":"Symbol"}')}else{if(or&&_n()-Wn>or)return Nn("Timeout");if(cr&&mr>cr)return Nn("{...}");Vr="{";var Pr,$r=[],Lr=yr.get($n);if(Lr?(Pr=Lr.id,$r.push('"reference":'.concat(Pr))):(Pr=yr.set($n),$r.push('"id":'.concat(Pr))),$r.push('"type":"'.concat(Er,'"')),Ne(Er,"Function")?$r.push('"value":'.concat(Nn(Fe($n)))):Er==="RegExp"&&$r.push('"value":'.concat(Nn($n))),!Lr){var Or=Ue($n);if(Or.length&&$r.push(In("enumerable",Or,Un||$n,Fr)),Sr){var Hr=qe(bn($n,{prototype:!1,unenumerable:!0}),Or);Hr.length&&$r.push(In("unenumerable",Hr,Un||$n,Fr))}if(Qn){var qr=hn(bn($n,{prototype:!1,symbol:!0}),function(_r){return typeof _r=="symbol"});qr.length&&$r.push(In("symbol",qr,Un||$n,Fr))}var ao=Ve($n);if(ao&&!An(Br,ao)){var Ur='"proto":'.concat(pe(ao,En(Fr,{self:Un||$n})));$r.push(Ur)}}Vr+=$r.join(",")+"}"}return Vr};var Dn=ze({initialize:function(){this.id=1,this.visited=[]},set:function($n){var Fn=this.visited,Un=this.id,Hn={id:Un,val:$n};return Fn.push(Hn),this.id++,Un},get:function($n){for(var Fn=this.visited,Un=0,Hn=Fn.length;Un<Hn;Un++){var Wn=Fn[Un];if($n===Wn.val)return Wn}return!1}});function Mn($n,Fn){var Un=Fn.map;if(!xn($n))return $n;var Hn=$n.id,Wn=$n.type,Xn=$n.value,or=$n.proto,fr=$n.reference,cr=$n.enumerable,Jn=$n.unenumerable;if(fr)return $n;if(Wn==="Number")return Xn==="Infinity"?Number.POSITIVE_INFINITY:Xn==="-Infinity"?Number.NEGATIVE_INFINITY:NaN;if(Wn!=="Undefined"){var mr,Ir,yr;if(Wn==="Function")(mr=function(){}).toString=function(){return Xn},or&&Object.setPrototypeOf(mr,Mn(or,Fn));else if(Wn==="RegExp")yr=(Ir=Xn).lastIndexOf("/"),mr=new RegExp(Ir.slice(1,yr),Ir.slice(yr+1));else{var Tr;Wn!=="Object"?(Tr=Sn?function(){}:new Function(Wn,""),or&&(Tr.prototype=Mn(or,Fn)),mr=new Tr):mr=Cn(or?Mn(or,Fn):null)}var Sr,Yn={};return cr&&(kn(cr)&&(Sr=cr.length,delete cr.length),cr=Pn(cr,function(rr,gr){return!Qn(cr,rr,gr)}),$e(cr,function(rr,gr){(Yn[gr]||{}).get||(mr[gr]=Mn(rr,Fn))}),Sr&&(mr.length=Sr)),Jn&&(Jn=Pn(Jn,function(rr,gr){return!Qn(Jn,rr,gr)}),$e(Jn,function(rr,gr){var Ar=Yn[gr]||{};if(!Ar.get)if(rr=Mn(rr,Fn),xn(rr)&&rr.reference){var Br=rr.reference;rr=function(){return Un[Br]},Ar.get=rr}else Ar.value=rr;Ar.enumerable=!1,Yn[gr]=Ar})),Ln(mr,Yn),Un[Hn]=mr,mr}function Qn(rr,gr,Ar){Ar=Oe(Ar);var Br=!1;return $e(["get","set"],function(Vr){if(Tn(Ar,Vr+" ")){var Fr=Ar.replace(Vr+" ","");rr[Fr]&&((gr=Mn(gr,Fn))==="Timeout"&&(gr=Bn),wn(Yn,[Fr,Vr],gr),Br=!0)}}),Br}}function Bn(){return"Timeout"}pe.parse=function($n){var Fn={},Un=Mn(JSON.parse($n),{map:Fn});return function(Hn){$e(Hn,function(Wn){for(var Xn=Ue(Wn),or=0,fr=Xn.length;or<fr;or++){var cr=Xn[or];if(xn(Wn[cr])){var Jn=Wn[cr].reference;Jn&&Hn[Jn]&&(Wn[cr]=Hn[Jn])}}var mr=Ve(Wn);mr&&mr.reference&&Hn[mr.reference]&&Object.setPrototypeOf(Wn,Hn[mr.reference])})}(Fn),Un},xe.exports=pe},6677:function(xe,pe){var _e=/<[^>]*>/g;pe=function(Ce){return Ce.replace(_e,"")},xe.exports=pe},1907:function(xe,pe,_e){var Ce=_e(6768),Ie=_e(1352),Oe=_e(6435),Ne=_e(2461),Fe=_e(4331);pe=function($e){Ce($e)&&($e=Ie($e));for(var ze="",Ve=arguments.length,qe=new Array(Ve>1?Ve-1:0),En=1;En<Ve;En++)qe[En-1]=arguments[En];for(var vn=0,hn=$e.length;vn<hn;vn++)ze+=$e[vn],qe[vn]&&(ze+=qe[vn]);for(var _n=ze.split("\n"),bn=[],An=0,xn=_n.length;An<xn;An++){var Sn=_n[An].match(Ue);Sn&&bn.push(Sn[1].length)}var Cn=bn.length>0?Oe.apply(null,bn):0;return Fe(Ne(_n,function(Tn){return Tn[0]===" "?Tn.slice(Cn):Tn}).join("\n"))};var Ue=/^(\s+)\S+/;xe.exports=pe},2439:function(xe,pe,_e){var Ce=_e(6049);pe=function(Ie,Oe){return Ce(Ie,Oe,!0)},xe.exports=pe},1352:function(xe,pe,_e){var Ce=_e(1369),Ie=_e(2461),Oe=_e(6472),Ne=_e(6768);pe=function(Fe){return Fe?Oe(Fe)?Fe:Ce(Fe)&&!Ne(Fe)?Ie(Fe):[Fe]:[]},xe.exports=pe},3474:function(xe,pe,_e){var Ce=_e(6768);pe=function(Ie){return Ce(Ie)?(Ie=Ie.toLowerCase())!=="0"&&Ie!==""&&Ie!=="false":!!Ie},xe.exports=pe},4891:function(xe,pe){var _e=document;if(pe=function(Ie){var Oe=_e.createElement("body");return Oe.innerHTML=Ie,Oe.childNodes[0]},_e.createRange&&_e.body){var Ce=_e.createRange();Ce.selectNode(_e.body),Ce.createContextualFragment&&(pe=function(Ie){return Ce.createContextualFragment(Ie).childNodes[0]})}xe.exports=pe},9296:function(xe,pe,_e){var Ce=_e(3875);pe=function(Ie){return Ie?(Ie=Ce(Ie))-Ie%1:Ie===0?Ie:0},xe.exports=pe},3875:function(xe,pe,_e){var Ce=_e(3990),Ie=_e(5166),Oe=_e(4777),Ne=_e(6768);pe=function(Fe){if(Ce(Fe))return Fe;if(Ie(Fe)){var Ue=Oe(Fe.valueOf)?Fe.valueOf():Fe;Fe=Ie(Ue)?Ue+"":Ue}return Ne(Fe)?+Fe:Fe===0?Fe:+Fe},xe.exports=pe},300:function(xe,pe,_e){var Ce=_e(2763);pe=function(Oe){if(Ce(Oe))return"";try{return Ie.call(Oe)}catch(Ne){}try{return Oe+""}catch(Ne){}return""};var Ie=Function.prototype.toString;xe.exports=pe},3367:function(xe,pe){pe=function(_e){return _e==null?"":_e.toString()},xe.exports=pe},4331:function(xe,pe,_e){var Ce=_e(7767),Ie=_e(3597);pe=function(Oe,Ne){return Ne==null&&Oe.trim?Oe.trim():Ce(Ie(Oe,Ne),Ne)},xe.exports=pe},7756:function(xe,pe,_e){var Ce=_e(4193),Ie=_e(1286);pe=function(Ne,Fe){var Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ce(Ue,Oe);var $e=Ue.ellipsis,ze=Ue.separator;if(Fe>Ne.length)return Ne;var Ve=Fe-$e.length;if(Ve<1)return $e;var qe=Ne.slice(0,Ve);if(Ie(ze))return qe+$e;if(Ne.indexOf(ze,Ve)!==Ve){var En=qe.lastIndexOf(ze);En>-1&&(qe=qe.slice(0,En))}return qe+$e};var Oe={ellipsis:"..."};xe.exports=pe},3085:function(xe,pe,_e){var Ce=_e(106),Ie=_e(9433),Oe=_e(3063),Ne=_e(2349);pe=function(Ue){var $e,ze=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Ue===null&&($e="Null"),Ue===void 0&&($e="Undefined"),Ie(Ue)&&($e="NaN"),Ne(Ue)&&($e="Buffer"),$e||($e=Ce(Ue).match(Fe))&&($e=$e[1]),$e?ze?Oe($e):$e:""};var Fe=/^\[object\s+(.*?)]$/;xe.exports=pe},8166:function(xe,pe,_e){var Ce=_e(996),Ie=_e(2461);pe={encode:function(Oe){return Oe.length<32768?String.fromCodePoint.apply(String,Oe):Ie(Ce(Oe,32767),function(Ne){return String.fromCodePoint.apply(String,Ne)}).join("")},decode:function(Oe){for(var Ne=[],Fe=0,Ue=Oe.length;Fe<Ue;){var $e=Oe.charCodeAt(Fe++);if($e>=55296&&$e<=56319&&Fe<Ue){var ze=Oe.charCodeAt(Fe++);(64512&ze)==56320?Ne.push(((1023&$e)<<10)+(1023&ze)+65536):(Ne.push($e),Fe--)}else Ne.push($e)}return Ne}},xe.exports=pe},5484:function(xe,pe,_e){var Ce=_e(2727),Ie=_e(8985),Oe=!1;function Ne(Fe){Oe&&pe.emit(Fe)}pe={start:function(){Oe=!0},stop:function(){Oe=!1}},Ie.mixin(pe),Ce?(window.addEventListener("error",function(Fe){if(Fe.error)Ne(Fe.error);else if(Fe.message){var Ue=new Error(Fe.message);Ue.stack="Error: ".concat(Fe.message," \n at ").concat(Fe.filename,":").concat(Fe.lineno,":").concat(Fe.colno),Ne(Ue)}}),window.addEventListener("unhandledrejection",function(Fe){Ne(Fe.reason)})):(process.on("uncaughtException",Ne),process.on("unhandledRejection",Ne)),xe.exports=pe},7387:function(xe,pe,_e){var Ce=_e(8901),Ie=_e(2533);pe=function(ze){return Fe.test(ze)?ze.replace(Ue,$e):ze};var Oe=_e(7190)(Ce.map),Ne="(?:"+Ie(Oe).join("|")+")",Fe=new RegExp(Ne),Ue=new RegExp(Ne,"g");function $e(ze){return Oe[ze]}xe.exports=pe},5229:function(xe,pe){var _e=0;pe=function(Ce){var Ie=++_e+"";return Ce?Ce+Ie:Ie},xe.exports=pe},42:function(xe,pe,_e){var Ce=_e(5972);function Ie(Oe,Ne){return Oe===Ne}pe=function(Oe,Ne){return Ne=Ne||Ie,Ce(Oe,function(Fe,Ue,$e){for(var ze=$e.length;++Ue<ze;)if(Ne(Fe,$e[Ue]))return!1;return!0})},xe.exports=pe},4502:function(xe,pe,_e){var Ce=_e(3367);pe=function(Ie){return Ce(Ie).toLocaleUpperCase()},xe.exports=pe},3023:function(xe,pe){pe=function(_e){return _e.length<1?_e:_e[0].toUpperCase()+_e.slice(1)},xe.exports=pe},5742:function(xe,pe,_e){var Ce=_e(8166);pe={encode:function(_n){for(var bn=Ce.decode(_n),An="",xn=0,Sn=bn.length;xn<Sn;xn++)An+=En(bn[xn]);return An},decode:function(_n,bn){Ie=Ce.decode(_n),Oe=0,Ne=Ie.length,Fe=0,Ue=0,$e=0,ze=128,Ve=191;for(var An,xn=[];(An=vn(bn))!==!1;)xn.push(An);return Ce.encode(xn)}};var Ie,Oe,Ne,Fe,Ue,$e,ze,Ve,qe=String.fromCharCode;function En(_n){if(!(4294967168&_n))return qe(_n);var bn,An,xn="";for(4294965248&_n?4294901760&_n?!(4292870144&_n)&&(bn=3,An=240):(bn=2,An=224):(bn=1,An=192),xn+=qe((_n>>6*bn)+An);bn>0;)xn+=qe(128|63&_n>>6*(bn-1)),bn--;return xn}function vn(_n){for(;;){if(Oe>=Ne&&$e){if(_n)return hn();throw new Error("Invalid byte index")}if(Oe===Ne)return!1;var bn=Ie[Oe];if(Oe++,$e){if(bn<ze||bn>Ve){if(_n)return Oe--,hn();throw new Error("Invalid continuation byte")}if(ze=128,Ve=191,Fe=Fe<<6|63&bn,++Ue===$e){var An=Fe;return Fe=0,$e=0,Ue=0,An}}else{if(!(128&bn))return bn;if((224&bn)==192)$e=1,Fe=31&bn;else if((240&bn)==224)bn===224&&(ze=160),bn===237&&(Ve=159),$e=2,Fe=15&bn;else{if((248&bn)!=240){if(_n)return hn();throw new Error("Invalid UTF-8 detected")}bn===240&&(ze=144),bn===244&&(Ve=143),$e=3,Fe=7&bn}}}}function hn(){var _n=Oe-Ue-1;return Oe=_n+1,Fe=0,$e=0,Ue=0,ze=128,Ve=191,Ie[_n]}xe.exports=pe},5936:function(xe,pe,_e){var Ce=_e(3366);pe=function(){var Ne=Ce(16);return Ne[6]=15&Ne[6]|64,Ne[8]=63&Ne[8]|128,Ie[Ne[0]]+Ie[Ne[1]]+Ie[Ne[2]]+Ie[Ne[3]]+"-"+Ie[Ne[4]]+Ie[Ne[5]]+"-"+Ie[Ne[6]]+Ie[Ne[7]]+"-"+Ie[Ne[8]]+Ie[Ne[9]]+"-"+Ie[Ne[10]]+Ie[Ne[11]]+Ie[Ne[12]]+Ie[Ne[13]]+Ie[Ne[14]]+Ie[Ne[15]]};for(var Ie=[],Oe=0;Oe<256;Oe++)Ie[Oe]=(Oe+256).toString(16).substr(1);xe.exports=pe},2578:function(xe,pe,_e){var Ce=_e(3783);pe=function(Ie){var Oe=[];return Ce(Ie,function(Ne){Oe.push(Ne)}),Oe},xe.exports=pe},3514:function(xe,pe,_e){var Ce=_e(8573),Ie=_e(9882),Oe=_e(4331),Ne=_e(3783),Fe=_e(2461),Ue=_e(9433);pe=function(){var $e=Ce("viewport");if(!$e)return 1;$e=Fe($e.split(","),function(vn){return Oe(vn)});var ze=.25,Ve=5,qe=1;Ne($e,function(vn){var hn=(vn=vn.split("="))[0];vn=vn[1],hn==="initial-scale"&&(qe=+vn),hn==="maximum-scale"&&(Ve=+vn),hn==="minimum-scale"&&(ze=+vn)});var En=Ie(qe,ze,Ve);return Ue(En)?1:En},xe.exports=pe},8933:function(xe,pe){pe=function(_e){for(var Ce=[],Ie=document.evaluate(_e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),Oe=0;Oe<Ie.snapshotLength;Oe++)Ce.push(Ie.snapshotItem(Oe));return Ce},xe.exports=pe},3577:function(xe,pe){Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]]},7715:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(Nn,On){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dn,Mn){Dn.__proto__=Mn}||function(Dn,Mn){for(var Bn in Mn)Object.prototype.hasOwnProperty.call(Mn,Bn)&&(Dn[Bn]=Mn[Bn])},Ce(Nn,On)},function(Nn,On){if(typeof On!="function"&&On!==null)throw new TypeError("Class extends value "+String(On)+" is not a constructor or null");function Dn(){this.constructor=Nn}Ce(Nn,On),Nn.prototype=On===null?Object.create(On):(Dn.prototype=On.prototype,new Dn)}),Oe=this&&this.__assign||function(){return Oe=Object.assign||function(Nn){for(var On,Dn=1,Mn=arguments.length;Dn<Mn;Dn++)for(var Bn in On=arguments[Dn])Object.prototype.hasOwnProperty.call(On,Bn)&&(Nn[Bn]=On[Bn]);return Nn},Oe.apply(this,arguments)},Ne=this&&this.__values||function(Nn){var On=typeof Symbol=="function"&&Symbol.iterator,Dn=On&&Nn[On],Mn=0;if(Dn)return Dn.call(Nn);if(Nn&&typeof Nn.length=="number")return{next:function(){return Nn&&Mn>=Nn.length&&(Nn=void 0),{value:Nn&&Nn[Mn++],done:!Nn}}};throw new TypeError(On?"Object is not iterable.":"Symbol.iterator is not defined.")},Fe=this&&this.__importDefault||function(Nn){return Nn&&Nn.__esModule?Nn:{default:Nn}};Object.defineProperty(pe,"__esModule",{value:!0});var Ue=Fe(_e(1160)),$e=_e(7669),ze=_e(2062),Ve=Fe(_e(242)),qe=Fe(_e(2439)),En=Fe(_e(3063)),vn=Fe(_e(3783)),hn=Fe(_e(3009)),_n=Fe(_e(5044)),bn=Fe(_e(4502)),An=Fe(_e(6329)),xn=Fe(_e(7494)),Sn=Fe(_e(6341)),Cn=Fe(_e(3875)),Tn=Fe(_e(3577)),wn=Fe(_e(6768));_e(8169);var Ln=function(Nn){function On(Dn,Mn){Mn===void 0&&(Mn={});var Bn=Nn.call(this,Dn,{compName:"dom-highlighter"},Mn)||this;return Bn.overlay=new $e.HighlightOverlay(window),Bn.reset=function(){var $n=document.documentElement.clientWidth,Fn=document.documentElement.clientHeight;Bn.overlay.reset({viewportSize:{width:$n,height:Fn},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},Bn.initOptions(Mn,{showRulers:!1,showExtensionLines:!1,showInfo:!0,showStyles:!0,showAccessibilityInfo:!0,colorFormat:"hex",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)",monitorResize:!0}),Bn.overlay.setContainer(Dn),Bn.overlay.setPlatform("mac"),Bn.redraw=(0,qe.default)(function(){Bn.reset(),Bn.draw()},16),Bn.redraw(),Bn.bindEvent(),Bn}return Ie(On,Nn),On.prototype.highlight=function(Dn,Mn){Mn&&(0,An.default)(this.options,Mn),this.target=Dn,Dn instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new Ve.default(Dn),this.resizeSensor.addListener(this.redraw)),this.redraw()},On.prototype.hide=function(){this.target=null,this.redraw()},On.prototype.intercept=function(Dn){this.interceptor=Dn},On.prototype.destroy=function(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),Nn.prototype.destroy.call(this)},On.prototype.draw=function(){var Dn=this.target;Dn&&(Dn instanceof Text?this.drawText(Dn):this.drawElement(Dn))},On.prototype.drawText=function(Dn){var Mn=this.options,Bn=document.createRange();Bn.selectNode(Dn);var $n=Bn.getBoundingClientRect(),Fn=$n.left,Un=$n.top,Hn=$n.width,Wn=$n.height;Bn.detach();var Xn={paths:[{path:this.rectToPath({left:Fn,top:Un,width:Hn,height:Wn}),fillColor:In(Mn.contentColor),name:"content"}],showExtensionLines:Mn.showExtensionLines,showRulers:Mn.showRulers};Mn.showInfo&&(Xn.elementInfo={tagName:"#text",nodeWidth:Hn,nodeHeight:Wn}),this.overlay.drawHighlight(Xn)},On.prototype.drawElement=function(Dn){var Mn={paths:this.getPaths(Dn),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(Mn.elementInfo=this.getElementInfo(Dn)),this.interceptor){var Bn=this.interceptor(Mn);Bn&&(Mn=Bn)}this.overlay.drawHighlight(Mn)},On.prototype.getPaths=function(Dn){var Mn=this.options,Bn=window.getComputedStyle(Dn),$n=Dn.getBoundingClientRect(),Fn=$n.left,Un=$n.top,Hn=$n.width,Wn=$n.height,Xn=function(gr){return(0,ze.pxToNum)(Bn.getPropertyValue(gr))},or=Xn("margin-left"),fr=Xn("margin-right"),cr=Xn("margin-top"),Jn=Xn("margin-bottom"),mr=Xn("border-left-width"),Ir=Xn("border-right-width"),yr=Xn("border-top-width"),Tr=Xn("border-bottom-width"),Sr=Xn("padding-left"),Yn=Xn("padding-right"),Qn=Xn("padding-top"),rr=Xn("padding-bottom");return[{path:this.rectToPath({left:Fn+mr+Sr,top:Un+yr+Qn,width:Hn-mr-Sr-Ir-Yn,height:Wn-yr-Qn-Tr-rr}),fillColor:In(Mn.contentColor),name:"content"},{path:this.rectToPath({left:Fn+mr,top:Un+yr,width:Hn-mr-Ir,height:Wn-yr-Tr}),fillColor:In(Mn.paddingColor),name:"padding"},{path:this.rectToPath({left:Fn,top:Un,width:Hn,height:Wn}),fillColor:In(Mn.borderColor),name:"border"},{path:this.rectToPath({left:Fn-or,top:Un-cr,width:Hn+or+fr,height:Wn+cr+Jn}),fillColor:In(Mn.marginColor),name:"margin"}]},On.prototype.getElementInfo=function(Dn){var Mn=Dn.getBoundingClientRect(),Bn=Mn.width,$n=Mn.height,Fn=Dn.getAttribute("class")||"";Fn=Fn.split(/\s+/).map(function(Hn){return"."+Hn}).join("");var Un={tagName:(0,En.default)(Dn.tagName),className:Fn,idValue:Dn.id,nodeWidth:Bn,nodeHeight:$n};return this.options.showStyles&&(Un.style=this.getStyles(Dn)),this.options.showAccessibilityInfo&&(0,An.default)(Un,this.getAccessibilityInfo(Dn)),Un},On.prototype.getStyles=function(Dn){for(var Mn=window.getComputedStyle(Dn),Bn=!1,$n=Dn.childNodes,Fn=0,Un=$n.length;Fn<Un;Fn++)$n[Fn].nodeType===3&&(Bn=!0);var Hn=[];return Bn&&Hn.push("color","font-family","font-size","line-height"),Hn.push("padding","margin","background-color"),Rn(Mn,Hn)},On.prototype.getAccessibilityInfo=function(Dn){var Mn=window.getComputedStyle(Dn);return Oe({showAccessibilityInfo:!0,contrast:Oe({contrastAlgorithm:"aa",textOpacity:.1},Rn(Mn,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(Dn)},this.getAccessibleNameAndRole(Dn))},On.prototype.isFocusable=function(Dn){var Mn=(0,En.default)(Dn.tagName);if((0,Sn.default)(["a","button","input","textarea","select","details"],Mn))return!0;var Bn=Dn.getAttribute("tabindex");return!!(Bn&&(0,Cn.default)(Bn)>-1)},On.prototype.getAccessibleNameAndRole=function(Dn){var Mn=Dn.getAttribute("labelledby")||Dn.getAttribute("aria-label"),Bn=Dn.getAttribute("role"),$n=(0,En.default)(Dn.tagName);return Tn.default.forEach(function(Fn){var Un,Hn;if(!Bn){var Wn=Fn[0],Xn=Fn[2];if(Wn===$n){if(Xn)try{for(var or=Ne(Xn),fr=or.next();!fr.done;fr=or.next()){var cr=fr.value;if(Dn.getAttribute(cr[0])!==cr[1])return}}catch(Jn){Un={error:Jn}}finally{try{fr&&!fr.done&&(Hn=or.return)&&Hn.call(or)}finally{if(Un)throw Un.error}}Bn=Fn[1]}}}),{accessibleName:Mn||Dn.getAttribute("title")||"",accessibleRole:Bn||"generic"}},On.prototype.bindEvent=function(){var Dn=this;window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",function(){return Dn.redraw()})},On.prototype.rectToPath=function(Dn){var Mn=Dn.left,Bn=Dn.top,$n=Dn.width,Fn=Dn.height,Un=[];return Un.push("M",Mn,Bn),Un.push("L",Mn+$n,Bn),Un.push("L",Mn+$n,Bn+Fn),Un.push("L",Mn,Bn+Fn),Un.push("Z"),Un},On}(Ue.default);pe.default=Ln,xe.exports=Ln,xe.exports.default=Ln;var Pn=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,kn=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function In(Nn){return(0,wn.default)(Nn)?Nn:Nn.a?"rgba(".concat(Nn.r,", ").concat(Nn.g,", ").concat(Nn.b,", ").concat(Nn.a,")"):"rgb(".concat(Nn.r,", ").concat(Nn.g,", ").concat(Nn.b,")")}function Rn(Nn,On,Dn){Dn===void 0&&(Dn=!1);var Mn={};return(0,vn.default)(On,function(Bn){var $n,Fn=Nn[Bn==="text-opacity"?"color":Bn];Fn&&($n=Fn,(Pn.test($n)||kn.test($n))&&(Fn=function(Un){var Hn=hn.default.parse(Un),Wn=Hn.val[3]||1;return Hn.val=Hn.val.slice(0,3),Hn.val.push(Math.round(255*Wn)),"#"+(0,bn.default)(_n.default.encode(Hn.val))}(Fn),Bn==="text-opacity"&&(Fn=Fn.slice(7),Fn=_n.default.decode(Fn)[0]/255)),Dn&&(Bn=(0,xn.default)(Bn)),Mn[Bn]=Fn)}),Mn}},9706:function(xe,pe){var _e=this&&this.__read||function(In,Rn){var Nn=typeof Symbol=="function"&&In[Symbol.iterator];if(!Nn)return In;var On,Dn,Mn=Nn.call(In),Bn=[];try{for(;(Rn===void 0||Rn-- >0)&&!(On=Mn.next()).done;)Bn.push(On.value)}catch($n){Dn={error:$n}}finally{try{On&&!On.done&&(Nn=Mn.return)&&Nn.call(Mn)}finally{if(Dn)throw Dn.error}}return Bn},Ce=this&&this.__values||function(In){var Rn=typeof Symbol=="function"&&Symbol.iterator,Nn=Rn&&In[Rn],On=0;if(Nn)return Nn.call(In);if(In&&typeof In.length=="number")return{next:function(){return In&&On>=In.length&&(In=void 0),{value:In&&In[On++],done:!In}}};throw new TypeError(Rn?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ie(In,Rn){var Nn=In[3];return[(1-Nn)*Rn[0]+Nn*In[0],(1-Nn)*Rn[1]+Nn*In[1],(1-Nn)*Rn[2]+Nn*In[2],Nn+Rn[3]*(1-Nn)]}function Oe(In){var Rn=_e(In,3),Nn=Rn[0],On=Rn[1],Dn=Rn[2];return .2126*(Nn<=.03928?Nn/12.92:Math.pow((Nn+.055)/1.055,2.4))+.7152*(On<=.03928?On/12.92:Math.pow((On+.055)/1.055,2.4))+.0722*(Dn<=.03928?Dn/12.92:Math.pow((Dn+.055)/1.055,2.4))}Object.defineProperty(pe,"__esModule",{value:!0}),pe.getContrastThreshold=pe.isLargeFont=pe.getAPCAThreshold=pe.desiredLuminanceAPCA=pe.contrastRatioByLuminanceAPCA=pe.contrastRatioAPCA=pe.luminanceAPCA=pe.contrastRatio=pe.luminance=pe.rgbaToHsla=pe.blendColors=void 0,pe.blendColors=Ie,pe.rgbaToHsla=function(In){var Rn=_e(In,4),Nn=Rn[0],On=Rn[1],Dn=Rn[2],Mn=Rn[3],Bn=Math.max(Nn,On,Dn),$n=Math.min(Nn,On,Dn),Fn=Bn-$n,Un=Bn+$n,Hn=.5*Un;return[$n===Bn?0:Nn===Bn?(.16666666666666666*(On-Dn)/Fn+1)%1:On===Bn?.16666666666666666*(Dn-Nn)/Fn+.3333333333333333:.16666666666666666*(Nn-On)/Fn+.6666666666666666,Hn===0||Hn===1?0:Hn<=.5?Fn/Un:Fn/(2-Un),Hn,Mn]},pe.luminance=Oe,pe.contrastRatio=function(In,Rn){var Nn=Oe(Ie(In,Rn)),On=Oe(Rn);return(Math.max(Nn,On)+.05)/(Math.min(Nn,On)+.05)};var Ne=2.4,Fe=.55,Ue=.58,$e=.62,ze=.57,Ve=.03,qe=1.45,En=1.25,vn=1.25,hn=5e-4,_n=.078,bn=12.82051282051282,An=.06,xn=.001;function Sn(In){var Rn=_e(In,3),Nn=Rn[0],On=Rn[1],Dn=Rn[2];return .2126729*Math.pow(Nn,Ne)+.7151522*Math.pow(On,Ne)+.072175*Math.pow(Dn,Ne)}function Cn(In){return In>Ve?In:In+Math.pow(Ve-In,qe)}function Tn(In,Rn){if(In=Cn(In),Rn=Cn(Rn),Math.abs(In-Rn)<hn)return 0;var Nn=0;return 100*(Nn=Rn>=In?(Nn=(Math.pow(Rn,Fe)-Math.pow(In,Ue))*En)<xn?0:Nn<_n?Nn-Nn*bn*An:Nn-An:(Nn=(Math.pow(Rn,$e)-Math.pow(In,ze))*vn)>-xn?0:Nn>-_n?Nn-Nn*bn*An:Nn+An)}pe.luminanceAPCA=Sn,pe.contrastRatioAPCA=function(In,Rn){return Tn(Sn(In),Sn(Rn))},pe.contrastRatioByLuminanceAPCA=Tn,pe.desiredLuminanceAPCA=function(In,Rn,Nn){function On(){return Nn?Math.pow(Math.abs(Math.pow(In,$e)-(-Rn-An)/vn),1/ze):Math.pow(Math.abs(Math.pow(In,Fe)-(Rn+An)/En),1/Ue)}In=Cn(In),Rn/=100;var Dn=On();return(Dn<0||Dn>1)&&(Nn=!Nn,Dn=On()),Dn};var wn=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function Ln(In,Rn){var Nn=72*parseFloat(In.replace("px",""))/96;return["bold","bolder","600","700","800","900"].indexOf(Rn)!==-1?Nn>=14:Nn>=18}wn.reverse(),pe.getAPCAThreshold=function(In,Rn){var Nn,On,Dn,Mn,Bn=parseFloat(In.replace("px","")),$n=parseFloat(Rn);try{for(var Fn=Ce(wn),Un=Fn.next();!Un.done;Un=Fn.next()){var Hn=_e(Un.value),Wn=Hn[0],Xn=Hn.slice(1);if(Bn>=Wn)try{for(var or=(Dn=void 0,Ce([900,800,700,600,500,400,300,200,100].entries())),fr=or.next();!fr.done;fr=or.next()){var cr=_e(fr.value,2),Jn=cr[0];if($n>=cr[1]){var mr=Xn[Xn.length-1-Jn];return mr===-1?null:mr}}}catch(Ir){Dn={error:Ir}}finally{try{fr&&!fr.done&&(Mn=or.return)&&Mn.call(or)}finally{if(Dn)throw Dn.error}}}}catch(Ir){Nn={error:Ir}}finally{try{Un&&!Un.done&&(On=Fn.return)&&On.call(Fn)}finally{if(Nn)throw Nn.error}}return null},pe.isLargeFont=Ln;var Pn={aa:3,aaa:4.5},kn={aa:4.5,aaa:7};pe.getContrastThreshold=function(In,Rn){return Ln(In,Rn)?Pn:kn}},9434:function(xe,pe){var _e=this&&this.__values||function($e){var ze=typeof Symbol=="function"&&Symbol.iterator,Ve=ze&&$e[ze],qe=0;if(Ve)return Ve.call($e);if($e&&typeof $e.length=="number")return{next:function(){return $e&&qe>=$e.length&&($e=void 0),{value:$e&&$e[qe++],done:!$e}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=this&&this.__read||function($e,ze){var Ve=typeof Symbol=="function"&&$e[Symbol.iterator];if(!Ve)return $e;var qe,En,vn=Ve.call($e),hn=[];try{for(;(ze===void 0||ze-- >0)&&!(qe=vn.next()).done;)hn.push(qe.value)}catch(_n){En={error:_n}}finally{try{qe&&!qe.done&&(Ve=vn.return)&&Ve.call(vn)}finally{if(En)throw En.error}}return hn},Ie=this&&this.__spreadArray||function($e,ze,Ve){if(Ve||arguments.length===2)for(var qe,En=0,vn=ze.length;En<vn;En++)!qe&&En in ze||(qe||(qe=Array.prototype.slice.call(ze,0,En)),qe[En]=ze[En]);return $e.concat(qe||Array.prototype.slice.call(ze))};Object.defineProperty(pe,"__esModule",{value:!0}),pe.adoptStyleSheet=pe.constrainNumber=pe.ellipsify=pe.createElement=pe.createTextChild=pe.createChild=pe.log=pe.Overlay=void 0;var Oe=function(){function $e(ze,Ve){Ve===void 0&&(Ve=[]),this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=ze,this._document=ze.document,Array.isArray(Ve)||(Ve=[Ve]),this.style=Ve}return $e.prototype.setCanvas=function(ze){this.canvas=ze,this._context=ze.getContext("2d")},$e.prototype.install=function(){var ze,Ve;try{for(var qe=_e(this.style),En=qe.next();!En.done;En=qe.next())Ue(En.value)}catch(vn){ze={error:vn}}finally{try{En&&!En.done&&(Ve=qe.return)&&Ve.call(qe)}finally{if(ze)throw ze.error}}this._installed=!0},$e.prototype.uninstall=function(){var ze,Ve,qe=function(hn){document.adoptedStyleSheets=document.adoptedStyleSheets.filter(function(_n){return _n!==hn})};try{for(var En=_e(this.style),vn=En.next();!vn.done;vn=En.next())qe(vn.value)}catch(hn){ze={error:hn}}finally{try{vn&&!vn.done&&(Ve=En.return)&&Ve.call(En)}finally{if(ze)throw ze.error}}this._installed=!1},$e.prototype.reset=function(ze){ze&&(this.viewportSize=ze.viewportSize,this.visualViewportSize=ze.visualViewportSize,this.deviceScaleFactor=ze.deviceScaleFactor,this.pageScaleFactor=ze.pageScaleFactor,this.pageZoomFactor=ze.pageZoomFactor,this.emulationScaleFactor=ze.emulationScaleFactor,this.scrollX=Math.round(ze.scrollX),this.scrollY=Math.round(ze.scrollY)),this.resetCanvas()},$e.prototype.resetCanvas=function(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)},$e.prototype.setPlatform=function(ze){this.platform=ze,this._installed||this.install()},$e.prototype.dispatch=function(ze){this[ze.shift()].apply(this,ze)},$e.prototype.eventHasCtrlOrMeta=function(ze){return this.platform==="mac"?ze.metaKey&&!ze.ctrlKey:ze.ctrlKey&&!ze.metaKey},Object.defineProperty($e.prototype,"context",{get:function(){if(!this._context)throw new Error("Context object is missing");return this._context},enumerable:!1,configurable:!0}),Object.defineProperty($e.prototype,"document",{get:function(){if(!this._document)throw new Error("Document object is missing");return this._document},enumerable:!1,configurable:!0}),Object.defineProperty($e.prototype,"window",{get:function(){if(!this._window)throw new Error("Window object is missing");return this._window},enumerable:!1,configurable:!0}),Object.defineProperty($e.prototype,"installed",{get:function(){return this._installed},enumerable:!1,configurable:!0}),$e}();function Ne($e,ze,Ve){var qe=Fe(ze,Ve);return qe.addEventListener("click",function(En){En.stopPropagation()},!1),$e.appendChild(qe),qe}function Fe($e,ze){var Ve=document.createElement($e);if(ze){var qe=ze.split(/\s+/);qe=qe.map(function(En){return"luna-dom-highlighter-"+En}),Ve.className=qe.join(" ")}return Ve}function Ue($e){document.adoptedStyleSheets=Ie(Ie([],Ce(document.adoptedStyleSheets),!1),[$e],!1)}pe.Overlay=Oe,pe.log=function($e){var ze=document.getElementById("log");ze||((ze=Ne(document.body,"div")).id="log"),Ne(ze,"div").textContent=$e},pe.createChild=Ne,pe.createTextChild=function($e,ze){var Ve=document.createTextNode(ze);return $e.appendChild(Ve),Ve},pe.createElement=Fe,pe.ellipsify=function($e,ze){return $e.length<=ze?String($e):$e.substr(0,ze-1)+"…"},pe.constrainNumber=function($e,ze,Ve){return $e<ze?$e=ze:$e>Ve&&($e=Ve),$e},pe.adoptStyleSheet=Ue},1521:function(xe,pe,_e){var Ce=this&&this.__values||function(bn){var An=typeof Symbol=="function"&&Symbol.iterator,xn=An&&bn[An],Sn=0;if(xn)return xn.call(bn);if(bn&&typeof bn.length=="number")return{next:function(){return bn&&Sn>=bn.length&&(bn=void 0),{value:bn&&bn[Sn++],done:!bn}}};throw new TypeError(An?"Object is not iterable.":"Symbol.iterator is not defined.")},Ie=this&&this.__read||function(bn,An){var xn=typeof Symbol=="function"&&bn[Symbol.iterator];if(!xn)return bn;var Sn,Cn,Tn=xn.call(bn),wn=[];try{for(;(An===void 0||An-- >0)&&!(Sn=Tn.next()).done;)wn.push(Sn.value)}catch(Ln){Cn={error:Ln}}finally{try{Sn&&!Sn.done&&(xn=Tn.return)&&xn.call(Tn)}finally{if(Cn)throw Cn.error}}return wn},Oe=this&&this.__spreadArray||function(bn,An,xn){if(xn||arguments.length===2)for(var Sn,Cn=0,Tn=An.length;Cn<Tn;Cn++)!Sn&&Cn in An||(Sn||(Sn=Array.prototype.slice.call(An,0,Cn)),Sn[Cn]=An[Cn]);return bn.concat(Sn||Array.prototype.slice.call(An))},Ne=this&&this.__importDefault||function(bn){return bn&&bn.__esModule?bn:{default:bn}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.drawPath=pe.formatColor=pe.formatRgba=pe.parseHexa=pe.createPathForQuad=pe.hatchFillPath=pe.applyMatrixToPoint=pe.emptyBounds=pe.buildPath=pe.fillPathWithBoxStyle=pe.drawPathWithLineStyle=void 0;var Fe=Ne(_e(4858)),Ue=_e(9706);function $e(bn,An,xn){var Sn=0;function Cn(Ln){for(var Pn=[],kn=0;kn<Ln;++kn){var In=Math.round(bn[Sn++]*xn);An.maxX=Math.max(An.maxX,In),An.minX=Math.min(An.minX,In);var Rn=Math.round(bn[Sn++]*xn);An.maxY=Math.max(An.maxY,Rn),An.minY=Math.min(An.minY,Rn),An.leftmostXForY[Rn]=Math.min(An.leftmostXForY[Rn]||Number.MAX_VALUE,In),An.rightmostXForY[Rn]=Math.max(An.rightmostXForY[Rn]||Number.MIN_VALUE,In),An.topmostYForX[In]=Math.min(An.topmostYForX[In]||Number.MAX_VALUE,Rn),An.bottommostYForX[In]=Math.max(An.bottommostYForX[In]||Number.MIN_VALUE,Rn),An.allPoints.push({x:In,y:Rn}),Pn.push(In,Rn)}return Pn}for(var Tn=bn.length,wn=new Path2D;Sn<Tn;)switch(bn[Sn++]){case"M":wn.moveTo.apply(wn,Cn(1));break;case"L":wn.lineTo.apply(wn,Cn(1));break;case"C":wn.bezierCurveTo.apply(wn,Cn(3));break;case"Q":wn.quadraticCurveTo.apply(wn,Cn(2));break;case"Z":wn.closePath()}return wn}pe.drawPathWithLineStyle=function(bn,An,xn,Sn){Sn===void 0&&(Sn=1),xn&&xn.color&&(bn.save(),bn.translate(.5,.5),bn.lineWidth=Sn,xn.pattern==="dashed"&&bn.setLineDash([3,3]),xn.pattern==="dotted"&&bn.setLineDash([2,2]),bn.strokeStyle=xn.color,bn.stroke(An),bn.restore())},pe.fillPathWithBoxStyle=function(bn,An,xn,Sn,Cn){Cn&&(bn.save(),Cn.fillColor&&(bn.fillStyle=Cn.fillColor,bn.fill(An)),Cn.hatchColor&&vn(bn,An,xn,10,Cn.hatchColor,Sn,!1),bn.restore())},pe.buildPath=$e,pe.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},pe.applyMatrixToPoint=function(bn,An){var xn=new DOMPoint(bn.x,bn.y);return{x:(xn=xn.matrixTransform(An)).x,y:xn.y}};var ze,Ve=5,qe=3,En="";function vn(bn,An,xn,Sn,Cn,Tn,wn){if((bn.canvas.width<xn.maxX-xn.minX||bn.canvas.height<xn.maxY-xn.minY)&&(xn={minX:0,maxX:bn.canvas.width,minY:0,maxY:bn.canvas.height,allPoints:[]}),!ze||Cn!==En){En=Cn;var Ln=document.createElement("canvas");Ln.width=Sn,Ln.height=Ve+qe;var Pn=Ln.getContext("2d");Pn.clearRect(0,0,Ln.width,Ln.height),Pn.rect(0,0,1,Ve),Pn.fillStyle=Cn,Pn.fill(),ze=bn.createPattern(Ln,"repeat")}bn.save();var kn=new DOMMatrix;ze.setTransform(kn.scale(wn?-1:1,1).rotate(0,0,-45+Tn)),bn.fillStyle=ze,bn.fill(An),bn.restore()}function hn(bn){return(bn.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map(function(An){return parseInt(An,16)/255})}function _n(bn,An){if(An==="rgb"){var xn=Ie(bn,4),Sn=xn[0],Cn=xn[1],Tn=xn[2],wn=xn[3];return"rgb(".concat((255*Sn).toFixed()," ").concat((255*Cn).toFixed()," ").concat((255*Tn).toFixed()).concat(wn===1?"":" / "+Math.round(100*wn)/100,")")}if(An==="hsl"){var Ln=Ie((0,Ue.rgbaToHsla)(bn),4),Pn=Ln[0],kn=Ln[1],In=Ln[2];return wn=Ln[3],"hsl(".concat(Math.round(360*Pn),"deg ").concat(Math.round(100*kn)," ").concat(Math.round(100*In)).concat(wn===1?"":" / "+Math.round(100*wn)/100,")")}throw new Error("NOT_REACHED")}pe.hatchFillPath=vn,pe.createPathForQuad=function(bn,An,xn,Sn){var Cn,Tn,wn=["M",bn.p1.x,bn.p1.y,"L",bn.p2.x,bn.p2.y,"L",bn.p3.x,bn.p3.y,"L",bn.p4.x,bn.p4.y];try{for(var Ln=Ce(An),Pn=Ln.next();!Pn.done;Pn=Ln.next()){var kn=Pn.value;wn=Oe(Oe([],Ie(wn),!1),["L",kn.p4.x,kn.p4.y,"L",kn.p3.x,kn.p3.y,"L",kn.p2.x,kn.p2.y,"L",kn.p1.x,kn.p1.y,"L",kn.p4.x,kn.p4.y,"L",bn.p4.x,bn.p4.y],!1)}}catch(In){Cn={error:In}}finally{try{Pn&&!Pn.done&&(Tn=Ln.return)&&Tn.call(Ln)}finally{if(Cn)throw Cn.error}}return wn.push("Z"),$e(wn,xn,Sn)},pe.parseHexa=hn,pe.formatRgba=_n,pe.formatColor=function(bn,An){return An==="rgb"||An==="hsl"?_n(hn(bn),An):(0,Fe.default)(bn,"FF")?bn.substr(0,7):bn},pe.drawPath=function(bn,An,xn,Sn,Cn,Tn,wn){bn.save();var Ln=$e(An,Tn,wn);return xn&&(bn.fillStyle=xn,bn.fill(Ln)),Sn&&(Cn==="dashed"&&bn.setLineDash([3,3]),Cn==="dotted"&&bn.setLineDash([2,2]),bn.lineWidth=2,bn.strokeStyle=Sn,bn.stroke(Ln)),bn.restore(),Ln}},7669:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(hn,_n){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bn,An){bn.__proto__=An}||function(bn,An){for(var xn in An)Object.prototype.hasOwnProperty.call(An,xn)&&(bn[xn]=An[xn])},Ce(hn,_n)},function(hn,_n){if(typeof _n!="function"&&_n!==null)throw new TypeError("Class extends value "+String(_n)+" is not a constructor or null");function bn(){this.constructor=hn}Ce(hn,_n),hn.prototype=_n===null?Object.create(_n):(bn.prototype=_n.prototype,new bn)}),Oe=this&&this.__importDefault||function(hn){return hn&&hn.__esModule?hn:{default:hn}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.HighlightOverlay=void 0;var Ne=Oe(_e(4858)),Fe=_e(9706),Ue=_e(9434),$e=_e(1521),ze=function(hn){function _n(){var bn=hn!==null&&hn.apply(this,arguments)||this;return bn.gridLabelState={gridLayerCounter:0},bn}return Ie(_n,hn),_n.prototype.setContainer=function(bn){this._container=bn},_n.prototype.setPlatform=function(bn){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+bn),hn.prototype.setPlatform.call(this,bn)},Object.defineProperty(_n.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),_n.prototype.reset=function(bn){hn.prototype.reset.call(this,bn),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0},_n.prototype.install=function(){var bn=this.document.createElement("canvas");bn.classList.add("luna-dom-highlighter-fill"),this.container.appendChild(bn);var An=this.document.createElement("div");this.container.appendChild(An),this.tooltip=An,this.setCanvas(bn),hn.prototype.install.call(this)},_n.prototype.uninstall=function(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",hn.prototype.uninstall.call(this)},_n.prototype.drawHighlight=function(bn){this.context.save();for(var An=(0,$e.emptyBounds)(),xn=bn.paths.slice();xn.length;){var Sn=xn.pop();Sn&&(this.context.save(),(0,$e.drawPath)(this.context,Sn.path,Sn.fillColor,Sn.outlineColor,void 0,An,this.emulationScaleFactor),xn.length&&(this.context.globalCompositeOperation="destination-out",(0,$e.drawPath)(this.context,xn[xn.length-1].path,"red",void 0,void 0,An,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var Cn=!!(bn.paths.length&&bn.showRulers&&An.minX<20&&An.maxX+20<this.canvasWidth),Tn=!!(bn.paths.length&&bn.showRulers&&An.minY<20&&An.maxY+20<this.canvasHeight);return bn.showRulers&&this.drawAxis(this.context,Cn,Tn),bn.paths.length&&(bn.showExtensionLines&&function(wn,Ln,Pn,kn,In,Rn,Nn,On){wn.save();var Dn=Nn,Mn=On;if(wn.strokeStyle=In||vn,wn.lineWidth=1,wn.translate(.5,.5),Rn&&wn.setLineDash([3,3]),Pn)for(var Bn in Ln.rightmostXForY)wn.beginPath(),wn.moveTo(Dn,Number(Bn)),wn.lineTo(Ln.rightmostXForY[Bn],Number(Bn)),wn.stroke();else for(var Bn in Ln.leftmostXForY)wn.beginPath(),wn.moveTo(0,Number(Bn)),wn.lineTo(Ln.leftmostXForY[Bn],Number(Bn)),wn.stroke();if(kn)for(var $n in Ln.bottommostYForX)wn.beginPath(),wn.moveTo(Number($n),Mn),wn.lineTo(Number($n),Ln.topmostYForX[$n]),wn.stroke();else for(var $n in Ln.topmostYForX)wn.beginPath(),wn.moveTo(Number($n),0),wn.lineTo(Number($n),Ln.topmostYForX[$n]),wn.stroke();wn.restore()}(this.context,An,Cn,Tn,void 0,!1,this.canvasWidth,this.canvasHeight),bn.elementInfo&&function(wn,Ln,Pn,kn,In,Rn){wn.innerHTML="";var Nn=(0,Ue.createChild)(wn,"div"),On=(0,Ue.createChild)(Nn,"div","tooltip-content"),Dn=function(rr,gr){var Ar=(0,Ue.createElement)("div","element-info"),Br=(0,Ue.createChild)(Ar,"div","element-info-header"),Vr=function(no){return no.layoutObjectName&&(0,Ne.default)(no.layoutObjectName,"Grid")?"grid":no.layoutObjectName&&no.layoutObjectName==="LayoutNGFlexibleBox"?"flex":null}(rr);Vr&&(0,Ue.createChild)(Br,"div","element-layout-type ".concat(Vr));var Fr=(0,Ue.createChild)(Br,"div","element-description");(0,Ue.createChild)(Fr,"span","material-tag-name").textContent=rr.tagName;var Er=(0,Ue.createChild)(Fr,"span","material-node-id"),Dr=80;Er.textContent=rr.idValue?"#"+(0,Ue.ellipsify)(rr.idValue,Dr):"",Er.classList.toggle("hidden",!rr.idValue);var Pr=(0,Ue.createChild)(Fr,"span","material-class-name");Er.textContent.length<Dr&&(Pr.textContent=(0,Ue.ellipsify)(rr.className||"",Dr-Er.textContent.length)),Pr.classList.toggle("hidden",!rr.className);var $r=(0,Ue.createChild)(Br,"div","dimensions");(0,Ue.createChild)($r,"span","material-node-width").textContent=String(Math.round(100*rr.nodeWidth)/100),(0,Ue.createTextChild)($r,"×"),(0,Ue.createChild)($r,"span","material-node-height").textContent=String(Math.round(100*rr.nodeHeight)/100);var Lr,Or=rr.style||{};rr.isLockedAncestor&&Gr("Showing content-visibility ancestor",""),rr.isLocked&&Gr("Descendants are skipped due to content-visibility","");var Hr=Or.color;Hr&&Hr!=="#00000000"&&zr("Color",Hr,gr);var qr=Or["font-family"],ao=Or["font-size"];qr&&ao!=="0px"&&Gr("Font","".concat(ao," ").concat(qr));var Ur=Or["background-color"];Ur&&Ur!=="#00000000"&&zr("Background",Ur,gr);var _r=Or.margin;_r&&_r!=="0px"&&Gr("Margin",_r);var ur=Or.padding;ur&&ur!=="0px"&&Gr("Padding",ur);var kr=rr.contrast?rr.contrast.backgroundColor:null,lr=Hr&&Hr!=="#00000000"&&kr&&kr!=="#00000000";rr.showAccessibilityInfo&&(Mr("Accessibility"),lr&&Or.color&&rr.contrast&&to(Or.color,rr.contrast),Gr("Name",rr.accessibleName),Gr("Role",rr.accessibleRole),jr("Keyboard-focusable",rr.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok"));function br(){Lr||(Lr=(0,Ue.createChild)(Ar,"div","element-info-body"))}function Mr(no){br();var oo=(0,Ue.createChild)(Lr,"div","element-info-row element-info-section");(0,Ue.createChild)(oo,"div","section-name").textContent=no,(0,Ue.createChild)((0,Ue.createChild)(oo,"div","separator-container"),"div","separator")}function vr(no,oo,Eo){br();var So=(0,Ue.createChild)(Lr,"div","element-info-row");return oo&&So.classList.add(oo),(0,Ue.createChild)(So,"div","element-info-name").textContent=no,(0,Ue.createChild)(So,"div","element-info-gap"),(0,Ue.createChild)(So,"div",Eo||"")}function jr(no,oo){(0,Ue.createChild)(vr(no,"","element-info-value-icon"),"div",oo)}function Gr(no,oo){(0,Ue.createTextChild)(vr(no,"","element-info-value-text"),oo)}function zr(no,oo,Eo){var So=vr(no,"","element-info-value-color"),No=(0,Ue.createChild)(So,"div","color-swatch");(0,Ue.createChild)(No,"div","color-swatch-inner").style.backgroundColor=oo,(0,Ue.createTextChild)(So,(0,$e.formatColor)(oo,Eo))}function to(no,oo){var Eo=(0,$e.parseHexa)(no),So=(0,$e.parseHexa)(oo.backgroundColor);Eo[3]*=oo.textOpacity;var No=vr("Contrast","","element-info-value-contrast"),Fo=(0,Ue.createChild)(No,"div","contrast-text");Fo.style.color=(0,$e.formatRgba)(Eo,"rgb"),Fo.style.backgroundColor=oo.backgroundColor,Fo.textContent="Aa";var Bo=(0,Ue.createChild)(No,"span");if(oo.contrastAlgorithm==="apca"){var Ho=(0,Fe.contrastRatioAPCA)(Eo,So),Go=(0,Fe.getAPCAThreshold)(oo.fontSize,oo.fontWeight);Bo.textContent=String(Math.floor(100*Ho)/100)+"%",(0,Ue.createChild)(No,"div",Go===null||Math.abs(Ho)<Go?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if(oo.contrastAlgorithm==="aa"||oo.contrastAlgorithm==="aaa"){var si=(0,Fe.contrastRatio)(Eo,So);Go=(0,Fe.getContrastThreshold)(oo.fontSize,oo.fontWeight)[oo.contrastAlgorithm],Bo.textContent=String(Math.floor(100*si)/100),(0,Ue.createChild)(No,"div",si<Go?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}return Ar}(Ln,Pn);On.appendChild(Dn);var Mn,Bn=On.offsetWidth,$n=On.offsetHeight,Fn=8,Un=2,Hn=2*Fn,Wn=Fn+2,Xn=Un+Wn,or=In-Un-Wn-Hn,fr=kn.maxX-kn.minX<Hn+2*Wn;if(fr)Mn=.5*(kn.minX+kn.maxX)-Fn;else{var cr=kn.minX+Wn,Jn=kn.maxX-Wn-Hn;Mn=cr>Xn&&cr<or?cr:(0,Ue.constrainNumber)(Xn,cr,Jn)}var mr=Mn<Xn||Mn>or,Ir=Mn-Wn;Ir=(0,Ue.constrainNumber)(Ir,Un,In-Bn-Un);var yr=kn.minY-Fn-$n,Tr=!0;yr<0?(yr=Math.min(Rn-$n,kn.maxY+Fn),Tr=!1):kn.minY>Rn&&(yr=Rn-Fn-$n);var Sr=Ir>=kn.minX&&Ir+Bn<=kn.maxX&&yr>=kn.minY&&yr+$n<=kn.maxY,Yn=Ir<kn.maxX&&Ir+Bn>kn.minX&&yr<kn.maxY&&yr+$n>kn.minY;if(Yn&&!Sr)return void(On.style.display="none");if(On.style.top=yr+"px",On.style.left=Ir+"px",!mr){var Qn=(0,Ue.createChild)(On,"div","tooltip-arrow");Qn.style.clipPath=Tr?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",Qn.style.top=(Tr?$n-1:-Fn)+"px",Qn.style.left=Mn-Ir+"px"}}(this.tooltip,bn.elementInfo,bn.colorFormat,An,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:An}},_n.prototype.drawAxis=function(bn,An,xn){bn.save();var Sn=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,Cn=this.scrollX*this.pageScaleFactor,Tn=this.scrollY*this.pageScaleFactor;function wn(Bn){return Math.round(Bn*Sn)}function Ln(Bn){return Math.round(Bn/Sn)}var Pn=this.canvasWidth/Sn,kn=this.canvasHeight/Sn,In=50;bn.save(),bn.fillStyle=En,xn?bn.fillRect(0,wn(kn)-15,wn(Pn),wn(kn)):bn.fillRect(0,0,wn(Pn),15),bn.globalCompositeOperation="destination-out",bn.fillStyle="red",An?bn.fillRect(wn(Pn)-15,0,wn(Pn),wn(kn)):bn.fillRect(0,0,15,wn(kn)),bn.restore(),bn.fillStyle=En,An?bn.fillRect(wn(Pn)-15,0,wn(Pn),wn(kn)):bn.fillRect(0,0,15,wn(kn)),bn.lineWidth=1,bn.strokeStyle=qe,bn.fillStyle=qe,bn.save(),bn.translate(-Cn,.5-Tn);for(var Rn=kn+Ln(Tn),Nn=100;Nn<Rn;Nn+=100)bn.save(),bn.translate(Cn,wn(Nn)),bn.rotate(-Math.PI/2),bn.fillText(String(Nn),2,An?wn(Pn)-7:13),bn.restore();bn.translate(.5,-.5);for(var On=Pn+Ln(Cn),Dn=100;Dn<On;Dn+=100)bn.save(),bn.fillText(String(Dn),wn(Dn)+2,xn?Tn+wn(kn)-7:Tn+13),bn.restore();for(bn.restore(),bn.save(),An&&(bn.translate(wn(Pn),0),bn.scale(-1,1)),bn.translate(-Cn,.5-Tn),Rn=kn+Ln(Tn),Nn=In;Nn<Rn;Nn+=In){bn.beginPath(),bn.moveTo(Cn,wn(Nn));var Mn=Nn%100?5:8;bn.lineTo(Cn+Mn,wn(Nn)),bn.stroke()}for(bn.strokeStyle=Ve,Nn=5;Nn<Rn;Nn+=5)Nn%In&&(bn.beginPath(),bn.moveTo(Cn,wn(Nn)),bn.lineTo(Cn+5,wn(Nn)),bn.stroke());for(bn.restore(),bn.save(),xn&&(bn.translate(0,wn(kn)),bn.scale(1,-1)),bn.translate(.5-Cn,-Tn),On=Pn+Ln(Cn),Dn=In;Dn<On;Dn+=In)bn.beginPath(),bn.moveTo(wn(Dn),Tn),Mn=Dn%100?5:8,bn.lineTo(wn(Dn),Tn+Mn),bn.stroke();for(bn.strokeStyle=Ve,Dn=5;Dn<On;Dn+=5)Dn%In&&(bn.beginPath(),bn.moveTo(wn(Dn),Tn),bn.lineTo(wn(Dn),Tn+5),bn.stroke());bn.restore(),bn.restore()},_n}(Ue.Overlay);pe.HighlightOverlay=ze;var Ve="rgba(0,0,0,0.2)",qe="rgba(0,0,0,0.7)",En="rgba(255, 255, 255, 0.8)",vn="rgba(128, 128, 128, 0.3)"},1160:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(vn,hn){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_n,bn){_n.__proto__=bn}||function(_n,bn){for(var An in bn)Object.prototype.hasOwnProperty.call(bn,An)&&(_n[An]=bn[An])},Ce(vn,hn)},function(vn,hn){if(typeof hn!="function"&&hn!==null)throw new TypeError("Class extends value "+String(hn)+" is not a constructor or null");function _n(){this.constructor=vn}Ce(vn,hn),vn.prototype=hn===null?Object.create(hn):(_n.prototype=hn.prototype,new _n)}),Oe=this&&this.__importDefault||function(vn){return vn&&vn.__esModule?vn:{default:vn}};Object.defineProperty(pe,"__esModule",{value:!0});var Ne=Oe(_e(1443)),Fe=Oe(_e(1512)),Ue=_e(2062),$e=Oe(_e(3783)),ze=Oe(_e(6329)),Ve=Oe(_e(4193)),qe=Oe(_e(5852)),En=function(vn){function hn(_n,bn,An){var xn=bn.compName,Sn=(An===void 0?{}:An).theme,Cn=Sn===void 0?"light":Sn,Tn=vn.call(this)||this;return Tn.subComponents=[],Tn.compName=xn,Tn.c=(0,Ue.classPrefix)(xn),Tn.options={},Tn.container=_n,Tn.$container=(0,Fe.default)(_n),Tn.$container.addClass(["luna-".concat(xn),Tn.c("platform-".concat((0,Ue.getPlatform)()))]),Tn.on("optionChange",function(wn,Ln,Pn){var kn=Tn.c;wn==="theme"&&(Tn.$container.rmClass(kn("theme-".concat(Pn))).addClass(kn("theme-".concat(Ln))),(0,$e.default)(Tn.subComponents,function(In){return In.setOption("theme",Ln)}))}),Tn.setOption("theme",Cn),Tn}return Ie(hn,vn),hn.prototype.destroy=function(){this.destroySubComponents();var _n=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(_n("platform-".concat((0,Ue.getPlatform)()))).rmClass(_n("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},hn.prototype.setOption=function(_n,bn){var An=this,xn=this.options,Sn={};typeof _n=="string"?Sn[_n]=bn:Sn=_n,(0,$e.default)(Sn,function(Cn,Tn){var wn=xn[Tn];xn[Tn]=Cn,An.emit("optionChange",Tn,Cn,wn)})},hn.prototype.getOption=function(_n){return this.options[_n]},hn.prototype.addSubComponent=function(_n){_n.setOption("theme",this.options.theme),this.subComponents.push(_n)},hn.prototype.removeSubComponent=function(_n){(0,qe.default)(this.subComponents,function(bn){return bn===_n})},hn.prototype.destroySubComponents=function(){(0,$e.default)(this.subComponents,function(_n){return _n.destroy()}),this.subComponents=[]},hn.prototype.initOptions=function(_n,bn){bn===void 0&&(bn={}),(0,Ve.default)(_n,bn),(0,ze.default)(this.options,_n)},hn.prototype.find=function(_n){return this.$container.find(this.c(_n))},hn}(Ne.default);pe.default=En},2062:function(xe,pe,_e){var Ce=this&&this.__importDefault||function(An){return An&&An.__esModule?An:{default:An}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.resetCanvasSize=pe.getPlatform=pe.pxToNum=pe.executeAfterTransition=pe.hasVerticalScrollbar=pe.measuredScrollbarWidth=pe.eventPage=pe.eventClient=pe.drag=pe.classPrefix=void 0;var Ie=Ce(_e(2461)),Oe=Ce(_e(4331)),Ne=Ce(_e(5610)),Fe=Ce(_e(7483)),Ue=Ce(_e(3990)),$e=Ce(_e(6341)),ze=Ce(_e(3875)),Ve=Ce(_e(6954)),qe=Ce(_e(9585));function En(An,xn){for(var Sn=0,Cn=An.length;Sn<Cn;Sn++){var Tn=An[Sn];xn(Tn),Tn.content&&En(Tn.content,xn)}}pe.classPrefix=function(An){var xn="luna-".concat(An,"-");function Sn(Cn){return(0,Ie.default)((0,Oe.default)(Cn).split(/\s+/),function(Tn){return(0,$e.default)(Tn,xn)?Tn:Tn.replace(/[\w-]+/,function(wn){return"".concat(xn).concat(wn)})}).join(" ")}return function(Cn){if(/<[^>]*>/g.test(Cn))try{var Tn=Fe.default.parse(Cn);return En(Tn,function(wn){wn.attrs&&wn.attrs.class&&(wn.attrs.class=Sn(wn.attrs.class))}),Fe.default.stringify(Tn)}catch(wn){return Sn(Cn)}return Sn(Cn)}};var vn,hn="ontouchstart"in Ne.default,_n={start:"touchstart",move:"touchmove",end:"touchend"},bn={start:"mousedown",move:"mousemove",end:"mouseup"};pe.drag=function(An){return hn?_n[An]:bn[An]},pe.eventClient=function(An,xn){var Sn=An==="x"?"clientX":"clientY";return xn[Sn]?xn[Sn]:xn.changedTouches?xn.changedTouches[0][Sn]:0},pe.eventPage=function(An,xn){var Sn=An==="x"?"pageX":"pageY";return xn[Sn]?xn[Sn]:xn.changedTouches?xn.changedTouches[0][Sn]:0},pe.measuredScrollbarWidth=function(){if((0,Ue.default)(vn))return vn;if(!document)return 16;var An=document.createElement("div"),xn=document.createElement("div");return An.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),xn.setAttribute("style","height: 200px"),An.appendChild(xn),document.body.appendChild(An),vn=An.offsetWidth-An.clientWidth,document.body.removeChild(An),vn},pe.hasVerticalScrollbar=function(An){return An.scrollHeight>An.offsetHeight},pe.executeAfterTransition=function(An,xn){if((0,qe.default)(An))return xn();var Sn=function(Cn){Cn.target===An&&(An.removeEventListener("transitionend",Sn),xn())};An.addEventListener("transitionend",Sn)},pe.pxToNum=function(An){return(0,ze.default)(An.replace("px",""))},pe.getPlatform=function(){var An=(0,Ve.default)();return An==="os x"?"mac":An},pe.resetCanvasSize=function(An){An.width=Math.round(An.offsetWidth*window.devicePixelRatio),An.height=Math.round(An.offsetHeight*window.devicePixelRatio)}},6093:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(qe,En){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vn,hn){vn.__proto__=hn}||function(vn,hn){for(var _n in hn)Object.prototype.hasOwnProperty.call(hn,_n)&&(vn[_n]=hn[_n])},Ce(qe,En)},function(qe,En){if(typeof En!="function"&&En!==null)throw new TypeError("Class extends value "+String(En)+" is not a constructor or null");function vn(){this.constructor=qe}Ce(qe,En),qe.prototype=En===null?Object.create(En):(vn.prototype=En.prototype,new vn)}),Oe=this&&this.__importDefault||function(qe){return qe&&qe.__esModule?qe:{default:qe}};Object.defineProperty(pe,"__esModule",{value:!0});var Ne=Oe(_e(1512)),Fe=Oe(_e(5229)),Ue=Oe(_e(2244)),$e=Oe(_e(8613)),ze=function(qe){function En(vn,hn){hn===void 0&&(hn={});var _n=qe.call(this,vn,{compName:"notification"},hn)||this;return _n.notifications=[],_n.initOptions(hn,{position:{x:"right",y:"bottom"},duration:2e3}),_n.initTpl(),_n}return Ie(En,qe),En.prototype.notify=function(vn,hn){var _n=this;hn===void 0&&(hn={duration:this.options.duration});var bn=new Ve(this,vn);this.notifications.push(bn),this.add(bn),setTimeout(function(){return _n.remove(bn.id)},hn.duration)},En.prototype.dismissAll=function(){for(var vn=this.notifications,hn=vn[0];hn;)this.remove(hn.id),hn=vn[0]},En.prototype.add=function(vn){this.container.appendChild(vn.container)},En.prototype.remove=function(vn){var hn=this.notifications,_n=(0,Ue.default)(hn,function(An){return An.id===vn});if(_n){_n.destroy();var bn=hn.indexOf(_n);hn.splice(bn,1)}},En.prototype.initTpl=function(){var vn=this.$container,hn=this.options.position,_n=hn.x,bn=hn.y,An="flex-end",xn="flex-end";switch(_n){case"center":xn="center";break;case"left":xn="flex-start"}bn==="top"&&(An="flex-start"),vn.attr("style","justify-content: ".concat(An,"; align-items: ").concat(xn))},En}(Oe(_e(5404)).default);pe.default=ze;var Ve=function(){function qe(En,vn){this.container=(0,$e.default)("div"),this.$container=(0,Ne.default)(this.container),this.notification=En,this.content=vn,this.id=(0,Fe.default)("luna-notification-"),this.$container.attr({id:this.id,class:En.c("item ".concat(En.getOption("position").y==="bottom"?"lower":"upper"))}),this.initTpl()}return qe.prototype.destroy=function(){this.$container.remove()},qe.prototype.initTpl=function(){this.$container.html(this.notification.c('<div class="content">'.concat(this.content,"</div>")))},qe}();xe.exports=ze,xe.exports.default=ze},5404:function(xe,pe,_e){var Ce,Ie=this&&this.__extends||(Ce=function(vn,hn){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_n,bn){_n.__proto__=bn}||function(_n,bn){for(var An in bn)Object.prototype.hasOwnProperty.call(bn,An)&&(_n[An]=bn[An])},Ce(vn,hn)},function(vn,hn){if(typeof hn!="function"&&hn!==null)throw new TypeError("Class extends value "+String(hn)+" is not a constructor or null");function _n(){this.constructor=vn}Ce(vn,hn),vn.prototype=hn===null?Object.create(hn):(_n.prototype=hn.prototype,new _n)}),Oe=this&&this.__importDefault||function(vn){return vn&&vn.__esModule?vn:{default:vn}};Object.defineProperty(pe,"__esModule",{value:!0});var Ne=Oe(_e(1443)),Fe=Oe(_e(1512)),Ue=_e(164),$e=Oe(_e(3783)),ze=Oe(_e(6329)),Ve=Oe(_e(4193)),qe=Oe(_e(5852)),En=function(vn){function hn(_n,bn,An){var xn=bn.compName,Sn=(An===void 0?{}:An).theme,Cn=Sn===void 0?"light":Sn,Tn=vn.call(this)||this;return Tn.subComponents=[],Tn.compName=xn,Tn.c=(0,Ue.classPrefix)(xn),Tn.options={},Tn.container=_n,Tn.$container=(0,Fe.default)(_n),Tn.$container.addClass(["luna-".concat(xn),Tn.c("platform-".concat((0,Ue.getPlatform)()))]),Tn.on("optionChange",function(wn,Ln,Pn){var kn=Tn.c;wn==="theme"&&(Tn.$container.rmClass(kn("theme-".concat(Pn))).addClass(kn("theme-".concat(Ln))),(0,$e.default)(Tn.subComponents,function(In){return In.setOption("theme",Ln)}))}),Tn.setOption("theme",Cn),Tn}return Ie(hn,vn),hn.prototype.destroy=function(){this.destroySubComponents();var _n=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(_n("platform-".concat((0,Ue.getPlatform)()))).rmClass(_n("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},hn.prototype.setOption=function(_n,bn){var An=this,xn=this.options,Sn={};typeof _n=="string"?Sn[_n]=bn:Sn=_n,(0,$e.default)(Sn,function(Cn,Tn){var wn=xn[Tn];xn[Tn]=Cn,An.emit("optionChange",Tn,Cn,wn)})},hn.prototype.getOption=function(_n){return this.options[_n]},hn.prototype.addSubComponent=function(_n){_n.setOption("theme",this.options.theme),this.subComponents.push(_n)},hn.prototype.removeSubComponent=function(_n){(0,qe.default)(this.subComponents,function(bn){return bn===_n})},hn.prototype.destroySubComponents=function(){(0,$e.default)(this.subComponents,function(_n){return _n.destroy()}),this.subComponents=[]},hn.prototype.initOptions=function(_n,bn){bn===void 0&&(bn={}),(0,Ve.default)(_n,bn),(0,ze.default)(this.options,_n)},hn.prototype.find=function(_n){return this.$container.find(this.c(_n))},hn}(Ne.default);pe.default=En},164:function(xe,pe,_e){var Ce=this&&this.__importDefault||function(An){return An&&An.__esModule?An:{default:An}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.resetCanvasSize=pe.getPlatform=pe.pxToNum=pe.executeAfterTransition=pe.hasVerticalScrollbar=pe.measuredScrollbarWidth=pe.eventClient=pe.drag=pe.classPrefix=void 0;var Ie=Ce(_e(2461)),Oe=Ce(_e(4331)),Ne=Ce(_e(5610)),Fe=Ce(_e(7483)),Ue=Ce(_e(3990)),$e=Ce(_e(6341)),ze=Ce(_e(3875)),Ve=Ce(_e(6954)),qe=Ce(_e(9585));function En(An,xn){for(var Sn=0,Cn=An.length;Sn<Cn;Sn++){var Tn=An[Sn];xn(Tn),Tn.content&&En(Tn.content,xn)}}pe.classPrefix=function(An){var xn="luna-".concat(An,"-");function Sn(Cn){return(0,Ie.default)((0,Oe.default)(Cn).split(/\s+/),function(Tn){return(0,$e.default)(Tn,xn)?Tn:Tn.replace(/[\w-]+/,function(wn){return"".concat(xn).concat(wn)})}).join(" ")}return function(Cn){if(/<[^>]*>/g.test(Cn))try{var Tn=Fe.default.parse(Cn);return En(Tn,function(wn){wn.attrs&&wn.attrs.class&&(wn.attrs.class=Sn(wn.attrs.class))}),Fe.default.stringify(Tn)}catch(wn){return Sn(Cn)}return Sn(Cn)}};var vn,hn="ontouchstart"in Ne.default,_n={start:"touchstart",move:"touchmove",end:"touchend"},bn={start:"mousedown",move:"mousemove",end:"mouseup"};pe.drag=function(An){return hn?_n[An]:bn[An]},pe.eventClient=function(An,xn){var Sn=An==="x"?"clientX":"clientY";return xn[Sn]?xn[Sn]:xn.changedTouches?xn.changedTouches[0][Sn]:0},pe.measuredScrollbarWidth=function(){if((0,Ue.default)(vn))return vn;if(!document)return 16;var An=document.createElement("div"),xn=document.createElement("div");return An.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),xn.setAttribute("style","height: 200px"),An.appendChild(xn),document.body.appendChild(An),vn=An.offsetWidth-An.clientWidth,document.body.removeChild(An),vn},pe.hasVerticalScrollbar=function(An){return An.scrollHeight>An.offsetHeight},pe.executeAfterTransition=function(An,xn){if((0,qe.default)(An))return xn();var Sn=function(Cn){Cn.target===An&&(An.removeEventListener("transitionend",Sn),xn())};An.addEventListener("transitionend",Sn)},pe.pxToNum=function(An){return(0,ze.default)(An.replace("px",""))},pe.getPlatform=function(){var An=(0,Ve.default)();return An==="os x"?"mac":An},pe.resetCanvasSize=function(An){An.width=Math.round(An.offsetWidth*window.devicePixelRatio),An.height=Math.round(An.offsetHeight*window.devicePixelRatio)}},8169:function(xe,pe,_e){_e.r(pe),_e.d(pe,{default:function(){return _n}});var Ce={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Ie=/([astvzqmhlc])([^astvzqmhlc]*)/gi,Oe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,Ne=function(bn){var An=[],xn=String(bn).trim();return xn[0]!=="M"&&xn[0]!=="m"||xn.replace(Ie,function(Sn,Cn,Tn){var wn=Cn.toLowerCase(),Ln=function(kn){var In=kn.match(Oe);return In?In.map(Number):[]}(Tn),Pn=Cn;if(wn==="m"&&Ln.length>2&&(An.push([Pn].concat(Ln.splice(0,2))),wn="l",Pn=Pn==="m"?"l":"L"),Ln.length<Ce[wn])return"";for(An.push([Pn].concat(Ln.splice(0,Ce[wn])));Ln.length>=Ce[wn]&&Ln.length&&Ce[wn];)An.push([Pn].concat(Ln.splice(0,Ce[wn])));return""}),An};function Fe(bn,An){for(var xn=0;xn<An.length;xn++){var Sn=An[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(bn,Sn.key,Sn)}}function Ue(bn){return function(An){if(Array.isArray(An))return $e(An)}(bn)||function(An){if(typeof Symbol<"u"&&An[Symbol.iterator]!=null||An["@@iterator"]!=null)return Array.from(An)}(bn)||function(An,xn){if(An){if(typeof An=="string")return $e(An,xn);var Sn=Object.prototype.toString.call(An).slice(8,-1);if(Sn==="Object"&&An.constructor&&(Sn=An.constructor.name),Sn==="Map"||Sn==="Set")return Array.from(An);if(Sn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Sn))return $e(An,xn)}}(bn)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(bn,An){(An==null||An>bn.length)&&(An=bn.length);for(var xn=0,Sn=new Array(An);xn<An;xn++)Sn[xn]=bn[xn];return Sn}var ze=Ne;function Ve(bn,An){var xn=bn.x*Math.cos(An)-bn.y*Math.sin(An),Sn=bn.y*Math.cos(An)+bn.x*Math.sin(An);bn.x=xn,bn.y=Sn}function qe(bn,An){bn.x*=An,bn.y*=An}var En=function(bn){if(bn!==void 0&&bn.CanvasRenderingContext2D&&(!bn.Path2D||!function(wn){var Ln=wn.document.createElement("canvas").getContext("2d"),Pn=new wn.Path2D("M0 0 L1 1");return Ln.strokeStyle="red",Ln.lineWidth=1,Ln.stroke(Pn),Ln.getImageData(0,0,1,1).data[0]===255}(bn))){var An=function(){function wn(kn){var In;(function(Rn,Nn){if(!(Rn instanceof Nn))throw new TypeError("Cannot call a class as a function")})(this,wn),this.segments=[],kn&&kn instanceof wn?(In=this.segments).push.apply(In,Ue(kn.segments)):kn&&(this.segments=ze(kn))}var Ln,Pn;return Ln=wn,(Pn=[{key:"addPath",value:function(kn){var In;kn&&kn instanceof wn&&(In=this.segments).push.apply(In,Ue(kn.segments))}},{key:"moveTo",value:function(kn,In){this.segments.push(["M",kn,In])}},{key:"lineTo",value:function(kn,In){this.segments.push(["L",kn,In])}},{key:"arc",value:function(kn,In,Rn,Nn,On,Dn){this.segments.push(["AC",kn,In,Rn,Nn,On,!!Dn])}},{key:"arcTo",value:function(kn,In,Rn,Nn,On){this.segments.push(["AT",kn,In,Rn,Nn,On])}},{key:"ellipse",value:function(kn,In,Rn,Nn,On,Dn,Mn,Bn){this.segments.push(["E",kn,In,Rn,Nn,On,Dn,Mn,!!Bn])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(kn,In,Rn,Nn,On,Dn){this.segments.push(["C",kn,In,Rn,Nn,On,Dn])}},{key:"quadraticCurveTo",value:function(kn,In,Rn,Nn){this.segments.push(["Q",kn,In,Rn,Nn])}},{key:"rect",value:function(kn,In,Rn,Nn){this.segments.push(["R",kn,In,Rn,Nn])}}])&&Fe(Ln.prototype,Pn),Object.defineProperty(Ln,"prototype",{writable:!1}),wn}(),xn=bn.CanvasRenderingContext2D.prototype.fill,Sn=bn.CanvasRenderingContext2D.prototype.stroke;bn.CanvasRenderingContext2D.prototype.fill=function(){for(var wn=arguments.length,Ln=new Array(wn),Pn=0;Pn<wn;Pn++)Ln[Pn]=arguments[Pn];var kn="nonzero";Ln.length===0||Ln.length===1&&typeof Ln[0]=="string"?xn.apply(this,Ln):(arguments.length===2&&(kn=Ln[1]),Tn(this,Ln[0].segments),xn.call(this,kn))},bn.CanvasRenderingContext2D.prototype.stroke=function(wn){wn?(Tn(this,wn.segments),Sn.call(this)):Sn.call(this)};var Cn=bn.CanvasRenderingContext2D.prototype.isPointInPath;bn.CanvasRenderingContext2D.prototype.isPointInPath=function(){for(var wn=arguments.length,Ln=new Array(wn),Pn=0;Pn<wn;Pn++)Ln[Pn]=arguments[Pn];if(Ln[0].constructor.name==="Path2D"){var kn=Ln[1],In=Ln[2],Rn=Ln[3]||"nonzero";return Tn(this,Ln[0].segments),Cn.apply(this,[kn,In,Rn])}return Cn.apply(this,Ln)},bn.Path2D=An}function Tn(wn,Ln){var Pn,kn,In,Rn,Nn,On,Dn,Mn,Bn,$n,Fn,Un,Hn,Wn,Xn,or,fr,cr,Jn,mr,Ir,yr,Tr,Sr,Yn,Qn,rr,gr,Ar,Br={x:0,y:0},Vr={x:0,y:0};wn.beginPath();for(var Fr=0;Fr<Ln.length;++Fr){var Er=Ln[Fr];switch((mr=Er[0])!=="S"&&mr!=="s"&&mr!=="C"&&mr!=="c"&&(yr=null,Tr=null),mr!=="T"&&mr!=="t"&&mr!=="Q"&&mr!=="q"&&(Sr=null,Yn=null),mr){case"m":case"M":mr==="m"?(Fn+=Er[1],Hn+=Er[2]):(Fn=Er[1],Hn=Er[2]),mr!=="M"&&Br||(Br={x:Fn,y:Hn}),wn.moveTo(Fn,Hn);break;case"l":Fn+=Er[1],Hn+=Er[2],wn.lineTo(Fn,Hn);break;case"L":Fn=Er[1],Hn=Er[2],wn.lineTo(Fn,Hn);break;case"H":Fn=Er[1],wn.lineTo(Fn,Hn);break;case"h":Fn+=Er[1],wn.lineTo(Fn,Hn);break;case"V":Hn=Er[1],wn.lineTo(Fn,Hn);break;case"v":Hn+=Er[1],wn.lineTo(Fn,Hn);break;case"a":case"A":mr==="a"?(Fn+=Er[6],Hn+=Er[7]):(Fn=Er[6],Hn=Er[7]),or=Er[1],fr=Er[2],Dn=Er[3]*Math.PI/180,In=!!Er[4],Rn=!!Er[5],Nn={x:Fn,y:Hn},Ve(On={x:(Vr.x-Nn.x)/2,y:(Vr.y-Nn.y)/2},-Dn),(Mn=On.x*On.x/(or*or)+On.y*On.y/(fr*fr))>1&&(or*=Mn=Math.sqrt(Mn),fr*=Mn),Bn=or*or*fr*fr,$n=or*or*On.y*On.y+fr*fr*On.x*On.x,qe(Ir={x:or*On.y/fr,y:-fr*On.x/or},Rn!==In?Math.sqrt((Bn-$n)/$n)||0:-Math.sqrt((Bn-$n)/$n)||0),kn=Math.atan2((On.y-Ir.y)/fr,(On.x-Ir.x)/or),Pn=Math.atan2(-(On.y+Ir.y)/fr,-(On.x+Ir.x)/or),Ve(Ir,Dn),rr=Ir,gr=(Nn.x+Vr.x)/2,Ar=(Nn.y+Vr.y)/2,rr.x+=gr,rr.y+=Ar,wn.save(),wn.translate(Ir.x,Ir.y),wn.rotate(Dn),wn.scale(or,fr),wn.arc(0,0,1,kn,Pn,!Rn),wn.restore();break;case"C":yr=Er[3],Tr=Er[4],Fn=Er[5],Hn=Er[6],wn.bezierCurveTo(Er[1],Er[2],yr,Tr,Fn,Hn);break;case"c":wn.bezierCurveTo(Er[1]+Fn,Er[2]+Hn,Er[3]+Fn,Er[4]+Hn,Er[5]+Fn,Er[6]+Hn),yr=Er[3]+Fn,Tr=Er[4]+Hn,Fn+=Er[5],Hn+=Er[6];break;case"S":yr!==null&&Tr!==null||(yr=Fn,Tr=Hn),wn.bezierCurveTo(2*Fn-yr,2*Hn-Tr,Er[1],Er[2],Er[3],Er[4]),yr=Er[1],Tr=Er[2],Fn=Er[3],Hn=Er[4];break;case"s":yr!==null&&Tr!==null||(yr=Fn,Tr=Hn),wn.bezierCurveTo(2*Fn-yr,2*Hn-Tr,Er[1]+Fn,Er[2]+Hn,Er[3]+Fn,Er[4]+Hn),yr=Er[1]+Fn,Tr=Er[2]+Hn,Fn+=Er[3],Hn+=Er[4];break;case"Q":Sr=Er[1],Yn=Er[2],Fn=Er[3],Hn=Er[4],wn.quadraticCurveTo(Sr,Yn,Fn,Hn);break;case"q":Sr=Er[1]+Fn,Yn=Er[2]+Hn,Fn+=Er[3],Hn+=Er[4],wn.quadraticCurveTo(Sr,Yn,Fn,Hn);break;case"T":Sr!==null&&Yn!==null||(Sr=Fn,Yn=Hn),Sr=2*Fn-Sr,Yn=2*Hn-Yn,Fn=Er[1],Hn=Er[2],wn.quadraticCurveTo(Sr,Yn,Fn,Hn);break;case"t":Sr!==null&&Yn!==null||(Sr=Fn,Yn=Hn),Sr=2*Fn-Sr,Yn=2*Hn-Yn,Fn+=Er[1],Hn+=Er[2],wn.quadraticCurveTo(Sr,Yn,Fn,Hn);break;case"z":case"Z":Fn=Br.x,Hn=Br.y,Br=void 0,wn.closePath();break;case"AC":Fn=Er[1],Hn=Er[2],Xn=Er[3],kn=Er[4],Pn=Er[5],Qn=Er[6],wn.arc(Fn,Hn,Xn,kn,Pn,Qn);break;case"AT":Un=Er[1],Wn=Er[2],Fn=Er[3],Hn=Er[4],Xn=Er[5],wn.arcTo(Un,Wn,Fn,Hn,Xn);break;case"E":Fn=Er[1],Hn=Er[2],or=Er[3],fr=Er[4],Dn=Er[5],kn=Er[6],Pn=Er[7],Qn=Er[8],wn.save(),wn.translate(Fn,Hn),wn.rotate(Dn),wn.scale(or,fr),wn.arc(0,0,1,kn,Pn,Qn),wn.restore();break;case"R":Fn=Er[1],Hn=Er[2],cr=Er[3],Jn=Er[4],Br={x:Fn,y:Hn},wn.rect(Fn,Hn,cr,Jn)}Vr.x=Fn,Vr.y=Hn}}},vn=Ne,hn=En;typeof window<"u"&&hn(window);var _n={path2dPolyfill:hn,parsePath:vn}},2777:function(xe){xe.exports='.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:\'.SFNSDisplay-Regular\',\'Helvetica Neue\',\'Lucida Grande\',sans-serif}.luna-dom-highlighter-platform-windows{font-family:\'Segoe UI\',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url(\'data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>\')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url(\'data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>\')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>\')}.luna-dom-highlighter-a11y-icon-warning{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>\')}.luna-dom-highlighter-a11y-icon-ok{background-image:url(\'data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>\')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}\n\n/*# sourceMappingURL=luna-dom-highlighter.css.map*/'},907:function(xe,pe,_e){function Ce(Ie,Oe){(Oe==null||Oe>Ie.length)&&(Oe=Ie.length);for(var Ne=0,Fe=new Array(Oe);Ne<Oe;Ne++)Fe[Ne]=Ie[Ne];return Fe}_e.d(pe,{Z:function(){return Ce}})},7326:function(xe,pe,_e){function Ce(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}_e.d(pe,{Z:function(){return Ce}})},5671:function(xe,pe,_e){function Ce(Ie,Oe){if(!(Ie instanceof Oe))throw new TypeError("Cannot call a class as a function")}_e.d(pe,{Z:function(){return Ce}})},3144:function(xe,pe,_e){_e.d(pe,{Z:function(){return Oe}});var Ce=_e(9142);function Ie(Ne,Fe){for(var Ue=0;Ue<Fe.length;Ue++){var $e=Fe[Ue];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ne,(0,Ce.Z)($e.key),$e)}}function Oe(Ne,Fe,Ue){return Fe&&Ie(Ne.prototype,Fe),Ue&&Ie(Ne,Ue),Object.defineProperty(Ne,"prototype",{writable:!1}),Ne}},4942:function(xe,pe,_e){_e.d(pe,{Z:function(){return Ie}});var Ce=_e(9142);function Ie(Oe,Ne,Fe){return(Ne=(0,Ce.Z)(Ne))in Oe?Object.defineProperty(Oe,Ne,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):Oe[Ne]=Fe,Oe}},1752:function(xe,pe,_e){_e.d(pe,{Z:function(){return Ie}});var Ce=_e(1120);function Ie(){return Ie=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Oe,Ne,Fe){var Ue=function(ze,Ve){for(;!Object.prototype.hasOwnProperty.call(ze,Ve)&&(ze=(0,Ce.Z)(ze))!==null;);return ze}(Oe,Ne);if(Ue){var $e=Object.getOwnPropertyDescriptor(Ue,Ne);return $e.get?$e.get.call(arguments.length<3?Oe:Fe):$e.value}},Ie.apply(this,arguments)}},1120:function(xe,pe,_e){function Ce(Ie){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Oe){return Oe.__proto__||Object.getPrototypeOf(Oe)},Ce(Ie)}_e.d(pe,{Z:function(){return Ce}})},9340:function(xe,pe,_e){function Ce(Oe,Ne){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,Ue){return Fe.__proto__=Ue,Fe},Ce(Oe,Ne)}function Ie(Oe,Ne){if(typeof Ne!="function"&&Ne!==null)throw new TypeError("Super expression must either be null or a function");Oe.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:Oe,writable:!0,configurable:!0}}),Object.defineProperty(Oe,"prototype",{writable:!1}),Ne&&Ce(Oe,Ne)}_e.d(pe,{Z:function(){return Ie}})},2963:function(xe,pe,_e){_e.d(pe,{Z:function(){return Oe}});var Ce=_e(1002),Ie=_e(7326);function Oe(Ne,Fe){if(Fe&&((0,Ce.Z)(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,Ie.Z)(Ne)}},168:function(xe,pe,_e){function Ce(Ie,Oe){return Oe||(Oe=Ie.slice(0)),Object.freeze(Object.defineProperties(Ie,{raw:{value:Object.freeze(Oe)}}))}_e.d(pe,{Z:function(){return Ce}})},9142:function(xe,pe,_e){_e.d(pe,{Z:function(){return Ie}});var Ce=_e(1002);function Ie(Oe){var Ne=function(Fe,Ue){if((0,Ce.Z)(Fe)!=="object"||Fe===null)return Fe;var $e=Fe[Symbol.toPrimitive];if($e!==void 0){var ze=$e.call(Fe,Ue||"default");if((0,Ce.Z)(ze)!=="object")return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ue==="string"?String:Number)(Fe)}(Oe,"string");return(0,Ce.Z)(Ne)==="symbol"?Ne:String(Ne)}},1002:function(xe,pe,_e){function Ce(Ie){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},Ce(Ie)}_e.d(pe,{Z:function(){return Ce}})},181:function(xe,pe,_e){_e.d(pe,{Z:function(){return Ie}});var Ce=_e(907);function Ie(Oe,Ne){if(Oe){if(typeof Oe=="string")return(0,Ce.Z)(Oe,Ne);var Fe=Object.prototype.toString.call(Oe).slice(8,-1);return Fe==="Object"&&Oe.constructor&&(Fe=Oe.constructor.name),Fe==="Map"||Fe==="Set"?Array.from(Oe):Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe)?(0,Ce.Z)(Oe,Ne):void 0}}}},__webpack_module_cache__={};function __webpack_require__(xe){var pe=__webpack_module_cache__[xe];if(pe!==void 0)return pe.exports;var _e=__webpack_module_cache__[xe]={id:xe,loaded:!1,exports:{}};return __webpack_modules__[xe].call(_e.exports,_e,_e.exports,__webpack_require__),_e.loaded=!0,_e.exports}__webpack_require__.n=function(xe){var pe=xe&&xe.__esModule?function(){return xe.default}:function(){return xe};return __webpack_require__.d(pe,{a:pe}),pe},__webpack_require__.d=function(xe,pe){for(var _e in pe)__webpack_require__.o(pe,_e)&&!__webpack_require__.o(xe,_e)&&Object.defineProperty(xe,_e,{enumerable:!0,get:pe[_e]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(xe){if(typeof window=="object")return window}}(),__webpack_require__.hmd=function(xe){return(xe=Object.create(xe)).children||(xe.children=[]),Object.defineProperty(xe,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+xe.id)}}),xe},__webpack_require__.o=function(xe,pe){return Object.prototype.hasOwnProperty.call(xe,pe)},__webpack_require__.r=function(xe){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(xe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(xe,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(2027);return __webpack_exports__}()})})(eruda$1);var erudaExports=eruda$1.exports;const eruda=getDefaultExportFromCjs$1(erudaExports);function isObject(xe){return typeof xe=="object"&&xe!==null}function normalizeOptions(xe,pe){return xe=isObject(xe)?xe:Object.create(null),new Proxy(xe,{get(_e,Ce,Ie){return Ce==="key"?Reflect.get(_e,Ce,Ie):Reflect.get(_e,Ce,Ie)||Reflect.get(pe,Ce,Ie)}})}function get(xe,pe){return pe.reduce((_e,Ce)=>_e==null?void 0:_e[Ce],xe)}function set(xe,pe,_e){return pe.slice(0,-1).reduce((Ce,Ie)=>/^(__proto__)$/.test(Ie)?{}:Ce[Ie]=Ce[Ie]||{},xe)[pe[pe.length-1]]=_e,xe}function pick(xe,pe){return pe.reduce((_e,Ce)=>{const Ie=Ce.split(".");return set(_e,Ie,get(xe,Ie))},{})}function parsePersistence(xe,pe){return _e=>{var Ce;try{const{storage:Ie=localStorage,beforeRestore:Oe=void 0,afterRestore:Ne=void 0,serializer:Fe={serialize:JSON.stringify,deserialize:JSON.parse},key:Ue=pe.$id,paths:$e=null,debug:ze=!1}=_e;return{storage:Ie,beforeRestore:Oe,afterRestore:Ne,serializer:Fe,key:((Ce=xe.key)!=null?Ce:Ve=>Ve)(typeof Ue=="string"?Ue:Ue(pe.$id)),paths:$e,debug:ze}}catch(Ie){return _e.debug&&console.error("[pinia-plugin-persistedstate]",Ie),null}}}function hydrateStore(xe,{storage:pe,serializer:_e,key:Ce,debug:Ie}){try{const Oe=pe==null?void 0:pe.getItem(Ce);Oe&&xe.$patch(_e==null?void 0:_e.deserialize(Oe))}catch(Oe){Ie&&console.error("[pinia-plugin-persistedstate]",Oe)}}function persistState(xe,{storage:pe,serializer:_e,key:Ce,paths:Ie,debug:Oe}){try{const Ne=Array.isArray(Ie)?pick(xe,Ie):xe;pe.setItem(Ce,_e.serialize(Ne))}catch(Ne){Oe&&console.error("[pinia-plugin-persistedstate]",Ne)}}function createPersistedState(xe={}){return pe=>{const{auto:_e=!1}=xe,{options:{persist:Ce=_e},store:Ie,pinia:Oe}=pe;if(!Ce)return;if(!(Ie.$id in Oe.state.value)){const Fe=Oe._s.get(Ie.$id.replace("__hot:",""));Fe&&Promise.resolve().then(()=>Fe.$persist());return}const Ne=(Array.isArray(Ce)?Ce.map(Fe=>normalizeOptions(Fe,xe)):[normalizeOptions(Ce,xe)]).map(parsePersistence(xe,Ie)).filter(Boolean);Ie.$persist=()=>{Ne.forEach(Fe=>{persistState(Ie.$state,Fe)})},Ie.$hydrate=({runHooks:Fe=!0}={})=>{Ne.forEach(Ue=>{const{beforeRestore:$e,afterRestore:ze}=Ue;Fe&&($e==null||$e(pe)),hydrateStore(Ie,Ue),Fe&&(ze==null||ze(pe))})},Ne.forEach(Fe=>{const{beforeRestore:Ue,afterRestore:$e}=Fe;Ue==null||Ue(pe),hydrateStore(Ie,Fe),$e==null||$e(pe),Ie.$subscribe((ze,Ve)=>{persistState(Ve,Fe)},{detached:!0})})}}var e$1,t$1=["scroll","wheel","touchstart","touchmove","touchenter","touchend","touchleave","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover"];if(function(){var xe=!1;try{var pe=Object.defineProperty({},"passive",{get:function(){xe=!0}});window.addEventListener("test",null,pe),window.removeEventListener("test",null,pe)}catch(_e){}return xe}()){var o$1=EventTarget.prototype.addEventListener;e$1=o$1,EventTarget.prototype.addEventListener=function(xe,pe,_e){var Ce,Ie=typeof _e=="object"&&_e!==null,Oe=Ie?_e.capture:_e;(_e=Ie?function(Ne){var Fe=Object.getOwnPropertyDescriptor(Ne,"passive");return Fe&&Fe.writable!==!0&&Fe.set===void 0?Object.assign({},Ne):Ne}(_e):{}).passive=(Ce=_e.passive)!==void 0?Ce:t$1.indexOf(xe)!==-1&&!0,_e.capture=Oe!==void 0&&Oe,e$1.call(this,xe,pe,_e)},EventTarget.prototype.addEventListener._original=e$1}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isESModule(xe){return xe.__esModule||xe[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(xe,pe){const _e={};for(const Ce in pe){const Ie=pe[Ce];_e[Ce]=isArray(Ie)?Ie.map(xe):xe(Ie)}return _e}const noop$1=()=>{},isArray=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(xe){return encodeURI(""+xe).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(xe){return commonEncode(xe).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(xe){return commonEncode(xe).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(xe){return encodeQueryValue(xe).replace(EQUAL_RE,"%3D")}function encodePath(xe){return commonEncode(xe).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(xe){return xe==null?"":encodePath(xe).replace(SLASH_RE,"%2F")}function decode(xe){try{return decodeURIComponent(""+xe)}catch(pe){}return""+xe}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=xe=>xe.replace(TRAILING_SLASH_RE,"");function parseURL(xe,pe,_e="/"){let Ce,Ie={},Oe="",Ne="";const Fe=pe.indexOf("#");let Ue=pe.indexOf("?");return Fe<Ue&&Fe>=0&&(Ue=-1),Ue>-1&&(Ce=pe.slice(0,Ue),Oe=pe.slice(Ue+1,Fe>-1?Fe:pe.length),Ie=xe(Oe)),Fe>-1&&(Ce=Ce||pe.slice(0,Fe),Ne=pe.slice(Fe,pe.length)),Ce=resolveRelativePath(Ce!=null?Ce:pe,_e),{fullPath:Ce+(Oe&&"?")+Oe+Ne,path:Ce,query:Ie,hash:decode(Ne)}}function stringifyURL(xe,pe){const _e=pe.query?xe(pe.query):"";return pe.path+(_e&&"?")+_e+(pe.hash||"")}function stripBase(xe,pe){return!pe||!xe.toLowerCase().startsWith(pe.toLowerCase())?xe:xe.slice(pe.length)||"/"}function isSameRouteLocation(xe,pe,_e){const Ce=pe.matched.length-1,Ie=_e.matched.length-1;return Ce>-1&&Ce===Ie&&isSameRouteRecord(pe.matched[Ce],_e.matched[Ie])&&isSameRouteLocationParams(pe.params,_e.params)&&xe(pe.query)===xe(_e.query)&&pe.hash===_e.hash}function isSameRouteRecord(xe,pe){return(xe.aliasOf||xe)===(pe.aliasOf||pe)}function isSameRouteLocationParams(xe,pe){if(Object.keys(xe).length!==Object.keys(pe).length)return!1;for(const _e in xe)if(!isSameRouteLocationParamsValue(xe[_e],pe[_e]))return!1;return!0}function isSameRouteLocationParamsValue(xe,pe){return isArray(xe)?isEquivalentArray(xe,pe):isArray(pe)?isEquivalentArray(pe,xe):xe===pe}function isEquivalentArray(xe,pe){return isArray(pe)?xe.length===pe.length&&xe.every((_e,Ce)=>_e===pe[Ce]):xe.length===1&&xe[0]===pe}function resolveRelativePath(xe,pe){if(xe.startsWith("/"))return xe;if(!xe)return pe;const _e=pe.split("/"),Ce=xe.split("/"),Ie=Ce[Ce.length-1];(Ie===".."||Ie===".")&&Ce.push("");let Oe=_e.length-1,Ne,Fe;for(Ne=0;Ne<Ce.length;Ne++)if(Fe=Ce[Ne],Fe!==".")if(Fe==="..")Oe>1&&Oe--;else break;return _e.slice(0,Oe).join("/")+"/"+Ce.slice(Ne).join("/")}var NavigationType;(function(xe){xe.pop="pop",xe.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(xe){xe.back="back",xe.forward="forward",xe.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(xe){if(!xe)if(isBrowser){const pe=document.querySelector("base");xe=pe&&pe.getAttribute("href")||"/",xe=xe.replace(/^\w+:\/\/[^\/]+/,"")}else xe="/";return xe[0]!=="/"&&xe[0]!=="#"&&(xe="/"+xe),removeTrailingSlash(xe)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(xe,pe){return xe.replace(BEFORE_HASH_RE,"#")+pe}function getElementPosition(xe,pe){const _e=document.documentElement.getBoundingClientRect(),Ce=xe.getBoundingClientRect();return{behavior:pe.behavior,left:Ce.left-_e.left-(pe.left||0),top:Ce.top-_e.top-(pe.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(xe){let pe;if("el"in xe){const _e=xe.el,Ce=typeof _e=="string"&&_e.startsWith("#"),Ie=typeof _e=="string"?Ce?document.getElementById(_e.slice(1)):document.querySelector(_e):_e;if(!Ie)return;pe=getElementPosition(Ie,xe)}else pe=xe;"scrollBehavior"in document.documentElement.style?window.scrollTo(pe):window.scrollTo(pe.left!=null?pe.left:window.scrollX,pe.top!=null?pe.top:window.scrollY)}function getScrollKey(xe,pe){return(history.state?history.state.position-pe:-1)+xe}const scrollPositions=new Map;function saveScrollPosition(xe,pe){scrollPositions.set(xe,pe)}function getSavedScrollPosition(xe){const pe=scrollPositions.get(xe);return scrollPositions.delete(xe),pe}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(xe,pe){const{pathname:_e,search:Ce,hash:Ie}=pe,Oe=xe.indexOf("#");if(Oe>-1){let Fe=Ie.includes(xe.slice(Oe))?xe.slice(Oe).length:1,Ue=Ie.slice(Fe);return Ue[0]!=="/"&&(Ue="/"+Ue),stripBase(Ue,"")}return stripBase(_e,xe)+Ce+Ie}function useHistoryListeners(xe,pe,_e,Ce){let Ie=[],Oe=[],Ne=null;const Fe=({state:qe})=>{const En=createCurrentLocation(xe,location),vn=_e.value,hn=pe.value;let _n=0;if(qe){if(_e.value=En,pe.value=qe,Ne&&Ne===vn){Ne=null;return}_n=hn?qe.position-hn.position:0}else Ce(En);Ie.forEach(bn=>{bn(_e.value,vn,{delta:_n,type:NavigationType.pop,direction:_n?_n>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function Ue(){Ne=_e.value}function $e(qe){Ie.push(qe);const En=()=>{const vn=Ie.indexOf(qe);vn>-1&&Ie.splice(vn,1)};return Oe.push(En),En}function ze(){const{history:qe}=window;qe.state&&qe.replaceState(assign({},qe.state,{scroll:computeScrollPosition()}),"")}function Ve(){for(const qe of Oe)qe();Oe=[],window.removeEventListener("popstate",Fe),window.removeEventListener("beforeunload",ze)}return window.addEventListener("popstate",Fe),window.addEventListener("beforeunload",ze,{passive:!0}),{pauseListeners:Ue,listen:$e,destroy:Ve}}function buildState(xe,pe,_e,Ce=!1,Ie=!1){return{back:xe,current:pe,forward:_e,replaced:Ce,position:window.history.length,scroll:Ie?computeScrollPosition():null}}function useHistoryStateNavigation(xe){const{history:pe,location:_e}=window,Ce={value:createCurrentLocation(xe,_e)},Ie={value:pe.state};Ie.value||Oe(Ce.value,{back:null,current:Ce.value,forward:null,position:pe.length-1,replaced:!0,scroll:null},!0);function Oe(Ue,$e,ze){const Ve=xe.indexOf("#"),qe=Ve>-1?(_e.host&&document.querySelector("base")?xe:xe.slice(Ve))+Ue:createBaseLocation()+xe+Ue;try{pe[ze?"replaceState":"pushState"]($e,"",qe),Ie.value=$e}catch(En){console.error(En),_e[ze?"replace":"assign"](qe)}}function Ne(Ue,$e){const ze=assign({},pe.state,buildState(Ie.value.back,Ue,Ie.value.forward,!0),$e,{position:Ie.value.position});Oe(Ue,ze,!0),Ce.value=Ue}function Fe(Ue,$e){const ze=assign({},Ie.value,pe.state,{forward:Ue,scroll:computeScrollPosition()});Oe(ze.current,ze,!0);const Ve=assign({},buildState(Ce.value,Ue,null),{position:ze.position+1},$e);Oe(Ue,Ve,!1),Ce.value=Ue}return{location:Ce,state:Ie,push:Fe,replace:Ne}}function createWebHistory(xe){xe=normalizeBase(xe);const pe=useHistoryStateNavigation(xe),_e=useHistoryListeners(xe,pe.state,pe.location,pe.replace);function Ce(Oe,Ne=!0){Ne||_e.pauseListeners(),history.go(Oe)}const Ie=assign({location:"",base:xe,go:Ce,createHref:createHref.bind(null,xe)},pe,_e);return Object.defineProperty(Ie,"location",{enumerable:!0,get:()=>pe.location.value}),Object.defineProperty(Ie,"state",{enumerable:!0,get:()=>pe.state.value}),Ie}function createWebHashHistory(xe){return xe=location.host?xe||location.pathname+location.search:"",xe.includes("#")||(xe+="#"),createWebHistory(xe)}function isRouteLocation(xe){return typeof xe=="string"||xe&&typeof xe=="object"}function isRouteName(xe){return typeof xe=="string"||typeof xe=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(xe){xe[xe.aborted=4]="aborted",xe[xe.cancelled=8]="cancelled",xe[xe.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(xe,pe){return assign(new Error,{type:xe,[NavigationFailureSymbol]:!0},pe)}function isNavigationFailure(xe,pe){return xe instanceof Error&&NavigationFailureSymbol in xe&&(pe==null||!!(xe.type&pe))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(xe,pe){const _e=assign({},BASE_PATH_PARSER_OPTIONS,pe),Ce=[];let Ie=_e.start?"^":"";const Oe=[];for(const $e of xe){const ze=$e.length?[]:[90];_e.strict&&!$e.length&&(Ie+="/");for(let Ve=0;Ve<$e.length;Ve++){const qe=$e[Ve];let En=40+(_e.sensitive?.25:0);if(qe.type===0)Ve||(Ie+="/"),Ie+=qe.value.replace(REGEX_CHARS_RE,"\\$&"),En+=40;else if(qe.type===1){const{value:vn,repeatable:hn,optional:_n,regexp:bn}=qe;Oe.push({name:vn,repeatable:hn,optional:_n});const An=bn||BASE_PARAM_PATTERN;if(An!==BASE_PARAM_PATTERN){En+=10;try{new RegExp("(".concat(An,")"))}catch(Sn){throw new Error('Invalid custom RegExp for param "'.concat(vn,'" (').concat(An,"): ")+Sn.message)}}let xn=hn?"((?:".concat(An,")(?:/(?:").concat(An,"))*)"):"(".concat(An,")");Ve||(xn=_n&&$e.length<2?"(?:/".concat(xn,")"):"/"+xn),_n&&(xn+="?"),Ie+=xn,En+=20,_n&&(En+=-8),hn&&(En+=-20),An===".*"&&(En+=-50)}ze.push(En)}Ce.push(ze)}if(_e.strict&&_e.end){const $e=Ce.length-1;Ce[$e][Ce[$e].length-1]+=.7000000000000001}_e.strict||(Ie+="/?"),_e.end?Ie+="$":_e.strict&&(Ie+="(?:/|$)");const Ne=new RegExp(Ie,_e.sensitive?"":"i");function Fe($e){const ze=$e.match(Ne),Ve={};if(!ze)return null;for(let qe=1;qe<ze.length;qe++){const En=ze[qe]||"",vn=Oe[qe-1];Ve[vn.name]=En&&vn.repeatable?En.split("/"):En}return Ve}function Ue($e){let ze="",Ve=!1;for(const qe of xe){(!Ve||!ze.endsWith("/"))&&(ze+="/"),Ve=!1;for(const En of qe)if(En.type===0)ze+=En.value;else if(En.type===1){const{value:vn,repeatable:hn,optional:_n}=En,bn=vn in $e?$e[vn]:"";if(isArray(bn)&&!hn)throw new Error('Provided param "'.concat(vn,'" is an array but it is not repeatable (* or + modifiers)'));const An=isArray(bn)?bn.join("/"):bn;if(!An)if(_n)qe.length<2&&(ze.endsWith("/")?ze=ze.slice(0,-1):Ve=!0);else throw new Error('Missing required param "'.concat(vn,'"'));ze+=An}}return ze||"/"}return{re:Ne,score:Ce,keys:Oe,parse:Fe,stringify:Ue}}function compareScoreArray(xe,pe){let _e=0;for(;_e<xe.length&&_e<pe.length;){const Ce=pe[_e]-xe[_e];if(Ce)return Ce;_e++}return xe.length<pe.length?xe.length===1&&xe[0]===80?-1:1:xe.length>pe.length?pe.length===1&&pe[0]===80?1:-1:0}function comparePathParserScore(xe,pe){let _e=0;const Ce=xe.score,Ie=pe.score;for(;_e<Ce.length&&_e<Ie.length;){const Oe=compareScoreArray(Ce[_e],Ie[_e]);if(Oe)return Oe;_e++}if(Math.abs(Ie.length-Ce.length)===1){if(isLastScoreNegative(Ce))return 1;if(isLastScoreNegative(Ie))return-1}return Ie.length-Ce.length}function isLastScoreNegative(xe){const pe=xe[xe.length-1];return xe.length>0&&pe[pe.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(xe){if(!xe)return[[]];if(xe==="/")return[[ROOT_TOKEN]];if(!xe.startsWith("/"))throw new Error('Invalid path "'.concat(xe,'"'));function pe(En){throw new Error("ERR (".concat(_e,')/"').concat($e,'": ').concat(En))}let _e=0,Ce=_e;const Ie=[];let Oe;function Ne(){Oe&&Ie.push(Oe),Oe=[]}let Fe=0,Ue,$e="",ze="";function Ve(){$e&&(_e===0?Oe.push({type:0,value:$e}):_e===1||_e===2||_e===3?(Oe.length>1&&(Ue==="*"||Ue==="+")&&pe("A repeatable param (".concat($e,") must be alone in its segment. eg: '/:ids+.")),Oe.push({type:1,value:$e,regexp:ze,repeatable:Ue==="*"||Ue==="+",optional:Ue==="*"||Ue==="?"})):pe("Invalid state to consume buffer"),$e="")}function qe(){$e+=Ue}for(;Fe<xe.length;){if(Ue=xe[Fe++],Ue==="\\"&&_e!==2){Ce=_e,_e=4;continue}switch(_e){case 0:Ue==="/"?($e&&Ve(),Ne()):Ue===":"?(Ve(),_e=1):qe();break;case 4:qe(),_e=Ce;break;case 1:Ue==="("?_e=2:VALID_PARAM_RE.test(Ue)?qe():(Ve(),_e=0,Ue!=="*"&&Ue!=="?"&&Ue!=="+"&&Fe--);break;case 2:Ue===")"?ze[ze.length-1]=="\\"?ze=ze.slice(0,-1)+Ue:_e=3:ze+=Ue;break;case 3:Ve(),_e=0,Ue!=="*"&&Ue!=="?"&&Ue!=="+"&&Fe--,ze="";break;default:pe("Unknown state");break}}return _e===2&&pe('Unfinished custom RegExp for param "'.concat($e,'"')),Ve(),Ne(),Ie}function createRouteRecordMatcher(xe,pe,_e){const Ce=tokensToParser(tokenizePath(xe.path),_e),Ie=assign(Ce,{record:xe,parent:pe,children:[],alias:[]});return pe&&!Ie.record.aliasOf==!pe.record.aliasOf&&pe.children.push(Ie),Ie}function createRouterMatcher(xe,pe){const _e=[],Ce=new Map;pe=mergeOptions({strict:!1,end:!0,sensitive:!1},pe);function Ie(ze){return Ce.get(ze)}function Oe(ze,Ve,qe){const En=!qe,vn=normalizeRouteRecord(ze);vn.aliasOf=qe&&qe.record;const hn=mergeOptions(pe,ze),_n=[vn];if("alias"in ze){const xn=typeof ze.alias=="string"?[ze.alias]:ze.alias;for(const Sn of xn)_n.push(assign({},vn,{components:qe?qe.record.components:vn.components,path:Sn,aliasOf:qe?qe.record:vn}))}let bn,An;for(const xn of _n){const{path:Sn}=xn;if(Ve&&Sn[0]!=="/"){const Cn=Ve.record.path,Tn=Cn[Cn.length-1]==="/"?"":"/";xn.path=Ve.record.path+(Sn&&Tn+Sn)}if(bn=createRouteRecordMatcher(xn,Ve,hn),qe?qe.alias.push(bn):(An=An||bn,An!==bn&&An.alias.push(bn),En&&ze.name&&!isAliasRecord(bn)&&Ne(ze.name)),vn.children){const Cn=vn.children;for(let Tn=0;Tn<Cn.length;Tn++)Oe(Cn[Tn],bn,qe&&qe.children[Tn])}qe=qe||bn,(bn.record.components&&Object.keys(bn.record.components).length||bn.record.name||bn.record.redirect)&&Ue(bn)}return An?()=>{Ne(An)}:noop$1}function Ne(ze){if(isRouteName(ze)){const Ve=Ce.get(ze);Ve&&(Ce.delete(ze),_e.splice(_e.indexOf(Ve),1),Ve.children.forEach(Ne),Ve.alias.forEach(Ne))}else{const Ve=_e.indexOf(ze);Ve>-1&&(_e.splice(Ve,1),ze.record.name&&Ce.delete(ze.record.name),ze.children.forEach(Ne),ze.alias.forEach(Ne))}}function Fe(){return _e}function Ue(ze){let Ve=0;for(;Ve<_e.length&&comparePathParserScore(ze,_e[Ve])>=0&&(ze.record.path!==_e[Ve].record.path||!isRecordChildOf(ze,_e[Ve]));)Ve++;_e.splice(Ve,0,ze),ze.record.name&&!isAliasRecord(ze)&&Ce.set(ze.record.name,ze)}function $e(ze,Ve){let qe,En={},vn,hn;if("name"in ze&&ze.name){if(qe=Ce.get(ze.name),!qe)throw createRouterError(1,{location:ze});hn=qe.record.name,En=assign(paramsFromLocation(Ve.params,qe.keys.filter(An=>!An.optional).concat(qe.parent?qe.parent.keys.filter(An=>An.optional):[]).map(An=>An.name)),ze.params&&paramsFromLocation(ze.params,qe.keys.map(An=>An.name))),vn=qe.stringify(En)}else if(ze.path!=null)vn=ze.path,qe=_e.find(An=>An.re.test(vn)),qe&&(En=qe.parse(vn),hn=qe.record.name);else{if(qe=Ve.name?Ce.get(Ve.name):_e.find(An=>An.re.test(Ve.path)),!qe)throw createRouterError(1,{location:ze,currentLocation:Ve});hn=qe.record.name,En=assign({},Ve.params,ze.params),vn=qe.stringify(En)}const _n=[];let bn=qe;for(;bn;)_n.unshift(bn.record),bn=bn.parent;return{name:hn,path:vn,params:En,matched:_n,meta:mergeMetaFields(_n)}}return xe.forEach(ze=>Oe(ze)),{addRoute:Oe,resolve:$e,removeRoute:Ne,getRoutes:Fe,getRecordMatcher:Ie}}function paramsFromLocation(xe,pe){const _e={};for(const Ce of pe)Ce in xe&&(_e[Ce]=xe[Ce]);return _e}function normalizeRouteRecord(xe){return{path:xe.path,redirect:xe.redirect,name:xe.name,meta:xe.meta||{},aliasOf:void 0,beforeEnter:xe.beforeEnter,props:normalizeRecordProps(xe),children:xe.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in xe?xe.components||null:xe.component&&{default:xe.component}}}function normalizeRecordProps(xe){const pe={},_e=xe.props||!1;if("component"in xe)pe.default=_e;else for(const Ce in xe.components)pe[Ce]=typeof _e=="object"?_e[Ce]:_e;return pe}function isAliasRecord(xe){for(;xe;){if(xe.record.aliasOf)return!0;xe=xe.parent}return!1}function mergeMetaFields(xe){return xe.reduce((pe,_e)=>assign(pe,_e.meta),{})}function mergeOptions(xe,pe){const _e={};for(const Ce in xe)_e[Ce]=Ce in pe?pe[Ce]:xe[Ce];return _e}function isRecordChildOf(xe,pe){return pe.children.some(_e=>_e===xe||isRecordChildOf(xe,_e))}function parseQuery(xe){const pe={};if(xe===""||xe==="?")return pe;const Ce=(xe[0]==="?"?xe.slice(1):xe).split("&");for(let Ie=0;Ie<Ce.length;++Ie){const Oe=Ce[Ie].replace(PLUS_RE," "),Ne=Oe.indexOf("="),Fe=decode(Ne<0?Oe:Oe.slice(0,Ne)),Ue=Ne<0?null:decode(Oe.slice(Ne+1));if(Fe in pe){let $e=pe[Fe];isArray($e)||($e=pe[Fe]=[$e]),$e.push(Ue)}else pe[Fe]=Ue}return pe}function stringifyQuery(xe){let pe="";for(let _e in xe){const Ce=xe[_e];if(_e=encodeQueryKey(_e),Ce==null){Ce!==void 0&&(pe+=(pe.length?"&":"")+_e);continue}(isArray(Ce)?Ce.map(Oe=>Oe&&encodeQueryValue(Oe)):[Ce&&encodeQueryValue(Ce)]).forEach(Oe=>{Oe!==void 0&&(pe+=(pe.length?"&":"")+_e,Oe!=null&&(pe+="="+Oe))})}return pe}function normalizeQuery(xe){const pe={};for(const _e in xe){const Ce=xe[_e];Ce!==void 0&&(pe[_e]=isArray(Ce)?Ce.map(Ie=>Ie==null?null:""+Ie):Ce==null?Ce:""+Ce)}return pe}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let xe=[];function pe(Ce){return xe.push(Ce),()=>{const Ie=xe.indexOf(Ce);Ie>-1&&xe.splice(Ie,1)}}function _e(){xe=[]}return{add:pe,list:()=>xe.slice(),reset:_e}}function guardToPromiseFn(xe,pe,_e,Ce,Ie,Oe=Ne=>Ne()){const Ne=Ce&&(Ce.enterCallbacks[Ie]=Ce.enterCallbacks[Ie]||[]);return()=>new Promise((Fe,Ue)=>{const $e=qe=>{qe===!1?Ue(createRouterError(4,{from:_e,to:pe})):qe instanceof Error?Ue(qe):isRouteLocation(qe)?Ue(createRouterError(2,{from:pe,to:qe})):(Ne&&Ce.enterCallbacks[Ie]===Ne&&typeof qe=="function"&&Ne.push(qe),Fe())},ze=Oe(()=>xe.call(Ce&&Ce.instances[Ie],pe,_e,$e));let Ve=Promise.resolve(ze);xe.length<3&&(Ve=Ve.then($e)),Ve.catch(qe=>Ue(qe))})}function extractComponentsGuards(xe,pe,_e,Ce,Ie=Oe=>Oe()){const Oe=[];for(const Ne of xe)for(const Fe in Ne.components){let Ue=Ne.components[Fe];if(!(pe!=="beforeRouteEnter"&&!Ne.instances[Fe]))if(isRouteComponent(Ue)){const ze=(Ue.__vccOpts||Ue)[pe];ze&&Oe.push(guardToPromiseFn(ze,_e,Ce,Ne,Fe,Ie))}else{let $e=Ue();Oe.push(()=>$e.then(ze=>{if(!ze)return Promise.reject(new Error("Couldn't resolve component \"".concat(Fe,'" at "').concat(Ne.path,'"')));const Ve=isESModule(ze)?ze.default:ze;Ne.components[Fe]=Ve;const En=(Ve.__vccOpts||Ve)[pe];return En&&guardToPromiseFn(En,_e,Ce,Ne,Fe,Ie)()}))}}return Oe}function isRouteComponent(xe){return typeof xe=="object"||"displayName"in xe||"props"in xe||"__vccOpts"in xe}function useLink(xe){const pe=inject(routerKey),_e=inject(routeLocationKey),Ce=computed(()=>pe.resolve(unref(xe.to))),Ie=computed(()=>{const{matched:Ue}=Ce.value,{length:$e}=Ue,ze=Ue[$e-1],Ve=_e.matched;if(!ze||!Ve.length)return-1;const qe=Ve.findIndex(isSameRouteRecord.bind(null,ze));if(qe>-1)return qe;const En=getOriginalPath(Ue[$e-2]);return $e>1&&getOriginalPath(ze)===En&&Ve[Ve.length-1].path!==En?Ve.findIndex(isSameRouteRecord.bind(null,Ue[$e-2])):qe}),Oe=computed(()=>Ie.value>-1&&includesParams(_e.params,Ce.value.params)),Ne=computed(()=>Ie.value>-1&&Ie.value===_e.matched.length-1&&isSameRouteLocationParams(_e.params,Ce.value.params));function Fe(Ue={}){return guardEvent(Ue)?pe[unref(xe.replace)?"replace":"push"](unref(xe.to)).catch(noop$1):Promise.resolve()}return{route:Ce,href:computed(()=>Ce.value.href),isActive:Oe,isExactActive:Ne,navigate:Fe}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(xe,{slots:pe}){const _e=reactive(useLink(xe)),{options:Ce}=inject(routerKey),Ie=computed(()=>({[getLinkClass(xe.activeClass,Ce.linkActiveClass,"router-link-active")]:_e.isActive,[getLinkClass(xe.exactActiveClass,Ce.linkExactActiveClass,"router-link-exact-active")]:_e.isExactActive}));return()=>{const Oe=pe.default&&pe.default(_e);return xe.custom?Oe:h$1("a",{"aria-current":_e.isExactActive?xe.ariaCurrentValue:null,href:_e.href,onClick:_e.navigate,class:Ie.value},Oe)}}}),RouterLink=RouterLinkImpl;function guardEvent(xe){if(!(xe.metaKey||xe.altKey||xe.ctrlKey||xe.shiftKey)&&!xe.defaultPrevented&&!(xe.button!==void 0&&xe.button!==0)){if(xe.currentTarget&&xe.currentTarget.getAttribute){const pe=xe.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(pe))return}return xe.preventDefault&&xe.preventDefault(),!0}}function includesParams(xe,pe){for(const _e in pe){const Ce=pe[_e],Ie=xe[_e];if(typeof Ce=="string"){if(Ce!==Ie)return!1}else if(!isArray(Ie)||Ie.length!==Ce.length||Ce.some((Oe,Ne)=>Oe!==Ie[Ne]))return!1}return!0}function getOriginalPath(xe){return xe?xe.aliasOf?xe.aliasOf.path:xe.path:""}const getLinkClass=(xe,pe,_e)=>xe!=null?xe:pe!=null?pe:_e,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(xe,{attrs:pe,slots:_e}){const Ce=inject(routerViewLocationKey),Ie=computed(()=>xe.route||Ce.value),Oe=inject(viewDepthKey,0),Ne=computed(()=>{let $e=unref(Oe);const{matched:ze}=Ie.value;let Ve;for(;(Ve=ze[$e])&&!Ve.components;)$e++;return $e}),Fe=computed(()=>Ie.value.matched[Ne.value]);provide(viewDepthKey,computed(()=>Ne.value+1)),provide(matchedRouteKey,Fe),provide(routerViewLocationKey,Ie);const Ue=ref();return watch(()=>[Ue.value,Fe.value,xe.name],([$e,ze,Ve],[qe,En,vn])=>{ze&&(ze.instances[Ve]=$e,En&&En!==ze&&$e&&$e===qe&&(ze.leaveGuards.size||(ze.leaveGuards=En.leaveGuards),ze.updateGuards.size||(ze.updateGuards=En.updateGuards))),$e&&ze&&(!En||!isSameRouteRecord(ze,En)||!qe)&&(ze.enterCallbacks[Ve]||[]).forEach(hn=>hn($e))},{flush:"post"}),()=>{const $e=Ie.value,ze=xe.name,Ve=Fe.value,qe=Ve&&Ve.components[ze];if(!qe)return normalizeSlot(_e.default,{Component:qe,route:$e});const En=Ve.props[ze],vn=En?En===!0?$e.params:typeof En=="function"?En($e):En:null,_n=h$1(qe,assign({},vn,pe,{onVnodeUnmounted:bn=>{bn.component.isUnmounted&&(Ve.instances[ze]=null)},ref:Ue}));return normalizeSlot(_e.default,{Component:_n,route:$e})||_n}}});function normalizeSlot(xe,pe){if(!xe)return null;const _e=xe(pe);return _e.length===1?_e[0]:_e}const RouterView=RouterViewImpl;function createRouter(xe){const pe=createRouterMatcher(xe.routes,xe),_e=xe.parseQuery||parseQuery,Ce=xe.stringifyQuery||stringifyQuery,Ie=xe.history,Oe=useCallbacks(),Ne=useCallbacks(),Fe=useCallbacks(),Ue=shallowRef(START_LOCATION_NORMALIZED);let $e=START_LOCATION_NORMALIZED;isBrowser&&xe.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ze=applyToParams.bind(null,Jn=>""+Jn),Ve=applyToParams.bind(null,encodeParam),qe=applyToParams.bind(null,decode);function En(Jn,mr){let Ir,yr;return isRouteName(Jn)?(Ir=pe.getRecordMatcher(Jn),yr=mr):yr=Jn,pe.addRoute(yr,Ir)}function vn(Jn){const mr=pe.getRecordMatcher(Jn);mr&&pe.removeRoute(mr)}function hn(){return pe.getRoutes().map(Jn=>Jn.record)}function _n(Jn){return!!pe.getRecordMatcher(Jn)}function bn(Jn,mr){if(mr=assign({},mr||Ue.value),typeof Jn=="string"){const Qn=parseURL(_e,Jn,mr.path),rr=pe.resolve({path:Qn.path},mr),gr=Ie.createHref(Qn.fullPath);return assign(Qn,rr,{params:qe(rr.params),hash:decode(Qn.hash),redirectedFrom:void 0,href:gr})}let Ir;if(Jn.path!=null)Ir=assign({},Jn,{path:parseURL(_e,Jn.path,mr.path).path});else{const Qn=assign({},Jn.params);for(const rr in Qn)Qn[rr]==null&&delete Qn[rr];Ir=assign({},Jn,{params:Ve(Qn)}),mr.params=Ve(mr.params)}const yr=pe.resolve(Ir,mr),Tr=Jn.hash||"";yr.params=ze(qe(yr.params));const Sr=stringifyURL(Ce,assign({},Jn,{hash:encodeHash(Tr),path:yr.path})),Yn=Ie.createHref(Sr);return assign({fullPath:Sr,hash:Tr,query:Ce===stringifyQuery?normalizeQuery(Jn.query):Jn.query||{}},yr,{redirectedFrom:void 0,href:Yn})}function An(Jn){return typeof Jn=="string"?parseURL(_e,Jn,Ue.value.path):assign({},Jn)}function xn(Jn,mr){if($e!==Jn)return createRouterError(8,{from:mr,to:Jn})}function Sn(Jn){return wn(Jn)}function Cn(Jn){return Sn(assign(An(Jn),{replace:!0}))}function Tn(Jn){const mr=Jn.matched[Jn.matched.length-1];if(mr&&mr.redirect){const{redirect:Ir}=mr;let yr=typeof Ir=="function"?Ir(Jn):Ir;return typeof yr=="string"&&(yr=yr.includes("?")||yr.includes("#")?yr=An(yr):{path:yr},yr.params={}),assign({query:Jn.query,hash:Jn.hash,params:yr.path!=null?{}:Jn.params},yr)}}function wn(Jn,mr){const Ir=$e=bn(Jn),yr=Ue.value,Tr=Jn.state,Sr=Jn.force,Yn=Jn.replace===!0,Qn=Tn(Ir);if(Qn)return wn(assign(An(Qn),{state:typeof Qn=="object"?assign({},Tr,Qn.state):Tr,force:Sr,replace:Yn}),mr||Ir);const rr=Ir;rr.redirectedFrom=mr;let gr;return!Sr&&isSameRouteLocation(Ce,yr,Ir)&&(gr=createRouterError(16,{to:rr,from:yr}),Hn(yr,yr,!0,!1)),(gr?Promise.resolve(gr):kn(rr,yr)).catch(Ar=>isNavigationFailure(Ar)?isNavigationFailure(Ar,2)?Ar:Un(Ar):$n(Ar,rr,yr)).then(Ar=>{if(Ar){if(isNavigationFailure(Ar,2))return wn(assign({replace:Yn},An(Ar.to),{state:typeof Ar.to=="object"?assign({},Tr,Ar.to.state):Tr,force:Sr}),mr||rr)}else Ar=Rn(rr,yr,!0,Yn,Tr);return In(rr,yr,Ar),Ar})}function Ln(Jn,mr){const Ir=xn(Jn,mr);return Ir?Promise.reject(Ir):Promise.resolve()}function Pn(Jn){const mr=or.values().next().value;return mr&&typeof mr.runWithContext=="function"?mr.runWithContext(Jn):Jn()}function kn(Jn,mr){let Ir;const[yr,Tr,Sr]=extractChangingRecords(Jn,mr);Ir=extractComponentsGuards(yr.reverse(),"beforeRouteLeave",Jn,mr);for(const Qn of yr)Qn.leaveGuards.forEach(rr=>{Ir.push(guardToPromiseFn(rr,Jn,mr))});const Yn=Ln.bind(null,Jn,mr);return Ir.push(Yn),cr(Ir).then(()=>{Ir=[];for(const Qn of Oe.list())Ir.push(guardToPromiseFn(Qn,Jn,mr));return Ir.push(Yn),cr(Ir)}).then(()=>{Ir=extractComponentsGuards(Tr,"beforeRouteUpdate",Jn,mr);for(const Qn of Tr)Qn.updateGuards.forEach(rr=>{Ir.push(guardToPromiseFn(rr,Jn,mr))});return Ir.push(Yn),cr(Ir)}).then(()=>{Ir=[];for(const Qn of Sr)if(Qn.beforeEnter)if(isArray(Qn.beforeEnter))for(const rr of Qn.beforeEnter)Ir.push(guardToPromiseFn(rr,Jn,mr));else Ir.push(guardToPromiseFn(Qn.beforeEnter,Jn,mr));return Ir.push(Yn),cr(Ir)}).then(()=>(Jn.matched.forEach(Qn=>Qn.enterCallbacks={}),Ir=extractComponentsGuards(Sr,"beforeRouteEnter",Jn,mr,Pn),Ir.push(Yn),cr(Ir))).then(()=>{Ir=[];for(const Qn of Ne.list())Ir.push(guardToPromiseFn(Qn,Jn,mr));return Ir.push(Yn),cr(Ir)}).catch(Qn=>isNavigationFailure(Qn,8)?Qn:Promise.reject(Qn))}function In(Jn,mr,Ir){Fe.list().forEach(yr=>Pn(()=>yr(Jn,mr,Ir)))}function Rn(Jn,mr,Ir,yr,Tr){const Sr=xn(Jn,mr);if(Sr)return Sr;const Yn=mr===START_LOCATION_NORMALIZED,Qn=isBrowser?history.state:{};Ir&&(yr||Yn?Ie.replace(Jn.fullPath,assign({scroll:Yn&&Qn&&Qn.scroll},Tr)):Ie.push(Jn.fullPath,Tr)),Ue.value=Jn,Hn(Jn,mr,Ir,Yn),Un()}let Nn;function On(){Nn||(Nn=Ie.listen((Jn,mr,Ir)=>{if(!fr.listening)return;const yr=bn(Jn),Tr=Tn(yr);if(Tr){wn(assign(Tr,{replace:!0}),yr).catch(noop$1);return}$e=yr;const Sr=Ue.value;isBrowser&&saveScrollPosition(getScrollKey(Sr.fullPath,Ir.delta),computeScrollPosition()),kn(yr,Sr).catch(Yn=>isNavigationFailure(Yn,12)?Yn:isNavigationFailure(Yn,2)?(wn(Yn.to,yr).then(Qn=>{isNavigationFailure(Qn,20)&&!Ir.delta&&Ir.type===NavigationType.pop&&Ie.go(-1,!1)}).catch(noop$1),Promise.reject()):(Ir.delta&&Ie.go(-Ir.delta,!1),$n(Yn,yr,Sr))).then(Yn=>{Yn=Yn||Rn(yr,Sr,!1),Yn&&(Ir.delta&&!isNavigationFailure(Yn,8)?Ie.go(-Ir.delta,!1):Ir.type===NavigationType.pop&&isNavigationFailure(Yn,20)&&Ie.go(-1,!1)),In(yr,Sr,Yn)}).catch(noop$1)}))}let Dn=useCallbacks(),Mn=useCallbacks(),Bn;function $n(Jn,mr,Ir){Un(Jn);const yr=Mn.list();return yr.length?yr.forEach(Tr=>Tr(Jn,mr,Ir)):console.error(Jn),Promise.reject(Jn)}function Fn(){return Bn&&Ue.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Jn,mr)=>{Dn.add([Jn,mr])})}function Un(Jn){return Bn||(Bn=!Jn,On(),Dn.list().forEach(([mr,Ir])=>Jn?Ir(Jn):mr()),Dn.reset()),Jn}function Hn(Jn,mr,Ir,yr){const{scrollBehavior:Tr}=xe;if(!isBrowser||!Tr)return Promise.resolve();const Sr=!Ir&&getSavedScrollPosition(getScrollKey(Jn.fullPath,0))||(yr||!Ir)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Tr(Jn,mr,Sr)).then(Yn=>Yn&&scrollToPosition(Yn)).catch(Yn=>$n(Yn,Jn,mr))}const Wn=Jn=>Ie.go(Jn);let Xn;const or=new Set,fr={currentRoute:Ue,listening:!0,addRoute:En,removeRoute:vn,hasRoute:_n,getRoutes:hn,resolve:bn,options:xe,push:Sn,replace:Cn,go:Wn,back:()=>Wn(-1),forward:()=>Wn(1),beforeEach:Oe.add,beforeResolve:Ne.add,afterEach:Fe.add,onError:Mn.add,isReady:Fn,install(Jn){const mr=this;Jn.component("RouterLink",RouterLink),Jn.component("RouterView",RouterView),Jn.config.globalProperties.$router=mr,Object.defineProperty(Jn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(Ue)}),isBrowser&&!Xn&&Ue.value===START_LOCATION_NORMALIZED&&(Xn=!0,Sn(Ie.location).catch(Tr=>{}));const Ir={};for(const Tr in START_LOCATION_NORMALIZED)Object.defineProperty(Ir,Tr,{get:()=>Ue.value[Tr],enumerable:!0});Jn.provide(routerKey,mr),Jn.provide(routeLocationKey,shallowReactive(Ir)),Jn.provide(routerViewLocationKey,Ue);const yr=Jn.unmount;or.add(Jn),Jn.unmount=function(){or.delete(Jn),or.size<1&&($e=START_LOCATION_NORMALIZED,Nn&&Nn(),Nn=null,Ue.value=START_LOCATION_NORMALIZED,Xn=!1,Bn=!1),yr()}}};function cr(Jn){return Jn.reduce((mr,Ir)=>mr.then(()=>Pn(Ir)),Promise.resolve())}return fr}function extractChangingRecords(xe,pe){const _e=[],Ce=[],Ie=[],Oe=Math.max(pe.matched.length,xe.matched.length);for(let Ne=0;Ne<Oe;Ne++){const Fe=pe.matched[Ne];Fe&&(xe.matched.find($e=>isSameRouteRecord($e,Fe))?Ce.push(Fe):_e.push(Fe));const Ue=xe.matched[Ne];Ue&&(pe.matched.find($e=>isSameRouteRecord($e,Ue))||Ie.push(Ue))}return[_e,Ce,Ie]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}var nprogress={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(commonjsGlobal,function(){var _e={};_e.version="0.2.0";var Ce=_e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};_e.configure=function(vn){var hn,_n;for(hn in vn)_n=vn[hn],_n!==void 0&&vn.hasOwnProperty(hn)&&(Ce[hn]=_n);return this},_e.status=null,_e.set=function(vn){var hn=_e.isStarted();vn=Ie(vn,Ce.minimum,1),_e.status=vn===1?null:vn;var _n=_e.render(!hn),bn=_n.querySelector(Ce.barSelector),An=Ce.speed,xn=Ce.easing;return _n.offsetWidth,Fe(function(Sn){Ce.positionUsing===""&&(Ce.positionUsing=_e.getPositioningCSS()),Ue(bn,Ne(vn,An,xn)),vn===1?(Ue(_n,{transition:"none",opacity:1}),_n.offsetWidth,setTimeout(function(){Ue(_n,{transition:"all "+An+"ms linear",opacity:0}),setTimeout(function(){_e.remove(),Sn()},An)},An)):setTimeout(Sn,An)}),this},_e.isStarted=function(){return typeof _e.status=="number"},_e.start=function(){_e.status||_e.set(0);var vn=function(){setTimeout(function(){_e.status&&(_e.trickle(),vn())},Ce.trickleSpeed)};return Ce.trickle&&vn(),this},_e.done=function(vn){return!vn&&!_e.status?this:_e.inc(.3+.5*Math.random()).set(1)},_e.inc=function(vn){var hn=_e.status;return hn?(typeof vn!="number"&&(vn=(1-hn)*Ie(Math.random()*hn,.1,.95)),hn=Ie(hn+vn,0,.994),_e.set(hn)):_e.start()},_e.trickle=function(){return _e.inc(Math.random()*Ce.trickleRate)},function(){var vn=0,hn=0;_e.promise=function(_n){return!_n||_n.state()==="resolved"?this:(hn===0&&_e.start(),vn++,hn++,_n.always(function(){hn--,hn===0?(vn=0,_e.done()):_e.set((vn-hn)/vn)}),this)}}(),_e.render=function(vn){if(_e.isRendered())return document.getElementById("nprogress");ze(document.documentElement,"nprogress-busy");var hn=document.createElement("div");hn.id="nprogress",hn.innerHTML=Ce.template;var _n=hn.querySelector(Ce.barSelector),bn=vn?"-100":Oe(_e.status||0),An=document.querySelector(Ce.parent),xn;return Ue(_n,{transition:"all 0 linear",transform:"translate3d("+bn+"%,0,0)"}),Ce.showSpinner||(xn=hn.querySelector(Ce.spinnerSelector),xn&&En(xn)),An!=document.body&&ze(An,"nprogress-custom-parent"),An.appendChild(hn),hn},_e.remove=function(){Ve(document.documentElement,"nprogress-busy"),Ve(document.querySelector(Ce.parent),"nprogress-custom-parent");var vn=document.getElementById("nprogress");vn&&En(vn)},_e.isRendered=function(){return!!document.getElementById("nprogress")},_e.getPositioningCSS=function(){var vn=document.body.style,hn="WebkitTransform"in vn?"Webkit":"MozTransform"in vn?"Moz":"msTransform"in vn?"ms":"OTransform"in vn?"O":"";return hn+"Perspective"in vn?"translate3d":hn+"Transform"in vn?"translate":"margin"};function Ie(vn,hn,_n){return vn<hn?hn:vn>_n?_n:vn}function Oe(vn){return(-1+vn)*100}function Ne(vn,hn,_n){var bn;return Ce.positionUsing==="translate3d"?bn={transform:"translate3d("+Oe(vn)+"%,0,0)"}:Ce.positionUsing==="translate"?bn={transform:"translate("+Oe(vn)+"%,0)"}:bn={"margin-left":Oe(vn)+"%"},bn.transition="all "+hn+"ms "+_n,bn}var Fe=function(){var vn=[];function hn(){var _n=vn.shift();_n&&_n(hn)}return function(_n){vn.push(_n),vn.length==1&&hn()}}(),Ue=function(){var vn=["Webkit","O","Moz","ms"],hn={};function _n(Sn){return Sn.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(Cn,Tn){return Tn.toUpperCase()})}function bn(Sn){var Cn=document.body.style;if(Sn in Cn)return Sn;for(var Tn=vn.length,wn=Sn.charAt(0).toUpperCase()+Sn.slice(1),Ln;Tn--;)if(Ln=vn[Tn]+wn,Ln in Cn)return Ln;return Sn}function An(Sn){return Sn=_n(Sn),hn[Sn]||(hn[Sn]=bn(Sn))}function xn(Sn,Cn,Tn){Cn=An(Cn),Sn.style[Cn]=Tn}return function(Sn,Cn){var Tn=arguments,wn,Ln;if(Tn.length==2)for(wn in Cn)Ln=Cn[wn],Ln!==void 0&&Cn.hasOwnProperty(wn)&&xn(Sn,wn,Ln);else xn(Sn,Tn[1],Tn[2])}}();function $e(vn,hn){var _n=typeof vn=="string"?vn:qe(vn);return _n.indexOf(" "+hn+" ")>=0}function ze(vn,hn){var _n=qe(vn),bn=_n+hn;$e(_n,hn)||(vn.className=bn.substring(1))}function Ve(vn,hn){var _n=qe(vn),bn;$e(vn,hn)&&(bn=_n.replace(" "+hn+" "," "),vn.className=bn.substring(1,bn.length-1))}function qe(vn){return(" "+(vn.className||"")+" ").replace(/\s+/gi," ")}function En(vn){vn&&vn.parentNode&&vn.parentNode.removeChild(vn)}return _e})})(nprogress);var nprogressExports=nprogress.exports;const NProgress=getDefaultExportFromCjs$1(nprogressExports);var DPlayer_min={exports:{}};(function(xe,pe){(function(_e,Ce){xe.exports=Ce()})(self,()=>(()=>{var _e={916:(Ne,Fe,Ue)=>{var $e=Ue(471);Ne.exports=function(ze){var Ve,qe="",En=(ze=ze||{}).video,vn=ze.options,hn=$e.$escape,_n=ze.tran,bn=ze.icons,An=ze.index,xn=$e.$each;return ze.$value,ze.$index,qe+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',Ve=Ue(568)(En),qe+=Ve,qe+="\n    ",vn.logo&&(qe+='\n    <div class="dplayer-logo">\n        <img src="',qe+=hn(vn.logo),qe+='">\n    </div>\n    '),qe+='\n    <div class="dplayer-danmaku"',vn.danmaku&&vn.danmaku.bottom&&(qe+=' style="margin-bottom:',qe+=hn(vn.danmaku.bottom),qe+='"'),qe+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',vn.danmaku&&(qe+='\n        <span class="dplayer-danloading">',qe+=hn(_n("danmaku-loading")),qe+="</span>\n        "),qe+='\n        <span class="diplayer-loading-icon">',qe+=bn.loading,qe+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',qe+=hn(_n("setting")),qe+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',qe+=bn.pallette,qe+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',qe+=hn(_n("set-danmaku-color")),qe+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',qe+=hn(An),qe+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',qe+=hn(An),qe+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',qe+=hn(An),qe+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',qe+=hn(An),qe+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',qe+=hn(An),qe+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',qe+=hn(An),qe+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',qe+=hn(_n("set-danmaku-type")),qe+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',qe+=hn(An),qe+='" value="1">\n                    <span>',qe+=hn(_n("top")),qe+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',qe+=hn(An),qe+='" value="0" checked>\n                    <span>',qe+=hn(_n("rolling")),qe+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',qe+=hn(An),qe+='" value="2">\n                    <span>',qe+=hn(_n("bottom")),qe+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',qe+=hn(_n("input-danmaku-enter")),qe+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',qe+=hn(_n("send")),qe+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',qe+=bn.send,qe+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',qe+=bn.play,qe+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',qe+=bn.volumeDown,qe+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',qe+=hn(vn.theme),qe+=';">\n                        <span class="dplayer-thumb" style="background: ',qe+=hn(vn.theme),qe+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',vn.live&&(qe+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',qe+=hn(vn.theme),qe+=';"></span>',qe+=hn(_n("live")),qe+="</span>\n        "),qe+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',vn.video.quality&&(qe+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',qe+=hn(vn.video.quality[vn.video.defaultQuality].name),qe+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',xn(vn.video.quality,function(Sn,Cn){qe+='\n                    <div class="dplayer-quality-item" data-index="',qe+=hn(Cn),qe+='">',qe+=hn(Sn.name),qe+="</div>\n                "}),qe+="\n                </div>\n            </div>\n        </div>\n        "),qe+="\n        ",vn.screenshot&&(qe+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',qe+=hn(_n("screenshot")),qe+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',qe+=bn.camera,qe+="</span>\n        </div>\n        "),qe+="\n        ",vn.airplay&&(qe+='\n        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="',qe+=hn(_n("airplay")),qe+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',qe+=bn.airplay,qe+="</span>\n        </div>\n        "),qe+="\n        ",vn.chromecast&&(qe+='\n        <div class="dplayer-icon dplayer-chromecast-icon" data-balloon="',qe+=hn(_n("chromecast")),qe+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',qe+=bn.chromecast,qe+="</span>\n        </div>\n        "),qe+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',qe+=hn(_n("send-danmaku")),qe+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',qe+=bn.comment,qe+="</span>\n            </button>\n        </div>\n        ",vn.subtitle&&(qe+="\n        ",typeof vn.subtitle.url=="string"?(qe+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',qe+=hn(_n("hide-subs")),qe+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',qe+=bn.subtitle,qe+="</span>\n            </button>\n        </div>\n        "):(qe+='\n        <div class="dplayer-subtitles">\n            <button class="dplayer-icon dplayer-subtitles-icon" data-balloon="',qe+=hn(_n("subtitle")),qe+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',qe+=bn.subtitle,qe+='</span>\n            </button>\n            <div class="dplayer-subtitles-box">\n                <div class="dplayer-subtitles-panel">\n                    ',xn(vn.subtitle.url,function(Sn,Cn){qe+='\n                        <div class="dplayer-subtitles-item" data-subtitle="',qe+=hn(Sn.url),qe+='">\n                            <!-- if lang, show tran(lang). if lang and name, show name + (tran(lang)). if name, show name. off option use lang for translation. -->\n                            <span class="dplayer-label">',qe+=hn(Sn.lang?Sn.name?Sn.name+" ("+_n(Sn.lang)+")":_n(Sn.lang):Sn.name),qe+="</span>\n                        </div>\n                    "}),qe+="\n                </div>\n            </div>\n        </div>\n        "),qe+="\n        "),qe+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',qe+=hn(_n("setting")),qe+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',qe+=bn.setting,qe+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',qe+=hn(_n("speed")),qe+='</span>\n                        <div class="dplayer-toggle">',qe+=bn.right,qe+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',qe+=hn(_n("loop")),qe+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',qe+=hn(_n("show-danmaku")),qe+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',qe+=hn(_n("unlimited-danmaku")),qe+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',qe+=hn(_n("opacity-danmaku")),qe+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    ',xn(vn.playbackSpeed,function(Sn,Cn){qe+='\n                        <div class="dplayer-setting-speed-item" data-speed="',qe+=hn(Sn),qe+='">\n                            <span class="dplayer-label">',qe+=hn(Sn===1?_n("normal"):Sn),qe+="</span>\n                        </div>\n                    "}),qe+='\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',qe+=hn(_n("web-fullscreen")),qe+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',qe+=bn.fullWeb,qe+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',qe+=hn(_n("fullscreen")),qe+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',qe+=bn.full,qe+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',qe+=hn(vn.theme),qe+='">\n                <span class="dplayer-thumb" style="background: ',qe+=hn(vn.theme),qe+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',vn.danmaku&&(qe+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danmaku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danmaku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danmaku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),qe+='\n</div>\n<div class="dplayer-menu">\n    ',xn(vn.contextmenu,function(Sn,Cn){qe+='\n        <div class="dplayer-menu-item">\n            <a',Sn.link&&(qe+=' target="_blank"'),qe+=' href="',qe+=hn(Sn.link||"javascript:void(0);"),qe+='">',Sn.key&&(qe+=" ",qe+=hn(_n(Sn.key))),Sn.text&&(qe+=" ",qe+=hn(Sn.text)),qe+="</a>\n        </div>\n    "}),qe+='\n</div>\n<div class="dplayer-notice-list"></div>\n<button class="dplayer-mobile-play">\n    ',qe+=bn.play,qe+="\n</button>"}},568:(Ne,Fe,Ue)=>{var $e=Ue(471);Ne.exports=function(ze){var Ve="",qe=(ze=ze||{}).enableSubtitle,En=ze.subtitle,vn=ze.current,hn=ze.airplay,_n=ze.pic,bn=$e.$escape,An=ze.screenshot,xn=ze.preload,Sn=ze.url;return qe=En&&En.type==="webvtt",Ve+='\n<video\n    class="dplayer-video ',vn&&(Ve+="dplayer-video-current"),Ve+='"\n    webkit-playsinline\n    ',hn&&(Ve+=' x-webkit-airplay="allow" '),Ve+="\n    playsinline\n    ",_n&&(Ve+='poster="',Ve+=bn(_n),Ve+='"'),Ve+="\n    ",(An||qe)&&(Ve+='crossorigin="anonymous"'),Ve+="\n    ",xn&&(Ve+='preload="',Ve+=bn(xn),Ve+='"'),Ve+="\n    ",hn?Ve+="\n    nosrc\n    ":Sn&&(Ve+='\n    src="',Ve+=bn(Sn),Ve+='"\n    '),Ve+="\n    >\n    ",hn&&(Ve+='\n    <source src="',Ve+=bn(Sn),Ve+='">\n    '),Ve+="\n    ",qe&&(Ve+='\n    <track class="dplayer-subtrack" kind="metadata" default src="',Ve+=bn(typeof En.url=="string"?En.url:En.url[En.index].url),Ve+='"></track>\n    '),Ve+"\n</video>"}},49:(Ne,Fe,Ue)=>{Ue.d(Fe,{Z:()=>En});var $e=Ue(415),ze=Ue.n($e),Ve=Ue(352),qe=Ue.n(Ve)()(ze());qe.push([Ne.id,':root {\n  --balloon-border-radius: 2px;\n  --balloon-color: rgba(16, 16, 16, 0.95);\n  --balloon-text-color: #fff;\n  --balloon-font-size: 12px;\n  --balloon-move: 4px; }\n\nbutton[aria-label][data-balloon-pos] {\n  overflow: visible; }\n\n[aria-label][data-balloon-pos] {\n  position: relative;\n  cursor: pointer; }\n  [aria-label][data-balloon-pos]:after {\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    text-indent: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n    font-weight: normal;\n    font-style: normal;\n    text-shadow: none;\n    font-size: 12px;\n    font-size: var(--balloon-font-size);\n    background: rgba(16, 16, 16, 0.95);\n    background: var(--balloon-color);\n    border-radius: 2px;\n    color: #fff;\n    color: var(--balloon-text-color);\n    border-radius: var(--balloon-border-radius);\n    content: attr(aria-label);\n    padding: .5em 1em;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-top-color: rgba(16, 16, 16, 0.95);\n    border-top-color: var(--balloon-color);\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    content: "";\n    position: absolute;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {\n    opacity: 1;\n    pointer-events: none; }\n  [aria-label][data-balloon-pos].font-awesome:after {\n    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif; }\n  [aria-label][data-balloon-pos][data-balloon-break]:after {\n    white-space: pre; }\n  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {\n    white-space: pre-line;\n    word-break: break-word; }\n  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {\n    transition: none; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {\n    left: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {\n    left: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {\n    right: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {\n    right: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    bottom: 100%;\n    transform-origin: top;\n    transform: translate(0, 4px);\n    transform: translate(0, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    margin-bottom: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {\n    left: 50%;\n    transform: translate(-50%, 4px);\n    transform: translate(-50%, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    top: 100%;\n    transform: translate(0, calc(4px * -1));\n    transform: translate(0, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    margin-top: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-bottom-color: rgba(16, 16, 16, 0.95);\n    border-bottom-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {\n    left: 50%;\n    transform: translate(-50%, calc(4px * -1));\n    transform: translate(-50%, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    right: 100%;\n    top: 50%;\n    transform: translate(4px, -50%);\n    transform: translate(var(--balloon-move), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {\n    margin-right: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-left-color: rgba(16, 16, 16, 0.95);\n    border-left-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    left: 100%;\n    top: 50%;\n    transform: translate(calc(4px * -1), -50%);\n    transform: translate(calc(var(--balloon-move) * -1), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {\n    margin-left: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-right-color: rgba(16, 16, 16, 0.95);\n    border-right-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-length]:after {\n    white-space: normal; }\n  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {\n    width: 80px; }\n  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {\n    width: 150px; }\n  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {\n    width: 260px; }\n  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n    width: 380px; }\n    @media screen and (max-width: 768px) {\n      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n        width: 90vw; } }\n  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {\n    width: 100%; }\n',"",{version:3,sources:["webpack://./node_modules/.pnpm/balloon-css@1.2.0/node_modules/balloon-css/balloon.css"],names:[],mappings:"AAAA;EACE,4BAA4B;EAC5B,uCAAuC;EACvC,0BAA0B;EAC1B,yBAAyB;EACzB,mBAAmB,EAAE;;AAEvB;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB;EAClB,eAAe,EAAE;EACjB;IACE,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,cAAc;IACd,wIAAwI;IACxI,mBAAmB;IACnB,kBAAkB;IAClB,iBAAiB;IACjB,eAAmC;IAAnC,mCAAmC;IACnC,kCAAgC;IAAhC,gCAAgC;IAChC,kBAAkB;IAClB,WAAgC;IAAhC,gCAAgC;IAChC,2CAA2C;IAC3C,yBAAyB;IACzB,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;IACnB,WAAW,EAAE;EACf;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,wCAAsC;IAAtC,sCAAsC;IACtC,UAAU;IACV,oBAAoB;IACpB,oCAAoC;IACpC,WAAW;IACX,kBAAkB;IAClB,WAAW,EAAE;EACf;IACE,UAAU;IACV,oBAAoB,EAAE;EACxB;IACE,qJAAqJ,EAAE;EACzJ;IACE,gBAAgB,EAAE;EACpB;IACE,qBAAqB;IACrB,sBAAsB,EAAE;EAC1B;IACE,gBAAgB,EAAE;EACpB;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,OAAO,EAAE;EACX;IACE,SAAS,EAAE;EACb;IACE,QAAQ,EAAE;EACZ;IACE,UAAU,EAAE;EACd;IACE,0BAA0B,EAAE;EAC9B;IACE,0BAA0B,EAAE;EAC9B;IACE,YAAY;IACZ,qBAAqB;IACrB,4BAA4C;IAA5C,4CAA4C,EAAE;EAChD;IACE,mBAAmB,EAAE;EACvB;IACE,SAAS;IACT,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,SAAS;IACT,uCAAuD;IAAvD,uDAAuD,EAAE;EAC3D;IACE,gBAAgB,EAAE;EACpB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,2CAAyC;IAAzC,yCAAyC,EAAE;EAC7C;IACE,SAAS;IACT,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,6BAA6B,EAAE;EACjC;IACE,6BAA6B,EAAE;EACjC;IACE,WAAW;IACX,QAAQ;IACR,+BAA+C;IAA/C,+CAA+C,EAAE;EACnD;IACE,kBAAkB,EAAE;EACtB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,yCAAuC;IAAvC,uCAAuC,EAAE;EAC3C;IACE,UAAU;IACV,QAAQ;IACR,0CAA0D;IAA1D,0DAA0D,EAAE;EAC9D;IACE,iBAAiB,EAAE;EACrB;IACE,QAAQ;IACR,SAAS;IACT,6BAA6B;IAC7B,0CAAwC;IAAxC,wCAAwC,EAAE;EAC5C;IACE,mBAAmB,EAAE;EACvB;IACE,WAAW,EAAE;EACf;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;EAChB;IACE,YAAY,EAAE;IACd;MACE;QACE,WAAW,EAAE,EAAE;EACrB;IACE,WAAW,EAAE",sourcesContent:[':root {\n  --balloon-border-radius: 2px;\n  --balloon-color: rgba(16, 16, 16, 0.95);\n  --balloon-text-color: #fff;\n  --balloon-font-size: 12px;\n  --balloon-move: 4px; }\n\nbutton[aria-label][data-balloon-pos] {\n  overflow: visible; }\n\n[aria-label][data-balloon-pos] {\n  position: relative;\n  cursor: pointer; }\n  [aria-label][data-balloon-pos]:after {\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    text-indent: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n    font-weight: normal;\n    font-style: normal;\n    text-shadow: none;\n    font-size: var(--balloon-font-size);\n    background: var(--balloon-color);\n    border-radius: 2px;\n    color: var(--balloon-text-color);\n    border-radius: var(--balloon-border-radius);\n    content: attr(aria-label);\n    padding: .5em 1em;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-top-color: var(--balloon-color);\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.18s ease-out 0.18s;\n    content: "";\n    position: absolute;\n    z-index: 10; }\n  [aria-label][data-balloon-pos]:hover:before, [aria-label][data-balloon-pos]:hover:after, [aria-label][data-balloon-pos][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-visible]:after, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before, [aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after {\n    opacity: 1;\n    pointer-events: none; }\n  [aria-label][data-balloon-pos].font-awesome:after {\n    font-family: FontAwesome, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif; }\n  [aria-label][data-balloon-pos][data-balloon-break]:after {\n    white-space: pre; }\n  [aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after {\n    white-space: pre-line;\n    word-break: break-word; }\n  [aria-label][data-balloon-pos][data-balloon-blunt]:before, [aria-label][data-balloon-pos][data-balloon-blunt]:after {\n    transition: none; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:after {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="up"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="down"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="down"][data-balloon-visible]:before {\n    transform: translate(-50%, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:after {\n    left: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-left"]:before {\n    left: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:after {\n    right: 0; }\n  [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:before {\n    right: 5px; }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:after {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-po*="-left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-po*="-left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos*="-right"][data-balloon-visible]:before {\n    transform: translate(0, 0); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    bottom: 100%;\n    transform-origin: top;\n    transform: translate(0, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="up"]:after {\n    margin-bottom: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="up"]:before, [aria-label][data-balloon-pos][data-balloon-pos="up"]:after {\n    left: 50%;\n    transform: translate(-50%, var(--balloon-move)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before, [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    top: 100%;\n    transform: translate(0, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:after {\n    margin-top: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos^="down"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-bottom-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="down"]:after, [aria-label][data-balloon-pos][data-balloon-pos="down"]:before {\n    left: 50%;\n    transform: translate(-50%, calc(var(--balloon-move) * -1)); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:after, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:after {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="left"][data-balloon-visible]:before, [aria-label][data-balloon-pos][data-balloon-pos="right"]:hover:before, [aria-label][data-balloon-pos][data-balloon-pos="right"][data-balloon-visible]:before {\n    transform: translate(0, -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after, [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    right: 100%;\n    top: 50%;\n    transform: translate(var(--balloon-move), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:after {\n    margin-right: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="left"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-left-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after, [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    left: 100%;\n    top: 50%;\n    transform: translate(calc(var(--balloon-move) * -1), -50%); }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:after {\n    margin-left: 10px; }\n  [aria-label][data-balloon-pos][data-balloon-pos="right"]:before {\n    width: 0;\n    height: 0;\n    border: 5px solid transparent;\n    border-right-color: var(--balloon-color); }\n  [aria-label][data-balloon-pos][data-balloon-length]:after {\n    white-space: normal; }\n  [aria-label][data-balloon-pos][data-balloon-length="small"]:after {\n    width: 80px; }\n  [aria-label][data-balloon-pos][data-balloon-length="medium"]:after {\n    width: 150px; }\n  [aria-label][data-balloon-pos][data-balloon-length="large"]:after {\n    width: 260px; }\n  [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n    width: 380px; }\n    @media screen and (max-width: 768px) {\n      [aria-label][data-balloon-pos][data-balloon-length="xlarge"]:after {\n        width: 90vw; } }\n  [aria-label][data-balloon-pos][data-balloon-length="fit"]:after {\n    width: 100%; }\n'],sourceRoot:""}]);const En=qe},685:(Ne,Fe,Ue)=>{Ue.d(Fe,{Z:()=>xn});var $e=Ue(415),ze=Ue.n($e),Ve=Ue(352),qe=Ue.n(Ve),En=Ue(49),vn=Ue(80),hn=Ue.n(vn),_n=new URL(Ue(831),Ue.b),bn=qe()(ze());bn.i(En.Z);var An=hn()(_n);bn.push([Ne.id,'@keyframes my-face {\n  2% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  4% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  6% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  8% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  10% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  12% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  14% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  16% {\n    transform: translate(0, -0.5px) rotate(-1.5deg);\n  }\n  18% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  20% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  22% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  24% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  26% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  28% {\n    transform: translate(0, 0.5px) rotate(1.5deg);\n  }\n  30% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  32% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  34% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  36% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  38% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  40% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  42% {\n    transform: translate(0, 2.5px) rotate(-1.5deg);\n  }\n  44% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  46% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  48% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  50% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  52% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  54% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  56% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  58% {\n    transform: translate(0, 0.5px) rotate(2.5deg);\n  }\n  60% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  62% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  64% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  66% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  68% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  70% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  72% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  74% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  76% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  78% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  80% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  82% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  84% {\n    transform: translate(0, 1.5px) rotate(2.5deg);\n  }\n  86% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  88% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  90% {\n    transform: translate(0, 2.5px) rotate(-0.5deg);\n  }\n  92% {\n    transform: translate(0, 0.5px) rotate(-0.5deg);\n  }\n  94% {\n    transform: translate(0, 2.5px) rotate(0.5deg);\n  }\n  96% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  98% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  0%,\n  100% {\n    transform: translate(0, 0) rotate(0deg);\n  }\n}\n.dplayer {\n  position: relative;\n  overflow: hidden;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  line-height: 1;\n}\n.dplayer * {\n  box-sizing: content-box;\n}\n.dplayer svg {\n  width: 100%;\n  height: 100%;\n}\n.dplayer svg path,\n.dplayer svg circle {\n  fill: #fff;\n}\n.dplayer:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  transform: translate(0, 0);\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-danmaku {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-time {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-bar-wrap {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-speed {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-loop {\n  display: none;\n}\n.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {\n  display: none;\n}\n.dplayer.dplayer-arrow .dplayer-danmaku {\n  font-size: 18px;\n}\n.dplayer.dplayer-arrow .dplayer-icon {\n  margin: 0 -3px;\n}\n.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {\n  animation-play-state: running;\n}\n@media (min-width: 900px) {\n  .dplayer.dplayer-playing .dplayer-controller-mask {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing .dplayer-controller {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller-mask {\n    opacity: 1;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller {\n    opacity: 1;\n  }\n}\n.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {\n  display: block;\n}\n.dplayer.dplayer-loading .dplayer-danmaku,\n.dplayer.dplayer-paused .dplayer-danmaku,\n.dplayer.dplayer-loading .dplayer-danmaku-move,\n.dplayer.dplayer-paused .dplayer-danmaku-move {\n  animation-play-state: paused;\n}\n.dplayer.dplayer-hide-controller {\n  cursor: none;\n}\n.dplayer.dplayer-hide-controller .dplayer-controller-mask {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-hide-controller .dplayer-controller {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-show-controller .dplayer-controller-mask {\n  opacity: 1;\n}\n.dplayer.dplayer-show-controller .dplayer-controller {\n  opacity: 1;\n}\n.dplayer.dplayer-fulled {\n  width: 100% !important;\n  height: 100% !important;\n}\n.dplayer.dplayer-fulled {\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: static;\n  display: inline-block;\n}\n.dplayer.dplayer-mobile .dplayer-bar-time {\n  display: none;\n}\n.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-mobile-play {\n  display: block;\n}\n.dplayer-web-fullscreen-fix {\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n}\n[data-balloon]:before {\n  display: none;\n}\n[data-balloon]:after {\n  padding: 0.3em 0.7em;\n  background: rgba(17, 17, 17, 0.7);\n}\n[data-balloon][data-balloon-pos="up"]:after {\n  margin-bottom: 0;\n}\n.dplayer-bezel {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -26px 0 0 -26px;\n  height: 52px;\n  width: 52px;\n  padding: 12px;\n  box-sizing: border-box;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n  opacity: 0;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {\n  animation: bezel-hide 0.5s linear;\n}\n@keyframes bezel-hide {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n.dplayer-bezel .dplayer-danloading {\n  position: absolute;\n  top: 50%;\n  margin-top: -7px;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 14px;\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-bezel .diplayer-loading-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -18px 0 0 -18px;\n  height: 36px;\n  width: 36px;\n  pointer-events: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {\n  display: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {\n  animation: diplayer-loading-dot-fade 0.8s ease infinite;\n  opacity: 0;\n  transform-origin: 4px 4px;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {\n  animation-delay: 0.1s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {\n  animation-delay: 0.2s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {\n  animation-delay: 0.3s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {\n  animation-delay: 0.4s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {\n  animation-delay: 0.5s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {\n  animation-delay: 0.6s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {\n  animation-delay: 0.7s;\n}\n@keyframes diplayer-loading-dot-fade {\n  0% {\n    opacity: 0.7;\n    transform: scale(1.2, 1.2);\n  }\n  50% {\n    opacity: 0.25;\n    transform: scale(0.9, 0.9);\n  }\n  to {\n    opacity: 0.25;\n    transform: scale(0.85, 0.85);\n  }\n}\n.dplayer-controller-mask {\n  background: url('+An+") repeat-x bottom;\n  height: 98px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  transition: all 0.3s ease;\n}\n.dplayer-controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 41px;\n  padding: 0 20px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  transition: all 0.3s ease;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons {\n  display: none;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap {\n  padding: 5px 0;\n  cursor: pointer;\n  position: absolute;\n  bottom: 33px;\n  width: calc(100% - 40px);\n  height: 3px;\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {\n  display: block;\n  width: 8px;\n  transform: translateX(-4px);\n  top: 4px;\n  height: 40%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {\n  z-index: 12;\n  position: absolute;\n  top: 5px;\n  width: 6px;\n  height: 20%;\n  border-radius: 6px;\n  background-color: #fff;\n  text-align: center;\n  transform: translateX(-3px);\n  transition: all 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {\n  display: none;\n  position: absolute;\n  left: 50%;\n  top: -24px;\n  padding: 5px 8px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  white-space: nowrap;\n  transform: translateX(-50%);\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {\n  position: absolute;\n  background: #fff;\n  pointer-events: none;\n  display: none;\n  background-size: 16000px 100%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {\n  position: absolute;\n  left: 0px;\n  top: -20px;\n  border-radius: 4px;\n  padding: 5px 7px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n  word-wrap: normal;\n  word-break: normal;\n  z-index: 2;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar {\n  position: relative;\n  height: 3px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  height: 3px;\n  transition: all 0.5s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  height: 3px;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons {\n  height: 38px;\n  position: absolute;\n  bottom: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box {\n  display: none;\n  position: absolute;\n  transition: all 0.3s ease-in-out;\n  z-index: 2;\n  height: 38px;\n  bottom: 0;\n  left: 20px;\n  right: 20px;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {\n  position: absolute;\n  background: rgba(28, 28, 28, 0.9);\n  bottom: 41px;\n  left: 0;\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  padding: 10px 10px 16px;\n  font-size: 14px;\n  width: 204px;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {\n  font-size: 13px;\n  color: #fff;\n  line-height: 30px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {\n  margin-bottom: 6px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {\n  border-radius: 4px 0 0 4px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {\n  border-radius: 0 4px 4px 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {\n  width: 33%;\n  padding: 4px 6px;\n  line-height: 16px;\n  display: inline-block;\n  font-size: 12px;\n  color: #fff;\n  border: 1px solid #fff;\n  margin-right: -1px;\n  box-sizing: border-box;\n  text-align: center;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {\n  background: #E4E4E6;\n  color: #1c1c1c;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {\n  font-size: 0;\n  padding: 6px;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {\n  width: 22px;\n  height: 22px;\n  display: inline-block;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {\n  outline: none;\n  border: none;\n  padding: 8px 31px;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  border-radius: 4px;\n  background: none;\n  margin: 0;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100%;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder {\n  color: #fff;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {\n  color: #fff;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right {\n  right: 20px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {\n  padding: 8px;\n}\n.dplayer-controller .dplayer-icons .dplayer-time,\n.dplayer-controller .dplayer-icons .dplayer-live-badge {\n  line-height: 38px;\n  color: #eee;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n  vertical-align: middle;\n  font-size: 13px;\n  cursor: default;\n}\n.dplayer-controller .dplayer-icons .dplayer-live-dot {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  vertical-align: 4%;\n  margin-right: 5px;\n  content: '';\n  border-radius: 6px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon {\n  width: 40px;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  vertical-align: middle;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {\n  transition: all 0.2s ease-in-out;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {\n  opacity: 1;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {\n  color: #fff;\n  width: auto;\n  line-height: 22px;\n  font-size: 14px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {\n  padding: 10px 9px 9px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {\n  padding-top: 8.5px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {\n  width: 43px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {\n  display: inline-block;\n  margin: 0 10px 0 -5px;\n  vertical-align: middle;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  position: relative;\n  top: 17px;\n  width: 0;\n  height: 3px;\n  background: #aaa;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: -moz-fit-content;\n  width: fit-content;\n  max-width: 240px;\n  min-width: 120px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: auto;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: 150px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {\n  width: 70px;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {\n  padding: 5px 0;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {\n  padding: 0 10px;\n  display: inline;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {\n  padding: 0 10px;\n  box-sizing: border-box;\n  display: none;\n  vertical-align: middle;\n  height: 100%;\n  width: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {\n  position: relative;\n  top: 8.5px;\n  width: 100%;\n  height: 3px;\n  background: #fff;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  background: #aaa;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  background: #aaa;\n}\n.dplayer-controller .dplayer-icons .dplayer-full {\n  display: inline-block;\n  height: 100%;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: absolute;\n  top: -30px;\n  z-index: 1;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {\n  display: none;\n  position: absolute;\n  bottom: 38px;\n  left: -18px;\n  width: 80px;\n  padding-bottom: 12px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {\n  display: none;\n  font-size: 12px;\n  width: 80px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 5px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {\n  height: 25px;\n  box-sizing: border-box;\n  cursor: pointer;\n  line-height: 25px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-comment {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-label {\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle {\n  width: 32px;\n  height: 20px;\n  text-align: center;\n  font-size: 0;\n  vertical-align: middle;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input {\n  max-height: 0;\n  max-width: 0;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label {\n  display: inline-block;\n  position: relative;\n  box-shadow: #dfdfdf 0 0 0 0 inset;\n  border: 1px solid #dfdfdf;\n  height: 20px;\n  width: 32px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {\n  content: \"\";\n  position: absolute;\n  display: block;\n  height: 18px;\n  width: 18px;\n  top: 0;\n  left: 0;\n  border-radius: 15px;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {\n  content: \"\";\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  border-radius: 15px;\n  background: #fff;\n  transition: 0.2s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n  height: 18px;\n  width: 18px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {\n  width: 30px;\n  background: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {\n  left: 12px;\n}\n.dplayer-mobile-play {\n  display: none;\n  width: 50px;\n  height: 50px;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  bottom: 0;\n  opacity: 0.8;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.dplayer-danmaku {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n}\n.dplayer-danmaku .dplayer-danmaku-item {\n  display: inline-block;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  cursor: default;\n  white-space: nowrap;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n}\n.dplayer-danmaku .dplayer-danmaku-item--demo {\n  position: absolute;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-right {\n  position: absolute;\n  right: 0;\n  transform: translateX(100%);\n}\n.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {\n  will-change: transform;\n  animation-name: 'danmaku';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku {\n  from {\n    transform: translateX(100%);\n  }\n}\n.dplayer-danmaku .dplayer-danmaku-top,\n.dplayer-danmaku .dplayer-danmaku-bottom {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,\n.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {\n  will-change: visibility;\n  animation-name: 'danmaku-center';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku-center {\n  from {\n    visibility: visible;\n  }\n  to {\n    visibility: visible;\n  }\n}\n.dplayer-logo {\n  pointer-events: none;\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  max-width: 50px;\n  max-height: 50px;\n}\n.dplayer-logo img {\n  max-width: 100%;\n  max-height: 100%;\n  background: none;\n}\n.dplayer-menu {\n  position: absolute;\n  width: 170px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.85);\n  padding: 5px 0;\n  overflow: hidden;\n  z-index: 3;\n  display: none;\n}\n.dplayer-menu.dplayer-menu-show {\n  display: block;\n}\n.dplayer-menu .dplayer-menu-item {\n  height: 30px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-menu .dplayer-menu-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-menu .dplayer-menu-item a {\n  padding: 0 10px;\n  line-height: 30px;\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n  box-sizing: border-box;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-menu .dplayer-menu-item a:hover {\n  text-decoration: none;\n}\n.dplayer-notice-list {\n  position: absolute;\n  bottom: 60px;\n  left: 20px;\n}\n.dplayer-notice-list .dplayer-notice {\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  display: table;\n  pointer-events: none;\n  animation: showNotice 0.3s ease 1 forwards;\n}\n.dplayer-notice-list .remove-notice {\n  animation: removeNotice 0.3s ease 1 forwards;\n}\n@keyframes showNotice {\n  from {\n    padding: 0;\n    font-size: 0;\n    margin-top: 0;\n  }\n  to {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n}\n@keyframes removeNotice {\n  0% {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n  20% {\n    font-size: 12px;\n  }\n  21% {\n    font-size: 0;\n    padding: 7px 10px;\n  }\n  100% {\n    padding: 0;\n    margin-top: 0;\n    font-size: 0;\n  }\n}\n.dplayer-subtitle {\n  position: absolute;\n  bottom: 40px;\n  width: 90%;\n  left: 5%;\n  text-align: center;\n  color: #fff;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n  font-size: 20px;\n}\n.dplayer-subtitle.dplayer-subtitle-hide {\n  display: none;\n}\n.dplayer-mask {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  display: none;\n}\n.dplayer-mask.dplayer-mask-show {\n  display: block;\n}\n.dplayer-video-wrap {\n  position: relative;\n  background: #000;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n}\n.dplayer-video-wrap .dplayer-video {\n  width: 100%;\n  height: 100%;\n  display: none;\n}\n.dplayer-video-wrap .dplayer-video-current {\n  display: block;\n}\n.dplayer-video-wrap .dplayer-video-prepare {\n  display: none;\n}\n.dplayer-info-panel {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 400px;\n  background: rgba(28, 28, 28, 0.8);\n  padding: 10px;\n  color: #fff;\n  font-size: 12px;\n  border-radius: 2px;\n}\n.dplayer-info-panel-hide {\n  display: none;\n}\n.dplayer-info-panel .dplayer-info-panel-close {\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item > span {\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-info-panel .dplayer-info-panel-item-title {\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item-data {\n  width: 260px;\n}\n","",{version:3,sources:["webpack://./src/css/global.less","webpack://./src/css/index.less","webpack://./src/css/player.less","webpack://./src/css/balloon.less","webpack://./src/css/bezel.less","webpack://./src/css/notice.less","webpack://./src/css/controller.less","webpack://./src/css/danmaku.less","webpack://./src/css/logo.less","webpack://./src/css/menu.less","webpack://./src/css/subtitle.less","webpack://./src/css/video.less","webpack://./src/css/info-panel.less"],names:[],mappings:"AAAA;EACI;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,6CAAA;ECEN;EDAE;IACI,8CAAA;ECEN;EDAE;IACI,+CAAA;ECEN;EDAE;;IAEI,uCAAA;ECEN;AACF;ACzJA;EACI,kBAAA;EACA,gBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,cAAA;AD2JJ;AC/JA;EAOQ,uBAAA;AD2JR;AClKA;EAWQ,WAAA;EACA,YAAA;AD0JR;ACtKA;;EAgBY,UAAA;AD0JZ;ACtJI;EACI,WAAA;EACA,YAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,0BAAA;ADwJR;ACpJI;;;EAKY,aAAA;ADoJhB;ACzJI;EAUQ,aAAA;ADkJZ;AC5JI;EAcQ,aAAA;ADiJZ;AC7II;EAEQ,aAAA;AD8IZ;AChJI;EAKQ,aAAA;AD8IZ;ACnJI;EAQQ,aAAA;AD8IZ;ACtJI;EAWQ,aAAA;AD8IZ;AC3IQ;EAEQ,aAAA;AD4IhB;ACvII;EAEQ,eAAA;ADwIZ;AC1II;EAKQ,cAAA;ADwIZ;ACpII;EAEQ,6BAAA;ADqIZ;AClIQ;EAAA;IAEQ,UAAA;EDoId;ECtIM;IAKQ,UAAA;EDoId;ECjIU;IAEQ,UAAA;EDkIlB;ECpIU;IAKQ,UAAA;EDkIlB;AACF;AC7HI;EAEQ,cAAA;AD8HZ;AC1HI;;;;EAIQ,4BAAA;AD4HZ;ACxHI;EACI,YAAA;AD0HR;AC3HI;EAIQ,UAAA;EACA,2BAAA;AD0HZ;AC/HI;EAQQ,UAAA;EACA,2BAAA;AD0HZ;ACvHI;EAEQ,UAAA;ADwHZ;AC1HI;EAKQ,UAAA;ADwHZ;ACrHI;EAKI,sBAAA;EACA,uBAAA;ADuHR;AC7HI;EACI,eAAA;EACA,eAAA;EACA,OAAA;EACA,MAAA;ADyHR;ACrHI;;;;;EAOY,aAAA;ADqHhB;AC5HI;EAUY,gBAAA;EACA,qBAAA;ADqHhB;AChII;EAgBQ,aAAA;ADmHZ;AChHQ;EAEQ,aAAA;ADiHhB;ACtII;EA0BQ,cAAA;AD+GZ;ACzGA;EACI,eAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;AD2GJ;AElSA;EACI,aAAA;AFoSJ;AEjSA;EACI,oBAAA;EACA,iCAAA;AFmSJ;AEhSA;EACI,gBAAA;AFkSJ;AG9SA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;EACA,oBAAA;AHgTJ;AGxTA;EAUQ,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;EACA,8BAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AHiTR;AGhTQ;EACI,iCAAA;AHkTZ;AGhTQ;EACI;IACI,UAAA;IACA,mBAAA;EHkTd;EGhTU;IACI,UAAA;IACA,mBAAA;EHkTd;AACF;AGnVA;EAqCQ,kBAAA;EACA,QAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,0CAAA;AHiTR;AG7VA;EA+CQ,aAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,uBAAA;EACA,YAAA;EACA,WAAA;EACA,oBAAA;AHiTR;AGvWA;EAwDY,aAAA;AHkTZ;AG1WA;EA2DY,uDAAA;EACA,UAAA;EACA,yBAAA;AHkTZ;AI/WC;EDgEmB,qBAAA;AHkTpB;AIlXC;EDgEmB,qBAAA;AHqTpB;AIrXC;EDgEmB,qBAAA;AHwTpB;AIxXC;EDgEmB,qBAAA;AH2TpB;AI3XC;EDgEmB,qBAAA;AH8TpB;AI9XC;EDgEmB,qBAAA;AHiUpB;AIjYC;EDgEmB,qBAAA;AHoUpB;AGhUQ;EACI;IACI,YAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,0BAAA;EHkUd;EGhUU;IACI,aAAA;IACA,4BAAA;EHkUd;AACF;AKlZA;EACI,mEAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,SAAA;EACA,yBAAA;ALoZJ;AKjZA;EACI,kBAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,yBAAA;ALmZJ;AKlZI;EAEQ,aAAA;ALmZZ;AKrZI;EAKQ,cAAA;ALmZZ;AKjaA;EAkBQ,cAAA;EACA,eAAA;EACA,kBAAA;EACA,YAAA;EACA,wBAAA;EACA,WAAA;ALkZR;AKjZQ;EAEQ,mBAAA;ALkZhB;AKpZQ;EAKQ,cAAA;EACA,UAAA;EACA,2BAAA;EACA,QAAA;EACA,WAAA;ALkZhB;AKnbA;EAqCY,WAAA;EACA,kBAAA;EACA,QAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,2BAAA;EACA,gCAAA;ALiZZ;AKhZY;EAEQ,cAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AK/YgB;EACI,UAAA;ALiZpB;AKxcA;EA2DgB,aAAA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,mBAAA;EACA,2BAAA;ALgZhB;AKrdA;EAyEY,kBAAA;EACA,gBAAA;EACA,oBAAA;EACA,aAAA;EACA,6BAAA;AL+YZ;AK5dA;EAgFY,kBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,oBAAA;AL+YZ;AKneA;EA0FY,kBAAA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,gBAAA;EACA,qCAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;EACA,UAAA;EACA,oCAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;AL4YZ;AK7ZY;EACI,UAAA;AL+ZhB;AKvfA;EA2GY,kBAAA;EACA,WAAA;EACA,WAAA;EACA,oCAAA;EACA,eAAA;AL+YZ;AK9fA;EAiHgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,oCAAA;EACA,WAAA;EACA,yBAAA;EACA,kBAAA;ALgZhB;AKxgBA;EA2HgB,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,WAAA;EACA,kBAAA;ALgZhB;AKhhBA;EAkIoB,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALiZpB;AK7hBA;EAkJQ,YAAA;EACA,kBAAA;EACA,SAAA;AL8YR;AK7YQ;EACI,aAAA;EACA,kBAAA;EACA,gCAAA;EACA,UAAA;EACA,YAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;AL+YZ;AKxZQ;EAWQ,YAAA;ALgZhB;AK3ZQ;EAcQ,kBAAA;EACA,OAAA;EACA,MAAA;ALgZhB;AKhaQ;EAmBQ,kBAAA;EACA,QAAA;EACA,MAAA;ALgZhB;AKraQ;EAwBQ,kBAAA;EACA,iCAAA;EACA,YAAA;EACA,OAAA;EACA,uCAAA;EACA,kBAAA;EACA,uBAAA;EACA,eAAA;EACA,YAAA;EACA,gCAAA;EACA,mBAAA;ALgZhB;AK/YgB;EACI,mBAAA;ALiZpB;AKrbQ;EAuCY,aAAA;ALiZpB;AKxbQ;EA0CY,eAAA;ALiZpB;AK3bQ;EA6CY,eAAA;EACA,WAAA;EACA,iBAAA;ALiZpB;AKhcQ;EAkDY,YAAA;ALiZpB;AKncQ;EAoDgB,kBAAA;ALkZxB;AK/YwB;EAEQ,0BAAA;ALgZhC;AK7YwB;EAEQ,0BAAA;AL8YhC;AK5cQ;EAmEgB,UAAA;EACA,gBAAA;EACA,iBAAA;EACA,qBAAA;EACA,eAAA;EACA,WAAA;EACA,sBAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,eAAA;AL4YxB;AKzdQ;EAgFgB,mBAAA;EACA,cAAA;AL4YxB;AK7dQ;EAqFY,YAAA;AL2YpB;AKheQ;EAuFgB,YAAA;EACA,YAAA;EACA,qBAAA;AL4YxB;AKreQ;EA4FgB,WAAA;EACA,YAAA;EACA,qBAAA;EACA,kBAAA;EACA,sBAAA;EACA,eAAA;AL4YxB;AK3YwB;EACI,0CAAA;AL6Y5B;AKhfQ;EAyGQ,aAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,kBAAA;EACA,gBAAA;EACA,SAAA;EACA,YAAA;EACA,sBAAA;EACA,WAAA;EACA,WAAA;AL0YhB;AKzYgB;EACI,WAAA;EACA,YAAA;AL2YpB;AK7YgB;EACI,WAAA;EACA,YAAA;AL2YpB;AKzYgB;EACI,aAAA;AL2YpB;AKvYQ;EAEQ,YAAA;ALwYhB;AKrYQ;EACI,WAAA;ALuYZ;AKxYQ;EAGQ,YAAA;ALwYhB;AKpqBA;;EAiSY,iBAAA;EACA,WAAA;EACA,uCAAA;EACA,sBAAA;EACA,eAAA;EACA,eAAA;ALuYZ;AK7qBA;EAySY,qBAAA;EACA,UAAA;EACA,WAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,kBAAA;ALuYZ;AKtrBA;EAkTY,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EACA,sBAAA;EACA,qBAAA;ALuYZ;AKjsBA;EA4TgB,gCAAA;EACA,YAAA;ALwYhB;AKtYY;EAEQ,UAAA;ALuYpB;AKpYY;EACI,WAAA;EACA,WAAA;EACA,iBAAA;EACA,eAAA;ALsYhB;AKpYY;EACI,qBAAA;ALsYhB;AKpYY;EACI,kBAAA;ALsYhB;AKpYY;EACI,WAAA;ALsYhB;AKvtBA;EAqVY,kBAAA;EACA,qBAAA;EACA,eAAA;EACA,YAAA;ALqYZ;AKpYY;EAEQ,WAAA;ALqYpB;AKvYY;EAKQ,mBAAA;ALqYpB;AKlYY;EAEQ,WAAA;ALmYpB;AKrYY;EAKQ,mBAAA;ALmYpB;AKzuBA;EA0WgB,qBAAA;EACA,qBAAA;EACA,sBAAA;EACA,YAAA;ALkYhB;AK/uBA;EA+WoB,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;ALmYpB;AKvvBA;EAsXwB,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,kBAAA;ALoYxB;AK/vBA;EA6X4B,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,mBAAA;ALqY5B;AK5wBA;EA8YY,qBAAA;EACA,YAAA;ALiYZ;AKhxBA;EAkZY,qBAAA;EACA,YAAA;ALiYZ;AKpxBA;EAqZgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,uBAAA;EAAA,kBAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,cAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,cAAA;ALmYpB;AKjYgB;EACI,mBAAA;ALmYpB;AKzyBA;EA0agB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALkYhB;AKjYgB;EACI,0CAAA;ALmYpB;AKnzBA;EAqbY,qBAAA;EACA,YAAA;ALiYZ;AKvzBA;EAwbgB,kBAAA;EACA,QAAA;EACA,YAAA;EACA,mBAAA;EACA,YAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,UAAA;ALkYhB;AKjYgB;EACI,aAAA;ALmYpB;AKlYoB;EACI,cAAA;ALoYxB;AKjYgB;EACI,mBAAA;ALmYpB;AKjYgB;EACI,WAAA;EACA,kBAAA;ALmYpB;AKjYgB;EAEQ,aAAA;ALkYxB;AKpYgB;EAKQ,cAAA;ALkYxB;AKv1BA;;EA2dgB,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,eAAA;EACA,kBAAA;ALgYhB;AK/XgB;;EACI,0CAAA;ALkYpB;AKn2BA;EAqegB,cAAA;ALiYhB;AKt2BA;EAueoB,eAAA;EACA,eAAA;ALkYpB;AKhYgB;EAEQ,aAAA;ALiYxB;AKnYgB;EAKQ,qBAAA;ALiYxB;AK9XgB;EAEQ,aAAA;AL+XxB;AKjYgB;EAKQ,qBAAA;AL+XxB;AKt3BA;EA2foB,eAAA;EACA,sBAAA;EACA,aAAA;EACA,sBAAA;EACA,YAAA;EACA,WAAA;AL8XpB;AK93BA;EAkgBwB,kBAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;EACA,gBAAA;EACA,gCAAA;AL+XxB;AKt4BA;EAygB4B,kBAAA;EACA,SAAA;EACA,OAAA;EACA,YAAA;EACA,yBAAA;EACA,gBAAA;EACA,kBAAA;ALgY5B;AK/4BA;EAihBgC,kBAAA;EACA,MAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;EACA,gCAAA;EACA,gBAAA;ALiYhC;AK55BA;EAmiBY,qBAAA;EACA,YAAA;EACA,kBAAA;AL4XZ;AK3XY;EAEQ,cAAA;AL4XpB;AKp6BA;EA4iBgB,kBAAA;EACA,UAAA;EACA,UAAA;EACA,aAAA;AL2XhB;AK16BA;EAmjBY,kBAAA;EACA,qBAAA;EACA,YAAA;EACA,UAAA;AL0XZ;AKzXY;EAEQ,cAAA;AL0XpB;AK5XY;EAKQ,cAAA;AL0XpB;AKt7BA;EAgkBgB,aAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,WAAA;EACA,oBAAA;ALyXhB;AK97BA;EAwkBgB,aAAA;EACA,eAAA;EACA,WAAA;EACA,kBAAA;EACA,iCAAA;EACA,cAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,kBAAA;ALyXhB;AK18BA;EAolBgB,YAAA;EACA,sBAAA;EACA,eAAA;EACA,iBAAA;ALyXhB;AKxXgB;EACI,0CAAA;AL0XpB;AKn9BA;EA8lBY,qBAAA;EACA,YAAA;ALwXZ;AKv9BA;EAkmBY,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,mBAAA;ALwXZ;AK99BA;EAymBY,WAAA;EACA,YAAA;EACA,kBAAA;EACA,YAAA;EACA,sBAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;ALwXZ;AKx+BA;EAknBgB,aAAA;EACA,YAAA;EACA,aAAA;ALyXhB;AK7+BA;EAunBgB,qBAAA;EACA,kBAAA;EACA,iCAAA;EACA,yBAAA;EACA,YAAA;EACA,WAAA;EACA,mBAAA;EACA,sBAAA;EACA,eAAA;EACA,4BAAA;ALyXhB;AKz/BA;EAmoBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,YAAA;EACA,WAAA;EACA,MAAA;EACA,OAAA;EACA,mBAAA;EACA,4BAAA;ALyXhB;AKpgCA;EA8oBgB,WAAA;EACA,kBAAA;EACA,cAAA;EACA,OAAA;EACA,MAAA;EACA,mBAAA;EACA,gBAAA;EACA,4BAAA;EACA,wCAAA;EACA,YAAA;EACA,WAAA;ALyXhB;AKjhCA;EA2pBgB,sCAAA;ALyXhB;AKphCA;EA8pBgB,WAAA;EACA,oCAAA;ALyXhB;AKxhCA;EAkqBgB,UAAA;ALyXhB;AKnXA;EACI,aAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;EACA,sBAAA;EAEA,SAAA;EACA,YAAA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,gCAAA;ALoXJ;AMpjCA;EACI,kBAAA;EACA,OAAA;EACA,QAAA;EACA,MAAA;EACA,SAAA;EACA,eAAA;EACA,WAAA;ANsjCJ;AM7jCA;EASQ,qBAAA;EACA,oBAAA;EACA,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,eAAA;EACA,mBAAA;EACA,iDAAA;ANujCR;AMtjCQ;EACI,kBAAA;EACA,kBAAA;ANwjCZ;AMzkCA;EAqBQ,kBAAA;EACA,QAAA;EACA,2BAAA;ANujCR;AMtjCQ;EACI,sBAAA;EACA,yBAAA;EACA,iCAAA;EACA,4BAAA;ANwjCZ;AMrjCI;EACI;IACI,2BAAA;ENujCV;AACF;AMzlCA;;EAsCQ,kBAAA;EACA,WAAA;EACA,kBAAA;EACA,kBAAA;ANujCR;AMtjCQ;;EACI,uBAAA;EACA,gCAAA;EACA,iCAAA;EACA,4BAAA;ANyjCZ;AMtjCI;EACI;IACI,mBAAA;ENwjCV;EMtjCM;IACI,mBAAA;ENwjCV;AACF;AO/mCA;EACI,oBAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,eAAA;EACA,gBAAA;APinCJ;AOvnCA;EAQQ,eAAA;EACA,gBAAA;EACA,gBAAA;APknCR;AQ5nCA;EACI,kBAAA;EACA,YAAA;EACA,kBAAA;EACA,kCAAA;EACA,cAAA;EACA,gBAAA;EACA,UAAA;EACA,aAAA;AR8nCJ;AQ7nCI;EACI,cAAA;AR+nCR;AQzoCA;EAaQ,YAAA;EACA,sBAAA;EACA,eAAA;AR+nCR;AQ9nCQ;EACI,0CAAA;ARgoCZ;AQjpCA;EAqBY,eAAA;EACA,iBAAA;EACA,WAAA;EACA,eAAA;EACA,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,sBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AR+nCZ;AQ9nCY;EACI,qBAAA;ARgoChB;AIjqCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;AJmqCJ;AItqCA;EAMQ,kBAAA;EACA,iCAAA;EACA,gCAAA;EACA,gBAAA;EACA,WAAA;EACA,cAAA;EACA,oBAAA;EACA,0CAAA;AJmqCR;AIhrCA;EAiBQ,4CAAA;AJkqCR;AI9pCA;EACI;IACI,UAAA;IACA,YAAA;IACA,aAAA;EJgqCN;EI9pCE;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJgqCN;AACF;AI7pCA;EACI;IACI,iBAAA;IACA,eAAA;IACA,eAAA;EJ+pCN;EI7pCE;IACI,eAAA;EJ+pCN;EI7pCE;IACI,YAAA;IACA,iBAAA;EJ+pCN;EI7pCE;IACI,UAAA;IACA,aAAA;IACA,YAAA;EJ+pCN;AACF;ASltCA;EACI,kBAAA;EACA,YAAA;EACA,UAAA;EACA,QAAA;EACA,kBAAA;EACA,WAAA;EACA,iDAAA;EACA,eAAA;ATotCJ;ASntCI;EACI,aAAA;ATqtCR;AU/tCA;EACI,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,UAAA;EACA,aAAA;AViuCJ;AUhuCI;EACI,cAAA;AVkuCR;AU9tCA;EACI,kBAAA;EACA,gBAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;AVguCJ;AUruCA;EAOQ,WAAA;EACA,YAAA;EACA,aAAA;AViuCR;AU1uCA;EAYQ,cAAA;AViuCR;AU7uCA;EAeQ,aAAA;AViuCR;AW7vCA;EACI,kBAAA;EACA,SAAA;EACA,UAAA;EACA,YAAA;EACA,iCAAA;EACA,aAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;AX+vCJ;AW7vCI;EACI,aAAA;AX+vCR;AW3wCA;EAgBQ,eAAA;EACA,kBAAA;EACA,WAAA;EACA,SAAA;AX8vCR;AW1vCQ;EACI,qBAAA;EACA,sBAAA;EACA,iBAAA;EACA,mBAAA;EACA,uBAAA;EACA,gBAAA;AX4vCZ;AWzxCA;EAkCQ,YAAA;EACA,iBAAA;EACA,kBAAA;AX0vCR;AW9xCA;EAwCQ,YAAA;AXyvCR",sourcesContent:["@keyframes my-face {\n    2% {\n        transform: translate(0, 1.5px) rotate(1.5deg);\n    }\n    4% {\n        transform: translate(0, -1.5px) rotate(-0.5deg);\n    }\n    6% {\n        transform: translate(0, 1.5px) rotate(-1.5deg);\n    }\n    8% {\n        transform: translate(0, -1.5px) rotate(-1.5deg);\n    }\n    10% {\n        transform: translate(0, 2.5px) rotate(1.5deg);\n    }\n    12% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    14% {\n        transform: translate(0, -1.5px) rotate(1.5deg);\n    }\n    16% {\n        transform: translate(0, -0.5px) rotate(-1.5deg);\n    }\n    18% {\n        transform: translate(0, 0.5px) rotate(-1.5deg);\n    }\n    20% {\n        transform: translate(0, -1.5px) rotate(2.5deg);\n    }\n    22% {\n        transform: translate(0, 0.5px) rotate(-1.5deg);\n    }\n    24% {\n        transform: translate(0, 1.5px) rotate(1.5deg);\n    }\n    26% {\n        transform: translate(0, 0.5px) rotate(0.5deg);\n    }\n    28% {\n        transform: translate(0, 0.5px) rotate(1.5deg);\n    }\n    30% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    32% {\n        transform: translate(0, 1.5px) rotate(-0.5deg);\n    }\n    34% {\n        transform: translate(0, 1.5px) rotate(-0.5deg);\n    }\n    36% {\n        transform: translate(0, -1.5px) rotate(2.5deg);\n    }\n    38% {\n        transform: translate(0, 1.5px) rotate(-1.5deg);\n    }\n    40% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    42% {\n        transform: translate(0, 2.5px) rotate(-1.5deg);\n    }\n    44% {\n        transform: translate(0, 1.5px) rotate(0.5deg);\n    }\n    46% {\n        transform: translate(0, -1.5px) rotate(2.5deg);\n    }\n    48% {\n        transform: translate(0, -0.5px) rotate(0.5deg);\n    }\n    50% {\n        transform: translate(0, 0.5px) rotate(0.5deg);\n    }\n    52% {\n        transform: translate(0, 2.5px) rotate(2.5deg);\n    }\n    54% {\n        transform: translate(0, -1.5px) rotate(1.5deg);\n    }\n    56% {\n        transform: translate(0, 2.5px) rotate(2.5deg);\n    }\n    58% {\n        transform: translate(0, 0.5px) rotate(2.5deg);\n    }\n    60% {\n        transform: translate(0, 2.5px) rotate(2.5deg);\n    }\n    62% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    64% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    66% {\n        transform: translate(0, 1.5px) rotate(-0.5deg);\n    }\n    68% {\n        transform: translate(0, -1.5px) rotate(-0.5deg);\n    }\n    70% {\n        transform: translate(0, 1.5px) rotate(0.5deg);\n    }\n    72% {\n        transform: translate(0, 2.5px) rotate(1.5deg);\n    }\n    74% {\n        transform: translate(0, -0.5px) rotate(0.5deg);\n    }\n    76% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    78% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    80% {\n        transform: translate(0, 1.5px) rotate(1.5deg);\n    }\n    82% {\n        transform: translate(0, -0.5px) rotate(0.5deg);\n    }\n    84% {\n        transform: translate(0, 1.5px) rotate(2.5deg);\n    }\n    86% {\n        transform: translate(0, -1.5px) rotate(-1.5deg);\n    }\n    88% {\n        transform: translate(0, -0.5px) rotate(2.5deg);\n    }\n    90% {\n        transform: translate(0, 2.5px) rotate(-0.5deg);\n    }\n    92% {\n        transform: translate(0, 0.5px) rotate(-0.5deg);\n    }\n    94% {\n        transform: translate(0, 2.5px) rotate(0.5deg);\n    }\n    96% {\n        transform: translate(0, -0.5px) rotate(1.5deg);\n    }\n    98% {\n        transform: translate(0, -1.5px) rotate(-0.5deg);\n    }\n    0%,\n    100% {\n        transform: translate(0, 0) rotate(0deg);\n    }\n}","@import '../../node_modules/balloon-css/balloon.css';\n@keyframes my-face {\n  2% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  4% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  6% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  8% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  10% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  12% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  14% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  16% {\n    transform: translate(0, -0.5px) rotate(-1.5deg);\n  }\n  18% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  20% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  22% {\n    transform: translate(0, 0.5px) rotate(-1.5deg);\n  }\n  24% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  26% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  28% {\n    transform: translate(0, 0.5px) rotate(1.5deg);\n  }\n  30% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  32% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  34% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  36% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  38% {\n    transform: translate(0, 1.5px) rotate(-1.5deg);\n  }\n  40% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  42% {\n    transform: translate(0, 2.5px) rotate(-1.5deg);\n  }\n  44% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  46% {\n    transform: translate(0, -1.5px) rotate(2.5deg);\n  }\n  48% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  50% {\n    transform: translate(0, 0.5px) rotate(0.5deg);\n  }\n  52% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  54% {\n    transform: translate(0, -1.5px) rotate(1.5deg);\n  }\n  56% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  58% {\n    transform: translate(0, 0.5px) rotate(2.5deg);\n  }\n  60% {\n    transform: translate(0, 2.5px) rotate(2.5deg);\n  }\n  62% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  64% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  66% {\n    transform: translate(0, 1.5px) rotate(-0.5deg);\n  }\n  68% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  70% {\n    transform: translate(0, 1.5px) rotate(0.5deg);\n  }\n  72% {\n    transform: translate(0, 2.5px) rotate(1.5deg);\n  }\n  74% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  76% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  78% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  80% {\n    transform: translate(0, 1.5px) rotate(1.5deg);\n  }\n  82% {\n    transform: translate(0, -0.5px) rotate(0.5deg);\n  }\n  84% {\n    transform: translate(0, 1.5px) rotate(2.5deg);\n  }\n  86% {\n    transform: translate(0, -1.5px) rotate(-1.5deg);\n  }\n  88% {\n    transform: translate(0, -0.5px) rotate(2.5deg);\n  }\n  90% {\n    transform: translate(0, 2.5px) rotate(-0.5deg);\n  }\n  92% {\n    transform: translate(0, 0.5px) rotate(-0.5deg);\n  }\n  94% {\n    transform: translate(0, 2.5px) rotate(0.5deg);\n  }\n  96% {\n    transform: translate(0, -0.5px) rotate(1.5deg);\n  }\n  98% {\n    transform: translate(0, -1.5px) rotate(-0.5deg);\n  }\n  0%,\n  100% {\n    transform: translate(0, 0) rotate(0deg);\n  }\n}\n.dplayer {\n  position: relative;\n  overflow: hidden;\n  user-select: none;\n  line-height: 1;\n}\n.dplayer * {\n  box-sizing: content-box;\n}\n.dplayer svg {\n  width: 100%;\n  height: 100%;\n}\n.dplayer svg path,\n.dplayer svg circle {\n  fill: #fff;\n}\n.dplayer:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  transform: translate(0, 0);\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment {\n  display: none;\n}\n.dplayer.dplayer-no-danmaku .dplayer-danmaku {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-time {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-bar-wrap {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-speed {\n  display: none;\n}\n.dplayer.dplayer-live .dplayer-setting-loop {\n  display: none;\n}\n.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting {\n  display: none;\n}\n.dplayer.dplayer-arrow .dplayer-danmaku {\n  font-size: 18px;\n}\n.dplayer.dplayer-arrow .dplayer-icon {\n  margin: 0 -3px;\n}\n.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move {\n  animation-play-state: running;\n}\n@media (min-width: 900px) {\n  .dplayer.dplayer-playing .dplayer-controller-mask {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing .dplayer-controller {\n    opacity: 0;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller-mask {\n    opacity: 1;\n  }\n  .dplayer.dplayer-playing:hover .dplayer-controller {\n    opacity: 1;\n  }\n}\n.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon {\n  display: block;\n}\n.dplayer.dplayer-loading .dplayer-danmaku,\n.dplayer.dplayer-paused .dplayer-danmaku,\n.dplayer.dplayer-loading .dplayer-danmaku-move,\n.dplayer.dplayer-paused .dplayer-danmaku-move {\n  animation-play-state: paused;\n}\n.dplayer.dplayer-hide-controller {\n  cursor: none;\n}\n.dplayer.dplayer-hide-controller .dplayer-controller-mask {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-hide-controller .dplayer-controller {\n  opacity: 0;\n  transform: translateY(100%);\n}\n.dplayer.dplayer-show-controller .dplayer-controller-mask {\n  opacity: 1;\n}\n.dplayer.dplayer-show-controller .dplayer-controller {\n  opacity: 1;\n}\n.dplayer.dplayer-fulled {\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  width: 100% !important;\n  height: 100% !important;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-chromecast-icon,\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: static;\n  display: inline-block;\n}\n.dplayer.dplayer-mobile .dplayer-bar-time {\n  display: none;\n}\n.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play {\n  display: none;\n}\n.dplayer.dplayer-mobile .dplayer-mobile-play {\n  display: block;\n}\n.dplayer-web-fullscreen-fix {\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n}\n[data-balloon]:before {\n  display: none;\n}\n[data-balloon]:after {\n  padding: 0.3em 0.7em;\n  background: rgba(17, 17, 17, 0.7);\n}\n[data-balloon][data-balloon-pos=\"up\"]:after {\n  margin-bottom: 0;\n}\n.dplayer-bezel {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -26px 0 0 -26px;\n  height: 52px;\n  width: 52px;\n  padding: 12px;\n  box-sizing: border-box;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n  opacity: 0;\n  pointer-events: none;\n}\n.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition {\n  animation: bezel-hide 0.5s linear;\n}\n@keyframes bezel-hide {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n.dplayer-bezel .dplayer-danloading {\n  position: absolute;\n  top: 50%;\n  margin-top: -7px;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 14px;\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-bezel .diplayer-loading-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -18px 0 0 -18px;\n  height: 36px;\n  width: 36px;\n  pointer-events: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide {\n  display: none;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot {\n  animation: diplayer-loading-dot-fade 0.8s ease infinite;\n  opacity: 0;\n  transform-origin: 4px 4px;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1 {\n  animation-delay: 0.1s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2 {\n  animation-delay: 0.2s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3 {\n  animation-delay: 0.3s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4 {\n  animation-delay: 0.4s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5 {\n  animation-delay: 0.5s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6 {\n  animation-delay: 0.6s;\n}\n.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7 {\n  animation-delay: 0.7s;\n}\n@keyframes diplayer-loading-dot-fade {\n  0% {\n    opacity: 0.7;\n    transform: scale(1.2, 1.2);\n  }\n  50% {\n    opacity: 0.25;\n    transform: scale(0.9, 0.9);\n  }\n  to {\n    opacity: 0.25;\n    transform: scale(0.85, 0.85);\n  }\n}\n.dplayer-controller-mask {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;\n  height: 98px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  transition: all 0.3s ease;\n}\n.dplayer-controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 41px;\n  padding: 0 20px;\n  user-select: none;\n  transition: all 0.3s ease;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons {\n  display: none;\n}\n.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap {\n  padding: 5px 0;\n  cursor: pointer;\n  position: absolute;\n  bottom: 33px;\n  width: calc(100% - 40px);\n  height: 3px;\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight {\n  display: block;\n  width: 8px;\n  transform: translateX(-4px);\n  top: 4px;\n  height: 40%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight {\n  z-index: 12;\n  position: absolute;\n  top: 5px;\n  width: 6px;\n  height: 20%;\n  border-radius: 6px;\n  background-color: #fff;\n  text-align: center;\n  transform: translateX(-3px);\n  transition: all 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text {\n  display: block;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-preview {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover ~ .dplayer-bar-time {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text {\n  display: none;\n  position: absolute;\n  left: 50%;\n  top: -24px;\n  padding: 5px 8px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  white-space: nowrap;\n  transform: translateX(-50%);\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview {\n  position: absolute;\n  background: #fff;\n  pointer-events: none;\n  display: none;\n  background-size: 16000px 100%;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time {\n  position: absolute;\n  left: 0px;\n  top: -20px;\n  border-radius: 4px;\n  padding: 5px 7px;\n  background-color: rgba(0, 0, 0, 0.62);\n  color: #fff;\n  font-size: 12px;\n  text-align: center;\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n  word-wrap: normal;\n  word-break: normal;\n  z-index: 2;\n  pointer-events: none;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden {\n  opacity: 0;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar {\n  position: relative;\n  height: 3px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.2);\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  height: 3px;\n  transition: all 0.5s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  height: 3px;\n  will-change: width;\n}\n.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons {\n  height: 38px;\n  position: absolute;\n  bottom: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box {\n  display: none;\n  position: absolute;\n  transition: all 0.3s ease-in-out;\n  z-index: 2;\n  height: 38px;\n  bottom: 0;\n  left: 20px;\n  right: 20px;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box {\n  position: absolute;\n  background: rgba(28, 28, 28, 0.9);\n  bottom: 41px;\n  left: 0;\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  padding: 10px 10px 16px;\n  font-size: 14px;\n  width: 204px;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio] {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label {\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title {\n  font-size: 13px;\n  color: #fff;\n  line-height: 30px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title {\n  margin-bottom: 6px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span {\n  border-radius: 4px 0 0 4px;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span {\n  border-radius: 0 4px 4px 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span {\n  width: 33%;\n  padding: 4px 6px;\n  line-height: 16px;\n  display: inline-block;\n  font-size: 12px;\n  color: #fff;\n  border: 1px solid #fff;\n  margin-right: -1px;\n  box-sizing: border-box;\n  text-align: center;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked + span {\n  background: #E4E4E6;\n  color: #1c1c1c;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color {\n  font-size: 0;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label {\n  font-size: 0;\n  padding: 6px;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span {\n  width: 22px;\n  height: 22px;\n  display: inline-block;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover {\n  animation: my-face 5s infinite ease-in-out;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input {\n  outline: none;\n  border: none;\n  padding: 8px 31px;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  border-radius: 4px;\n  background: none;\n  margin: 0;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100%;\n  color: #fff;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder {\n  color: #fff;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear {\n  display: none;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon {\n  padding: 7px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right {\n  right: 20px;\n}\n.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon {\n  padding: 8px;\n}\n.dplayer-controller .dplayer-icons .dplayer-time,\n.dplayer-controller .dplayer-icons .dplayer-live-badge {\n  line-height: 38px;\n  color: #eee;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n  vertical-align: middle;\n  font-size: 13px;\n  cursor: default;\n}\n.dplayer-controller .dplayer-icons .dplayer-live-dot {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  vertical-align: 4%;\n  margin-right: 5px;\n  content: '';\n  border-radius: 6px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon {\n  width: 40px;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  vertical-align: middle;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content {\n  transition: all 0.2s ease-in-out;\n  opacity: 0.8;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content {\n  opacity: 1;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon {\n  color: #fff;\n  width: auto;\n  line-height: 22px;\n  font-size: 14px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon {\n  padding: 10px 9px 9px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon {\n  padding-top: 8.5px;\n}\n.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon {\n  width: 43px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  width: 45px;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap {\n  display: inline-block;\n  margin: 0 10px 0 -5px;\n  vertical-align: middle;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar {\n  position: relative;\n  top: 17px;\n  width: 0;\n  height: 3px;\n  background: #aaa;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  transform: scale(0);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitle-btn {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: fit-content;\n  max-width: 240px;\n  min-width: 120px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: auto;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-box.dplayer-subtitles-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-subtitles .dplayer-subtitles-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {\n  position: absolute;\n  right: 0;\n  bottom: 50px;\n  transform: scale(0);\n  width: 150px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 7px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box > div.dplayer-setting-origin-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open {\n  transform: scale(1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow {\n  width: 70px;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item {\n  height: 30px;\n  padding: 5px 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku {\n  padding: 5px 0;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label {\n  padding: 0 10px;\n  display: inline;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label {\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap {\n  display: inline-block;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap {\n  padding: 0 10px;\n  box-sizing: border-box;\n  display: none;\n  vertical-align: middle;\n  height: 100%;\n  width: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar {\n  position: relative;\n  top: 8.5px;\n  width: 100%;\n  height: 3px;\n  background: #fff;\n  transition: all 0.3s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  transition: all 0.1s ease;\n  background: #aaa;\n  will-change: width;\n}\n.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb {\n  position: absolute;\n  top: 0;\n  right: 5px;\n  margin-top: -4px;\n  margin-right: -10px;\n  height: 11px;\n  width: 11px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  background: #aaa;\n}\n.dplayer-controller .dplayer-icons .dplayer-full {\n  display: inline-block;\n  height: 100%;\n  position: relative;\n}\n.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon {\n  position: absolute;\n  top: -30px;\n  z-index: 1;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  z-index: 2;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask {\n  display: block;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask {\n  display: none;\n  position: absolute;\n  bottom: 38px;\n  left: -18px;\n  width: 80px;\n  padding-bottom: 12px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list {\n  display: none;\n  font-size: 12px;\n  width: 80px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  padding: 5px 0;\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  text-align: center;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item {\n  height: 25px;\n  box-sizing: border-box;\n  cursor: pointer;\n  line-height: 25px;\n}\n.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-controller .dplayer-icons .dplayer-comment {\n  display: inline-block;\n  height: 100%;\n}\n.dplayer-controller .dplayer-icons .dplayer-label {\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle {\n  width: 32px;\n  height: 20px;\n  text-align: center;\n  font-size: 0;\n  vertical-align: middle;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input {\n  max-height: 0;\n  max-width: 0;\n  display: none;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label {\n  display: inline-block;\n  position: relative;\n  box-shadow: #dfdfdf 0 0 0 0 inset;\n  border: 1px solid #dfdfdf;\n  height: 20px;\n  width: 32px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:before {\n  content: \"\";\n  position: absolute;\n  display: block;\n  height: 18px;\n  width: 18px;\n  top: 0;\n  left: 0;\n  border-radius: 15px;\n  transition: 0.2s ease-in-out;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input + label:after {\n  content: \"\";\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  border-radius: 15px;\n  background: #fff;\n  transition: 0.2s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n  height: 18px;\n  width: 18px;\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:before {\n  width: 30px;\n  background: rgba(255, 255, 255, 0.5);\n}\n.dplayer-controller .dplayer-icons .dplayer-toggle input:checked + label:after {\n  left: 12px;\n}\n.dplayer-mobile-play {\n  display: none;\n  width: 50px;\n  height: 50px;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  bottom: 0;\n  opacity: 0.8;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.dplayer-danmaku {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  font-size: 22px;\n  color: #fff;\n}\n.dplayer-danmaku .dplayer-danmaku-item {\n  display: inline-block;\n  pointer-events: none;\n  user-select: none;\n  cursor: default;\n  white-space: nowrap;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n}\n.dplayer-danmaku .dplayer-danmaku-item--demo {\n  position: absolute;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-right {\n  position: absolute;\n  right: 0;\n  transform: translateX(100%);\n}\n.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move {\n  will-change: transform;\n  animation-name: 'danmaku';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku {\n  from {\n    transform: translateX(100%);\n  }\n}\n.dplayer-danmaku .dplayer-danmaku-top,\n.dplayer-danmaku .dplayer-danmaku-bottom {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  visibility: hidden;\n}\n.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move,\n.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move {\n  will-change: visibility;\n  animation-name: 'danmaku-center';\n  animation-timing-function: linear;\n  animation-play-state: paused;\n}\n@keyframes danmaku-center {\n  from {\n    visibility: visible;\n  }\n  to {\n    visibility: visible;\n  }\n}\n.dplayer-logo {\n  pointer-events: none;\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  max-width: 50px;\n  max-height: 50px;\n}\n.dplayer-logo img {\n  max-width: 100%;\n  max-height: 100%;\n  background: none;\n}\n.dplayer-menu {\n  position: absolute;\n  width: 170px;\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.85);\n  padding: 5px 0;\n  overflow: hidden;\n  z-index: 3;\n  display: none;\n}\n.dplayer-menu.dplayer-menu-show {\n  display: block;\n}\n.dplayer-menu .dplayer-menu-item {\n  height: 30px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.dplayer-menu .dplayer-menu-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.dplayer-menu .dplayer-menu-item a {\n  padding: 0 10px;\n  line-height: 30px;\n  color: #eee;\n  font-size: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n  box-sizing: border-box;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-menu .dplayer-menu-item a:hover {\n  text-decoration: none;\n}\n.dplayer-notice-list {\n  position: absolute;\n  bottom: 60px;\n  left: 20px;\n}\n.dplayer-notice-list .dplayer-notice {\n  border-radius: 2px;\n  background: rgba(28, 28, 28, 0.9);\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  color: #fff;\n  display: table;\n  pointer-events: none;\n  animation: showNotice 0.3s ease 1 forwards;\n}\n.dplayer-notice-list .remove-notice {\n  animation: removeNotice 0.3s ease 1 forwards;\n}\n@keyframes showNotice {\n  from {\n    padding: 0;\n    font-size: 0;\n    margin-top: 0;\n  }\n  to {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n}\n@keyframes removeNotice {\n  0% {\n    padding: 7px 20px;\n    font-size: 14px;\n    margin-top: 5px;\n  }\n  20% {\n    font-size: 12px;\n  }\n  21% {\n    font-size: 0;\n    padding: 7px 10px;\n  }\n  100% {\n    padding: 0;\n    margin-top: 0;\n    font-size: 0;\n  }\n}\n.dplayer-subtitle {\n  position: absolute;\n  bottom: 40px;\n  width: 90%;\n  left: 5%;\n  text-align: center;\n  color: #fff;\n  text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n  font-size: 20px;\n}\n.dplayer-subtitle.dplayer-subtitle-hide {\n  display: none;\n}\n.dplayer-mask {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  display: none;\n}\n.dplayer-mask.dplayer-mask-show {\n  display: block;\n}\n.dplayer-video-wrap {\n  position: relative;\n  background: #000;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n}\n.dplayer-video-wrap .dplayer-video {\n  width: 100%;\n  height: 100%;\n  display: none;\n}\n.dplayer-video-wrap .dplayer-video-current {\n  display: block;\n}\n.dplayer-video-wrap .dplayer-video-prepare {\n  display: none;\n}\n.dplayer-info-panel {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 400px;\n  background: rgba(28, 28, 28, 0.8);\n  padding: 10px;\n  color: #fff;\n  font-size: 12px;\n  border-radius: 2px;\n}\n.dplayer-info-panel-hide {\n  display: none;\n}\n.dplayer-info-panel .dplayer-info-panel-close {\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item > span {\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.dplayer-info-panel .dplayer-info-panel-item-title {\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n.dplayer-info-panel .dplayer-info-panel-item-data {\n  width: 260px;\n}\n",".dplayer {\n    position: relative;\n    overflow: hidden;\n    user-select: none;\n    line-height: 1;\n\n    * {\n        box-sizing: content-box;\n    }\n\n    svg {\n        width: 100%;\n        height: 100%;\n\n        path,\n        circle {\n            fill: #fff;\n        }\n    }\n\n    &:-webkit-full-screen {\n        width: 100%;\n        height: 100%;\n        background: #000;\n        position: fixed;\n        z-index: 100000;\n        left: 0;\n        top: 0;\n        margin: 0;\n        padding: 0;\n        transform: translate(0, 0);\n        \n    }\n\n    &.dplayer-no-danmaku {\n        .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box {\n            .dplayer-setting-showdan,\n            .dplayer-setting-danmaku,\n            .dplayer-setting-danunlimit {\n                display: none;\n            }\n        }\n\n        .dplayer-controller .dplayer-icons .dplayer-comment {\n            display: none;\n        }\n\n        .dplayer-danmaku {\n            display: none;\n        }\n    }\n\n    &.dplayer-live {\n        .dplayer-time {\n            display: none;\n        }\n        .dplayer-bar-wrap {\n            display: none;\n        }\n        .dplayer-setting-speed {\n            display: none;\n        }\n        .dplayer-setting-loop {\n            display: none;\n        }\n\n        &.dplayer-no-danmaku {\n            .dplayer-setting {\n                display: none;\n            }\n        }\n    }\n\n    &.dplayer-arrow {\n        .dplayer-danmaku {\n            font-size: 18px;\n        }\n        .dplayer-icon {\n            margin: 0 -3px;\n        }\n    }\n\n    &.dplayer-playing {\n        .dplayer-danmaku .dplayer-danmaku-move {\n            animation-play-state: running;\n        }\n\n        @media (min-width: 900px) {\n            .dplayer-controller-mask {\n                opacity: 0;\n            }\n            .dplayer-controller {\n                opacity: 0;\n            }\n\n            &:hover {\n                .dplayer-controller-mask {\n                    opacity: 1;\n                }\n                .dplayer-controller {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    &.dplayer-loading {\n        .dplayer-bezel .diplayer-loading-icon {\n            display: block;\n        }\n    }\n\n    &.dplayer-loading,\n    &.dplayer-paused {\n        .dplayer-danmaku,\n        .dplayer-danmaku-move {\n            animation-play-state: paused;\n        }\n    }\n\n    &.dplayer-hide-controller {\n        cursor: none;\n\n        .dplayer-controller-mask {\n            opacity: 0;\n            transform: translateY(100%);\n        }\n        .dplayer-controller {\n            opacity: 0;\n            transform: translateY(100%);\n        }\n    }\n    &.dplayer-show-controller {\n        .dplayer-controller-mask {\n            opacity: 1;\n        }\n        .dplayer-controller {\n            opacity: 1;\n        }\n    }\n    &.dplayer-fulled {\n        position: fixed;\n        z-index: 100000;\n        left: 0;\n        top: 0;\n        width: 100% !important;\n        height: 100% !important;\n    }\n    &.dplayer-mobile {\n        .dplayer-controller .dplayer-icons {\n            .dplayer-volume,\n            .dplayer-camera-icon,\n            .dplayer-airplay-icon,\n            .dplayer-chromecast-icon,\n            .dplayer-play-icon {\n                display: none;\n            }\n            .dplayer-full .dplayer-full-in-icon {\n                position: static;\n                display: inline-block;\n            }\n        }\n\n        .dplayer-bar-time {\n            display: none;\n        }\n\n        &.dplayer-hide-controller {\n            .dplayer-mobile-play {\n                display: none;\n            }\n        }\n\n        .dplayer-mobile-play {\n            display: block;\n        }\n    }\n}\n\n// To hide scroll bar, apply this class to <body>\n.dplayer-web-fullscreen-fix {\n    position: fixed;\n    top: 0;\n    left: 0;\n    margin: 0;\n    padding: 0;\n}\n","@import '../../node_modules/balloon-css/balloon.css';\n\n[data-balloon]:before {\n    display: none;\n}\n\n[data-balloon]:after {\n    padding: 0.3em 0.7em;\n    background: rgba(17, 17, 17, 0.7);\n}\n\n[data-balloon][data-balloon-pos=\"up\"]:after {\n    margin-bottom: 0;\n}",".dplayer-bezel {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    font-size: 22px;\n    color: #fff;\n    pointer-events: none;\n    .dplayer-bezel-icon {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -26px 0 0 -26px;\n        height: 52px;\n        width: 52px;\n        padding: 12px;\n        box-sizing: border-box;\n        background: rgba(0, 0, 0, .5);\n        border-radius: 50%;\n        opacity: 0;\n        pointer-events: none;\n        &.dplayer-bezel-transition {\n            animation: bezel-hide .5s linear;\n        }\n        @keyframes bezel-hide {\n            from {\n                opacity: 1;\n                transform: scale(1);\n            }\n            to {\n                opacity: 0;\n                transform: scale(2);\n            }\n        }\n    }\n    .dplayer-danloading {\n        position: absolute;\n        top: 50%;\n        margin-top: -7px;\n        width: 100%;\n        text-align: center;\n        font-size: 14px;\n        line-height: 14px;\n        animation: my-face 5s infinite ease-in-out;\n    }\n    .diplayer-loading-icon {\n        display: none;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -18px 0 0 -18px;\n        height: 36px;\n        width: 36px;\n        pointer-events: none;\n        .diplayer-loading-hide {\n            display: none;\n        }\n        .diplayer-loading-dot {\n            animation: diplayer-loading-dot-fade .8s ease infinite;\n            opacity: 0;\n            transform-origin: 4px 4px;\n            each(range(7), {\n                &.diplayer-loading-dot-@{value} {\n                    animation-delay: (@value * 0.1s);\n                }\n            });\n        }\n        @keyframes diplayer-loading-dot-fade {\n            0% {\n                opacity: .7;\n                transform: scale(1.2, 1.2)\n            }\n            50% {\n                opacity: .25;\n                transform: scale(.9, .9)\n            }\n            to {\n                opacity: .25;\n                transform: scale(.85, .85)\n            }\n        }\n    }\n}",".dplayer-notice-list{\n    position: absolute;\n    bottom: 60px;\n    left: 20px;\n\n    .dplayer-notice {\n        border-radius: 2px;\n        background: rgba(28, 28, 28, 0.9);\n        transition: all .3s ease-in-out;\n        overflow: hidden;\n        color: #fff;\n        display: table;\n        pointer-events: none;\n        animation: showNotice .3s ease 1 forwards;\n    }\n\n    .remove-notice{\n        animation: removeNotice .3s ease 1 forwards;\n    }\n}\n\n@keyframes showNotice {\n    from {\n        padding: 0;\n        font-size: 0;\n        margin-top: 0;\n    }\n    to {\n        padding: 7px 20px;\n        font-size: 14px;\n        margin-top: 5px;\n    }\n}\n\n@keyframes removeNotice {\n    0%{\n        padding: 7px 20px;\n        font-size: 14px;\n        margin-top: 5px;\n    }\n    20%{\n        font-size: 12px;\n    }\n    21%{\n        font-size: 0;\n        padding: 7px 10px;\n    }\n    100%{\n        padding: 0;\n        margin-top: 0;\n        font-size: 0;\n    }\n}\n",'.dplayer-controller-mask {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;\n    height: 98px;\n    width: 100%;\n    position: absolute;\n    bottom: 0;\n    transition: all 0.3s ease;\n}\n\n.dplayer-controller {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 41px;\n    padding: 0 20px;\n    user-select: none;\n    transition: all 0.3s ease;\n    &.dplayer-controller-comment {\n        .dplayer-icons {\n            display: none;\n        }\n        .dplayer-icons.dplayer-comment-box {\n            display: block;\n        }\n    }\n    .dplayer-bar-wrap {\n        padding: 5px 0;\n        cursor: pointer;\n        position: absolute;\n        bottom: 33px;\n        width: calc(100% - 40px);\n        height: 3px;\n        &:hover {\n            .dplayer-bar .dplayer-played .dplayer-thumb {\n                transform: scale(1);\n            }\n            .dplayer-highlight {\n                display: block;\n                width: 8px;\n                transform: translateX(-4px);\n                top: 4px;\n                height: 40%;\n            }\n        }\n        .dplayer-highlight {\n            z-index: 12;\n            position: absolute;\n            top: 5px;\n            width: 6px;\n            height: 20%;\n            border-radius: 6px;\n            background-color: #fff;\n            text-align: center;\n            transform: translateX(-3px);\n            transition: all .2s ease-in-out;\n            &:hover {\n                .dplayer-highlight-text {\n                    display: block;\n                }\n                &~.dplayer-bar-preview {\n                    opacity: 0;\n                }\n                &~.dplayer-bar-time {\n                    opacity: 0;\n                }\n            }\n            .dplayer-highlight-text {\n                display: none;\n                position: absolute;\n                left: 50%;\n                top: -24px;\n                padding: 5px 8px;\n                background-color: rgba(0, 0, 0, .62);\n                color: #fff;\n                border-radius: 4px;\n                font-size: 12px;\n                white-space: nowrap;\n                transform: translateX(-50%);\n            }\n        }\n        .dplayer-bar-preview {\n            position: absolute;\n            background: #fff;\n            pointer-events: none;\n            display: none;\n            background-size: 16000px 100%;\n        }\n        .dplayer-bar-preview-canvas {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n            pointer-events: none;\n        }\n        .dplayer-bar-time {\n            &.hidden {\n                opacity: 0;\n            }\n            position: absolute;\n            left: 0px;\n            top: -20px;\n            border-radius: 4px;\n            padding: 5px 7px;\n            background-color: rgba(0, 0, 0, 0.62);\n            color: #fff;\n            font-size: 12px;\n            text-align: center;\n            opacity: 1;\n            transition: opacity .1s ease-in-out;\n            word-wrap: normal;\n            word-break: normal;\n            z-index: 2;\n            pointer-events: none;\n        }\n        .dplayer-bar {\n            position: relative;\n            height: 3px;\n            width: 100%;\n            background: rgba(255, 255, 255, .2);\n            cursor: pointer;\n            .dplayer-loaded {\n                position: absolute;\n                left: 0;\n                top: 0;\n                bottom: 0;\n                background: rgba(255, 255, 255, .4);\n                height: 3px;\n                transition: all 0.5s ease;\n                will-change: width;\n            }\n            .dplayer-played {\n                position: absolute;\n                left: 0;\n                top: 0;\n                bottom: 0;\n                height: 3px;\n                will-change: width;\n                .dplayer-thumb {\n                    position: absolute;\n                    top: 0;\n                    right: 5px;\n                    margin-top: -4px;\n                    margin-right: -10px;\n                    height: 11px;\n                    width: 11px;\n                    border-radius: 50%;\n                    cursor: pointer;\n                    transition: all .3s ease-in-out;\n                    transform: scale(0);\n                }\n            }\n        }\n    }\n    .dplayer-icons {\n        height: 38px;\n        position: absolute;\n        bottom: 0;\n        &.dplayer-comment-box {\n            display: none;\n            position: absolute;\n            transition: all .3s ease-in-out;\n            z-index: 2;\n            height: 38px;\n            bottom: 0;\n            left: 20px;\n            right: 20px;\n            color: #fff;\n            .dplayer-icon {\n                padding: 7px;\n            }\n            .dplayer-comment-setting-icon {\n                position: absolute;\n                left: 0;\n                top: 0;\n            }\n            .dplayer-send-icon {\n                position: absolute;\n                right: 0;\n                top: 0;\n            }\n            .dplayer-comment-setting-box {\n                position: absolute;\n                background: rgba(28, 28, 28, 0.9);\n                bottom: 41px;\n                left: 0;\n                box-shadow: 0 0 25px rgba(0, 0, 0, .3);\n                border-radius: 4px;\n                padding: 10px 10px 16px;\n                font-size: 14px;\n                width: 204px;\n                transition: all .3s ease-in-out;\n                transform: scale(0);\n                &.dplayer-comment-setting-open {\n                    transform: scale(1);\n                }\n                input[type=radio] {\n                    display: none;\n                }\n                label {\n                    cursor: pointer;\n                }\n                .dplayer-comment-setting-title {\n                    font-size: 13px;\n                    color: #fff;\n                    line-height: 30px;\n                }\n                .dplayer-comment-setting-type {\n                    font-size: 0;\n                    .dplayer-comment-setting-title {\n                        margin-bottom: 6px;\n                    }\n                    label {\n                        &:nth-child(2) {\n                            span {\n                                border-radius: 4px 0 0 4px;\n                            }\n                        }\n                        &:nth-child(4) {\n                            span {\n                                border-radius: 0 4px 4px 0;\n                            }\n                        }\n                    }\n                    span {\n                        width: 33%;\n                        padding: 4px 6px;\n                        line-height: 16px;\n                        display: inline-block;\n                        font-size: 12px;\n                        color: #fff;\n                        border: 1px solid #fff;\n                        margin-right: -1px;\n                        box-sizing: border-box;\n                        text-align: center;\n                        cursor: pointer;\n                    }\n                    input:checked+span {\n                        background: #E4E4E6;\n                        color: #1c1c1c;\n                    }\n                }\n                .dplayer-comment-setting-color {\n                    font-size: 0;\n                    label {\n                        font-size: 0;\n                        padding: 6px;\n                        display: inline-block;\n                    }\n                    span {\n                        width: 22px;\n                        height: 22px;\n                        display: inline-block;\n                        border-radius: 50%;\n                        box-sizing: border-box;\n                        cursor: pointer;\n                        &:hover {\n                            animation: my-face 5s infinite ease-in-out;\n                        }\n                    }\n                }\n            }\n            .dplayer-comment-input {\n                outline: none;\n                border: none;\n                padding: 8px 31px;\n                font-size: 14px;\n                line-height: 18px;\n                text-align: center;\n                border-radius: 4px;\n                background: none;\n                margin: 0;\n                height: 100%;\n                box-sizing: border-box;\n                width: 100%;\n                color: #fff;\n                &::placeholder {\n                    color: #fff;\n                    opacity: 0.8;\n                }\n                &::-ms-clear {\n                    display: none;\n                }\n            }\n        }\n        &.dplayer-icons-left {\n            .dplayer-icon {\n                padding: 7px;\n            }\n        }\n        &.dplayer-icons-right {\n            right: 20px;\n            .dplayer-icon {\n                padding: 8px;\n            }\n        }\n        .dplayer-time,\n        .dplayer-live-badge {\n            line-height: 38px;\n            color: #eee;\n            text-shadow: 0 0 2px rgba(0, 0, 0, .5);\n            vertical-align: middle;\n            font-size: 13px;\n            cursor: default;\n        }\n        .dplayer-live-dot {\n            display: inline-block;\n            width: 6px;\n            height: 6px;\n            vertical-align: 4%;\n            margin-right: 5px;\n            content: \'\';\n            border-radius: 6px;\n        }\n        .dplayer-icon {\n            width: 40px;\n            height: 100%;\n            border: none;\n            background-color: transparent;\n            outline: none;\n            cursor: pointer;\n            vertical-align: middle;\n            box-sizing: border-box;\n            display: inline-block;\n            .dplayer-icon-content {\n                transition: all .2s ease-in-out;\n                opacity: .8;\n            }\n            &:hover {\n                .dplayer-icon-content {\n                    opacity: 1;\n                }\n            }\n            &.dplayer-quality-icon {\n                color: #fff;\n                width: auto;\n                line-height: 22px;\n                font-size: 14px;\n            }\n            &.dplayer-comment-icon {\n                padding: 10px 9px 9px;\n            }\n            &.dplayer-setting-icon {\n                padding-top: 8.5px;\n            }\n            &.dplayer-volume-icon {\n                width: 43px;\n            }\n        }\n        .dplayer-volume {\n            position: relative;\n            display: inline-block;\n            cursor: pointer;\n            height: 100%;\n            &:hover {\n                .dplayer-volume-bar-wrap .dplayer-volume-bar {\n                    width: 45px;\n                }\n                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n                    transform: scale(1);\n                }\n            }\n            &.dplayer-volume-active {\n                .dplayer-volume-bar-wrap .dplayer-volume-bar {\n                    width: 45px;\n                }\n                .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb {\n                    transform: scale(1);\n                }\n            }\n            .dplayer-volume-bar-wrap {\n                display: inline-block;\n                margin: 0 10px 0 -5px;\n                vertical-align: middle;\n                height: 100%;\n                .dplayer-volume-bar {\n                    position: relative;\n                    top: 17px;\n                    width: 0;\n                    height: 3px;\n                    background: #aaa;\n                    transition: all 0.3s ease-in-out;\n                    .dplayer-volume-bar-inner {\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        height: 100%;\n                        transition: all 0.1s ease;\n                        will-change: width;\n                        .dplayer-thumb {\n                            position: absolute;\n                            top: 0;\n                            right: 5px;\n                            margin-top: -4px;\n                            margin-right: -10px;\n                            height: 11px;\n                            width: 11px;\n                            border-radius: 50%;\n                            cursor: pointer;\n                            transition: all .3s ease-in-out;\n                            transform: scale(0);\n                        }\n                    }\n                }\n            }\n        }\n        .dplayer-subtitle-btn {\n            display: inline-block;\n            height: 100%;\n        }\n        .dplayer-subtitles {\n            display: inline-block;\n            height: 100%;\n            .dplayer-subtitles-box {\n                position: absolute;\n                right: 0;\n                bottom: 50px;\n                transform: scale(0);\n                width: fit-content;\n                max-width: 240px;\n                min-width: 120px;\n                border-radius: 2px;\n                background: rgba(28, 28, 28, 0.9);\n                padding: 7px 0;\n                transition: all .3s ease-in-out;\n                overflow: auto;\n                z-index: 2;\n                &.dplayer-subtitles-panel {\n                    display: block;\n                }\n                &.dplayer-subtitles-box-open {\n                    transform: scale(1);\n                }\n            }\n            .dplayer-subtitles-item {\n                height: 30px;\n                padding: 5px 10px;\n                box-sizing: border-box;\n                cursor: pointer;\n                position: relative;\n                &:hover {\n                    background-color: rgba(255, 255, 255, .1);\n                }\n            }\n        }\n        .dplayer-setting {\n            display: inline-block;\n            height: 100%;\n            .dplayer-setting-box {\n                position: absolute;\n                right: 0;\n                bottom: 50px;\n                transform: scale(0);\n                width: 150px;\n                border-radius: 2px;\n                background: rgba(28, 28, 28, 0.9);\n                padding: 7px 0;\n                transition: all .3s ease-in-out;\n                overflow: hidden;\n                z-index: 2;\n                &>div {\n                    display: none;\n                    &.dplayer-setting-origin-panel {\n                        display: block;\n                    }\n                }\n                &.dplayer-setting-box-open {\n                    transform: scale(1);\n                }\n                &.dplayer-setting-box-narrow {\n                    width: 70px;\n                    text-align: center;\n                }\n                &.dplayer-setting-box-speed {\n                    .dplayer-setting-origin-panel {\n                        display: none;\n                    }\n                    .dplayer-setting-speed-panel {\n                        display: block;\n                    }\n                }\n            }\n            .dplayer-setting-item,\n            .dplayer-setting-speed-item {\n                height: 30px;\n                padding: 5px 10px;\n                box-sizing: border-box;\n                cursor: pointer;\n                position: relative;\n                &:hover {\n                    background-color: rgba(255, 255, 255, .1);\n                }\n            }\n            .dplayer-setting-danmaku {\n                padding: 5px 0;\n                .dplayer-label {\n                    padding: 0 10px;\n                    display: inline;\n                }\n                &:hover {\n                    .dplayer-label {\n                        display: none;\n                    }\n                    .dplayer-danmaku-bar-wrap {\n                        display: inline-block;\n                    }\n                }\n                &.dplayer-setting-danmaku-active {\n                    .dplayer-label {\n                        display: none;\n                    }\n                    .dplayer-danmaku-bar-wrap {\n                        display: inline-block;\n                    }\n                }\n                .dplayer-danmaku-bar-wrap {\n                    padding: 0 10px;\n                    box-sizing: border-box;\n                    display: none;\n                    vertical-align: middle;\n                    height: 100%;\n                    width: 100%;\n                    .dplayer-danmaku-bar {\n                        position: relative;\n                        top: 8.5px;\n                        width: 100%;\n                        height: 3px;\n                        background: #fff;\n                        transition: all 0.3s ease-in-out;\n                        .dplayer-danmaku-bar-inner {\n                            position: absolute;\n                            bottom: 0;\n                            left: 0;\n                            height: 100%;\n                            transition: all 0.1s ease;\n                            background: #aaa;\n                            will-change: width;\n                            .dplayer-thumb {\n                                position: absolute;\n                                top: 0;\n                                right: 5px;\n                                margin-top: -4px;\n                                margin-right: -10px;\n                                height: 11px;\n                                width: 11px;\n                                border-radius: 50%;\n                                cursor: pointer;\n                                transition: all .3s ease-in-out;\n                                background: #aaa;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        .dplayer-full {\n            display: inline-block;\n            height: 100%;\n            position: relative;\n            &:hover {\n                .dplayer-full-in-icon {\n                    display: block;\n                }\n            }\n            .dplayer-full-in-icon {\n                position: absolute;\n                top: -30px;\n                z-index: 1;\n                display: none;\n            }\n        }\n        .dplayer-quality {\n            position: relative;\n            display: inline-block;\n            height: 100%;\n            z-index: 2;\n            &:hover {\n                .dplayer-quality-list {\n                    display: block;\n                }\n                .dplayer-quality-mask {\n                    display: block;\n                }\n            }\n            .dplayer-quality-mask {\n                display: none;\n                position: absolute;\n                bottom: 38px;\n                left: -18px;\n                width: 80px;\n                padding-bottom: 12px;\n            }\n            .dplayer-quality-list {\n                display: none;\n                font-size: 12px;\n                width: 80px;\n                border-radius: 2px;\n                background: rgba(28, 28, 28, 0.9);\n                padding: 5px 0;\n                transition: all .3s ease-in-out;\n                overflow: hidden;\n                color: #fff;\n                text-align: center;\n            }\n            .dplayer-quality-item {\n                height: 25px;\n                box-sizing: border-box;\n                cursor: pointer;\n                line-height: 25px;\n                &:hover {\n                    background-color: rgba(255, 255, 255, .1);\n                }\n            }\n        }\n        .dplayer-comment {\n            display: inline-block;\n            height: 100%;\n        }\n        .dplayer-label {\n            color: #eee;\n            font-size: 13px;\n            display: inline-block;\n            vertical-align: middle;\n            white-space: nowrap;\n        }\n        .dplayer-toggle {\n            width: 32px;\n            height: 20px;\n            text-align: center;\n            font-size: 0;\n            vertical-align: middle;\n            position: absolute;\n            top: 5px;\n            right: 10px;\n            input {\n                max-height: 0;\n                max-width: 0;\n                display: none;\n            }\n            input+label {\n                display: inline-block;\n                position: relative;\n                box-shadow: rgb(223, 223, 223) 0 0 0 0 inset;\n                border: 1px solid rgb(223, 223, 223);\n                height: 20px;\n                width: 32px;\n                border-radius: 10px;\n                box-sizing: border-box;\n                cursor: pointer;\n                transition: .2s ease-in-out;\n            }\n            input+label:before {\n                content: "";\n                position: absolute;\n                display: block;\n                height: 18px;\n                width: 18px;\n                top: 0;\n                left: 0;\n                border-radius: 15px;\n                transition: .2s ease-in-out;\n            }\n            input+label:after {\n                content: "";\n                position: absolute;\n                display: block;\n                left: 0;\n                top: 0;\n                border-radius: 15px;\n                background: #fff;\n                transition: .2s ease-in-out;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n                height: 18px;\n                width: 18px;\n            }\n            input:checked+label {\n                border-color: rgba(255, 255, 255, 0.5);\n            }\n            input:checked+label:before {\n                width: 30px;\n                background: rgba(255, 255, 255, 0.5);\n            }\n            input:checked+label:after {\n                left: 12px;\n            }\n        }\n    }\n}\n\n.dplayer-mobile-play {\n    display: none;\n    width: 50px;\n    height: 50px;\n    border: none;\n    background-color: transparent;\n    outline: none;\n    cursor: pointer;\n    box-sizing: border-box;\n    position: absolute;\n    bottom: 0;\n    opacity: 0.8;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}',".dplayer-danmaku {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    font-size: 22px;\n    color: #fff;\n    .dplayer-danmaku-item {\n        display: inline-block;\n        pointer-events: none;\n        user-select: none;\n        cursor: default;\n        white-space: nowrap;\n        text-shadow: .5px .5px .5px rgba(0, 0, 0, .5);\n        &--demo {\n            position: absolute;\n            visibility: hidden;\n        }\n    }\n    .dplayer-danmaku-right {\n        position: absolute;\n        right: 0;\n        transform: translateX(100%);\n        &.dplayer-danmaku-move {\n            will-change: transform;\n            animation-name: 'danmaku';\n            animation-timing-function: linear;\n            animation-play-state: paused;\n        }\n    }\n    @keyframes danmaku {\n        from {\n            transform: translateX(100%);\n        }\n    }\n    .dplayer-danmaku-top,\n    .dplayer-danmaku-bottom {\n        position: absolute;\n        width: 100%;\n        text-align: center;\n        visibility: hidden;\n        &.dplayer-danmaku-move {\n            will-change: visibility;\n            animation-name: 'danmaku-center';\n            animation-timing-function: linear;\n            animation-play-state: paused;\n        }\n    }\n    @keyframes danmaku-center {\n        from {\n            visibility: visible;\n        }\n        to {\n            visibility: visible;\n        }\n    }\n}",".dplayer-logo {\n    pointer-events: none;\n    position: absolute;\n    left: 20px;\n    top: 20px;\n    max-width: 50px;\n    max-height: 50px;\n    img {\n        max-width: 100%;\n        max-height: 100%;\n        background: none;\n    }\n}",".dplayer-menu {\n    position: absolute;\n    width: 170px;\n    border-radius: 2px;\n    background: rgba(28, 28, 28, 0.85);\n    padding: 5px 0;\n    overflow: hidden;\n    z-index: 3;\n    display: none;\n    &.dplayer-menu-show {\n        display: block;\n    }\n    .dplayer-menu-item {\n        height: 30px;\n        box-sizing: border-box;\n        cursor: pointer;\n        &:hover {\n            background-color: rgba(255, 255, 255, .1);\n        }\n        a {\n            display: inline-block;\n            padding: 0 10px;\n            line-height: 30px;\n            color: #eee;\n            font-size: 13px;\n            display: inline-block;\n            vertical-align: middle;\n            width: 100%;\n            box-sizing: border-box;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            &:hover {\n                text-decoration: none;\n            }\n        }\n    }\n}",".dplayer-subtitle {\n    position: absolute;\n    bottom: 40px;\n    width: 90%;\n    left: 5%;\n    text-align: center;\n    color: #fff;\n    text-shadow: 0.5px 0.5px 0.5px rgba(0, 0, 0, 0.5);\n    font-size: 20px;\n    &.dplayer-subtitle-hide {\n        display: none;\n    }\n}",".dplayer-mask {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n    display: none;\n    &.dplayer-mask-show {\n        display: block;\n    }\n}\n\n.dplayer-video-wrap {\n    position: relative;\n    background: #000;\n    font-size: 0;\n    width: 100%;\n    height: 100%;\n    .dplayer-video {\n        width: 100%;\n        height: 100%;\n        display: none;\n    }\n    .dplayer-video-current {\n        display: block;\n    }\n    .dplayer-video-prepare {\n        display: none;\n    }\n}",".dplayer-info-panel {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    width: 400px;\n    background: rgba(28, 28, 28, 0.8);\n    padding: 10px;\n    color: #fff;\n    font-size: 12px;\n    border-radius: 2px;\n\n    &-hide {\n        display: none;\n    }\n\n    .dplayer-info-panel-close {\n        cursor: pointer;\n        position: absolute;\n        right: 10px;\n        top: 10px;\n    }\n\n    .dplayer-info-panel-item {\n        & > span {\n            display: inline-block;\n            vertical-align: middle;\n            line-height: 15px;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n    }\n\n    .dplayer-info-panel-item-title {\n        width: 100px;\n        text-align: right;\n        margin-right: 10px;\n    }\n    \n    .dplayer-info-panel-item-data {\n        width: 260px;\n    }\n}"],sourceRoot:""}]);const xn=bn},856:Ne=>{var Fe=[];function Ue(Ve){for(var qe=-1,En=0;En<Fe.length;En++)if(Fe[En].identifier===Ve){qe=En;break}return qe}function $e(Ve,qe){for(var En={},vn=[],hn=0;hn<Ve.length;hn++){var _n=Ve[hn],bn=qe.base?_n[0]+qe.base:_n[0],An=En[bn]||0,xn="".concat(bn," ").concat(An);En[bn]=An+1;var Sn=Ue(xn),Cn={css:_n[1],media:_n[2],sourceMap:_n[3],supports:_n[4],layer:_n[5]};if(Sn!==-1)Fe[Sn].references++,Fe[Sn].updater(Cn);else{var Tn=ze(Cn,qe);qe.byIndex=hn,Fe.splice(hn,0,{identifier:xn,updater:Tn,references:1})}vn.push(xn)}return vn}function ze(Ve,qe){var En=qe.domAPI(qe);return En.update(Ve),function(vn){if(vn){if(vn.css===Ve.css&&vn.media===Ve.media&&vn.sourceMap===Ve.sourceMap&&vn.supports===Ve.supports&&vn.layer===Ve.layer)return;En.update(Ve=vn)}else En.remove()}}Ne.exports=function(Ve,qe){var En=$e(Ve=Ve||[],qe=qe||{});return function(vn){vn=vn||[];for(var hn=0;hn<En.length;hn++){var _n=Ue(En[hn]);Fe[_n].references--}for(var bn=$e(vn,qe),An=0;An<En.length;An++){var xn=Ue(En[An]);Fe[xn].references===0&&(Fe[xn].updater(),Fe.splice(xn,1))}En=bn}}},370:Ne=>{var Fe={};Ne.exports=function(Ue,$e){var ze=function(Ve){if(Fe[Ve]===void 0){var qe=document.querySelector(Ve);if(window.HTMLIFrameElement&&qe instanceof window.HTMLIFrameElement)try{qe=qe.contentDocument.head}catch(En){qe=null}Fe[Ve]=qe}return Fe[Ve]}(Ue);if(!ze)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ze.appendChild($e)}},278:Ne=>{Ne.exports=function(Fe){var Ue=document.createElement("style");return Fe.setAttributes(Ue,Fe.attributes),Fe.insert(Ue,Fe.options),Ue}},458:(Ne,Fe,Ue)=>{Ne.exports=function($e){var ze=Ue.nc;ze&&$e.setAttribute("nonce",ze)}},470:Ne=>{Ne.exports=function(Fe){var Ue=Fe.insertStyleElement(Fe);return{update:function($e){(function(ze,Ve,qe){var En="";qe.supports&&(En+="@supports (".concat(qe.supports,") {")),qe.media&&(En+="@media ".concat(qe.media," {"));var vn=qe.layer!==void 0;vn&&(En+="@layer".concat(qe.layer.length>0?" ".concat(qe.layer):""," {")),En+=qe.css,vn&&(En+="}"),qe.media&&(En+="}"),qe.supports&&(En+="}");var hn=qe.sourceMap;hn&&typeof btoa<"u"&&(En+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(hn))))," */")),Ve.styleTagTransform(En,ze,Ve.options)})(Ue,Fe,$e)},remove:function(){(function($e){if($e.parentNode===null)return!1;$e.parentNode.removeChild($e)})(Ue)}}}},488:Ne=>{Ne.exports=function(Fe,Ue){if(Ue.styleSheet)Ue.styleSheet.cssText=Fe;else{for(;Ue.firstChild;)Ue.removeChild(Ue.firstChild);Ue.appendChild(document.createTextNode(Fe))}}},251:Ne=>{Ne.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},113:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},193:Ne=>{Ne.exports='<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="chromecast" class="svg-inline--fa fa-chromecast fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M447.8,64H64c-23.6,0-42.7,19.1-42.7,42.7v63.9H64v-63.9h383.8v298.6H298.6V448H448c23.6,0,42.7-19.1,42.7-42.7V106.7 C490.7,83.1,471.4,64,447.8,64z M21.3,383.6L21.3,383.6l0,63.9h63.9C85.2,412.2,56.6,383.6,21.3,383.6L21.3,383.6z M21.3,298.6V341 c58.9,0,106.6,48.1,106.6,107h42.7C170.7,365.6,103.7,298.7,21.3,298.6z M213.4,448h42.7c-0.5-129.5-105.3-234.3-234.8-234.6l0,42.4 C127.3,255.6,213.3,342,213.4,448z"></path></svg>'},338:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},807:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},300:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},574:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},182:Ne=>{Ne.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},965:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},74:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},730:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},428:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},254:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},934:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},410:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},644:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},324:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},437:Ne=>{Ne.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},897:(Ne,Fe,Ue)=>{var $e=typeof self<"u"?self:typeof window<"u"?window:Ue.g!==void 0?Ue.g:{},ze=Object.create($e),Ve=/["&'<>]/;function qe(En){return typeof En!="string"&&(En=En==null?"":typeof En=="function"?qe(En.call(En)):JSON.stringify(En)),En}ze.$escape=function(En){return function(vn){var hn=""+vn,_n=Ve.exec(hn);if(!_n)return vn;var bn="",An=void 0,xn=void 0,Sn=void 0;for(An=_n.index,xn=0;An<hn.length;An++){switch(hn.charCodeAt(An)){case 34:Sn="&#34;";break;case 38:Sn="&#38;";break;case 39:Sn="&#39;";break;case 60:Sn="&#60;";break;case 62:Sn="&#62;";break;default:continue}xn!==An&&(bn+=hn.substring(xn,An)),xn=An+1,bn+=Sn}return xn!==An?bn+hn.substring(xn,An):bn}(qe(En))},ze.$each=function(En,vn){if(Array.isArray(En))for(var hn=0,_n=En.length;hn<_n;hn++)vn(En[hn],hn);else for(var bn in En)vn(En[bn],bn)},Ne.exports=ze},471:(Ne,Fe,Ue)=>{Ne.exports=Ue(897)},352:Ne=>{Ne.exports=function(Fe){var Ue=[];return Ue.toString=function(){return this.map(function($e){var ze="",Ve=$e[5]!==void 0;return $e[4]&&(ze+="@supports (".concat($e[4],") {")),$e[2]&&(ze+="@media ".concat($e[2]," {")),Ve&&(ze+="@layer".concat($e[5].length>0?" ".concat($e[5]):""," {")),ze+=Fe($e),Ve&&(ze+="}"),$e[2]&&(ze+="}"),$e[4]&&(ze+="}"),ze}).join("")},Ue.i=function($e,ze,Ve,qe,En){typeof $e=="string"&&($e=[[null,$e,void 0]]);var vn={};if(Ve)for(var hn=0;hn<this.length;hn++){var _n=this[hn][0];_n!=null&&(vn[_n]=!0)}for(var bn=0;bn<$e.length;bn++){var An=[].concat($e[bn]);Ve&&vn[An[0]]||(En!==void 0&&(An[5]===void 0||(An[1]="@layer".concat(An[5].length>0?" ".concat(An[5]):""," {").concat(An[1],"}")),An[5]=En),ze&&(An[2]&&(An[1]="@media ".concat(An[2]," {").concat(An[1],"}")),An[2]=ze),qe&&(An[4]?(An[1]="@supports (".concat(An[4],") {").concat(An[1],"}"),An[4]=qe):An[4]="".concat(qe)),Ue.push(An))}},Ue}},80:Ne=>{Ne.exports=function(Fe,Ue){return Ue||(Ue={}),Fe&&(Fe=String(Fe.__esModule?Fe.default:Fe),/^['"].*['"]$/.test(Fe)&&(Fe=Fe.slice(1,-1)),Ue.hash&&(Fe+=Ue.hash),/["'() \t\n]|(%20)/.test(Fe)||Ue.needQuotes?'"'.concat(Fe.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):Fe)}},415:Ne=>{Ne.exports=function(Fe){var Ue=Fe[1],$e=Fe[3];if(!$e)return Ue;if(typeof btoa=="function"){var ze=btoa(unescape(encodeURIComponent(JSON.stringify($e)))),Ve="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(ze),qe="/*# ".concat(Ve," */");return[Ue].concat([qe]).join("\n")}return[Ue].join("\n")}},937:Ne=>{function Fe(Ue){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},Fe(Ue)}Ne.exports=(typeof self>"u"?"undefined":Fe(self))=="object"?self.FormData:window.FormData},831:Ne=>{Ne.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg=="}},Ce={};function Ie(Ne){var Fe=Ce[Ne];if(Fe!==void 0)return Fe.exports;var Ue=Ce[Ne]={id:Ne,exports:{}};return _e[Ne](Ue,Ue.exports,Ie),Ue.exports}Ie.m=_e,Ie.n=Ne=>{var Fe=Ne&&Ne.__esModule?()=>Ne.default:()=>Ne;return Ie.d(Fe,{a:Fe}),Fe},Ie.d=(Ne,Fe)=>{for(var Ue in Fe)Ie.o(Fe,Ue)&&!Ie.o(Ne,Ue)&&Object.defineProperty(Ne,Ue,{enumerable:!0,get:Fe[Ue]})},Ie.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ne){if(typeof window=="object")return window}}(),Ie.o=(Ne,Fe)=>Object.prototype.hasOwnProperty.call(Ne,Fe),Ie.b=document.baseURI||self.location.href,Ie.nc=void 0;var Oe={};return(()=>{Ie.d(Oe,{default:()=>Ns});var Ne=Ie(856),Fe=Ie.n(Ne),Ue=Ie(470),$e=Ie.n(Ue),ze=Ie(370),Ve=Ie.n(ze),qe=Ie(458),En=Ie.n(qe),vn=Ie(278),hn=Ie.n(vn),_n=Ie(488),bn=Ie.n(_n),An=Ie(685),xn={};xn.styleTagTransform=bn(),xn.setAttributes=En(),xn.insert=Ve().bind(null,"head"),xn.domAPI=$e(),xn.insertStyleElement=hn(),Fe()(An.Z,xn),An.Z&&An.Z.locals&&An.Z.locals;function Sn(zn){return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Sn(zn)}function Cn(zn,Kn){this.name="AggregateError",this.errors=zn,this.message=Kn||""}Cn.prototype=Error.prototype;function Tn(zn){return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Tn(zn)}var wn=setTimeout;function Ln(zn){return!!(zn&&zn.length!==void 0)}function Pn(){}function kn(zn){if(!(this instanceof kn))throw new TypeError("Promises must be constructed via new");if(typeof zn!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mn(zn,this)}function In(zn,Kn){for(;zn._state===3;)zn=zn._value;zn._state!==0?(zn._handled=!0,kn._immediateFn(function(){var er=zn._state===1?Kn.onFulfilled:Kn.onRejected;if(er!==null){var jn;try{jn=er(zn._value)}catch(Gn){return void Nn(Kn.promise,Gn)}Rn(Kn.promise,jn)}else(zn._state===1?Rn:Nn)(Kn.promise,zn._value)})):zn._deferreds.push(Kn)}function Rn(zn,Kn){try{if(Kn===zn)throw new TypeError("A promise cannot be resolved with itself.");if(Kn&&(Tn(Kn)==="object"||typeof Kn=="function")){var er=Kn.then;if(Kn instanceof kn)return zn._state=3,zn._value=Kn,void On(zn);if(typeof er=="function")return void Mn((jn=er,Gn=Kn,function(){jn.apply(Gn,arguments)}),zn)}zn._state=1,zn._value=Kn,On(zn)}catch(Zn){Nn(zn,Zn)}var jn,Gn}function Nn(zn,Kn){zn._state=2,zn._value=Kn,On(zn)}function On(zn){zn._state===2&&zn._deferreds.length===0&&kn._immediateFn(function(){zn._handled||kn._unhandledRejectionFn(zn._value)});for(var Kn=0,er=zn._deferreds.length;Kn<er;Kn++)In(zn,zn._deferreds[Kn]);zn._deferreds=null}function Dn(zn,Kn,er){this.onFulfilled=typeof zn=="function"?zn:null,this.onRejected=typeof Kn=="function"?Kn:null,this.promise=er}function Mn(zn,Kn){var er=!1;try{zn(function(jn){er||(er=!0,Rn(Kn,jn))},function(jn){er||(er=!0,Nn(Kn,jn))})}catch(jn){if(er)return;er=!0,Nn(Kn,jn)}}kn.prototype.catch=function(zn){return this.then(null,zn)},kn.prototype.then=function(zn,Kn){var er=new this.constructor(Pn);return In(this,new Dn(zn,Kn,er)),er},kn.prototype.finally=function(zn){var Kn=this.constructor;return this.then(function(er){return Kn.resolve(zn()).then(function(){return er})},function(er){return Kn.resolve(zn()).then(function(){return Kn.reject(er)})})},kn.all=function(zn){return new kn(function(Kn,er){if(!Ln(zn))return er(new TypeError("Promise.all accepts an array"));var jn=Array.prototype.slice.call(zn);if(jn.length===0)return Kn([]);var Gn=jn.length;function Zn(Cr,wr){try{if(wr&&(Tn(wr)==="object"||typeof wr=="function")){var Zr=wr.then;if(typeof Zr=="function")return void Zr.call(wr,function(Jr){Zn(Cr,Jr)},er)}jn[Cr]=wr,--Gn==0&&Kn(jn)}catch(Jr){er(Jr)}}for(var ir=0;ir<jn.length;ir++)Zn(ir,jn[ir])})},kn.any=function(zn){var Kn=this;return new Kn(function(er,jn){if(!zn||zn.length===void 0)return jn(new TypeError("Promise.any accepts an array"));var Gn=Array.prototype.slice.call(zn);if(Gn.length===0)return jn();for(var Zn=[],ir=0;ir<Gn.length;ir++)try{Kn.resolve(Gn[ir]).then(er).catch(function(Cr){Zn.push(Cr),Zn.length===Gn.length&&jn(new Cn(Zn,"All promises were rejected"))})}catch(Cr){jn(Cr)}})},kn.allSettled=function(zn){return new this(function(Kn,er){if(!zn||zn.length===void 0)return er(new TypeError(Sn(zn)+" "+zn+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var jn=Array.prototype.slice.call(zn);if(jn.length===0)return Kn([]);var Gn=jn.length;function Zn(Cr,wr){if(wr&&(Sn(wr)==="object"||typeof wr=="function")){var Zr=wr.then;if(typeof Zr=="function")return void Zr.call(wr,function(Jr){Zn(Cr,Jr)},function(Jr){jn[Cr]={status:"rejected",reason:Jr},--Gn==0&&Kn(jn)})}jn[Cr]={status:"fulfilled",value:wr},--Gn==0&&Kn(jn)}for(var ir=0;ir<jn.length;ir++)Zn(ir,jn[ir])})},kn.resolve=function(zn){return zn&&Tn(zn)==="object"&&zn.constructor===kn?zn:new kn(function(Kn){Kn(zn)})},kn.reject=function(zn){return new kn(function(Kn,er){er(zn)})},kn.race=function(zn){return new kn(function(Kn,er){if(!Ln(zn))return er(new TypeError("Promise.race accepts an array"));for(var jn=0,Gn=zn.length;jn<Gn;jn++)kn.resolve(zn[jn]).then(Kn,er)})},kn._immediateFn=typeof setImmediate=="function"&&function(zn){setImmediate(zn)}||function(zn){wn(zn,0)},kn._unhandledRejectionFn=function(zn){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",zn)};const Bn=kn;var $n=/mobile/i.test(window.navigator.userAgent);const Fn={secondToTime:function(zn){if((zn=zn||0)===0||zn===1/0||zn.toString()==="NaN")return"00:00";var Kn=Math.floor(zn/3600),er=Math.floor((zn-3600*Kn)/60),jn=Math.floor(zn-3600*Kn-60*er);return(Kn>0?[Kn,er,jn]:[er,jn]).map(function(Gn){return Gn<10?"0"+Gn:""+Gn}).join(":")},getElementViewLeft:function(zn){var Kn=zn.offsetLeft,er=zn.offsetParent,jn=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;er!==null&&er!==zn;)Kn+=er.offsetLeft,er=er.offsetParent;else for(;er!==null;)Kn+=er.offsetLeft,er=er.offsetParent;return Kn-jn},getBoundingClientRectViewLeft:function(zn){var Kn=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(zn.getBoundingClientRect){if(typeof this.getBoundingClientRectViewLeft.offset!="number"){var er=document.createElement("div");er.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(er),this.getBoundingClientRectViewLeft.offset=-er.getBoundingClientRect().top-Kn,document.body.removeChild(er),er=null}var jn=zn.getBoundingClientRect(),Gn=this.getBoundingClientRectViewLeft.offset;return jn.left+Gn}return this.getElementViewLeft(zn)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(zn){var Kn=zn.left,er=Kn===void 0?0:Kn,jn=zn.top,Gn=jn===void 0?0:jn;this.isFirefox?(document.documentElement.scrollLeft=er,document.documentElement.scrollTop=Gn):window.scrollTo(er,Gn)},isMobile:$n,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),isSafari:/safari/i.test(window.navigator.userAgent),storage:{set:function(zn,Kn){localStorage.setItem(zn,Kn)},get:function(zn){return localStorage.getItem(zn)}},nameMap:{dragStart:$n?"touchstart":"mousedown",dragMove:$n?"touchmove":"mousemove",dragEnd:$n?"touchend":"mouseup"},color2Number:function(zn){return zn[0]==="#"&&(zn=zn.substr(1)),zn.length===3&&(zn="".concat(zn[0]).concat(zn[0]).concat(zn[1]).concat(zn[1]).concat(zn[2]).concat(zn[2])),parseInt(zn,16)+0&16777215},number2Color:function(zn){return"#"+("00000"+zn.toString(16)).slice(-6)},number2Type:function(zn){switch(zn){case 0:default:return"right";case 1:return"top";case 2:return"bottom"}}};function Un(zn,Kn){return function(){return zn.apply(Kn,arguments)}}function Hn(zn){return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Hn(zn)}var Wn,Xn=Object.prototype.toString,or=Object.getPrototypeOf,fr=(Wn=Object.create(null),function(zn){var Kn=Xn.call(zn);return Wn[Kn]||(Wn[Kn]=Kn.slice(8,-1).toLowerCase())}),cr=function(zn){return zn=zn.toLowerCase(),function(Kn){return fr(Kn)===zn}},Jn=function(zn){return function(Kn){return Hn(Kn)===zn}},mr=Array.isArray,Ir=Jn("undefined"),yr=cr("ArrayBuffer"),Tr=Jn("string"),Sr=Jn("function"),Yn=Jn("number"),Qn=function(zn){return zn!==null&&Hn(zn)==="object"},rr=function(zn){if(fr(zn)!=="object")return!1;var Kn=or(zn);return!(Kn!==null&&Kn!==Object.prototype&&Object.getPrototypeOf(Kn)!==null||Symbol.toStringTag in zn||Symbol.iterator in zn)},gr=cr("Date"),Ar=cr("File"),Br=cr("Blob"),Vr=cr("FileList"),Fr=cr("URLSearchParams");function Er(zn,Kn){var er,jn,Gn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Zn=Gn.allOwnKeys,ir=Zn!==void 0&&Zn;if(zn!=null)if(Hn(zn)!=="object"&&(zn=[zn]),mr(zn))for(er=0,jn=zn.length;er<jn;er++)Kn.call(null,zn[er],er,zn);else{var Cr,wr=ir?Object.getOwnPropertyNames(zn):Object.keys(zn),Zr=wr.length;for(er=0;er<Zr;er++)Cr=wr[er],Kn.call(null,zn[Cr],Cr,zn)}}function Dr(zn,Kn){Kn=Kn.toLowerCase();for(var er,jn=Object.keys(zn),Gn=jn.length;Gn-- >0;)if(Kn===(er=jn[Gn]).toLowerCase())return er;return null}var Pr,$r,Lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,Or=function(zn){return!Ir(zn)&&zn!==Lr},Hr=(Pr=typeof Uint8Array<"u"&&or(Uint8Array),function(zn){return Pr&&zn instanceof Pr}),qr=cr("HTMLFormElement"),ao=($r=Object.prototype.hasOwnProperty,function(zn,Kn){return $r.call(zn,Kn)}),Ur=cr("RegExp"),_r=function(zn,Kn){var er=Object.getOwnPropertyDescriptors(zn),jn={};Er(er,function(Gn,Zn){Kn(Gn,Zn,zn)!==!1&&(jn[Zn]=Gn)}),Object.defineProperties(zn,jn)};const ur={isArray:mr,isArrayBuffer:yr,isBuffer:function(zn){return zn!==null&&!Ir(zn)&&zn.constructor!==null&&!Ir(zn.constructor)&&Sr(zn.constructor.isBuffer)&&zn.constructor.isBuffer(zn)},isFormData:function(zn){var Kn="[object FormData]";return zn&&(typeof FormData=="function"&&zn instanceof FormData||Xn.call(zn)===Kn||Sr(zn.toString)&&zn.toString()===Kn)},isArrayBufferView:function(zn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(zn):zn&&zn.buffer&&yr(zn.buffer)},isString:Tr,isNumber:Yn,isBoolean:function(zn){return zn===!0||zn===!1},isObject:Qn,isPlainObject:rr,isUndefined:Ir,isDate:gr,isFile:Ar,isBlob:Br,isRegExp:Ur,isFunction:Sr,isStream:function(zn){return Qn(zn)&&Sr(zn.pipe)},isURLSearchParams:Fr,isTypedArray:Hr,isFileList:Vr,forEach:Er,merge:function zn(){for(var Kn=Or(this)&&this||{},er=Kn.caseless,jn={},Gn=function(Cr,wr){var Zr=er&&Dr(jn,wr)||wr;rr(jn[Zr])&&rr(Cr)?jn[Zr]=zn(jn[Zr],Cr):rr(Cr)?jn[Zr]=zn({},Cr):mr(Cr)?jn[Zr]=Cr.slice():jn[Zr]=Cr},Zn=0,ir=arguments.length;Zn<ir;Zn++)arguments[Zn]&&Er(arguments[Zn],Gn);return jn},extend:function(zn,Kn,er){var jn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Gn=jn.allOwnKeys;return Er(Kn,function(Zn,ir){er&&Sr(Zn)?zn[ir]=Un(Zn,er):zn[ir]=Zn},{allOwnKeys:Gn}),zn},trim:function(zn){return zn.trim?zn.trim():zn.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(zn){return zn.charCodeAt(0)===65279&&(zn=zn.slice(1)),zn},inherits:function(zn,Kn,er,jn){zn.prototype=Object.create(Kn.prototype,jn),zn.prototype.constructor=zn,Object.defineProperty(zn,"super",{value:Kn.prototype}),er&&Object.assign(zn.prototype,er)},toFlatObject:function(zn,Kn,er,jn){var Gn,Zn,ir,Cr={};if(Kn=Kn||{},zn==null)return Kn;do{for(Zn=(Gn=Object.getOwnPropertyNames(zn)).length;Zn-- >0;)ir=Gn[Zn],jn&&!jn(ir,zn,Kn)||Cr[ir]||(Kn[ir]=zn[ir],Cr[ir]=!0);zn=er!==!1&&or(zn)}while(zn&&(!er||er(zn,Kn))&&zn!==Object.prototype);return Kn},kindOf:fr,kindOfTest:cr,endsWith:function(zn,Kn,er){zn=String(zn),(er===void 0||er>zn.length)&&(er=zn.length),er-=Kn.length;var jn=zn.indexOf(Kn,er);return jn!==-1&&jn===er},toArray:function(zn){if(!zn)return null;if(mr(zn))return zn;var Kn=zn.length;if(!Yn(Kn))return null;for(var er=new Array(Kn);Kn-- >0;)er[Kn]=zn[Kn];return er},forEachEntry:function(zn,Kn){for(var er,jn=(zn&&zn[Symbol.iterator]).call(zn);(er=jn.next())&&!er.done;){var Gn=er.value;Kn.call(zn,Gn[0],Gn[1])}},matchAll:function(zn,Kn){for(var er,jn=[];(er=zn.exec(Kn))!==null;)jn.push(er);return jn},isHTMLForm:qr,hasOwnProperty:ao,hasOwnProp:ao,reduceDescriptors:_r,freezeMethods:function(zn){_r(zn,function(Kn,er){if(Sr(zn)&&["arguments","caller","callee"].indexOf(er)!==-1)return!1;var jn=zn[er];Sr(jn)&&(Kn.enumerable=!1,"writable"in Kn?Kn.writable=!1:Kn.set||(Kn.set=function(){throw Error("Can not rewrite read-only method '"+er+"'")}))})},toObjectSet:function(zn,Kn){var er={},jn=function(Gn){Gn.forEach(function(Zn){er[Zn]=!0})};return mr(zn)?jn(zn):jn(String(zn).split(Kn)),er},toCamelCase:function(zn){return zn.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(Kn,er,jn){return er.toUpperCase()+jn})},noop:function(){},toFiniteNumber:function(zn,Kn){return zn=+zn,Number.isFinite(zn)?zn:Kn},findKey:Dr,global:Lr,isContextDefined:Or,toJSONObject:function(zn){var Kn=new Array(10);return function er(jn,Gn){if(Qn(jn)){if(Kn.indexOf(jn)>=0)return;if(!("toJSON"in jn)){Kn[Gn]=jn;var Zn=mr(jn)?[]:{};return Er(jn,function(ir,Cr){var wr=er(ir,Gn+1);!Ir(wr)&&(Zn[Cr]=wr)}),Kn[Gn]=void 0,Zn}}return jn}(zn,0)}};function kr(zn,Kn,er,jn,Gn){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=zn,this.name="AxiosError",Kn&&(this.code=Kn),er&&(this.config=er),jn&&(this.request=jn),Gn&&(this.response=Gn)}ur.inherits(kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ur.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var lr=kr.prototype,br={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(zn){br[zn]={value:zn}}),Object.defineProperties(kr,br),Object.defineProperty(lr,"isAxiosError",{value:!0}),kr.from=function(zn,Kn,er,jn,Gn,Zn){var ir=Object.create(lr);return ur.toFlatObject(zn,ir,function(Cr){return Cr!==Error.prototype},function(Cr){return Cr!=="isAxiosError"}),kr.call(ir,zn.message,Kn,er,jn,Gn),ir.cause=zn,ir.name=zn.name,Zn&&Object.assign(ir,Zn),ir};const Mr=kr,vr=Ie(937);function jr(zn){return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},jr(zn)}function Gr(zn){return ur.isPlainObject(zn)||ur.isArray(zn)}function zr(zn){return ur.endsWith(zn,"[]")?zn.slice(0,-2):zn}function to(zn,Kn,er){return zn?zn.concat(Kn).map(function(jn,Gn){return jn=zr(jn),!er&&Gn?"["+jn+"]":jn}).join(er?".":""):Kn}var no=ur.toFlatObject(ur,{},null,function(zn){return/^is[A-Z]/.test(zn)});const oo=function(zn,Kn,er){if(!ur.isObject(zn))throw new TypeError("target must be an object");Kn=Kn||new(vr||FormData);var jn,Gn=(er=ur.toFlatObject(er,{metaTokens:!0,dots:!1,indexes:!1},!1,function(nr,Vn){return!ur.isUndefined(Vn[nr])})).metaTokens,Zn=er.visitor||Jr,ir=er.dots,Cr=er.indexes,wr=(er.Blob||typeof Blob<"u"&&Blob)&&(jn=Kn)&&ur.isFunction(jn.append)&&jn[Symbol.toStringTag]==="FormData"&&jn[Symbol.iterator];if(!ur.isFunction(Zn))throw new TypeError("visitor must be a function");function Zr(nr){if(nr===null)return"";if(ur.isDate(nr))return nr.toISOString();if(!wr&&ur.isBlob(nr))throw new Mr("Blob is not supported. Use a Buffer instead.");return ur.isArrayBuffer(nr)||ur.isTypedArray(nr)?wr&&typeof Blob=="function"?new Blob([nr]):Buffer.from(nr):nr}function Jr(nr,Vn,qn){var tr=nr;if(nr&&!qn&&jr(nr)==="object"){if(ur.endsWith(Vn,"{}"))Vn=Gn?Vn:Vn.slice(0,-2),nr=JSON.stringify(nr);else if(ur.isArray(nr)&&function(xr){return ur.isArray(xr)&&!xr.some(Gr)}(nr)||ur.isFileList(nr)||ur.endsWith(Vn,"[]")&&(tr=ur.toArray(nr)))return Vn=zr(Vn),tr.forEach(function(xr,Kr){!ur.isUndefined(xr)&&xr!==null&&Kn.append(Cr===!0?to([Vn],Kr,ir):Cr===null?Vn:Vn+"[]",Zr(xr))}),!1}return!!Gr(nr)||(Kn.append(to(qn,Vn,ir),Zr(nr)),!1)}var sr=[],ar=Object.assign(no,{defaultVisitor:Jr,convertValue:Zr,isVisitable:Gr});if(!ur.isObject(zn))throw new TypeError("data must be an object");return function nr(Vn,qn){if(!ur.isUndefined(Vn)){if(sr.indexOf(Vn)!==-1)throw Error("Circular reference detected in "+qn.join("."));sr.push(Vn),ur.forEach(Vn,function(tr,xr){(!(ur.isUndefined(tr)||tr===null)&&Zn.call(Kn,tr,ur.isString(xr)?xr.trim():xr,qn,ar))===!0&&nr(tr,qn?qn.concat(xr):[xr])}),sr.pop()}}(zn),Kn};function Eo(zn){var Kn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(zn).replace(/[!'()~]|%20|%00/g,function(er){return Kn[er]})}function So(zn,Kn){this._pairs=[],zn&&oo(zn,this,Kn)}var No=So.prototype;No.append=function(zn,Kn){this._pairs.push([zn,Kn])},No.toString=function(zn){var Kn=zn?function(er){return zn.call(this,er,Eo)}:Eo;return this._pairs.map(function(er){return Kn(er[0])+"="+Kn(er[1])},"").join("&")};const Fo=So;function Bo(zn){return encodeURIComponent(zn).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ho(zn,Kn,er){if(!Kn)return zn;var jn,Gn=er&&er.encode||Bo,Zn=er&&er.serialize;if(jn=Zn?Zn(Kn,er):ur.isURLSearchParams(Kn)?Kn.toString():new Fo(Kn,er).toString(Gn)){var ir=zn.indexOf("#");ir!==-1&&(zn=zn.slice(0,ir)),zn+=(zn.indexOf("?")===-1?"?":"&")+jn}return zn}function Go(zn){return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Go(zn)}function si(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(Go(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(Go(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),Go(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Ai=function(){function zn(){(function(jn,Gn){if(!(jn instanceof Gn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.handlers=[]}var Kn,er;return Kn=zn,er=[{key:"use",value:function(jn,Gn,Zn){return this.handlers.push({fulfilled:jn,rejected:Gn,synchronous:!!Zn&&Zn.synchronous,runWhen:Zn?Zn.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(jn){this.handlers[jn]&&(this.handlers[jn]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(jn){ur.forEach(this.handlers,function(Gn){Gn!==null&&jn(Gn)})}}],er&&si(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Po=Ai,Io={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_o=typeof URLSearchParams<"u"?URLSearchParams:Fo,eo=FormData;var so,Rr=(typeof navigator>"u"||(so=navigator.product)!=="ReactNative"&&so!=="NativeScript"&&so!=="NS")&&typeof window<"u"&&typeof document<"u",dr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";const lo={isBrowser:!0,classes:{URLSearchParams:_o,FormData:eo,Blob},isStandardBrowserEnv:Rr,isStandardBrowserWebWorkerEnv:dr,protocols:["http","https","file","blob","url","data"]},Co=function(zn){function Kn(jn,Gn,Zn,ir){var Cr=jn[ir++],wr=Number.isFinite(+Cr),Zr=ir>=jn.length;return Cr=!Cr&&ur.isArray(Zn)?Zn.length:Cr,Zr?(ur.hasOwnProp(Zn,Cr)?Zn[Cr]=[Zn[Cr],Gn]:Zn[Cr]=Gn,!wr):(Zn[Cr]&&ur.isObject(Zn[Cr])||(Zn[Cr]=[]),Kn(jn,Gn,Zn[Cr],ir)&&ur.isArray(Zn[Cr])&&(Zn[Cr]=function(Jr){var sr,ar,nr={},Vn=Object.keys(Jr),qn=Vn.length;for(sr=0;sr<qn;sr++)nr[ar=Vn[sr]]=Jr[ar];return nr}(Zn[Cr])),!wr)}if(ur.isFormData(zn)&&ur.isFunction(zn.entries)){var er={};return ur.forEachEntry(zn,function(jn,Gn){Kn(function(Zn){return ur.matchAll(/\w+|\[(\w*)]/g,Zn).map(function(ir){return ir[0]==="[]"?"":ir[1]||ir[0]})}(jn),Gn,er,0)}),er}return null};var Do={"Content-Type":void 0},go={transitional:Io,adapter:["xhr","http"],transformRequest:[function(zn,Kn){var er,jn=Kn.getContentType()||"",Gn=jn.indexOf("application/json")>-1,Zn=ur.isObject(zn);if(Zn&&ur.isHTMLForm(zn)&&(zn=new FormData(zn)),ur.isFormData(zn))return Gn&&Gn?JSON.stringify(Co(zn)):zn;if(ur.isArrayBuffer(zn)||ur.isBuffer(zn)||ur.isStream(zn)||ur.isFile(zn)||ur.isBlob(zn))return zn;if(ur.isArrayBufferView(zn))return zn.buffer;if(ur.isURLSearchParams(zn))return Kn.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),zn.toString();if(Zn){if(jn.indexOf("application/x-www-form-urlencoded")>-1)return function(Cr,wr){return oo(Cr,new lo.classes.URLSearchParams,Object.assign({visitor:function(Zr,Jr,sr,ar){return lo.isNode&&ur.isBuffer(Zr)?(this.append(Jr,Zr.toString("base64")),!1):ar.defaultVisitor.apply(this,arguments)}},wr))}(zn,this.formSerializer).toString();if((er=ur.isFileList(zn))||jn.indexOf("multipart/form-data")>-1){var ir=this.env&&this.env.FormData;return oo(er?{"files[]":zn}:zn,ir&&new ir,this.formSerializer)}}return Zn||Gn?(Kn.setContentType("application/json",!1),function(Cr,wr,Zr){if(ur.isString(Cr))try{return(0,JSON.parse)(Cr),ur.trim(Cr)}catch(Jr){if(Jr.name!=="SyntaxError")throw Jr}return(0,JSON.stringify)(Cr)}(zn)):zn}],transformResponse:[function(zn){var Kn=this.transitional||go.transitional,er=Kn&&Kn.forcedJSONParsing,jn=this.responseType==="json";if(zn&&ur.isString(zn)&&(er&&!this.responseType||jn)){var Gn=!(Kn&&Kn.silentJSONParsing)&&jn;try{return JSON.parse(zn)}catch(Zn){if(Gn)throw Zn.name==="SyntaxError"?Mr.from(Zn,Mr.ERR_BAD_RESPONSE,this,null,this.response):Zn}}return zn}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lo.classes.FormData,Blob:lo.classes.Blob},validateStatus:function(zn){return zn>=200&&zn<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ur.forEach(["delete","get","head"],function(zn){go.headers[zn]={}}),ur.forEach(["post","put","patch"],function(zn){go.headers[zn]=ur.merge(Do)});const vo=go;var co=ur.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);function Xr(zn){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Xr(zn)}function ro(zn,Kn){(Kn==null||Kn>zn.length)&&(Kn=zn.length);for(var er=0,jn=new Array(Kn);er<Kn;er++)jn[er]=zn[er];return jn}function uo(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(Xr(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(Xr(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),Xr(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Ro=Symbol("internals");function wo(zn){return zn&&String(zn).trim().toLowerCase()}function xo(zn){return zn===!1||zn==null?zn:ur.isArray(zn)?zn.map(xo):String(zn)}function bo(zn,Kn,er,jn){return ur.isFunction(jn)?jn.call(this,Kn,er):ur.isString(Kn)?ur.isString(jn)?Kn.indexOf(jn)!==-1:ur.isRegExp(jn)?jn.test(Kn):void 0:void 0}var Oo=function(zn,Kn){function er(ir){(function(Cr,wr){if(!(Cr instanceof wr))throw new TypeError("Cannot call a class as a function")})(this,er),ir&&this.set(ir)}var jn,Gn,Zn;return jn=er,Gn=[{key:"set",value:function(ir,Cr,wr){var Zr=this;function Jr(xr,Kr,Yr){var Qr=wo(Kr);if(!Qr)throw new Error("header name must be a non-empty string");var ho=ur.findKey(Zr,Qr);(!ho||Zr[ho]===void 0||Yr===!0||Yr===void 0&&Zr[ho]!==!1)&&(Zr[ho||Kr]=xo(xr))}var sr,ar,nr,Vn,qn,tr=function(xr,Kr){return ur.forEach(xr,function(Yr,Qr){return Jr(Yr,Qr,Kr)})};return ur.isPlainObject(ir)||ir instanceof this.constructor?tr(ir,Cr):ur.isString(ir)&&(ir=ir.trim())&&!/^[-_a-zA-Z]+$/.test(ir.trim())?tr((qn={},(sr=ir)&&sr.split("\n").forEach(function(xr){Vn=xr.indexOf(":"),ar=xr.substring(0,Vn).trim().toLowerCase(),nr=xr.substring(Vn+1).trim(),!ar||qn[ar]&&co[ar]||(ar==="set-cookie"?qn[ar]?qn[ar].push(nr):qn[ar]=[nr]:qn[ar]=qn[ar]?qn[ar]+", "+nr:nr)}),qn),Cr):ir!=null&&Jr(Cr,ir,wr),this}},{key:"get",value:function(ir,Cr){if(ir=wo(ir)){var wr=ur.findKey(this,ir);if(wr){var Zr=this[wr];if(!Cr)return Zr;if(Cr===!0)return function(Jr){for(var sr,ar=Object.create(null),nr=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;sr=nr.exec(Jr);)ar[sr[1]]=sr[2];return ar}(Zr);if(ur.isFunction(Cr))return Cr.call(this,Zr,wr);if(ur.isRegExp(Cr))return Cr.exec(Zr);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(ir,Cr){if(ir=wo(ir)){var wr=ur.findKey(this,ir);return!(!wr||Cr&&!bo(0,this[wr],wr,Cr))}return!1}},{key:"delete",value:function(ir,Cr){var wr=this,Zr=!1;function Jr(sr){if(sr=wo(sr)){var ar=ur.findKey(wr,sr);!ar||Cr&&!bo(0,wr[ar],ar,Cr)||(delete wr[ar],Zr=!0)}}return ur.isArray(ir)?ir.forEach(Jr):Jr(ir),Zr}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(ir){var Cr=this,wr={};return ur.forEach(this,function(Zr,Jr){var sr=ur.findKey(wr,Jr);if(sr)return Cr[sr]=xo(Zr),void delete Cr[Jr];var ar=ir?function(nr){return nr.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(Vn,qn,tr){return qn.toUpperCase()+tr})}(Jr):String(Jr).trim();ar!==Jr&&delete Cr[Jr],Cr[ar]=xo(Zr),wr[ar]=!0}),this}},{key:"concat",value:function(){for(var ir,Cr=arguments.length,wr=new Array(Cr),Zr=0;Zr<Cr;Zr++)wr[Zr]=arguments[Zr];return(ir=this.constructor).concat.apply(ir,[this].concat(wr))}},{key:"toJSON",value:function(ir){var Cr=Object.create(null);return ur.forEach(this,function(wr,Zr){wr!=null&&wr!==!1&&(Cr[Zr]=ir&&ur.isArray(wr)?wr.join(", "):wr)}),Cr}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map(function(ir){var Cr,wr,Zr=(wr=2,function(Jr){if(Array.isArray(Jr))return Jr}(Cr=ir)||function(Jr,sr){var ar=Jr==null?null:typeof Symbol<"u"&&Jr[Symbol.iterator]||Jr["@@iterator"];if(ar!=null){var nr,Vn,qn,tr,xr=[],Kr=!0,Yr=!1;try{if(qn=(ar=ar.call(Jr)).next,sr===0){if(Object(ar)!==ar)return;Kr=!1}else for(;!(Kr=(nr=qn.call(ar)).done)&&(xr.push(nr.value),xr.length!==sr);Kr=!0);}catch(Qr){Yr=!0,Vn=Qr}finally{try{if(!Kr&&ar.return!=null&&(tr=ar.return(),Object(tr)!==tr))return}finally{if(Yr)throw Vn}}return xr}}(Cr,wr)||function(Jr,sr){if(Jr){if(typeof Jr=="string")return ro(Jr,sr);var ar=Object.prototype.toString.call(Jr).slice(8,-1);return ar==="Object"&&Jr.constructor&&(ar=Jr.constructor.name),ar==="Map"||ar==="Set"?Array.from(Jr):ar==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ar)?ro(Jr,sr):void 0}}(Cr,wr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return Zr[0]+": "+Zr[1]}).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],Zn=[{key:"from",value:function(ir){return ir instanceof this?ir:new this(ir)}},{key:"concat",value:function(ir){for(var Cr=new this(ir),wr=arguments.length,Zr=new Array(wr>1?wr-1:0),Jr=1;Jr<wr;Jr++)Zr[Jr-1]=arguments[Jr];return Zr.forEach(function(sr){return Cr.set(sr)}),Cr}},{key:"accessor",value:function(ir){var Cr=(this[Ro]=this[Ro]={accessors:{}}).accessors,wr=this.prototype;function Zr(Jr){var sr=wo(Jr);Cr[sr]||(function(ar,nr){var Vn=ur.toCamelCase(" "+nr);["get","set","has"].forEach(function(qn){Object.defineProperty(ar,qn+Vn,{value:function(tr,xr,Kr){return this[qn].call(this,nr,tr,xr,Kr)},configurable:!0})})}(wr,Jr),Cr[sr]=!0)}return ur.isArray(ir)?ir.forEach(Zr):Zr(ir),this}}],Gn&&uo(jn.prototype,Gn),Zn&&uo(jn,Zn),Object.defineProperty(jn,"prototype",{writable:!1}),er}();Oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),ur.freezeMethods(Oo.prototype),ur.freezeMethods(Oo);const To=Oo;function Mo(zn,Kn){var er=this||vo,jn=Kn||er,Gn=To.from(jn.headers),Zn=jn.data;return ur.forEach(zn,function(ir){Zn=ir.call(er,Zn,Gn.normalize(),Kn?Kn.status:void 0)}),Gn.normalize(),Zn}function Wo(zn){return!(!zn||!zn.__CANCEL__)}function qo(zn,Kn,er){Mr.call(this,zn==null?"canceled":zn,Mr.ERR_CANCELED,Kn,er),this.name="CanceledError"}ur.inherits(qo,Mr,{__CANCEL__:!0});const Zo=qo,ii=lo.isStandardBrowserEnv?{write:function(zn,Kn,er,jn,Gn,Zn){var ir=[];ir.push(zn+"="+encodeURIComponent(Kn)),ur.isNumber(er)&&ir.push("expires="+new Date(er).toGMTString()),ur.isString(jn)&&ir.push("path="+jn),ur.isString(Gn)&&ir.push("domain="+Gn),Zn===!0&&ir.push("secure"),document.cookie=ir.join("; ")},read:function(zn){var Kn=document.cookie.match(new RegExp("(^|;\\s*)("+zn+")=([^;]*)"));return Kn?decodeURIComponent(Kn[3]):null},remove:function(zn){this.write(zn,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function pi(zn,Kn){return zn&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Kn)?function(er,jn){return jn?er.replace(/\/+$/,"")+"/"+jn.replace(/^\/+/,""):er}(zn,Kn):Kn}const fi=lo.isStandardBrowserEnv?function(){var zn,Kn=/(msie|trident)/i.test(navigator.userAgent),er=document.createElement("a");function jn(Gn){var Zn=Gn;return Kn&&(er.setAttribute("href",Zn),Zn=er.href),er.setAttribute("href",Zn),{href:er.href,protocol:er.protocol?er.protocol.replace(/:$/,""):"",host:er.host,search:er.search?er.search.replace(/^\?/,""):"",hash:er.hash?er.hash.replace(/^#/,""):"",hostname:er.hostname,port:er.port,pathname:er.pathname.charAt(0)==="/"?er.pathname:"/"+er.pathname}}return zn=jn(window.location.href),function(Gn){var Zn=ur.isString(Gn)?jn(Gn):Gn;return Zn.protocol===zn.protocol&&Zn.host===zn.host}}():function(){return!0};function mi(zn,Kn){var er=0,jn=function(Gn,Zn){Gn=Gn||10;var ir,Cr=new Array(Gn),wr=new Array(Gn),Zr=0,Jr=0;return Zn=Zn!==void 0?Zn:1e3,function(sr){var ar=Date.now(),nr=wr[Jr];ir||(ir=ar),Cr[Zr]=sr,wr[Zr]=ar;for(var Vn=Jr,qn=0;Vn!==Zr;)qn+=Cr[Vn++],Vn%=Gn;if((Zr=(Zr+1)%Gn)===Jr&&(Jr=(Jr+1)%Gn),!(ar-ir<Zn)){var tr=nr&&ar-nr;return tr?Math.round(1e3*qn/tr):void 0}}}(50,250);return function(Gn){var Zn=Gn.loaded,ir=Gn.lengthComputable?Gn.total:void 0,Cr=Zn-er,wr=jn(Cr);er=Zn;var Zr={loaded:Zn,total:ir,progress:ir?Zn/ir:void 0,bytes:Cr,rate:wr||void 0,estimated:wr&&ir&&Zn<=ir?(ir-Zn)/wr:void 0,event:Gn};Zr[Kn?"download":"upload"]=!0,zn(Zr)}}var ri={http:null,xhr:typeof XMLHttpRequest<"u"&&function(zn){return new Promise(function(Kn,er){var jn,Gn=zn.data,Zn=To.from(zn.headers).normalize(),ir=zn.responseType;function Cr(){zn.cancelToken&&zn.cancelToken.unsubscribe(jn),zn.signal&&zn.signal.removeEventListener("abort",jn)}ur.isFormData(Gn)&&(lo.isStandardBrowserEnv||lo.isStandardBrowserWebWorkerEnv)&&Zn.setContentType(!1);var wr=new XMLHttpRequest;if(zn.auth){var Zr=zn.auth.username||"",Jr=zn.auth.password?unescape(encodeURIComponent(zn.auth.password)):"";Zn.set("Authorization","Basic "+btoa(Zr+":"+Jr))}var sr=pi(zn.baseURL,zn.url);function ar(){if(wr){var tr=To.from("getAllResponseHeaders"in wr&&wr.getAllResponseHeaders());(function(xr,Kr,Yr){var Qr=Yr.config.validateStatus;Yr.status&&Qr&&!Qr(Yr.status)?Kr(new Mr("Request failed with status code "+Yr.status,[Mr.ERR_BAD_REQUEST,Mr.ERR_BAD_RESPONSE][Math.floor(Yr.status/100)-4],Yr.config,Yr.request,Yr)):xr(Yr)})(function(xr){Kn(xr),Cr()},function(xr){er(xr),Cr()},{data:ir&&ir!=="text"&&ir!=="json"?wr.response:wr.responseText,status:wr.status,statusText:wr.statusText,headers:tr,config:zn,request:wr}),wr=null}}if(wr.open(zn.method.toUpperCase(),Ho(sr,zn.params,zn.paramsSerializer),!0),wr.timeout=zn.timeout,"onloadend"in wr?wr.onloadend=ar:wr.onreadystatechange=function(){wr&&wr.readyState===4&&(wr.status!==0||wr.responseURL&&wr.responseURL.indexOf("file:")===0)&&setTimeout(ar)},wr.onabort=function(){wr&&(er(new Mr("Request aborted",Mr.ECONNABORTED,zn,wr)),wr=null)},wr.onerror=function(){er(new Mr("Network Error",Mr.ERR_NETWORK,zn,wr)),wr=null},wr.ontimeout=function(){var tr=zn.timeout?"timeout of "+zn.timeout+"ms exceeded":"timeout exceeded",xr=zn.transitional||Io;zn.timeoutErrorMessage&&(tr=zn.timeoutErrorMessage),er(new Mr(tr,xr.clarifyTimeoutError?Mr.ETIMEDOUT:Mr.ECONNABORTED,zn,wr)),wr=null},lo.isStandardBrowserEnv){var nr=(zn.withCredentials||fi(sr))&&zn.xsrfCookieName&&ii.read(zn.xsrfCookieName);nr&&Zn.set(zn.xsrfHeaderName,nr)}Gn===void 0&&Zn.setContentType(null),"setRequestHeader"in wr&&ur.forEach(Zn.toJSON(),function(tr,xr){wr.setRequestHeader(xr,tr)}),ur.isUndefined(zn.withCredentials)||(wr.withCredentials=!!zn.withCredentials),ir&&ir!=="json"&&(wr.responseType=zn.responseType),typeof zn.onDownloadProgress=="function"&&wr.addEventListener("progress",mi(zn.onDownloadProgress,!0)),typeof zn.onUploadProgress=="function"&&wr.upload&&wr.upload.addEventListener("progress",mi(zn.onUploadProgress)),(zn.cancelToken||zn.signal)&&(jn=function(tr){wr&&(er(!tr||tr.type?new Zo(null,zn,wr):tr),wr.abort(),wr=null)},zn.cancelToken&&zn.cancelToken.subscribe(jn),zn.signal&&(zn.signal.aborted?jn():zn.signal.addEventListener("abort",jn)));var Vn,qn=(Vn=/^([-+\w]{1,25})(:?\/\/|:)/.exec(sr))&&Vn[1]||"";qn&&lo.protocols.indexOf(qn)===-1?er(new Mr("Unsupported protocol "+qn+":",Mr.ERR_BAD_REQUEST,zn)):wr.send(Gn||null)})}};ur.forEach(ri,function(zn,Kn){if(zn){try{Object.defineProperty(zn,"name",{value:Kn})}catch(er){}Object.defineProperty(zn,"adapterName",{value:Kn})}});function _i(zn){if(zn.cancelToken&&zn.cancelToken.throwIfRequested(),zn.signal&&zn.signal.aborted)throw new Zo(null,zn)}function ui(zn){return _i(zn),zn.headers=To.from(zn.headers),zn.data=Mo.call(zn,zn.transformRequest),["post","put","patch"].indexOf(zn.method)!==-1&&zn.headers.setContentType("application/x-www-form-urlencoded",!1),function(Kn){for(var er,jn,Gn=(Kn=ur.isArray(Kn)?Kn:[Kn]).length,Zn=0;Zn<Gn&&(er=Kn[Zn],!(jn=ur.isString(er)?ri[er.toLowerCase()]:er));Zn++);if(!jn)throw jn===!1?new Mr("Adapter ".concat(er," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(ur.hasOwnProp(ri,er)?"Adapter '".concat(er,"' is not available in the build"):"Unknown adapter '".concat(er,"'"));if(!ur.isFunction(jn))throw new TypeError("adapter is not a function");return jn}(zn.adapter||vo.adapter)(zn).then(function(Kn){return _i(zn),Kn.data=Mo.call(zn,zn.transformResponse,Kn),Kn.headers=To.from(Kn.headers),Kn},function(Kn){return Wo(Kn)||(_i(zn),Kn&&Kn.response&&(Kn.response.data=Mo.call(zn,zn.transformResponse,Kn.response),Kn.response.headers=To.from(Kn.response.headers))),Promise.reject(Kn)})}var Oi=function(zn){return zn instanceof To?zn.toJSON():zn};function oi(zn,Kn){Kn=Kn||{};var er={};function jn(Zr,Jr,sr){return ur.isPlainObject(Zr)&&ur.isPlainObject(Jr)?ur.merge.call({caseless:sr},Zr,Jr):ur.isPlainObject(Jr)?ur.merge({},Jr):ur.isArray(Jr)?Jr.slice():Jr}function Gn(Zr,Jr,sr){return ur.isUndefined(Jr)?ur.isUndefined(Zr)?void 0:jn(void 0,Zr,sr):jn(Zr,Jr,sr)}function Zn(Zr,Jr){if(!ur.isUndefined(Jr))return jn(void 0,Jr)}function ir(Zr,Jr){return ur.isUndefined(Jr)?ur.isUndefined(Zr)?void 0:jn(void 0,Zr):jn(void 0,Jr)}function Cr(Zr,Jr,sr){return sr in Kn?jn(Zr,Jr):sr in zn?jn(void 0,Zr):void 0}var wr={url:Zn,method:Zn,data:Zn,baseURL:ir,transformRequest:ir,transformResponse:ir,paramsSerializer:ir,timeout:ir,timeoutMessage:ir,withCredentials:ir,adapter:ir,responseType:ir,xsrfCookieName:ir,xsrfHeaderName:ir,onUploadProgress:ir,onDownloadProgress:ir,decompress:ir,maxContentLength:ir,maxBodyLength:ir,beforeRedirect:ir,transport:ir,httpAgent:ir,httpsAgent:ir,cancelToken:ir,socketPath:ir,responseEncoding:ir,validateStatus:Cr,headers:function(Zr,Jr){return Gn(Oi(Zr),Oi(Jr),!0)}};return ur.forEach(Object.keys(zn).concat(Object.keys(Kn)),function(Zr){var Jr=wr[Zr]||Gn,sr=Jr(zn[Zr],Kn[Zr],Zr);ur.isUndefined(sr)&&Jr!==Cr||(er[Zr]=sr)}),er}function gi(zn){return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},gi(zn)}var xi={};["object","boolean","number","function","string","symbol"].forEach(function(zn,Kn){xi[zn]=function(er){return gi(er)===zn||"a"+(Kn<1?"n ":" ")+zn}});var Ui={};xi.transitional=function(zn,Kn,er){function jn(Gn,Zn){return"[Axios v1.2.3] Transitional option '"+Gn+"'"+Zn+(er?". "+er:"")}return function(Gn,Zn,ir){if(zn===!1)throw new Mr(jn(Zn," has been removed"+(Kn?" in "+Kn:"")),Mr.ERR_DEPRECATED);return Kn&&!Ui[Zn]&&(Ui[Zn]=!0,console.warn(jn(Zn," has been deprecated since v"+Kn+" and will be removed in the near future"))),!zn||zn(Gn,Zn,ir)}};const Vi={assertOptions:function(zn,Kn,er){if(gi(zn)!=="object")throw new Mr("options must be an object",Mr.ERR_BAD_OPTION_VALUE);for(var jn=Object.keys(zn),Gn=jn.length;Gn-- >0;){var Zn=jn[Gn],ir=Kn[Zn];if(ir){var Cr=zn[Zn],wr=Cr===void 0||ir(Cr,Zn,zn);if(wr!==!0)throw new Mr("option "+Zn+" must be "+wr,Mr.ERR_BAD_OPTION_VALUE)}else if(er!==!0)throw new Mr("Unknown option "+Zn,Mr.ERR_BAD_OPTION)}},validators:xi};function vi(zn){return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},vi(zn)}function ya(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(vi(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(vi(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),vi(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Ti=Vi.validators,Yi=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.defaults=jn,this.interceptors={request:new Po,response:new Po}}var Kn,er;return Kn=zn,(er=[{key:"request",value:function(jn,Gn){typeof jn=="string"?(Gn=Gn||{}).url=jn:Gn=jn||{};var Zn,ir=Gn=oi(this.defaults,Gn),Cr=ir.transitional,wr=ir.paramsSerializer,Zr=ir.headers;Cr!==void 0&&Vi.assertOptions(Cr,{silentJSONParsing:Ti.transitional(Ti.boolean),forcedJSONParsing:Ti.transitional(Ti.boolean),clarifyTimeoutError:Ti.transitional(Ti.boolean)},!1),wr!==void 0&&Vi.assertOptions(wr,{encode:Ti.function,serialize:Ti.function},!0),Gn.method=(Gn.method||this.defaults.method||"get").toLowerCase(),(Zn=Zr&&ur.merge(Zr.common,Zr[Gn.method]))&&ur.forEach(["delete","get","head","post","put","patch","common"],function(Qr){delete Zr[Qr]}),Gn.headers=To.concat(Zn,Zr);var Jr=[],sr=!0;this.interceptors.request.forEach(function(Qr){typeof Qr.runWhen=="function"&&Qr.runWhen(Gn)===!1||(sr=sr&&Qr.synchronous,Jr.unshift(Qr.fulfilled,Qr.rejected))});var ar,nr=[];this.interceptors.response.forEach(function(Qr){nr.push(Qr.fulfilled,Qr.rejected)});var Vn,qn=0;if(!sr){var tr=[ui.bind(this),void 0];for(tr.unshift.apply(tr,Jr),tr.push.apply(tr,nr),Vn=tr.length,ar=Promise.resolve(Gn);qn<Vn;)ar=ar.then(tr[qn++],tr[qn++]);return ar}Vn=Jr.length;var xr=Gn;for(qn=0;qn<Vn;){var Kr=Jr[qn++],Yr=Jr[qn++];try{xr=Kr(xr)}catch(Qr){Yr.call(this,Qr);break}}try{ar=ui.call(this,xr)}catch(Qr){return Promise.reject(Qr)}for(qn=0,Vn=nr.length;qn<Vn;)ar=ar.then(nr[qn++],nr[qn++]);return ar}},{key:"getUri",value:function(jn){return Ho(pi((jn=oi(this.defaults,jn)).baseURL,jn.url),jn.params,jn.paramsSerializer)}}])&&ya(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();ur.forEach(["delete","get","head","options"],function(zn){Yi.prototype[zn]=function(Kn,er){return this.request(oi(er||{},{method:zn,url:Kn,data:(er||{}).data}))}}),ur.forEach(["post","put","patch"],function(zn){function Kn(er){return function(jn,Gn,Zn){return this.request(oi(Zn||{},{method:zn,headers:er?{"Content-Type":"multipart/form-data"}:{},url:jn,data:Gn}))}}Yi.prototype[zn]=Kn(),Yi.prototype[zn+"Form"]=Kn(!0)});const Ni=Yi;function ji(zn){return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ji(zn)}function zi(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ji(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ji(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ji(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var La=function(){function zn(Gn){if(function(Cr,wr){if(!(Cr instanceof wr))throw new TypeError("Cannot call a class as a function")}(this,zn),typeof Gn!="function")throw new TypeError("executor must be a function.");var Zn;this.promise=new Promise(function(Cr){Zn=Cr});var ir=this;this.promise.then(function(Cr){if(ir._listeners){for(var wr=ir._listeners.length;wr-- >0;)ir._listeners[wr](Cr);ir._listeners=null}}),this.promise.then=function(Cr){var wr,Zr=new Promise(function(Jr){ir.subscribe(Jr),wr=Jr}).then(Cr);return Zr.cancel=function(){ir.unsubscribe(wr)},Zr},Gn(function(Cr,wr,Zr){ir.reason||(ir.reason=new Zo(Cr,wr,Zr),Zn(ir.reason))})}var Kn,er,jn;return Kn=zn,er=[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(Gn){this.reason?Gn(this.reason):this._listeners?this._listeners.push(Gn):this._listeners=[Gn]}},{key:"unsubscribe",value:function(Gn){if(this._listeners){var Zn=this._listeners.indexOf(Gn);Zn!==-1&&this._listeners.splice(Zn,1)}}}],jn=[{key:"source",value:function(){var Gn;return{token:new zn(function(Zn){Gn=Zn}),cancel:Gn}}}],er&&zi(Kn.prototype,er),jn&&zi(Kn,jn),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const ba=La;function Aa(zn,Kn){(Kn==null||Kn>zn.length)&&(Kn=zn.length);for(var er=0,jn=new Array(Kn);er<Kn;er++)jn[er]=zn[er];return jn}var Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ri).forEach(function(zn){var Kn,er,jn=(er=2,function(ir){if(Array.isArray(ir))return ir}(Kn=zn)||function(ir,Cr){var wr=ir==null?null:typeof Symbol<"u"&&ir[Symbol.iterator]||ir["@@iterator"];if(wr!=null){var Zr,Jr,sr,ar,nr=[],Vn=!0,qn=!1;try{if(sr=(wr=wr.call(ir)).next,Cr===0){if(Object(wr)!==wr)return;Vn=!1}else for(;!(Vn=(Zr=sr.call(wr)).done)&&(nr.push(Zr.value),nr.length!==Cr);Vn=!0);}catch(tr){qn=!0,Jr=tr}finally{try{if(!Vn&&wr.return!=null&&(ar=wr.return(),Object(ar)!==ar))return}finally{if(qn)throw Jr}}return nr}}(Kn,er)||function(ir,Cr){if(ir){if(typeof ir=="string")return Aa(ir,Cr);var wr=Object.prototype.toString.call(ir).slice(8,-1);return wr==="Object"&&ir.constructor&&(wr=ir.constructor.name),wr==="Map"||wr==="Set"?Array.from(ir):wr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wr)?Aa(ir,Cr):void 0}}(Kn,er)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Gn=jn[0],Zn=jn[1];Ri[Zn]=Gn});const Ia=Ri;var ti=function zn(Kn){var er=new Ni(Kn),jn=Un(Ni.prototype.request,er);return ur.extend(jn,Ni.prototype,er,{allOwnKeys:!0}),ur.extend(jn,er,null,{allOwnKeys:!0}),jn.create=function(Gn){return zn(oi(Kn,Gn))},jn}(vo);ti.Axios=Ni,ti.CanceledError=Zo,ti.CancelToken=ba,ti.isCancel=Wo,ti.VERSION="1.2.3",ti.toFormData=oo,ti.AxiosError=Mr,ti.Cancel=ti.CanceledError,ti.all=function(zn){return Promise.all(zn)},ti.spread=function(zn){return function(Kn){return zn.apply(null,Kn)}},ti.isAxiosError=function(zn){return ur.isObject(zn)&&zn.isAxiosError===!0},ti.mergeConfig=oi,ti.AxiosHeaders=To,ti.formToJSON=function(zn){return Co(ur.isHTMLForm(zn)?new FormData(zn):zn)},ti.HttpStatusCode=Ia,ti.default=ti;const Ea=ti,qi={send:function(zn){Ea.post(zn.url,zn.data).then(function(Kn){var er=Kn.data;er&&er.code===0?zn.success&&zn.success(er):zn.error&&zn.error(er&&er.msg)}).catch(function(Kn){console.error(Kn),zn.error&&zn.error()})},read:function(zn){Ea.get(zn.url).then(function(Kn){var er=Kn.data;er&&er.code===0?zn.success&&zn.success(er.data.map(function(jn){return{time:jn[0],type:jn[1],color:jn[2],author:jn[3],text:jn[4]}})):zn.error&&zn.error(er&&er.msg)}).catch(function(Kn){console.error(Kn),zn.error&&zn.error()})}};function oa(zn){return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},oa(zn)}function Ra(zn){var Kn=this;this.lang=zn,this.fallbackLang=this.lang.includes("-")?this.lang.split("-")[0]:this.lang,this.tran=function(er){return er=er.toLowerCase(),ai[Kn.lang]&&ai[Kn.lang][er]?ai[Kn.lang][er]:ai[Kn.fallbackLang]&&ai[Kn.fallbackLang][er]?ai[Kn.fallbackLang][er]:ia[er]?ia[er]:er}}var ia={"danmaku-loading":"Danmaku is loading",top:"Top",bottom:"Bottom",rolling:"Rolling","input-danmaku-enter":"Input danmaku, hit Enter","about-author":"About author","dplayer-feedback":"DPlayer feedback","about-dplayer":"About DPlayer",loop:"Loop",speed:"Speed","opacity-danmaku":"Opacity for danmaku",normal:"Normal","please-input-danmaku":"Please input danmaku content!","set-danmaku-color":"Set danmaku color","set-danmaku-type":"Set danmaku type","show-danmaku":"Show danmaku","video-failed":"Video load failed","danmaku-failed":"Danmaku load failed","danmaku-send-failed":"Danmaku send failed","switching-quality":"Switching to %q quality","switched-quality":"Switched to %q quality",ff:"FF %s s",rew:"REW %s s","unlimited-danmaku":"Unlimited danmaku","send-danmaku":"Send danmaku",setting:"Setting",fullscreen:"Full screen","web-fullscreen":"Web full screen",send:"Send",screenshot:"Screenshot",airplay:"AirPlay",chromecast:"ChromeCast",subtitle:"Subtitle",off:"Off","show-subs":"Show subtitle","hide-subs":"Hide subtitle",volume:"Volume",live:"Live","video-info":"Video info"},ai={en:ia,"zh-cn":{"danmaku-loading":"弹幕加载中",top:"顶部",bottom:"底部",rolling:"滚动","input-danmaku-enter":"输入弹幕，回车发送","about-author":"关于作者","dplayer-feedback":"播放器意见反馈","about-dplayer":"关于 DPlayer 播放器",loop:"洗脑循环",speed:"速度","opacity-danmaku":"弹幕透明度",normal:"正常","please-input-danmaku":"要输入弹幕内容啊喂！","set-danmaku-color":"设置弹幕颜色","set-danmaku-type":"设置弹幕类型","show-danmaku":"显示弹幕","video-failed":"视频加载失败","danmaku-failed":"弹幕加载失败","danmaku-send-failed":"弹幕发送失败","switching-quality":"正在切换至 %q 画质","switched-quality":"已经切换至 %q 画质",ff:"快进 %s 秒",rew:"快退 %s 秒","unlimited-danmaku":"海量弹幕","send-danmaku":"发送弹幕",setting:"设置",fullscreen:"全屏","web-fullscreen":"页面全屏",send:"发送",screenshot:"截图",airplay:"无线投屏",chromecast:"ChromeCast",subtitle:"字幕",off:"关闭","show-subs":"显示字幕","hide-subs":"隐藏字幕",volume:"音量",live:"直播","video-info":"视频统计信息"},"zh-tw":{"danmaku-loading":"彈幕載入中",top:"頂部",bottom:"底部",rolling:"滾動","input-danmaku-enter":"輸入彈幕，Enter 發送","about-author":"關於作者","dplayer-feedback":"播放器意見回饋","about-dplayer":"關於 DPlayer 播放器",loop:"循環播放",speed:"速度","opacity-danmaku":"彈幕透明度",normal:"正常","please-input-danmaku":"請輸入彈幕內容啊！","set-danmaku-color":"設定彈幕顏色","set-danmaku-type":"設定彈幕類型","show-danmaku":"顯示彈幕","video-failed":"影片載入失敗","danmaku-failed":"彈幕載入失敗","danmaku-send-failed":"彈幕發送失敗","switching-quality":"正在切換至 %q 畫質","switched-quality":"已經切換至 %q 畫質",ff:"快進 %s 秒",rew:"快退 %s 秒","unlimited-danmaku":"巨量彈幕","send-danmaku":"發送彈幕",setting:"設定",fullscreen:"全螢幕","web-fullscreen":"頁面全螢幕",send:"發送",screenshot:"截圖",airplay:"無線投屏",chromecast:"ChromeCast",subtitle:"字幕",off:"關閉","show-subs":"顯示字幕","hide-subs":"隱藏字幕",volume:"音量",live:"直播","video-info":"影片統計訊息"},"ko-kr":{"danmaku-loading":"Danmaku를 불러오는 중입니다.",top:"Top",bottom:"Bottom",rolling:"Rolling","input-danmaku-enter":"Danmaku를 입력하고 Enter를 누르세요.","about-author":"만든이","dplayer-feedback":"피드백 보내기","about-dplayer":"DPlayer 정보",loop:"반복",speed:"배속","opacity-danmaku":"Danmaku 불투명도",normal:"표준","please-input-danmaku":"Danmaku를 입력하세요!","set-danmaku-color":"Danmaku 색상","set-danmaku-type":"Danmaku 설정","show-danmaku":"Danmaku 표시","video-failed":"비디오를 불러오지 못했습니다.","danmaku-failed":"Danmaku를 불러오지 못했습니다.","danmaku-send-failed":"Danmaku 전송에 실패했습니다.","Switching to":"","Switched to":"","switching-quality":"전환 %q 화질","switched-quality":"전환 됨 %q 화질",ff:"앞으로 %s 초",rew:"뒤로 %s 초","unlimited-danmaku":"끝없는 Danmaku","send-danmaku":"Danmaku 보내기",setting:"설정",fullscreen:"전체 화면","web-fullscreen":"웹 내 전체화면",send:"보내기",screenshot:"화면 캡쳐",airplay:"에어플레이",chromecast:"ChromeCast",subtitle:"부제",off:"끄다","show-subs":"자막 보이기","hide-subs":"자막 숨기기",Volume:"볼륨",live:"생방송","video-info":"비디오 정보"},de:{"danmaku-loading":"Danmaku lädt...",top:"Oben",bottom:"Unten",rolling:"Rollend","input-danmaku-enter":"Drücke Enter nach dem Einfügen vom Danmaku","about-author":"Über den Autor","dplayer-feedback":"DPlayer Feedback","about-dplayer":"Über DPlayer",loop:"Wiederholen",speed:"Geschwindigkeit","opacity-danmaku":"Transparenz für Danmaku",normal:"Normal","please-input-danmaku":"Bitte Danmaku Inhalt eingeben!","set-danmaku-color":"Danmaku Farbe festlegen","set-danmaku-type":"Danmaku Typ festlegen","show-danmaku":"Zeige Danmaku","video-failed":"Das Video konnte nicht geladen werden","danmaku-failed":"Danmaku konnte nicht geladen werden","danmaku-send-failed":"Das senden von Danmaku ist fehgeschlagen","switching-quality":"Wechsle zur %q Qualität","switched-quality":"Zur %q Qualität gewechselt",ff:"%s s Vorwärts",rew:"%s s Zurück","unlimited-danmaku":"Unlimitiertes Danmaku","send-danmaku":"Sende Danmaku",setting:"Einstellungen",fullscreen:"Vollbild","web-fullscreen":"Browser Vollbild",send:"Senden",screenshot:"Screenshot",airplay:"AirPlay","show-subs":"Zeige Untertitel",chromecast:"ChromeCast",subtitle:"Untertitel",off:"Schließung","hide-subs":"Verstecke Untertitel",volume:"Lautstärke",live:"Live","video-info":"Video Info"}},Pa=Ie(730),Yo=Ie.n(Pa),Da=Ie(74),Pi=Ie.n(Da),Oa=Ie(437),Na=Ie.n(Oa),Ma=Ie(644),Hi=Ie.n(Ma),Ba=Ie(324),Fa=Ie.n(Ba),xa=Ie(574),$a=Ie.n(xa),Ca=Ie(300),Ua=Ie.n(Ca),Va=Ie(934),Sa=Ie.n(Va),ja=Ie(428),aa=Ie.n(ja),Ao=Ie(807),$o=Ie.n(Ao),yo=Ie(338),pr=Ie.n(yo),hr=Ie(254),Nr=Ie.n(hr),Wr=Ie(965),fo=Ie.n(Wr),io=Ie(113),po=Ie.n(io),mo=Ie(251),ko=Ie.n(mo),jo=Ie(410),Ko=Ie.n(jo),Xo=Ie(182),li=Ie.n(Xo),Vo=Ie(193),Jo=Ie.n(Vo);const Qo={play:Yo(),pause:Pi(),volumeUp:Na(),volumeDown:Hi(),volumeOff:Fa(),full:$a(),fullWeb:Ua(),setting:Sa(),right:aa(),comment:$o(),commentOff:pr(),send:Nr(),pallette:fo(),camera:po(),subtitle:Ko(),loading:li(),airplay:ko(),chromecast:Jo()};var hi=Ie(916),Ki=Ie.n(hi);function wi(zn){return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},wi(zn)}function Gi(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(wi(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(wi(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),wi(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var ki=function(){function zn(Gn){(function(Zn,ir){if(!(Zn instanceof ir))throw new TypeError("Cannot call a class as a function")})(this,zn),this.container=Gn.container,this.options=Gn.options,this.index=Gn.index,this.tran=Gn.tran,this.init()}var Kn,er,jn;return Kn=zn,jn=[{key:"NewNotice",value:function(Gn,Zn,ir){var Cr=document.createElement("div");return Cr.classList.add("dplayer-notice"),Cr.style.opacity=Zn,Cr.innerText=Gn,ir&&(Cr.id="dplayer-notice-".concat(ir)),Cr}}],(er=[{key:"init",value:function(){this.container.innerHTML=Ki()({options:this.options,index:this.index,tran:this.tran,icons:Qo,mobile:Fn.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:!(!Fn.isSafari||Fn.isChrome)&&this.options.airplay,chromecast:this.options.chromecast,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.chromecastButton=this.container.querySelector(".dplayer-chromecast-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitlesButton=this.container.querySelector(".dplayer-subtitles-icon"),this.subtitlesBox=this.container.querySelector(".dplayer-subtitles-box"),this.subtitlesItem=this.container.querySelectorAll(".dplayer-subtitles-item"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.subtrack=this.container.querySelector(".dplayer-subtrack"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.noticeList=this.container.querySelector(".dplayer-notice-list"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&Gi(Kn.prototype,er),jn&&Gi(Kn,jn),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const bi=ki;function ci(zn){return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ci(zn)}function Li(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ci(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ci(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ci(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Mi=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.options=jn,this.player=this.options.player,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var Kn,er;return Kn=zn,er=[{key:"load",value:function(){var jn,Gn=this;jn=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var Zn=(this.options.api.addition||[]).slice(0);Zn.push(jn),this.events&&this.events.trigger("danmaku_load_start",Zn),this._readAllEndpoints(Zn,function(ir){Gn.dan=[].concat.apply([],ir).sort(function(Cr,wr){return Cr.time-wr.time}),window.requestAnimationFrame(function(){Gn.frame()}),Gn.options.callback(),Gn.events&&Gn.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(jn){this.options.api=jn,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(jn,Gn){for(var Zn=this,ir=[],Cr=0,wr=function(Jr){Zn.options.apiBackend.read({url:jn[Jr],success:function(sr){ir[Jr]=sr,++Cr===jn.length&&Gn(ir)},error:function(sr){Zn.options.error(sr||Zn.options.tran("danmaku-failed")),ir[Jr]=[],++Cr===jn.length&&Gn(ir)}})},Zr=0;Zr<jn.length;++Zr)wr(Zr)}},{key:"send",value:function(jn,Gn){var Zn=this,ir={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:jn.text,color:jn.color,type:jn.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:ir,success:Gn,error:function(wr){Zn.options.error(wr||Zn.options.tran("danmaku-failed"))}}),this.dan.splice(this.danIndex,0,ir),this.danIndex++;var Cr={text:this.htmlEncode(ir.text),color:ir.color,type:ir.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(Cr),this.events&&this.events.trigger("danmaku_send",ir)}},{key:"frame",value:function(){var jn=this;if(this.dan.length&&!this.paused&&this.showing){for(var Gn=this.dan[this.danIndex],Zn=[];Gn&&this.options.time()>parseFloat(Gn.time);)Zn.push(Gn),Gn=this.dan[++this.danIndex];this.draw(Zn)}window.requestAnimationFrame(function(){jn.frame()})}},{key:"opacity",value:function(jn){if(jn!==void 0){for(var Gn=this.container.getElementsByClassName("dplayer-danmaku-item"),Zn=0;Zn<Gn.length;Zn++)Gn[Zn].style.opacity=jn;this._opacity=jn,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(jn){var Gn=this;if(this.showing){var Zn=this.options.height,ir=this.container.offsetWidth,Cr=this.container.offsetHeight,wr=parseInt(Cr/Zn),Zr=function(qn){var tr=qn.offsetWidth||parseInt(qn.style.width),xr=qn.getBoundingClientRect().right||Gn.container.getBoundingClientRect().right+tr;return Gn.container.getBoundingClientRect().right-xr},Jr=function(qn){return(ir+qn)/5},sr=function(qn,tr,xr){for(var Kr=ir/Jr(xr),Yr=function(Lo){var Uo=Gn.danTunnel[tr][Lo+""];if(!Uo||!Uo.length)return Gn.danTunnel[tr][Lo+""]=[qn],qn.addEventListener("animationend",function(){Gn.danTunnel[tr][Lo+""].splice(0,1)}),{v:Lo%wr};if(tr!=="right")return"continue";for(var zo=0;zo<Uo.length;zo++){var ei=Zr(Uo[zo])-10;if(ei<=ir-Kr*Jr(parseInt(Uo[zo].style.width))||ei<=0)break;if(zo===Uo.length-1)return Gn.danTunnel[tr][Lo+""].push(qn),qn.addEventListener("animationend",function(){Gn.danTunnel[tr][Lo+""].splice(0,1)}),{v:Lo%wr}}},Qr=0;Gn.unlimited||Qr<wr;Qr++){var ho=Yr(Qr);if(ho!=="continue"&&ci(ho)==="object")return ho.v}return-1};Object.prototype.toString.call(jn)!=="[object Array]"&&(jn=[jn]);for(var ar=document.createDocumentFragment(),nr=function(){jn[Vn].type=Fn.number2Type(jn[Vn].type),jn[Vn].color||(jn[Vn].color=16777215);var qn=document.createElement("div");qn.classList.add("dplayer-danmaku-item"),qn.classList.add("dplayer-danmaku-".concat(jn[Vn].type)),jn[Vn].border?qn.innerHTML='<span style="border:'.concat(jn[Vn].border,'">').concat(jn[Vn].text,"</span>"):qn.innerHTML=jn[Vn].text,qn.style.opacity=Gn._opacity,qn.style.color=Fn.number2Color(jn[Vn].color),qn.addEventListener("animationend",function(){Gn.container.removeChild(qn)});var tr,xr=Gn._measure(jn[Vn].text);switch(jn[Vn].type){case"right":(tr=sr(qn,jn[Vn].type,xr))>=0&&(qn.style.width=xr+1+"px",qn.style.top=Zn*tr+"px",qn.style.transform="translateX(-".concat(ir,"px)"));break;case"top":(tr=sr(qn,jn[Vn].type))>=0&&(qn.style.top=Zn*tr+"px");break;case"bottom":(tr=sr(qn,jn[Vn].type))>=0&&(qn.style.bottom=Zn*tr+"px");break;default:console.error("Can't handled danmaku type: ".concat(jn[Vn].type))}tr>=0&&(qn.classList.add("dplayer-danmaku-move"),qn.style.animationDuration=Gn._danAnimation(jn[Vn].type),ar.appendChild(qn))},Vn=0;Vn<jn.length;Vn++)nr();return this.container.appendChild(ar),ar}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(jn){if(!this.context){var Gn=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=Gn.getPropertyValue("font")}return this.context.measureText(jn).width}},{key:"seek",value:function(){this.clear();for(var jn=0;jn<this.dan.length;jn++){if(this.dan[jn].time>=this.options.time()){this.danIndex=jn;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(jn){return jn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var jn=this.container.offsetWidth,Gn=this.container.getElementsByClassName("dplayer-danmaku-item"),Zn=0;Zn<Gn.length;Zn++)Gn[Zn].style.transform="translateX(-".concat(jn,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(jn){this.unlimited=jn}},{key:"speed",value:function(jn){this.options.api.speedRate=jn}},{key:"_danAnimation",value:function(jn){var Gn=this.options.api.speedRate||1,Zn=!!this.player.fullScreen.isFullScreen();return{top:"".concat((Zn?6:4)/Gn,"s"),right:"".concat((Zn?8:5)/Gn,"s"),bottom:"".concat((Zn?6:4)/Gn,"s")}[jn]}}],er&&Li(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Zi=Mi;function Ii(zn){return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Ii(zn)}function Wi(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(Ii(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(Ii(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),Ii(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}const Xi=function(){function zn(){(function(jn,Gn){if(!(jn instanceof Gn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var Kn,er;return Kn=zn,(er=[{key:"on",value:function(jn,Gn){this.type(jn)&&typeof Gn=="function"&&(this.events[jn]||(this.events[jn]=[]),this.events[jn].push(Gn))}},{key:"trigger",value:function(jn,Gn){if(this.events[jn]&&this.events[jn].length)for(var Zn=0;Zn<this.events[jn].length;Zn++)this.events[jn][Zn](Gn)}},{key:"type",value:function(jn){return this.playerEvents.indexOf(jn)!==-1?"player":this.videoEvents.indexOf(jn)!==-1?"video":(console.error("Unknown event name: ".concat(jn)),null)}}])&&Wi(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();function Di(zn){return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Di(zn)}function Bi(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(Di(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(Di(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),Di(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Qi=function(){function zn(jn){var Gn=this;(function(Zn,ir){if(!(Zn instanceof ir))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",function(){Gn.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){Gn.player.resize(),Fn.setScrollPosition(Gn.lastScrollPosition)}),this.fullscreenchange=function(){Gn.player.resize(),Gn.isFullScreen("browser")?Gn.player.events.trigger("fullscreen"):(Fn.setScrollPosition(Gn.lastScrollPosition),Gn.player.events.trigger("fullscreen_cancel"))},this.docfullscreenchange=function(){var Zn=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;Zn&&Zn!==Gn.player.container||(Gn.player.resize(),Zn?Gn.player.events.trigger("fullscreen"):(Fn.setScrollPosition(Gn.lastScrollPosition),Gn.player.events.trigger("fullscreen_cancel")))},/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",this.docfullscreenchange),document.addEventListener("fullscreenchange",this.docfullscreenchange)):(this.player.container.addEventListener("fullscreenchange",this.fullscreenchange),this.player.container.addEventListener("webkitfullscreenchange",this.fullscreenchange),document.addEventListener("msfullscreenchange",this.docfullscreenchange),document.addEventListener("MSFullscreenChange",this.docfullscreenchange))}var Kn,er;return Kn=zn,er=[{key:"isFullScreen",value:function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(jn){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser",Gn=jn==="browser"?"web":"browser",Zn=this.isFullScreen(Gn);switch(Zn||(this.lastScrollPosition=Fn.getScrollPosition()),jn){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}Zn&&this.cancel(Gn)}},{key:"cancel",value:function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(jn){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";this.isFullScreen(jn)?this.cancel(jn):this.request(jn)}},{key:"destroy",value:function(){/Firefox/.test(navigator.userAgent)?(document.removeEventListener("mozfullscreenchange",this.docfullscreenchange),document.removeEventListener("fullscreenchange",this.docfullscreenchange)):(this.player.container.removeEventListener("fullscreenchange",this.fullscreenchange),this.player.container.removeEventListener("webkitfullscreenchange",this.fullscreenchange),document.removeEventListener("msfullscreenchange",this.docfullscreenchange),document.removeEventListener("MSFullscreenChange",this.docfullscreenchange))}}],er&&Bi(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const sa=Qi;function Fi(zn){return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},Fi(zn)}function Ji(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(Fi(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(Fi(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),Fi(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var ni=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:jn.options.hasOwnProperty("volume")?jn.options.volume:.7,unlimited:(jn.options.danmaku&&jn.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var Kn,er;return Kn=zn,(er=[{key:"init",value:function(){for(var jn in this.storageName){var Gn=this.storageName[jn];this.data[jn]=parseFloat(Fn.storage.get(Gn)||this.default[jn])}}},{key:"get",value:function(jn){return this.data[jn]}},{key:"set",value:function(jn,Gn){this.data[jn]=Gn,Fn.storage.set(this.storageName[jn],Gn)}}])&&Ji(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const ea=ni;function $i(zn){return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},$i(zn)}function za(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if($i(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if($i(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),$i(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Wa=function(){function zn(jn,Gn,Zn,ir){(function(Cr,wr){if(!(Cr instanceof wr))throw new TypeError("Cannot call a class as a function")})(this,zn),this.container=jn,this.video=Gn,this.options=Zn,this.events=ir,this.init()}var Kn,er;return Kn=zn,er=[{key:"init",value:function(){var jn=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var Gn=this.video.textTracks[0];Gn.oncuechange=function(){var Zn=Gn.activeCues[Gn.activeCues.length-1];if(jn.container.innerHTML="",Zn){var ir=document.createElement("div");ir.appendChild(Zn.getCueAsHTML());var Cr=ir.innerHTML.split(/\r?\n/).map(function(wr){return"<p>".concat(wr,"</p>")}).join("");jn.container.innerHTML=Cr}jn.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}],er&&za(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const ds=Wa;function ta(zn){return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ta(zn)}function fs(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ta(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ta(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ta(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Ya=function(){function zn(jn){var Gn=this;(function(wr,Zr){if(!(wr instanceof Zr))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.player.template.mask.addEventListener("click",function(){Gn.hide()}),this.player.template.subtitlesButton.addEventListener("click",function(){Gn.adaptiveHeight(),Gn.show()});for(var Zn=this.player.template.subtitlesItem.length-1,ir=function(wr){Gn.player.template.subtitlesItem[wr].addEventListener("click",function(){Gn.hide(),Gn.player.options.subtitle.index!==wr&&(Gn.player.template.subtitle.innerHTML="<p></p>",Gn.player.template.subtrack.src=Gn.player.template.subtitlesItem[wr].dataset.subtitle,Gn.player.options.subtitle.index=wr,Gn.player.template.subtitle.classList.contains("dplayer-subtitle-hide")&&Gn.subContainerShow())})},Cr=0;Cr<Zn;Cr++)ir(Cr);this.player.template.subtitlesItem[Zn].addEventListener("click",function(){Gn.hide(),Gn.player.options.subtitle.index!==Zn&&(Gn.player.template.subtitle.innerHTML="<p></p>",Gn.player.template.subtrack.src="",Gn.player.options.subtitle.index=Zn,Gn.subContainerHide())})}var Kn,er;return Kn=zn,(er=[{key:"subContainerShow",value:function(){this.player.template.subtitle.classList.remove("dplayer-subtitle-hide"),this.player.events.trigger("subtitle_show")}},{key:"subContainerHide",value:function(){this.player.template.subtitle.classList.add("dplayer-subtitle-hide"),this.player.events.trigger("subtitle_hide")}},{key:"hide",value:function(){this.player.template.subtitlesBox.classList.remove("dplayer-subtitles-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.subtitlesBox.classList.add("dplayer-subtitles-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}},{key:"adaptiveHeight",value:function(){var jn=30*this.player.template.subtitlesItem.length+14,Gn=.8*this.player.template.videoWrap.offsetHeight;jn>=Gn-50?(this.player.template.subtitlesBox.style.bottom="8px",this.player.template.subtitlesBox.style["max-height"]=Gn-8+"px"):(this.player.template.subtitlesBox.style.bottom="50px",this.player.template.subtitlesBox.style["max-height"]=Gn-50+"px")}}])&&fs(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const hs=Ya;function la(zn){return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},la(zn)}function ps(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(la(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(la(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),la(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var qa=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.elements={},this.elements.volume=jn.volumeBar,this.elements.played=jn.playedBar,this.elements.loaded=jn.loadedBar,this.elements.danmaku=jn.danmakuOpacityBar}var Kn,er;return Kn=zn,(er=[{key:"set",value:function(jn,Gn,Zn){Gn=Math.max(Gn,0),Gn=Math.min(Gn,1),this.elements[jn].style[Zn]=100*Gn+"%"}},{key:"get",value:function(jn){return parseFloat(this.elements[jn].style.width)/100}}])&&ps(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const ms=qa;function ca(zn){return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ca(zn)}function Za(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ca(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ca(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ca(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Xa=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Gn){window.setTimeout(Gn,1e3/60)},this.types=["loading","info","fps"],this.init()}var Kn,er;return Kn=zn,(er=[{key:"init",value:function(){var jn=this;this.types.map(function(Gn){return Gn!=="fps"&&jn["init".concat(Gn,"Checker")](),Gn})}},{key:"initloadingChecker",value:function(){var jn=this,Gn=0,Zn=0,ir=!1;this.loadingChecker=setInterval(function(){jn.enableloadingChecker&&(Zn=jn.player.video.currentTime,ir||Zn!==Gn||jn.player.video.paused||(jn.player.container.classList.add("dplayer-loading"),ir=!0),ir&&Zn>Gn&&!jn.player.video.paused&&(jn.player.container.classList.remove("dplayer-loading"),ir=!1),Gn=Zn)},100)}},{key:"initfpsChecker",value:function(){var jn=this;window.requestAnimationFrame(function(){if(jn.enablefpsChecker)if(jn.initfpsChecker(),jn.fpsStart){jn.fpsIndex++;var Gn=new Date;Gn-jn.fpsStart>1e3&&(jn.player.infoPanel.fps(jn.fpsIndex/(Gn-jn.fpsStart)*1e3),jn.fpsStart=new Date,jn.fpsIndex=0)}else jn.fpsStart=new Date,jn.fpsIndex=0;else jn.fpsStart=0,jn.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var jn=this;this.infoChecker=setInterval(function(){jn.enableinfoChecker&&jn.player.infoPanel.update()},1e3)}},{key:"enable",value:function(jn){this["enable".concat(jn,"Checker")]=!0,jn==="fps"&&this.initfpsChecker()}},{key:"disable",value:function(jn){this["enable".concat(jn,"Checker")]=!1}},{key:"destroy",value:function(){var jn=this;this.types.map(function(Gn){return jn["enable".concat(Gn,"Checker")]=!1,jn["".concat(Gn,"Checker")]&&clearInterval(jn["".concat(Gn,"Checker")]),Gn})}}])&&Za(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const gs=Xa;function ua(zn){return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ua(zn)}function Qa(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ua(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ua(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ua(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}const vs=function(){function zn(jn){var Gn=this;(function(Zn,ir){if(!(Zn instanceof ir))throw new TypeError("Cannot call a class as a function")})(this,zn),this.container=jn,this.container.addEventListener("animationend",function(){Gn.container.classList.remove("dplayer-bezel-transition")})}var Kn,er;return Kn=zn,(er=[{key:"switch",value:function(jn){this.container.innerHTML=jn,this.container.classList.add("dplayer-bezel-transition")}}])&&Qa(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();function da(zn){return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},da(zn)}function ys(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(da(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(da(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),da(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var bs=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.container=jn.container,this.barWidth=jn.barWidth,this.container.style.backgroundImage="url('".concat(jn.url,"')"),this.events=jn.events}var Kn,er;return Kn=zn,(er=[{key:"resize",value:function(jn,Gn,Zn){this.container.style.width="".concat(jn,"px"),this.container.style.height="".concat(Gn,"px"),this.container.style.top="".concat(2-Gn,"px"),this.barWidth=Zn}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(jn){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(jn/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(jn-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&ys(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Ta=bs;function fa(zn){return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},fa(zn)}function Ha(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(fa(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(fa(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),fa(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var yi,Ja=!0,Ka=!1,As=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.autoHideTimer=0,Fn.isMobile||(this.setAutoHideHandler=this.setAutoHide.bind(this),this.player.container.addEventListener("mousemove",this.setAutoHideHandler),this.player.container.addEventListener("click",this.setAutoHideHandler),this.player.on("play",this.setAutoHideHandler),this.player.on("pause",this.setAutoHideHandler)),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.player.options.subtitle&&typeof this.player.options.subtitle.url=="string"&&this.initSubtitleButton(),this.initHighlights(),this.initAirplayButton(),this.initChromecastButton(),Fn.isMobile||this.initVolumeButton()}var Kn,er;return Kn=zn,(er=[{key:"initPlayButton",value:function(){var jn=this;this.player.template.playButton.addEventListener("click",function(){jn.player.toggle()}),this.player.template.mobilePlayButton.addEventListener("click",function(){jn.player.toggle()}),Fn.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){jn.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){jn.toggle()})):this.player.options.preventClickToggle||(this.player.template.videoWrap.addEventListener("click",function(){jn.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){jn.player.toggle()}))}},{key:"initHighlights",value:function(){var jn=this;this.player.on("durationchange",function(){if(jn.player.video.duration!==1&&jn.player.video.duration!==1/0&&jn.player.options.highlight){var Gn=jn.player.template.playedBarWrap.querySelectorAll(".dplayer-highlight");[].slice.call(Gn,0).forEach(function(Cr){jn.player.template.playedBarWrap.removeChild(Cr)});for(var Zn=0;Zn<jn.player.options.highlight.length;Zn++)if(jn.player.options.highlight[Zn].text&&jn.player.options.highlight[Zn].time){var ir=document.createElement("div");ir.classList.add("dplayer-highlight"),ir.style.left=jn.player.options.highlight[Zn].time/jn.player.video.duration*100+"%",ir.innerHTML='<span class="dplayer-highlight-text">'+jn.player.options.highlight[Zn].text+"</span>",jn.player.template.playedBarWrap.insertBefore(ir,jn.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var jn=this;this.player.options.video.thumbnails&&(this.thumbnails=new Ta({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){jn.thumbnails.resize(160,jn.player.video.videoHeight/jn.player.video.videoWidth*160,jn.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var jn=this,Gn=function(ir){var Cr=((ir.clientX||ir.changedTouches[0].clientX)-Fn.getBoundingClientRectViewLeft(jn.player.template.playedBarWrap))/jn.player.template.playedBarWrap.clientWidth;Cr=Math.max(Cr,0),Cr=Math.min(Cr,1),jn.player.bar.set("played",Cr,"width"),jn.player.template.ptime.innerHTML=Fn.secondToTime(Cr*jn.player.video.duration)},Zn=function ir(Cr){document.removeEventListener(Fn.nameMap.dragEnd,ir),document.removeEventListener(Fn.nameMap.dragMove,Gn);var wr=((Cr.clientX||Cr.changedTouches[0].clientX)-Fn.getBoundingClientRectViewLeft(jn.player.template.playedBarWrap))/jn.player.template.playedBarWrap.clientWidth;wr=Math.max(wr,0),wr=Math.min(wr,1),jn.player.bar.set("played",wr,"width"),jn.player.seek(jn.player.bar.get("played")*jn.player.video.duration),jn.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(Fn.nameMap.dragStart,function(){jn.player.timer.disable("progress"),document.addEventListener(Fn.nameMap.dragMove,Gn),document.addEventListener(Fn.nameMap.dragEnd,Zn)}),this.player.template.playedBarWrap.addEventListener(Fn.nameMap.dragMove,function(ir){if(jn.player.video.duration){var Cr=jn.player.template.playedBarWrap.getBoundingClientRect().left,wr=(ir.clientX||ir.changedTouches[0].clientX)-Cr;if(wr<0||wr>jn.player.template.playedBarWrap.offsetWidth)return;var Zr=jn.player.video.duration*(wr/jn.player.template.playedBarWrap.offsetWidth);Fn.isMobile&&jn.thumbnails&&jn.thumbnails.show(),jn.thumbnails&&jn.thumbnails.move(wr),jn.player.template.playedBarTime.style.left="".concat(wr-(Zr>=3600?25:20),"px"),jn.player.template.playedBarTime.innerText=Fn.secondToTime(Zr),jn.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(Fn.nameMap.dragEnd,function(){Fn.isMobile&&jn.thumbnails&&jn.thumbnails.hide()}),Fn.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){jn.player.video.duration&&(jn.thumbnails&&jn.thumbnails.show(),jn.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){jn.player.video.duration&&(jn.thumbnails&&jn.thumbnails.hide(),jn.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var jn=this;this.player.template.browserFullButton.addEventListener("click",function(){jn.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){jn.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var jn=this,Gn=function(ir){var Cr=ir||window.event,wr=((Cr.clientX||Cr.changedTouches[0].clientX)-Fn.getBoundingClientRectViewLeft(jn.player.template.volumeBarWrap)-5.5)/35;jn.player.volume(wr)},Zn=function ir(){document.removeEventListener(Fn.nameMap.dragEnd,ir),document.removeEventListener(Fn.nameMap.dragMove,Gn),jn.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(ir){var Cr=ir||window.event,wr=((Cr.clientX||Cr.changedTouches[0].clientX)-Fn.getBoundingClientRectViewLeft(jn.player.template.volumeBarWrap)-5.5)/35;jn.player.volume(wr)}),this.player.template.volumeBarWrapWrap.addEventListener(Fn.nameMap.dragStart,function(){document.addEventListener(Fn.nameMap.dragMove,Gn),document.addEventListener(Fn.nameMap.dragEnd,Zn),jn.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){jn.player.video.muted?(jn.player.video.muted=!1,jn.player.switchVolumeIcon(),jn.player.bar.set("volume",jn.player.volume(),"width")):(jn.player.video.muted=!0,jn.player.template.volumeIcon.innerHTML=Qo.volumeOff,jn.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var jn=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(Gn){Gn.target.classList.contains("dplayer-quality-item")&&jn.player.switchQuality(Gn.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var jn=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var Gn,Zn=document.createElement("canvas");Zn.width=jn.player.video.videoWidth,Zn.height=jn.player.video.videoHeight,Zn.getContext("2d").drawImage(jn.player.video,0,0,Zn.width,Zn.height),Zn.toBlob(function(ir){Gn=URL.createObjectURL(ir);var Cr=document.createElement("a");Cr.href=Gn,Cr.download="DPlayer.png",Cr.style.display="none",document.body.appendChild(Cr),Cr.click(),document.body.removeChild(Cr),URL.revokeObjectURL(Gn),jn.player.events.trigger("screenshot",Gn)})})}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",(function(jn){jn.availability==="available"?this.template.airplayButton.disable=!1:this.template.airplayButton.disable=!0,this.template.airplayButton.addEventListener("click",(function(){this.video.webkitShowPlaybackTargetPicker()}).bind(this))}).bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initChromecast",value:function(){var jn=window.document.createElement("script");jn.setAttribute("type","text/javascript"),jn.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),window.document.body.appendChild(jn),window.__onGCastApiAvailable=function(Gn){if(Gn){var Zn=new(yi=window.chrome.cast).SessionRequest(yi.media.DEFAULT_MEDIA_RECEIVER_APP_ID),ir=new yi.ApiConfig(Zn,function(){},function(Cr){yi.ReceiverAvailability.AVAILABLE});yi.initialize(ir,function(){})}}}},{key:"initChromecastButton",value:function(){var jn=this;if(this.player.options.chromecast){Ja&&(Ja=!1,this.initChromecast());var Gn=function(ir,Cr){jn.currentMedia=Cr},Zn=function(ir){console.error("Error launching media",ir)};this.player.template.chromecastButton.addEventListener("click",function(){Ka?(Ka=!1,jn.currentMedia.stop(),jn.session.stop(),jn.initChromecast()):(Ka=!0,yi.requestSession(function(ir){var Cr,wr,Zr;jn.session=ir,Cr=jn.player.options.video.url,wr=new yi.media.MediaInfo(Cr),Zr=new yi.media.LoadRequest(wr),jn.session?jn.session.loadMedia(Zr,Gn.bind(jn,"loadMedia"),Zn).play():window.open(Cr)},function(ir){ir.code==="cancel"?jn.session=void 0:console.error("Error selecting a cast device",ir)}))})}}},{key:"initSubtitleButton",value:function(){var jn=this;this.player.events.on("subtitle_show",function(){jn.player.template.subtitleButton.dataset.balloon=jn.player.tran("hide-subs"),jn.player.template.subtitleButtonInner.style.opacity="",jn.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){jn.player.template.subtitleButton.dataset.balloon=jn.player.tran("show-subs"),jn.player.template.subtitleButtonInner.style.opacity="0.4",jn.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){jn.player.subtitle.toggle()})}},{key:"setAutoHide",value:function(){var jn=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!jn.player.video.played.length||jn.player.paused||jn.disableAutoHide||jn.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){Fn.isMobile||(this.player.container.removeEventListener("mousemove",this.setAutoHideHandler),this.player.container.removeEventListener("click",this.setAutoHideHandler)),clearTimeout(this.autoHideTimer)}}])&&Ha(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Es=As;function ha(zn){return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ha(zn)}function _s(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ha(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ha(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ha(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var xs=function(){function zn(jn){var Gn=this;(function(Zr,Jr){if(!(Zr instanceof Jr))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.player.template.mask.addEventListener("click",function(){Gn.hide()}),this.player.template.settingButton.addEventListener("click",function(){Gn.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){Gn.player.template.loopToggle.checked=!Gn.player.template.loopToggle.checked,Gn.player.template.loopToggle.checked?Gn.loop=!0:Gn.loop=!1,Gn.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){Gn.player.template.showDanmakuToggle.checked=!Gn.player.template.showDanmakuToggle.checked,Gn.player.template.showDanmakuToggle.checked?(Gn.showDanmaku=!0,Gn.player.danmaku.show()):(Gn.showDanmaku=!1,Gn.player.danmaku.hide()),Gn.player.user.set("danmaku",Gn.showDanmaku?1:0),Gn.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){Gn.player.template.unlimitDanmakuToggle.checked=!Gn.player.template.unlimitDanmakuToggle.checked,Gn.player.template.unlimitDanmakuToggle.checked?(Gn.unlimitDanmaku=!0,Gn.player.danmaku.unlimit(!0)):(Gn.unlimitDanmaku=!1,Gn.player.danmaku.unlimit(!1)),Gn.player.user.set("unlimited",Gn.unlimitDanmaku?1:0),Gn.hide()}),this.player.template.speed.addEventListener("click",function(){Gn.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),Gn.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var Zn=function(Zr){Gn.player.template.speedItem[Zr].addEventListener("click",function(){Gn.player.speed(Gn.player.template.speedItem[Zr].dataset.speed),Gn.hide()})},ir=0;ir<this.player.template.speedItem.length;ir++)Zn(ir);if(this.player.danmaku){this.player.on("danmaku_opacity",function(Zr){Gn.player.bar.set("danmaku",Zr,"width"),Gn.player.user.set("opacity",Zr)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var Cr=function(Zr){var Jr=Zr||window.event,sr=((Jr.clientX||Jr.changedTouches[0].clientX)-Fn.getBoundingClientRectViewLeft(Gn.player.template.danmakuOpacityBarWrap))/130;sr=Math.max(sr,0),sr=Math.min(sr,1),Gn.player.danmaku.opacity(sr)},wr=function Zr(){document.removeEventListener(Fn.nameMap.dragEnd,Zr),document.removeEventListener(Fn.nameMap.dragMove,Cr),Gn.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(Zr){var Jr=Zr||window.event,sr=((Jr.clientX||Jr.changedTouches[0].clientX)-Fn.getBoundingClientRectViewLeft(Gn.player.template.danmakuOpacityBarWrap))/130;sr=Math.max(sr,0),sr=Math.min(sr,1),Gn.player.danmaku.opacity(sr)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(Fn.nameMap.dragStart,function(){document.addEventListener(Fn.nameMap.dragMove,Cr),document.addEventListener(Fn.nameMap.dragEnd,wr),Gn.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}var Kn,er;return Kn=zn,(er=[{key:"hide",value:function(){var jn=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){jn.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),jn.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&_s(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Cs=xs;function na(zn){return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},na(zn)}function Ss(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(na(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(na(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),na(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Ga=function(){function zn(jn){var Gn=this;(function(Zn,ir){if(!(Zn instanceof ir))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.player.template.mask.addEventListener("click",function(){Gn.hide()}),this.player.template.commentButton.addEventListener("click",function(){Gn.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){Gn.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(Gn.player.template.commentColorSettingBox.querySelector("input:checked+span")){var Zn=Gn.player.template.commentColorSettingBox.querySelector("input:checked").value;Gn.player.template.commentSettingFill.style.fill=Zn,Gn.player.template.commentInput.style.color=Zn,Gn.player.template.commentSendFill.style.fill=Zn}}),this.player.template.commentInput.addEventListener("click",function(){Gn.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(Zn){(Zn||window.event).keyCode===13&&Gn.send()}),this.player.template.commentSendButton.addEventListener("click",function(){Gn.send()})}var Kn,er;return Kn=zn,(er=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var jn=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:Fn.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){jn.player.template.commentInput.value="",jn.hide()}):this.player.notice(this.player.tran("please-input-danmaku"))}}])&&Ss(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Ts=Ga;function pa(zn){return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},pa(zn)}function es(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(pa(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(pa(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),pa(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var wa=function(){function zn(jn){(function(Gn,Zn){if(!(Gn instanceof Zn))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.doHotKeyHandler=this.doHotKey.bind(this),this.cancelFullScreenHandler=this.cancelFullScreen.bind(this),this.player.options.hotkey&&document.addEventListener("keydown",this.doHotKeyHandler),document.addEventListener("keydown",this.cancelFullScreenHandler)}var Kn,er;return Kn=zn,(er=[{key:"doHotKey",value:function(jn){if(this.player.focus){var Gn=document.activeElement.tagName.toUpperCase(),Zn=document.activeElement.getAttribute("contenteditable");if(Gn!=="INPUT"&&Gn!=="TEXTAREA"&&Zn!==""&&Zn!=="true"){var ir,Cr=jn||window.event;switch(Cr.keyCode){case 32:Cr.preventDefault(),this.player.toggle();break;case 37:if(Cr.preventDefault(),this.player.options.live)break;this.player.seek(this.player.video.currentTime-5),this.player.controller.setAutoHide();break;case 39:if(Cr.preventDefault(),this.player.options.live)break;this.player.seek(this.player.video.currentTime+5),this.player.controller.setAutoHide();break;case 38:Cr.preventDefault(),ir=this.player.volume()+.1,this.player.volume(ir);break;case 40:Cr.preventDefault(),ir=this.player.volume()-.1,this.player.volume(ir)}}}}},{key:"cancelFullScreen",value:function(jn){(jn||window.event).keyCode===27&&this.player.fullScreen.isFullScreen("web")&&this.player.fullScreen.cancel("web")}},{key:"destroy",value:function(){this.player.options.hotkey&&document.removeEventListener("keydown",this.doHotKeyHandler),document.removeEventListener("keydown",this.cancelFullScreenHandler)}}])&&es(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const ka=wa;function ma(zn){return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ma(zn)}function ws(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ma(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ma(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ma(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var ts=function(){function zn(jn){var Gn=this;(function(Zn,ir){if(!(Zn instanceof ir))throw new TypeError("Cannot call a class as a function")})(this,zn),this.player=jn,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(Zn,ir){Gn.player.options.contextmenu[ir].click&&Zn.addEventListener("click",function(){Gn.player.options.contextmenu[ir].click(Gn.player),Gn.hide()})}),this.contextmenuHandler=function(Zn){if(Gn.shown)Gn.hide();else{var ir=Zn||window.event;ir.preventDefault();var Cr=Gn.player.container.getBoundingClientRect();Gn.show(ir.clientX-Cr.left,ir.clientY-Cr.top),Gn.player.template.mask.addEventListener("click",function(){Gn.hide()})}},this.player.container.addEventListener("contextmenu",this.contextmenuHandler)}var Kn,er;return Kn=zn,(er=[{key:"show",value:function(jn,Gn){this.player.template.menu.classList.add("dplayer-menu-show");var Zn=this.player.container.getBoundingClientRect();jn+this.player.template.menu.offsetWidth>=Zn.width?(this.player.template.menu.style.right=Zn.width-jn+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=jn+"px",this.player.template.menu.style.right="initial"),Gn+this.player.template.menu.offsetHeight>=Zn.height?(this.player.template.menu.style.bottom=Zn.height-Gn+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=Gn+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}},{key:"destroy",value:function(){this.player.container.removeEventListener("contextmenu",this.contextmenuHandler)}}])&&ws(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const ks=ts;function ga(zn){return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},ga(zn)}function Ls(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,(Gn=function(Zn,ir){if(ga(Zn)!=="object"||Zn===null)return Zn;var Cr=Zn[Symbol.toPrimitive];if(Cr!==void 0){var wr=Cr.call(Zn,"string");if(ga(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Zn)}(jn.key),ga(Gn)==="symbol"?Gn:String(Gn)),jn)}var Gn}var Is=function(){function zn(jn){var Gn=this;(function(Zn,ir){if(!(Zn instanceof ir))throw new TypeError("Cannot call a class as a function")})(this,zn),this.container=jn.template.infoPanel,this.template=jn.template,this.video=jn.video,this.player=jn,this.template.infoPanelClose.addEventListener("click",function(){Gn.hide()})}var Kn,er;return Kn=zn,(er=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.27.1"," ").concat("v1.27.0-12-g4f61091"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(jn){this.template.infoFPS.innerHTML="".concat(jn.toFixed(1))}}])&&Ls(Kn.prototype,er),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Rs=Is;var ns=Ie(568),rs=Ie.n(ns);function va(zn){return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},va(zn)}function os(zn,Kn){var er=Object.keys(zn);if(Object.getOwnPropertySymbols){var jn=Object.getOwnPropertySymbols(zn);Kn&&(jn=jn.filter(function(Gn){return Object.getOwnPropertyDescriptor(zn,Gn).enumerable})),er.push.apply(er,jn)}return er}function Ps(zn,Kn,er){return(Kn=as(Kn))in zn?Object.defineProperty(zn,Kn,{value:er,enumerable:!0,configurable:!0,writable:!0}):zn[Kn]=er,zn}function is(zn,Kn){for(var er=0;er<Kn.length;er++){var jn=Kn[er];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(zn,as(jn.key),jn)}}function as(zn){var Kn=function(er,jn){if(va(er)!=="object"||er===null)return er;var Gn=er[Symbol.toPrimitive];if(Gn!==void 0){var Zn=Gn.call(er,"string");if(va(Zn)!=="object")return Zn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(er)}(zn);return va(Kn)==="symbol"?Kn:String(Kn)}var ss=0,ra=[],Ds=function(){function zn(Gn){var Zn=this;(function(ir,Cr){if(!(ir instanceof Cr))throw new TypeError("Cannot call a class as a function")})(this,zn),this.options=function(ir){var Cr={container:ir.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,chromecast:!1,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:qi,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}},preventClickToggle:!1};for(var wr in Cr)Cr.hasOwnProperty(wr)&&!ir.hasOwnProperty(wr)&&(ir[wr]=Cr[wr]);return ir.video&&!ir.video.type&&(ir.video.type="auto"),oa(ir.danmaku)==="object"&&ir.danmaku&&!ir.danmaku.user&&(ir.danmaku.user="DIYgod"),ir.subtitle&&(!ir.subtitle.type&&(ir.subtitle.type="webvtt"),!ir.subtitle.fontSize&&(ir.subtitle.fontSize="20px"),!ir.subtitle.bottom&&(ir.subtitle.bottom="40px"),!ir.subtitle.color&&(ir.subtitle.color="#fff")),ir.video.quality&&(ir.video.url=ir.video.quality[ir.video.defaultQuality].url),ir.lang&&(ir.lang=ir.lang.toLowerCase()),ir.contextmenu=ir.contextmenu.concat([{key:"video-info",click:function(Zr){Zr.infoPanel.triggle()}},{key:"about-author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.27.1"),link:"https://github.com/MoePlayer/DPlayer"}]),ir}(function(ir){for(var Cr=1;Cr<arguments.length;Cr++){var wr=arguments[Cr]!=null?arguments[Cr]:{};Cr%2?os(Object(wr),!0).forEach(function(Zr){Ps(ir,Zr,wr[Zr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ir,Object.getOwnPropertyDescriptors(wr)):os(Object(wr)).forEach(function(Zr){Object.defineProperty(ir,Zr,Object.getOwnPropertyDescriptor(wr,Zr))})}return ir}({preload:Gn.video.type==="webtorrent"?"none":"metadata"},Gn)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new Ra(this.options.lang).tran,this.events=new Xi,this.user=new ea(this),this.container=this.options.container,this.noticeList={},this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live?this.container.classList.add("dplayer-live"):this.container.classList.remove("dplayer-live"),Fn.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.options.subtitle&&Array.isArray(this.options.subtitle.url)&&(this.options.subtitle.url.push({subtitle:"",lang:"off"}),this.options.subtitle.defaultSubtitle&&(typeof this.options.subtitle.defaultSubtitle=="string"?this.options.subtitle.index=this.options.subtitle.url.findIndex(function(ir){return ir.lang===Zn.options.subtitle.defaultSubtitle||ir.name===Zn.options.subtitle.defaultSubtitle}):typeof this.options.subtitle.defaultSubtitle=="number"&&(this.options.subtitle.index=this.options.subtitle.defaultSubtitle)),(this.options.subtitle.index===-1||!this.options.subtitle.index||this.options.subtitle.index>this.options.subtitle.url.length-1)&&(this.options.subtitle.index=this.options.subtitle.url.findIndex(function(ir){return ir.lang===Zn.options.lang})),this.options.subtitle.index===-1&&(this.options.subtitle.index=this.options.subtitle.url.length-1)),this.template=new bi({container:this.container,options:this.options,index:ss,tran:this.tran}),this.video=this.template.video,this.bar=new ms(this.template),this.bezel=new vs(this.template.bezel),this.fullScreen=new sa(this),this.controller=new Es(this),this.options.danmaku&&(this.danmaku=new Zi({player:this,container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){Zn.template.danmakuLoading.style.display="none",Zn.options.autoplay&&Zn.play()},0)},error:function(ir){Zn.notice(ir)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return Zn.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user,speedRate:this.options.danmaku.speedRate},events:this.events,tran:function(ir){return Zn.tran(ir)}}),this.comment=new Ts(this)),this.setting=new Cs(this),this.plugins={},this.docClickFun=function(){Zn.focus=!1},this.containerClickFun=function(){Zn.focus=!0},document.addEventListener("click",this.docClickFun,!0),this.container.addEventListener("click",this.containerClickFun,!0),this.paused=!0,this.timer=new gs(this),this.hotkey=new ka(this),this.contextmenu=new ks(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new Rs(this),!this.danmaku&&this.options.autoplay&&this.play(),ss++,ra.push(this)}var Kn,er,jn;return Kn=zn,er=[{key:"seek",value:function(Gn){Gn=Math.max(Gn,0),this.video.duration&&(Gn=Math.min(Gn,this.video.duration)),this.video.currentTime<Gn?this.notice("".concat(this.tran("ff").replace("%s",(Gn-this.video.currentTime).toFixed(0)))):this.video.currentTime>Gn&&this.notice("".concat(this.tran("rew").replace("%s",(this.video.currentTime-Gn).toFixed(0)))),this.video.currentTime=Gn,this.danmaku&&this.danmaku.seek(),this.bar.set("played",Gn/this.video.duration,"width"),this.template.ptime.innerHTML=Fn.secondToTime(Gn)}},{key:"play",value:function(Gn){var Zn=this;if(this.paused=!1,this.video.paused&&!Fn.isMobile&&this.bezel.switch(Qo.play),this.template.playButton.innerHTML=Qo.pause,this.template.mobilePlayButton.innerHTML=Qo.pause,Gn||Bn.resolve(this.video.play()).catch(function(){Zn.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var ir=0;ir<ra.length;ir++)this!==ra[ir]&&ra[ir].pause()}},{key:"pause",value:function(Gn){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||Fn.isMobile||this.bezel.switch(Qo.pause),this.template.playButton.innerHTML=Qo.play,this.template.mobilePlayButton.innerHTML=Qo.play,Gn||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=Qo.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=Qo.volumeDown:this.template.volumeIcon.innerHTML=Qo.volumeOff}},{key:"volume",value:function(Gn,Zn,ir){if(Gn=parseFloat(Gn),!isNaN(Gn)){Gn=Math.max(Gn,0),Gn=Math.min(Gn,1),this.bar.set("volume",Gn,"width");var Cr="".concat((100*Gn).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=Cr,Zn||this.user.set("volume",Gn),ir||this.notice("".concat(this.tran("volume")," ").concat((100*Gn).toFixed(0),"%"),void 0,void 0,"volume"),this.video.volume=Gn,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(Gn,Zn){this.events.on(Gn,Zn)}},{key:"switchVideo",value:function(Gn,Zn){this.pause(),this.video.poster=Gn.pic?Gn.pic:"",this.video.src=Gn.url,this.initMSE(this.video,Gn.type||"auto"),Zn&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:Zn.id,address:Zn.api,token:Zn.token,maximum:Zn.maximum,addition:Zn.addition,user:Zn.user}))}},{key:"initMSE",value:function(Gn,Zn){var ir=this;if(this.type=Zn,this.options.video.customType&&this.options.video.customType[Zn])Object.prototype.toString.call(this.options.video.customType[Zn])==="[object Function]"?this.options.video.customType[Zn](this.video,this):console.error("Illegal customType: ".concat(Zn));else switch(this.type==="auto"&&(/m3u8(#|\?|$)/i.exec(Gn.src)?this.type="hls":/.flv(#|\?|$)/i.exec(Gn.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(Gn.src)?this.type="dash":this.type="normal"),this.type==="hls"&&(Gn.canPlayType("application/x-mpegURL")||Gn.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var Cr=this.options.pluginOptions.hls,wr=new window.Hls(Cr);this.plugins.hls=wr,wr.loadSource(Gn.src),wr.attachMedia(Gn),this.events.on("destroy",function(){wr.destroy(),delete ir.plugins.hls})}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var Zr=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:Gn.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=Zr,Zr.attachMediaElement(Gn),Zr.load(),this.events.on("destroy",function(){Zr.unload(),Zr.detachMediaElement(),Zr.destroy(),delete ir.plugins.flvjs})}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var Jr=window.dashjs.MediaPlayer().create().initialize(Gn,Gn.src,!1),sr=this.options.pluginOptions.dash;Jr.updateSettings(sr),this.plugins.dash=Jr,this.events.on("destroy",function(){window.dashjs.MediaPlayer().reset(),delete ir.plugins.dash})}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var ar=this.options.pluginOptions.webtorrent,nr=new window.WebTorrent(ar);this.plugins.webtorrent=nr;var Vn=Gn.src;Gn.src="",Gn.preload="metadata",Gn.addEventListener("durationchange",function(){return ir.container.classList.remove("dplayer-loading")},{once:!0}),nr.add(Vn,function(qn){qn.files.find(function(tr){return tr.name.endsWith(".mp4")}).renderTo(ir.video,{autoplay:ir.options.autoplay,controls:!1})}),this.events.on("destroy",function(){nr.remove(Vn),nr.destroy(),delete ir.plugins.webtorrent})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(Gn,Zn){var ir=this;this.initMSE(Gn,Zn),this.on("durationchange",function(){Gn.duration!==1&&Gn.duration!==1/0&&(ir.template.dtime.innerHTML=Fn.secondToTime(Gn.duration))}),this.on("progress",function(){var Zr=Gn.buffered.length?Gn.buffered.end(Gn.buffered.length-1)/Gn.duration:0;ir.bar.set("loaded",Zr,"width")}),this.on("error",function(){ir.video.error&&ir.tran&&ir.notice&&ir.type!=="webtorrent"&&ir.notice(ir.tran("video-failed"))}),this.on("ended",function(){ir.bar.set("played",1,"width"),ir.setting.loop?(ir.seek(0),ir.play()):ir.pause(),ir.danmaku&&(ir.danmaku.danIndex=0)}),this.on("play",function(){ir.paused&&ir.play(!0)}),this.on("pause",function(){ir.paused||ir.pause(!0)}),this.on("timeupdate",function(){ir.bar.set("played",ir.video.currentTime/ir.video.duration,"width");var Zr=Fn.secondToTime(ir.video.currentTime);ir.template.ptime.innerHTML!==Zr&&(ir.template.ptime.innerHTML=Zr)});for(var Cr=function(Zr){Gn.addEventListener(ir.events.videoEvents[Zr],function(Jr){ir.events.trigger(ir.events.videoEvents[Zr],Jr)})},wr=0;wr<this.events.videoEvents.length;wr++)Cr(wr);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new ds(this.template.subtitle,this.video,this.options.subtitle,this.events),Array.isArray(this.options.subtitle.url)&&(this.subtitles=new hs(this)),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(Gn){var Zn=this;if(Gn=typeof Gn=="string"?parseInt(Gn):Gn,this.qualityIndex!==Gn&&!this.switchingQuality){this.prevIndex=this.qualityIndex,this.qualityIndex=Gn,this.switchingQuality=!0,this.quality=this.options.video.quality[Gn],this.template.qualityButton.innerHTML=this.quality.name;var ir=this.video.paused;this.video.pause();var Cr=rs()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),wr=new DOMParser().parseFromString(Cr,"text/html").body.firstChild;this.template.videoWrap.insertBefore(wr,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=wr,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("switching-quality").replace("%q",this.quality.name)),-1,void 0,"switch-quality"),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(Zn.prevVideo){if(Zn.video.currentTime!==Zn.prevVideo.currentTime)return void Zn.seek(Zn.prevVideo.currentTime);Zn.template.videoWrap.removeChild(Zn.prevVideo),Zn.video.classList.add("dplayer-video-current"),ir||Zn.video.play(),Zn.prevVideo=null,Zn.notice("".concat(Zn.tran("switched-quality").replace("%q",Zn.quality.name)),void 0,void 0,"switch-quality"),Zn.switchingQuality=!1,Zn.events.trigger("quality_end")}}),this.on("error",function(){Zn.video.error&&Zn.prevVideo&&(Zn.template.videoWrap.removeChild(Zn.video),Zn.video=Zn.prevVideo,ir||Zn.video.play(),Zn.qualityIndex=Zn.prevIndex,Zn.quality=Zn.options.video.quality[Zn.qualityIndex],Zn.noticeTime=setTimeout(function(){Zn.template.notice.style.opacity=0,Zn.events.trigger("notice_hide")},3e3),Zn.prevVideo=null,Zn.switchingQuality=!1)})}}},{key:"notice",value:function(Gn){var Zn,ir,Cr,wr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3,Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8,Jr=arguments.length>3?arguments[3]:void 0;if(Jr&&((Zn=document.getElementById("dplayer-notice-".concat(Jr)))&&(Zn.innerHTML=Gn),this.noticeList[Jr]&&(clearTimeout(this.noticeList[Jr]),this.noticeList[Jr]=null)),!Zn){var sr=bi.NewNotice(Gn,Zr,Jr);this.template.noticeList.appendChild(sr),Zn=sr}this.events.trigger("notice_show",Zn),wr>0&&(this.noticeList[Jr]=setTimeout((ir=Zn,Cr=this,function(){ir.addEventListener("animationend",function(){Cr.template.noticeList.removeChild(ir)}),ir.classList.add("remove-notice"),Cr.events.trigger("notice_hide"),Cr.noticeList[Jr]=null}),wr))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(Gn){this.video.playbackRate=Gn}},{key:"destroy",value:function(){ra.splice(ra.indexOf(this),1),this.pause(),document.removeEventListener("click",this.docClickFun,!0),this.container.removeEventListener("click",this.containerClickFun,!0),this.fullScreen.destroy(),this.hotkey.destroy(),this.contextmenu.destroy(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}],jn=[{key:"version",get:function(){return"1.27.1"}}],er&&is(Kn.prototype,er),jn&&is(Kn,jn),Object.defineProperty(Kn,"prototype",{writable:!1}),zn}();const Os=Ds;"\n".concat(" %c DPlayer v","1.27.1"," ").concat("v1.27.0-12-g4f61091"," %c https://dplayer.diygod.dev ","\n","\n");const Ns=Os})(),Oe.default})())})(DPlayer_min);var DPlayer_minExports=DPlayer_min.exports;const DPlayer=getDefaultExportFromCjs$1(DPlayer_minExports);function getDefaultExportFromCjs(xe){return xe&&xe.__esModule&&Object.prototype.hasOwnProperty.call(xe,"default")?xe.default:xe}var urlToolkit={exports:{}};(function(xe,pe){(function(_e){var Ce=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,Ie=/^(?=([^\/?#]*))\1([^]*)$/,Oe=/(?:\/|^)\.(?=\/)/g,Ne=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,Fe={buildAbsoluteURL:function(Ue,$e,ze){if(ze=ze||{},Ue=Ue.trim(),$e=$e.trim(),!$e){if(!ze.alwaysNormalize)return Ue;var Ve=Fe.parseURL(Ue);if(!Ve)throw new Error("Error trying to parse base URL.");return Ve.path=Fe.normalizePath(Ve.path),Fe.buildURLFromParts(Ve)}var qe=Fe.parseURL($e);if(!qe)throw new Error("Error trying to parse relative URL.");if(qe.scheme)return ze.alwaysNormalize?(qe.path=Fe.normalizePath(qe.path),Fe.buildURLFromParts(qe)):$e;var En=Fe.parseURL(Ue);if(!En)throw new Error("Error trying to parse base URL.");if(!En.netLoc&&En.path&&En.path[0]!=="/"){var vn=Ie.exec(En.path);En.netLoc=vn[1],En.path=vn[2]}En.netLoc&&!En.path&&(En.path="/");var hn={scheme:En.scheme,netLoc:qe.netLoc,path:null,params:qe.params,query:qe.query,fragment:qe.fragment};if(!qe.netLoc&&(hn.netLoc=En.netLoc,qe.path[0]!=="/"))if(!qe.path)hn.path=En.path,qe.params||(hn.params=En.params,qe.query||(hn.query=En.query));else{var _n=En.path,bn=_n.substring(0,_n.lastIndexOf("/")+1)+qe.path;hn.path=Fe.normalizePath(bn)}return hn.path===null&&(hn.path=ze.alwaysNormalize?Fe.normalizePath(qe.path):qe.path),Fe.buildURLFromParts(hn)},parseURL:function(Ue){var $e=Ce.exec(Ue);return $e?{scheme:$e[1]||"",netLoc:$e[2]||"",path:$e[3]||"",params:$e[4]||"",query:$e[5]||"",fragment:$e[6]||""}:null},normalizePath:function(Ue){for(Ue=Ue.split("").reverse().join("").replace(Oe,"");Ue.length!==(Ue=Ue.replace(Ne,"")).length;);return Ue.split("").reverse().join("")},buildURLFromParts:function(Ue){return Ue.scheme+Ue.netLoc+Ue.path+Ue.params+Ue.query+Ue.fragment}};xe.exports=Fe})()})(urlToolkit);var urlToolkitExports=urlToolkit.exports;function ownKeys(xe,pe){var _e=Object.keys(xe);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(xe);pe&&(Ce=Ce.filter(function(Ie){return Object.getOwnPropertyDescriptor(xe,Ie).enumerable})),_e.push.apply(_e,Ce)}return _e}function _objectSpread2(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe]!=null?arguments[pe]:{};pe%2?ownKeys(Object(_e),!0).forEach(function(Ce){_defineProperty(xe,Ce,_e[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(_e)):ownKeys(Object(_e)).forEach(function(Ce){Object.defineProperty(xe,Ce,Object.getOwnPropertyDescriptor(_e,Ce))})}return xe}function _toPrimitive(xe,pe){if(typeof xe!="object"||!xe)return xe;var _e=xe[Symbol.toPrimitive];if(_e!==void 0){var Ce=_e.call(xe,pe||"default");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pe==="string"?String:Number)(xe)}function _toPropertyKey(xe){var pe=_toPrimitive(xe,"string");return typeof pe=="symbol"?pe:String(pe)}function _defineProperty(xe,pe,_e){return pe=_toPropertyKey(pe),pe in xe?Object.defineProperty(xe,pe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):xe[pe]=_e,xe}function _extends(){return _extends=Object.assign?Object.assign.bind():function(xe){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(xe[Ce]=_e[Ce])}return xe},_extends.apply(this,arguments)}const isFiniteNumber=Number.isFinite||function(xe){return typeof xe=="number"&&isFinite(xe)},isSafeInteger=Number.isSafeInteger||function(xe){return typeof xe=="number"&&Math.abs(xe)<=MAX_SAFE_INTEGER},MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;let Events=function(xe){return xe.MEDIA_ATTACHING="hlsMediaAttaching",xe.MEDIA_ATTACHED="hlsMediaAttached",xe.MEDIA_DETACHING="hlsMediaDetaching",xe.MEDIA_DETACHED="hlsMediaDetached",xe.BUFFER_RESET="hlsBufferReset",xe.BUFFER_CODECS="hlsBufferCodecs",xe.BUFFER_CREATED="hlsBufferCreated",xe.BUFFER_APPENDING="hlsBufferAppending",xe.BUFFER_APPENDED="hlsBufferAppended",xe.BUFFER_EOS="hlsBufferEos",xe.BUFFER_FLUSHING="hlsBufferFlushing",xe.BUFFER_FLUSHED="hlsBufferFlushed",xe.MANIFEST_LOADING="hlsManifestLoading",xe.MANIFEST_LOADED="hlsManifestLoaded",xe.MANIFEST_PARSED="hlsManifestParsed",xe.LEVEL_SWITCHING="hlsLevelSwitching",xe.LEVEL_SWITCHED="hlsLevelSwitched",xe.LEVEL_LOADING="hlsLevelLoading",xe.LEVEL_LOADED="hlsLevelLoaded",xe.LEVEL_UPDATED="hlsLevelUpdated",xe.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",xe.LEVELS_UPDATED="hlsLevelsUpdated",xe.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",xe.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",xe.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",xe.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",xe.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",xe.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",xe.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",xe.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",xe.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",xe.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",xe.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",xe.CUES_PARSED="hlsCuesParsed",xe.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",xe.INIT_PTS_FOUND="hlsInitPtsFound",xe.FRAG_LOADING="hlsFragLoading",xe.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",xe.FRAG_LOADED="hlsFragLoaded",xe.FRAG_DECRYPTED="hlsFragDecrypted",xe.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",xe.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",xe.FRAG_PARSING_METADATA="hlsFragParsingMetadata",xe.FRAG_PARSED="hlsFragParsed",xe.FRAG_BUFFERED="hlsFragBuffered",xe.FRAG_CHANGED="hlsFragChanged",xe.FPS_DROP="hlsFpsDrop",xe.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",xe.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",xe.ERROR="hlsError",xe.DESTROYING="hlsDestroying",xe.KEY_LOADING="hlsKeyLoading",xe.KEY_LOADED="hlsKeyLoaded",xe.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",xe.BACK_BUFFER_REACHED="hlsBackBufferReached",xe.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",xe}({}),ErrorTypes=function(xe){return xe.NETWORK_ERROR="networkError",xe.MEDIA_ERROR="mediaError",xe.KEY_SYSTEM_ERROR="keySystemError",xe.MUX_ERROR="muxError",xe.OTHER_ERROR="otherError",xe}({}),ErrorDetails=function(xe){return xe.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",xe.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",xe.KEY_SYSTEM_NO_SESSION="keySystemNoSession",xe.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",xe.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",xe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",xe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",xe.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",xe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",xe.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",xe.MANIFEST_LOAD_ERROR="manifestLoadError",xe.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",xe.MANIFEST_PARSING_ERROR="manifestParsingError",xe.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",xe.LEVEL_EMPTY_ERROR="levelEmptyError",xe.LEVEL_LOAD_ERROR="levelLoadError",xe.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",xe.LEVEL_PARSING_ERROR="levelParsingError",xe.LEVEL_SWITCH_ERROR="levelSwitchError",xe.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",xe.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",xe.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",xe.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",xe.FRAG_LOAD_ERROR="fragLoadError",xe.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",xe.FRAG_DECRYPT_ERROR="fragDecryptError",xe.FRAG_PARSING_ERROR="fragParsingError",xe.FRAG_GAP="fragGap",xe.REMUX_ALLOC_ERROR="remuxAllocError",xe.KEY_LOAD_ERROR="keyLoadError",xe.KEY_LOAD_TIMEOUT="keyLoadTimeOut",xe.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",xe.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",xe.BUFFER_APPEND_ERROR="bufferAppendError",xe.BUFFER_APPENDING_ERROR="bufferAppendingError",xe.BUFFER_STALLED_ERROR="bufferStalledError",xe.BUFFER_FULL_ERROR="bufferFullError",xe.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",xe.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",xe.INTERNAL_EXCEPTION="internalException",xe.INTERNAL_ABORTED="aborted",xe.UNKNOWN="unknown",xe}({});const noop=function xe(){},fakeLogger={trace:noop,debug:noop,log:noop,warn:noop,info:noop,error:noop};let exportedLogger=fakeLogger;function consolePrintFn(xe){const pe=self.console[xe];return pe?pe.bind(self.console,"[".concat(xe,"] >")):noop}function exportLoggerFunctions(xe,...pe){pe.forEach(function(_e){exportedLogger[_e]=xe[_e]?xe[_e].bind(xe):consolePrintFn(_e)})}function enableLogs(xe,pe){if(typeof console=="object"&&xe===!0||typeof xe=="object"){exportLoggerFunctions(xe,"debug","log","info","warn","error");try{exportedLogger.log('Debug logs enabled for "'.concat(pe,'" in hls.js version 1.5.13'))}catch(_e){exportedLogger=fakeLogger}}else exportedLogger=fakeLogger}const logger=exportedLogger,DECIMAL_RESOLUTION_REGEX=/^(\d+)x(\d+)$/,ATTR_LIST_REGEX=/(.+?)=(".*?"|.*?)(?:,|$)/g;class AttrList{constructor(pe){typeof pe=="string"&&(pe=AttrList.parseAttrList(pe)),_extends(this,pe)}get clientAttrs(){return Object.keys(this).filter(pe=>pe.substring(0,2)==="X-")}decimalInteger(pe){const _e=parseInt(this[pe],10);return _e>Number.MAX_SAFE_INTEGER?1/0:_e}hexadecimalInteger(pe){if(this[pe]){let _e=(this[pe]||"0x").slice(2);_e=(_e.length&1?"0":"")+_e;const Ce=new Uint8Array(_e.length/2);for(let Ie=0;Ie<_e.length/2;Ie++)Ce[Ie]=parseInt(_e.slice(Ie*2,Ie*2+2),16);return Ce}else return null}hexadecimalIntegerAsNumber(pe){const _e=parseInt(this[pe],16);return _e>Number.MAX_SAFE_INTEGER?1/0:_e}decimalFloatingPoint(pe){return parseFloat(this[pe])}optionalFloat(pe,_e){const Ce=this[pe];return Ce?parseFloat(Ce):_e}enumeratedString(pe){return this[pe]}bool(pe){return this[pe]==="YES"}decimalResolution(pe){const _e=DECIMAL_RESOLUTION_REGEX.exec(this[pe]);if(_e!==null)return{width:parseInt(_e[1],10),height:parseInt(_e[2],10)}}static parseAttrList(pe){let _e;const Ce={},Ie='"';for(ATTR_LIST_REGEX.lastIndex=0;(_e=ATTR_LIST_REGEX.exec(pe))!==null;){let Oe=_e[2];Oe.indexOf(Ie)===0&&Oe.lastIndexOf(Ie)===Oe.length-1&&(Oe=Oe.slice(1,-1));const Ne=_e[1].trim();Ce[Ne]=Oe}return Ce}}function isDateRangeCueAttribute(xe){return xe!=="ID"&&xe!=="CLASS"&&xe!=="START-DATE"&&xe!=="DURATION"&&xe!=="END-DATE"&&xe!=="END-ON-NEXT"}function isSCTE35Attribute(xe){return xe==="SCTE35-OUT"||xe==="SCTE35-IN"}class DateRange{constructor(pe,_e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,_e){const Ce=_e.attr;for(const Ie in Ce)if(Object.prototype.hasOwnProperty.call(pe,Ie)&&pe[Ie]!==Ce[Ie]){logger.warn('DATERANGE tag attribute: "'.concat(Ie,'" does not match for tags with ID: "').concat(pe.ID,'"')),this._badValueForSameId=Ie;break}pe=_extends(new AttrList({}),Ce,pe)}if(this.attr=pe,this._startDate=new Date(pe["START-DATE"]),"END-DATE"in this.attr){const Ce=new Date(this.attr["END-DATE"]);isFiniteNumber(Ce.getTime())&&(this._endDate=Ce)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const pe=this.duration;return pe!==null?new Date(this._startDate.getTime()+pe*1e3):null}get duration(){if("DURATION"in this.attr){const pe=this.attr.decimalFloatingPoint("DURATION");if(isFiniteNumber(pe))return pe}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&isFiniteNumber(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class LoadStats{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var ElementaryStreamTypes={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class BaseSegment{constructor(pe){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[ElementaryStreamTypes.AUDIO]:null,[ElementaryStreamTypes.VIDEO]:null,[ElementaryStreamTypes.AUDIOVIDEO]:null},this.baseurl=pe}setByteRange(pe,_e){const Ce=pe.split("@",2);let Ie;Ce.length===1?Ie=(_e==null?void 0:_e.byteRangeEndOffset)||0:Ie=parseInt(Ce[1]),this._byteRange=[Ie,parseInt(Ce[0])+Ie]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=urlToolkitExports.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(pe){this._url=pe}}class Fragment extends BaseSegment{constructor(pe,_e){super(_e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new LoadStats,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=pe}get decryptdata(){const{levelkeys:pe}=this;if(!pe&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const _e=this.levelkeys.identity;if(_e)this._decryptdata=_e.getDecryptData(this.sn);else{const Ce=Object.keys(this.levelkeys);if(Ce.length===1)return this._decryptdata=this.levelkeys[Ce[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!isFiniteNumber(this.programDateTime))return null;const pe=isFiniteNumber(this.duration)?this.duration:0;return this.programDateTime+pe*1e3}get encrypted(){var pe;if((pe=this._decryptdata)!=null&&pe.encrypted)return!0;if(this.levelkeys){const _e=Object.keys(this.levelkeys),Ce=_e.length;if(Ce>1||Ce===1&&this.levelkeys[_e[0]].encrypted)return!0}return!1}setKeyFormat(pe){if(this.levelkeys){const _e=this.levelkeys[pe];_e&&!this._decryptdata&&(this._decryptdata=_e.getDecryptData(this.sn))}}abortRequests(){var pe,_e;(pe=this.loader)==null||pe.abort(),(_e=this.keyLoader)==null||_e.abort()}setElementaryStreamInfo(pe,_e,Ce,Ie,Oe,Ne=!1){const{elementaryStreams:Fe}=this,Ue=Fe[pe];if(!Ue){Fe[pe]={startPTS:_e,endPTS:Ce,startDTS:Ie,endDTS:Oe,partial:Ne};return}Ue.startPTS=Math.min(Ue.startPTS,_e),Ue.endPTS=Math.max(Ue.endPTS,Ce),Ue.startDTS=Math.min(Ue.startDTS,Ie),Ue.endDTS=Math.max(Ue.endDTS,Oe)}clearElementaryStreamInfo(){const{elementaryStreams:pe}=this;pe[ElementaryStreamTypes.AUDIO]=null,pe[ElementaryStreamTypes.VIDEO]=null,pe[ElementaryStreamTypes.AUDIOVIDEO]=null}}class Part extends BaseSegment{constructor(pe,_e,Ce,Ie,Oe){super(Ce),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new LoadStats,this.duration=pe.decimalFloatingPoint("DURATION"),this.gap=pe.bool("GAP"),this.independent=pe.bool("INDEPENDENT"),this.relurl=pe.enumeratedString("URI"),this.fragment=_e,this.index=Ie;const Ne=pe.enumeratedString("BYTERANGE");Ne&&this.setByteRange(Ne,Oe),Oe&&(this.fragOffset=Oe.fragOffset+Oe.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:pe}=this;return!!(pe.audio||pe.video||pe.audiovideo)}}const DEFAULT_TARGET_DURATION=10;class LevelDetails{constructor(pe){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=pe}reloaded(pe){if(!pe){this.advanced=!0,this.updated=!0;return}const _e=this.lastPartSn-pe.lastPartSn,Ce=this.lastPartIndex-pe.lastPartIndex;this.updated=this.endSN!==pe.endSN||!!Ce||!!_e||!this.live,this.advanced=this.endSN>pe.endSN||_e>0||_e===0&&Ce>0,this.updated||this.advanced?this.misses=Math.floor(pe.misses*.6):this.misses=pe.misses+1,this.availabilityDelay=pe.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?isFiniteNumber(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||DEFAULT_TARGET_DURATION}get drift(){const pe=this.driftEndTime-this.driftStartTime;return pe>0?(this.driftEnd-this.driftStart)*1e3/pe:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var pe;return(pe=this.partList)!=null&&pe.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var pe;return(pe=this.fragments)!=null&&pe.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var pe;return(pe=this.partList)!=null&&pe.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var pe;return(pe=this.partList)!=null&&pe.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function base64Decode(xe){return Uint8Array.from(atob(xe),pe=>pe.charCodeAt(0))}function getKeyIdBytes(xe){const pe=strToUtf8array(xe).subarray(0,16),_e=new Uint8Array(16);return _e.set(pe,16-pe.length),_e}function changeEndianness(xe){const pe=function(Ce,Ie,Oe){const Ne=Ce[Ie];Ce[Ie]=Ce[Oe],Ce[Oe]=Ne};pe(xe,0,3),pe(xe,1,2),pe(xe,4,5),pe(xe,6,7)}function convertDataUriToArrayBytes(xe){const pe=xe.split(":");let _e=null;if(pe[0]==="data"&&pe.length===2){const Ce=pe[1].split(";"),Ie=Ce[Ce.length-1].split(",");if(Ie.length===2){const Oe=Ie[0]==="base64",Ne=Ie[1];Oe?(Ce.splice(-1,1),_e=base64Decode(Ne)):_e=getKeyIdBytes(Ne)}}return _e}function strToUtf8array(xe){return Uint8Array.from(unescape(encodeURIComponent(xe)),pe=>pe.charCodeAt(0))}const optionalSelf=typeof self<"u"?self:void 0;var KeySystems={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},KeySystemFormats={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function keySystemFormatToKeySystemDomain(xe){switch(xe){case KeySystemFormats.FAIRPLAY:return KeySystems.FAIRPLAY;case KeySystemFormats.PLAYREADY:return KeySystems.PLAYREADY;case KeySystemFormats.WIDEVINE:return KeySystems.WIDEVINE;case KeySystemFormats.CLEARKEY:return KeySystems.CLEARKEY}}var KeySystemIds={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function keySystemIdToKeySystemDomain(xe){if(xe===KeySystemIds.WIDEVINE)return KeySystems.WIDEVINE}function keySystemDomainToKeySystemFormat(xe){switch(xe){case KeySystems.FAIRPLAY:return KeySystemFormats.FAIRPLAY;case KeySystems.PLAYREADY:return KeySystemFormats.PLAYREADY;case KeySystems.WIDEVINE:return KeySystemFormats.WIDEVINE;case KeySystems.CLEARKEY:return KeySystemFormats.CLEARKEY}}function getKeySystemsForConfig(xe){const{drmSystems:pe,widevineLicenseUrl:_e}=xe,Ce=pe?[KeySystems.FAIRPLAY,KeySystems.WIDEVINE,KeySystems.PLAYREADY,KeySystems.CLEARKEY].filter(Ie=>!!pe[Ie]):[];return!Ce[KeySystems.WIDEVINE]&&_e&&Ce.push(KeySystems.WIDEVINE),Ce}const requestMediaKeySystemAccess=function(xe){return optionalSelf!=null&&(xe=optionalSelf.navigator)!=null&&xe.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function getSupportedMediaKeySystemConfigurations(xe,pe,_e,Ce){let Ie;switch(xe){case KeySystems.FAIRPLAY:Ie=["cenc","sinf"];break;case KeySystems.WIDEVINE:case KeySystems.PLAYREADY:Ie=["cenc"];break;case KeySystems.CLEARKEY:Ie=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(xe))}return createMediaKeySystemConfigurations(Ie,pe,_e,Ce)}function createMediaKeySystemConfigurations(xe,pe,_e,Ce){return[{initDataTypes:xe,persistentState:Ce.persistentState||"optional",distinctiveIdentifier:Ce.distinctiveIdentifier||"optional",sessionTypes:Ce.sessionTypes||[Ce.sessionType||"temporary"],audioCapabilities:pe.map(Oe=>({contentType:'audio/mp4; codecs="'.concat(Oe,'"'),robustness:Ce.audioRobustness||"",encryptionScheme:Ce.audioEncryptionScheme||null})),videoCapabilities:_e.map(Oe=>({contentType:'video/mp4; codecs="'.concat(Oe,'"'),robustness:Ce.videoRobustness||"",encryptionScheme:Ce.videoEncryptionScheme||null}))}]}function sliceUint8(xe,pe,_e){return Uint8Array.prototype.slice?xe.slice(pe,_e):new Uint8Array(Array.prototype.slice.call(xe,pe,_e))}const isHeader$2=(xe,pe)=>pe+10<=xe.length&&xe[pe]===73&&xe[pe+1]===68&&xe[pe+2]===51&&xe[pe+3]<255&&xe[pe+4]<255&&xe[pe+6]<128&&xe[pe+7]<128&&xe[pe+8]<128&&xe[pe+9]<128,isFooter=(xe,pe)=>pe+10<=xe.length&&xe[pe]===51&&xe[pe+1]===68&&xe[pe+2]===73&&xe[pe+3]<255&&xe[pe+4]<255&&xe[pe+6]<128&&xe[pe+7]<128&&xe[pe+8]<128&&xe[pe+9]<128,getID3Data=(xe,pe)=>{const _e=pe;let Ce=0;for(;isHeader$2(xe,pe);){Ce+=10;const Ie=readSize(xe,pe+6);Ce+=Ie,isFooter(xe,pe+10)&&(Ce+=10),pe+=Ce}if(Ce>0)return xe.subarray(_e,_e+Ce)},readSize=(xe,pe)=>{let _e=0;return _e=(xe[pe]&127)<<21,_e|=(xe[pe+1]&127)<<14,_e|=(xe[pe+2]&127)<<7,_e|=xe[pe+3]&127,_e},canParse$2=(xe,pe)=>isHeader$2(xe,pe)&&readSize(xe,pe+6)+10<=xe.length-pe,getTimeStamp=xe=>{const pe=getID3Frames(xe);for(let _e=0;_e<pe.length;_e++){const Ce=pe[_e];if(isTimeStampFrame(Ce))return readTimeStamp(Ce)}},isTimeStampFrame=xe=>xe&&xe.key==="PRIV"&&xe.info==="com.apple.streaming.transportStreamTimestamp",getFrameData=xe=>{const pe=String.fromCharCode(xe[0],xe[1],xe[2],xe[3]),_e=readSize(xe,4),Ce=10;return{type:pe,size:_e,data:xe.subarray(Ce,Ce+_e)}},getID3Frames=xe=>{let pe=0;const _e=[];for(;isHeader$2(xe,pe);){const Ce=readSize(xe,pe+6);pe+=10;const Ie=pe+Ce;for(;pe+8<Ie;){const Oe=getFrameData(xe.subarray(pe)),Ne=decodeFrame(Oe);Ne&&_e.push(Ne),pe+=Oe.size+10}isFooter(xe,pe)&&(pe+=10)}return _e},decodeFrame=xe=>xe.type==="PRIV"?decodePrivFrame(xe):xe.type[0]==="W"?decodeURLFrame(xe):decodeTextFrame(xe),decodePrivFrame=xe=>{if(xe.size<2)return;const pe=utf8ArrayToStr(xe.data,!0),_e=new Uint8Array(xe.data.subarray(pe.length+1));return{key:xe.type,info:pe,data:_e.buffer}},decodeTextFrame=xe=>{if(xe.size<2)return;if(xe.type==="TXXX"){let _e=1;const Ce=utf8ArrayToStr(xe.data.subarray(_e),!0);_e+=Ce.length+1;const Ie=utf8ArrayToStr(xe.data.subarray(_e));return{key:xe.type,info:Ce,data:Ie}}const pe=utf8ArrayToStr(xe.data.subarray(1));return{key:xe.type,data:pe}},decodeURLFrame=xe=>{if(xe.type==="WXXX"){if(xe.size<2)return;let _e=1;const Ce=utf8ArrayToStr(xe.data.subarray(_e),!0);_e+=Ce.length+1;const Ie=utf8ArrayToStr(xe.data.subarray(_e));return{key:xe.type,info:Ce,data:Ie}}const pe=utf8ArrayToStr(xe.data);return{key:xe.type,data:pe}},readTimeStamp=xe=>{if(xe.data.byteLength===8){const pe=new Uint8Array(xe.data),_e=pe[3]&1;let Ce=(pe[4]<<23)+(pe[5]<<15)+(pe[6]<<7)+pe[7];return Ce/=45,_e&&(Ce+=4772185884e-2),Math.round(Ce)}},utf8ArrayToStr=(xe,pe=!1)=>{const _e=getTextDecoder();if(_e){const $e=_e.decode(xe);if(pe){const ze=$e.indexOf("\0");return ze!==-1?$e.substring(0,ze):$e}return $e.replace(/\0/g,"")}const Ce=xe.length;let Ie,Oe,Ne,Fe="",Ue=0;for(;Ue<Ce;){if(Ie=xe[Ue++],Ie===0&&pe)return Fe;if(Ie===0||Ie===3)continue;switch(Ie>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Fe+=String.fromCharCode(Ie);break;case 12:case 13:Oe=xe[Ue++],Fe+=String.fromCharCode((Ie&31)<<6|Oe&63);break;case 14:Oe=xe[Ue++],Ne=xe[Ue++],Fe+=String.fromCharCode((Ie&15)<<12|(Oe&63)<<6|(Ne&63)<<0);break}}return Fe};let decoder;function getTextDecoder(){if(!navigator.userAgent.includes("PlayStation 4"))return!decoder&&typeof self.TextDecoder<"u"&&(decoder=new self.TextDecoder("utf-8")),decoder}const Hex={hexDump:function(xe){let pe="";for(let _e=0;_e<xe.length;_e++){let Ce=xe[_e].toString(16);Ce.length<2&&(Ce="0"+Ce),pe+=Ce}return pe}},UINT32_MAX$1=Math.pow(2,32)-1,push=[].push,RemuxerTrackIdConfig={video:1,audio:2,id3:3,text:4};function bin2str(xe){return String.fromCharCode.apply(null,xe)}function readUint16(xe,pe){const _e=xe[pe]<<8|xe[pe+1];return _e<0?65536+_e:_e}function readUint32(xe,pe){const _e=readSint32(xe,pe);return _e<0?4294967296+_e:_e}function readUint64(xe,pe){let _e=readUint32(xe,pe);return _e*=Math.pow(2,32),_e+=readUint32(xe,pe+4),_e}function readSint32(xe,pe){return xe[pe]<<24|xe[pe+1]<<16|xe[pe+2]<<8|xe[pe+3]}function writeUint32(xe,pe,_e){xe[pe]=_e>>24,xe[pe+1]=_e>>16&255,xe[pe+2]=_e>>8&255,xe[pe+3]=_e&255}function hasMoofData(xe){const pe=xe.byteLength;for(let _e=0;_e<pe;){const Ce=readUint32(xe,_e);if(Ce>8&&xe[_e+4]===109&&xe[_e+5]===111&&xe[_e+6]===111&&xe[_e+7]===102)return!0;_e=Ce>1?_e+Ce:pe}return!1}function findBox(xe,pe){const _e=[];if(!pe.length)return _e;const Ce=xe.byteLength;for(let Ie=0;Ie<Ce;){const Oe=readUint32(xe,Ie),Ne=bin2str(xe.subarray(Ie+4,Ie+8)),Fe=Oe>1?Ie+Oe:Ce;if(Ne===pe[0])if(pe.length===1)_e.push(xe.subarray(Ie+8,Fe));else{const Ue=findBox(xe.subarray(Ie+8,Fe),pe.slice(1));Ue.length&&push.apply(_e,Ue)}Ie=Fe}return _e}function parseSegmentIndex(xe){const pe=[],_e=xe[0];let Ce=8;const Ie=readUint32(xe,Ce);Ce+=4;let Oe=0,Ne=0;_e===0?(Oe=readUint32(xe,Ce),Ne=readUint32(xe,Ce+4),Ce+=8):(Oe=readUint64(xe,Ce),Ne=readUint64(xe,Ce+8),Ce+=16),Ce+=2;let Fe=xe.length+Ne;const Ue=readUint16(xe,Ce);Ce+=2;for(let $e=0;$e<Ue;$e++){let ze=Ce;const Ve=readUint32(xe,ze);ze+=4;const qe=Ve&2147483647;if((Ve&2147483648)>>>31===1)return logger.warn("SIDX has hierarchical references (not supported)"),null;const vn=readUint32(xe,ze);ze+=4,pe.push({referenceSize:qe,subsegmentDuration:vn,info:{duration:vn/Ie,start:Fe,end:Fe+qe-1}}),Fe+=qe,ze+=4,Ce=ze}return{earliestPresentationTime:Oe,timescale:Ie,version:_e,referencesCount:Ue,references:pe}}function parseInitSegment(xe){const pe=[],_e=findBox(xe,["moov","trak"]);for(let Ie=0;Ie<_e.length;Ie++){const Oe=_e[Ie],Ne=findBox(Oe,["tkhd"])[0];if(Ne){let Fe=Ne[0];const Ue=readUint32(Ne,Fe===0?12:20),$e=findBox(Oe,["mdia","mdhd"])[0];if($e){Fe=$e[0];const ze=readUint32($e,Fe===0?12:20),Ve=findBox(Oe,["mdia","hdlr"])[0];if(Ve){const qe=bin2str(Ve.subarray(8,12)),En={soun:ElementaryStreamTypes.AUDIO,vide:ElementaryStreamTypes.VIDEO}[qe];if(En){const vn=findBox(Oe,["mdia","minf","stbl","stsd"])[0],hn=parseStsd(vn);pe[Ue]={timescale:ze,type:En},pe[En]=_objectSpread2({timescale:ze,id:Ue},hn)}}}}}return findBox(xe,["moov","mvex","trex"]).forEach(Ie=>{const Oe=readUint32(Ie,4),Ne=pe[Oe];Ne&&(Ne.default={duration:readUint32(Ie,12),flags:readUint32(Ie,20)})}),pe}function parseStsd(xe){const pe=xe.subarray(8),_e=pe.subarray(86),Ce=bin2str(pe.subarray(4,8));let Ie=Ce;const Oe=Ce==="enca"||Ce==="encv";if(Oe){const Fe=findBox(pe,[Ce])[0].subarray(Ce==="enca"?28:78);findBox(Fe,["sinf"]).forEach($e=>{const ze=findBox($e,["schm"])[0];if(ze){const Ve=bin2str(ze.subarray(4,8));if(Ve==="cbcs"||Ve==="cenc"){const qe=findBox($e,["frma"])[0];qe&&(Ie=bin2str(qe))}}})}switch(Ie){case"avc1":case"avc2":case"avc3":case"avc4":{const Ne=findBox(_e,["avcC"])[0];Ie+="."+toHex(Ne[1])+toHex(Ne[2])+toHex(Ne[3]);break}case"mp4a":{const Ne=findBox(pe,[Ce])[0],Fe=findBox(Ne.subarray(28),["esds"])[0];if(Fe&&Fe.length>12){let Ue=4;if(Fe[Ue++]!==3)break;Ue=skipBERInteger(Fe,Ue),Ue+=2;const $e=Fe[Ue++];if($e&128&&(Ue+=2),$e&64&&(Ue+=Fe[Ue++]),Fe[Ue++]!==4)break;Ue=skipBERInteger(Fe,Ue);const ze=Fe[Ue++];if(ze===64)Ie+="."+toHex(ze);else break;if(Ue+=12,Fe[Ue++]!==5)break;Ue=skipBERInteger(Fe,Ue);const Ve=Fe[Ue++];let qe=(Ve&248)>>3;qe===31&&(qe+=1+((Ve&7)<<3)+((Fe[Ue]&224)>>5)),Ie+="."+qe}break}case"hvc1":case"hev1":{const Ne=findBox(_e,["hvcC"])[0],Fe=Ne[1],Ue=["","A","B","C"][Fe>>6],$e=Fe&31,ze=readUint32(Ne,2),Ve=(Fe&32)>>5?"H":"L",qe=Ne[12],En=Ne.subarray(6,12);Ie+="."+Ue+$e,Ie+="."+ze.toString(16).toUpperCase(),Ie+="."+Ve+qe;let vn="";for(let hn=En.length;hn--;){const _n=En[hn];(_n||vn)&&(vn="."+_n.toString(16).toUpperCase()+vn)}Ie+=vn;break}case"dvh1":case"dvhe":{const Ne=findBox(_e,["dvcC"])[0],Fe=Ne[2]>>1&127,Ue=Ne[2]<<5&32|Ne[3]>>3&31;Ie+="."+addLeadingZero(Fe)+"."+addLeadingZero(Ue);break}case"vp09":{const Ne=findBox(_e,["vpcC"])[0],Fe=Ne[4],Ue=Ne[5],$e=Ne[6]>>4&15;Ie+="."+addLeadingZero(Fe)+"."+addLeadingZero(Ue)+"."+addLeadingZero($e);break}case"av01":{const Ne=findBox(_e,["av1C"])[0],Fe=Ne[1]>>>5,Ue=Ne[1]&31,$e=Ne[2]>>>7?"H":"M",ze=(Ne[2]&64)>>6,Ve=(Ne[2]&32)>>5,qe=Fe===2&&ze?Ve?12:10:ze?10:8,En=(Ne[2]&16)>>4,vn=(Ne[2]&8)>>3,hn=(Ne[2]&4)>>2,_n=Ne[2]&3;Ie+="."+Fe+"."+addLeadingZero(Ue)+$e+"."+addLeadingZero(qe)+"."+En+"."+vn+hn+_n+"."+addLeadingZero(1)+"."+addLeadingZero(1)+"."+addLeadingZero(1)+"."+0;break}}return{codec:Ie,encrypted:Oe}}function skipBERInteger(xe,pe){const _e=pe+5;for(;xe[pe++]&128&&pe<_e;);return pe}function toHex(xe){return("0"+xe.toString(16).toUpperCase()).slice(-2)}function addLeadingZero(xe){return(xe<10?"0":"")+xe}function patchEncyptionData(xe,pe){if(!xe||!pe)return xe;const _e=pe.keyId;return _e&&pe.isCommonEncryption&&findBox(xe,["moov","trak"]).forEach(Ie=>{const Ne=findBox(Ie,["mdia","minf","stbl","stsd"])[0].subarray(8);let Fe=findBox(Ne,["enca"]);const Ue=Fe.length>0;Ue||(Fe=findBox(Ne,["encv"])),Fe.forEach($e=>{const ze=Ue?$e.subarray(28):$e.subarray(78);findBox(ze,["sinf"]).forEach(qe=>{const En=parseSinf(qe);if(En){const vn=En.subarray(8,24);vn.some(hn=>hn!==0)||(logger.log("[eme] Patching keyId in 'enc".concat(Ue?"a":"v",">sinf>>tenc' box: ").concat(Hex.hexDump(vn)," -> ").concat(Hex.hexDump(_e))),En.set(_e,8))}})})}),xe}function parseSinf(xe){const pe=findBox(xe,["schm"])[0];if(pe){const _e=bin2str(pe.subarray(4,8));if(_e==="cbcs"||_e==="cenc")return findBox(xe,["schi","tenc"])[0]}return logger.error("[eme] missing 'schm' box"),null}function getStartDTS(xe,pe){return findBox(pe,["moof","traf"]).reduce((_e,Ce)=>{const Ie=findBox(Ce,["tfdt"])[0],Oe=Ie[0],Ne=findBox(Ce,["tfhd"]).reduce((Fe,Ue)=>{const $e=readUint32(Ue,4),ze=xe[$e];if(ze){let Ve=readUint32(Ie,4);if(Oe===1){if(Ve===UINT32_MAX$1)return logger.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),Fe;Ve*=UINT32_MAX$1+1,Ve+=readUint32(Ie,8)}const qe=ze.timescale||9e4,En=Ve/qe;if(isFiniteNumber(En)&&(Fe===null||En<Fe))return En}return Fe},null);return Ne!==null&&isFiniteNumber(Ne)&&(_e===null||Ne<_e)?Ne:_e},null)}function getDuration(xe,pe){let _e=0,Ce=0,Ie=0;const Oe=findBox(xe,["moof","traf"]);for(let Ne=0;Ne<Oe.length;Ne++){const Fe=Oe[Ne],Ue=findBox(Fe,["tfhd"])[0],$e=readUint32(Ue,4),ze=pe[$e];if(!ze)continue;const Ve=ze.default,qe=readUint32(Ue,0)|(Ve==null?void 0:Ve.flags);let En=Ve==null?void 0:Ve.duration;qe&8&&(qe&2?En=readUint32(Ue,12):En=readUint32(Ue,8));const vn=ze.timescale||9e4,hn=findBox(Fe,["trun"]);for(let _n=0;_n<hn.length;_n++){if(_e=computeRawDurationFromSamples(hn[_n]),!_e&&En){const bn=readUint32(hn[_n],4);_e=En*bn}ze.type===ElementaryStreamTypes.VIDEO?Ce+=_e/vn:ze.type===ElementaryStreamTypes.AUDIO&&(Ie+=_e/vn)}}if(Ce===0&&Ie===0){let Ne=1/0,Fe=0,Ue=0;const $e=findBox(xe,["sidx"]);for(let ze=0;ze<$e.length;ze++){const Ve=parseSegmentIndex($e[ze]);if(Ve!=null&&Ve.references){Ne=Math.min(Ne,Ve.earliestPresentationTime/Ve.timescale);const qe=Ve.references.reduce((En,vn)=>En+vn.info.duration||0,0);Fe=Math.max(Fe,qe+Ve.earliestPresentationTime/Ve.timescale),Ue=Fe-Ne}}if(Ue&&isFiniteNumber(Ue))return Ue}return Ce||Ie}function computeRawDurationFromSamples(xe){const pe=readUint32(xe,0);let _e=8;pe&1&&(_e+=4),pe&4&&(_e+=4);let Ce=0;const Ie=readUint32(xe,4);for(let Oe=0;Oe<Ie;Oe++){if(pe&256){const Ne=readUint32(xe,_e);Ce+=Ne,_e+=4}pe&512&&(_e+=4),pe&1024&&(_e+=4),pe&2048&&(_e+=4)}return Ce}function offsetStartDTS(xe,pe,_e){findBox(pe,["moof","traf"]).forEach(Ce=>{findBox(Ce,["tfhd"]).forEach(Ie=>{const Oe=readUint32(Ie,4),Ne=xe[Oe];if(!Ne)return;const Fe=Ne.timescale||9e4;findBox(Ce,["tfdt"]).forEach(Ue=>{const $e=Ue[0],ze=_e*Fe;if(ze){let Ve=readUint32(Ue,4);if($e===0)Ve-=ze,Ve=Math.max(Ve,0),writeUint32(Ue,4,Ve);else{Ve*=Math.pow(2,32),Ve+=readUint32(Ue,8),Ve-=ze,Ve=Math.max(Ve,0);const qe=Math.floor(Ve/(UINT32_MAX$1+1)),En=Math.floor(Ve%(UINT32_MAX$1+1));writeUint32(Ue,4,qe),writeUint32(Ue,8,En)}}})})})}function segmentValidRange(xe){const pe={valid:null,remainder:null},_e=findBox(xe,["moof"]);if(_e.length<2)return pe.remainder=xe,pe;const Ce=_e[_e.length-1];return pe.valid=sliceUint8(xe,0,Ce.byteOffset-8),pe.remainder=sliceUint8(xe,Ce.byteOffset-8),pe}function appendUint8Array(xe,pe){const _e=new Uint8Array(xe.length+pe.length);return _e.set(xe),_e.set(pe,xe.length),_e}function parseSamples(xe,pe){const _e=[],Ce=pe.samples,Ie=pe.timescale,Oe=pe.id;let Ne=!1;return findBox(Ce,["moof"]).map(Ue=>{const $e=Ue.byteOffset-8;findBox(Ue,["traf"]).map(Ve=>{const qe=findBox(Ve,["tfdt"]).map(En=>{const vn=En[0];let hn=readUint32(En,4);return vn===1&&(hn*=Math.pow(2,32),hn+=readUint32(En,8)),hn/Ie})[0];return qe!==void 0&&(xe=qe),findBox(Ve,["tfhd"]).map(En=>{const vn=readUint32(En,4),hn=readUint32(En,0)&16777215,_n=(hn&1)!==0,bn=(hn&2)!==0,An=(hn&8)!==0;let xn=0;const Sn=(hn&16)!==0;let Cn=0;const Tn=(hn&32)!==0;let wn=8;vn===Oe&&(_n&&(wn+=8),bn&&(wn+=4),An&&(xn=readUint32(En,wn),wn+=4),Sn&&(Cn=readUint32(En,wn),wn+=4),Tn&&(wn+=4),pe.type==="video"&&(Ne=isHEVC(pe.codec)),findBox(Ve,["trun"]).map(Ln=>{const Pn=Ln[0],kn=readUint32(Ln,0)&16777215,In=(kn&1)!==0;let Rn=0;const Nn=(kn&4)!==0,On=(kn&256)!==0;let Dn=0;const Mn=(kn&512)!==0;let Bn=0;const $n=(kn&1024)!==0,Fn=(kn&2048)!==0;let Un=0;const Hn=readUint32(Ln,4);let Wn=8;In&&(Rn=readUint32(Ln,Wn),Wn+=4),Nn&&(Wn+=4);let Xn=Rn+$e;for(let or=0;or<Hn;or++){if(On?(Dn=readUint32(Ln,Wn),Wn+=4):Dn=xn,Mn?(Bn=readUint32(Ln,Wn),Wn+=4):Bn=Cn,$n&&(Wn+=4),Fn&&(Pn===0?Un=readUint32(Ln,Wn):Un=readSint32(Ln,Wn),Wn+=4),pe.type===ElementaryStreamTypes.VIDEO){let fr=0;for(;fr<Bn;){const cr=readUint32(Ce,Xn);if(Xn+=4,isSEIMessage(Ne,Ce[Xn])){const Jn=Ce.subarray(Xn,Xn+cr);parseSEIMessageFromNALu(Jn,Ne?2:1,xe+Un/Ie,_e)}Xn+=cr,fr+=cr+4}}xe+=Dn/Ie}}))})})}),_e}function isHEVC(xe){if(!xe)return!1;const pe=xe.indexOf("."),_e=pe<0?xe:xe.substring(0,pe);return _e==="hvc1"||_e==="hev1"||_e==="dvh1"||_e==="dvhe"}function isSEIMessage(xe,pe){if(xe){const _e=pe>>1&63;return _e===39||_e===40}else return(pe&31)===6}function parseSEIMessageFromNALu(xe,pe,_e,Ce){const Ie=discardEPB(xe);let Oe=0;Oe+=pe;let Ne=0,Fe=0,Ue=0;for(;Oe<Ie.length;){Ne=0;do{if(Oe>=Ie.length)break;Ue=Ie[Oe++],Ne+=Ue}while(Ue===255);Fe=0;do{if(Oe>=Ie.length)break;Ue=Ie[Oe++],Fe+=Ue}while(Ue===255);const $e=Ie.length-Oe;let ze=Oe;if(Fe<$e)Oe+=Fe;else if(Fe>$e){logger.error("Malformed SEI payload. ".concat(Fe," is too small, only ").concat($e," bytes left to parse."));break}if(Ne===4){if(Ie[ze++]===181){const qe=readUint16(Ie,ze);if(ze+=2,qe===49){const En=readUint32(Ie,ze);if(ze+=4,En===1195456820){const vn=Ie[ze++];if(vn===3){const hn=Ie[ze++],_n=31&hn,bn=64&hn,An=bn?2+_n*3:0,xn=new Uint8Array(An);if(bn){xn[0]=hn;for(let Sn=1;Sn<An;Sn++)xn[Sn]=Ie[ze++]}Ce.push({type:vn,payloadType:Ne,pts:_e,bytes:xn})}}}}}else if(Ne===5&&Fe>16){const Ve=[];for(let vn=0;vn<16;vn++){const hn=Ie[ze++].toString(16);Ve.push(hn.length==1?"0"+hn:hn),(vn===3||vn===5||vn===7||vn===9)&&Ve.push("-")}const qe=Fe-16,En=new Uint8Array(qe);for(let vn=0;vn<qe;vn++)En[vn]=Ie[ze++];Ce.push({payloadType:Ne,pts:_e,uuid:Ve.join(""),userData:utf8ArrayToStr(En),userDataBytes:En})}}}function discardEPB(xe){const pe=xe.byteLength,_e=[];let Ce=1;for(;Ce<pe-2;)xe[Ce]===0&&xe[Ce+1]===0&&xe[Ce+2]===3?(_e.push(Ce+2),Ce+=2):Ce++;if(_e.length===0)return xe;const Ie=pe-_e.length,Oe=new Uint8Array(Ie);let Ne=0;for(Ce=0;Ce<Ie;Ne++,Ce++)Ne===_e[0]&&(Ne++,_e.shift()),Oe[Ce]=xe[Ne];return Oe}function parseEmsg(xe){const pe=xe[0];let _e="",Ce="",Ie=0,Oe=0,Ne=0,Fe=0,Ue=0,$e=0;if(pe===0){for(;bin2str(xe.subarray($e,$e+1))!=="\0";)_e+=bin2str(xe.subarray($e,$e+1)),$e+=1;for(_e+=bin2str(xe.subarray($e,$e+1)),$e+=1;bin2str(xe.subarray($e,$e+1))!=="\0";)Ce+=bin2str(xe.subarray($e,$e+1)),$e+=1;Ce+=bin2str(xe.subarray($e,$e+1)),$e+=1,Ie=readUint32(xe,12),Oe=readUint32(xe,16),Fe=readUint32(xe,20),Ue=readUint32(xe,24),$e=28}else if(pe===1){$e+=4,Ie=readUint32(xe,$e),$e+=4;const Ve=readUint32(xe,$e);$e+=4;const qe=readUint32(xe,$e);for($e+=4,Ne=2**32*Ve+qe,isSafeInteger(Ne)||(Ne=Number.MAX_SAFE_INTEGER,logger.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),Fe=readUint32(xe,$e),$e+=4,Ue=readUint32(xe,$e),$e+=4;bin2str(xe.subarray($e,$e+1))!=="\0";)_e+=bin2str(xe.subarray($e,$e+1)),$e+=1;for(_e+=bin2str(xe.subarray($e,$e+1)),$e+=1;bin2str(xe.subarray($e,$e+1))!=="\0";)Ce+=bin2str(xe.subarray($e,$e+1)),$e+=1;Ce+=bin2str(xe.subarray($e,$e+1)),$e+=1}const ze=xe.subarray($e,xe.byteLength);return{schemeIdUri:_e,value:Ce,timeScale:Ie,presentationTime:Ne,presentationTimeDelta:Oe,eventDuration:Fe,id:Ue,payload:ze}}function mp4Box(xe,...pe){const _e=pe.length;let Ce=8,Ie=_e;for(;Ie--;)Ce+=pe[Ie].byteLength;const Oe=new Uint8Array(Ce);for(Oe[0]=Ce>>24&255,Oe[1]=Ce>>16&255,Oe[2]=Ce>>8&255,Oe[3]=Ce&255,Oe.set(xe,4),Ie=0,Ce=8;Ie<_e;Ie++)Oe.set(pe[Ie],Ce),Ce+=pe[Ie].byteLength;return Oe}function mp4pssh(xe,pe,_e){if(xe.byteLength!==16)throw new RangeError("Invalid system id");let Ce,Ie;if(pe){Ce=1,Ie=new Uint8Array(pe.length*16);for(let Fe=0;Fe<pe.length;Fe++){const Ue=pe[Fe];if(Ue.byteLength!==16)throw new RangeError("Invalid key");Ie.set(Ue,Fe*16)}}else Ce=0,Ie=new Uint8Array;let Oe;Ce>0?(Oe=new Uint8Array(4),pe.length>0&&new DataView(Oe.buffer).setUint32(0,pe.length,!1)):Oe=new Uint8Array;const Ne=new Uint8Array(4);return _e&&_e.byteLength>0&&new DataView(Ne.buffer).setUint32(0,_e.byteLength,!1),mp4Box([112,115,115,104],new Uint8Array([Ce,0,0,0]),xe,Oe,Ie,Ne,_e||new Uint8Array)}function parsePssh(xe){if(!(xe instanceof ArrayBuffer)||xe.byteLength<32)return null;const pe={version:0,systemId:"",kids:null,data:null},_e=new DataView(xe),Ce=_e.getUint32(0);if(xe.byteLength!==Ce&&Ce>44||_e.getUint32(4)!==1886614376||(pe.version=_e.getUint32(8)>>>24,pe.version>1))return null;pe.systemId=Hex.hexDump(new Uint8Array(xe,12,16));const Oe=_e.getUint32(28);if(pe.version===0){if(Ce-32<Oe)return null;pe.data=new Uint8Array(xe,32,Oe)}else if(pe.version===1){pe.kids=[];for(let Ne=0;Ne<Oe;Ne++)pe.kids.push(new Uint8Array(xe,32+Ne*16,16))}return pe}let keyUriToKeyIdMap={};class LevelKey{static clearKeyUriToKeyIdMap(){keyUriToKeyIdMap={}}constructor(pe,_e,Ce,Ie=[1],Oe=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=pe,this.uri=_e,this.keyFormat=Ce,this.keyFormatVersions=Ie,this.iv=Oe,this.encrypted=pe?pe!=="NONE":!1,this.isCommonEncryption=this.encrypted&&pe!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case KeySystemFormats.FAIRPLAY:case KeySystemFormats.WIDEVINE:case KeySystemFormats.PLAYREADY:case KeySystemFormats.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(pe){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof pe!="number"&&(this.method==="AES-128"&&!this.iv&&logger.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),pe=0);const Ce=createInitializationVector(pe);return new LevelKey(this.method,this.uri,"identity",this.keyFormatVersions,Ce)}const _e=convertDataUriToArrayBytes(this.uri);if(_e)switch(this.keyFormat){case KeySystemFormats.WIDEVINE:this.pssh=_e,_e.length>=22&&(this.keyId=_e.subarray(_e.length-22,_e.length-6));break;case KeySystemFormats.PLAYREADY:{const Ce=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=mp4pssh(Ce,null,_e);const Ie=new Uint16Array(_e.buffer,_e.byteOffset,_e.byteLength/2),Oe=String.fromCharCode.apply(null,Array.from(Ie)),Ne=Oe.substring(Oe.indexOf("<"),Oe.length),$e=new DOMParser().parseFromString(Ne,"text/xml").getElementsByTagName("KID")[0];if($e){const ze=$e.childNodes[0]?$e.childNodes[0].nodeValue:$e.getAttribute("VALUE");if(ze){const Ve=base64Decode(ze).subarray(0,16);changeEndianness(Ve),this.keyId=Ve}}break}default:{let Ce=_e.subarray(0,16);if(Ce.length!==16){const Ie=new Uint8Array(16);Ie.set(Ce,16-Ce.length),Ce=Ie}this.keyId=Ce;break}}if(!this.keyId||this.keyId.byteLength!==16){let Ce=keyUriToKeyIdMap[this.uri];if(!Ce){const Ie=Object.keys(keyUriToKeyIdMap).length%Number.MAX_SAFE_INTEGER;Ce=new Uint8Array(16),new DataView(Ce.buffer,12,4).setUint32(0,Ie),keyUriToKeyIdMap[this.uri]=Ce}this.keyId=Ce}return this}}function createInitializationVector(xe){const pe=new Uint8Array(16);for(let _e=12;_e<16;_e++)pe[_e]=xe>>8*(15-_e)&255;return pe}const VARIABLE_REPLACEMENT_REGEX=/\{\$([a-zA-Z0-9-_]+)\}/g;function hasVariableReferences(xe){return VARIABLE_REPLACEMENT_REGEX.test(xe)}function substituteVariablesInAttributes(xe,pe,_e){if(xe.variableList!==null||xe.hasVariableRefs)for(let Ce=_e.length;Ce--;){const Ie=_e[Ce],Oe=pe[Ie];Oe&&(pe[Ie]=substituteVariables(xe,Oe))}}function substituteVariables(xe,pe){if(xe.variableList!==null||xe.hasVariableRefs){const _e=xe.variableList;return pe.replace(VARIABLE_REPLACEMENT_REGEX,Ce=>{const Ie=Ce.substring(2,Ce.length-1),Oe=_e==null?void 0:_e[Ie];return Oe===void 0?(xe.playlistParsingError||(xe.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(Ie,'"'))),Ce):Oe})}return pe}function addVariableDefinition(xe,pe,_e){let Ce=xe.variableList;Ce||(xe.variableList=Ce={});let Ie,Oe;if("QUERYPARAM"in pe){Ie=pe.QUERYPARAM;try{const Ne=new self.URL(_e).searchParams;if(Ne.has(Ie))Oe=Ne.get(Ie);else throw new Error('"'.concat(Ie,'" does not match any query parameter in URI: "').concat(_e,'"'))}catch(Ne){xe.playlistParsingError||(xe.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(Ne.message)))}}else Ie=pe.NAME,Oe=pe.VALUE;Ie in Ce?xe.playlistParsingError||(xe.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(Ie,'"'))):Ce[Ie]=Oe||""}function importVariableDefinition(xe,pe,_e){const Ce=pe.IMPORT;if(_e&&Ce in _e){let Ie=xe.variableList;Ie||(xe.variableList=Ie={}),Ie[Ce]=_e[Ce]}else xe.playlistParsingError||(xe.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(Ce,'"')))}function getMediaSource(xe=!0){return typeof self>"u"?void 0:(xe||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function isManagedMediaSource(xe){return typeof self<"u"&&xe===self.ManagedMediaSource}const sampleEntryCodesISO={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function isCodecType(xe,pe){const _e=sampleEntryCodesISO[pe];return!!_e&&!!_e[xe.slice(0,4)]}function areCodecsMediaSourceSupported(xe,pe,_e=!0){return!xe.split(",").some(Ce=>!isCodecMediaSourceSupported(Ce,pe,_e))}function isCodecMediaSourceSupported(xe,pe,_e=!0){var Ce;const Ie=getMediaSource(_e);return(Ce=Ie==null?void 0:Ie.isTypeSupported(mimeTypeForCodec(xe,pe)))!=null?Ce:!1}function mimeTypeForCodec(xe,pe){return"".concat(pe,'/mp4;codecs="').concat(xe,'"')}function videoCodecPreferenceValue(xe){if(xe){const pe=xe.substring(0,4);return sampleEntryCodesISO.video[pe]}return 2}function codecsSetSelectionPreferenceValue(xe){return xe.split(",").reduce((pe,_e)=>{const Ce=sampleEntryCodesISO.video[_e];return Ce?(Ce*2+pe)/(pe?3:2):(sampleEntryCodesISO.audio[_e]+pe)/(pe?2:1)},0)}const CODEC_COMPATIBLE_NAMES={};function getCodecCompatibleNameLower(xe,pe=!0){if(CODEC_COMPATIBLE_NAMES[xe])return CODEC_COMPATIBLE_NAMES[xe];const _e={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[xe];for(let Ce=0;Ce<_e.length;Ce++)if(isCodecMediaSourceSupported(_e[Ce],"audio",pe))return CODEC_COMPATIBLE_NAMES[xe]=_e[Ce],_e[Ce];return xe}const AUDIO_CODEC_REGEXP=/flac|opus/i;function getCodecCompatibleName(xe,pe=!0){return xe.replace(AUDIO_CODEC_REGEXP,_e=>getCodecCompatibleNameLower(_e.toLowerCase(),pe))}function pickMostCompleteCodecName(xe,pe){return xe&&xe!=="mp4a"?xe:pe&&pe.split(",")[0]}function convertAVC1ToAVCOTI(xe){const pe=xe.split(",");for(let _e=0;_e<pe.length;_e++){const Ce=pe[_e].split(".");if(Ce.length>2){let Ie=Ce.shift()+".";Ie+=parseInt(Ce.shift()).toString(16),Ie+=("000"+parseInt(Ce.shift()).toString(16)).slice(-4),pe[_e]=Ie}}return pe.join(",")}const MASTER_PLAYLIST_REGEX=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,MASTER_PLAYLIST_MEDIA_REGEX=/#EXT-X-MEDIA:(.*)/g,IS_MEDIA_PLAYLIST=/^#EXT(?:INF|-X-TARGETDURATION):/m,LEVEL_PLAYLIST_REGEX_FAST=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),LEVEL_PLAYLIST_REGEX_SLOW=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class M3U8Parser{static findGroup(pe,_e){for(let Ce=0;Ce<pe.length;Ce++){const Ie=pe[Ce];if(Ie.id===_e)return Ie}}static resolve(pe,_e){return urlToolkitExports.buildAbsoluteURL(_e,pe,{alwaysNormalize:!0})}static isMediaPlaylist(pe){return IS_MEDIA_PLAYLIST.test(pe)}static parseMasterPlaylist(pe,_e){const Ce=hasVariableReferences(pe),Ie={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Ce},Oe=[];MASTER_PLAYLIST_REGEX.lastIndex=0;let Ne;for(;(Ne=MASTER_PLAYLIST_REGEX.exec(pe))!=null;)if(Ne[1]){var Fe;const $e=new AttrList(Ne[1]);substituteVariablesInAttributes(Ie,$e,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const ze=substituteVariables(Ie,Ne[2]),Ve={attrs:$e,bitrate:$e.decimalInteger("BANDWIDTH")||$e.decimalInteger("AVERAGE-BANDWIDTH"),name:$e.NAME,url:M3U8Parser.resolve(ze,_e)},qe=$e.decimalResolution("RESOLUTION");qe&&(Ve.width=qe.width,Ve.height=qe.height),setCodecs($e.CODECS,Ve),(Fe=Ve.unknownCodecs)!=null&&Fe.length||Oe.push(Ve),Ie.levels.push(Ve)}else if(Ne[3]){const $e=Ne[3],ze=Ne[4];switch($e){case"SESSION-DATA":{const Ve=new AttrList(ze);substituteVariablesInAttributes(Ie,Ve,["DATA-ID","LANGUAGE","VALUE","URI"]);const qe=Ve["DATA-ID"];qe&&(Ie.sessionData===null&&(Ie.sessionData={}),Ie.sessionData[qe]=Ve);break}case"SESSION-KEY":{const Ve=parseKey(ze,_e,Ie);Ve.encrypted&&Ve.isSupported()?(Ie.sessionKeys===null&&(Ie.sessionKeys=[]),Ie.sessionKeys.push(Ve)):logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(ze,'"'));break}case"DEFINE":{{const Ve=new AttrList(ze);substituteVariablesInAttributes(Ie,Ve,["NAME","VALUE","QUERYPARAM"]),addVariableDefinition(Ie,Ve,_e)}break}case"CONTENT-STEERING":{const Ve=new AttrList(ze);substituteVariablesInAttributes(Ie,Ve,["SERVER-URI","PATHWAY-ID"]),Ie.contentSteering={uri:M3U8Parser.resolve(Ve["SERVER-URI"],_e),pathwayId:Ve["PATHWAY-ID"]||"."};break}case"START":{Ie.startTimeOffset=parseStartTimeOffset(ze);break}}}const Ue=Oe.length>0&&Oe.length<Ie.levels.length;return Ie.levels=Ue?Oe:Ie.levels,Ie.levels.length===0&&(Ie.playlistParsingError=new Error("no levels found in manifest")),Ie}static parseMasterPlaylistMedia(pe,_e,Ce){let Ie;const Oe={},Ne=Ce.levels,Fe={AUDIO:Ne.map($e=>({id:$e.attrs.AUDIO,audioCodec:$e.audioCodec})),SUBTITLES:Ne.map($e=>({id:$e.attrs.SUBTITLES,textCodec:$e.textCodec})),"CLOSED-CAPTIONS":[]};let Ue=0;for(MASTER_PLAYLIST_MEDIA_REGEX.lastIndex=0;(Ie=MASTER_PLAYLIST_MEDIA_REGEX.exec(pe))!==null;){const $e=new AttrList(Ie[1]),ze=$e.TYPE;if(ze){const Ve=Fe[ze],qe=Oe[ze]||[];Oe[ze]=qe,substituteVariablesInAttributes(Ce,$e,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const En=$e.LANGUAGE,vn=$e["ASSOC-LANGUAGE"],hn=$e.CHANNELS,_n=$e.CHARACTERISTICS,bn=$e["INSTREAM-ID"],An={attrs:$e,bitrate:0,id:Ue++,groupId:$e["GROUP-ID"]||"",name:$e.NAME||En||"",type:ze,default:$e.bool("DEFAULT"),autoselect:$e.bool("AUTOSELECT"),forced:$e.bool("FORCED"),lang:En,url:$e.URI?M3U8Parser.resolve($e.URI,_e):""};if(vn&&(An.assocLang=vn),hn&&(An.channels=hn),_n&&(An.characteristics=_n),bn&&(An.instreamId=bn),Ve!=null&&Ve.length){const xn=M3U8Parser.findGroup(Ve,An.groupId)||Ve[0];assignCodec(An,xn,"audioCodec"),assignCodec(An,xn,"textCodec")}qe.push(An)}}return Oe}static parseLevelPlaylist(pe,_e,Ce,Ie,Oe,Ne){const Fe=new LevelDetails(_e),Ue=Fe.fragments;let $e=null,ze=0,Ve=0,qe=0,En=0,vn=null,hn=new Fragment(Ie,_e),_n,bn,An,xn=-1,Sn=!1,Cn=null;for(LEVEL_PLAYLIST_REGEX_FAST.lastIndex=0,Fe.m3u8=pe,Fe.hasVariableRefs=hasVariableReferences(pe);(_n=LEVEL_PLAYLIST_REGEX_FAST.exec(pe))!==null;){Sn&&(Sn=!1,hn=new Fragment(Ie,_e),hn.start=qe,hn.sn=ze,hn.cc=En,hn.level=Ce,$e&&(hn.initSegment=$e,hn.rawProgramDateTime=$e.rawProgramDateTime,$e.rawProgramDateTime=null,Cn&&(hn.setByteRange(Cn),Cn=null)));const Pn=_n[1];if(Pn){hn.duration=parseFloat(Pn);const kn=(" "+_n[2]).slice(1);hn.title=kn||null,hn.tagList.push(kn?["INF",Pn,kn]:["INF",Pn])}else if(_n[3]){if(isFiniteNumber(hn.duration)){hn.start=qe,An&&setFragLevelKeys(hn,An,Fe),hn.sn=ze,hn.level=Ce,hn.cc=En,Ue.push(hn);const kn=(" "+_n[3]).slice(1);hn.relurl=substituteVariables(Fe,kn),assignProgramDateTime(hn,vn),vn=hn,qe+=hn.duration,ze++,Ve=0,Sn=!0}}else if(_n[4]){const kn=(" "+_n[4]).slice(1);vn?hn.setByteRange(kn,vn):hn.setByteRange(kn)}else if(_n[5])hn.rawProgramDateTime=(" "+_n[5]).slice(1),hn.tagList.push(["PROGRAM-DATE-TIME",hn.rawProgramDateTime]),xn===-1&&(xn=Ue.length);else{if(_n=_n[0].match(LEVEL_PLAYLIST_REGEX_SLOW),!_n){logger.warn("No matches on slow regex match for level playlist!");continue}for(bn=1;bn<_n.length&&!(typeof _n[bn]<"u");bn++);const kn=(" "+_n[bn]).slice(1),In=(" "+_n[bn+1]).slice(1),Rn=_n[bn+2]?(" "+_n[bn+2]).slice(1):"";switch(kn){case"PLAYLIST-TYPE":Fe.type=In.toUpperCase();break;case"MEDIA-SEQUENCE":ze=Fe.startSN=parseInt(In);break;case"SKIP":{const Nn=new AttrList(In);substituteVariablesInAttributes(Fe,Nn,["RECENTLY-REMOVED-DATERANGES"]);const On=Nn.decimalInteger("SKIPPED-SEGMENTS");if(isFiniteNumber(On)){Fe.skippedSegments=On;for(let Mn=On;Mn--;)Ue.unshift(null);ze+=On}const Dn=Nn.enumeratedString("RECENTLY-REMOVED-DATERANGES");Dn&&(Fe.recentlyRemovedDateranges=Dn.split("	"));break}case"TARGETDURATION":Fe.targetduration=Math.max(parseInt(In),1);break;case"VERSION":Fe.version=parseInt(In);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":Fe.live=!1;break;case"#":(In||Rn)&&hn.tagList.push(Rn?[In,Rn]:[In]);break;case"DISCONTINUITY":En++,hn.tagList.push(["DIS"]);break;case"GAP":hn.gap=!0,hn.tagList.push([kn]);break;case"BITRATE":hn.tagList.push([kn,In]);break;case"DATERANGE":{const Nn=new AttrList(In);substituteVariablesInAttributes(Fe,Nn,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),substituteVariablesInAttributes(Fe,Nn,Nn.clientAttrs);const On=new DateRange(Nn,Fe.dateRanges[Nn.ID]);On.isValid||Fe.skippedSegments?Fe.dateRanges[On.id]=On:logger.warn('Ignoring invalid DATERANGE tag: "'.concat(In,'"')),hn.tagList.push(["EXT-X-DATERANGE",In]);break}case"DEFINE":{{const Nn=new AttrList(In);substituteVariablesInAttributes(Fe,Nn,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Nn?importVariableDefinition(Fe,Nn,Ne):addVariableDefinition(Fe,Nn,_e)}break}case"DISCONTINUITY-SEQUENCE":En=parseInt(In);break;case"KEY":{const Nn=parseKey(In,_e,Fe);if(Nn.isSupported()){if(Nn.method==="NONE"){An=void 0;break}An||(An={}),An[Nn.keyFormat]&&(An=_extends({},An)),An[Nn.keyFormat]=Nn}else logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(In,'"'));break}case"START":Fe.startTimeOffset=parseStartTimeOffset(In);break;case"MAP":{const Nn=new AttrList(In);if(substituteVariablesInAttributes(Fe,Nn,["BYTERANGE","URI"]),hn.duration){const On=new Fragment(Ie,_e);setInitSegment(On,Nn,Ce,An),$e=On,hn.initSegment=$e,$e.rawProgramDateTime&&!hn.rawProgramDateTime&&(hn.rawProgramDateTime=$e.rawProgramDateTime)}else{const On=hn.byteRangeEndOffset;if(On){const Dn=hn.byteRangeStartOffset;Cn="".concat(On-Dn,"@").concat(Dn)}else Cn=null;setInitSegment(hn,Nn,Ce,An),$e=hn,Sn=!0}break}case"SERVER-CONTROL":{const Nn=new AttrList(In);Fe.canBlockReload=Nn.bool("CAN-BLOCK-RELOAD"),Fe.canSkipUntil=Nn.optionalFloat("CAN-SKIP-UNTIL",0),Fe.canSkipDateRanges=Fe.canSkipUntil>0&&Nn.bool("CAN-SKIP-DATERANGES"),Fe.partHoldBack=Nn.optionalFloat("PART-HOLD-BACK",0),Fe.holdBack=Nn.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Nn=new AttrList(In);Fe.partTarget=Nn.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Nn=Fe.partList;Nn||(Nn=Fe.partList=[]);const On=Ve>0?Nn[Nn.length-1]:void 0,Dn=Ve++,Mn=new AttrList(In);substituteVariablesInAttributes(Fe,Mn,["BYTERANGE","URI"]);const Bn=new Part(Mn,hn,_e,Dn,On);Nn.push(Bn),hn.duration+=Bn.duration;break}case"PRELOAD-HINT":{const Nn=new AttrList(In);substituteVariablesInAttributes(Fe,Nn,["URI"]),Fe.preloadHint=Nn;break}case"RENDITION-REPORT":{const Nn=new AttrList(In);substituteVariablesInAttributes(Fe,Nn,["URI"]),Fe.renditionReports=Fe.renditionReports||[],Fe.renditionReports.push(Nn);break}default:logger.warn("line parsed but not handled: ".concat(_n));break}}}vn&&!vn.relurl?(Ue.pop(),qe-=vn.duration,Fe.partList&&(Fe.fragmentHint=vn)):Fe.partList&&(assignProgramDateTime(hn,vn),hn.cc=En,Fe.fragmentHint=hn,An&&setFragLevelKeys(hn,An,Fe));const Tn=Ue.length,wn=Ue[0],Ln=Ue[Tn-1];if(qe+=Fe.skippedSegments*Fe.targetduration,qe>0&&Tn&&Ln){Fe.averagetargetduration=qe/Tn;const Pn=Ln.sn;Fe.endSN=Pn!=="initSegment"?Pn:0,Fe.live||(Ln.endList=!0),wn&&(Fe.startCC=wn.cc)}else Fe.endSN=0,Fe.startCC=0;return Fe.fragmentHint&&(qe+=Fe.fragmentHint.duration),Fe.totalduration=qe,Fe.endCC=En,xn>0&&backfillProgramDateTimes(Ue,xn),Fe}}function parseKey(xe,pe,_e){var Ce,Ie;const Oe=new AttrList(xe);substituteVariablesInAttributes(_e,Oe,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const Ne=(Ce=Oe.METHOD)!=null?Ce:"",Fe=Oe.URI,Ue=Oe.hexadecimalInteger("IV"),$e=Oe.KEYFORMATVERSIONS,ze=(Ie=Oe.KEYFORMAT)!=null?Ie:"identity";Fe&&Oe.IV&&!Ue&&logger.error("Invalid IV: ".concat(Oe.IV));const Ve=Fe?M3U8Parser.resolve(Fe,pe):"",qe=($e||"1").split("/").map(Number).filter(Number.isFinite);return new LevelKey(Ne,Ve,ze,qe,Ue)}function parseStartTimeOffset(xe){const _e=new AttrList(xe).decimalFloatingPoint("TIME-OFFSET");return isFiniteNumber(_e)?_e:null}function setCodecs(xe,pe){let _e=(xe||"").split(/[ ,]+/).filter(Ce=>Ce);["video","audio","text"].forEach(Ce=>{const Ie=_e.filter(Oe=>isCodecType(Oe,Ce));Ie.length&&(pe["".concat(Ce,"Codec")]=Ie.join(","),_e=_e.filter(Oe=>Ie.indexOf(Oe)===-1))}),pe.unknownCodecs=_e}function assignCodec(xe,pe,_e){const Ce=pe[_e];Ce&&(xe[_e]=Ce)}function backfillProgramDateTimes(xe,pe){let _e=xe[pe];for(let Ce=pe;Ce--;){const Ie=xe[Ce];if(!Ie)return;Ie.programDateTime=_e.programDateTime-Ie.duration*1e3,_e=Ie}}function assignProgramDateTime(xe,pe){xe.rawProgramDateTime?xe.programDateTime=Date.parse(xe.rawProgramDateTime):pe!=null&&pe.programDateTime&&(xe.programDateTime=pe.endProgramDateTime),isFiniteNumber(xe.programDateTime)||(xe.programDateTime=null,xe.rawProgramDateTime=null)}function setInitSegment(xe,pe,_e,Ce){xe.relurl=pe.URI,pe.BYTERANGE&&xe.setByteRange(pe.BYTERANGE),xe.level=_e,xe.sn="initSegment",Ce&&(xe.levelkeys=Ce),xe.initSegment=null}function setFragLevelKeys(xe,pe,_e){xe.levelkeys=pe;const{encryptedFragments:Ce}=_e;(!Ce.length||Ce[Ce.length-1].levelkeys!==pe)&&Object.keys(pe).some(Ie=>pe[Ie].isCommonEncryption)&&Ce.push(xe)}var PlaylistContextType={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},PlaylistLevelType={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function mapContextToLevelType(xe){const{type:pe}=xe;switch(pe){case PlaylistContextType.AUDIO_TRACK:return PlaylistLevelType.AUDIO;case PlaylistContextType.SUBTITLE_TRACK:return PlaylistLevelType.SUBTITLE;default:return PlaylistLevelType.MAIN}}function getResponseUrl(xe,pe){let _e=xe.url;return(_e===void 0||_e.indexOf("data:")===0)&&(_e=pe.url),_e}class PlaylistLoader{constructor(pe){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=pe,this.registerListeners()}startLoad(pe){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:pe}=this;pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.on(Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),pe.on(Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:pe}=this;pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.off(Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),pe.off(Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(pe){const _e=this.hls.config,Ce=_e.pLoader,Ie=_e.loader,Oe=Ce||Ie,Ne=new Oe(_e);return this.loaders[pe.type]=Ne,Ne}getInternalLoader(pe){return this.loaders[pe.type]}resetInternalLoader(pe){this.loaders[pe]&&delete this.loaders[pe]}destroyInternalLoaders(){for(const pe in this.loaders){const _e=this.loaders[pe];_e&&_e.destroy(),this.resetInternalLoader(pe)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(pe,_e){const{url:Ce}=_e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:PlaylistContextType.MANIFEST,url:Ce,deliveryDirectives:null})}onLevelLoading(pe,_e){const{id:Ce,level:Ie,pathwayId:Oe,url:Ne,deliveryDirectives:Fe}=_e;this.load({id:Ce,level:Ie,pathwayId:Oe,responseType:"text",type:PlaylistContextType.LEVEL,url:Ne,deliveryDirectives:Fe})}onAudioTrackLoading(pe,_e){const{id:Ce,groupId:Ie,url:Oe,deliveryDirectives:Ne}=_e;this.load({id:Ce,groupId:Ie,level:null,responseType:"text",type:PlaylistContextType.AUDIO_TRACK,url:Oe,deliveryDirectives:Ne})}onSubtitleTrackLoading(pe,_e){const{id:Ce,groupId:Ie,url:Oe,deliveryDirectives:Ne}=_e;this.load({id:Ce,groupId:Ie,level:null,responseType:"text",type:PlaylistContextType.SUBTITLE_TRACK,url:Oe,deliveryDirectives:Ne})}load(pe){var _e;const Ce=this.hls.config;let Ie=this.getInternalLoader(pe);if(Ie){const $e=Ie.context;if($e&&$e.url===pe.url&&$e.level===pe.level){logger.trace("[playlist-loader]: playlist request ongoing");return}logger.log("[playlist-loader]: aborting previous loader for type: ".concat(pe.type)),Ie.abort()}let Oe;if(pe.type===PlaylistContextType.MANIFEST?Oe=Ce.manifestLoadPolicy.default:Oe=_extends({},Ce.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),Ie=this.createInternalLoader(pe),isFiniteNumber((_e=pe.deliveryDirectives)==null?void 0:_e.part)){let $e;if(pe.type===PlaylistContextType.LEVEL&&pe.level!==null?$e=this.hls.levels[pe.level].details:pe.type===PlaylistContextType.AUDIO_TRACK&&pe.id!==null?$e=this.hls.audioTracks[pe.id].details:pe.type===PlaylistContextType.SUBTITLE_TRACK&&pe.id!==null&&($e=this.hls.subtitleTracks[pe.id].details),$e){const ze=$e.partTarget,Ve=$e.targetduration;if(ze&&Ve){const qe=Math.max(ze*3,Ve*.8)*1e3;Oe=_extends({},Oe,{maxTimeToFirstByteMs:Math.min(qe,Oe.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(qe,Oe.maxTimeToFirstByteMs)})}}}const Ne=Oe.errorRetry||Oe.timeoutRetry||{},Fe={loadPolicy:Oe,timeout:Oe.maxLoadTimeMs,maxRetry:Ne.maxNumRetry||0,retryDelay:Ne.retryDelayMs||0,maxRetryDelay:Ne.maxRetryDelayMs||0},Ue={onSuccess:($e,ze,Ve,qe)=>{const En=this.getInternalLoader(Ve);this.resetInternalLoader(Ve.type);const vn=$e.data;if(vn.indexOf("#EXTM3U")!==0){this.handleManifestParsingError($e,Ve,new Error("no EXTM3U delimiter"),qe||null,ze);return}ze.parsing.start=performance.now(),M3U8Parser.isMediaPlaylist(vn)?this.handleTrackOrLevelPlaylist($e,ze,Ve,qe||null,En):this.handleMasterPlaylist($e,ze,Ve,qe)},onError:($e,ze,Ve,qe)=>{this.handleNetworkError(ze,Ve,!1,$e,qe)},onTimeout:($e,ze,Ve)=>{this.handleNetworkError(ze,Ve,!0,void 0,$e)}};Ie.load(pe,Fe,Ue)}handleMasterPlaylist(pe,_e,Ce,Ie){const Oe=this.hls,Ne=pe.data,Fe=getResponseUrl(pe,Ce),Ue=M3U8Parser.parseMasterPlaylist(Ne,Fe);if(Ue.playlistParsingError){this.handleManifestParsingError(pe,Ce,Ue.playlistParsingError,Ie,_e);return}const{contentSteering:$e,levels:ze,sessionData:Ve,sessionKeys:qe,startTimeOffset:En,variableList:vn}=Ue;this.variableList=vn;const{AUDIO:hn=[],SUBTITLES:_n,"CLOSED-CAPTIONS":bn}=M3U8Parser.parseMasterPlaylistMedia(Ne,Fe,Ue);hn.length&&!hn.some(xn=>!xn.url)&&ze[0].audioCodec&&!ze[0].attrs.AUDIO&&(logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),hn.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new AttrList({}),bitrate:0,url:""})),Oe.trigger(Events.MANIFEST_LOADED,{levels:ze,audioTracks:hn,subtitles:_n,captions:bn,contentSteering:$e,url:Fe,stats:_e,networkDetails:Ie,sessionData:Ve,sessionKeys:qe,startTimeOffset:En,variableList:vn})}handleTrackOrLevelPlaylist(pe,_e,Ce,Ie,Oe){const Ne=this.hls,{id:Fe,level:Ue,type:$e}=Ce,ze=getResponseUrl(pe,Ce),Ve=0,qe=isFiniteNumber(Ue)?Ue:isFiniteNumber(Fe)?Fe:0,En=mapContextToLevelType(Ce),vn=M3U8Parser.parseLevelPlaylist(pe.data,ze,qe,En,Ve,this.variableList);if($e===PlaylistContextType.MANIFEST){const hn={attrs:new AttrList({}),bitrate:0,details:vn,name:"",url:ze};Ne.trigger(Events.MANIFEST_LOADED,{levels:[hn],audioTracks:[],url:ze,stats:_e,networkDetails:Ie,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}_e.parsing.end=performance.now(),Ce.levelDetails=vn,this.handlePlaylistLoaded(vn,pe,_e,Ce,Ie,Oe)}handleManifestParsingError(pe,_e,Ce,Ie,Oe){this.hls.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.MANIFEST_PARSING_ERROR,fatal:_e.type===PlaylistContextType.MANIFEST,url:pe.url,err:Ce,error:Ce,reason:Ce.message,response:pe,context:_e,networkDetails:Ie,stats:Oe})}handleNetworkError(pe,_e,Ce=!1,Ie,Oe){let Ne="A network ".concat(Ce?"timeout":"error"+(Ie?" (status "+Ie.code+")":"")," occurred while loading ").concat(pe.type);pe.type===PlaylistContextType.LEVEL?Ne+=": ".concat(pe.level," id: ").concat(pe.id):(pe.type===PlaylistContextType.AUDIO_TRACK||pe.type===PlaylistContextType.SUBTITLE_TRACK)&&(Ne+=" id: ".concat(pe.id,' group-id: "').concat(pe.groupId,'"'));const Fe=new Error(Ne);logger.warn("[playlist-loader]: ".concat(Ne));let Ue=ErrorDetails.UNKNOWN,$e=!1;const ze=this.getInternalLoader(pe);switch(pe.type){case PlaylistContextType.MANIFEST:Ue=Ce?ErrorDetails.MANIFEST_LOAD_TIMEOUT:ErrorDetails.MANIFEST_LOAD_ERROR,$e=!0;break;case PlaylistContextType.LEVEL:Ue=Ce?ErrorDetails.LEVEL_LOAD_TIMEOUT:ErrorDetails.LEVEL_LOAD_ERROR,$e=!1;break;case PlaylistContextType.AUDIO_TRACK:Ue=Ce?ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:ErrorDetails.AUDIO_TRACK_LOAD_ERROR,$e=!1;break;case PlaylistContextType.SUBTITLE_TRACK:Ue=Ce?ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:ErrorDetails.SUBTITLE_LOAD_ERROR,$e=!1;break}ze&&this.resetInternalLoader(pe.type);const Ve={type:ErrorTypes.NETWORK_ERROR,details:Ue,fatal:$e,url:pe.url,loader:ze,context:pe,error:Fe,networkDetails:_e,stats:Oe};if(Ie){const qe=(_e==null?void 0:_e.url)||pe.url;Ve.response=_objectSpread2({url:qe,data:void 0},Ie)}this.hls.trigger(Events.ERROR,Ve)}handlePlaylistLoaded(pe,_e,Ce,Ie,Oe,Ne){const Fe=this.hls,{type:Ue,level:$e,id:ze,groupId:Ve,deliveryDirectives:qe}=Ie,En=getResponseUrl(_e,Ie),vn=mapContextToLevelType(Ie),hn=typeof Ie.level=="number"&&vn===PlaylistLevelType.MAIN?$e:void 0;if(!pe.fragments.length){const bn=new Error("No Segments found in Playlist");Fe.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:En,error:bn,reason:bn.message,response:_e,context:Ie,level:hn,parent:vn,networkDetails:Oe,stats:Ce});return}pe.targetduration||(pe.playlistParsingError=new Error("Missing Target Duration"));const _n=pe.playlistParsingError;if(_n){Fe.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.LEVEL_PARSING_ERROR,fatal:!1,url:En,error:_n,reason:_n.message,response:_e,context:Ie,level:hn,parent:vn,networkDetails:Oe,stats:Ce});return}switch(pe.live&&Ne&&(Ne.getCacheAge&&(pe.ageHeader=Ne.getCacheAge()||0),(!Ne.getCacheAge||isNaN(pe.ageHeader))&&(pe.ageHeader=0)),Ue){case PlaylistContextType.MANIFEST:case PlaylistContextType.LEVEL:Fe.trigger(Events.LEVEL_LOADED,{details:pe,level:hn||0,id:ze||0,stats:Ce,networkDetails:Oe,deliveryDirectives:qe});break;case PlaylistContextType.AUDIO_TRACK:Fe.trigger(Events.AUDIO_TRACK_LOADED,{details:pe,id:ze||0,groupId:Ve||"",stats:Ce,networkDetails:Oe,deliveryDirectives:qe});break;case PlaylistContextType.SUBTITLE_TRACK:Fe.trigger(Events.SUBTITLE_TRACK_LOADED,{details:pe,id:ze||0,groupId:Ve||"",stats:Ce,networkDetails:Oe,deliveryDirectives:qe});break}}}function sendAddTrackEvent(xe,pe){let _e;try{_e=new Event("addtrack")}catch(Ce){_e=document.createEvent("Event"),_e.initEvent("addtrack",!1,!1)}_e.track=xe,pe.dispatchEvent(_e)}function addCueToTrack(xe,pe){const _e=xe.mode;if(_e==="disabled"&&(xe.mode="hidden"),xe.cues&&!xe.cues.getCueById(pe.id))try{if(xe.addCue(pe),!xe.cues.getCueById(pe.id))throw new Error("addCue is failed for: ".concat(pe))}catch(Ce){logger.debug("[texttrack-utils]: ".concat(Ce));try{const Ie=new self.TextTrackCue(pe.startTime,pe.endTime,pe.text);Ie.id=pe.id,xe.addCue(Ie)}catch(Ie){logger.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: ".concat(Ie))}}_e==="disabled"&&(xe.mode=_e)}function clearCurrentCues(xe){const pe=xe.mode;if(pe==="disabled"&&(xe.mode="hidden"),xe.cues)for(let _e=xe.cues.length;_e--;)xe.removeCue(xe.cues[_e]);pe==="disabled"&&(xe.mode=pe)}function removeCuesInRange(xe,pe,_e,Ce){const Ie=xe.mode;if(Ie==="disabled"&&(xe.mode="hidden"),xe.cues&&xe.cues.length>0){const Oe=getCuesInRange(xe.cues,pe,_e);for(let Ne=0;Ne<Oe.length;Ne++)(!Ce||Ce(Oe[Ne]))&&xe.removeCue(Oe[Ne])}Ie==="disabled"&&(xe.mode=Ie)}function getFirstCueIndexAfterTime(xe,pe){if(pe<xe[0].startTime)return 0;const _e=xe.length-1;if(pe>xe[_e].endTime)return-1;let Ce=0,Ie=_e;for(;Ce<=Ie;){const Oe=Math.floor((Ie+Ce)/2);if(pe<xe[Oe].startTime)Ie=Oe-1;else if(pe>xe[Oe].startTime&&Ce<_e)Ce=Oe+1;else return Oe}return xe[Ce].startTime-pe<pe-xe[Ie].startTime?Ce:Ie}function getCuesInRange(xe,pe,_e){const Ce=[],Ie=getFirstCueIndexAfterTime(xe,pe);if(Ie>-1)for(let Oe=Ie,Ne=xe.length;Oe<Ne;Oe++){const Fe=xe[Oe];if(Fe.startTime>=pe&&Fe.endTime<=_e)Ce.push(Fe);else if(Fe.startTime>_e)return Ce}return Ce}function filterSubtitleTracks(xe){const pe=[];for(let _e=0;_e<xe.length;_e++){const Ce=xe[_e];(Ce.kind==="subtitles"||Ce.kind==="captions")&&Ce.label&&pe.push(xe[_e])}return pe}var MetadataSchema={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const MIN_CUE_DURATION=.25;function getCueClass(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function createCueWithDataFields(xe,pe,_e,Ce,Ie){let Oe=new xe(pe,_e,"");try{Oe.value=Ce,Ie&&(Oe.type=Ie)}catch(Ne){Oe=new xe(pe,_e,JSON.stringify(Ie?_objectSpread2({type:Ie},Ce):Ce))}return Oe}const MAX_CUE_ENDTIME=(()=>{const xe=getCueClass();try{xe&&new xe(0,Number.POSITIVE_INFINITY,"")}catch(pe){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function dateRangeDateToTimelineSeconds(xe,pe){return xe.getTime()/1e3-pe}function hexToArrayBuffer(xe){return Uint8Array.from(xe.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class ID3TrackController{constructor(pe){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=pe,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:pe}=this;pe.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),pe.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),pe.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(pe,_e){this.media=_e.media}onMediaDetaching(){this.id3Track&&(clearCurrentCues(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(pe){const _e=this.getID3Track(pe.textTracks);return _e.mode="hidden",_e}getID3Track(pe){if(this.media){for(let _e=0;_e<pe.length;_e++){const Ce=pe[_e];if(Ce.kind==="metadata"&&Ce.label==="id3")return sendAddTrackEvent(Ce,this.media),Ce}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(pe,_e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:Ce,enableID3MetadataCues:Ie}}}=this;if(!Ce&&!Ie)return;const{samples:Oe}=_e;this.id3Track||(this.id3Track=this.createTrack(this.media));const Ne=getCueClass();if(Ne)for(let Fe=0;Fe<Oe.length;Fe++){const Ue=Oe[Fe].type;if(Ue===MetadataSchema.emsg&&!Ce||!Ie)continue;const $e=getID3Frames(Oe[Fe].data);if($e){const ze=Oe[Fe].pts;let Ve=ze+Oe[Fe].duration;Ve>MAX_CUE_ENDTIME&&(Ve=MAX_CUE_ENDTIME),Ve-ze<=0&&(Ve=ze+MIN_CUE_DURATION);for(let En=0;En<$e.length;En++){const vn=$e[En];if(!isTimeStampFrame(vn)){this.updateId3CueEnds(ze,Ue);const hn=createCueWithDataFields(Ne,ze,Ve,vn,Ue);hn&&this.id3Track.addCue(hn)}}}}}updateId3CueEnds(pe,_e){var Ce;const Ie=(Ce=this.id3Track)==null?void 0:Ce.cues;if(Ie)for(let Oe=Ie.length;Oe--;){const Ne=Ie[Oe];Ne.type===_e&&Ne.startTime<pe&&Ne.endTime===MAX_CUE_ENDTIME&&(Ne.endTime=pe)}}onBufferFlushing(pe,{startOffset:_e,endOffset:Ce,type:Ie}){const{id3Track:Oe,hls:Ne}=this;if(!Ne)return;const{config:{enableEmsgMetadataCues:Fe,enableID3MetadataCues:Ue}}=Ne;if(Oe&&(Fe||Ue)){let $e;Ie==="audio"?$e=ze=>ze.type===MetadataSchema.audioId3&&Ue:Ie==="video"?$e=ze=>ze.type===MetadataSchema.emsg&&Fe:$e=ze=>ze.type===MetadataSchema.audioId3&&Ue||ze.type===MetadataSchema.emsg&&Fe,removeCuesInRange(Oe,_e,Ce,$e)}}onLevelUpdated(pe,{details:_e}){if(!this.media||!_e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:Ce,id3Track:Ie}=this,{dateRanges:Oe}=_e,Ne=Object.keys(Oe);if(Ie){const ze=Object.keys(Ce).filter(Ve=>!Ne.includes(Ve));for(let Ve=ze.length;Ve--;){const qe=ze[Ve];Object.keys(Ce[qe].cues).forEach(En=>{Ie.removeCue(Ce[qe].cues[En])}),delete Ce[qe]}}const Fe=_e.fragments[_e.fragments.length-1];if(Ne.length===0||!isFiniteNumber(Fe==null?void 0:Fe.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const Ue=Fe.programDateTime/1e3-Fe.start,$e=getCueClass();for(let ze=0;ze<Ne.length;ze++){const Ve=Ne[ze],qe=Oe[Ve],En=dateRangeDateToTimelineSeconds(qe.startDate,Ue),vn=Ce[Ve],hn=(vn==null?void 0:vn.cues)||{};let _n=(vn==null?void 0:vn.durationKnown)||!1,bn=MAX_CUE_ENDTIME;const An=qe.endDate;if(An)bn=dateRangeDateToTimelineSeconds(An,Ue),_n=!0;else if(qe.endOnNext&&!_n){const Sn=Ne.reduce((Cn,Tn)=>{if(Tn!==qe.id){const wn=Oe[Tn];if(wn.class===qe.class&&wn.startDate>qe.startDate&&(!Cn||qe.startDate<Cn.startDate))return wn}return Cn},null);Sn&&(bn=dateRangeDateToTimelineSeconds(Sn.startDate,Ue),_n=!0)}const xn=Object.keys(qe.attr);for(let Sn=0;Sn<xn.length;Sn++){const Cn=xn[Sn];if(!isDateRangeCueAttribute(Cn))continue;const Tn=hn[Cn];if(Tn)_n&&!vn.durationKnown&&(Tn.endTime=bn);else if($e){let wn=qe.attr[Cn];isSCTE35Attribute(Cn)&&(wn=hexToArrayBuffer(wn));const Ln=createCueWithDataFields($e,En,bn,{key:Cn,data:wn},MetadataSchema.dateRange);Ln&&(Ln.id=Ve,this.id3Track.addCue(Ln),hn[Cn]=Ln)}}Ce[Ve]={cues:hn,dateRange:qe,durationKnown:_n}}}}class LatencyController{constructor(pe){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=pe,this.config=pe.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:pe,levelDetails:_e}=this;return pe.liveMaxLatencyDuration!==void 0?pe.liveMaxLatencyDuration:_e?pe.liveMaxLatencyDurationCount*_e.targetduration:0}get targetLatency(){const{levelDetails:pe}=this;if(pe===null)return null;const{holdBack:_e,partHoldBack:Ce,targetduration:Ie}=pe,{liveSyncDuration:Oe,liveSyncDurationCount:Ne,lowLatencyMode:Fe}=this.config,Ue=this.hls.userConfig;let $e=Fe&&Ce||_e;(Ue.liveSyncDuration||Ue.liveSyncDurationCount||$e===0)&&($e=Oe!==void 0?Oe:Ne*Ie);const ze=Ie;return $e+Math.min(this.stallCount*1,ze)}get liveSyncPosition(){const pe=this.estimateLiveEdge(),_e=this.targetLatency,Ce=this.levelDetails;if(pe===null||_e===null||Ce===null)return null;const Ie=Ce.edge,Oe=pe-_e-this.edgeStalled,Ne=Ie-Ce.totalduration,Fe=Ie-(this.config.lowLatencyMode&&Ce.partTarget||Ce.targetduration);return Math.min(Math.max(Ne,Oe),Fe)}get drift(){const{levelDetails:pe}=this;return pe===null?1:pe.drift}get edgeStalled(){const{levelDetails:pe}=this;if(pe===null)return 0;const _e=(this.config.lowLatencyMode&&pe.partTarget||pe.targetduration)*3;return Math.max(pe.age-_e,0)}get forwardBufferLength(){const{media:pe,levelDetails:_e}=this;if(!pe||!_e)return 0;const Ce=pe.buffered.length;return(Ce?pe.buffered.end(Ce-1):_e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Events.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Events.ERROR,this.onError,this)}onMediaAttached(pe,_e){this.media=_e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(pe,{details:_e}){this.levelDetails=_e,_e.advanced&&this.timeupdate(),!_e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(pe,_e){var Ce;_e.details===ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,(Ce=this.levelDetails)!=null&&Ce.live&&logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:pe,levelDetails:_e}=this;if(!pe||!_e)return;this.currentTime=pe.currentTime;const Ce=this.computeLatency();if(Ce===null)return;this._latency=Ce;const{lowLatencyMode:Ie,maxLiveSyncPlaybackRate:Oe}=this.config;if(!Ie||Oe===1||!_e.live)return;const Ne=this.targetLatency;if(Ne===null)return;const Fe=Ce-Ne,Ue=Math.min(this.maxLatency,Ne+_e.targetduration);if(Fe<Ue&&Fe>.05&&this.forwardBufferLength>1){const ze=Math.min(2,Math.max(1,Oe)),Ve=Math.round(2/(1+Math.exp(-.75*Fe-this.edgeStalled))*20)/20;pe.playbackRate=Math.min(ze,Math.max(1,Ve))}else pe.playbackRate!==1&&pe.playbackRate!==0&&(pe.playbackRate=1)}estimateLiveEdge(){const{levelDetails:pe}=this;return pe===null?null:pe.edge+pe.age}computeLatency(){const pe=this.estimateLiveEdge();return pe===null?null:pe-this.currentTime}}const HdcpLevels=["NONE","TYPE-0","TYPE-1",null];function isHdcpLevel(xe){return HdcpLevels.indexOf(xe)>-1}const VideoRangeValues=["SDR","PQ","HLG"];function isVideoRange(xe){return!!xe&&VideoRangeValues.indexOf(xe)>-1}var HlsSkip={No:"",Yes:"YES",v2:"v2"};function getSkipValue(xe){const{canSkipUntil:pe,canSkipDateRanges:_e,age:Ce}=xe,Ie=Ce<pe/2;return pe&&Ie?_e?HlsSkip.v2:HlsSkip.Yes:HlsSkip.No}class HlsUrlParameters{constructor(pe,_e,Ce){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=pe,this.part=_e,this.skip=Ce}addDirectives(pe){const _e=new self.URL(pe);return this.msn!==void 0&&_e.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&_e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&_e.searchParams.set("_HLS_skip",this.skip),_e.href}}class Level{constructor(pe){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[pe.url],this._attrs=[pe.attrs],this.bitrate=pe.bitrate,pe.details&&(this.details=pe.details),this.id=pe.id||0,this.name=pe.name,this.width=pe.width||0,this.height=pe.height||0,this.frameRate=pe.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=pe.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=pe.audioCodec,this.videoCodec=pe.videoCodec,this.codecSet=[pe.videoCodec,pe.audioCodec].filter(_e=>!!_e).map(_e=>_e.substring(0,4)).join(","),this.addGroupId("audio",pe.attrs.AUDIO),this.addGroupId("text",pe.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(pe){return hasGroup(this._audioGroups,pe)}hasSubtitleGroup(pe){return hasGroup(this._subtitleGroups,pe)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(pe,_e){if(_e){if(pe==="audio"){let Ce=this._audioGroups;Ce||(Ce=this._audioGroups=[]),Ce.indexOf(_e)===-1&&Ce.push(_e)}else if(pe==="text"){let Ce=this._subtitleGroups;Ce||(Ce=this._subtitleGroups=[]),Ce.indexOf(_e)===-1&&Ce.push(_e)}}}get urlId(){return 0}set urlId(pe){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var pe;return(pe=this.audioGroups)==null?void 0:pe[0]}get textGroupId(){var pe;return(pe=this.subtitleGroups)==null?void 0:pe[0]}addFallback(){}}function hasGroup(xe,pe){return!pe||!xe?!1:xe.indexOf(pe)!==-1}function updateFromToPTS(xe,pe){const _e=pe.startPTS;if(isFiniteNumber(_e)){let Ce=0,Ie;pe.sn>xe.sn?(Ce=_e-xe.start,Ie=xe):(Ce=xe.start-_e,Ie=pe),Ie.duration!==Ce&&(Ie.duration=Ce)}else pe.sn>xe.sn?xe.cc===pe.cc&&xe.minEndPTS?pe.start=xe.start+(xe.minEndPTS-xe.start):pe.start=xe.start+xe.duration:pe.start=Math.max(xe.start-pe.duration,0)}function updateFragPTSDTS(xe,pe,_e,Ce,Ie,Oe){Ce-_e<=0&&(logger.warn("Fragment should have a positive duration",pe),Ce=_e+pe.duration,Oe=Ie+pe.duration);let Fe=_e,Ue=Ce;const $e=pe.startPTS,ze=pe.endPTS;if(isFiniteNumber($e)){const _n=Math.abs($e-_e);isFiniteNumber(pe.deltaPTS)?pe.deltaPTS=Math.max(_n,pe.deltaPTS):pe.deltaPTS=_n,Fe=Math.max(_e,$e),_e=Math.min(_e,$e),Ie=Math.min(Ie,pe.startDTS),Ue=Math.min(Ce,ze),Ce=Math.max(Ce,ze),Oe=Math.max(Oe,pe.endDTS)}const Ve=_e-pe.start;pe.start!==0&&(pe.start=_e),pe.duration=Ce-pe.start,pe.startPTS=_e,pe.maxStartPTS=Fe,pe.startDTS=Ie,pe.endPTS=Ce,pe.minEndPTS=Ue,pe.endDTS=Oe;const qe=pe.sn;if(!xe||qe<xe.startSN||qe>xe.endSN)return 0;let En;const vn=qe-xe.startSN,hn=xe.fragments;for(hn[vn]=pe,En=vn;En>0;En--)updateFromToPTS(hn[En],hn[En-1]);for(En=vn;En<hn.length-1;En++)updateFromToPTS(hn[En],hn[En+1]);return xe.fragmentHint&&updateFromToPTS(hn[hn.length-1],xe.fragmentHint),xe.PTSKnown=xe.alignedSliding=!0,Ve}function mergeDetails(xe,pe){let _e=null;const Ce=xe.fragments;for(let Ue=Ce.length-1;Ue>=0;Ue--){const $e=Ce[Ue].initSegment;if($e){_e=$e;break}}xe.fragmentHint&&delete xe.fragmentHint.endPTS;let Ie=0,Oe;if(mapFragmentIntersection(xe,pe,(Ue,$e)=>{Ue.relurl&&(Ie=Ue.cc-$e.cc),isFiniteNumber(Ue.startPTS)&&isFiniteNumber(Ue.endPTS)&&($e.start=$e.startPTS=Ue.startPTS,$e.startDTS=Ue.startDTS,$e.maxStartPTS=Ue.maxStartPTS,$e.endPTS=Ue.endPTS,$e.endDTS=Ue.endDTS,$e.minEndPTS=Ue.minEndPTS,$e.duration=Ue.endPTS-Ue.startPTS,$e.duration&&(Oe=$e),pe.PTSKnown=pe.alignedSliding=!0),$e.elementaryStreams=Ue.elementaryStreams,$e.loader=Ue.loader,$e.stats=Ue.stats,Ue.initSegment&&($e.initSegment=Ue.initSegment,_e=Ue.initSegment)}),_e&&(pe.fragmentHint?pe.fragments.concat(pe.fragmentHint):pe.fragments).forEach($e=>{var ze;$e&&(!$e.initSegment||$e.initSegment.relurl===((ze=_e)==null?void 0:ze.relurl))&&($e.initSegment=_e)}),pe.skippedSegments)if(pe.deltaUpdateFailed=pe.fragments.some(Ue=>!Ue),pe.deltaUpdateFailed){logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let Ue=pe.skippedSegments;Ue--;)pe.fragments.shift();pe.startSN=pe.fragments[0].sn,pe.startCC=pe.fragments[0].cc}else pe.canSkipDateRanges&&(pe.dateRanges=mergeDateRanges(xe.dateRanges,pe.dateRanges,pe.recentlyRemovedDateranges));const Ne=pe.fragments;if(Ie){logger.warn("discontinuity sliding from playlist, take drift into account");for(let Ue=0;Ue<Ne.length;Ue++)Ne[Ue].cc+=Ie}pe.skippedSegments&&(pe.startCC=pe.fragments[0].cc),mapPartIntersection(xe.partList,pe.partList,(Ue,$e)=>{$e.elementaryStreams=Ue.elementaryStreams,$e.stats=Ue.stats}),Oe?updateFragPTSDTS(pe,Oe,Oe.startPTS,Oe.endPTS,Oe.startDTS,Oe.endDTS):adjustSliding(xe,pe),Ne.length&&(pe.totalduration=pe.edge-Ne[0].start),pe.driftStartTime=xe.driftStartTime,pe.driftStart=xe.driftStart;const Fe=pe.advancedDateTime;if(pe.advanced&&Fe){const Ue=pe.edge;pe.driftStart||(pe.driftStartTime=Fe,pe.driftStart=Ue),pe.driftEndTime=Fe,pe.driftEnd=Ue}else pe.driftEndTime=xe.driftEndTime,pe.driftEnd=xe.driftEnd,pe.advancedDateTime=xe.advancedDateTime}function mergeDateRanges(xe,pe,_e){const Ce=_extends({},xe);return _e&&_e.forEach(Ie=>{delete Ce[Ie]}),Object.keys(pe).forEach(Ie=>{const Oe=new DateRange(pe[Ie].attr,Ce[Ie]);Oe.isValid?Ce[Ie]=Oe:logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(pe[Ie].attr),'"'))}),Ce}function mapPartIntersection(xe,pe,_e){if(xe&&pe){let Ce=0;for(let Ie=0,Oe=xe.length;Ie<=Oe;Ie++){const Ne=xe[Ie],Fe=pe[Ie+Ce];Ne&&Fe&&Ne.index===Fe.index&&Ne.fragment.sn===Fe.fragment.sn?_e(Ne,Fe):Ce--}}}function mapFragmentIntersection(xe,pe,_e){const Ce=pe.skippedSegments,Ie=Math.max(xe.startSN,pe.startSN)-pe.startSN,Oe=(xe.fragmentHint?1:0)+(Ce?pe.endSN:Math.min(xe.endSN,pe.endSN))-pe.startSN,Ne=pe.startSN-xe.startSN,Fe=pe.fragmentHint?pe.fragments.concat(pe.fragmentHint):pe.fragments,Ue=xe.fragmentHint?xe.fragments.concat(xe.fragmentHint):xe.fragments;for(let $e=Ie;$e<=Oe;$e++){const ze=Ue[Ne+$e];let Ve=Fe[$e];Ce&&!Ve&&$e<Ce&&(Ve=pe.fragments[$e]=ze),ze&&Ve&&_e(ze,Ve)}}function adjustSliding(xe,pe){const _e=pe.startSN+pe.skippedSegments-xe.startSN,Ce=xe.fragments;_e<0||_e>=Ce.length||addSliding(pe,Ce[_e].start)}function addSliding(xe,pe){if(pe){const _e=xe.fragments;for(let Ce=xe.skippedSegments;Ce<_e.length;Ce++)_e[Ce].start+=pe;xe.fragmentHint&&(xe.fragmentHint.start+=pe)}}function computeReloadInterval(xe,pe=1/0){let _e=1e3*xe.targetduration;if(xe.updated){const Ce=xe.fragments;if(Ce.length&&_e*4>pe){const Oe=Ce[Ce.length-1].duration*1e3;Oe<_e&&(_e=Oe)}}else _e/=2;return Math.round(_e)}function getFragmentWithSN(xe,pe,_e){if(!(xe!=null&&xe.details))return null;const Ce=xe.details;let Ie=Ce.fragments[pe-Ce.startSN];return Ie||(Ie=Ce.fragmentHint,Ie&&Ie.sn===pe)?Ie:pe<Ce.startSN&&_e&&_e.sn===pe?_e:null}function getPartWith(xe,pe,_e){var Ce;return xe!=null&&xe.details?findPart((Ce=xe.details)==null?void 0:Ce.partList,pe,_e):null}function findPart(xe,pe,_e){if(xe)for(let Ce=xe.length;Ce--;){const Ie=xe[Ce];if(Ie.index===_e&&Ie.fragment.sn===pe)return Ie}return null}function reassignFragmentLevelIndexes(xe){xe.forEach((pe,_e)=>{const{details:Ce}=pe;Ce!=null&&Ce.fragments&&Ce.fragments.forEach(Ie=>{Ie.level=_e})})}function isTimeoutError(xe){switch(xe.details){case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_TIMEOUT:case ErrorDetails.LEVEL_LOAD_TIMEOUT:case ErrorDetails.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function getRetryConfig(xe,pe){const _e=isTimeoutError(pe);return xe.default["".concat(_e?"timeout":"error","Retry")]}function getRetryDelay(xe,pe){const _e=xe.backoff==="linear"?1:Math.pow(2,pe);return Math.min(_e*xe.retryDelayMs,xe.maxRetryDelayMs)}function getLoaderConfigWithoutReties(xe){return _objectSpread2(_objectSpread2({},xe),{errorRetry:null,timeoutRetry:null})}function shouldRetry(xe,pe,_e,Ce){if(!xe)return!1;const Ie=Ce==null?void 0:Ce.code,Oe=pe<xe.maxNumRetry&&(retryForHttpStatus(Ie)||!!_e);return xe.shouldRetry?xe.shouldRetry(xe,pe,_e,Ce,Oe):Oe}function retryForHttpStatus(xe){return xe===0&&navigator.onLine===!1||!!xe&&(xe<400||xe>499)}const BinarySearch={search:function(xe,pe){let _e=0,Ce=xe.length-1,Ie=null,Oe=null;for(;_e<=Ce;){Ie=(_e+Ce)/2|0,Oe=xe[Ie];const Ne=pe(Oe);if(Ne>0)_e=Ie+1;else if(Ne<0)Ce=Ie-1;else return Oe}return null}};function findFragmentByPDT(xe,pe,_e){if(pe===null||!Array.isArray(xe)||!xe.length||!isFiniteNumber(pe))return null;const Ce=xe[0].programDateTime;if(pe<(Ce||0))return null;const Ie=xe[xe.length-1].endProgramDateTime;if(pe>=(Ie||0))return null;_e=_e||0;for(let Oe=0;Oe<xe.length;++Oe){const Ne=xe[Oe];if(pdtWithinToleranceTest(pe,_e,Ne))return Ne}return null}function findFragmentByPTS(xe,pe,_e=0,Ce=0,Ie=.005){let Oe=null;if(xe){Oe=pe[xe.sn-pe[0].sn+1]||null;const Fe=xe.endDTS-_e;Fe>0&&Fe<15e-7&&(_e+=15e-7)}else _e===0&&pe[0].start===0&&(Oe=pe[0]);if(Oe&&((!xe||xe.level===Oe.level)&&fragmentWithinToleranceTest(_e,Ce,Oe)===0||fragmentWithinFastStartSwitch(Oe,xe,Math.min(Ie,Ce))))return Oe;const Ne=BinarySearch.search(pe,fragmentWithinToleranceTest.bind(null,_e,Ce));return Ne&&(Ne!==xe||!Oe)?Ne:Oe}function fragmentWithinFastStartSwitch(xe,pe,_e){if(pe&&pe.start===0&&pe.level<xe.level&&(pe.endPTS||0)>0){const Ce=pe.tagList.reduce((Ie,Oe)=>(Oe[0]==="INF"&&(Ie+=parseFloat(Oe[1])),Ie),_e);return xe.start<=Ce}return!1}function fragmentWithinToleranceTest(xe=0,pe=0,_e){if(_e.start<=xe&&_e.start+_e.duration>xe)return 0;const Ce=Math.min(pe,_e.duration+(_e.deltaPTS?_e.deltaPTS:0));return _e.start+_e.duration-Ce<=xe?1:_e.start-Ce>xe&&_e.start?-1:0}function pdtWithinToleranceTest(xe,pe,_e){const Ce=Math.min(pe,_e.duration+(_e.deltaPTS?_e.deltaPTS:0))*1e3;return(_e.endProgramDateTime||0)-Ce>xe}function findFragWithCC(xe,pe){return BinarySearch.search(xe,_e=>_e.cc<pe?1:_e.cc>pe?-1:0)}var NetworkErrorAction={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},ErrorActionFlags={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class ErrorController{constructor(pe){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=pe,this.log=logger.log.bind(logger,"[info]:"),this.warn=logger.warn.bind(logger,"[warning]:"),this.error=logger.error.bind(logger,"[error]:"),this.registerListeners()}registerListeners(){const pe=this.hls;pe.on(Events.ERROR,this.onError,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const pe=this.hls;pe&&(pe.off(Events.ERROR,this.onError,this),pe.off(Events.ERROR,this.onErrorOut,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(pe){}stopLoad(){this.playlistError=0}getVariantLevelIndex(pe){return(pe==null?void 0:pe.type)===PlaylistLevelType.MAIN?pe.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(pe,_e){var Ce,Ie;if(_e.fatal)return;const Oe=this.hls,Ne=_e.context;switch(_e.details){case ErrorDetails.FRAG_LOAD_ERROR:case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_ERROR:case ErrorDetails.KEY_LOAD_TIMEOUT:_e.errorAction=this.getFragRetryOrSwitchAction(_e);return;case ErrorDetails.FRAG_PARSING_ERROR:if((Ce=_e.frag)!=null&&Ce.gap){_e.errorAction={action:NetworkErrorAction.DoNothing,flags:ErrorActionFlags.None};return}case ErrorDetails.FRAG_GAP:case ErrorDetails.FRAG_DECRYPT_ERROR:{_e.errorAction=this.getFragRetryOrSwitchAction(_e),_e.errorAction.action=NetworkErrorAction.SendAlternateToPenaltyBox;return}case ErrorDetails.LEVEL_EMPTY_ERROR:case ErrorDetails.LEVEL_PARSING_ERROR:{var Fe,Ue;const $e=_e.parent===PlaylistLevelType.MAIN?_e.level:Oe.loadLevel;_e.details===ErrorDetails.LEVEL_EMPTY_ERROR&&((Fe=_e.context)!=null&&(Ue=Fe.levelDetails)!=null&&Ue.live)?_e.errorAction=this.getPlaylistRetryOrSwitchAction(_e,$e):(_e.levelRetry=!1,_e.errorAction=this.getLevelSwitchAction(_e,$e))}return;case ErrorDetails.LEVEL_LOAD_ERROR:case ErrorDetails.LEVEL_LOAD_TIMEOUT:typeof(Ne==null?void 0:Ne.level)=="number"&&(_e.errorAction=this.getPlaylistRetryOrSwitchAction(_e,Ne.level));return;case ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case ErrorDetails.SUBTITLE_LOAD_ERROR:case ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:if(Ne){const $e=Oe.levels[Oe.loadLevel];if($e&&(Ne.type===PlaylistContextType.AUDIO_TRACK&&$e.hasAudioGroup(Ne.groupId)||Ne.type===PlaylistContextType.SUBTITLE_TRACK&&$e.hasSubtitleGroup(Ne.groupId))){_e.errorAction=this.getPlaylistRetryOrSwitchAction(_e,Oe.loadLevel),_e.errorAction.action=NetworkErrorAction.SendAlternateToPenaltyBox,_e.errorAction.flags=ErrorActionFlags.MoveAllAlternatesMatchingHost;return}}return;case ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const $e=Oe.levels[Oe.loadLevel],ze=$e==null?void 0:$e.attrs["HDCP-LEVEL"];ze?_e.errorAction={action:NetworkErrorAction.SendAlternateToPenaltyBox,flags:ErrorActionFlags.MoveAllAlternatesMatchingHDCP,hdcpLevel:ze}:this.keySystemError(_e)}return;case ErrorDetails.BUFFER_ADD_CODEC_ERROR:case ErrorDetails.REMUX_ALLOC_ERROR:case ErrorDetails.BUFFER_APPEND_ERROR:_e.errorAction=this.getLevelSwitchAction(_e,(Ie=_e.level)!=null?Ie:Oe.loadLevel);return;case ErrorDetails.INTERNAL_EXCEPTION:case ErrorDetails.BUFFER_APPENDING_ERROR:case ErrorDetails.BUFFER_FULL_ERROR:case ErrorDetails.LEVEL_SWITCH_ERROR:case ErrorDetails.BUFFER_STALLED_ERROR:case ErrorDetails.BUFFER_SEEK_OVER_HOLE:case ErrorDetails.BUFFER_NUDGE_ON_STALL:_e.errorAction={action:NetworkErrorAction.DoNothing,flags:ErrorActionFlags.None};return}_e.type===ErrorTypes.KEY_SYSTEM_ERROR&&this.keySystemError(_e)}keySystemError(pe){const _e=this.getVariantLevelIndex(pe.frag);pe.levelRetry=!1,pe.errorAction=this.getLevelSwitchAction(pe,_e)}getPlaylistRetryOrSwitchAction(pe,_e){const Ce=this.hls,Ie=getRetryConfig(Ce.config.playlistLoadPolicy,pe),Oe=this.playlistError++;if(shouldRetry(Ie,Oe,isTimeoutError(pe),pe.response))return{action:NetworkErrorAction.RetryRequest,flags:ErrorActionFlags.None,retryConfig:Ie,retryCount:Oe};const Fe=this.getLevelSwitchAction(pe,_e);return Ie&&(Fe.retryConfig=Ie,Fe.retryCount=Oe),Fe}getFragRetryOrSwitchAction(pe){const _e=this.hls,Ce=this.getVariantLevelIndex(pe.frag),Ie=_e.levels[Ce],{fragLoadPolicy:Oe,keyLoadPolicy:Ne}=_e.config,Fe=getRetryConfig(pe.details.startsWith("key")?Ne:Oe,pe),Ue=_e.levels.reduce((ze,Ve)=>ze+Ve.fragmentError,0);if(Ie&&(pe.details!==ErrorDetails.FRAG_GAP&&Ie.fragmentError++,shouldRetry(Fe,Ue,isTimeoutError(pe),pe.response)))return{action:NetworkErrorAction.RetryRequest,flags:ErrorActionFlags.None,retryConfig:Fe,retryCount:Ue};const $e=this.getLevelSwitchAction(pe,Ce);return Fe&&($e.retryConfig=Fe,$e.retryCount=Ue),$e}getLevelSwitchAction(pe,_e){const Ce=this.hls;_e==null&&(_e=Ce.loadLevel);const Ie=this.hls.levels[_e];if(Ie){var Oe,Ne;const $e=pe.details;Ie.loadError++,$e===ErrorDetails.BUFFER_APPEND_ERROR&&Ie.fragmentError++;let ze=-1;const{levels:Ve,loadLevel:qe,minAutoLevel:En,maxAutoLevel:vn}=Ce;Ce.autoLevelEnabled||(Ce.loadLevel=-1);const hn=(Oe=pe.frag)==null?void 0:Oe.type,bn=(hn===PlaylistLevelType.AUDIO&&$e===ErrorDetails.FRAG_PARSING_ERROR||pe.sourceBufferName==="audio"&&($e===ErrorDetails.BUFFER_ADD_CODEC_ERROR||$e===ErrorDetails.BUFFER_APPEND_ERROR))&&Ve.some(({audioCodec:Tn})=>Ie.audioCodec!==Tn),xn=pe.sourceBufferName==="video"&&($e===ErrorDetails.BUFFER_ADD_CODEC_ERROR||$e===ErrorDetails.BUFFER_APPEND_ERROR)&&Ve.some(({codecSet:Tn,audioCodec:wn})=>Ie.codecSet!==Tn&&Ie.audioCodec===wn),{type:Sn,groupId:Cn}=(Ne=pe.context)!=null?Ne:{};for(let Tn=Ve.length;Tn--;){const wn=(Tn+qe)%Ve.length;if(wn!==qe&&wn>=En&&wn<=vn&&Ve[wn].loadError===0){var Fe,Ue;const Ln=Ve[wn];if($e===ErrorDetails.FRAG_GAP&&hn===PlaylistLevelType.MAIN&&pe.frag){const Pn=Ve[wn].details;if(Pn){const kn=findFragmentByPTS(pe.frag,Pn.fragments,pe.frag.start);if(kn!=null&&kn.gap)continue}}else{if(Sn===PlaylistContextType.AUDIO_TRACK&&Ln.hasAudioGroup(Cn)||Sn===PlaylistContextType.SUBTITLE_TRACK&&Ln.hasSubtitleGroup(Cn))continue;if(hn===PlaylistLevelType.AUDIO&&(Fe=Ie.audioGroups)!=null&&Fe.some(Pn=>Ln.hasAudioGroup(Pn))||hn===PlaylistLevelType.SUBTITLE&&(Ue=Ie.subtitleGroups)!=null&&Ue.some(Pn=>Ln.hasSubtitleGroup(Pn))||bn&&Ie.audioCodec===Ln.audioCodec||!bn&&Ie.audioCodec!==Ln.audioCodec||xn&&Ie.codecSet===Ln.codecSet)continue}ze=wn;break}}if(ze>-1&&Ce.loadLevel!==ze)return pe.levelRetry=!0,this.playlistError=0,{action:NetworkErrorAction.SendAlternateToPenaltyBox,flags:ErrorActionFlags.None,nextAutoLevel:ze}}return{action:NetworkErrorAction.SendAlternateToPenaltyBox,flags:ErrorActionFlags.MoveAllAlternatesMatchingHost}}onErrorOut(pe,_e){var Ce;switch((Ce=_e.errorAction)==null?void 0:Ce.action){case NetworkErrorAction.DoNothing:break;case NetworkErrorAction.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(_e),!_e.errorAction.resolved&&_e.details!==ErrorDetails.FRAG_GAP?_e.fatal=!0:/MediaSource readyState: ended/.test(_e.error.message)&&(this.warn('MediaSource ended after "'.concat(_e.sourceBufferName,'" sourceBuffer append error. Attempting to recover from media error.')),this.hls.recoverMediaError());break}if(_e.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(pe){const _e=this.hls,Ce=pe.errorAction;if(!Ce)return;const{flags:Ie,hdcpLevel:Oe,nextAutoLevel:Ne}=Ce;switch(Ie){case ErrorActionFlags.None:this.switchLevel(pe,Ne);break;case ErrorActionFlags.MoveAllAlternatesMatchingHDCP:Oe&&(_e.maxHdcpLevel=HdcpLevels[HdcpLevels.indexOf(Oe)-1],Ce.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(_e.maxHdcpLevel,'" or lower'));break}Ce.resolved||this.switchLevel(pe,Ne)}switchLevel(pe,_e){_e!==void 0&&pe.errorAction&&(this.warn("switching to level ".concat(_e," after ").concat(pe.details)),this.hls.nextAutoLevel=_e,pe.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class BasePlaylistController{constructor(pe,_e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=logger.log.bind(logger,"".concat(_e,":")),this.warn=logger.warn.bind(logger,"".concat(_e,":")),this.hls=pe}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(pe,_e,Ce){const Ie=_e==null?void 0:_e.renditionReports;if(Ie){let Oe=-1;for(let Ne=0;Ne<Ie.length;Ne++){const Fe=Ie[Ne];let Ue;try{Ue=new self.URL(Fe.URI,_e.url).href}catch($e){logger.warn("Could not construct new URL for Rendition Report: ".concat($e)),Ue=Fe.URI||""}if(Ue===pe){Oe=Ne;break}else Ue===pe.substring(0,Ue.length)&&(Oe=Ne)}if(Oe!==-1){const Ne=Ie[Oe],Fe=parseInt(Ne["LAST-MSN"])||(_e==null?void 0:_e.lastPartSn);let Ue=parseInt(Ne["LAST-PART"])||(_e==null?void 0:_e.lastPartIndex);if(this.hls.config.lowLatencyMode){const ze=Math.min(_e.age-_e.partTarget,_e.targetduration);Ue>=0&&ze>_e.partTarget&&(Ue+=1)}const $e=Ce&&getSkipValue(Ce);return new HlsUrlParameters(Fe,Ue>=0?Ue:void 0,$e)}}}loadPlaylist(pe){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(pe){return this.canLoad&&!!pe&&!!pe.url&&(!pe.details||pe.details.live)}shouldReloadPlaylist(pe){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(pe)}playlistLoaded(pe,_e,Ce){const{details:Ie,stats:Oe}=_e,Ne=self.performance.now(),Fe=Oe.loading.first?Math.max(0,Ne-Oe.loading.first):0;if(Ie.advancedDateTime=Date.now()-Fe,Ie.live||Ce!=null&&Ce.live){if(Ie.reloaded(Ce),Ce&&this.log("live playlist ".concat(pe," ").concat(Ie.advanced?"REFRESHED "+Ie.lastPartSn+"-"+Ie.lastPartIndex:Ie.updated?"UPDATED":"MISSED")),Ce&&Ie.fragments.length>0&&mergeDetails(Ce,Ie),!this.canLoad||!Ie.live)return;let Ue,$e,ze;if(Ie.canBlockReload&&Ie.endSN&&Ie.advanced){const _n=this.hls.config.lowLatencyMode,bn=Ie.lastPartSn,An=Ie.endSN,xn=Ie.lastPartIndex,Sn=xn!==-1,Cn=bn===An,Tn=_n?0:xn;Sn?($e=Cn?An+1:bn,ze=Cn?Tn:xn+1):$e=An+1;const wn=Ie.age,Ln=wn+Ie.ageHeader;let Pn=Math.min(Ln-Ie.partTarget,Ie.targetduration*1.5);if(Pn>0){if(Ce&&Pn>Ce.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(Ce.tuneInGoal," to: ").concat(Pn," with playlist age: ").concat(Ie.age)),Pn=0;else{const kn=Math.floor(Pn/Ie.targetduration);if($e+=kn,ze!==void 0){const In=Math.round(Pn%Ie.targetduration/Ie.partTarget);ze+=In}this.log("CDN Tune-in age: ".concat(Ie.ageHeader,"s last advanced ").concat(wn.toFixed(2),"s goal: ").concat(Pn," skip sn ").concat(kn," to part ").concat(ze))}Ie.tuneInGoal=Pn}if(Ue=this.getDeliveryDirectives(Ie,_e.deliveryDirectives,$e,ze),_n||!Cn){this.loadPlaylist(Ue);return}}else(Ie.canBlockReload||Ie.canSkipUntil)&&(Ue=this.getDeliveryDirectives(Ie,_e.deliveryDirectives,$e,ze));const Ve=this.hls.mainForwardBufferInfo,qe=Ve?Ve.end-Ve.len:0,En=(Ie.edge-qe)*1e3,vn=computeReloadInterval(Ie,En);Ie.updated&&Ne>this.requestScheduled+vn&&(this.requestScheduled=Oe.loading.start),$e!==void 0&&Ie.canBlockReload?this.requestScheduled=Oe.loading.first+vn-(Ie.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+vn<Ne?this.requestScheduled=Ne:this.requestScheduled-Ne<=0&&(this.requestScheduled+=vn);let hn=this.requestScheduled-Ne;hn=Math.max(0,hn),this.log("reload live playlist ".concat(pe," in ").concat(Math.round(hn)," ms")),this.timer=self.setTimeout(()=>this.loadPlaylist(Ue),hn)}else this.clearTimer()}getDeliveryDirectives(pe,_e,Ce,Ie){let Oe=getSkipValue(pe);return _e!=null&&_e.skip&&pe.deltaUpdateFailed&&(Ce=_e.msn,Ie=_e.part,Oe=HlsSkip.No),new HlsUrlParameters(Ce,Ie,Oe)}checkRetry(pe){const _e=pe.details,Ce=isTimeoutError(pe),Ie=pe.errorAction,{action:Oe,retryCount:Ne=0,retryConfig:Fe}=Ie||{},Ue=!!Ie&&!!Fe&&(Oe===NetworkErrorAction.RetryRequest||!Ie.resolved&&Oe===NetworkErrorAction.SendAlternateToPenaltyBox);if(Ue){var $e;if(this.requestScheduled=-1,Ne>=Fe.maxNumRetry)return!1;if(Ce&&($e=pe.context)!=null&&$e.deliveryDirectives)this.warn("Retrying playlist loading ".concat(Ne+1,"/").concat(Fe.maxNumRetry,' after "').concat(_e,'" without delivery-directives')),this.loadPlaylist();else{const ze=getRetryDelay(Fe,Ne);this.timer=self.setTimeout(()=>this.loadPlaylist(),ze),this.warn("Retrying playlist loading ".concat(Ne+1,"/").concat(Fe.maxNumRetry,' after "').concat(_e,'" in ').concat(ze,"ms"))}pe.levelRetry=!0,Ie.resolved=!0}return Ue}}class EWMA{constructor(pe,_e=0,Ce=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=pe,this.alpha_=pe?Math.exp(Math.log(.5)/pe):0,this.estimate_=_e,this.totalWeight_=Ce}sample(pe,_e){const Ce=Math.pow(this.alpha_,pe);this.estimate_=_e*(1-Ce)+Ce*this.estimate_,this.totalWeight_+=pe}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const pe=1-Math.pow(this.alpha_,this.totalWeight_);if(pe)return this.estimate_/pe}return this.estimate_}}class EwmaBandWidthEstimator{constructor(pe,_e,Ce,Ie=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=Ce,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new EWMA(pe),this.fast_=new EWMA(_e),this.defaultTTFB_=Ie,this.ttfb_=new EWMA(pe)}update(pe,_e){const{slow_:Ce,fast_:Ie,ttfb_:Oe}=this;Ce.halfLife!==pe&&(this.slow_=new EWMA(pe,Ce.getEstimate(),Ce.getTotalWeight())),Ie.halfLife!==_e&&(this.fast_=new EWMA(_e,Ie.getEstimate(),Ie.getTotalWeight())),Oe.halfLife!==pe&&(this.ttfb_=new EWMA(pe,Oe.getEstimate(),Oe.getTotalWeight()))}sample(pe,_e){pe=Math.max(pe,this.minDelayMs_);const Ce=8*_e,Ie=pe/1e3,Oe=Ce/Ie;this.fast_.sample(Ie,Oe),this.slow_.sample(Ie,Oe)}sampleTTFB(pe){const _e=pe/1e3,Ce=Math.sqrt(2)*Math.exp(-Math.pow(_e,2)/2);this.ttfb_.sample(Ce,Math.max(pe,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const SUPPORTED_INFO_DEFAULT={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},SUPPORTED_INFO_CACHE={};function requiresMediaCapabilitiesDecodingInfo(xe,pe,_e,Ce,Ie,Oe){const Ne=xe.audioCodec?xe.audioGroups:null,Fe=Oe==null?void 0:Oe.audioCodec,Ue=Oe==null?void 0:Oe.channels,$e=Ue?parseInt(Ue):Fe?1/0:2;let ze=null;if(Ne!=null&&Ne.length)try{Ne.length===1&&Ne[0]?ze=pe.groups[Ne[0]].channels:ze=Ne.reduce((Ve,qe)=>{if(qe){const En=pe.groups[qe];if(!En)throw new Error("Audio track group ".concat(qe," not found"));Object.keys(En.channels).forEach(vn=>{Ve[vn]=(Ve[vn]||0)+En.channels[vn]})}return Ve},{2:0})}catch(Ve){return!0}return xe.videoCodec!==void 0&&(xe.width>1920&&xe.height>1088||xe.height>1920&&xe.width>1088||xe.frameRate>Math.max(Ce,30)||xe.videoRange!=="SDR"&&xe.videoRange!==_e||xe.bitrate>Math.max(Ie,8e6))||!!ze&&isFiniteNumber($e)&&Object.keys(ze).some(Ve=>parseInt(Ve)>$e)}function getMediaDecodingInfoPromise(xe,pe,_e){const Ce=xe.videoCodec,Ie=xe.audioCodec;if(!Ce||!Ie||!_e)return Promise.resolve(SUPPORTED_INFO_DEFAULT);const Oe={width:xe.width,height:xe.height,bitrate:Math.ceil(Math.max(xe.bitrate*.9,xe.averageBitrate)),framerate:xe.frameRate||30},Ne=xe.videoRange;Ne!=="SDR"&&(Oe.transferFunction=Ne.toLowerCase());const Fe=Ce.split(",").map(Ue=>({type:"media-source",video:_objectSpread2(_objectSpread2({},Oe),{},{contentType:mimeTypeForCodec(Ue,"video")})}));return Ie&&xe.audioGroups&&xe.audioGroups.forEach(Ue=>{var $e;Ue&&(($e=pe.groups[Ue])==null||$e.tracks.forEach(ze=>{if(ze.groupId===Ue){const Ve=ze.channels||"",qe=parseFloat(Ve);isFiniteNumber(qe)&&qe>2&&Fe.push.apply(Fe,Ie.split(",").map(En=>({type:"media-source",audio:{contentType:mimeTypeForCodec(En,"audio"),channels:""+qe}})))}}))}),Promise.all(Fe.map(Ue=>{const $e=getMediaDecodingInfoKey(Ue);return SUPPORTED_INFO_CACHE[$e]||(SUPPORTED_INFO_CACHE[$e]=_e.decodingInfo(Ue))})).then(Ue=>({supported:!Ue.some($e=>!$e.supported),configurations:Fe,decodingInfoResults:Ue})).catch(Ue=>({supported:!1,configurations:Fe,decodingInfoResults:[],error:Ue}))}function getMediaDecodingInfoKey(xe){const{audio:pe,video:_e}=xe,Ce=_e||pe;if(Ce){const Ie=Ce.contentType.split('"')[1];if(_e)return"r".concat(_e.height,"x").concat(_e.width,"f").concat(Math.ceil(_e.framerate)).concat(_e.transferFunction||"sd","_").concat(Ie,"_").concat(Math.ceil(_e.bitrate/1e5));if(pe)return"c".concat(pe.channels).concat(pe.spatialRendering?"s":"n","_").concat(Ie)}return""}function isHdrSupported(){if(typeof matchMedia=="function"){const xe=matchMedia("(dynamic-range: high)"),pe=matchMedia("bad query");if(xe.media!==pe.media)return xe.matches===!0}return!1}function getVideoSelectionOptions(xe,pe){let _e=!1,Ce=[];return xe&&(_e=xe!=="SDR",Ce=[xe]),pe&&(Ce=pe.allowedVideoRanges||VideoRangeValues.slice(0),_e=pe.preferHDR!==void 0?pe.preferHDR:isHdrSupported(),_e?Ce=Ce.filter(Ie=>Ie!=="SDR"):Ce=["SDR"]),{preferHDR:_e,allowedVideoRanges:Ce}}function getStartCodecTier(xe,pe,_e,Ce,Ie){const Oe=Object.keys(xe),Ne=Ce==null?void 0:Ce.channels,Fe=Ce==null?void 0:Ce.audioCodec,Ue=Ne&&parseInt(Ne)===2;let $e=!0,ze=!1,Ve=1/0,qe=1/0,En=1/0,vn=0,hn=[];const{preferHDR:_n,allowedVideoRanges:bn}=getVideoSelectionOptions(pe,Ie);for(let Cn=Oe.length;Cn--;){const Tn=xe[Oe[Cn]];$e=Tn.channels[2]>0,Ve=Math.min(Ve,Tn.minHeight),qe=Math.min(qe,Tn.minFramerate),En=Math.min(En,Tn.minBitrate);const wn=bn.filter(Ln=>Tn.videoRanges[Ln]>0);wn.length>0&&(ze=!0,hn=wn)}Ve=isFiniteNumber(Ve)?Ve:0,qe=isFiniteNumber(qe)?qe:0;const An=Math.max(1080,Ve),xn=Math.max(30,qe);return En=isFiniteNumber(En)?En:_e,_e=Math.max(En,_e),ze||(pe=void 0,hn=[]),{codecSet:Oe.reduce((Cn,Tn)=>{const wn=xe[Tn];if(Tn===Cn)return Cn;if(wn.minBitrate>_e)return logStartCodecCandidateIgnored(Tn,"min bitrate of ".concat(wn.minBitrate," > current estimate of ").concat(_e)),Cn;if(!wn.hasDefaultAudio)return logStartCodecCandidateIgnored(Tn,"no renditions with default or auto-select sound found"),Cn;if(Fe&&Tn.indexOf(Fe.substring(0,4))%5!==0)return logStartCodecCandidateIgnored(Tn,'audio codec preference "'.concat(Fe,'" not found')),Cn;if(Ne&&!Ue){if(!wn.channels[Ne])return logStartCodecCandidateIgnored(Tn,"no renditions with ".concat(Ne," channel sound found (channels options: ").concat(Object.keys(wn.channels),")")),Cn}else if((!Fe||Ue)&&$e&&wn.channels[2]===0)return logStartCodecCandidateIgnored(Tn,"no renditions with stereo sound found"),Cn;return wn.minHeight>An?(logStartCodecCandidateIgnored(Tn,"min resolution of ".concat(wn.minHeight," > maximum of ").concat(An)),Cn):wn.minFramerate>xn?(logStartCodecCandidateIgnored(Tn,"min framerate of ".concat(wn.minFramerate," > maximum of ").concat(xn)),Cn):hn.some(Ln=>wn.videoRanges[Ln]>0)?wn.maxScore<vn?(logStartCodecCandidateIgnored(Tn,"max score of ".concat(wn.maxScore," < selected max of ").concat(vn)),Cn):Cn&&(codecsSetSelectionPreferenceValue(Tn)>=codecsSetSelectionPreferenceValue(Cn)||wn.fragmentError>xe[Cn].fragmentError)?Cn:(vn=wn.maxScore,Tn):(logStartCodecCandidateIgnored(Tn,"no variants with VIDEO-RANGE of ".concat(JSON.stringify(hn)," found")),Cn)},void 0),videoRanges:hn,preferHDR:_n,minFramerate:qe,minBitrate:En}}function logStartCodecCandidateIgnored(xe,pe){logger.log('[abr] start candidates with "'.concat(xe,'" ignored because ').concat(pe))}function getAudioTracksByGroup(xe){return xe.reduce((pe,_e)=>{let Ce=pe.groups[_e.groupId];Ce||(Ce=pe.groups[_e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),Ce.tracks.push(_e);const Ie=_e.channels||"2";return Ce.channels[Ie]=(Ce.channels[Ie]||0)+1,Ce.hasDefault=Ce.hasDefault||_e.default,Ce.hasAutoSelect=Ce.hasAutoSelect||_e.autoselect,Ce.hasDefault&&(pe.hasDefaultAudio=!0),Ce.hasAutoSelect&&(pe.hasAutoSelectAudio=!0),pe},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function getCodecTiers(xe,pe,_e,Ce){return xe.slice(_e,Ce+1).reduce((Ie,Oe)=>{if(!Oe.codecSet)return Ie;const Ne=Oe.audioGroups;let Fe=Ie[Oe.codecSet];Fe||(Ie[Oe.codecSet]=Fe={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!Ne,fragmentError:0}),Fe.minBitrate=Math.min(Fe.minBitrate,Oe.bitrate);const Ue=Math.min(Oe.height,Oe.width);return Fe.minHeight=Math.min(Fe.minHeight,Ue),Fe.minFramerate=Math.min(Fe.minFramerate,Oe.frameRate),Fe.maxScore=Math.max(Fe.maxScore,Oe.score),Fe.fragmentError+=Oe.fragmentError,Fe.videoRanges[Oe.videoRange]=(Fe.videoRanges[Oe.videoRange]||0)+1,Ne&&Ne.forEach($e=>{if(!$e)return;const ze=pe.groups[$e];ze&&(Fe.hasDefaultAudio=Fe.hasDefaultAudio||pe.hasDefaultAudio?ze.hasDefault:ze.hasAutoSelect||!pe.hasDefaultAudio&&!pe.hasAutoSelectAudio,Object.keys(ze.channels).forEach(Ve=>{Fe.channels[Ve]=(Fe.channels[Ve]||0)+ze.channels[Ve]}))}),Ie},{})}function findMatchingOption(xe,pe,_e){if("attrs"in xe){const Ce=pe.indexOf(xe);if(Ce!==-1)return Ce}for(let Ce=0;Ce<pe.length;Ce++){const Ie=pe[Ce];if(matchesOption(xe,Ie,_e))return Ce}return-1}function matchesOption(xe,pe,_e){const{groupId:Ce,name:Ie,lang:Oe,assocLang:Ne,characteristics:Fe,default:Ue}=xe,$e=xe.forced;return(Ce===void 0||pe.groupId===Ce)&&(Ie===void 0||pe.name===Ie)&&(Oe===void 0||pe.lang===Oe)&&(Oe===void 0||pe.assocLang===Ne)&&(Ue===void 0||pe.default===Ue)&&($e===void 0||pe.forced===$e)&&(Fe===void 0||characteristicsMatch(Fe,pe.characteristics))&&(_e===void 0||_e(xe,pe))}function characteristicsMatch(xe,pe=""){const _e=xe.split(","),Ce=pe.split(",");return _e.length===Ce.length&&!_e.some(Ie=>Ce.indexOf(Ie)===-1)}function audioMatchPredicate(xe,pe){const{audioCodec:_e,channels:Ce}=xe;return(_e===void 0||(pe.audioCodec||"").substring(0,4)===_e.substring(0,4))&&(Ce===void 0||Ce===(pe.channels||"2"))}function findClosestLevelWithAudioGroup(xe,pe,_e,Ce,Ie){const Oe=pe[Ce],Fe=pe.reduce((qe,En,vn)=>{const hn=En.uri;return(qe[hn]||(qe[hn]=[])).push(vn),qe},{})[Oe.uri];Fe.length>1&&(Ce=Math.max.apply(Math,Fe));const Ue=Oe.videoRange,$e=Oe.frameRate,ze=Oe.codecSet.substring(0,4),Ve=searchDownAndUpList(pe,Ce,qe=>{if(qe.videoRange!==Ue||qe.frameRate!==$e||qe.codecSet.substring(0,4)!==ze)return!1;const En=qe.audioGroups,vn=_e.filter(hn=>!En||En.indexOf(hn.groupId)!==-1);return findMatchingOption(xe,vn,Ie)>-1});return Ve>-1?Ve:searchDownAndUpList(pe,Ce,qe=>{const En=qe.audioGroups,vn=_e.filter(hn=>!En||En.indexOf(hn.groupId)!==-1);return findMatchingOption(xe,vn,Ie)>-1})}function searchDownAndUpList(xe,pe,_e){for(let Ce=pe;Ce;Ce--)if(_e(xe[Ce]))return Ce;for(let Ce=pe+1;Ce<xe.length;Ce++)if(_e(xe[Ce]))return Ce;return-1}class AbrController{constructor(pe){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:_e,partCurrent:Ce,hls:Ie}=this,{autoLevelEnabled:Oe,media:Ne}=Ie;if(!_e||!Ne)return;const Fe=performance.now(),Ue=Ce?Ce.stats:_e.stats,$e=Ce?Ce.duration:_e.duration,ze=Fe-Ue.loading.start,Ve=Ie.minAutoLevel;if(Ue.aborted||Ue.loaded&&Ue.loaded===Ue.total||_e.level<=Ve){this.clearTimer(),this._nextAutoLevel=-1;return}if(!Oe||Ne.paused||!Ne.playbackRate||!Ne.readyState)return;const qe=Ie.mainForwardBufferInfo;if(qe===null)return;const En=this.bwEstimator.getEstimateTTFB(),vn=Math.abs(Ne.playbackRate);if(ze<=Math.max(En,1e3*($e/(vn*2))))return;const hn=qe.len/vn,_n=Ue.loading.first?Ue.loading.first-Ue.loading.start:-1,bn=Ue.loaded&&_n>-1,An=this.getBwEstimate(),xn=Ie.levels,Sn=xn[_e.level],Cn=Ue.total||Math.max(Ue.loaded,Math.round($e*Sn.averageBitrate/8));let Tn=bn?ze-_n:ze;Tn<1&&bn&&(Tn=Math.min(ze,Ue.loaded*8/An));const wn=bn?Ue.loaded*1e3/Tn:0,Ln=wn?(Cn-Ue.loaded)/wn:Cn*8/An+En/1e3;if(Ln<=hn)return;const Pn=wn?wn*8:An;let kn=Number.POSITIVE_INFINITY,In;for(In=_e.level-1;In>Ve;In--){const Nn=xn[In].maxBitrate;if(kn=this.getTimeToLoadFrag(En/1e3,Pn,$e*Nn,!xn[In].details),kn<hn)break}if(kn>=Ln||kn>$e*10)return;Ie.nextLoadLevel=Ie.nextAutoLevel=In,bn?this.bwEstimator.sample(ze-Math.min(En,_n),Ue.loaded):this.bwEstimator.sampleTTFB(ze);const Rn=xn[In].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>Rn&&this.resetEstimator(Rn),this.clearTimer(),logger.warn("[abr] Fragment ".concat(_e.sn).concat(Ce?" part "+Ce.index:""," of level ").concat(_e.level," is loading too slowly;\n      Time to underbuffer: ").concat(hn.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(Ln.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(kn.toFixed(3)," s\n      TTFB estimate: ").concat(_n|0," ms\n      Current BW estimate: ").concat(isFiniteNumber(An)?An|0:"Unknown"," bps\n      New BW estimate: ").concat(this.getBwEstimate()|0," bps\n      Switching to level ").concat(In," @ ").concat(Rn|0," bps")),Ie.trigger(Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:_e,part:Ce,stats:Ue})},this.hls=pe,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(pe){pe&&(logger.log("setting initial bwe to ".concat(pe)),this.hls.config.abrEwmaDefaultEstimate=pe),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const pe=this.hls.config;return new EwmaBandWidthEstimator(pe.abrEwmaSlowVoD,pe.abrEwmaFastVoD,pe.abrEwmaDefaultEstimate)}registerListeners(){const{hls:pe}=this;pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.FRAG_LOADING,this.onFragLoading,this),pe.on(Events.FRAG_LOADED,this.onFragLoaded,this),pe.on(Events.FRAG_BUFFERED,this.onFragBuffered,this),pe.on(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),pe.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.on(Events.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),pe.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:pe}=this;pe&&(pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.FRAG_LOADING,this.onFragLoading,this),pe.off(Events.FRAG_LOADED,this.onFragLoaded,this),pe.off(Events.FRAG_BUFFERED,this.onFragBuffered,this),pe.off(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),pe.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.off(Events.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),pe.off(Events.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(pe,_e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(pe,_e){const Ce=_e.frag;if(!this.ignoreFragment(Ce)){if(!Ce.bitrateTest){var Ie;this.fragCurrent=Ce,this.partCurrent=(Ie=_e.part)!=null?Ie:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(pe,_e){this.clearTimer()}onError(pe,_e){if(!_e.fatal)switch(_e.details){case ErrorDetails.BUFFER_ADD_CODEC_ERROR:case ErrorDetails.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case ErrorDetails.FRAG_LOAD_TIMEOUT:{const Ce=_e.frag,{fragCurrent:Ie,partCurrent:Oe}=this;if(Ce&&Ie&&Ce.sn===Ie.sn&&Ce.level===Ie.level){const Ne=performance.now(),Fe=Oe?Oe.stats:Ce.stats,Ue=Ne-Fe.loading.start,$e=Fe.loading.first?Fe.loading.first-Fe.loading.start:-1;if(Fe.loaded&&$e>-1){const Ve=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(Ue-Math.min(Ve,$e),Fe.loaded)}else this.bwEstimator.sampleTTFB(Ue)}break}}}getTimeToLoadFrag(pe,_e,Ce,Ie){const Oe=pe+Ce/_e,Ne=Ie?this.lastLevelLoadSec:0;return Oe+Ne}onLevelLoaded(pe,_e){const Ce=this.hls.config,{loading:Ie}=_e.stats,Oe=Ie.end-Ie.start;isFiniteNumber(Oe)&&(this.lastLevelLoadSec=Oe/1e3),_e.details.live?this.bwEstimator.update(Ce.abrEwmaSlowLive,Ce.abrEwmaFastLive):this.bwEstimator.update(Ce.abrEwmaSlowVoD,Ce.abrEwmaFastVoD)}onFragLoaded(pe,{frag:_e,part:Ce}){const Ie=Ce?Ce.stats:_e.stats;if(_e.type===PlaylistLevelType.MAIN&&this.bwEstimator.sampleTTFB(Ie.loading.first-Ie.loading.start),!this.ignoreFragment(_e)){if(this.clearTimer(),_e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const Oe=Ce?Ce.duration:_e.duration,Ne=this.hls.levels[_e.level],Fe=(Ne.loaded?Ne.loaded.bytes:0)+Ie.loaded,Ue=(Ne.loaded?Ne.loaded.duration:0)+Oe;Ne.loaded={bytes:Fe,duration:Ue},Ne.realBitrate=Math.round(8*Fe/Ue)}if(_e.bitrateTest){const Oe={stats:Ie,frag:_e,part:Ce,id:_e.type};this.onFragBuffered(Events.FRAG_BUFFERED,Oe),_e.bitrateTest=!1}else this.lastLoadedFragLevel=_e.level}}onFragBuffered(pe,_e){const{frag:Ce,part:Ie}=_e,Oe=Ie!=null&&Ie.stats.loaded?Ie.stats:Ce.stats;if(Oe.aborted||this.ignoreFragment(Ce))return;const Ne=Oe.parsing.end-Oe.loading.start-Math.min(Oe.loading.first-Oe.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(Ne,Oe.loaded),Oe.bwEstimate=this.getBwEstimate(),Ce.bitrateTest?this.bitrateTestDelay=Ne/1e3:this.bitrateTestDelay=0}ignoreFragment(pe){return pe.type!==PlaylistLevelType.MAIN||pe.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:pe,minAutoLevel:_e}=this.hls,Ce=this.getBwEstimate(),Ie=this.hls.config.maxStarvationDelay,Oe=this.findBestLevel(Ce,_e,pe,0,Ie,1,1);if(Oe>-1)return Oe;const Ne=this.hls.firstLevel,Fe=Math.min(Math.max(Ne,_e),pe);return logger.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist ".concat(Ne," clamped to ").concat(Fe)),Fe}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const pe=this.forcedAutoLevel,Ce=this.bwEstimator.canEstimate(),Ie=this.lastLoadedFragLevel>-1;if(pe!==-1&&(!Ce||!Ie||this.nextAutoLevelKey===this.getAutoLevelKey()))return pe;const Oe=Ce&&Ie?this.getNextABRAutoLevel():this.firstAutoLevel;if(pe!==-1){const Ne=this.hls.levels;if(Ne.length>Math.max(pe,Oe)&&Ne[pe].loadError<=Ne[Oe].loadError)return pe}return this._nextAutoLevel=Oe,this.nextAutoLevelKey=this.getAutoLevelKey(),Oe}getAutoLevelKey(){return"".concat(this.getBwEstimate(),"_").concat(this.getStarvationDelay().toFixed(2))}getNextABRAutoLevel(){const{fragCurrent:pe,partCurrent:_e,hls:Ce}=this,{maxAutoLevel:Ie,config:Oe,minAutoLevel:Ne}=Ce,Fe=_e?_e.duration:pe?pe.duration:0,Ue=this.getBwEstimate(),$e=this.getStarvationDelay();let ze=Oe.abrBandWidthFactor,Ve=Oe.abrBandWidthUpFactor;if($e){const _n=this.findBestLevel(Ue,Ne,Ie,$e,0,ze,Ve);if(_n>=0)return _n}let qe=Fe?Math.min(Fe,Oe.maxStarvationDelay):Oe.maxStarvationDelay;if(!$e){const _n=this.bitrateTestDelay;_n&&(qe=(Fe?Math.min(Fe,Oe.maxLoadingDelay):Oe.maxLoadingDelay)-_n,logger.info("[abr] bitrate test took ".concat(Math.round(1e3*_n),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*qe)," ms")),ze=Ve=1)}const En=this.findBestLevel(Ue,Ne,Ie,$e,qe,ze,Ve);if(logger.info("[abr] ".concat($e?"rebuffering expected":"buffer is empty",", optimal quality level ").concat(En)),En>-1)return En;const vn=Ce.levels[Ne],hn=Ce.levels[Ce.loadLevel];return(vn==null?void 0:vn.bitrate)<(hn==null?void 0:hn.bitrate)?Ne:Ce.loadLevel}getStarvationDelay(){const pe=this.hls,_e=pe.media;if(!_e)return 1/0;const Ce=_e&&_e.playbackRate!==0?Math.abs(_e.playbackRate):1,Ie=pe.mainForwardBufferInfo;return(Ie?Ie.len:0)/Ce}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(pe,_e,Ce,Ie,Oe,Ne,Fe){var Ue;const $e=Ie+Oe,ze=this.lastLoadedFragLevel,Ve=ze===-1?this.hls.firstLevel:ze,{fragCurrent:qe,partCurrent:En}=this,{levels:vn,allAudioTracks:hn,loadLevel:_n,config:bn}=this.hls;if(vn.length===1)return 0;const An=vn[Ve],xn=!!(An!=null&&(Ue=An.details)!=null&&Ue.live),Sn=_n===-1||ze===-1;let Cn,Tn="SDR",wn=(An==null?void 0:An.frameRate)||0;const{audioPreference:Ln,videoPreference:Pn}=bn,kn=this.audioTracksByGroup||(this.audioTracksByGroup=getAudioTracksByGroup(hn));if(Sn){if(this.firstSelection!==-1)return this.firstSelection;const Dn=this.codecTiers||(this.codecTiers=getCodecTiers(vn,kn,_e,Ce)),Mn=getStartCodecTier(Dn,Tn,pe,Ln,Pn),{codecSet:Bn,videoRanges:$n,minFramerate:Fn,minBitrate:Un,preferHDR:Hn}=Mn;Cn=Bn,Tn=Hn?$n[$n.length-1]:$n[0],wn=Fn,pe=Math.max(pe,Un),logger.log("[abr] picked start tier ".concat(JSON.stringify(Mn)))}else Cn=An==null?void 0:An.codecSet,Tn=An==null?void 0:An.videoRange;const In=En?En.duration:qe?qe.duration:0,Rn=this.bwEstimator.getEstimateTTFB()/1e3,Nn=[];for(let Dn=Ce;Dn>=_e;Dn--){var On;const Mn=vn[Dn],Bn=Dn>Ve;if(!Mn)continue;if(bn.useMediaCapabilities&&!Mn.supportedResult&&!Mn.supportedPromise){const or=navigator.mediaCapabilities;typeof(or==null?void 0:or.decodingInfo)=="function"&&requiresMediaCapabilitiesDecodingInfo(Mn,kn,Tn,wn,pe,Ln)?(Mn.supportedPromise=getMediaDecodingInfoPromise(Mn,kn,or),Mn.supportedPromise.then(fr=>{if(!this.hls)return;Mn.supportedResult=fr;const cr=this.hls.levels,Jn=cr.indexOf(Mn);fr.error?logger.warn('[abr] MediaCapabilities decodingInfo error: "'.concat(fr.error,'" for level ').concat(Jn," ").concat(JSON.stringify(fr))):fr.supported||(logger.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level ".concat(Jn," ").concat(JSON.stringify(fr))),Jn>-1&&cr.length>1&&(logger.log("[abr] Removing unsupported level ".concat(Jn)),this.hls.removeLevel(Jn)))})):Mn.supportedResult=SUPPORTED_INFO_DEFAULT}if(Cn&&Mn.codecSet!==Cn||Tn&&Mn.videoRange!==Tn||Bn&&wn>Mn.frameRate||!Bn&&wn>0&&wn<Mn.frameRate||Mn.supportedResult&&!((On=Mn.supportedResult.decodingInfoResults)!=null&&On[0].smooth)){Nn.push(Dn);continue}const $n=Mn.details,Fn=(En?$n==null?void 0:$n.partTarget:$n==null?void 0:$n.averagetargetduration)||In;let Un;Bn?Un=Fe*pe:Un=Ne*pe;const Hn=In&&Ie>=In*2&&Oe===0?vn[Dn].averageBitrate:vn[Dn].maxBitrate,Wn=this.getTimeToLoadFrag(Rn,Un,Hn*Fn,$n===void 0);if(Un>=Hn&&(Dn===ze||Mn.loadError===0&&Mn.fragmentError===0)&&(Wn<=Rn||!isFiniteNumber(Wn)||xn&&!this.bitrateTestDelay||Wn<$e)){const or=this.forcedAutoLevel;return Dn!==_n&&(or===-1||or!==_n)&&(Nn.length&&logger.trace("[abr] Skipped level(s) ".concat(Nn.join(",")," of ").concat(Ce,' max with CODECS and VIDEO-RANGE:"').concat(vn[Nn[0]].codecs,'" ').concat(vn[Nn[0]].videoRange,'; not compatible with "').concat(An.codecs,'" ').concat(Tn)),logger.info("[abr] switch candidate:".concat(Ve,"->").concat(Dn," adjustedbw(").concat(Math.round(Un),")-bitrate=").concat(Math.round(Un-Hn)," ttfb:").concat(Rn.toFixed(1)," avgDuration:").concat(Fn.toFixed(1)," maxFetchDuration:").concat($e.toFixed(1)," fetchDuration:").concat(Wn.toFixed(1)," firstSelection:").concat(Sn," codecSet:").concat(Cn," videoRange:").concat(Tn," hls.loadLevel:").concat(_n))),Sn&&(this.firstSelection=Dn),Dn}}return-1}set nextAutoLevel(pe){const{maxAutoLevel:_e,minAutoLevel:Ce}=this.hls,Ie=Math.min(Math.max(pe,Ce),_e);this._nextAutoLevel!==Ie&&(this.nextAutoLevelKey="",this._nextAutoLevel=Ie)}}class TaskLoop{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(pe){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,pe),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class FragmentTracker{constructor(pe){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=pe,this._registerListeners()}_registerListeners(){const{hls:pe}=this;pe.on(Events.BUFFER_APPENDED,this.onBufferAppended,this),pe.on(Events.FRAG_BUFFERED,this.onFragBuffered,this),pe.on(Events.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:pe}=this;pe.off(Events.BUFFER_APPENDED,this.onBufferAppended,this),pe.off(Events.FRAG_BUFFERED,this.onFragBuffered,this),pe.off(Events.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(pe,_e){const Ce=this.activePartLists[_e];if(Ce)for(let Ie=Ce.length;Ie--;){const Oe=Ce[Ie];if(!Oe)break;const Ne=Oe.end;if(Oe.start<=pe&&Ne!==null&&pe<=Ne)return Oe}return this.getBufferedFrag(pe,_e)}getBufferedFrag(pe,_e){const{fragments:Ce}=this,Ie=Object.keys(Ce);for(let Oe=Ie.length;Oe--;){const Ne=Ce[Ie[Oe]];if((Ne==null?void 0:Ne.body.type)===_e&&Ne.buffered){const Fe=Ne.body;if(Fe.start<=pe&&pe<=Fe.end)return Fe}}return null}detectEvictedFragments(pe,_e,Ce,Ie){this.timeRanges&&(this.timeRanges[pe]=_e);const Oe=(Ie==null?void 0:Ie.fragment.sn)||-1;Object.keys(this.fragments).forEach(Ne=>{const Fe=this.fragments[Ne];if(!Fe||Oe>=Fe.body.sn)return;if(!Fe.buffered&&!Fe.loaded){Fe.body.type===Ce&&this.removeFragment(Fe.body);return}const Ue=Fe.range[pe];Ue&&Ue.time.some($e=>{const ze=!this.isTimeBuffered($e.startPTS,$e.endPTS,_e);return ze&&this.removeFragment(Fe.body),ze})})}detectPartialFragments(pe){const _e=this.timeRanges,{frag:Ce,part:Ie}=pe;if(!_e||Ce.sn==="initSegment")return;const Oe=getFragmentKey(Ce),Ne=this.fragments[Oe];if(!Ne||Ne.buffered&&Ce.gap)return;const Fe=!Ce.relurl;Object.keys(_e).forEach(Ue=>{const $e=Ce.elementaryStreams[Ue];if(!$e)return;const ze=_e[Ue],Ve=Fe||$e.partial===!0;Ne.range[Ue]=this.getBufferedTimes(Ce,Ie,Ve,ze)}),Ne.loaded=null,Object.keys(Ne.range).length?(Ne.buffered=!0,(Ne.body.endList=Ce.endList||Ne.body.endList)&&(this.endListFragments[Ne.body.type]=Ne),isPartial(Ne)||this.removeParts(Ce.sn-1,Ce.type)):this.removeFragment(Ne.body)}removeParts(pe,_e){const Ce=this.activePartLists[_e];Ce&&(this.activePartLists[_e]=Ce.filter(Ie=>Ie.fragment.sn>=pe))}fragBuffered(pe,_e){const Ce=getFragmentKey(pe);let Ie=this.fragments[Ce];!Ie&&_e&&(Ie=this.fragments[Ce]={body:pe,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},pe.gap&&(this.hasGaps=!0)),Ie&&(Ie.loaded=null,Ie.buffered=!0)}getBufferedTimes(pe,_e,Ce,Ie){const Oe={time:[],partial:Ce},Ne=pe.start,Fe=pe.end,Ue=pe.minEndPTS||Fe,$e=pe.maxStartPTS||Ne;for(let ze=0;ze<Ie.length;ze++){const Ve=Ie.start(ze)-this.bufferPadding,qe=Ie.end(ze)+this.bufferPadding;if($e>=Ve&&Ue<=qe){Oe.time.push({startPTS:Math.max(Ne,Ie.start(ze)),endPTS:Math.min(Fe,Ie.end(ze))});break}else if(Ne<qe&&Fe>Ve){const En=Math.max(Ne,Ie.start(ze)),vn=Math.min(Fe,Ie.end(ze));vn>En&&(Oe.partial=!0,Oe.time.push({startPTS:En,endPTS:vn}))}else if(Fe<=Ve)break}return Oe}getPartialFragment(pe){let _e=null,Ce,Ie,Oe,Ne=0;const{bufferPadding:Fe,fragments:Ue}=this;return Object.keys(Ue).forEach($e=>{const ze=Ue[$e];ze&&isPartial(ze)&&(Ie=ze.body.start-Fe,Oe=ze.body.end+Fe,pe>=Ie&&pe<=Oe&&(Ce=Math.min(pe-Ie,Oe-pe),Ne<=Ce&&(_e=ze.body,Ne=Ce)))}),_e}isEndListAppended(pe){const _e=this.endListFragments[pe];return _e!==void 0&&(_e.buffered||isPartial(_e))}getState(pe){const _e=getFragmentKey(pe),Ce=this.fragments[_e];return Ce?Ce.buffered?isPartial(Ce)?FragmentState.PARTIAL:FragmentState.OK:FragmentState.APPENDING:FragmentState.NOT_LOADED}isTimeBuffered(pe,_e,Ce){let Ie,Oe;for(let Ne=0;Ne<Ce.length;Ne++){if(Ie=Ce.start(Ne)-this.bufferPadding,Oe=Ce.end(Ne)+this.bufferPadding,pe>=Ie&&_e<=Oe)return!0;if(_e<=Ie)return!1}return!1}onFragLoaded(pe,_e){const{frag:Ce,part:Ie}=_e;if(Ce.sn==="initSegment"||Ce.bitrateTest)return;const Oe=Ie?null:_e,Ne=getFragmentKey(Ce);this.fragments[Ne]={body:Ce,appendedPTS:null,loaded:Oe,buffered:!1,range:Object.create(null)}}onBufferAppended(pe,_e){const{frag:Ce,part:Ie,timeRanges:Oe}=_e;if(Ce.sn==="initSegment")return;const Ne=Ce.type;if(Ie){let Fe=this.activePartLists[Ne];Fe||(this.activePartLists[Ne]=Fe=[]),Fe.push(Ie)}this.timeRanges=Oe,Object.keys(Oe).forEach(Fe=>{const Ue=Oe[Fe];this.detectEvictedFragments(Fe,Ue,Ne,Ie)})}onFragBuffered(pe,_e){this.detectPartialFragments(_e)}hasFragment(pe){const _e=getFragmentKey(pe);return!!this.fragments[_e]}hasParts(pe){var _e;return!!((_e=this.activePartLists[pe])!=null&&_e.length)}removeFragmentsInRange(pe,_e,Ce,Ie,Oe){Ie&&!this.hasGaps||Object.keys(this.fragments).forEach(Ne=>{const Fe=this.fragments[Ne];if(!Fe)return;const Ue=Fe.body;Ue.type!==Ce||Ie&&!Ue.gap||Ue.start<_e&&Ue.end>pe&&(Fe.buffered||Oe)&&this.removeFragment(Ue)})}removeFragment(pe){const _e=getFragmentKey(pe);pe.stats.loaded=0,pe.clearElementaryStreamInfo();const Ce=this.activePartLists[pe.type];if(Ce){const Ie=pe.sn;this.activePartLists[pe.type]=Ce.filter(Oe=>Oe.fragment.sn!==Ie)}delete this.fragments[_e],pe.endList&&delete this.endListFragments[pe.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function isPartial(xe){var pe,_e,Ce;return xe.buffered&&(xe.body.gap||((pe=xe.range.video)==null?void 0:pe.partial)||((_e=xe.range.audio)==null?void 0:_e.partial)||((Ce=xe.range.audiovideo)==null?void 0:Ce.partial))}function getFragmentKey(xe){return"".concat(xe.type,"_").concat(xe.level,"_").concat(xe.sn)}const noopBuffered={length:0,start:()=>0,end:()=>0};class BufferHelper{static isBuffered(pe,_e){try{if(pe){const Ce=BufferHelper.getBuffered(pe);for(let Ie=0;Ie<Ce.length;Ie++)if(_e>=Ce.start(Ie)&&_e<=Ce.end(Ie))return!0}}catch(Ce){}return!1}static bufferInfo(pe,_e,Ce){try{if(pe){const Ie=BufferHelper.getBuffered(pe),Oe=[];let Ne;for(Ne=0;Ne<Ie.length;Ne++)Oe.push({start:Ie.start(Ne),end:Ie.end(Ne)});return this.bufferedInfo(Oe,_e,Ce)}}catch(Ie){}return{len:0,start:_e,end:_e,nextStart:void 0}}static bufferedInfo(pe,_e,Ce){_e=Math.max(0,_e),pe.sort(function($e,ze){const Ve=$e.start-ze.start;return Ve||ze.end-$e.end});let Ie=[];if(Ce)for(let $e=0;$e<pe.length;$e++){const ze=Ie.length;if(ze){const Ve=Ie[ze-1].end;pe[$e].start-Ve<Ce?pe[$e].end>Ve&&(Ie[ze-1].end=pe[$e].end):Ie.push(pe[$e])}else Ie.push(pe[$e])}else Ie=pe;let Oe=0,Ne,Fe=_e,Ue=_e;for(let $e=0;$e<Ie.length;$e++){const ze=Ie[$e].start,Ve=Ie[$e].end;if(_e+Ce>=ze&&_e<Ve)Fe=ze,Ue=Ve,Oe=Ue-_e;else if(_e+Ce<ze){Ne=ze;break}}return{len:Oe,start:Fe||0,end:Ue||0,nextStart:Ne}}static getBuffered(pe){try{return pe.buffered}catch(_e){return logger.log("failed to get media.buffered",_e),noopBuffered}}}class ChunkMetadata{constructor(pe,_e,Ce,Ie=0,Oe=-1,Ne=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=getNewPerformanceTiming(),this.buffering={audio:getNewPerformanceTiming(),video:getNewPerformanceTiming(),audiovideo:getNewPerformanceTiming()},this.level=pe,this.sn=_e,this.id=Ce,this.size=Ie,this.part=Oe,this.partial=Ne}}function getNewPerformanceTiming(){return{start:0,executeStart:0,executeEnd:0,end:0}}function findFirstFragWithCC(xe,pe){for(let Ce=0,Ie=xe.length;Ce<Ie;Ce++){var _e;if(((_e=xe[Ce])==null?void 0:_e.cc)===pe)return xe[Ce]}return null}function shouldAlignOnDiscontinuities(xe,pe,_e){return!!(pe&&(_e.endCC>_e.startCC||xe&&xe.cc<_e.startCC))}function findDiscontinuousReferenceFrag(xe,pe){const _e=xe.fragments,Ce=pe.fragments;if(!Ce.length||!_e.length){logger.log("No fragments to align");return}const Ie=findFirstFragWithCC(_e,Ce[0].cc);if(!Ie||Ie&&!Ie.startPTS){logger.log("No frag in previous level to align on");return}return Ie}function adjustFragmentStart(xe,pe){if(xe){const _e=xe.start+pe;xe.start=xe.startPTS=_e,xe.endPTS=_e+xe.duration}}function adjustSlidingStart(xe,pe){const _e=pe.fragments;for(let Ce=0,Ie=_e.length;Ce<Ie;Ce++)adjustFragmentStart(_e[Ce],xe);pe.fragmentHint&&adjustFragmentStart(pe.fragmentHint,xe),pe.alignedSliding=!0}function alignStream(xe,pe,_e){pe&&(alignDiscontinuities(xe,_e,pe),!_e.alignedSliding&&pe&&alignMediaPlaylistByPDT(_e,pe),!_e.alignedSliding&&pe&&!_e.skippedSegments&&adjustSliding(pe,_e))}function alignDiscontinuities(xe,pe,_e){if(shouldAlignOnDiscontinuities(xe,_e,pe)){const Ce=findDiscontinuousReferenceFrag(_e,pe);Ce&&isFiniteNumber(Ce.start)&&(logger.log("Adjusting PTS using last level due to CC increase within current level ".concat(pe.url)),adjustSlidingStart(Ce.start,pe))}}function alignMediaPlaylistByPDT(xe,pe){if(!xe.hasProgramDateTime||!pe.hasProgramDateTime)return;const _e=xe.fragments,Ce=pe.fragments;if(!_e.length||!Ce.length)return;let Ie,Oe;const Ne=Math.min(pe.endCC,xe.endCC);pe.startCC<Ne&&xe.startCC<Ne&&(Ie=findFirstFragWithCC(Ce,Ne),Oe=findFirstFragWithCC(_e,Ne)),(!Ie||!Oe)&&(Ie=Ce[Math.floor(Ce.length/2)],Oe=findFirstFragWithCC(_e,Ie.cc)||_e[Math.floor(_e.length/2)]);const Fe=Ie.programDateTime,Ue=Oe.programDateTime;if(!Fe||!Ue)return;const $e=(Ue-Fe)/1e3-(Oe.start-Ie.start);adjustSlidingStart($e,xe)}const MIN_CHUNK_SIZE=Math.pow(2,17);class FragmentLoader{constructor(pe){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=pe}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(pe,_e){const Ce=pe.url;if(!Ce)return Promise.reject(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:pe,error:new Error("Fragment does not have a ".concat(Ce?"part list":"url")),networkDetails:null}));this.abort();const Ie=this.config,Oe=Ie.fLoader,Ne=Ie.loader;return new Promise((Fe,Ue)=>{if(this.loader&&this.loader.destroy(),pe.gap)if(pe.tagList.some(En=>En[0]==="GAP")){Ue(createGapLoadError(pe));return}else pe.gap=!1;const $e=this.loader=pe.loader=Oe?new Oe(Ie):new Ne(Ie),ze=createLoaderContext(pe),Ve=getLoaderConfigWithoutReties(Ie.fragLoadPolicy.default),qe={loadPolicy:Ve,timeout:Ve.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:pe.sn==="initSegment"?1/0:MIN_CHUNK_SIZE};pe.stats=$e.stats,$e.load(ze,qe,{onSuccess:(En,vn,hn,_n)=>{this.resetLoader(pe,$e);let bn=En.data;hn.resetIV&&pe.decryptdata&&(pe.decryptdata.iv=new Uint8Array(bn.slice(0,16)),bn=bn.slice(16)),Fe({frag:pe,part:null,payload:bn,networkDetails:_n})},onError:(En,vn,hn,_n)=>{this.resetLoader(pe,$e),Ue(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:pe,response:_objectSpread2({url:Ce,data:void 0},En),error:new Error("HTTP Error ".concat(En.code," ").concat(En.text)),networkDetails:hn,stats:_n}))},onAbort:(En,vn,hn)=>{this.resetLoader(pe,$e),Ue(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:pe,error:new Error("Aborted"),networkDetails:hn,stats:En}))},onTimeout:(En,vn,hn)=>{this.resetLoader(pe,$e),Ue(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:pe,error:new Error("Timeout after ".concat(qe.timeout,"ms")),networkDetails:hn,stats:En}))},onProgress:(En,vn,hn,_n)=>{_e&&_e({frag:pe,part:null,payload:hn,networkDetails:_n})}})})}loadPart(pe,_e,Ce){this.abort();const Ie=this.config,Oe=Ie.fLoader,Ne=Ie.loader;return new Promise((Fe,Ue)=>{if(this.loader&&this.loader.destroy(),pe.gap||_e.gap){Ue(createGapLoadError(pe,_e));return}const $e=this.loader=pe.loader=Oe?new Oe(Ie):new Ne(Ie),ze=createLoaderContext(pe,_e),Ve=getLoaderConfigWithoutReties(Ie.fragLoadPolicy.default),qe={loadPolicy:Ve,timeout:Ve.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:MIN_CHUNK_SIZE};_e.stats=$e.stats,$e.load(ze,qe,{onSuccess:(En,vn,hn,_n)=>{this.resetLoader(pe,$e),this.updateStatsFromPart(pe,_e);const bn={frag:pe,part:_e,payload:En.data,networkDetails:_n};Ce(bn),Fe(bn)},onError:(En,vn,hn,_n)=>{this.resetLoader(pe,$e),Ue(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:pe,part:_e,response:_objectSpread2({url:ze.url,data:void 0},En),error:new Error("HTTP Error ".concat(En.code," ").concat(En.text)),networkDetails:hn,stats:_n}))},onAbort:(En,vn,hn)=>{pe.stats.aborted=_e.stats.aborted,this.resetLoader(pe,$e),Ue(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:pe,part:_e,error:new Error("Aborted"),networkDetails:hn,stats:En}))},onTimeout:(En,vn,hn)=>{this.resetLoader(pe,$e),Ue(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:pe,part:_e,error:new Error("Timeout after ".concat(qe.timeout,"ms")),networkDetails:hn,stats:En}))}})})}updateStatsFromPart(pe,_e){const Ce=pe.stats,Ie=_e.stats,Oe=Ie.total;if(Ce.loaded+=Ie.loaded,Oe){const Ue=Math.round(pe.duration/_e.duration),$e=Math.min(Math.round(Ce.loaded/Oe),Ue),Ve=(Ue-$e)*Math.round(Ce.loaded/$e);Ce.total=Ce.loaded+Ve}else Ce.total=Math.max(Ce.loaded,Ce.total);const Ne=Ce.loading,Fe=Ie.loading;Ne.start?Ne.first+=Fe.first-Fe.start:(Ne.start=Fe.start,Ne.first=Fe.first),Ne.end=Fe.end}resetLoader(pe,_e){pe.loader=null,this.loader===_e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),_e.destroy()}}function createLoaderContext(xe,pe=null){const _e=pe||xe,Ce={frag:xe,part:pe,responseType:"arraybuffer",url:_e.url,headers:{},rangeStart:0,rangeEnd:0},Ie=_e.byteRangeStartOffset,Oe=_e.byteRangeEndOffset;if(isFiniteNumber(Ie)&&isFiniteNumber(Oe)){var Ne;let Fe=Ie,Ue=Oe;if(xe.sn==="initSegment"&&((Ne=xe.decryptdata)==null?void 0:Ne.method)==="AES-128"){const $e=Oe-Ie;$e%16&&(Ue=Oe+(16-$e%16)),Ie!==0&&(Ce.resetIV=!0,Fe=Ie-16)}Ce.rangeStart=Fe,Ce.rangeEnd=Ue}return Ce}function createGapLoadError(xe,pe){const _e=new Error("GAP ".concat(xe.gap?"tag":"attribute"," found")),Ce={type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_GAP,fatal:!1,frag:xe,error:_e,networkDetails:null};return pe&&(Ce.part=pe),(pe||xe).stats.aborted=!0,new LoadError(Ce)}class LoadError extends Error{constructor(pe){super(pe.error.message),this.data=void 0,this.data=pe}}class AESCrypto{constructor(pe,_e){this.subtle=void 0,this.aesIV=void 0,this.subtle=pe,this.aesIV=_e}decrypt(pe,_e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},_e,pe)}}class FastAESKey{constructor(pe,_e){this.subtle=void 0,this.key=void 0,this.subtle=pe,this.key=_e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function removePadding(xe){const pe=xe.byteLength,_e=pe&&new DataView(xe.buffer).getUint8(pe-1);return _e?sliceUint8(xe,0,pe-_e):xe}class AESDecryptor{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(pe){const _e=new DataView(pe),Ce=new Uint32Array(4);for(let Ie=0;Ie<4;Ie++)Ce[Ie]=_e.getUint32(Ie*4);return Ce}initTable(){const pe=this.sBox,_e=this.invSBox,Ce=this.subMix,Ie=Ce[0],Oe=Ce[1],Ne=Ce[2],Fe=Ce[3],Ue=this.invSubMix,$e=Ue[0],ze=Ue[1],Ve=Ue[2],qe=Ue[3],En=new Uint32Array(256);let vn=0,hn=0,_n=0;for(_n=0;_n<256;_n++)_n<128?En[_n]=_n<<1:En[_n]=_n<<1^283;for(_n=0;_n<256;_n++){let bn=hn^hn<<1^hn<<2^hn<<3^hn<<4;bn=bn>>>8^bn&255^99,pe[vn]=bn,_e[bn]=vn;const An=En[vn],xn=En[An],Sn=En[xn];let Cn=En[bn]*257^bn*16843008;Ie[vn]=Cn<<24|Cn>>>8,Oe[vn]=Cn<<16|Cn>>>16,Ne[vn]=Cn<<8|Cn>>>24,Fe[vn]=Cn,Cn=Sn*16843009^xn*65537^An*257^vn*16843008,$e[bn]=Cn<<24|Cn>>>8,ze[bn]=Cn<<16|Cn>>>16,Ve[bn]=Cn<<8|Cn>>>24,qe[bn]=Cn,vn?(vn=An^En[En[En[Sn^An]]],hn^=En[En[hn]]):vn=hn=1}}expandKey(pe){const _e=this.uint8ArrayToUint32Array_(pe);let Ce=!0,Ie=0;for(;Ie<_e.length&&Ce;)Ce=_e[Ie]===this.key[Ie],Ie++;if(Ce)return;this.key=_e;const Oe=this.keySize=_e.length;if(Oe!==4&&Oe!==6&&Oe!==8)throw new Error("Invalid aes key size="+Oe);const Ne=this.ksRows=(Oe+6+1)*4;let Fe,Ue;const $e=this.keySchedule=new Uint32Array(Ne),ze=this.invKeySchedule=new Uint32Array(Ne),Ve=this.sBox,qe=this.rcon,En=this.invSubMix,vn=En[0],hn=En[1],_n=En[2],bn=En[3];let An,xn;for(Fe=0;Fe<Ne;Fe++){if(Fe<Oe){An=$e[Fe]=_e[Fe];continue}xn=An,Fe%Oe===0?(xn=xn<<8|xn>>>24,xn=Ve[xn>>>24]<<24|Ve[xn>>>16&255]<<16|Ve[xn>>>8&255]<<8|Ve[xn&255],xn^=qe[Fe/Oe|0]<<24):Oe>6&&Fe%Oe===4&&(xn=Ve[xn>>>24]<<24|Ve[xn>>>16&255]<<16|Ve[xn>>>8&255]<<8|Ve[xn&255]),$e[Fe]=An=($e[Fe-Oe]^xn)>>>0}for(Ue=0;Ue<Ne;Ue++)Fe=Ne-Ue,Ue&3?xn=$e[Fe]:xn=$e[Fe-4],Ue<4||Fe<=4?ze[Ue]=xn:ze[Ue]=vn[Ve[xn>>>24]]^hn[Ve[xn>>>16&255]]^_n[Ve[xn>>>8&255]]^bn[Ve[xn&255]],ze[Ue]=ze[Ue]>>>0}networkToHostOrderSwap(pe){return pe<<24|(pe&65280)<<8|(pe&16711680)>>8|pe>>>24}decrypt(pe,_e,Ce){const Ie=this.keySize+6,Oe=this.invKeySchedule,Ne=this.invSBox,Fe=this.invSubMix,Ue=Fe[0],$e=Fe[1],ze=Fe[2],Ve=Fe[3],qe=this.uint8ArrayToUint32Array_(Ce);let En=qe[0],vn=qe[1],hn=qe[2],_n=qe[3];const bn=new Int32Array(pe),An=new Int32Array(bn.length);let xn,Sn,Cn,Tn,wn,Ln,Pn,kn,In,Rn,Nn,On,Dn,Mn;const Bn=this.networkToHostOrderSwap;for(;_e<bn.length;){for(In=Bn(bn[_e]),Rn=Bn(bn[_e+1]),Nn=Bn(bn[_e+2]),On=Bn(bn[_e+3]),wn=In^Oe[0],Ln=On^Oe[1],Pn=Nn^Oe[2],kn=Rn^Oe[3],Dn=4,Mn=1;Mn<Ie;Mn++)xn=Ue[wn>>>24]^$e[Ln>>16&255]^ze[Pn>>8&255]^Ve[kn&255]^Oe[Dn],Sn=Ue[Ln>>>24]^$e[Pn>>16&255]^ze[kn>>8&255]^Ve[wn&255]^Oe[Dn+1],Cn=Ue[Pn>>>24]^$e[kn>>16&255]^ze[wn>>8&255]^Ve[Ln&255]^Oe[Dn+2],Tn=Ue[kn>>>24]^$e[wn>>16&255]^ze[Ln>>8&255]^Ve[Pn&255]^Oe[Dn+3],wn=xn,Ln=Sn,Pn=Cn,kn=Tn,Dn=Dn+4;xn=Ne[wn>>>24]<<24^Ne[Ln>>16&255]<<16^Ne[Pn>>8&255]<<8^Ne[kn&255]^Oe[Dn],Sn=Ne[Ln>>>24]<<24^Ne[Pn>>16&255]<<16^Ne[kn>>8&255]<<8^Ne[wn&255]^Oe[Dn+1],Cn=Ne[Pn>>>24]<<24^Ne[kn>>16&255]<<16^Ne[wn>>8&255]<<8^Ne[Ln&255]^Oe[Dn+2],Tn=Ne[kn>>>24]<<24^Ne[wn>>16&255]<<16^Ne[Ln>>8&255]<<8^Ne[Pn&255]^Oe[Dn+3],An[_e]=Bn(xn^En),An[_e+1]=Bn(Tn^vn),An[_e+2]=Bn(Cn^hn),An[_e+3]=Bn(Sn^_n),En=In,vn=Rn,hn=Nn,_n=On,_e=_e+4}return An.buffer}}const CHUNK_SIZE=16;class Decrypter{constructor(pe,{removePKCS7Padding:_e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=pe.enableSoftwareAES,this.removePKCS7Padding=_e,_e)try{const Ce=self.crypto;Ce&&(this.subtle=Ce.subtle||Ce.webkitSubtle)}catch(Ce){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:pe,remainderData:_e}=this;if(!pe||_e)return this.reset(),null;const Ce=new Uint8Array(pe);return this.reset(),this.removePKCS7Padding?removePadding(Ce):Ce}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(pe,_e,Ce){return this.useSoftware?new Promise((Ie,Oe)=>{this.softwareDecrypt(new Uint8Array(pe),_e,Ce);const Ne=this.flush();Ne?Ie(Ne.buffer):Oe(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(pe),_e,Ce)}softwareDecrypt(pe,_e,Ce){const{currentIV:Ie,currentResult:Oe,remainderData:Ne}=this;this.logOnce("JS AES decrypt"),Ne&&(pe=appendUint8Array(Ne,pe),this.remainderData=null);const Fe=this.getValidChunk(pe);if(!Fe.length)return null;Ie&&(Ce=Ie);let Ue=this.softwareDecrypter;Ue||(Ue=this.softwareDecrypter=new AESDecryptor),Ue.expandKey(_e);const $e=Oe;return this.currentResult=Ue.decrypt(Fe.buffer,0,Ce),this.currentIV=sliceUint8(Fe,-16).buffer,$e||null}webCryptoDecrypt(pe,_e,Ce){if(this.key!==_e||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(pe,_e,Ce));this.key=_e,this.fastAesKey=new FastAESKey(this.subtle,_e)}return this.fastAesKey.expandKey().then(Ie=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new AESCrypto(this.subtle,new Uint8Array(Ce)).decrypt(pe.buffer,Ie)):Promise.reject(new Error("web crypto not initialized"))).catch(Ie=>(logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(Ie.name,": ").concat(Ie.message)),this.onWebCryptoError(pe,_e,Ce)))}onWebCryptoError(pe,_e,Ce){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(pe,_e,Ce);const Ie=this.flush();if(Ie)return Ie.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(pe){let _e=pe;const Ce=pe.length-pe.length%CHUNK_SIZE;return Ce!==pe.length&&(_e=sliceUint8(pe,0,Ce),this.remainderData=sliceUint8(pe,Ce)),_e}logOnce(pe){this.logEnabled&&(logger.log("[decrypter]: ".concat(pe)),this.logEnabled=!1)}}const TimeRanges={toString:function(xe){let pe="";const _e=xe.length;for(let Ce=0;Ce<_e;Ce++)pe+="[".concat(xe.start(Ce).toFixed(3),"-").concat(xe.end(Ce).toFixed(3),"]");return pe}},State={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class BaseStreamController extends TaskLoop{constructor(pe,_e,Ce,Ie,Oe){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=State.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=Oe,this.logPrefix=Ie,this.log=logger.log.bind(logger,"".concat(Ie,":")),this.warn=logger.warn.bind(logger,"".concat(Ie,":")),this.hls=pe,this.fragmentLoader=new FragmentLoader(pe.config),this.keyLoader=Ce,this.fragmentTracker=_e,this.config=pe.config,this.decrypter=new Decrypter(pe.config),pe.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(pe){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const pe=this.fragCurrent;pe!=null&&pe.loader&&(pe.abortRequests(),this.fragmentTracker.removeFragment(pe)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=State.STOPPED}_streamEnded(pe,_e){if(_e.live||pe.nextStart||!pe.end||!this.media)return!1;const Ce=_e.partList;if(Ce!=null&&Ce.length){const Oe=Ce[Ce.length-1];return BufferHelper.isBuffered(this.media,Oe.start+Oe.duration/2)}const Ie=_e.fragments[_e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(Ie)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var pe;return(pe=this.levelLastLoaded)==null?void 0:pe.details}}onMediaAttached(pe,_e){const Ce=this.media=this.mediaBuffer=_e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),Ce.addEventListener("seeking",this.onvseeking),Ce.addEventListener("ended",this.onvended);const Ie=this.config;this.levels&&Ie.autoStartLoad&&this.state===State.STOPPED&&this.startLoad(Ie.startPosition)}onMediaDetaching(){const pe=this.media;pe!=null&&pe.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),pe&&this.onvseeking&&this.onvended&&(pe.removeEventListener("seeking",this.onvseeking),pe.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:pe,fragCurrent:_e,media:Ce,mediaBuffer:Ie,state:Oe}=this,Ne=Ce?Ce.currentTime:0,Fe=BufferHelper.bufferInfo(Ie||Ce,Ne,pe.maxBufferHole);if(this.log("media seeking to ".concat(isFiniteNumber(Ne)?Ne.toFixed(3):Ne,", state: ").concat(Oe)),this.state===State.ENDED)this.resetLoadingState();else if(_e){const Ue=pe.maxFragLookUpTolerance,$e=_e.start-Ue,ze=_e.start+_e.duration+Ue;if(!Fe.len||ze<Fe.start||$e>Fe.end){const Ve=Ne>ze;(Ne<$e||Ve)&&(Ve&&_e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),_e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}Ce&&(this.fragmentTracker.removeFragmentsInRange(Ne,1/0,this.playlistType,!0),this.lastCurrentTime=Ne),!this.loadedmetadata&&!Fe.len&&(this.nextLoadPosition=this.startPosition=Ne),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(pe,_e){this.startTimeOffset=_e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=State.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(pe,_e,Ce){this._loadFragForPlayback(pe,_e,Ce)}_loadFragForPlayback(pe,_e,Ce){const Ie=Oe=>{if(this.fragContextChanged(pe)){this.warn("Fragment ".concat(pe.sn).concat(Oe.part?" p: "+Oe.part.index:""," of level ").concat(pe.level," was dropped during download.")),this.fragmentTracker.removeFragment(pe);return}pe.stats.chunkCount++,this._handleFragmentLoadProgress(Oe)};this._doFragLoad(pe,_e,Ce,Ie).then(Oe=>{if(!Oe)return;const Ne=this.state;if(this.fragContextChanged(pe)){(Ne===State.FRAG_LOADING||!this.fragCurrent&&Ne===State.PARSING)&&(this.fragmentTracker.removeFragment(pe),this.state=State.IDLE);return}"payload"in Oe&&(this.log("Loaded fragment ".concat(pe.sn," of level ").concat(pe.level)),this.hls.trigger(Events.FRAG_LOADED,Oe)),this._handleFragmentLoadComplete(Oe)}).catch(Oe=>{this.state===State.STOPPED||this.state===State.ERROR||(this.warn("Frag error: ".concat((Oe==null?void 0:Oe.message)||Oe)),this.resetFragmentLoading(pe))})}clearTrackerIfNeeded(pe){var _e;const{fragmentTracker:Ce}=this;if(Ce.getState(pe)===FragmentState.APPENDING){const Oe=pe.type,Ne=this.getFwdBufferInfo(this.mediaBuffer,Oe),Fe=Math.max(pe.duration,Ne?Ne.len:this.config.maxBufferLength),Ue=this.backtrackFragment;((Ue?pe.sn-Ue.sn:0)===1||this.reduceMaxBufferLength(Fe,pe.duration))&&Ce.removeFragment(pe)}else((_e=this.mediaBuffer)==null?void 0:_e.buffered.length)===0?Ce.removeAllFragments():Ce.hasParts(pe.type)&&(Ce.detectPartialFragments({frag:pe,part:null,stats:pe.stats,id:pe.type}),Ce.getState(pe)===FragmentState.PARTIAL&&Ce.removeFragment(pe))}checkLiveUpdate(pe){if(pe.updated&&!pe.live){const _e=pe.fragments[pe.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:_e,part:null,stats:_e.stats,id:_e.type})}pe.fragments[0]||(pe.deltaUpdateFailed=!0)}flushMainBuffer(pe,_e,Ce=null){if(!(pe-_e))return;const Ie={startOffset:pe,endOffset:_e,type:Ce};this.hls.trigger(Events.BUFFER_FLUSHING,Ie)}_loadInitSegment(pe,_e){this._doFragLoad(pe,_e).then(Ce=>{if(!Ce||this.fragContextChanged(pe)||!this.levels)throw new Error("init load aborted");return Ce}).then(Ce=>{const{hls:Ie}=this,{payload:Oe}=Ce,Ne=pe.decryptdata;if(Oe&&Oe.byteLength>0&&Ne!=null&&Ne.key&&Ne.iv&&Ne.method==="AES-128"){const Fe=self.performance.now();return this.decrypter.decrypt(new Uint8Array(Oe),Ne.key.buffer,Ne.iv.buffer).catch(Ue=>{throw Ie.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!1,error:Ue,reason:Ue.message,frag:pe}),Ue}).then(Ue=>{const $e=self.performance.now();return Ie.trigger(Events.FRAG_DECRYPTED,{frag:pe,payload:Ue,stats:{tstart:Fe,tdecrypt:$e}}),Ce.payload=Ue,this.completeInitSegmentLoad(Ce)})}return this.completeInitSegmentLoad(Ce)}).catch(Ce=>{this.state===State.STOPPED||this.state===State.ERROR||(this.warn(Ce),this.resetFragmentLoading(pe))})}completeInitSegmentLoad(pe){const{levels:_e}=this;if(!_e)throw new Error("init load aborted, missing levels");const Ce=pe.frag.stats;this.state=State.IDLE,pe.frag.data=new Uint8Array(pe.payload),Ce.parsing.start=Ce.buffering.start=self.performance.now(),Ce.parsing.end=Ce.buffering.end=self.performance.now(),this.tick()}fragContextChanged(pe){const{fragCurrent:_e}=this;return!pe||!_e||pe.sn!==_e.sn||pe.level!==_e.level}fragBufferedComplete(pe,_e){var Ce,Ie,Oe,Ne;const Fe=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered ".concat(pe.type," sn: ").concat(pe.sn).concat(_e?" part: "+_e.index:""," of ").concat(this.playlistType===PlaylistLevelType.MAIN?"level":"track"," ").concat(pe.level," (frag:[").concat(((Ce=pe.startPTS)!=null?Ce:NaN).toFixed(3),"-").concat(((Ie=pe.endPTS)!=null?Ie:NaN).toFixed(3),"] > buffer:").concat(Fe?TimeRanges.toString(BufferHelper.getBuffered(Fe)):"(detached)",")")),pe.sn!=="initSegment"){var Ue;if(pe.type!==PlaylistLevelType.SUBTITLE){const ze=pe.elementaryStreams;if(!Object.keys(ze).some(Ve=>!!ze[Ve])){this.state=State.IDLE;return}}const $e=(Ue=this.levels)==null?void 0:Ue[pe.level];$e!=null&&$e.fragmentError&&(this.log("Resetting level fragment error count of ".concat($e.fragmentError," on frag buffered")),$e.fragmentError=0)}this.state=State.IDLE,Fe&&(!this.loadedmetadata&&pe.type==PlaylistLevelType.MAIN&&Fe.buffered.length&&((Oe=this.fragCurrent)==null?void 0:Oe.sn)===((Ne=this.fragPrevious)==null?void 0:Ne.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(pe){const{transmuxer:_e}=this;if(!_e)return;const{frag:Ce,part:Ie,partsLoaded:Oe}=pe,Ne=!Oe||Oe.length===0||Oe.some(Ue=>!Ue),Fe=new ChunkMetadata(Ce.level,Ce.sn,Ce.stats.chunkCount+1,0,Ie?Ie.index:-1,!Ne);_e.flush(Fe)}_handleFragmentLoadProgress(pe){}_doFragLoad(pe,_e,Ce=null,Ie){var Oe;const Ne=_e==null?void 0:_e.details;if(!this.levels||!Ne)throw new Error("frag load aborted, missing level".concat(Ne?"":" detail","s"));let Fe=null;if(pe.encrypted&&!((Oe=pe.decryptdata)!=null&&Oe.key)?(this.log("Loading key for ".concat(pe.sn," of [").concat(Ne.startSN,"-").concat(Ne.endSN,"], ").concat(this.logPrefix==="[stream-controller]"?"level":"track"," ").concat(pe.level)),this.state=State.KEY_LOADING,this.fragCurrent=pe,Fe=this.keyLoader.load(pe).then(ze=>{if(!this.fragContextChanged(ze.frag))return this.hls.trigger(Events.KEY_LOADED,ze),this.state===State.KEY_LOADING&&(this.state=State.IDLE),ze}),this.hls.trigger(Events.KEY_LOADING,{frag:pe}),this.fragCurrent===null&&(Fe=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!pe.encrypted&&Ne.encryptedFragments.length&&this.keyLoader.loadClear(pe,Ne.encryptedFragments),Ce=Math.max(pe.start,Ce||0),this.config.lowLatencyMode&&pe.sn!=="initSegment"){const ze=Ne.partList;if(ze&&Ie){Ce>pe.end&&Ne.fragmentHint&&(pe=Ne.fragmentHint);const Ve=this.getNextPart(ze,pe,Ce);if(Ve>-1){const qe=ze[Ve];this.log("Loading part sn: ".concat(pe.sn," p: ").concat(qe.index," cc: ").concat(pe.cc," of playlist [").concat(Ne.startSN,"-").concat(Ne.endSN,"] parts [0-").concat(Ve,"-").concat(ze.length-1,"] ").concat(this.logPrefix==="[stream-controller]"?"level":"track",": ").concat(pe.level,", target: ").concat(parseFloat(Ce.toFixed(3)))),this.nextLoadPosition=qe.start+qe.duration,this.state=State.FRAG_LOADING;let En;return Fe?En=Fe.then(vn=>!vn||this.fragContextChanged(vn.frag)?null:this.doFragPartsLoad(pe,qe,_e,Ie)).catch(vn=>this.handleFragLoadError(vn)):En=this.doFragPartsLoad(pe,qe,_e,Ie).catch(vn=>this.handleFragLoadError(vn)),this.hls.trigger(Events.FRAG_LOADING,{frag:pe,part:qe,targetBufferTime:Ce}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):En}else if(!pe.url||this.loadedEndOfParts(ze,Ce))return Promise.resolve(null)}}this.log("Loading fragment ".concat(pe.sn," cc: ").concat(pe.cc," ").concat(Ne?"of ["+Ne.startSN+"-"+Ne.endSN+"] ":"").concat(this.logPrefix==="[stream-controller]"?"level":"track",": ").concat(pe.level,", target: ").concat(parseFloat(Ce.toFixed(3)))),isFiniteNumber(pe.sn)&&!this.bitrateTest&&(this.nextLoadPosition=pe.start+pe.duration),this.state=State.FRAG_LOADING;const Ue=this.config.progressive;let $e;return Ue&&Fe?$e=Fe.then(ze=>!ze||this.fragContextChanged(ze==null?void 0:ze.frag)?null:this.fragmentLoader.load(pe,Ie)).catch(ze=>this.handleFragLoadError(ze)):$e=Promise.all([this.fragmentLoader.load(pe,Ue?Ie:void 0),Fe]).then(([ze])=>(!Ue&&ze&&Ie&&Ie(ze),ze)).catch(ze=>this.handleFragLoadError(ze)),this.hls.trigger(Events.FRAG_LOADING,{frag:pe,targetBufferTime:Ce}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):$e}doFragPartsLoad(pe,_e,Ce,Ie){return new Promise((Oe,Ne)=>{var Fe;const Ue=[],$e=(Fe=Ce.details)==null?void 0:Fe.partList,ze=Ve=>{this.fragmentLoader.loadPart(pe,Ve,Ie).then(qe=>{Ue[Ve.index]=qe;const En=qe.part;this.hls.trigger(Events.FRAG_LOADED,qe);const vn=getPartWith(Ce,pe.sn,Ve.index+1)||findPart($e,pe.sn,Ve.index+1);if(vn)ze(vn);else return Oe({frag:pe,part:En,partsLoaded:Ue})}).catch(Ne)};ze(_e)})}handleFragLoadError(pe){if("data"in pe){const _e=pe.data;pe.data&&_e.details===ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(_e.frag,_e.part):this.hls.trigger(Events.ERROR,_e)}else this.hls.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERNAL_EXCEPTION,err:pe,error:pe,fatal:!0});return null}_handleTransmuxerFlush(pe){const _e=this.getCurrentContext(pe);if(!_e||this.state!==State.PARSING){!this.fragCurrent&&this.state!==State.STOPPED&&this.state!==State.ERROR&&(this.state=State.IDLE);return}const{frag:Ce,part:Ie,level:Oe}=_e,Ne=self.performance.now();Ce.stats.parsing.end=Ne,Ie&&(Ie.stats.parsing.end=Ne),this.updateLevelTiming(Ce,Ie,Oe,pe.partial)}getCurrentContext(pe){const{levels:_e,fragCurrent:Ce}=this,{level:Ie,sn:Oe,part:Ne}=pe;if(!(_e!=null&&_e[Ie]))return this.warn("Levels object was unset while buffering fragment ".concat(Oe," of level ").concat(Ie,". The current chunk will not be buffered.")),null;const Fe=_e[Ie],Ue=Ne>-1?getPartWith(Fe,Oe,Ne):null,$e=Ue?Ue.fragment:getFragmentWithSN(Fe,Oe,Ce);return $e?(Ce&&Ce!==$e&&($e.stats=Ce.stats),{frag:$e,part:Ue,level:Fe}):null}bufferFragmentData(pe,_e,Ce,Ie,Oe){var Ne;if(!pe||this.state!==State.PARSING)return;const{data1:Fe,data2:Ue}=pe;let $e=Fe;if(Fe&&Ue&&($e=appendUint8Array(Fe,Ue)),!((Ne=$e)!=null&&Ne.length))return;const ze={type:pe.type,frag:_e,part:Ce,chunkMeta:Ie,parent:_e.type,data:$e};if(this.hls.trigger(Events.BUFFER_APPENDING,ze),pe.dropped&&pe.independent&&!Ce){if(Oe)return;this.flushBufferGap(_e)}}flushBufferGap(pe){const _e=this.media;if(!_e)return;if(!BufferHelper.isBuffered(_e,_e.currentTime)){this.flushMainBuffer(0,pe.start);return}const Ce=_e.currentTime,Ie=BufferHelper.bufferInfo(_e,Ce,0),Oe=pe.duration,Ne=Math.min(this.config.maxFragLookUpTolerance*2,Oe*.25),Fe=Math.max(Math.min(pe.start-Ne,Ie.end-Ne),Ce+Ne);pe.start-Fe>Ne&&this.flushMainBuffer(Fe,pe.start)}getFwdBufferInfo(pe,_e){const Ce=this.getLoadPosition();return isFiniteNumber(Ce)?this.getFwdBufferInfoAtPos(pe,Ce,_e):null}getFwdBufferInfoAtPos(pe,_e,Ce){const{config:{maxBufferHole:Ie}}=this,Oe=BufferHelper.bufferInfo(pe,_e,Ie);if(Oe.len===0&&Oe.nextStart!==void 0){const Ne=this.fragmentTracker.getBufferedFrag(_e,Ce);if(Ne&&Oe.nextStart<Ne.end)return BufferHelper.bufferInfo(pe,_e,Math.max(Oe.nextStart,Ie))}return Oe}getMaxBufferLength(pe){const{config:_e}=this;let Ce;return pe?Ce=Math.max(8*_e.maxBufferSize/pe,_e.maxBufferLength):Ce=_e.maxBufferLength,Math.min(Ce,_e.maxMaxBufferLength)}reduceMaxBufferLength(pe,_e){const Ce=this.config,Ie=Math.max(Math.min(pe-_e,Ce.maxBufferLength),_e),Oe=Math.max(pe-_e*3,Ce.maxMaxBufferLength/2,Ie);return Oe>=Ie?(Ce.maxMaxBufferLength=Oe,this.warn("Reduce max buffer length to ".concat(Oe,"s")),!0):!1}getAppendedFrag(pe,_e=PlaylistLevelType.MAIN){const Ce=this.fragmentTracker.getAppendedFrag(pe,PlaylistLevelType.MAIN);return Ce&&"fragment"in Ce?Ce.fragment:Ce}getNextFragment(pe,_e){const Ce=_e.fragments,Ie=Ce.length;if(!Ie)return null;const{config:Oe}=this,Ne=Ce[0].start;let Fe;if(_e.live){const Ue=Oe.initialLiveManifestSize;if(Ie<Ue)return this.warn("Not enough fragments to start playback (have: ".concat(Ie,", need: ").concat(Ue,")")),null;(!_e.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||pe<Ne)&&(Fe=this.getInitialLiveFragment(_e,Ce),this.startPosition=this.nextLoadPosition=Fe?this.hls.liveSyncPosition||Fe.start:pe)}else pe<=Ne&&(Fe=Ce[0]);if(!Fe){const Ue=Oe.lowLatencyMode?_e.partEnd:_e.fragmentEnd;Fe=this.getFragmentAtPosition(pe,Ue,_e)}return this.mapToInitFragWhenRequired(Fe)}isLoopLoading(pe,_e){const Ce=this.fragmentTracker.getState(pe);return(Ce===FragmentState.OK||Ce===FragmentState.PARTIAL&&!!pe.gap)&&this.nextLoadPosition>_e}getNextFragmentLoopLoading(pe,_e,Ce,Ie,Oe){const Ne=pe.gap,Fe=this.getNextFragment(this.nextLoadPosition,_e);if(Fe===null)return Fe;if(pe=Fe,Ne&&pe&&!pe.gap&&Ce.nextStart){const Ue=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,Ce.nextStart,Ie);if(Ue!==null&&Ce.len+Ue.len>=Oe)return this.log('buffer full after gaps in "'.concat(Ie,'" playlist starting at sn: ').concat(pe.sn)),null}return pe}mapToInitFragWhenRequired(pe){return pe!=null&&pe.initSegment&&!(pe!=null&&pe.initSegment.data)&&!this.bitrateTest?pe.initSegment:pe}getNextPart(pe,_e,Ce){let Ie=-1,Oe=!1,Ne=!0;for(let Fe=0,Ue=pe.length;Fe<Ue;Fe++){const $e=pe[Fe];if(Ne=Ne&&!$e.independent,Ie>-1&&Ce<$e.start)break;const ze=$e.loaded;ze?Ie=-1:(Oe||$e.independent||Ne)&&$e.fragment===_e&&(Ie=Fe),Oe=ze}return Ie}loadedEndOfParts(pe,_e){const Ce=pe[pe.length-1];return Ce&&_e>Ce.start&&Ce.loaded}getInitialLiveFragment(pe,_e){const Ce=this.fragPrevious;let Ie=null;if(Ce){if(pe.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(Ce.programDateTime)),Ie=findFragmentByPDT(_e,Ce.endProgramDateTime,this.config.maxFragLookUpTolerance)),!Ie){const Oe=Ce.sn+1;if(Oe>=pe.startSN&&Oe<=pe.endSN){const Ne=_e[Oe-pe.startSN];Ce.cc===Ne.cc&&(Ie=Ne,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(Ie.sn)))}Ie||(Ie=findFragWithCC(_e,Ce.cc),Ie&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(Ie.sn)))}}else{const Oe=this.hls.liveSyncPosition;Oe!==null&&(Ie=this.getFragmentAtPosition(Oe,this.bitrateTest?pe.fragmentEnd:pe.edge,pe))}return Ie}getFragmentAtPosition(pe,_e,Ce){const{config:Ie}=this;let{fragPrevious:Oe}=this,{fragments:Ne,endSN:Fe}=Ce;const{fragmentHint:Ue}=Ce,{maxFragLookUpTolerance:$e}=Ie,ze=Ce.partList,Ve=!!(Ie.lowLatencyMode&&ze!=null&&ze.length&&Ue);Ve&&Ue&&!this.bitrateTest&&(Ne=Ne.concat(Ue),Fe=Ue.sn);let qe;if(pe<_e){const En=pe>_e-$e?0:$e;qe=findFragmentByPTS(Oe,Ne,pe,En)}else qe=Ne[Ne.length-1];if(qe){const En=qe.sn-Ce.startSN,vn=this.fragmentTracker.getState(qe);if((vn===FragmentState.OK||vn===FragmentState.PARTIAL&&qe.gap)&&(Oe=qe),Oe&&qe.sn===Oe.sn&&(!Ve||ze[0].fragment.sn>qe.sn)&&Oe&&qe.level===Oe.level){const _n=Ne[En+1];qe.sn<Fe&&this.fragmentTracker.getState(_n)!==FragmentState.OK?qe=_n:qe=null}}return qe}synchronizeToLiveEdge(pe){const{config:_e,media:Ce}=this;if(!Ce)return;const Ie=this.hls.liveSyncPosition,Oe=Ce.currentTime,Ne=pe.fragments[0].start,Fe=pe.edge,Ue=Oe>=Ne-_e.maxFragLookUpTolerance&&Oe<=Fe;if(Ie!==null&&Ce.duration>Ie&&(Oe<Ie||!Ue)){const $e=_e.liveMaxLatencyDuration!==void 0?_e.liveMaxLatencyDuration:_e.liveMaxLatencyDurationCount*pe.targetduration;(!Ue&&Ce.readyState<4||Oe<Fe-$e)&&(this.loadedmetadata||(this.nextLoadPosition=Ie),Ce.readyState&&(this.warn("Playback: ".concat(Oe.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(Fe,", reset currentTime to : ").concat(Ie.toFixed(3))),Ce.currentTime=Ie))}}alignPlaylists(pe,_e,Ce){const Ie=pe.fragments.length;if(!Ie)return this.warn("No fragments in live playlist"),0;const Oe=pe.fragments[0].start,Ne=!_e,Fe=pe.alignedSliding&&isFiniteNumber(Oe);if(Ne||!Fe&&!Oe){const{fragPrevious:Ue}=this;alignStream(Ue,Ce,pe);const $e=pe.fragments[0].start;return this.log("Live playlist sliding: ".concat($e.toFixed(2)," start-sn: ").concat(_e?_e.startSN:"na","->").concat(pe.startSN," prev-sn: ").concat(Ue?Ue.sn:"na"," fragments: ").concat(Ie)),$e}return Oe}waitForCdnTuneIn(pe){return pe.live&&pe.canBlockReload&&pe.partTarget&&pe.tuneInGoal>Math.max(pe.partHoldBack,pe.partTarget*3)}setStartPosition(pe,_e){let Ce=this.startPosition;if(Ce<_e&&(Ce=-1),Ce===-1||this.lastCurrentTime===-1){const Ie=this.startTimeOffset!==null,Oe=Ie?this.startTimeOffset:pe.startTimeOffset;Oe!==null&&isFiniteNumber(Oe)?(Ce=_e+Oe,Oe<0&&(Ce+=pe.totalduration),Ce=Math.min(Math.max(_e,Ce),_e+pe.totalduration),this.log("Start time offset ".concat(Oe," found in ").concat(Ie?"multivariant":"media"," playlist, adjust startPosition to ").concat(Ce)),this.startPosition=Ce):pe.live?Ce=this.hls.liveSyncPosition||_e:this.startPosition=Ce=0,this.lastCurrentTime=Ce}this.nextLoadPosition=Ce}getLoadPosition(){const{media:pe}=this;let _e=0;return this.loadedmetadata&&pe?_e=pe.currentTime:this.nextLoadPosition&&(_e=this.nextLoadPosition),_e}handleFragLoadAborted(pe,_e){this.transmuxer&&pe.sn!=="initSegment"&&pe.stats.aborted&&(this.warn("Fragment ".concat(pe.sn).concat(_e?" part "+_e.index:""," of level ").concat(pe.level," was aborted")),this.resetFragmentLoading(pe))}resetFragmentLoading(pe){(!this.fragCurrent||!this.fragContextChanged(pe)&&this.state!==State.FRAG_LOADING_WAITING_RETRY)&&(this.state=State.IDLE)}onFragmentOrKeyLoadError(pe,_e){if(_e.chunkMeta&&!_e.frag){const ze=this.getCurrentContext(_e.chunkMeta);ze&&(_e.frag=ze.frag)}const Ce=_e.frag;if(!Ce||Ce.type!==pe||!this.levels)return;if(this.fragContextChanged(Ce)){var Ie;this.warn("Frag load error must match current frag to retry ".concat(Ce.url," > ").concat((Ie=this.fragCurrent)==null?void 0:Ie.url));return}const Oe=_e.details===ErrorDetails.FRAG_GAP;Oe&&this.fragmentTracker.fragBuffered(Ce,!0);const Ne=_e.errorAction,{action:Fe,retryCount:Ue=0,retryConfig:$e}=Ne||{};if(Ne&&Fe===NetworkErrorAction.RetryRequest&&$e){this.resetStartWhenNotLoaded(this.levelLastLoaded);const ze=getRetryDelay($e,Ue);this.warn("Fragment ".concat(Ce.sn," of ").concat(pe," ").concat(Ce.level," errored with ").concat(_e.details,", retrying loading ").concat(Ue+1,"/").concat($e.maxNumRetry," in ").concat(ze,"ms")),Ne.resolved=!0,this.retryDate=self.performance.now()+ze,this.state=State.FRAG_LOADING_WAITING_RETRY}else if($e&&Ne)if(this.resetFragmentErrors(pe),Ue<$e.maxNumRetry)!Oe&&Fe!==NetworkErrorAction.RemoveAlternatePermanently&&(Ne.resolved=!0);else{logger.warn("".concat(_e.details," reached or exceeded max retry (").concat(Ue,")"));return}else(Ne==null?void 0:Ne.action)===NetworkErrorAction.SendAlternateToPenaltyBox?this.state=State.WAITING_LEVEL:this.state=State.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(pe){if(this.state===State.PARSING||this.state===State.PARSED){const _e=pe.frag,Ce=pe.parent,Ie=this.getFwdBufferInfo(this.mediaBuffer,Ce),Oe=Ie&&Ie.len>.5;Oe&&this.reduceMaxBufferLength(Ie.len,(_e==null?void 0:_e.duration)||10);const Ne=!Oe;return Ne&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(Ce," buffer")),_e&&(this.fragmentTracker.removeFragment(_e),this.nextLoadPosition=_e.start),this.resetLoadingState(),Ne}return!1}resetFragmentErrors(pe){pe===PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==State.STOPPED&&(this.state=State.IDLE)}afterBufferFlushed(pe,_e,Ce){if(!pe)return;const Ie=BufferHelper.getBuffered(pe);this.fragmentTracker.detectEvictedFragments(_e,Ie,Ce),this.state===State.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=State.IDLE}resetStartWhenNotLoaded(pe){if(!this.loadedmetadata){this.startFragRequested=!1;const _e=pe?pe.details:null;_e!=null&&_e.live?(this.startPosition=-1,this.setStartPosition(_e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(pe){this.warn("The loading context changed while buffering fragment ".concat(pe.sn," of level ").concat(pe.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(pe=0){this.fragmentTracker.removeFragmentsInRange(pe,1/0,this.playlistType,!1,!0)}updateLevelTiming(pe,_e,Ce,Ie){var Oe;const Ne=Ce.details;if(!Ne){this.warn("level.details undefined");return}if(!Object.keys(pe.elementaryStreams).reduce((Ue,$e)=>{const ze=pe.elementaryStreams[$e];if(ze){const Ve=ze.endPTS-ze.startPTS;if(Ve<=0)return this.warn("Could not parse fragment ".concat(pe.sn," ").concat($e," duration reliably (").concat(Ve,")")),Ue||!1;const qe=Ie?0:updateFragPTSDTS(Ne,pe,ze.startPTS,ze.endPTS,ze.startDTS,ze.endDTS);return this.hls.trigger(Events.LEVEL_PTS_UPDATED,{details:Ne,level:Ce,drift:qe,type:$e,frag:pe,start:ze.startPTS,end:ze.endPTS}),!0}return Ue},!1)&&((Oe=this.transmuxer)==null?void 0:Oe.error)===null){const Ue=new Error("Found no media in fragment ".concat(pe.sn," of level ").concat(pe.level," resetting transmuxer to fallback to playlist timing"));if(Ce.fragmentError===0&&(Ce.fragmentError++,pe.gap=!0,this.fragmentTracker.removeFragment(pe),this.fragmentTracker.fragBuffered(pe,!0)),this.warn(Ue.message),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,error:Ue,frag:pe,reason:"Found no media in msn ".concat(pe.sn,' of level "').concat(Ce.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=State.PARSED,this.hls.trigger(Events.FRAG_PARSED,{frag:pe,part:_e})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(pe){pe.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(pe){const _e=this._state;_e!==pe&&(this._state=pe,this.log("".concat(_e,"->").concat(pe)))}get state(){return this._state}}class ChunkCache{constructor(){this.chunks=[],this.dataLength=0}push(pe){this.chunks.push(pe),this.dataLength+=pe.length}flush(){const{chunks:pe,dataLength:_e}=this;let Ce;if(pe.length)pe.length===1?Ce=pe[0]:Ce=concatUint8Arrays(pe,_e);else return new Uint8Array(0);return this.reset(),Ce}reset(){this.chunks.length=0,this.dataLength=0}}function concatUint8Arrays(xe,pe){const _e=new Uint8Array(pe);let Ce=0;for(let Ie=0;Ie<xe.length;Ie++){const Oe=xe[Ie];_e.set(Oe,Ce),Ce+=Oe.length}return _e}function hasUMDWorker(){return typeof __HLS_WORKER_BUNDLE__=="function"}function injectWorker(){const xe=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),pe=self.URL.createObjectURL(xe);return{worker:new self.Worker(pe),objectURL:pe}}function loadWorker(xe){const pe=new self.URL(xe,self.location.href).href;return{worker:new self.Worker(pe),scriptURL:pe}}function dummyTrack(xe="",pe=9e4){return{type:xe,id:-1,pid:-1,inputTimeScale:pe,sequenceNumber:-1,samples:[],dropped:0}}class BaseAudioDemuxer{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(pe,_e,Ce,Ie){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(pe){this.initPTS=pe,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(pe,_e){return!1}appendFrame(pe,_e,Ce){}demux(pe,_e){this.cachedData&&(pe=appendUint8Array(this.cachedData,pe),this.cachedData=null);let Ce=getID3Data(pe,0),Ie=Ce?Ce.length:0,Oe;const Ne=this._audioTrack,Fe=this._id3Track,Ue=Ce?getTimeStamp(Ce):void 0,$e=pe.length;for((this.basePTS===null||this.frameIndex===0&&isFiniteNumber(Ue))&&(this.basePTS=initPTSFn(Ue,_e,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),Ce&&Ce.length>0&&Fe.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:Ce,type:MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});Ie<$e;){if(this.canParse(pe,Ie)){const ze=this.appendFrame(Ne,pe,Ie);ze?(this.frameIndex++,this.lastPTS=ze.sample.pts,Ie+=ze.length,Oe=Ie):Ie=$e}else canParse$2(pe,Ie)?(Ce=getID3Data(pe,Ie),Fe.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:Ce,type:MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),Ie+=Ce.length,Oe=Ie):Ie++;if(Ie===$e&&Oe!==$e){const ze=sliceUint8(pe,Oe);this.cachedData?this.cachedData=appendUint8Array(this.cachedData,ze):this.cachedData=ze}}return{audioTrack:Ne,videoTrack:dummyTrack(),id3Track:Fe,textTrack:dummyTrack()}}demuxSampleAes(pe,_e,Ce){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}flush(pe){const _e=this.cachedData;return _e&&(this.cachedData=null,this.demux(_e,0)),{audioTrack:this._audioTrack,videoTrack:dummyTrack(),id3Track:this._id3Track,textTrack:dummyTrack()}}destroy(){}}const initPTSFn=(xe,pe,_e)=>{if(isFiniteNumber(xe))return xe*90;const Ce=_e?_e.baseTime*9e4/_e.timescale:0;return pe*9e4+Ce};function getAudioConfig(xe,pe,_e,Ce){let Ie,Oe,Ne,Fe;const Ue=navigator.userAgent.toLowerCase(),$e=Ce,ze=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ie=((pe[_e+2]&192)>>>6)+1;const Ve=(pe[_e+2]&60)>>>2;if(Ve>ze.length-1){const qe=new Error("invalid ADTS sampling index:".concat(Ve));xe.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,error:qe,reason:qe.message});return}return Ne=(pe[_e+2]&1)<<2,Ne|=(pe[_e+3]&192)>>>6,logger.log("manifest codec:".concat(Ce,", ADTS type:").concat(Ie,", samplingIndex:").concat(Ve)),/firefox/i.test(Ue)?Ve>=6?(Ie=5,Fe=new Array(4),Oe=Ve-3):(Ie=2,Fe=new Array(2),Oe=Ve):Ue.indexOf("android")!==-1?(Ie=2,Fe=new Array(2),Oe=Ve):(Ie=5,Fe=new Array(4),Ce&&(Ce.indexOf("mp4a.40.29")!==-1||Ce.indexOf("mp4a.40.5")!==-1)||!Ce&&Ve>=6?Oe=Ve-3:((Ce&&Ce.indexOf("mp4a.40.2")!==-1&&(Ve>=6&&Ne===1||/vivaldi/i.test(Ue))||!Ce&&Ne===1)&&(Ie=2,Fe=new Array(2)),Oe=Ve)),Fe[0]=Ie<<3,Fe[0]|=(Ve&14)>>1,Fe[1]|=(Ve&1)<<7,Fe[1]|=Ne<<3,Ie===5&&(Fe[1]|=(Oe&14)>>1,Fe[2]=(Oe&1)<<7,Fe[2]|=8,Fe[3]=0),{config:Fe,samplerate:ze[Ve],channelCount:Ne,codec:"mp4a.40."+Ie,manifestCodec:$e}}function isHeaderPattern$1(xe,pe){return xe[pe]===255&&(xe[pe+1]&246)===240}function getHeaderLength(xe,pe){return xe[pe+1]&1?7:9}function getFullFrameLength(xe,pe){return(xe[pe+3]&3)<<11|xe[pe+4]<<3|(xe[pe+5]&224)>>>5}function canGetFrameLength(xe,pe){return pe+5<xe.length}function isHeader$1(xe,pe){return pe+1<xe.length&&isHeaderPattern$1(xe,pe)}function canParse$1(xe,pe){return canGetFrameLength(xe,pe)&&isHeaderPattern$1(xe,pe)&&getFullFrameLength(xe,pe)<=xe.length-pe}function probe$1(xe,pe){if(isHeader$1(xe,pe)){const _e=getHeaderLength(xe,pe);if(pe+_e>=xe.length)return!1;const Ce=getFullFrameLength(xe,pe);if(Ce<=_e)return!1;const Ie=pe+Ce;return Ie===xe.length||isHeader$1(xe,Ie)}return!1}function initTrackConfig(xe,pe,_e,Ce,Ie){if(!xe.samplerate){const Oe=getAudioConfig(pe,_e,Ce,Ie);if(!Oe)return;xe.config=Oe.config,xe.samplerate=Oe.samplerate,xe.channelCount=Oe.channelCount,xe.codec=Oe.codec,xe.manifestCodec=Oe.manifestCodec,logger.log("parsed codec:".concat(xe.codec,", rate:").concat(Oe.samplerate,", channels:").concat(Oe.channelCount))}}function getFrameDuration(xe){return 1024*9e4/xe}function parseFrameHeader(xe,pe){const _e=getHeaderLength(xe,pe);if(pe+_e<=xe.length){const Ce=getFullFrameLength(xe,pe)-_e;if(Ce>0)return{headerLength:_e,frameLength:Ce}}}function appendFrame$2(xe,pe,_e,Ce,Ie){const Oe=getFrameDuration(xe.samplerate),Ne=Ce+Ie*Oe,Fe=parseFrameHeader(pe,_e);let Ue;if(Fe){const{frameLength:Ve,headerLength:qe}=Fe,En=qe+Ve,vn=Math.max(0,_e+En-pe.length);vn?(Ue=new Uint8Array(En-qe),Ue.set(pe.subarray(_e+qe,pe.length),0)):Ue=pe.subarray(_e+qe,_e+En);const hn={unit:Ue,pts:Ne};return vn||xe.samples.push(hn),{sample:hn,length:En,missing:vn}}const $e=pe.length-_e;return Ue=new Uint8Array($e),Ue.set(pe.subarray(_e,pe.length),0),{sample:{unit:Ue,pts:Ne},length:$e,missing:-1}}let chromeVersion$1=null;const BitratesMap=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot=[0,1,1,4];function appendFrame$1(xe,pe,_e,Ce,Ie){if(_e+24>pe.length)return;const Oe=parseHeader(pe,_e);if(Oe&&_e+Oe.frameLength<=pe.length){const Ne=Oe.samplesPerFrame*9e4/Oe.sampleRate,Fe=Ce+Ie*Ne,Ue={unit:pe.subarray(_e,_e+Oe.frameLength),pts:Fe,dts:Fe};return xe.config=[],xe.channelCount=Oe.channelCount,xe.samplerate=Oe.sampleRate,xe.samples.push(Ue),{sample:Ue,length:Oe.frameLength,missing:0}}}function parseHeader(xe,pe){const _e=xe[pe+1]>>3&3,Ce=xe[pe+1]>>1&3,Ie=xe[pe+2]>>4&15,Oe=xe[pe+2]>>2&3;if(_e!==1&&Ie!==0&&Ie!==15&&Oe!==3){const Ne=xe[pe+2]>>1&1,Fe=xe[pe+3]>>6,Ue=_e===3?3-Ce:Ce===3?3:4,$e=BitratesMap[Ue*14+Ie-1]*1e3,Ve=SamplingRateMap[(_e===3?0:_e===2?1:2)*3+Oe],qe=Fe===3?1:2,En=SamplesCoefficients[_e][Ce],vn=BytesInSlot[Ce],hn=En*8*vn,_n=Math.floor(En*$e/Ve+Ne)*vn;if(chromeVersion$1===null){const xn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);chromeVersion$1=xn?parseInt(xn[1]):0}return!!chromeVersion$1&&chromeVersion$1<=87&&Ce===2&&$e>=224e3&&Fe===0&&(xe[pe+3]=xe[pe+3]|128),{sampleRate:Ve,channelCount:qe,frameLength:_n,samplesPerFrame:hn}}}function isHeaderPattern(xe,pe){return xe[pe]===255&&(xe[pe+1]&224)===224&&(xe[pe+1]&6)!==0}function isHeader(xe,pe){return pe+1<xe.length&&isHeaderPattern(xe,pe)}function canParse(xe,pe){return isHeaderPattern(xe,pe)&&4<=xe.length-pe}function probe(xe,pe){if(pe+1<xe.length&&isHeaderPattern(xe,pe)){const Ce=parseHeader(xe,pe);let Ie=4;Ce!=null&&Ce.frameLength&&(Ie=Ce.frameLength);const Oe=pe+Ie;return Oe===xe.length||isHeader(xe,Oe)}return!1}class AACDemuxer extends BaseAudioDemuxer{constructor(pe,_e){super(),this.observer=void 0,this.config=void 0,this.observer=pe,this.config=_e}resetInitSegment(pe,_e,Ce,Ie){super.resetInitSegment(pe,_e,Ce,Ie),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:_e,duration:Ie,inputTimeScale:9e4,dropped:0}}static probe(pe){if(!pe)return!1;const _e=getID3Data(pe,0);let Ce=(_e==null?void 0:_e.length)||0;if(probe(pe,Ce))return!1;for(let Ie=pe.length;Ce<Ie;Ce++)if(probe$1(pe,Ce))return logger.log("ADTS sync word found !"),!0;return!1}canParse(pe,_e){return canParse$1(pe,_e)}appendFrame(pe,_e,Ce){initTrackConfig(pe,this.observer,_e,Ce,pe.manifestCodec);const Ie=appendFrame$2(pe,_e,Ce,this.basePTS,this.frameIndex);if(Ie&&Ie.missing===0)return Ie}}const emsgSchemePattern=/\/emsg[-/]ID3/i;class MP4Demuxer{constructor(pe,_e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=_e}resetTimeStamp(){}resetInitSegment(pe,_e,Ce,Ie){const Oe=this.videoTrack=dummyTrack("video",1),Ne=this.audioTrack=dummyTrack("audio",1),Fe=this.txtTrack=dummyTrack("text",1);if(this.id3Track=dummyTrack("id3",1),this.timeOffset=0,!(pe!=null&&pe.byteLength))return;const Ue=parseInitSegment(pe);if(Ue.video){const{id:$e,timescale:ze,codec:Ve}=Ue.video;Oe.id=$e,Oe.timescale=Fe.timescale=ze,Oe.codec=Ve}if(Ue.audio){const{id:$e,timescale:ze,codec:Ve}=Ue.audio;Ne.id=$e,Ne.timescale=ze,Ne.codec=Ve}Fe.id=RemuxerTrackIdConfig.text,Oe.sampleDuration=0,Oe.duration=Ne.duration=Ie}resetContiguity(){this.remainderData=null}static probe(pe){return hasMoofData(pe)}demux(pe,_e){this.timeOffset=_e;let Ce=pe;const Ie=this.videoTrack,Oe=this.txtTrack;if(this.config.progressive){this.remainderData&&(Ce=appendUint8Array(this.remainderData,pe));const Fe=segmentValidRange(Ce);this.remainderData=Fe.remainder,Ie.samples=Fe.valid||new Uint8Array}else Ie.samples=Ce;const Ne=this.extractID3Track(Ie,_e);return Oe.samples=parseSamples(_e,Ie),{videoTrack:Ie,audioTrack:this.audioTrack,id3Track:Ne,textTrack:this.txtTrack}}flush(){const pe=this.timeOffset,_e=this.videoTrack,Ce=this.txtTrack;_e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const Ie=this.extractID3Track(_e,this.timeOffset);return Ce.samples=parseSamples(pe,_e),{videoTrack:_e,audioTrack:dummyTrack(),id3Track:Ie,textTrack:dummyTrack()}}extractID3Track(pe,_e){const Ce=this.id3Track;if(pe.samples.length){const Ie=findBox(pe.samples,["emsg"]);Ie&&Ie.forEach(Oe=>{const Ne=parseEmsg(Oe);if(emsgSchemePattern.test(Ne.schemeIdUri)){const Fe=isFiniteNumber(Ne.presentationTime)?Ne.presentationTime/Ne.timeScale:_e+Ne.presentationTimeDelta/Ne.timeScale;let Ue=Ne.eventDuration===4294967295?Number.POSITIVE_INFINITY:Ne.eventDuration/Ne.timeScale;Ue<=.001&&(Ue=Number.POSITIVE_INFINITY);const $e=Ne.payload;Ce.samples.push({data:$e,len:$e.byteLength,dts:Fe,pts:Fe,type:MetadataSchema.emsg,duration:Ue})}})}return Ce}demuxSampleAes(pe,_e,Ce){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const getAudioBSID=(xe,pe)=>{let _e=0,Ce=5;pe+=Ce;const Ie=new Uint32Array(1),Oe=new Uint32Array(1),Ne=new Uint8Array(1);for(;Ce>0;){Ne[0]=xe[pe];const Fe=Math.min(Ce,8),Ue=8-Fe;Oe[0]=4278190080>>>24+Ue<<Ue,Ie[0]=(Ne[0]&Oe[0])>>Ue,_e=_e?_e<<Fe|Ie[0]:Ie[0],pe+=1,Ce-=Fe}return _e};class AC3Demuxer extends BaseAudioDemuxer{constructor(pe){super(),this.observer=void 0,this.observer=pe}resetInitSegment(pe,_e,Ce,Ie){super.resetInitSegment(pe,_e,Ce,Ie),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:_e,duration:Ie,inputTimeScale:9e4,dropped:0}}canParse(pe,_e){return _e+64<pe.length}appendFrame(pe,_e,Ce){const Ie=appendFrame(pe,_e,Ce,this.basePTS,this.frameIndex);if(Ie!==-1)return{sample:pe.samples[pe.samples.length-1],length:Ie,missing:0}}static probe(pe){if(!pe)return!1;const _e=getID3Data(pe,0);if(!_e)return!1;const Ce=_e.length;return pe[Ce]===11&&pe[Ce+1]===119&&getTimeStamp(_e)!==void 0&&getAudioBSID(pe,Ce)<16}}function appendFrame(xe,pe,_e,Ce,Ie){if(_e+8>pe.length||pe[_e]!==11||pe[_e+1]!==119)return-1;const Oe=pe[_e+4]>>6;if(Oe>=3)return-1;const Fe=[48e3,44100,32e3][Oe],Ue=pe[_e+4]&63,ze=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][Ue*3+Oe]*2;if(_e+ze>pe.length)return-1;const Ve=pe[_e+6]>>5;let qe=0;Ve===2?qe+=2:(Ve&1&&Ve!==1&&(qe+=2),Ve&4&&(qe+=2));const En=(pe[_e+6]<<8|pe[_e+7])>>12-qe&1,hn=[2,1,2,3,3,4,4,5][Ve]+En,_n=pe[_e+5]>>3,bn=pe[_e+5]&7,An=new Uint8Array([Oe<<6|_n<<1|bn>>2,(bn&3)<<6|Ve<<3|En<<2|Ue>>4,Ue<<4&224]),xn=1536/Fe*9e4,Sn=Ce+Ie*xn,Cn=pe.subarray(_e,_e+ze);return xe.config=An,xe.channelCount=hn,xe.samplerate=Fe,xe.samples.push({unit:Cn,pts:Sn}),ze}class BaseVideoParser{constructor(){this.VideoSample=null}createVideoSample(pe,_e,Ce,Ie){return{key:pe,frame:!1,pts:_e,dts:Ce,units:[],debug:Ie,length:0}}getLastNalUnit(pe){var _e;let Ce=this.VideoSample,Ie;if((!Ce||Ce.units.length===0)&&(Ce=pe[pe.length-1]),(_e=Ce)!=null&&_e.units){const Oe=Ce.units;Ie=Oe[Oe.length-1]}return Ie}pushAccessUnit(pe,_e){if(pe.units.length&&pe.frame){if(pe.pts===void 0){const Ce=_e.samples,Ie=Ce.length;if(Ie){const Oe=Ce[Ie-1];pe.pts=Oe.pts,pe.dts=Oe.dts}else{_e.dropped++;return}}_e.samples.push(pe)}pe.debug.length&&logger.log(pe.pts+"/"+pe.dts+":"+pe.debug)}}class ExpGolomb{constructor(pe){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=pe,this.bytesAvailable=pe.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const pe=this.data,_e=this.bytesAvailable,Ce=pe.byteLength-_e,Ie=new Uint8Array(4),Oe=Math.min(4,_e);if(Oe===0)throw new Error("no bytes available");Ie.set(pe.subarray(Ce,Ce+Oe)),this.word=new DataView(Ie.buffer).getUint32(0),this.bitsAvailable=Oe*8,this.bytesAvailable-=Oe}skipBits(pe){let _e;pe=Math.min(pe,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>pe?(this.word<<=pe,this.bitsAvailable-=pe):(pe-=this.bitsAvailable,_e=pe>>3,pe-=_e<<3,this.bytesAvailable-=_e,this.loadWord(),this.word<<=pe,this.bitsAvailable-=pe)}readBits(pe){let _e=Math.min(this.bitsAvailable,pe);const Ce=this.word>>>32-_e;if(pe>32&&logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=_e,this.bitsAvailable>0)this.word<<=_e;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return _e=pe-_e,_e>0&&this.bitsAvailable?Ce<<_e|this.readBits(_e):Ce}skipLZ(){let pe;for(pe=0;pe<this.bitsAvailable;++pe)if(this.word&2147483648>>>pe)return this.word<<=pe,this.bitsAvailable-=pe,pe;return this.loadWord(),pe+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const pe=this.skipLZ();return this.readBits(pe+1)-1}readEG(){const pe=this.readUEG();return 1&pe?1+pe>>>1:-1*(pe>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(pe){let _e=8,Ce=8,Ie;for(let Oe=0;Oe<pe;Oe++)Ce!==0&&(Ie=this.readEG(),Ce=(_e+Ie+256)%256),_e=Ce===0?_e:Ce}readSPS(){let pe=0,_e=0,Ce=0,Ie=0,Oe,Ne,Fe;const Ue=this.readUByte.bind(this),$e=this.readBits.bind(this),ze=this.readUEG.bind(this),Ve=this.readBoolean.bind(this),qe=this.skipBits.bind(this),En=this.skipEG.bind(this),vn=this.skipUEG.bind(this),hn=this.skipScalingList.bind(this);Ue();const _n=Ue();if($e(5),qe(3),Ue(),vn(),_n===100||_n===110||_n===122||_n===244||_n===44||_n===83||_n===86||_n===118||_n===128){const Tn=ze();if(Tn===3&&qe(1),vn(),vn(),qe(1),Ve())for(Ne=Tn!==3?8:12,Fe=0;Fe<Ne;Fe++)Ve()&&(Fe<6?hn(16):hn(64))}vn();const bn=ze();if(bn===0)ze();else if(bn===1)for(qe(1),En(),En(),Oe=ze(),Fe=0;Fe<Oe;Fe++)En();vn(),qe(1);const An=ze(),xn=ze(),Sn=$e(1);Sn===0&&qe(1),qe(1),Ve()&&(pe=ze(),_e=ze(),Ce=ze(),Ie=ze());let Cn=[1,1];if(Ve()&&Ve())switch(Ue()){case 1:Cn=[1,1];break;case 2:Cn=[12,11];break;case 3:Cn=[10,11];break;case 4:Cn=[16,11];break;case 5:Cn=[40,33];break;case 6:Cn=[24,11];break;case 7:Cn=[20,11];break;case 8:Cn=[32,11];break;case 9:Cn=[80,33];break;case 10:Cn=[18,11];break;case 11:Cn=[15,11];break;case 12:Cn=[64,33];break;case 13:Cn=[160,99];break;case 14:Cn=[4,3];break;case 15:Cn=[3,2];break;case 16:Cn=[2,1];break;case 255:{Cn=[Ue()<<8|Ue(),Ue()<<8|Ue()];break}}return{width:Math.ceil((An+1)*16-pe*2-_e*2),height:(2-Sn)*(xn+1)*16-(Sn?2:4)*(Ce+Ie),pixelRatio:Cn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class AvcVideoParser extends BaseVideoParser{parseAVCPES(pe,_e,Ce,Ie,Oe){const Ne=this.parseAVCNALu(pe,Ce.data);let Fe=this.VideoSample,Ue,$e=!1;Ce.data=null,Fe&&Ne.length&&!pe.audFound&&(this.pushAccessUnit(Fe,pe),Fe=this.VideoSample=this.createVideoSample(!1,Ce.pts,Ce.dts,"")),Ne.forEach(ze=>{var Ve;switch(ze.type){case 1:{let hn=!1;Ue=!0;const _n=ze.data;if($e&&_n.length>4){const bn=new ExpGolomb(_n).readSliceType();(bn===2||bn===4||bn===7||bn===9)&&(hn=!0)}if(hn){var qe;(qe=Fe)!=null&&qe.frame&&!Fe.key&&(this.pushAccessUnit(Fe,pe),Fe=this.VideoSample=null)}Fe||(Fe=this.VideoSample=this.createVideoSample(!0,Ce.pts,Ce.dts,"")),Fe.frame=!0,Fe.key=hn;break}case 5:Ue=!0,(Ve=Fe)!=null&&Ve.frame&&!Fe.key&&(this.pushAccessUnit(Fe,pe),Fe=this.VideoSample=null),Fe||(Fe=this.VideoSample=this.createVideoSample(!0,Ce.pts,Ce.dts,"")),Fe.key=!0,Fe.frame=!0;break;case 6:{Ue=!0,parseSEIMessageFromNALu(ze.data,1,Ce.pts,_e.samples);break}case 7:{var En,vn;Ue=!0,$e=!0;const hn=ze.data,bn=new ExpGolomb(hn).readSPS();if(!pe.sps||pe.width!==bn.width||pe.height!==bn.height||((En=pe.pixelRatio)==null?void 0:En[0])!==bn.pixelRatio[0]||((vn=pe.pixelRatio)==null?void 0:vn[1])!==bn.pixelRatio[1]){pe.width=bn.width,pe.height=bn.height,pe.pixelRatio=bn.pixelRatio,pe.sps=[hn],pe.duration=Oe;const An=hn.subarray(1,4);let xn="avc1.";for(let Sn=0;Sn<3;Sn++){let Cn=An[Sn].toString(16);Cn.length<2&&(Cn="0"+Cn),xn+=Cn}pe.codec=xn}break}case 8:Ue=!0,pe.pps=[ze.data];break;case 9:Ue=!0,pe.audFound=!0,Fe&&this.pushAccessUnit(Fe,pe),Fe=this.VideoSample=this.createVideoSample(!1,Ce.pts,Ce.dts,"");break;case 12:Ue=!0;break;default:Ue=!1,Fe&&(Fe.debug+="unknown NAL "+ze.type+" ");break}Fe&&Ue&&Fe.units.push(ze)}),Ie&&Fe&&(this.pushAccessUnit(Fe,pe),this.VideoSample=null)}parseAVCNALu(pe,_e){const Ce=_e.byteLength;let Ie=pe.naluState||0;const Oe=Ie,Ne=[];let Fe=0,Ue,$e,ze,Ve=-1,qe=0;for(Ie===-1&&(Ve=0,qe=_e[0]&31,Ie=0,Fe=1);Fe<Ce;){if(Ue=_e[Fe++],!Ie){Ie=Ue?0:1;continue}if(Ie===1){Ie=Ue?0:2;continue}if(!Ue)Ie=3;else if(Ue===1){if($e=Fe-Ie-1,Ve>=0){const En={data:_e.subarray(Ve,$e),type:qe};Ne.push(En)}else{const En=this.getLastNalUnit(pe.samples);En&&(Oe&&Fe<=4-Oe&&En.state&&(En.data=En.data.subarray(0,En.data.byteLength-Oe)),$e>0&&(En.data=appendUint8Array(En.data,_e.subarray(0,$e)),En.state=0))}Fe<Ce?(ze=_e[Fe]&31,Ve=Fe,qe=ze,Ie=0):Ie=-1}else Ie=0}if(Ve>=0&&Ie>=0){const En={data:_e.subarray(Ve,Ce),type:qe,state:Ie};Ne.push(En)}if(Ne.length===0){const En=this.getLastNalUnit(pe.samples);En&&(En.data=appendUint8Array(En.data,_e))}return pe.naluState=Ie,Ne}}class SampleAesDecrypter{constructor(pe,_e,Ce){this.keyData=void 0,this.decrypter=void 0,this.keyData=Ce,this.decrypter=new Decrypter(_e,{removePKCS7Padding:!1})}decryptBuffer(pe){return this.decrypter.decrypt(pe,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(pe,_e,Ce){const Ie=pe[_e].unit;if(Ie.length<=16)return;const Oe=Ie.subarray(16,Ie.length-Ie.length%16),Ne=Oe.buffer.slice(Oe.byteOffset,Oe.byteOffset+Oe.length);this.decryptBuffer(Ne).then(Fe=>{const Ue=new Uint8Array(Fe);Ie.set(Ue,16),this.decrypter.isSync()||this.decryptAacSamples(pe,_e+1,Ce)})}decryptAacSamples(pe,_e,Ce){for(;;_e++){if(_e>=pe.length){Ce();return}if(!(pe[_e].unit.length<32)&&(this.decryptAacSample(pe,_e,Ce),!this.decrypter.isSync()))return}}getAvcEncryptedData(pe){const _e=Math.floor((pe.length-48)/160)*16+16,Ce=new Int8Array(_e);let Ie=0;for(let Oe=32;Oe<pe.length-16;Oe+=160,Ie+=16)Ce.set(pe.subarray(Oe,Oe+16),Ie);return Ce}getAvcDecryptedUnit(pe,_e){const Ce=new Uint8Array(_e);let Ie=0;for(let Oe=32;Oe<pe.length-16;Oe+=160,Ie+=16)pe.set(Ce.subarray(Ie,Ie+16),Oe);return pe}decryptAvcSample(pe,_e,Ce,Ie,Oe){const Ne=discardEPB(Oe.data),Fe=this.getAvcEncryptedData(Ne);this.decryptBuffer(Fe.buffer).then(Ue=>{Oe.data=this.getAvcDecryptedUnit(Ne,Ue),this.decrypter.isSync()||this.decryptAvcSamples(pe,_e,Ce+1,Ie)})}decryptAvcSamples(pe,_e,Ce,Ie){if(pe instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;_e++,Ce=0){if(_e>=pe.length){Ie();return}const Oe=pe[_e].units;for(;!(Ce>=Oe.length);Ce++){const Ne=Oe[Ce];if(!(Ne.data.length<=48||Ne.type!==1&&Ne.type!==5)&&(this.decryptAvcSample(pe,_e,Ce,Ie,Ne),!this.decrypter.isSync()))return}}}}const PACKET_LENGTH=188;class TSDemuxer{constructor(pe,_e,Ce){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=pe,this.config=_e,this.typeSupported=Ce,this.videoParser=new AvcVideoParser}static probe(pe){const _e=TSDemuxer.syncOffset(pe);return _e>0&&logger.warn("MPEG2-TS detected but first sync word found @ offset ".concat(_e)),_e!==-1}static syncOffset(pe){const _e=pe.length;let Ce=Math.min(PACKET_LENGTH*5,_e-PACKET_LENGTH)+1,Ie=0;for(;Ie<Ce;){let Oe=!1,Ne=-1,Fe=0;for(let Ue=Ie;Ue<_e;Ue+=PACKET_LENGTH)if(pe[Ue]===71&&(_e-Ue===PACKET_LENGTH||pe[Ue+PACKET_LENGTH]===71)){if(Fe++,Ne===-1&&(Ne=Ue,Ne!==0&&(Ce=Math.min(Ne+PACKET_LENGTH*99,pe.length-PACKET_LENGTH)+1)),Oe||(Oe=parsePID(pe,Ue)===0),Oe&&Fe>1&&(Ne===0&&Fe>2||Ue+PACKET_LENGTH>Ce))return Ne}else{if(Fe)return-1;break}Ie++}return-1}static createTrack(pe,_e){return{container:pe==="video"||pe==="audio"?"video/mp2t":void 0,type:pe,id:RemuxerTrackIdConfig[pe],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:pe==="audio"?_e:void 0}}resetInitSegment(pe,_e,Ce,Ie){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=TSDemuxer.createTrack("video"),this._audioTrack=TSDemuxer.createTrack("audio",Ie),this._id3Track=TSDemuxer.createTrack("id3"),this._txtTrack=TSDemuxer.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=_e,this.videoCodec=Ce,this._duration=Ie}resetTimeStamp(){}resetContiguity(){const{_audioTrack:pe,_videoTrack:_e,_id3Track:Ce}=this;pe&&(pe.pesData=null),_e&&(_e.pesData=null),Ce&&(Ce.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(pe,_e,Ce=!1,Ie=!1){Ce||(this.sampleAes=null);let Oe;const Ne=this._videoTrack,Fe=this._audioTrack,Ue=this._id3Track,$e=this._txtTrack;let ze=Ne.pid,Ve=Ne.pesData,qe=Fe.pid,En=Ue.pid,vn=Fe.pesData,hn=Ue.pesData,_n=null,bn=this.pmtParsed,An=this._pmtId,xn=pe.length;if(this.remainderData&&(pe=appendUint8Array(this.remainderData,pe),xn=pe.length,this.remainderData=null),xn<PACKET_LENGTH&&!Ie)return this.remainderData=pe,{audioTrack:Fe,videoTrack:Ne,id3Track:Ue,textTrack:$e};const Sn=Math.max(0,TSDemuxer.syncOffset(pe));xn-=(xn-Sn)%PACKET_LENGTH,xn<pe.byteLength&&!Ie&&(this.remainderData=new Uint8Array(pe.buffer,xn,pe.buffer.byteLength-xn));let Cn=0;for(let wn=Sn;wn<xn;wn+=PACKET_LENGTH)if(pe[wn]===71){const Ln=!!(pe[wn+1]&64),Pn=parsePID(pe,wn),kn=(pe[wn+3]&48)>>4;let In;if(kn>1){if(In=wn+5+pe[wn+4],In===wn+PACKET_LENGTH)continue}else In=wn+4;switch(Pn){case ze:Ln&&(Ve&&(Oe=parsePES(Ve))&&this.videoParser.parseAVCPES(Ne,$e,Oe,!1,this._duration),Ve={data:[],size:0}),Ve&&(Ve.data.push(pe.subarray(In,wn+PACKET_LENGTH)),Ve.size+=wn+PACKET_LENGTH-In);break;case qe:if(Ln){if(vn&&(Oe=parsePES(vn)))switch(Fe.segmentCodec){case"aac":this.parseAACPES(Fe,Oe);break;case"mp3":this.parseMPEGPES(Fe,Oe);break;case"ac3":this.parseAC3PES(Fe,Oe);break}vn={data:[],size:0}}vn&&(vn.data.push(pe.subarray(In,wn+PACKET_LENGTH)),vn.size+=wn+PACKET_LENGTH-In);break;case En:Ln&&(hn&&(Oe=parsePES(hn))&&this.parseID3PES(Ue,Oe),hn={data:[],size:0}),hn&&(hn.data.push(pe.subarray(In,wn+PACKET_LENGTH)),hn.size+=wn+PACKET_LENGTH-In);break;case 0:Ln&&(In+=pe[In]+1),An=this._pmtId=parsePAT(pe,In);break;case An:{Ln&&(In+=pe[In]+1);const Rn=parsePMT(pe,In,this.typeSupported,Ce,this.observer);ze=Rn.videoPid,ze>0&&(Ne.pid=ze,Ne.segmentCodec=Rn.segmentVideoCodec),qe=Rn.audioPid,qe>0&&(Fe.pid=qe,Fe.segmentCodec=Rn.segmentAudioCodec),En=Rn.id3Pid,En>0&&(Ue.pid=En),_n!==null&&!bn&&(logger.warn("MPEG-TS PMT found at ".concat(wn," after unknown PID '").concat(_n,"'. Backtracking to sync byte @").concat(Sn," to parse all TS packets.")),_n=null,wn=Sn-188),bn=this.pmtParsed=!0;break}case 17:case 8191:break;default:_n=Pn;break}}else Cn++;Cn>0&&emitParsingError(this.observer,new Error("Found ".concat(Cn," TS packet/s that do not start with 0x47"))),Ne.pesData=Ve,Fe.pesData=vn,Ue.pesData=hn;const Tn={audioTrack:Fe,videoTrack:Ne,id3Track:Ue,textTrack:$e};return Ie&&this.extractRemainingSamples(Tn),Tn}flush(){const{remainderData:pe}=this;this.remainderData=null;let _e;return pe?_e=this.demux(pe,-1,!1,!0):_e={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(_e),this.sampleAes?this.decrypt(_e,this.sampleAes):_e}extractRemainingSamples(pe){const{audioTrack:_e,videoTrack:Ce,id3Track:Ie,textTrack:Oe}=pe,Ne=Ce.pesData,Fe=_e.pesData,Ue=Ie.pesData;let $e;if(Ne&&($e=parsePES(Ne))?(this.videoParser.parseAVCPES(Ce,Oe,$e,!0,this._duration),Ce.pesData=null):Ce.pesData=Ne,Fe&&($e=parsePES(Fe))){switch(_e.segmentCodec){case"aac":this.parseAACPES(_e,$e);break;case"mp3":this.parseMPEGPES(_e,$e);break;case"ac3":this.parseAC3PES(_e,$e);break}_e.pesData=null}else Fe!=null&&Fe.size&&logger.log("last AAC PES packet truncated,might overlap between fragments"),_e.pesData=Fe;Ue&&($e=parsePES(Ue))?(this.parseID3PES(Ie,$e),Ie.pesData=null):Ie.pesData=Ue}demuxSampleAes(pe,_e,Ce){const Ie=this.demux(pe,Ce,!0,!this.config.progressive),Oe=this.sampleAes=new SampleAesDecrypter(this.observer,this.config,_e);return this.decrypt(Ie,Oe)}decrypt(pe,_e){return new Promise(Ce=>{const{audioTrack:Ie,videoTrack:Oe}=pe;Ie.samples&&Ie.segmentCodec==="aac"?_e.decryptAacSamples(Ie.samples,0,()=>{Oe.samples?_e.decryptAvcSamples(Oe.samples,0,0,()=>{Ce(pe)}):Ce(pe)}):Oe.samples&&_e.decryptAvcSamples(Oe.samples,0,0,()=>{Ce(pe)})})}destroy(){this._duration=0}parseAACPES(pe,_e){let Ce=0;const Ie=this.aacOverFlow;let Oe=_e.data;if(Ie){this.aacOverFlow=null;const Ve=Ie.missing,qe=Ie.sample.unit.byteLength;if(Ve===-1)Oe=appendUint8Array(Ie.sample.unit,Oe);else{const En=qe-Ve;Ie.sample.unit.set(Oe.subarray(0,Ve),En),pe.samples.push(Ie.sample),Ce=Ie.missing}}let Ne,Fe;for(Ne=Ce,Fe=Oe.length;Ne<Fe-1&&!isHeader$1(Oe,Ne);Ne++);if(Ne!==Ce){let Ve;const qe=Ne<Fe-1;if(qe?Ve="AAC PES did not start with ADTS header,offset:".concat(Ne):Ve="No ADTS header found in AAC PES",emitParsingError(this.observer,new Error(Ve),qe),!qe)return}initTrackConfig(pe,this.observer,Oe,Ne,this.audioCodec);let Ue;if(_e.pts!==void 0)Ue=_e.pts;else if(Ie){const Ve=getFrameDuration(pe.samplerate);Ue=Ie.sample.pts+Ve}else{logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let $e=0,ze;for(;Ne<Fe;)if(ze=appendFrame$2(pe,Oe,Ne,Ue,$e),Ne+=ze.length,ze.missing){this.aacOverFlow=ze;break}else for($e++;Ne<Fe-1&&!isHeader$1(Oe,Ne);Ne++);}parseMPEGPES(pe,_e){const Ce=_e.data,Ie=Ce.length;let Oe=0,Ne=0;const Fe=_e.pts;if(Fe===void 0){logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;Ne<Ie;)if(isHeader(Ce,Ne)){const Ue=appendFrame$1(pe,Ce,Ne,Fe,Oe);if(Ue)Ne+=Ue.length,Oe++;else break}else Ne++}parseAC3PES(pe,_e){{const Ce=_e.data,Ie=_e.pts;if(Ie===void 0){logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const Oe=Ce.length;let Ne=0,Fe=0,Ue;for(;Fe<Oe&&(Ue=appendFrame(pe,Ce,Fe,Ie,Ne++))>0;)Fe+=Ue}}parseID3PES(pe,_e){if(_e.pts===void 0){logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const Ce=_extends({},_e,{type:this._videoTrack?MetadataSchema.emsg:MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});pe.samples.push(Ce)}}function parsePID(xe,pe){return((xe[pe+1]&31)<<8)+xe[pe+2]}function parsePAT(xe,pe){return(xe[pe+10]&31)<<8|xe[pe+11]}function parsePMT(xe,pe,_e,Ce,Ie){const Oe={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},Ne=(xe[pe+1]&15)<<8|xe[pe+2],Fe=pe+3+Ne-4,Ue=(xe[pe+10]&15)<<8|xe[pe+11];for(pe+=12+Ue;pe<Fe;){const $e=parsePID(xe,pe),ze=(xe[pe+3]&15)<<8|xe[pe+4];switch(xe[pe]){case 207:if(!Ce){logEncryptedSamplesFoundInUnencryptedStream("ADTS AAC");break}case 15:Oe.audioPid===-1&&(Oe.audioPid=$e);break;case 21:Oe.id3Pid===-1&&(Oe.id3Pid=$e);break;case 219:if(!Ce){logEncryptedSamplesFoundInUnencryptedStream("H.264");break}case 27:Oe.videoPid===-1&&(Oe.videoPid=$e,Oe.segmentVideoCodec="avc");break;case 3:case 4:!_e.mpeg&&!_e.mp3?logger.log("MPEG audio found, not supported in this browser"):Oe.audioPid===-1&&(Oe.audioPid=$e,Oe.segmentAudioCodec="mp3");break;case 193:if(!Ce){logEncryptedSamplesFoundInUnencryptedStream("AC-3");break}case 129:_e.ac3?Oe.audioPid===-1&&(Oe.audioPid=$e,Oe.segmentAudioCodec="ac3"):logger.log("AC-3 audio found, not supported in this browser");break;case 6:if(Oe.audioPid===-1&&ze>0){let Ve=pe+5,qe=ze;for(;qe>2;){switch(xe[Ve]){case 106:_e.ac3!==!0?logger.log("AC-3 audio found, not supported in this browser for now"):(Oe.audioPid=$e,Oe.segmentAudioCodec="ac3");break}const vn=xe[Ve+1]+2;Ve+=vn,qe-=vn}}break;case 194:case 135:return emitParsingError(Ie,new Error("Unsupported EC-3 in M2TS found")),Oe;case 36:return emitParsingError(Ie,new Error("Unsupported HEVC in M2TS found")),Oe}pe+=ze+5}return Oe}function emitParsingError(xe,pe,_e){logger.warn("parsing error: ".concat(pe.message)),xe.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,levelRetry:_e,error:pe,reason:pe.message})}function logEncryptedSamplesFoundInUnencryptedStream(xe){logger.log("".concat(xe," with AES-128-CBC encryption found in unencrypted stream"))}function parsePES(xe){let pe=0,_e,Ce,Ie,Oe,Ne;const Fe=xe.data;if(!xe||xe.size===0)return null;for(;Fe[0].length<19&&Fe.length>1;)Fe[0]=appendUint8Array(Fe[0],Fe[1]),Fe.splice(1,1);if(_e=Fe[0],(_e[0]<<16)+(_e[1]<<8)+_e[2]===1){if(Ce=(_e[4]<<8)+_e[5],Ce&&Ce>xe.size-6)return null;const $e=_e[7];$e&192&&(Oe=(_e[9]&14)*536870912+(_e[10]&255)*4194304+(_e[11]&254)*16384+(_e[12]&255)*128+(_e[13]&254)/2,$e&64?(Ne=(_e[14]&14)*536870912+(_e[15]&255)*4194304+(_e[16]&254)*16384+(_e[17]&255)*128+(_e[18]&254)/2,Oe-Ne>60*9e4&&(logger.warn("".concat(Math.round((Oe-Ne)/9e4),"s delta between PTS and DTS, align them")),Oe=Ne)):Ne=Oe),Ie=_e[8];let ze=Ie+9;if(xe.size<=ze)return null;xe.size-=ze;const Ve=new Uint8Array(xe.size);for(let qe=0,En=Fe.length;qe<En;qe++){_e=Fe[qe];let vn=_e.byteLength;if(ze)if(ze>vn){ze-=vn;continue}else _e=_e.subarray(ze),vn-=ze,ze=0;Ve.set(_e,pe),pe+=vn}return Ce&&(Ce-=Ie+3),{data:Ve,pts:Oe,dts:Ne,len:Ce}}return null}class MP3Demuxer extends BaseAudioDemuxer{resetInitSegment(pe,_e,Ce,Ie){super.resetInitSegment(pe,_e,Ce,Ie),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:_e,duration:Ie,inputTimeScale:9e4,dropped:0}}static probe(pe){if(!pe)return!1;const _e=getID3Data(pe,0);let Ce=(_e==null?void 0:_e.length)||0;if(_e&&pe[Ce]===11&&pe[Ce+1]===119&&getTimeStamp(_e)!==void 0&&getAudioBSID(pe,Ce)<=16)return!1;for(let Ie=pe.length;Ce<Ie;Ce++)if(probe(pe,Ce))return logger.log("MPEG Audio sync word found !"),!0;return!1}canParse(pe,_e){return canParse(pe,_e)}appendFrame(pe,_e,Ce){if(this.basePTS!==null)return appendFrame$1(pe,_e,Ce,this.basePTS,this.frameIndex)}}class AAC{static getSilentFrame(pe,_e){switch(pe){case"mp4a.40.2":if(_e===1)return new Uint8Array([0,200,0,128,35,128]);if(_e===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(_e===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(_e===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(_e===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(_e===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(_e===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(_e===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(_e===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const UINT32_MAX=Math.pow(2,32)-1;class MP4{static init(){MP4.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let pe;for(pe in MP4.types)MP4.types.hasOwnProperty(pe)&&(MP4.types[pe]=[pe.charCodeAt(0),pe.charCodeAt(1),pe.charCodeAt(2),pe.charCodeAt(3)]);const _e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ce=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);MP4.HDLR_TYPES={video:_e,audio:Ce};const Ie=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Oe=new Uint8Array([0,0,0,0,0,0,0,0]);MP4.STTS=MP4.STSC=MP4.STCO=Oe,MP4.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),MP4.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),MP4.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),MP4.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const Ne=new Uint8Array([105,115,111,109]),Fe=new Uint8Array([97,118,99,49]),Ue=new Uint8Array([0,0,0,1]);MP4.FTYP=MP4.box(MP4.types.ftyp,Ne,Ue,Ne,Fe),MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,Ie))}static box(pe,..._e){let Ce=8,Ie=_e.length;const Oe=Ie;for(;Ie--;)Ce+=_e[Ie].byteLength;const Ne=new Uint8Array(Ce);for(Ne[0]=Ce>>24&255,Ne[1]=Ce>>16&255,Ne[2]=Ce>>8&255,Ne[3]=Ce&255,Ne.set(pe,4),Ie=0,Ce=8;Ie<Oe;Ie++)Ne.set(_e[Ie],Ce),Ce+=_e[Ie].byteLength;return Ne}static hdlr(pe){return MP4.box(MP4.types.hdlr,MP4.HDLR_TYPES[pe])}static mdat(pe){return MP4.box(MP4.types.mdat,pe)}static mdhd(pe,_e){_e*=pe;const Ce=Math.floor(_e/(UINT32_MAX+1)),Ie=Math.floor(_e%(UINT32_MAX+1));return MP4.box(MP4.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,pe>>24&255,pe>>16&255,pe>>8&255,pe&255,Ce>>24,Ce>>16&255,Ce>>8&255,Ce&255,Ie>>24,Ie>>16&255,Ie>>8&255,Ie&255,85,196,0,0]))}static mdia(pe){return MP4.box(MP4.types.mdia,MP4.mdhd(pe.timescale,pe.duration),MP4.hdlr(pe.type),MP4.minf(pe))}static mfhd(pe){return MP4.box(MP4.types.mfhd,new Uint8Array([0,0,0,0,pe>>24,pe>>16&255,pe>>8&255,pe&255]))}static minf(pe){return pe.type==="audio"?MP4.box(MP4.types.minf,MP4.box(MP4.types.smhd,MP4.SMHD),MP4.DINF,MP4.stbl(pe)):MP4.box(MP4.types.minf,MP4.box(MP4.types.vmhd,MP4.VMHD),MP4.DINF,MP4.stbl(pe))}static moof(pe,_e,Ce){return MP4.box(MP4.types.moof,MP4.mfhd(pe),MP4.traf(Ce,_e))}static moov(pe){let _e=pe.length;const Ce=[];for(;_e--;)Ce[_e]=MP4.trak(pe[_e]);return MP4.box.apply(null,[MP4.types.moov,MP4.mvhd(pe[0].timescale,pe[0].duration)].concat(Ce).concat(MP4.mvex(pe)))}static mvex(pe){let _e=pe.length;const Ce=[];for(;_e--;)Ce[_e]=MP4.trex(pe[_e]);return MP4.box.apply(null,[MP4.types.mvex,...Ce])}static mvhd(pe,_e){_e*=pe;const Ce=Math.floor(_e/(UINT32_MAX+1)),Ie=Math.floor(_e%(UINT32_MAX+1)),Oe=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,pe>>24&255,pe>>16&255,pe>>8&255,pe&255,Ce>>24,Ce>>16&255,Ce>>8&255,Ce&255,Ie>>24,Ie>>16&255,Ie>>8&255,Ie&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return MP4.box(MP4.types.mvhd,Oe)}static sdtp(pe){const _e=pe.samples||[],Ce=new Uint8Array(4+_e.length);let Ie,Oe;for(Ie=0;Ie<_e.length;Ie++)Oe=_e[Ie].flags,Ce[Ie+4]=Oe.dependsOn<<4|Oe.isDependedOn<<2|Oe.hasRedundancy;return MP4.box(MP4.types.sdtp,Ce)}static stbl(pe){return MP4.box(MP4.types.stbl,MP4.stsd(pe),MP4.box(MP4.types.stts,MP4.STTS),MP4.box(MP4.types.stsc,MP4.STSC),MP4.box(MP4.types.stsz,MP4.STSZ),MP4.box(MP4.types.stco,MP4.STCO))}static avc1(pe){let _e=[],Ce=[],Ie,Oe,Ne;for(Ie=0;Ie<pe.sps.length;Ie++)Oe=pe.sps[Ie],Ne=Oe.byteLength,_e.push(Ne>>>8&255),_e.push(Ne&255),_e=_e.concat(Array.prototype.slice.call(Oe));for(Ie=0;Ie<pe.pps.length;Ie++)Oe=pe.pps[Ie],Ne=Oe.byteLength,Ce.push(Ne>>>8&255),Ce.push(Ne&255),Ce=Ce.concat(Array.prototype.slice.call(Oe));const Fe=MP4.box(MP4.types.avcC,new Uint8Array([1,_e[3],_e[4],_e[5],255,224|pe.sps.length].concat(_e).concat([pe.pps.length]).concat(Ce))),Ue=pe.width,$e=pe.height,ze=pe.pixelRatio[0],Ve=pe.pixelRatio[1];return MP4.box(MP4.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Ue>>8&255,Ue&255,$e>>8&255,$e&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Fe,MP4.box(MP4.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),MP4.box(MP4.types.pasp,new Uint8Array([ze>>24,ze>>16&255,ze>>8&255,ze&255,Ve>>24,Ve>>16&255,Ve>>8&255,Ve&255])))}static esds(pe){const _e=pe.config.length;return new Uint8Array([0,0,0,0,3,23+_e,0,1,0,4,15+_e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([_e]).concat(pe.config).concat([6,1,2]))}static audioStsd(pe){const _e=pe.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,pe.channelCount,0,16,0,0,0,0,_e>>8&255,_e&255,0,0])}static mp4a(pe){return MP4.box(MP4.types.mp4a,MP4.audioStsd(pe),MP4.box(MP4.types.esds,MP4.esds(pe)))}static mp3(pe){return MP4.box(MP4.types[".mp3"],MP4.audioStsd(pe))}static ac3(pe){return MP4.box(MP4.types["ac-3"],MP4.audioStsd(pe),MP4.box(MP4.types.dac3,pe.config))}static stsd(pe){return pe.type==="audio"?pe.segmentCodec==="mp3"&&pe.codec==="mp3"?MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp3(pe)):pe.segmentCodec==="ac3"?MP4.box(MP4.types.stsd,MP4.STSD,MP4.ac3(pe)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp4a(pe)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.avc1(pe))}static tkhd(pe){const _e=pe.id,Ce=pe.duration*pe.timescale,Ie=pe.width,Oe=pe.height,Ne=Math.floor(Ce/(UINT32_MAX+1)),Fe=Math.floor(Ce%(UINT32_MAX+1));return MP4.box(MP4.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_e>>24&255,_e>>16&255,_e>>8&255,_e&255,0,0,0,0,Ne>>24,Ne>>16&255,Ne>>8&255,Ne&255,Fe>>24,Fe>>16&255,Fe>>8&255,Fe&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,Ie>>8&255,Ie&255,0,0,Oe>>8&255,Oe&255,0,0]))}static traf(pe,_e){const Ce=MP4.sdtp(pe),Ie=pe.id,Oe=Math.floor(_e/(UINT32_MAX+1)),Ne=Math.floor(_e%(UINT32_MAX+1));return MP4.box(MP4.types.traf,MP4.box(MP4.types.tfhd,new Uint8Array([0,0,0,0,Ie>>24,Ie>>16&255,Ie>>8&255,Ie&255])),MP4.box(MP4.types.tfdt,new Uint8Array([1,0,0,0,Oe>>24,Oe>>16&255,Oe>>8&255,Oe&255,Ne>>24,Ne>>16&255,Ne>>8&255,Ne&255])),MP4.trun(pe,Ce.length+16+20+8+16+8+8),Ce)}static trak(pe){return pe.duration=pe.duration||4294967295,MP4.box(MP4.types.trak,MP4.tkhd(pe),MP4.mdia(pe))}static trex(pe){const _e=pe.id;return MP4.box(MP4.types.trex,new Uint8Array([0,0,0,0,_e>>24,_e>>16&255,_e>>8&255,_e&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(pe,_e){const Ce=pe.samples||[],Ie=Ce.length,Oe=12+16*Ie,Ne=new Uint8Array(Oe);let Fe,Ue,$e,ze,Ve,qe;for(_e+=8+Oe,Ne.set([pe.type==="video"?1:0,0,15,1,Ie>>>24&255,Ie>>>16&255,Ie>>>8&255,Ie&255,_e>>>24&255,_e>>>16&255,_e>>>8&255,_e&255],0),Fe=0;Fe<Ie;Fe++)Ue=Ce[Fe],$e=Ue.duration,ze=Ue.size,Ve=Ue.flags,qe=Ue.cts,Ne.set([$e>>>24&255,$e>>>16&255,$e>>>8&255,$e&255,ze>>>24&255,ze>>>16&255,ze>>>8&255,ze&255,Ve.isLeading<<2|Ve.dependsOn,Ve.isDependedOn<<6|Ve.hasRedundancy<<4|Ve.paddingValue<<1|Ve.isNonSync,Ve.degradPrio&61440,Ve.degradPrio&15,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255],12+16*Fe);return MP4.box(MP4.types.trun,Ne)}static initSegment(pe){MP4.types||MP4.init();const _e=MP4.moov(pe);return appendUint8Array(MP4.FTYP,_e)}}MP4.types=void 0;MP4.HDLR_TYPES=void 0;MP4.STTS=void 0;MP4.STSC=void 0;MP4.STCO=void 0;MP4.STSZ=void 0;MP4.VMHD=void 0;MP4.SMHD=void 0;MP4.STSD=void 0;MP4.FTYP=void 0;MP4.DINF=void 0;const MPEG_TS_CLOCK_FREQ_HZ=9e4;function toTimescaleFromBase(xe,pe,_e=1,Ce=!1){const Ie=xe*pe*_e;return Ce?Math.round(Ie):Ie}function toTimescaleFromScale(xe,pe,_e=1,Ce=!1){return toTimescaleFromBase(xe,pe,1/_e,Ce)}function toMsFromMpegTsClock(xe,pe=!1){return toTimescaleFromBase(xe,1e3,1/MPEG_TS_CLOCK_FREQ_HZ,pe)}function toMpegTsClockFromTimescale(xe,pe=1){return toTimescaleFromBase(xe,MPEG_TS_CLOCK_FREQ_HZ,1/pe)}const MAX_SILENT_FRAME_DURATION=10*1e3,AAC_SAMPLES_PER_FRAME=1024,MPEG_AUDIO_SAMPLE_PER_FRAME=1152,AC3_SAMPLES_PER_FRAME=1536;let chromeVersion=null,safariWebkitVersion=null;class MP4Remuxer{constructor(pe,_e,Ce,Ie=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=pe,this.config=_e,this.typeSupported=Ce,this.ISGenerated=!1,chromeVersion===null){const Ne=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);chromeVersion=Ne?parseInt(Ne[1]):0}if(safariWebkitVersion===null){const Oe=navigator.userAgent.match(/Safari\/(\d+)/i);safariWebkitVersion=Oe?parseInt(Oe[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(pe){logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=pe}resetNextTimestamp(){logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(pe){let _e=!1;const Ce=pe.reduce((Ie,Oe)=>{const Ne=Oe.pts-Ie;return Ne<-4294967296?(_e=!0,normalizePts(Ie,Oe.pts)):Ne>0?Ie:Oe.pts},pe[0].pts);return _e&&logger.debug("PTS rollover detected"),Ce}remux(pe,_e,Ce,Ie,Oe,Ne,Fe,Ue){let $e,ze,Ve,qe,En,vn,hn=Oe,_n=Oe;const bn=pe.pid>-1,An=_e.pid>-1,xn=_e.samples.length,Sn=pe.samples.length>0,Cn=Fe&&xn>0||xn>1;if((!bn||Sn)&&(!An||Cn)||this.ISGenerated||Fe){if(this.ISGenerated){var wn,Ln,Pn,kn;const On=this.videoTrackConfig;On&&(_e.width!==On.width||_e.height!==On.height||((wn=_e.pixelRatio)==null?void 0:wn[0])!==((Ln=On.pixelRatio)==null?void 0:Ln[0])||((Pn=_e.pixelRatio)==null?void 0:Pn[1])!==((kn=On.pixelRatio)==null?void 0:kn[1]))&&this.resetInitSegment()}else Ve=this.generateIS(pe,_e,Oe,Ne);const In=this.isVideoContiguous;let Rn=-1,Nn;if(Cn&&(Rn=findKeyframeIndex(_e.samples),!In&&this.config.forceKeyFrameOnDiscontinuity))if(vn=!0,Rn>0){logger.warn("[mp4-remuxer]: Dropped ".concat(Rn," out of ").concat(xn," video samples due to a missing keyframe"));const On=this.getVideoStartPts(_e.samples);_e.samples=_e.samples.slice(Rn),_e.dropped+=Rn,_n+=(_e.samples[0].pts-On)/_e.inputTimeScale,Nn=_n}else Rn===-1&&(logger.warn("[mp4-remuxer]: No keyframe found out of ".concat(xn," video samples")),vn=!1);if(this.ISGenerated){if(Sn&&Cn){const On=this.getVideoStartPts(_e.samples),Mn=(normalizePts(pe.samples[0].pts,On)-On)/_e.inputTimeScale;hn+=Math.max(0,Mn),_n+=Math.max(0,-Mn)}if(Sn){if(pe.samplerate||(logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Ve=this.generateIS(pe,_e,Oe,Ne)),ze=this.remuxAudio(pe,hn,this.isAudioContiguous,Ne,An||Cn||Ue===PlaylistLevelType.AUDIO?_n:void 0),Cn){const On=ze?ze.endPTS-ze.startPTS:0;_e.inputTimeScale||(logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Ve=this.generateIS(pe,_e,Oe,Ne)),$e=this.remuxVideo(_e,_n,In,On)}}else Cn&&($e=this.remuxVideo(_e,_n,In,0));$e&&($e.firstKeyFrame=Rn,$e.independent=Rn!==-1,$e.firstKeyFramePTS=Nn)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(Ce.samples.length&&(En=flushTextTrackMetadataCueSamples(Ce,Oe,this._initPTS,this._initDTS)),Ie.samples.length&&(qe=flushTextTrackUserdataCueSamples(Ie,Oe,this._initPTS))),{audio:ze,video:$e,initSegment:Ve,independent:vn,text:qe,id3:En}}generateIS(pe,_e,Ce,Ie){const Oe=pe.samples,Ne=_e.samples,Fe=this.typeSupported,Ue={},$e=this._initPTS;let ze=!$e||Ie,Ve="audio/mp4",qe,En,vn;if(ze&&(qe=En=1/0),pe.config&&Oe.length){switch(pe.timescale=pe.samplerate,pe.segmentCodec){case"mp3":Fe.mpeg?(Ve="audio/mpeg",pe.codec=""):Fe.mp3&&(pe.codec="mp3");break;case"ac3":pe.codec="ac-3";break}Ue.audio={id:"audio",container:Ve,codec:pe.codec,initSegment:pe.segmentCodec==="mp3"&&Fe.mpeg?new Uint8Array(0):MP4.initSegment([pe]),metadata:{channelCount:pe.channelCount}},ze&&(vn=pe.inputTimeScale,!$e||vn!==$e.timescale?qe=En=Oe[0].pts-Math.round(vn*Ce):ze=!1)}if(_e.sps&&_e.pps&&Ne.length){if(_e.timescale=_e.inputTimeScale,Ue.video={id:"main",container:"video/mp4",codec:_e.codec,initSegment:MP4.initSegment([_e]),metadata:{width:_e.width,height:_e.height}},ze)if(vn=_e.inputTimeScale,!$e||vn!==$e.timescale){const hn=this.getVideoStartPts(Ne),_n=Math.round(vn*Ce);En=Math.min(En,normalizePts(Ne[0].dts,hn)-_n),qe=Math.min(qe,hn-_n)}else ze=!1;this.videoTrackConfig={width:_e.width,height:_e.height,pixelRatio:_e.pixelRatio}}if(Object.keys(Ue).length)return this.ISGenerated=!0,ze?(this._initPTS={baseTime:qe,timescale:vn},this._initDTS={baseTime:En,timescale:vn}):qe=vn=void 0,{tracks:Ue,initPTS:qe,timescale:vn}}remuxVideo(pe,_e,Ce,Ie){const Oe=pe.inputTimeScale,Ne=pe.samples,Fe=[],Ue=Ne.length,$e=this._initPTS;let ze=this.nextAvcDts,Ve=8,qe=this.videoSampleDuration,En,vn,hn=Number.POSITIVE_INFINITY,_n=Number.NEGATIVE_INFINITY,bn=!1;if(!Ce||ze===null){const Fn=_e*Oe,Un=Ne[0].pts-normalizePts(Ne[0].dts,Ne[0].pts);chromeVersion&&ze!==null&&Math.abs(Fn-Un-ze)<15e3?Ce=!0:ze=Fn-Un}const An=$e.baseTime*Oe/$e.timescale;for(let Fn=0;Fn<Ue;Fn++){const Un=Ne[Fn];Un.pts=normalizePts(Un.pts-An,ze),Un.dts=normalizePts(Un.dts-An,ze),Un.dts<Ne[Fn>0?Fn-1:Fn].dts&&(bn=!0)}bn&&Ne.sort(function(Fn,Un){const Hn=Fn.dts-Un.dts,Wn=Fn.pts-Un.pts;return Hn||Wn}),En=Ne[0].dts,vn=Ne[Ne.length-1].dts;const xn=vn-En,Sn=xn?Math.round(xn/(Ue-1)):qe||pe.inputTimeScale/30;if(Ce){const Fn=En-ze,Un=Fn>Sn,Hn=Fn<-1;if((Un||Hn)&&(Un?logger.warn("AVC: ".concat(toMsFromMpegTsClock(Fn,!0)," ms (").concat(Fn,"dts) hole between fragments detected at ").concat(_e.toFixed(3))):logger.warn("AVC: ".concat(toMsFromMpegTsClock(-Fn,!0)," ms (").concat(Fn,"dts) overlapping between fragments detected at ").concat(_e.toFixed(3))),!Hn||ze>=Ne[0].pts||chromeVersion)){En=ze;const Wn=Ne[0].pts-Fn;if(Un)Ne[0].dts=En,Ne[0].pts=Wn;else for(let Xn=0;Xn<Ne.length&&!(Ne[Xn].dts>Wn);Xn++)Ne[Xn].dts-=Fn,Ne[Xn].pts-=Fn;logger.log("Video: Initial PTS/DTS adjusted: ".concat(toMsFromMpegTsClock(Wn,!0),"/").concat(toMsFromMpegTsClock(En,!0),", delta: ").concat(toMsFromMpegTsClock(Fn,!0)," ms"))}}En=Math.max(0,En);let Cn=0,Tn=0,wn=En;for(let Fn=0;Fn<Ue;Fn++){const Un=Ne[Fn],Hn=Un.units,Wn=Hn.length;let Xn=0;for(let or=0;or<Wn;or++)Xn+=Hn[or].data.length;Tn+=Xn,Cn+=Wn,Un.length=Xn,Un.dts<wn?(Un.dts=wn,wn+=Sn/4|0||1):wn=Un.dts,hn=Math.min(Un.pts,hn),_n=Math.max(Un.pts,_n)}vn=Ne[Ue-1].dts;const Ln=Tn+4*Cn+8;let Pn;try{Pn=new Uint8Array(Ln)}catch(Fn){this.observer.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MUX_ERROR,details:ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,error:Fn,bytes:Ln,reason:"fail allocating video mdat ".concat(Ln)});return}const kn=new DataView(Pn.buffer);kn.setUint32(0,Ln),Pn.set(MP4.types.mdat,4);let In=!1,Rn=Number.POSITIVE_INFINITY,Nn=Number.POSITIVE_INFINITY,On=Number.NEGATIVE_INFINITY,Dn=Number.NEGATIVE_INFINITY;for(let Fn=0;Fn<Ue;Fn++){const Un=Ne[Fn],Hn=Un.units;let Wn=0;for(let fr=0,cr=Hn.length;fr<cr;fr++){const Jn=Hn[fr],mr=Jn.data,Ir=Jn.data.byteLength;kn.setUint32(Ve,Ir),Ve+=4,Pn.set(mr,Ve),Ve+=Ir,Wn+=4+Ir}let Xn;if(Fn<Ue-1)qe=Ne[Fn+1].dts-Un.dts,Xn=Ne[Fn+1].pts-Un.pts;else{const fr=this.config,cr=Fn>0?Un.dts-Ne[Fn-1].dts:Sn;if(Xn=Fn>0?Un.pts-Ne[Fn-1].pts:Sn,fr.stretchShortVideoTrack&&this.nextAudioPts!==null){const Jn=Math.floor(fr.maxBufferHole*Oe),mr=(Ie?hn+Ie*Oe:this.nextAudioPts)-Un.pts;mr>Jn?(qe=mr-cr,qe<0?qe=cr:In=!0,logger.log("[mp4-remuxer]: It is approximately ".concat(mr/90," ms to the next segment; using duration ").concat(qe/90," ms for the last video frame."))):qe=cr}else qe=cr}const or=Math.round(Un.pts-Un.dts);Rn=Math.min(Rn,qe),On=Math.max(On,qe),Nn=Math.min(Nn,Xn),Dn=Math.max(Dn,Xn),Fe.push(new Mp4Sample(Un.key,qe,Wn,or))}if(Fe.length){if(chromeVersion){if(chromeVersion<70){const Fn=Fe[0].flags;Fn.dependsOn=2,Fn.isNonSync=0}}else if(safariWebkitVersion&&Dn-Nn<On-Rn&&Sn/On<.025&&Fe[0].cts===0){logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Fn=En;for(let Un=0,Hn=Fe.length;Un<Hn;Un++){const Wn=Fn+Fe[Un].duration,Xn=Fn+Fe[Un].cts;if(Un<Hn-1){const or=Wn+Fe[Un+1].cts;Fe[Un].duration=or-Xn}else Fe[Un].duration=Un?Fe[Un-1].duration:Sn;Fe[Un].cts=0,Fn=Wn}}}qe=In||!qe?Sn:qe,this.nextAvcDts=ze=vn+qe,this.videoSampleDuration=qe,this.isVideoContiguous=!0;const $n={data1:MP4.moof(pe.sequenceNumber++,En,_extends({},pe,{samples:Fe})),data2:Pn,startPTS:hn/Oe,endPTS:(_n+qe)/Oe,startDTS:En/Oe,endDTS:ze/Oe,type:"video",hasAudio:!1,hasVideo:!0,nb:Fe.length,dropped:pe.dropped};return pe.samples=[],pe.dropped=0,$n}getSamplesPerFrame(pe){switch(pe.segmentCodec){case"mp3":return MPEG_AUDIO_SAMPLE_PER_FRAME;case"ac3":return AC3_SAMPLES_PER_FRAME;default:return AAC_SAMPLES_PER_FRAME}}remuxAudio(pe,_e,Ce,Ie,Oe){const Ne=pe.inputTimeScale,Fe=pe.samplerate?pe.samplerate:Ne,Ue=Ne/Fe,$e=this.getSamplesPerFrame(pe),ze=$e*Ue,Ve=this._initPTS,qe=pe.segmentCodec==="mp3"&&this.typeSupported.mpeg,En=[],vn=Oe!==void 0;let hn=pe.samples,_n=qe?0:8,bn=this.nextAudioPts||-1;const An=_e*Ne,xn=Ve.baseTime*Ne/Ve.timescale;if(this.isAudioContiguous=Ce=Ce||hn.length&&bn>0&&(Ie&&Math.abs(An-bn)<9e3||Math.abs(normalizePts(hn[0].pts-xn,An)-bn)<20*ze),hn.forEach(function(Mn){Mn.pts=normalizePts(Mn.pts-xn,An)}),!Ce||bn<0){if(hn=hn.filter(Mn=>Mn.pts>=0),!hn.length)return;Oe===0?bn=0:Ie&&!vn?bn=Math.max(0,An):bn=hn[0].pts}if(pe.segmentCodec==="aac"){const Mn=this.config.maxAudioFramesDrift;for(let Bn=0,$n=bn;Bn<hn.length;Bn++){const Fn=hn[Bn],Un=Fn.pts,Hn=Un-$n,Wn=Math.abs(1e3*Hn/Ne);if(Hn<=-Mn*ze&&vn)Bn===0&&(logger.warn("Audio frame @ ".concat((Un/Ne).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*Hn/Ne)," ms.")),this.nextAudioPts=bn=$n=Un);else if(Hn>=Mn*ze&&Wn<MAX_SILENT_FRAME_DURATION&&vn){let Xn=Math.round(Hn/ze);$n=Un-Xn*ze,$n<0&&(Xn--,$n+=ze),Bn===0&&(this.nextAudioPts=bn=$n),logger.warn("[mp4-remuxer]: Injecting ".concat(Xn," audio frame @ ").concat(($n/Ne).toFixed(3),"s due to ").concat(Math.round(1e3*Hn/Ne)," ms gap."));for(let or=0;or<Xn;or++){const fr=Math.max($n,0);let cr=AAC.getSilentFrame(pe.manifestCodec||pe.codec,pe.channelCount);cr||(logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),cr=Fn.unit.subarray()),hn.splice(Bn,0,{unit:cr,pts:fr}),$n+=ze,Bn++}}Fn.pts=$n,$n+=ze}}let Sn=null,Cn=null,Tn,wn=0,Ln=hn.length;for(;Ln--;)wn+=hn[Ln].unit.byteLength;for(let Mn=0,Bn=hn.length;Mn<Bn;Mn++){const $n=hn[Mn],Fn=$n.unit;let Un=$n.pts;if(Cn!==null){const Wn=En[Mn-1];Wn.duration=Math.round((Un-Cn)/Ue)}else if(Ce&&pe.segmentCodec==="aac"&&(Un=bn),Sn=Un,wn>0){wn+=_n;try{Tn=new Uint8Array(wn)}catch(Wn){this.observer.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MUX_ERROR,details:ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,error:Wn,bytes:wn,reason:"fail allocating audio mdat ".concat(wn)});return}qe||(new DataView(Tn.buffer).setUint32(0,wn),Tn.set(MP4.types.mdat,4))}else return;Tn.set(Fn,_n);const Hn=Fn.byteLength;_n+=Hn,En.push(new Mp4Sample(!0,$e,Hn,0)),Cn=Un}const Pn=En.length;if(!Pn)return;const kn=En[En.length-1];this.nextAudioPts=bn=Cn+Ue*kn.duration;const In=qe?new Uint8Array(0):MP4.moof(pe.sequenceNumber++,Sn/Ue,_extends({},pe,{samples:En}));pe.samples=[];const Rn=Sn/Ne,Nn=bn/Ne,Dn={data1:In,data2:Tn,startPTS:Rn,endPTS:Nn,startDTS:Rn,endDTS:Nn,type:"audio",hasAudio:!0,hasVideo:!1,nb:Pn};return this.isAudioContiguous=!0,Dn}remuxEmptyAudio(pe,_e,Ce,Ie){const Oe=pe.inputTimeScale,Ne=pe.samplerate?pe.samplerate:Oe,Fe=Oe/Ne,Ue=this.nextAudioPts,$e=this._initDTS,ze=$e.baseTime*9e4/$e.timescale,Ve=(Ue!==null?Ue:Ie.startDTS*Oe)+ze,qe=Ie.endDTS*Oe+ze,En=Fe*AAC_SAMPLES_PER_FRAME,vn=Math.ceil((qe-Ve)/En),hn=AAC.getSilentFrame(pe.manifestCodec||pe.codec,pe.channelCount);if(logger.warn("[mp4-remuxer]: remux empty Audio"),!hn){logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const _n=[];for(let bn=0;bn<vn;bn++){const An=Ve+bn*En;_n.push({unit:hn,pts:An,dts:An})}return pe.samples=_n,this.remuxAudio(pe,_e,Ce,!1)}}function normalizePts(xe,pe){let _e;if(pe===null)return xe;for(pe<xe?_e=-8589934592:_e=8589934592;Math.abs(xe-pe)>4294967296;)xe+=_e;return xe}function findKeyframeIndex(xe){for(let pe=0;pe<xe.length;pe++)if(xe[pe].key)return pe;return-1}function flushTextTrackMetadataCueSamples(xe,pe,_e,Ce){const Ie=xe.samples.length;if(!Ie)return;const Oe=xe.inputTimeScale;for(let Fe=0;Fe<Ie;Fe++){const Ue=xe.samples[Fe];Ue.pts=normalizePts(Ue.pts-_e.baseTime*Oe/_e.timescale,pe*Oe)/Oe,Ue.dts=normalizePts(Ue.dts-Ce.baseTime*Oe/Ce.timescale,pe*Oe)/Oe}const Ne=xe.samples;return xe.samples=[],{samples:Ne}}function flushTextTrackUserdataCueSamples(xe,pe,_e){const Ce=xe.samples.length;if(!Ce)return;const Ie=xe.inputTimeScale;for(let Ne=0;Ne<Ce;Ne++){const Fe=xe.samples[Ne];Fe.pts=normalizePts(Fe.pts-_e.baseTime*Ie/_e.timescale,pe*Ie)/Ie}xe.samples.sort((Ne,Fe)=>Ne.pts-Fe.pts);const Oe=xe.samples;return xe.samples=[],{samples:Oe}}class Mp4Sample{constructor(pe,_e,Ce,Ie){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=_e,this.size=Ce,this.cts=Ie,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:pe?2:1,isNonSync:pe?0:1}}}class PassThroughRemuxer{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(pe){this.initPTS=pe,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(pe,_e,Ce,Ie){this.audioCodec=_e,this.videoCodec=Ce,this.generateInitSegment(patchEncyptionData(pe,Ie)),this.emitInitSegment=!0}generateInitSegment(pe){let{audioCodec:_e,videoCodec:Ce}=this;if(!(pe!=null&&pe.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const Ie=this.initData=parseInitSegment(pe);Ie.audio&&(_e=getParsedTrackCodec(Ie.audio,ElementaryStreamTypes.AUDIO)),Ie.video&&(Ce=getParsedTrackCodec(Ie.video,ElementaryStreamTypes.VIDEO));const Oe={};Ie.audio&&Ie.video?Oe.audiovideo={container:"video/mp4",codec:_e+","+Ce,initSegment:pe,id:"main"}:Ie.audio?Oe.audio={container:"audio/mp4",codec:_e,initSegment:pe,id:"audio"}:Ie.video?Oe.video={container:"video/mp4",codec:Ce,initSegment:pe,id:"main"}:logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=Oe}remux(pe,_e,Ce,Ie,Oe,Ne){var Fe,Ue;let{initPTS:$e,lastEndTime:ze}=this;const Ve={audio:void 0,video:void 0,text:Ie,id3:Ce,initSegment:void 0};isFiniteNumber(ze)||(ze=this.lastEndTime=Oe||0);const qe=_e.samples;if(!(qe!=null&&qe.length))return Ve;const En={initPTS:void 0,timescale:1};let vn=this.initData;if((Fe=vn)!=null&&Fe.length||(this.generateInitSegment(qe),vn=this.initData),!((Ue=vn)!=null&&Ue.length))return logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),Ve;this.emitInitSegment&&(En.tracks=this.initTracks,this.emitInitSegment=!1);const hn=getDuration(qe,vn),_n=getStartDTS(vn,qe),bn=_n===null?Oe:_n;(isInvalidInitPts($e,bn,Oe,hn)||En.timescale!==$e.timescale&&Ne)&&(En.initPTS=bn-Oe,$e&&$e.timescale===1&&logger.warn("Adjusting initPTS by ".concat(En.initPTS-$e.baseTime)),this.initPTS=$e={baseTime:En.initPTS,timescale:1});const An=pe?bn-$e.baseTime/$e.timescale:ze,xn=An+hn;offsetStartDTS(vn,qe,$e.baseTime/$e.timescale),hn>0?this.lastEndTime=xn:(logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const Sn=!!vn.audio,Cn=!!vn.video;let Tn="";Sn&&(Tn+="audio"),Cn&&(Tn+="video");const wn={data1:qe,startPTS:An,startDTS:An,endPTS:xn,endDTS:xn,type:Tn,hasAudio:Sn,hasVideo:Cn,nb:1,dropped:0};return Ve.audio=wn.type==="audio"?wn:void 0,Ve.video=wn.type!=="audio"?wn:void 0,Ve.initSegment=En,Ve.id3=flushTextTrackMetadataCueSamples(Ce,Oe,$e,$e),Ie.samples.length&&(Ve.text=flushTextTrackUserdataCueSamples(Ie,Oe,$e)),Ve}}function isInvalidInitPts(xe,pe,_e,Ce){if(xe===null)return!0;const Ie=Math.max(Ce,1),Oe=pe-xe.baseTime/xe.timescale;return Math.abs(Oe-_e)>Ie}function getParsedTrackCodec(xe,pe){const _e=xe==null?void 0:xe.codec;if(_e&&_e.length>4)return _e;if(pe===ElementaryStreamTypes.AUDIO){if(_e==="ec-3"||_e==="ac-3"||_e==="alac")return _e;if(_e==="fLaC"||_e==="Opus")return getCodecCompatibleName(_e,!1);const Ce="mp4a.40.5";return logger.info('Parsed audio codec "'.concat(_e,'" or audio object type not handled. Using "').concat(Ce,'"')),Ce}return logger.warn('Unhandled video codec "'.concat(_e,'"')),_e==="hvc1"||_e==="hev1"?"hvc1.1.6.L120.90":_e==="av01"?"av01.0.04M.08":"avc1.42e01e"}let now;try{now=self.performance.now.bind(self.performance)}catch(xe){logger.debug("Unable to use Performance API on this environment"),now=optionalSelf==null?void 0:optionalSelf.Date.now}const muxConfig=[{demux:MP4Demuxer,remux:PassThroughRemuxer},{demux:TSDemuxer,remux:MP4Remuxer},{demux:AACDemuxer,remux:MP4Remuxer},{demux:MP3Demuxer,remux:MP4Remuxer}];muxConfig.splice(2,0,{demux:AC3Demuxer,remux:MP4Remuxer});class Transmuxer{constructor(pe,_e,Ce,Ie,Oe){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=pe,this.typeSupported=_e,this.config=Ce,this.vendor=Ie,this.id=Oe}configure(pe){this.transmuxConfig=pe,this.decrypter&&this.decrypter.reset()}push(pe,_e,Ce,Ie){const Oe=Ce.transmuxing;Oe.executeStart=now();let Ne=new Uint8Array(pe);const{currentTransmuxState:Fe,transmuxConfig:Ue}=this;Ie&&(this.currentTransmuxState=Ie);const{contiguous:$e,discontinuity:ze,trackSwitch:Ve,accurateTimeOffset:qe,timeOffset:En,initSegmentChange:vn}=Ie||Fe,{audioCodec:hn,videoCodec:_n,defaultInitPts:bn,duration:An,initSegmentData:xn}=Ue,Sn=getEncryptionType(Ne,_e);if(Sn&&Sn.method==="AES-128"){const Ln=this.getDecrypter();if(Ln.isSync()){let Pn=Ln.softwareDecrypt(Ne,Sn.key.buffer,Sn.iv.buffer);if(Ce.part>-1&&(Pn=Ln.flush()),!Pn)return Oe.executeEnd=now(),emptyResult(Ce);Ne=new Uint8Array(Pn)}else return this.decryptionPromise=Ln.webCryptoDecrypt(Ne,Sn.key.buffer,Sn.iv.buffer).then(Pn=>{const kn=this.push(Pn,null,Ce);return this.decryptionPromise=null,kn}),this.decryptionPromise}const Cn=this.needsProbing(ze,Ve);if(Cn){const Ln=this.configureTransmuxer(Ne);if(Ln)return logger.warn("[transmuxer] ".concat(Ln.message)),this.observer.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,error:Ln,reason:Ln.message}),Oe.executeEnd=now(),emptyResult(Ce)}(ze||Ve||vn||Cn)&&this.resetInitSegment(xn,hn,_n,An,_e),(ze||vn||Cn)&&this.resetInitialTimestamp(bn),$e||this.resetContiguity();const Tn=this.transmux(Ne,Sn,En,qe,Ce),wn=this.currentTransmuxState;return wn.contiguous=!0,wn.discontinuity=!1,wn.trackSwitch=!1,Oe.executeEnd=now(),Tn}flush(pe){const _e=pe.transmuxing;_e.executeStart=now();const{decrypter:Ce,currentTransmuxState:Ie,decryptionPromise:Oe}=this;if(Oe)return Oe.then(()=>this.flush(pe));const Ne=[],{timeOffset:Fe}=Ie;if(Ce){const Ve=Ce.flush();Ve&&Ne.push(this.push(Ve,null,pe))}const{demuxer:Ue,remuxer:$e}=this;if(!Ue||!$e)return _e.executeEnd=now(),[emptyResult(pe)];const ze=Ue.flush(Fe);return isPromise(ze)?ze.then(Ve=>(this.flushRemux(Ne,Ve,pe),Ne)):(this.flushRemux(Ne,ze,pe),Ne)}flushRemux(pe,_e,Ce){const{audioTrack:Ie,videoTrack:Oe,id3Track:Ne,textTrack:Fe}=_e,{accurateTimeOffset:Ue,timeOffset:$e}=this.currentTransmuxState;logger.log("[transmuxer.ts]: Flushed fragment ".concat(Ce.sn).concat(Ce.part>-1?" p: "+Ce.part:""," of level ").concat(Ce.level));const ze=this.remuxer.remux(Ie,Oe,Ne,Fe,$e,Ue,!0,this.id);pe.push({remuxResult:ze,chunkMeta:Ce}),Ce.transmuxing.executeEnd=now()}resetInitialTimestamp(pe){const{demuxer:_e,remuxer:Ce}=this;!_e||!Ce||(_e.resetTimeStamp(pe),Ce.resetTimeStamp(pe))}resetContiguity(){const{demuxer:pe,remuxer:_e}=this;!pe||!_e||(pe.resetContiguity(),_e.resetNextTimestamp())}resetInitSegment(pe,_e,Ce,Ie,Oe){const{demuxer:Ne,remuxer:Fe}=this;!Ne||!Fe||(Ne.resetInitSegment(pe,_e,Ce,Ie),Fe.resetInitSegment(pe,_e,Ce,Oe))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(pe,_e,Ce,Ie,Oe){let Ne;return _e&&_e.method==="SAMPLE-AES"?Ne=this.transmuxSampleAes(pe,_e,Ce,Ie,Oe):Ne=this.transmuxUnencrypted(pe,Ce,Ie,Oe),Ne}transmuxUnencrypted(pe,_e,Ce,Ie){const{audioTrack:Oe,videoTrack:Ne,id3Track:Fe,textTrack:Ue}=this.demuxer.demux(pe,_e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(Oe,Ne,Fe,Ue,_e,Ce,!1,this.id),chunkMeta:Ie}}transmuxSampleAes(pe,_e,Ce,Ie,Oe){return this.demuxer.demuxSampleAes(pe,_e,Ce).then(Ne=>({remuxResult:this.remuxer.remux(Ne.audioTrack,Ne.videoTrack,Ne.id3Track,Ne.textTrack,Ce,Ie,!1,this.id),chunkMeta:Oe}))}configureTransmuxer(pe){const{config:_e,observer:Ce,typeSupported:Ie,vendor:Oe}=this;let Ne;for(let qe=0,En=muxConfig.length;qe<En;qe++){var Fe;if((Fe=muxConfig[qe].demux)!=null&&Fe.probe(pe)){Ne=muxConfig[qe];break}}if(!Ne)return new Error("Failed to find demuxer by probing fragment data");const Ue=this.demuxer,$e=this.remuxer,ze=Ne.remux,Ve=Ne.demux;(!$e||!($e instanceof ze))&&(this.remuxer=new ze(Ce,_e,Ie,Oe)),(!Ue||!(Ue instanceof Ve))&&(this.demuxer=new Ve(Ce,_e,Ie),this.probe=Ve.probe)}needsProbing(pe,_e){return!this.demuxer||!this.remuxer||pe||_e}getDecrypter(){let pe=this.decrypter;return pe||(pe=this.decrypter=new Decrypter(this.config)),pe}}function getEncryptionType(xe,pe){let _e=null;return xe.byteLength>0&&(pe==null?void 0:pe.key)!=null&&pe.iv!==null&&pe.method!=null&&(_e=pe),_e}const emptyResult=xe=>({remuxResult:{},chunkMeta:xe});function isPromise(xe){return"then"in xe&&xe.then instanceof Function}class TransmuxConfig{constructor(pe,_e,Ce,Ie,Oe){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=pe,this.videoCodec=_e,this.initSegmentData=Ce,this.duration=Ie,this.defaultInitPts=Oe||null}}class TransmuxState{constructor(pe,_e,Ce,Ie,Oe,Ne){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=pe,this.contiguous=_e,this.accurateTimeOffset=Ce,this.trackSwitch=Ie,this.timeOffset=Oe,this.initSegmentChange=Ne}}var eventemitter3={exports:{}};(function(xe){var pe=Object.prototype.hasOwnProperty,_e="~";function Ce(){}Object.create&&(Ce.prototype=Object.create(null),new Ce().__proto__||(_e=!1));function Ie(Ue,$e,ze){this.fn=Ue,this.context=$e,this.once=ze||!1}function Oe(Ue,$e,ze,Ve,qe){if(typeof ze!="function")throw new TypeError("The listener must be a function");var En=new Ie(ze,Ve||Ue,qe),vn=_e?_e+$e:$e;return Ue._events[vn]?Ue._events[vn].fn?Ue._events[vn]=[Ue._events[vn],En]:Ue._events[vn].push(En):(Ue._events[vn]=En,Ue._eventsCount++),Ue}function Ne(Ue,$e){--Ue._eventsCount===0?Ue._events=new Ce:delete Ue._events[$e]}function Fe(){this._events=new Ce,this._eventsCount=0}Fe.prototype.eventNames=function(){var $e=[],ze,Ve;if(this._eventsCount===0)return $e;for(Ve in ze=this._events)pe.call(ze,Ve)&&$e.push(_e?Ve.slice(1):Ve);return Object.getOwnPropertySymbols?$e.concat(Object.getOwnPropertySymbols(ze)):$e},Fe.prototype.listeners=function($e){var ze=_e?_e+$e:$e,Ve=this._events[ze];if(!Ve)return[];if(Ve.fn)return[Ve.fn];for(var qe=0,En=Ve.length,vn=new Array(En);qe<En;qe++)vn[qe]=Ve[qe].fn;return vn},Fe.prototype.listenerCount=function($e){var ze=_e?_e+$e:$e,Ve=this._events[ze];return Ve?Ve.fn?1:Ve.length:0},Fe.prototype.emit=function($e,ze,Ve,qe,En,vn){var hn=_e?_e+$e:$e;if(!this._events[hn])return!1;var _n=this._events[hn],bn=arguments.length,An,xn;if(_n.fn){switch(_n.once&&this.removeListener($e,_n.fn,void 0,!0),bn){case 1:return _n.fn.call(_n.context),!0;case 2:return _n.fn.call(_n.context,ze),!0;case 3:return _n.fn.call(_n.context,ze,Ve),!0;case 4:return _n.fn.call(_n.context,ze,Ve,qe),!0;case 5:return _n.fn.call(_n.context,ze,Ve,qe,En),!0;case 6:return _n.fn.call(_n.context,ze,Ve,qe,En,vn),!0}for(xn=1,An=new Array(bn-1);xn<bn;xn++)An[xn-1]=arguments[xn];_n.fn.apply(_n.context,An)}else{var Sn=_n.length,Cn;for(xn=0;xn<Sn;xn++)switch(_n[xn].once&&this.removeListener($e,_n[xn].fn,void 0,!0),bn){case 1:_n[xn].fn.call(_n[xn].context);break;case 2:_n[xn].fn.call(_n[xn].context,ze);break;case 3:_n[xn].fn.call(_n[xn].context,ze,Ve);break;case 4:_n[xn].fn.call(_n[xn].context,ze,Ve,qe);break;default:if(!An)for(Cn=1,An=new Array(bn-1);Cn<bn;Cn++)An[Cn-1]=arguments[Cn];_n[xn].fn.apply(_n[xn].context,An)}}return!0},Fe.prototype.on=function($e,ze,Ve){return Oe(this,$e,ze,Ve,!1)},Fe.prototype.once=function($e,ze,Ve){return Oe(this,$e,ze,Ve,!0)},Fe.prototype.removeListener=function($e,ze,Ve,qe){var En=_e?_e+$e:$e;if(!this._events[En])return this;if(!ze)return Ne(this,En),this;var vn=this._events[En];if(vn.fn)vn.fn===ze&&(!qe||vn.once)&&(!Ve||vn.context===Ve)&&Ne(this,En);else{for(var hn=0,_n=[],bn=vn.length;hn<bn;hn++)(vn[hn].fn!==ze||qe&&!vn[hn].once||Ve&&vn[hn].context!==Ve)&&_n.push(vn[hn]);_n.length?this._events[En]=_n.length===1?_n[0]:_n:Ne(this,En)}return this},Fe.prototype.removeAllListeners=function($e){var ze;return $e?(ze=_e?_e+$e:$e,this._events[ze]&&Ne(this,ze)):(this._events=new Ce,this._eventsCount=0),this},Fe.prototype.off=Fe.prototype.removeListener,Fe.prototype.addListener=Fe.prototype.on,Fe.prefixed=_e,Fe.EventEmitter=Fe,xe.exports=Fe})(eventemitter3);var eventemitter3Exports=eventemitter3.exports,EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class TransmuxerInterface{constructor(pe,_e,Ce,Ie){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const Oe=pe.config;this.hls=pe,this.id=_e,this.useWorker=!!Oe.enableWorker,this.onTransmuxComplete=Ce,this.onFlush=Ie;const Ne=($e,ze)=>{ze=ze||{},ze.frag=this.frag,ze.id=this.id,$e===Events.ERROR&&(this.error=ze.error),this.hls.trigger($e,ze)};this.observer=new EventEmitter,this.observer.on(Events.FRAG_DECRYPTED,Ne),this.observer.on(Events.ERROR,Ne);const Fe=getMediaSource(Oe.preferManagedMediaSource)||{isTypeSupported:()=>!1},Ue={mpeg:Fe.isTypeSupported("audio/mpeg"),mp3:Fe.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:Fe.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(Oe.workerPath||hasUMDWorker())){try{Oe.workerPath?(logger.log("loading Web Worker ".concat(Oe.workerPath,' for "').concat(_e,'"')),this.workerContext=loadWorker(Oe.workerPath)):(logger.log('injecting Web Worker for "'.concat(_e,'"')),this.workerContext=injectWorker()),this.onwmsg=Ve=>this.onWorkerMessage(Ve);const{worker:ze}=this.workerContext;ze.addEventListener("message",this.onwmsg),ze.onerror=Ve=>{const qe=new Error("".concat(Ve.message,"  (").concat(Ve.filename,":").concat(Ve.lineno,")"));Oe.enableWorker=!1,logger.warn('Error in "'.concat(_e,'" Web Worker, fallback to inline')),this.hls.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:qe})},ze.postMessage({cmd:"init",typeSupported:Ue,vendor:"",id:_e,config:JSON.stringify(Oe)})}catch(ze){logger.warn('Error setting up "'.concat(_e,'" Web Worker, fallback to inline'),ze),this.resetWorker(),this.error=null,this.transmuxer=new Transmuxer(this.observer,Ue,Oe,"",_e)}return}this.transmuxer=new Transmuxer(this.observer,Ue,Oe,"",_e)}resetWorker(){if(this.workerContext){const{worker:pe,objectURL:_e}=this.workerContext;_e&&self.URL.revokeObjectURL(_e),pe.removeEventListener("message",this.onwmsg),pe.onerror=null,pe.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const _e=this.transmuxer;_e&&(_e.destroy(),this.transmuxer=null)}const pe=this.observer;pe&&pe.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(pe,_e,Ce,Ie,Oe,Ne,Fe,Ue,$e,ze){var Ve,qe;$e.transmuxing.start=self.performance.now();const{transmuxer:En}=this,vn=Ne?Ne.start:Oe.start,hn=Oe.decryptdata,_n=this.frag,bn=!(_n&&Oe.cc===_n.cc),An=!(_n&&$e.level===_n.level),xn=_n?$e.sn-_n.sn:-1,Sn=this.part?$e.part-this.part.index:-1,Cn=xn===0&&$e.id>1&&$e.id===(_n==null?void 0:_n.stats.chunkCount),Tn=!An&&(xn===1||xn===0&&(Sn===1||Cn&&Sn<=0)),wn=self.performance.now();(An||xn||Oe.stats.parsing.start===0)&&(Oe.stats.parsing.start=wn),Ne&&(Sn||!Tn)&&(Ne.stats.parsing.start=wn);const Ln=!(_n&&((Ve=Oe.initSegment)==null?void 0:Ve.url)===((qe=_n.initSegment)==null?void 0:qe.url)),Pn=new TransmuxState(bn,Tn,Ue,An,vn,Ln);if(!Tn||bn||Ln){logger.log("[transmuxer-interface, ".concat(Oe.type,"]: Starting new transmux session for sn: ").concat($e.sn," p: ").concat($e.part," level: ").concat($e.level," id: ").concat($e.id,"\n        discontinuity: ").concat(bn,"\n        trackSwitch: ").concat(An,"\n        contiguous: ").concat(Tn,"\n        accurateTimeOffset: ").concat(Ue,"\n        timeOffset: ").concat(vn,"\n        initSegmentChange: ").concat(Ln));const kn=new TransmuxConfig(Ce,Ie,_e,Fe,ze);this.configureTransmuxer(kn)}if(this.frag=Oe,this.part=Ne,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:pe,decryptdata:hn,chunkMeta:$e,state:Pn},pe instanceof ArrayBuffer?[pe]:[]);else if(En){const kn=En.push(pe,hn,$e,Pn);isPromise(kn)?(En.async=!0,kn.then(In=>{this.handleTransmuxComplete(In)}).catch(In=>{this.transmuxerError(In,$e,"transmuxer-interface push error")})):(En.async=!1,this.handleTransmuxComplete(kn))}}flush(pe){pe.transmuxing.start=self.performance.now();const{transmuxer:_e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:pe});else if(_e){let Ce=_e.flush(pe);isPromise(Ce)||_e.async?(isPromise(Ce)||(Ce=Promise.resolve(Ce)),Ce.then(Oe=>{this.handleFlushResult(Oe,pe)}).catch(Oe=>{this.transmuxerError(Oe,pe,"transmuxer-interface flush error")})):this.handleFlushResult(Ce,pe)}}transmuxerError(pe,_e,Ce){this.hls&&(this.error=pe,this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:_e,frag:this.frag||void 0,fatal:!1,error:pe,err:pe,reason:Ce}))}handleFlushResult(pe,_e){pe.forEach(Ce=>{this.handleTransmuxComplete(Ce)}),this.onFlush(_e)}onWorkerMessage(pe){const _e=pe.data;if(!(_e!=null&&_e.event)){logger.warn("worker message received with no ".concat(_e?"event name":"data"));return}const Ce=this.hls;if(this.hls)switch(_e.event){case"init":{var Ie;const Oe=(Ie=this.workerContext)==null?void 0:Ie.objectURL;Oe&&self.URL.revokeObjectURL(Oe);break}case"transmuxComplete":{this.handleTransmuxComplete(_e.data);break}case"flush":{this.onFlush(_e.data);break}case"workerLog":logger[_e.data.logType]&&logger[_e.data.logType](_e.data.message);break;default:{_e.data=_e.data||{},_e.data.frag=this.frag,_e.data.id=this.id,Ce.trigger(_e.event,_e.data);break}}}configureTransmuxer(pe){const{transmuxer:_e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:pe}):_e&&_e.configure(pe)}handleTransmuxComplete(pe){pe.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(pe)}}function subtitleOptionsIdentical(xe,pe){if(xe.length!==pe.length)return!1;for(let _e=0;_e<xe.length;_e++)if(!mediaAttributesIdentical(xe[_e].attrs,pe[_e].attrs))return!1;return!0}function mediaAttributesIdentical(xe,pe,_e){const Ce=xe["STABLE-RENDITION-ID"];return Ce&&!_e?Ce===pe["STABLE-RENDITION-ID"]:!(_e||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(Ie=>xe[Ie]!==pe[Ie])}function subtitleTrackMatchesTextTrack(xe,pe){return pe.label.toLowerCase()===xe.name.toLowerCase()&&(!pe.language||pe.language.toLowerCase()===(xe.lang||"").toLowerCase())}const TICK_INTERVAL$2=100;class AudioStreamController extends BaseStreamController{constructor(pe,_e,Ce){super(pe,_e,Ce,"[audio-stream-controller]",PlaylistLevelType.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:pe}=this;pe.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.on(Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),pe.on(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),pe.on(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),pe.on(Events.ERROR,this.onError,this),pe.on(Events.BUFFER_RESET,this.onBufferReset,this),pe.on(Events.BUFFER_CREATED,this.onBufferCreated,this),pe.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.on(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),pe.on(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),pe.on(Events.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.off(Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),pe.off(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),pe.off(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),pe.off(Events.ERROR,this.onError,this),pe.off(Events.BUFFER_RESET,this.onBufferReset,this),pe.off(Events.BUFFER_CREATED,this.onBufferCreated,this),pe.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.off(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),pe.off(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),pe.off(Events.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(pe,{frag:_e,id:Ce,initPTS:Ie,timescale:Oe}){if(Ce==="main"){const Ne=_e.cc;this.initPTS[_e.cc]={baseTime:Ie,timescale:Oe},this.log("InitPTS for cc: ".concat(Ne," found from main: ").concat(Ie)),this.videoTrackCC=Ne,this.state===State.WAITING_INIT_PTS&&this.tick()}}startLoad(pe){if(!this.levels){this.startPosition=pe,this.state=State.STOPPED;return}const _e=this.lastCurrentTime;this.stopLoad(),this.setInterval(TICK_INTERVAL$2),_e>0&&pe===-1?(this.log("Override startPosition with lastCurrentTime @".concat(_e.toFixed(3))),pe=_e,this.state=State.IDLE):(this.loadedmetadata=!1,this.state=State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=pe,this.tick()}doTick(){switch(this.state){case State.IDLE:this.doTickIdle();break;case State.WAITING_TRACK:{var pe;const{levels:Ce,trackId:Ie}=this,Oe=Ce==null||(pe=Ce[Ie])==null?void 0:pe.details;if(Oe){if(this.waitForCdnTuneIn(Oe))break;this.state=State.WAITING_INIT_PTS}break}case State.FRAG_LOADING_WAITING_RETRY:{var _e;const Ce=performance.now(),Ie=this.retryDate;if(!Ie||Ce>=Ie||(_e=this.media)!=null&&_e.seeking){const{levels:Oe,trackId:Ne}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((Oe==null?void 0:Oe[Ne])||null),this.state=State.IDLE}break}case State.WAITING_INIT_PTS:{const Ce=this.waitingData;if(Ce){const{frag:Ie,part:Oe,cache:Ne,complete:Fe}=Ce;if(this.initPTS[Ie.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=State.FRAG_LOADING;const Ue=Ne.flush(),$e={frag:Ie,part:Oe,payload:Ue,networkDetails:null};this._handleFragmentLoadProgress($e),Fe&&super._handleFragmentLoadComplete($e)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(Ie.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{const Ue=this.getLoadPosition(),$e=BufferHelper.bufferInfo(this.mediaBuffer,Ue,this.config.maxBufferHole);fragmentWithinToleranceTest($e.end,this.config.maxFragLookUpTolerance,Ie)<0&&(this.log("Waiting fragment cc (".concat(Ie.cc,") @ ").concat(Ie.start," cancelled because another fragment at ").concat($e.end," is needed")),this.clearWaitingFragment())}}else this.state=State.IDLE}}this.onTickEnd()}clearWaitingFragment(){const pe=this.waitingData;pe&&(this.fragmentTracker.removeFragment(pe.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=State.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:pe}=this;pe!=null&&pe.readyState&&(this.lastCurrentTime=pe.currentTime)}doTickIdle(){const{hls:pe,levels:_e,media:Ce,trackId:Ie}=this,Oe=pe.config;if(!Ce&&(this.startFragRequested||!Oe.startFragPrefetch)||!(_e!=null&&_e[Ie]))return;const Ne=_e[Ie],Fe=Ne.details;if(!Fe||Fe.live&&this.levelLastLoaded!==Ne||this.waitForCdnTuneIn(Fe)){this.state=State.WAITING_TRACK;return}const Ue=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&Ue&&(this.bufferFlushed=!1,this.afterBufferFlushed(Ue,ElementaryStreamTypes.AUDIO,PlaylistLevelType.AUDIO));const $e=this.getFwdBufferInfo(Ue,PlaylistLevelType.AUDIO);if($e===null)return;const{bufferedTrack:ze,switchingTrack:Ve}=this;if(!Ve&&this._streamEnded($e,Fe)){pe.trigger(Events.BUFFER_EOS,{type:"audio"}),this.state=State.ENDED;return}const qe=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,PlaylistLevelType.MAIN),En=$e.len,vn=this.getMaxBufferLength(qe==null?void 0:qe.len),hn=Fe.fragments,_n=hn[0].start;let bn=this.flushing?this.getLoadPosition():$e.end;if(Ve&&Ce){const Cn=this.getLoadPosition();ze&&!mediaAttributesIdentical(Ve.attrs,ze.attrs)&&(bn=Cn),Fe.PTSKnown&&Cn<_n&&($e.end>_n||$e.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),Ce.currentTime=_n+.05)}if(En>=vn&&!Ve&&bn<hn[hn.length-1].start)return;let An=this.getNextFragment(bn,Fe),xn=!1;if(An&&this.isLoopLoading(An,bn)&&(xn=!!An.gap,An=this.getNextFragmentLoopLoading(An,Fe,$e,PlaylistLevelType.MAIN,vn)),!An){this.bufferFlushed=!0;return}const Sn=qe&&An.start>qe.end+Fe.targetduration;if(Sn||!(qe!=null&&qe.len)&&$e.len){const Cn=this.getAppendedFrag(An.start,PlaylistLevelType.MAIN);if(Cn===null||(xn||(xn=!!Cn.gap||!!Sn&&qe.len===0),Sn&&!xn||xn&&$e.nextStart&&$e.nextStart<Cn.end))return}this.loadFragment(An,Ne,bn)}getMaxBufferLength(pe){const _e=super.getMaxBufferLength();return pe?Math.min(Math.max(_e,pe),this.config.maxMaxBufferLength):_e}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(pe,{audioTracks:_e}){this.resetTransmuxer(),this.levels=_e.map(Ce=>new Level(Ce))}onAudioTrackSwitching(pe,_e){const Ce=!!_e.url;this.trackId=_e.id;const{fragCurrent:Ie}=this;Ie&&(Ie.abortRequests(),this.removeUnbufferedFrags(Ie.start)),this.resetLoadingState(),Ce?this.setInterval(TICK_INTERVAL$2):this.resetTransmuxer(),Ce?(this.switchingTrack=_e,this.state=State.IDLE,this.flushAudioIfNeeded(_e)):(this.switchingTrack=null,this.bufferedTrack=_e,this.state=State.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(pe,_e){this.mainDetails=_e.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(pe,_e){var Ce;if(this.mainDetails==null){this.cachedTrackLoadedData=_e;return}const{levels:Ie}=this,{details:Oe,id:Ne}=_e;if(!Ie){this.warn("Audio tracks were reset while loading level ".concat(Ne));return}this.log("Audio track ".concat(Ne," loaded [").concat(Oe.startSN,",").concat(Oe.endSN,"]").concat(Oe.lastPartSn?"[part-".concat(Oe.lastPartSn,"-").concat(Oe.lastPartIndex,"]"):"",",duration:").concat(Oe.totalduration));const Fe=Ie[Ne];let Ue=0;if(Oe.live||(Ce=Fe.details)!=null&&Ce.live){this.checkLiveUpdate(Oe);const ze=this.mainDetails;if(Oe.deltaUpdateFailed||!ze)return;if(!Fe.details&&Oe.hasProgramDateTime&&ze.hasProgramDateTime)alignMediaPlaylistByPDT(Oe,ze),Ue=Oe.fragments[0].start;else{var $e;Ue=this.alignPlaylists(Oe,Fe.details,($e=this.levelLastLoaded)==null?void 0:$e.details)}}Fe.details=Oe,this.levelLastLoaded=Fe,!this.startFragRequested&&(this.mainDetails||!Oe.live)&&this.setStartPosition(this.mainDetails||Oe,Ue),this.state===State.WAITING_TRACK&&!this.waitForCdnTuneIn(Oe)&&(this.state=State.IDLE),this.tick()}_handleFragmentLoadProgress(pe){var _e;const{frag:Ce,part:Ie,payload:Oe}=pe,{config:Ne,trackId:Fe,levels:Ue}=this;if(!Ue){this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(Ce.sn," of level ").concat(Ce.level," will not be buffered"));return}const $e=Ue[Fe];if(!$e){this.warn("Audio track is undefined on fragment load progress");return}const ze=$e.details;if(!ze){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(Ce.start);return}const Ve=Ne.defaultAudioCodec||$e.audioCodec||"mp4a.40.2";let qe=this.transmuxer;qe||(qe=this.transmuxer=new TransmuxerInterface(this.hls,PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const En=this.initPTS[Ce.cc],vn=(_e=Ce.initSegment)==null?void 0:_e.data;if(En!==void 0){const _n=Ie?Ie.index:-1,bn=_n!==-1,An=new ChunkMetadata(Ce.level,Ce.sn,Ce.stats.chunkCount,Oe.byteLength,_n,bn);qe.push(Oe,vn,Ve,"",Ce,Ie,ze.totalduration,!1,An,En)}else{this.log("Unknown video PTS for cc ".concat(Ce.cc,", waiting for video PTS before demuxing audio frag ").concat(Ce.sn," of [").concat(ze.startSN," ,").concat(ze.endSN,"],track ").concat(Fe));const{cache:hn}=this.waitingData=this.waitingData||{frag:Ce,part:Ie,cache:new ChunkCache,complete:!1};hn.push(new Uint8Array(Oe)),this.waitingVideoCC=this.videoTrackCC,this.state=State.WAITING_INIT_PTS}}_handleFragmentLoadComplete(pe){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(pe)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(pe,_e){const Ce=_e.tracks.audio;Ce&&(this.mediaBuffer=Ce.buffer||null),_e.tracks.video&&(this.videoBuffer=_e.tracks.video.buffer||null)}onFragBuffered(pe,_e){const{frag:Ce,part:Ie}=_e;if(Ce.type!==PlaylistLevelType.AUDIO){if(!this.loadedmetadata&&Ce.type===PlaylistLevelType.MAIN){const Oe=this.videoBuffer||this.media;Oe&&BufferHelper.getBuffered(Oe).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(Ce)){this.warn("Fragment ".concat(Ce.sn).concat(Ie?" p: "+Ie.index:""," of level ").concat(Ce.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));return}if(Ce.sn!=="initSegment"){this.fragPrevious=Ce;const Oe=this.switchingTrack;Oe&&(this.bufferedTrack=Oe,this.switchingTrack=null,this.hls.trigger(Events.AUDIO_TRACK_SWITCHED,_objectSpread2({},Oe)))}this.fragBufferedComplete(Ce,Ie)}onError(pe,_e){var Ce;if(_e.fatal){this.state=State.ERROR;return}switch(_e.details){case ErrorDetails.FRAG_GAP:case ErrorDetails.FRAG_PARSING_ERROR:case ErrorDetails.FRAG_DECRYPT_ERROR:case ErrorDetails.FRAG_LOAD_ERROR:case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_ERROR:case ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(PlaylistLevelType.AUDIO,_e);break;case ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case ErrorDetails.LEVEL_PARSING_ERROR:!_e.levelRetry&&this.state===State.WAITING_TRACK&&((Ce=_e.context)==null?void 0:Ce.type)===PlaylistContextType.AUDIO_TRACK&&(this.state=State.IDLE);break;case ErrorDetails.BUFFER_APPEND_ERROR:case ErrorDetails.BUFFER_FULL_ERROR:if(!_e.parent||_e.parent!=="audio")return;if(_e.details===ErrorDetails.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(_e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case ErrorDetails.INTERNAL_EXCEPTION:this.recoverWorkerError(_e);break}}onBufferFlushing(pe,{type:_e}){_e!==ElementaryStreamTypes.VIDEO&&(this.flushing=!0)}onBufferFlushed(pe,{type:_e}){if(_e!==ElementaryStreamTypes.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===State.ENDED&&(this.state=State.IDLE);const Ce=this.mediaBuffer||this.media;Ce&&(this.afterBufferFlushed(Ce,_e,PlaylistLevelType.AUDIO),this.tick())}}_handleTransmuxComplete(pe){var _e;const Ce="audio",{hls:Ie}=this,{remuxResult:Oe,chunkMeta:Ne}=pe,Fe=this.getCurrentContext(Ne);if(!Fe){this.resetWhenMissingContext(Ne);return}const{frag:Ue,part:$e,level:ze}=Fe,{details:Ve}=ze,{audio:qe,text:En,id3:vn,initSegment:hn}=Oe;if(this.fragContextChanged(Ue)||!Ve){this.fragmentTracker.removeFragment(Ue);return}if(this.state=State.PARSING,this.switchingTrack&&qe&&this.completeAudioSwitch(this.switchingTrack),hn!=null&&hn.tracks){const _n=Ue.initSegment||Ue;this._bufferInitSegment(ze,hn.tracks,_n,Ne),Ie.trigger(Events.FRAG_PARSING_INIT_SEGMENT,{frag:_n,id:Ce,tracks:hn.tracks})}if(qe){const{startPTS:_n,endPTS:bn,startDTS:An,endDTS:xn}=qe;$e&&($e.elementaryStreams[ElementaryStreamTypes.AUDIO]={startPTS:_n,endPTS:bn,startDTS:An,endDTS:xn}),Ue.setElementaryStreamInfo(ElementaryStreamTypes.AUDIO,_n,bn,An,xn),this.bufferFragmentData(qe,Ue,$e,Ne)}if(vn!=null&&(_e=vn.samples)!=null&&_e.length){const _n=_extends({id:Ce,frag:Ue,details:Ve},vn);Ie.trigger(Events.FRAG_PARSING_METADATA,_n)}if(En){const _n=_extends({id:Ce,frag:Ue,details:Ve},En);Ie.trigger(Events.FRAG_PARSING_USERDATA,_n)}}_bufferInitSegment(pe,_e,Ce,Ie){if(this.state!==State.PARSING)return;_e.video&&delete _e.video;const Oe=_e.audio;if(!Oe)return;Oe.id="audio";const Ne=pe.audioCodec;this.log("Init audio buffer, container:".concat(Oe.container,", codecs[level/parsed]=[").concat(Ne,"/").concat(Oe.codec,"]")),Ne&&Ne.split(",").length===1&&(Oe.levelCodec=Ne),this.hls.trigger(Events.BUFFER_CODECS,_e);const Fe=Oe.initSegment;if(Fe!=null&&Fe.byteLength){const Ue={type:"audio",frag:Ce,part:null,chunkMeta:Ie,parent:Ce.type,data:Fe};this.hls.trigger(Events.BUFFER_APPENDING,Ue)}this.tickImmediate()}loadFragment(pe,_e,Ce){const Ie=this.fragmentTracker.getState(pe);if(this.fragCurrent=pe,this.switchingTrack||Ie===FragmentState.NOT_LOADED||Ie===FragmentState.PARTIAL){var Oe;if(pe.sn==="initSegment")this._loadInitSegment(pe,_e);else if((Oe=_e.details)!=null&&Oe.live&&!this.initPTS[pe.cc]){this.log("Waiting for video PTS in continuity counter ".concat(pe.cc," of live stream before loading audio fragment ").concat(pe.sn," of level ").concat(this.trackId)),this.state=State.WAITING_INIT_PTS;const Ne=this.mainDetails;Ne&&Ne.fragments[0].start!==_e.details.fragments[0].start&&alignMediaPlaylistByPDT(_e.details,Ne)}else this.startFragRequested=!0,super.loadFragment(pe,_e,Ce)}else this.clearTrackerIfNeeded(pe)}flushAudioIfNeeded(pe){const{media:_e,bufferedTrack:Ce}=this,Ie=Ce==null?void 0:Ce.attrs,Oe=pe.attrs;_e&&Ie&&(Ie.CHANNELS!==Oe.CHANNELS||Ce.name!==pe.name||Ce.lang!==pe.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(pe){const{hls:_e}=this;this.flushAudioIfNeeded(pe),this.bufferedTrack=pe,this.switchingTrack=null,_e.trigger(Events.AUDIO_TRACK_SWITCHED,_objectSpread2({},pe))}}class AudioTrackController extends BasePlaylistController{constructor(pe){super(pe,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:pe}=this;pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.on(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.on(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),pe.on(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),pe.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:pe}=this;pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.off(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.off(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),pe.off(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),pe.off(Events.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(pe,_e){this.tracks=_e.audioTracks||[]}onAudioTrackLoaded(pe,_e){const{id:Ce,groupId:Ie,details:Oe}=_e,Ne=this.tracksInGroup[Ce];if(!Ne||Ne.groupId!==Ie){this.warn("Audio track with id:".concat(Ce," and group:").concat(Ie," not found in active group ").concat(Ne==null?void 0:Ne.groupId));return}const Fe=Ne.details;Ne.details=_e.details,this.log("Audio track ".concat(Ce,' "').concat(Ne.name,'" lang:').concat(Ne.lang," group:").concat(Ie," loaded [").concat(Oe.startSN,"-").concat(Oe.endSN,"]")),Ce===this.trackId&&this.playlistLoaded(Ce,_e,Fe)}onLevelLoading(pe,_e){this.switchLevel(_e.level)}onLevelSwitching(pe,_e){this.switchLevel(_e.level)}switchLevel(pe){const _e=this.hls.levels[pe];if(!_e)return;const Ce=_e.audioGroups||null,Ie=this.groupIds;let Oe=this.currentTrack;if(!Ce||(Ie==null?void 0:Ie.length)!==(Ce==null?void 0:Ce.length)||Ce!=null&&Ce.some(Fe=>(Ie==null?void 0:Ie.indexOf(Fe))===-1)){this.groupIds=Ce,this.trackId=-1,this.currentTrack=null;const Fe=this.tracks.filter(qe=>!Ce||Ce.indexOf(qe.groupId)!==-1);if(Fe.length)this.selectDefaultTrack&&!Fe.some(qe=>qe.default)&&(this.selectDefaultTrack=!1),Fe.forEach((qe,En)=>{qe.id=En});else if(!Oe&&!this.tracksInGroup.length)return;this.tracksInGroup=Fe;const Ue=this.hls.config.audioPreference;if(!Oe&&Ue){const qe=findMatchingOption(Ue,Fe,audioMatchPredicate);if(qe>-1)Oe=Fe[qe];else{const En=findMatchingOption(Ue,this.tracks);Oe=this.tracks[En]}}let $e=this.findTrackId(Oe);$e===-1&&Oe&&($e=this.findTrackId(null));const ze={audioTracks:Fe};this.log("Updating audio tracks, ".concat(Fe.length," track(s) found in group(s): ").concat(Ce==null?void 0:Ce.join(","))),this.hls.trigger(Events.AUDIO_TRACKS_UPDATED,ze);const Ve=this.trackId;if($e!==-1&&Ve===-1)this.setAudioTrack($e);else if(Fe.length&&Ve===-1){var Ne;const qe=new Error("No audio track selected for current audio group-ID(s): ".concat((Ne=this.groupIds)==null?void 0:Ne.join(",")," track count: ").concat(Fe.length));this.warn(qe.message),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:qe})}}else this.shouldReloadPlaylist(Oe)&&this.setAudioTrack(this.trackId)}onError(pe,_e){_e.fatal||!_e.context||_e.context.type===PlaylistContextType.AUDIO_TRACK&&_e.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(_e.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(_e))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(pe){this.selectDefaultTrack=!1,this.setAudioTrack(pe)}setAudioOption(pe){const _e=this.hls;if(_e.config.audioPreference=pe,pe){const Ce=this.allAudioTracks;if(this.selectDefaultTrack=!1,Ce.length){const Ie=this.currentTrack;if(Ie&&matchesOption(pe,Ie,audioMatchPredicate))return Ie;const Oe=findMatchingOption(pe,this.tracksInGroup,audioMatchPredicate);if(Oe>-1){const Ne=this.tracksInGroup[Oe];return this.setAudioTrack(Oe),Ne}else if(Ie){let Ne=_e.loadLevel;Ne===-1&&(Ne=_e.firstAutoLevel);const Fe=findClosestLevelWithAudioGroup(pe,_e.levels,Ce,Ne,audioMatchPredicate);if(Fe===-1)return null;_e.nextLoadLevel=Fe}if(pe.channels||pe.audioCodec){const Ne=findMatchingOption(pe,Ce);if(Ne>-1)return Ce[Ne]}}}return null}setAudioTrack(pe){const _e=this.tracksInGroup;if(pe<0||pe>=_e.length){this.warn("Invalid audio track id: ".concat(pe));return}this.clearTimer(),this.selectDefaultTrack=!1;const Ce=this.currentTrack,Ie=_e[pe],Oe=Ie.details&&!Ie.details.live;if(pe===this.trackId&&Ie===Ce&&Oe||(this.log("Switching to audio-track ".concat(pe,' "').concat(Ie.name,'" lang:').concat(Ie.lang," group:").concat(Ie.groupId," channels:").concat(Ie.channels)),this.trackId=pe,this.currentTrack=Ie,this.hls.trigger(Events.AUDIO_TRACK_SWITCHING,_objectSpread2({},Ie)),Oe))return;const Ne=this.switchParams(Ie.url,Ce==null?void 0:Ce.details,Ie.details);this.loadPlaylist(Ne)}findTrackId(pe){const _e=this.tracksInGroup;for(let Ce=0;Ce<_e.length;Ce++){const Ie=_e[Ce];if(!(this.selectDefaultTrack&&!Ie.default)&&(!pe||matchesOption(pe,Ie,audioMatchPredicate)))return Ce}if(pe){const{name:Ce,lang:Ie,assocLang:Oe,characteristics:Ne,audioCodec:Fe,channels:Ue}=pe;for(let $e=0;$e<_e.length;$e++){const ze=_e[$e];if(matchesOption({name:Ce,lang:Ie,assocLang:Oe,characteristics:Ne,audioCodec:Fe,channels:Ue},ze,audioMatchPredicate))return $e}for(let $e=0;$e<_e.length;$e++){const ze=_e[$e];if(mediaAttributesIdentical(pe.attrs,ze.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return $e}for(let $e=0;$e<_e.length;$e++){const ze=_e[$e];if(mediaAttributesIdentical(pe.attrs,ze.attrs,["LANGUAGE"]))return $e}}return-1}loadPlaylist(pe){const _e=this.currentTrack;if(this.shouldLoadPlaylist(_e)&&_e){super.loadPlaylist();const Ce=_e.id,Ie=_e.groupId;let Oe=_e.url;if(pe)try{Oe=pe.addDirectives(Oe)}catch(Ne){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(Ne))}this.log("loading audio-track playlist ".concat(Ce,' "').concat(_e.name,'" lang:').concat(_e.lang," group:").concat(Ie)),this.clearTimer(),this.hls.trigger(Events.AUDIO_TRACK_LOADING,{url:Oe,id:Ce,groupId:Ie,deliveryDirectives:pe||null})}}}const TICK_INTERVAL$1=500;class SubtitleStreamController extends BaseStreamController{constructor(pe,_e,Ce){super(pe,_e,Ce,"[subtitle-stream-controller]",PlaylistLevelType.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:pe}=this;pe.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.on(Events.ERROR,this.onError,this),pe.on(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),pe.on(Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),pe.on(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),pe.on(Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),pe.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.on(Events.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.off(Events.ERROR,this.onError,this),pe.off(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),pe.off(Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),pe.off(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),pe.off(Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),pe.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.off(Events.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(pe){this.stopLoad(),this.state=State.IDLE,this.setInterval(TICK_INTERVAL$1),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=pe,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(pe,_e){this.mainDetails=_e.details}onSubtitleFragProcessed(pe,_e){const{frag:Ce,success:Ie}=_e;if(this.fragPrevious=Ce,this.state=State.IDLE,!Ie)return;const Oe=this.tracksBuffered[this.currentTrackId];if(!Oe)return;let Ne;const Fe=Ce.start;for(let $e=0;$e<Oe.length;$e++)if(Fe>=Oe[$e].start&&Fe<=Oe[$e].end){Ne=Oe[$e];break}const Ue=Ce.start+Ce.duration;Ne?Ne.end=Ue:(Ne={start:Fe,end:Ue},Oe.push(Ne)),this.fragmentTracker.fragBuffered(Ce),this.fragBufferedComplete(Ce,null)}onBufferFlushing(pe,_e){const{startOffset:Ce,endOffset:Ie}=_e;if(Ce===0&&Ie!==Number.POSITIVE_INFINITY){const Oe=Ie-1;if(Oe<=0)return;_e.endOffsetSubtitles=Math.max(0,Oe),this.tracksBuffered.forEach(Ne=>{for(let Fe=0;Fe<Ne.length;){if(Ne[Fe].end<=Oe){Ne.shift();continue}else if(Ne[Fe].start<Oe)Ne[Fe].start=Oe;else break;Fe++}}),this.fragmentTracker.removeFragmentsInRange(Ce,Oe,PlaylistLevelType.SUBTITLE)}}onFragBuffered(pe,_e){if(!this.loadedmetadata&&_e.frag.type===PlaylistLevelType.MAIN){var Ce;(Ce=this.media)!=null&&Ce.buffered.length&&(this.loadedmetadata=!0)}}onError(pe,_e){const Ce=_e.frag;(Ce==null?void 0:Ce.type)===PlaylistLevelType.SUBTITLE&&(_e.details===ErrorDetails.FRAG_GAP&&this.fragmentTracker.fragBuffered(Ce,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==State.STOPPED&&(this.state=State.IDLE))}onSubtitleTracksUpdated(pe,{subtitleTracks:_e}){if(this.levels&&subtitleOptionsIdentical(this.levels,_e)){this.levels=_e.map(Ce=>new Level(Ce));return}this.tracksBuffered=[],this.levels=_e.map(Ce=>{const Ie=new Level(Ce);return this.tracksBuffered[Ie.id]=[],Ie}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,PlaylistLevelType.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(pe,_e){var Ce;if(this.currentTrackId=_e.id,!((Ce=this.levels)!=null&&Ce.length)||this.currentTrackId===-1){this.clearInterval();return}const Ie=this.levels[this.currentTrackId];Ie!=null&&Ie.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,Ie&&this.setInterval(TICK_INTERVAL$1)}onSubtitleTrackLoaded(pe,_e){var Ce;const{currentTrackId:Ie,levels:Oe}=this,{details:Ne,id:Fe}=_e;if(!Oe){this.warn("Subtitle tracks were reset while loading level ".concat(Fe));return}const Ue=Oe[Fe];if(Fe>=Oe.length||!Ue)return;this.log("Subtitle track ".concat(Fe," loaded [").concat(Ne.startSN,",").concat(Ne.endSN,"]").concat(Ne.lastPartSn?"[part-".concat(Ne.lastPartSn,"-").concat(Ne.lastPartIndex,"]"):"",",duration:").concat(Ne.totalduration)),this.mediaBuffer=this.mediaBufferTimeRanges;let $e=0;if(Ne.live||(Ce=Ue.details)!=null&&Ce.live){const Ve=this.mainDetails;if(Ne.deltaUpdateFailed||!Ve)return;const qe=Ve.fragments[0];if(!Ue.details)Ne.hasProgramDateTime&&Ve.hasProgramDateTime?(alignMediaPlaylistByPDT(Ne,Ve),$e=Ne.fragments[0].start):qe&&($e=qe.start,addSliding(Ne,$e));else{var ze;$e=this.alignPlaylists(Ne,Ue.details,(ze=this.levelLastLoaded)==null?void 0:ze.details),$e===0&&qe&&($e=qe.start,addSliding(Ne,$e))}}Ue.details=Ne,this.levelLastLoaded=Ue,Fe===Ie&&(!this.startFragRequested&&(this.mainDetails||!Ne.live)&&this.setStartPosition(this.mainDetails||Ne,$e),this.tick(),Ne.live&&!this.fragCurrent&&this.media&&this.state===State.IDLE&&(findFragmentByPTS(null,Ne.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),Ue.details=void 0)))}_handleFragmentLoadComplete(pe){const{frag:_e,payload:Ce}=pe,Ie=_e.decryptdata,Oe=this.hls;if(!this.fragContextChanged(_e)&&Ce&&Ce.byteLength>0&&Ie!=null&&Ie.key&&Ie.iv&&Ie.method==="AES-128"){const Ne=performance.now();this.decrypter.decrypt(new Uint8Array(Ce),Ie.key.buffer,Ie.iv.buffer).catch(Fe=>{throw Oe.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!1,error:Fe,reason:Fe.message,frag:_e}),Fe}).then(Fe=>{const Ue=performance.now();Oe.trigger(Events.FRAG_DECRYPTED,{frag:_e,payload:Fe,stats:{tstart:Ne,tdecrypt:Ue}})}).catch(Fe=>{this.warn("".concat(Fe.name,": ").concat(Fe.message)),this.state=State.IDLE})}}doTick(){if(!this.media){this.state=State.IDLE;return}if(this.state===State.IDLE){const{currentTrackId:pe,levels:_e}=this,Ce=_e==null?void 0:_e[pe];if(!Ce||!_e.length||!Ce.details)return;const{config:Ie}=this,Oe=this.getLoadPosition(),Ne=BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],Oe,Ie.maxBufferHole),{end:Fe,len:Ue}=Ne,$e=this.getFwdBufferInfo(this.media,PlaylistLevelType.MAIN),ze=Ce.details,Ve=this.getMaxBufferLength($e==null?void 0:$e.len)+ze.levelTargetDuration;if(Ue>Ve)return;const qe=ze.fragments,En=qe.length,vn=ze.edge;let hn=null;const _n=this.fragPrevious;if(Fe<vn){const bn=Ie.maxFragLookUpTolerance,An=Fe>vn-bn?0:bn;hn=findFragmentByPTS(_n,qe,Math.max(qe[0].start,Fe),An),!hn&&_n&&_n.start<qe[0].start&&(hn=qe[0])}else hn=qe[En-1];if(!hn)return;if(hn=this.mapToInitFragWhenRequired(hn),hn.sn!=="initSegment"){const bn=hn.sn-ze.startSN,An=qe[bn-1];An&&An.cc===hn.cc&&this.fragmentTracker.getState(An)===FragmentState.NOT_LOADED&&(hn=An)}this.fragmentTracker.getState(hn)===FragmentState.NOT_LOADED&&this.loadFragment(hn,Ce,Fe)}}getMaxBufferLength(pe){const _e=super.getMaxBufferLength();return pe?Math.max(_e,pe):_e}loadFragment(pe,_e,Ce){this.fragCurrent=pe,pe.sn==="initSegment"?this._loadInitSegment(pe,_e):(this.startFragRequested=!0,super.loadFragment(pe,_e,Ce))}get mediaBufferTimeRanges(){return new BufferableInstance(this.tracksBuffered[this.currentTrackId]||[])}}class BufferableInstance{constructor(pe){this.buffered=void 0;const _e=(Ce,Ie,Oe)=>{if(Ie=Ie>>>0,Ie>Oe-1)throw new DOMException("Failed to execute '".concat(Ce,"' on 'TimeRanges': The index provided (").concat(Ie,") is greater than the maximum bound (").concat(Oe,")"));return pe[Ie][Ce]};this.buffered={get length(){return pe.length},end(Ce){return _e("end",Ce,pe.length)},start(Ce){return _e("start",Ce,pe.length)}}}}class SubtitleTrackController extends BasePlaylistController{constructor(pe){super(pe,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let _e=null;const Ce=filterSubtitleTracks(this.media.textTracks);for(let Oe=0;Oe<Ce.length;Oe++)if(Ce[Oe].mode==="hidden")_e=Ce[Oe];else if(Ce[Oe].mode==="showing"){_e=Ce[Oe];break}const Ie=this.findTrackForTextTrack(_e);this.subtitleTrack!==Ie&&this.setSubtitleTrack(Ie)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(pe){this._subtitleDisplay=pe,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:pe}=this;pe.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.on(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.on(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),pe.on(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),pe.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.off(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.off(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),pe.off(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),pe.off(Events.ERROR,this.onError,this)}onMediaAttached(pe,_e){this.media=_e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(pe){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,pe)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),filterSubtitleTracks(this.media.textTracks).forEach(_e=>{clearCurrentCues(_e)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(pe,_e){this.tracks=_e.subtitleTracks}onSubtitleTrackLoaded(pe,_e){const{id:Ce,groupId:Ie,details:Oe}=_e,Ne=this.tracksInGroup[Ce];if(!Ne||Ne.groupId!==Ie){this.warn("Subtitle track with id:".concat(Ce," and group:").concat(Ie," not found in active group ").concat(Ne==null?void 0:Ne.groupId));return}const Fe=Ne.details;Ne.details=_e.details,this.log("Subtitle track ".concat(Ce,' "').concat(Ne.name,'" lang:').concat(Ne.lang," group:").concat(Ie," loaded [").concat(Oe.startSN,"-").concat(Oe.endSN,"]")),Ce===this.trackId&&this.playlistLoaded(Ce,_e,Fe)}onLevelLoading(pe,_e){this.switchLevel(_e.level)}onLevelSwitching(pe,_e){this.switchLevel(_e.level)}switchLevel(pe){const _e=this.hls.levels[pe];if(!_e)return;const Ce=_e.subtitleGroups||null,Ie=this.groupIds;let Oe=this.currentTrack;if(!Ce||(Ie==null?void 0:Ie.length)!==(Ce==null?void 0:Ce.length)||Ce!=null&&Ce.some(Ne=>(Ie==null?void 0:Ie.indexOf(Ne))===-1)){this.groupIds=Ce,this.trackId=-1,this.currentTrack=null;const Ne=this.tracks.filter(ze=>!Ce||Ce.indexOf(ze.groupId)!==-1);if(Ne.length)this.selectDefaultTrack&&!Ne.some(ze=>ze.default)&&(this.selectDefaultTrack=!1),Ne.forEach((ze,Ve)=>{ze.id=Ve});else if(!Oe&&!this.tracksInGroup.length)return;this.tracksInGroup=Ne;const Fe=this.hls.config.subtitlePreference;if(!Oe&&Fe){this.selectDefaultTrack=!1;const ze=findMatchingOption(Fe,Ne);if(ze>-1)Oe=Ne[ze];else{const Ve=findMatchingOption(Fe,this.tracks);Oe=this.tracks[Ve]}}let Ue=this.findTrackId(Oe);Ue===-1&&Oe&&(Ue=this.findTrackId(null));const $e={subtitleTracks:Ne};this.log("Updating subtitle tracks, ".concat(Ne.length,' track(s) found in "').concat(Ce==null?void 0:Ce.join(","),'" group-id')),this.hls.trigger(Events.SUBTITLE_TRACKS_UPDATED,$e),Ue!==-1&&this.trackId===-1&&this.setSubtitleTrack(Ue)}else this.shouldReloadPlaylist(Oe)&&this.setSubtitleTrack(this.trackId)}findTrackId(pe){const _e=this.tracksInGroup,Ce=this.selectDefaultTrack;for(let Ie=0;Ie<_e.length;Ie++){const Oe=_e[Ie];if(!(Ce&&!Oe.default||!Ce&&!pe)&&(!pe||matchesOption(Oe,pe)))return Ie}if(pe){for(let Ie=0;Ie<_e.length;Ie++){const Oe=_e[Ie];if(mediaAttributesIdentical(pe.attrs,Oe.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return Ie}for(let Ie=0;Ie<_e.length;Ie++){const Oe=_e[Ie];if(mediaAttributesIdentical(pe.attrs,Oe.attrs,["LANGUAGE"]))return Ie}}return-1}findTrackForTextTrack(pe){if(pe){const _e=this.tracksInGroup;for(let Ce=0;Ce<_e.length;Ce++){const Ie=_e[Ce];if(subtitleTrackMatchesTextTrack(Ie,pe))return Ce}}return-1}onError(pe,_e){_e.fatal||!_e.context||_e.context.type===PlaylistContextType.SUBTITLE_TRACK&&_e.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(_e.context.groupId)!==-1)&&this.checkRetry(_e)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(pe){this.selectDefaultTrack=!1,this.setSubtitleTrack(pe)}setSubtitleOption(pe){if(this.hls.config.subtitlePreference=pe,pe){const _e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,_e.length){const Ce=this.currentTrack;if(Ce&&matchesOption(pe,Ce))return Ce;const Ie=findMatchingOption(pe,this.tracksInGroup);if(Ie>-1){const Oe=this.tracksInGroup[Ie];return this.setSubtitleTrack(Ie),Oe}else{if(Ce)return null;{const Oe=findMatchingOption(pe,_e);if(Oe>-1)return _e[Oe]}}}}return null}loadPlaylist(pe){super.loadPlaylist();const _e=this.currentTrack;if(this.shouldLoadPlaylist(_e)&&_e){const Ce=_e.id,Ie=_e.groupId;let Oe=_e.url;if(pe)try{Oe=pe.addDirectives(Oe)}catch(Ne){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(Ne))}this.log("Loading subtitle playlist for id ".concat(Ce)),this.hls.trigger(Events.SUBTITLE_TRACK_LOADING,{url:Oe,id:Ce,groupId:Ie,deliveryDirectives:pe||null})}}toggleTrackModes(){const{media:pe}=this;if(!pe)return;const _e=filterSubtitleTracks(pe.textTracks),Ce=this.currentTrack;let Ie;if(Ce&&(Ie=_e.filter(Oe=>subtitleTrackMatchesTextTrack(Ce,Oe))[0],Ie||this.warn('Unable to find subtitle TextTrack with name "'.concat(Ce.name,'" and language "').concat(Ce.lang,'"'))),[].slice.call(_e).forEach(Oe=>{Oe.mode!=="disabled"&&Oe!==Ie&&(Oe.mode="disabled")}),Ie){const Oe=this.subtitleDisplay?"showing":"hidden";Ie.mode!==Oe&&(Ie.mode=Oe)}}setSubtitleTrack(pe){const _e=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=pe;return}if(pe<-1||pe>=_e.length||!isFiniteNumber(pe)){this.warn("Invalid subtitle track id: ".concat(pe));return}this.clearTimer(),this.selectDefaultTrack=!1;const Ce=this.currentTrack,Ie=_e[pe]||null;if(this.trackId=pe,this.currentTrack=Ie,this.toggleTrackModes(),!Ie){this.hls.trigger(Events.SUBTITLE_TRACK_SWITCH,{id:pe});return}const Oe=!!Ie.details&&!Ie.details.live;if(pe===this.trackId&&Ie===Ce&&Oe)return;this.log("Switching to subtitle-track ".concat(pe)+(Ie?' "'.concat(Ie.name,'" lang:').concat(Ie.lang," group:").concat(Ie.groupId):""));const{id:Ne,groupId:Fe="",name:Ue,type:$e,url:ze}=Ie;this.hls.trigger(Events.SUBTITLE_TRACK_SWITCH,{id:Ne,groupId:Fe,name:Ue,type:$e,url:ze});const Ve=this.switchParams(Ie.url,Ce==null?void 0:Ce.details,Ie.details);this.loadPlaylist(Ve)}}class BufferOperationQueue{constructor(pe){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=pe}append(pe,_e,Ce){const Ie=this.queues[_e];Ie.push(pe),Ie.length===1&&!Ce&&this.executeNext(_e)}insertAbort(pe,_e){this.queues[_e].unshift(pe),this.executeNext(_e)}appendBlocker(pe){let _e;const Ce=new Promise(Oe=>{_e=Oe}),Ie={execute:_e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(Ie,pe),Ce}executeNext(pe){const _e=this.queues[pe];if(_e.length){const Ce=_e[0];try{Ce.execute()}catch(Ie){logger.warn('[buffer-operation-queue]: Exception executing "'.concat(pe,'" SourceBuffer operation: ').concat(Ie)),Ce.onError(Ie);const Oe=this.buffers[pe];Oe!=null&&Oe.updating||this.shiftAndExecuteNext(pe)}}}shiftAndExecuteNext(pe){this.queues[pe].shift(),this.executeNext(pe)}current(pe){return this.queues[pe][0]}}const VIDEO_CODEC_PROFILE_REPLACE=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class BufferController{constructor(pe){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=Ce=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=Ce=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:Ce,mediaSource:Ie}=this;this.log("Media source opened"),Ce&&(Ce.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Events.MEDIA_ATTACHED,{media:Ce,mediaSource:Ie})),Ie&&Ie.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:Ce,_objectUrl:Ie}=this;Ce!==Ie&&logger.error("Media element src was set while attaching MediaSource (".concat(Ie," > ").concat(Ce,")"))},this.hls=pe;const _e="[buffer-controller]";this.appendSource=isManagedMediaSource(getMediaSource(pe.config.preferManagedMediaSource)),this.log=logger.log.bind(logger,_e),this.warn=logger.warn.bind(logger,_e),this.error=logger.error.bind(logger,_e),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:pe}=this;pe.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.on(Events.BUFFER_RESET,this.onBufferReset,this),pe.on(Events.BUFFER_APPENDING,this.onBufferAppending,this),pe.on(Events.BUFFER_CODECS,this.onBufferCodecs,this),pe.on(Events.BUFFER_EOS,this.onBufferEos,this),pe.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this),pe.on(Events.FRAG_PARSED,this.onFragParsed,this),pe.on(Events.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.off(Events.BUFFER_RESET,this.onBufferReset,this),pe.off(Events.BUFFER_APPENDING,this.onBufferAppending,this),pe.off(Events.BUFFER_CODECS,this.onBufferCodecs,this),pe.off(Events.BUFFER_EOS,this.onBufferEos,this),pe.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),pe.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this),pe.off(Events.FRAG_PARSED,this.onFragParsed,this),pe.off(Events.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new BufferOperationQueue(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(pe,_e){let Ce=2;(_e.audio&&!_e.video||!_e.altAudio)&&(Ce=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=Ce,this.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}onMediaAttaching(pe,_e){const Ce=this.media=_e.media,Ie=getMediaSource(this.appendSource);if(Ce&&Ie){var Oe;const Ne=this.mediaSource=new Ie;this.log("created media source: ".concat((Oe=Ne.constructor)==null?void 0:Oe.name)),Ne.addEventListener("sourceopen",this._onMediaSourceOpen),Ne.addEventListener("sourceended",this._onMediaSourceEnded),Ne.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(Ne.addEventListener("startstreaming",this._onStartStreaming),Ne.addEventListener("endstreaming",this._onEndStreaming));const Fe=this._objectUrl=self.URL.createObjectURL(Ne);if(this.appendSource)try{Ce.removeAttribute("src");const Ue=self.ManagedMediaSource;Ce.disableRemotePlayback=Ce.disableRemotePlayback||Ue&&Ne instanceof Ue,removeSourceChildren(Ce),addSource(Ce,Fe),Ce.load()}catch(Ue){Ce.src=Fe}else Ce.src=Fe;Ce.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:pe,mediaSource:_e,_objectUrl:Ce}=this;if(_e){if(this.log("media source detaching"),_e.readyState==="open")try{_e.endOfStream()}catch(Ie){this.warn("onMediaDetaching: ".concat(Ie.message," while calling endOfStream"))}this.onBufferReset(),_e.removeEventListener("sourceopen",this._onMediaSourceOpen),_e.removeEventListener("sourceended",this._onMediaSourceEnded),_e.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(_e.removeEventListener("startstreaming",this._onStartStreaming),_e.removeEventListener("endstreaming",this._onEndStreaming)),pe&&(pe.removeEventListener("emptied",this._onMediaEmptied),Ce&&self.URL.revokeObjectURL(Ce),this.mediaSrc===Ce?(pe.removeAttribute("src"),this.appendSource&&removeSourceChildren(pe),pe.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Events.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(pe=>{this.resetBuffer(pe)}),this._initSourceBuffer()}resetBuffer(pe){const _e=this.sourceBuffer[pe];try{if(_e){var Ce;this.removeBufferListeners(pe),this.sourceBuffer[pe]=void 0,(Ce=this.mediaSource)!=null&&Ce.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(_e)}}catch(Ie){this.warn("onBufferReset ".concat(pe),Ie)}}onBufferCodecs(pe,_e){const Ce=this.getSourceBufferTypes().length,Ie=Object.keys(_e);if(Ie.forEach(Ne=>{if(Ce){const Ue=this.tracks[Ne];if(Ue&&typeof Ue.buffer.changeType=="function"){var Fe;const{id:$e,codec:ze,levelCodec:Ve,container:qe,metadata:En}=_e[Ne],vn=pickMostCompleteCodecName(Ue.codec,Ue.levelCodec),hn=vn==null?void 0:vn.replace(VIDEO_CODEC_PROFILE_REPLACE,"$1");let _n=pickMostCompleteCodecName(ze,Ve);const bn=(Fe=_n)==null?void 0:Fe.replace(VIDEO_CODEC_PROFILE_REPLACE,"$1");if(_n&&hn!==bn){Ne.slice(0,5)==="audio"&&(_n=getCodecCompatibleName(_n,this.appendSource));const An="".concat(qe,";codecs=").concat(_n);this.appendChangeType(Ne,An),this.log("switching codec ".concat(vn," to ").concat(_n)),this.tracks[Ne]={buffer:Ue.buffer,codec:ze,container:qe,levelCodec:Ve,metadata:En,id:$e}}}}else this.pendingTracks[Ne]=_e[Ne]}),Ce)return;const Oe=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==Oe&&(this.log("".concat(Oe," bufferCodec event(s) expected ").concat(Ie.join(","))),this.bufferCodecEventsExpected=Oe),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(pe,_e){const{operationQueue:Ce}=this,Ie={execute:()=>{const Oe=this.sourceBuffer[pe];Oe&&(this.log("changing ".concat(pe," sourceBuffer type to ").concat(_e)),Oe.changeType(_e)),Ce.shiftAndExecuteNext(pe)},onStart:()=>{},onComplete:()=>{},onError:Oe=>{this.warn("Failed to change ".concat(pe," SourceBuffer type"),Oe)}};Ce.append(Ie,pe,!!this.pendingTracks[pe])}onBufferAppending(pe,_e){const{hls:Ce,operationQueue:Ie,tracks:Oe}=this,{data:Ne,type:Fe,frag:Ue,part:$e,chunkMeta:ze}=_e,Ve=ze.buffering[Fe],qe=self.performance.now();Ve.start=qe;const En=Ue.stats.buffering,vn=$e?$e.stats.buffering:null;En.start===0&&(En.start=qe),vn&&vn.start===0&&(vn.start=qe);const hn=Oe.audio;let _n=!1;Fe==="audio"&&(hn==null?void 0:hn.container)==="audio/mpeg"&&(_n=!this.lastMpegAudioChunk||ze.id===1||this.lastMpegAudioChunk.sn!==ze.sn,this.lastMpegAudioChunk=ze);const bn=Ue.start,An={execute:()=>{if(Ve.executeStart=self.performance.now(),_n){const xn=this.sourceBuffer[Fe];if(xn){const Sn=bn-xn.timestampOffset;Math.abs(Sn)>=.1&&(this.log("Updating audio SourceBuffer timestampOffset to ".concat(bn," (delta: ").concat(Sn,") sn: ").concat(Ue.sn,")")),xn.timestampOffset=bn)}}this.appendExecutor(Ne,Fe)},onStart:()=>{},onComplete:()=>{const xn=self.performance.now();Ve.executeEnd=Ve.end=xn,En.first===0&&(En.first=xn),vn&&vn.first===0&&(vn.first=xn);const{sourceBuffer:Sn}=this,Cn={};for(const Tn in Sn)Cn[Tn]=BufferHelper.getBuffered(Sn[Tn]);this.appendErrors[Fe]=0,Fe==="audio"||Fe==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Events.BUFFER_APPENDED,{type:Fe,frag:Ue,part:$e,chunkMeta:ze,parent:Ue.type,timeRanges:Cn})},onError:xn=>{const Sn={type:ErrorTypes.MEDIA_ERROR,parent:Ue.type,details:ErrorDetails.BUFFER_APPEND_ERROR,sourceBufferName:Fe,frag:Ue,part:$e,chunkMeta:ze,error:xn,err:xn,fatal:!1};if(xn.code===DOMException.QUOTA_EXCEEDED_ERR)Sn.details=ErrorDetails.BUFFER_FULL_ERROR;else{const Cn=++this.appendErrors[Fe];Sn.details=ErrorDetails.BUFFER_APPEND_ERROR,this.warn("Failed ".concat(Cn,"/").concat(Ce.config.appendErrorMaxRetry,' times to append segment in "').concat(Fe,'" sourceBuffer')),Cn>=Ce.config.appendErrorMaxRetry&&(Sn.fatal=!0)}Ce.trigger(Events.ERROR,Sn)}};Ie.append(An,Fe,!!this.pendingTracks[Fe])}onBufferFlushing(pe,_e){const{operationQueue:Ce}=this,Ie=Oe=>({execute:this.removeExecutor.bind(this,Oe,_e.startOffset,_e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Events.BUFFER_FLUSHED,{type:Oe})},onError:Ne=>{this.warn("Failed to remove from ".concat(Oe," SourceBuffer"),Ne)}});_e.type?Ce.append(Ie(_e.type),_e.type):this.getSourceBufferTypes().forEach(Oe=>{Ce.append(Ie(Oe),Oe)})}onFragParsed(pe,_e){const{frag:Ce,part:Ie}=_e,Oe=[],Ne=Ie?Ie.elementaryStreams:Ce.elementaryStreams;Ne[ElementaryStreamTypes.AUDIOVIDEO]?Oe.push("audiovideo"):(Ne[ElementaryStreamTypes.AUDIO]&&Oe.push("audio"),Ne[ElementaryStreamTypes.VIDEO]&&Oe.push("video"));const Fe=()=>{const Ue=self.performance.now();Ce.stats.buffering.end=Ue,Ie&&(Ie.stats.buffering.end=Ue);const $e=Ie?Ie.stats:Ce.stats;this.hls.trigger(Events.FRAG_BUFFERED,{frag:Ce,part:Ie,stats:$e,id:Ce.type})};Oe.length===0&&this.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(Ce.type," level: ").concat(Ce.level," sn: ").concat(Ce.sn)),this.blockBuffers(Fe,Oe)}onFragChanged(pe,_e){this.trimBuffers()}onBufferEos(pe,_e){this.getSourceBufferTypes().reduce((Ie,Oe)=>{const Ne=this.sourceBuffer[Oe];return Ne&&(!_e.type||_e.type===Oe)&&(Ne.ending=!0,Ne.ended||(Ne.ended=!0,this.log("".concat(Oe," sourceBuffer now EOS")))),Ie&&!!(!Ne||Ne.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(Oe=>{const Ne=this.sourceBuffer[Oe];Ne&&(Ne.ending=!1)});const{mediaSource:Ie}=this;if(!Ie||Ie.readyState!=="open"){Ie&&this.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(Ie.readyState));return}this.log("Calling mediaSource.endOfStream()"),Ie.endOfStream()}))}onLevelUpdated(pe,{details:_e}){_e.fragments.length&&(this.details=_e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:pe,details:_e,media:Ce}=this;if(!Ce||_e===null||!this.getSourceBufferTypes().length)return;const Oe=pe.config,Ne=Ce.currentTime,Fe=_e.levelTargetDuration,Ue=_e.live&&Oe.liveBackBufferLength!==null?Oe.liveBackBufferLength:Oe.backBufferLength;if(isFiniteNumber(Ue)&&Ue>0){const $e=Math.max(Ue,Fe),ze=Math.floor(Ne/Fe)*Fe-$e;this.flushBackBuffer(Ne,Fe,ze)}if(isFiniteNumber(Oe.frontBufferFlushThreshold)&&Oe.frontBufferFlushThreshold>0){const $e=Math.max(Oe.maxBufferLength,Oe.frontBufferFlushThreshold),ze=Math.max($e,Fe),Ve=Math.floor(Ne/Fe)*Fe+ze;this.flushFrontBuffer(Ne,Fe,Ve)}}flushBackBuffer(pe,_e,Ce){const{details:Ie,sourceBuffer:Oe}=this;this.getSourceBufferTypes().forEach(Fe=>{const Ue=Oe[Fe];if(Ue){const $e=BufferHelper.getBuffered(Ue);if($e.length>0&&Ce>$e.start(0)){if(this.hls.trigger(Events.BACK_BUFFER_REACHED,{bufferEnd:Ce}),Ie!=null&&Ie.live)this.hls.trigger(Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:Ce});else if(Ue.ended&&$e.end($e.length-1)-pe<_e*2){this.log("Cannot flush ".concat(Fe," back buffer while SourceBuffer is in ended state"));return}this.hls.trigger(Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Ce,type:Fe})}}})}flushFrontBuffer(pe,_e,Ce){const{sourceBuffer:Ie}=this;this.getSourceBufferTypes().forEach(Ne=>{const Fe=Ie[Ne];if(Fe){const Ue=BufferHelper.getBuffered(Fe),$e=Ue.length;if($e<2)return;const ze=Ue.start($e-1),Ve=Ue.end($e-1);if(Ce>ze||pe>=ze&&pe<=Ve)return;if(Fe.ended&&pe-Ve<2*_e){this.log("Cannot flush ".concat(Ne," front buffer while SourceBuffer is in ended state"));return}this.hls.trigger(Events.BUFFER_FLUSHING,{startOffset:ze,endOffset:1/0,type:Ne})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:pe,hls:_e,media:Ce,mediaSource:Ie}=this,Oe=pe.fragments[0].start+pe.totalduration,Ne=Ce.duration,Fe=isFiniteNumber(Ie.duration)?Ie.duration:0;pe.live&&_e.config.liveDurationInfinity?(Ie.duration=1/0,this.updateSeekableRange(pe)):(Oe>Fe&&Oe>Ne||!isFiniteNumber(Ne))&&(this.log("Updating Media Source duration to ".concat(Oe.toFixed(3))),Ie.duration=Oe)}updateSeekableRange(pe){const _e=this.mediaSource,Ce=pe.fragments;if(Ce.length&&pe.live&&_e!=null&&_e.setLiveSeekableRange){const Oe=Math.max(0,Ce[0].start),Ne=Math.max(Oe,Oe+pe.totalduration);this.log("Media Source duration is set to ".concat(_e.duration,". Setting seekable range to ").concat(Oe,"-").concat(Ne,".")),_e.setLiveSeekableRange(Oe,Ne)}}checkPendingTracks(){const{bufferCodecEventsExpected:pe,operationQueue:_e,pendingTracks:Ce}=this,Ie=Object.keys(Ce).length;if(Ie&&(!pe||Ie===2||"audiovideo"in Ce)){this.createSourceBuffers(Ce),this.pendingTracks={};const Oe=this.getSourceBufferTypes();if(Oe.length)this.hls.trigger(Events.BUFFER_CREATED,{tracks:this.tracks}),Oe.forEach(Ne=>{_e.executeNext(Ne)});else{const Ne=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:Ne,reason:Ne.message})}}}createSourceBuffers(pe){const{sourceBuffer:_e,mediaSource:Ce}=this;if(!Ce)throw Error("createSourceBuffers called when mediaSource was null");for(const Oe in pe)if(!_e[Oe]){var Ie;const Ne=pe[Oe];if(!Ne)throw Error("source buffer exists for track ".concat(Oe,", however track does not"));let Fe=((Ie=Ne.levelCodec)==null?void 0:Ie.indexOf(","))===-1?Ne.levelCodec:Ne.codec;Fe&&Oe.slice(0,5)==="audio"&&(Fe=getCodecCompatibleName(Fe,this.appendSource));const Ue="".concat(Ne.container,";codecs=").concat(Fe);this.log("creating sourceBuffer(".concat(Ue,")"));try{const $e=_e[Oe]=Ce.addSourceBuffer(Ue),ze=Oe;this.addBufferListener(ze,"updatestart",this._onSBUpdateStart),this.addBufferListener(ze,"updateend",this._onSBUpdateEnd),this.addBufferListener(ze,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(ze,"bufferedchange",(Ve,qe)=>{const En=qe.removedRanges;En!=null&&En.length&&this.hls.trigger(Events.BUFFER_FLUSHED,{type:Oe})}),this.tracks[Oe]={buffer:$e,codec:Fe,container:Ne.container,levelCodec:Ne.levelCodec,metadata:Ne.metadata,id:Ne.id}}catch($e){this.error("error while trying to add sourceBuffer: ".concat($e.message)),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:$e,sourceBufferName:Oe,mimeType:Ue})}}}get mediaSrc(){var pe;const _e=((pe=this.media)==null?void 0:pe.firstChild)||this.media;return _e==null?void 0:_e.src}_onSBUpdateStart(pe){const{operationQueue:_e}=this;_e.current(pe).onStart()}_onSBUpdateEnd(pe){var _e;if(((_e=this.mediaSource)==null?void 0:_e.readyState)==="closed"){this.resetBuffer(pe);return}const{operationQueue:Ce}=this;Ce.current(pe).onComplete(),Ce.shiftAndExecuteNext(pe)}_onSBUpdateError(pe,_e){var Ce;const Ie=new Error("".concat(pe," SourceBuffer error. MediaSource readyState: ").concat((Ce=this.mediaSource)==null?void 0:Ce.readyState));this.error("".concat(Ie),_e),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_APPENDING_ERROR,sourceBufferName:pe,error:Ie,fatal:!1});const Oe=this.operationQueue.current(pe);Oe&&Oe.onError(Ie)}removeExecutor(pe,_e,Ce){const{media:Ie,mediaSource:Oe,operationQueue:Ne,sourceBuffer:Fe}=this,Ue=Fe[pe];if(!Ie||!Oe||!Ue){this.warn("Attempting to remove from the ".concat(pe," SourceBuffer, but it does not exist")),Ne.shiftAndExecuteNext(pe);return}const $e=isFiniteNumber(Ie.duration)?Ie.duration:1/0,ze=isFiniteNumber(Oe.duration)?Oe.duration:1/0,Ve=Math.max(0,_e),qe=Math.min(Ce,$e,ze);qe>Ve&&(!Ue.ending||Ue.ended)?(Ue.ended=!1,this.log("Removing [".concat(Ve,",").concat(qe,"] from the ").concat(pe," SourceBuffer")),Ue.remove(Ve,qe)):Ne.shiftAndExecuteNext(pe)}appendExecutor(pe,_e){const Ce=this.sourceBuffer[_e];if(!Ce){if(!this.pendingTracks[_e])throw new Error("Attempting to append to the ".concat(_e," SourceBuffer, but it does not exist"));return}Ce.ended=!1,Ce.appendBuffer(pe)}blockBuffers(pe,_e=this.getSourceBufferTypes()){if(!_e.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(pe);return}const{operationQueue:Ce}=this,Ie=_e.map(Oe=>Ce.appendBlocker(Oe));Promise.all(Ie).then(()=>{pe(),_e.forEach(Oe=>{const Ne=this.sourceBuffer[Oe];Ne!=null&&Ne.updating||Ce.shiftAndExecuteNext(Oe)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(pe,_e,Ce){const Ie=this.sourceBuffer[pe];if(!Ie)return;const Oe=Ce.bind(this,pe);this.listeners[pe].push({event:_e,listener:Oe}),Ie.addEventListener(_e,Oe)}removeBufferListeners(pe){const _e=this.sourceBuffer[pe];_e&&this.listeners[pe].forEach(Ce=>{_e.removeEventListener(Ce.event,Ce.listener)})}}function removeSourceChildren(xe){const pe=xe.querySelectorAll("source");[].slice.call(pe).forEach(_e=>{xe.removeChild(_e)})}function addSource(xe,pe){const _e=self.document.createElement("source");_e.type="video/mp4",_e.src=pe,xe.appendChild(_e)}const specialCea608CharsCodes={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},getCharForByte=xe=>String.fromCharCode(specialCea608CharsCodes[xe]||xe),NR_ROWS=15,NR_COLS=100,rowsLowCh1={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},rowsHighCh1={17:2,18:4,21:6,22:8,23:10,19:13,20:15},rowsLowCh2={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},rowsHighCh2={25:2,26:4,29:6,30:8,31:10,27:13,28:15},backgroundColors=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class CaptionsLogger{constructor(){this.time=null,this.verboseLevel=0}log(pe,_e){if(this.verboseLevel>=pe){const Ce=typeof _e=="function"?_e():_e;logger.log("".concat(this.time," [").concat(pe,"] ").concat(Ce))}}}const numArrayToHexArray=function xe(pe){const _e=[];for(let Ce=0;Ce<pe.length;Ce++)_e.push(pe[Ce].toString(16));return _e};class PenState{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(pe){const _e=["foreground","underline","italics","background","flash"];for(let Ce=0;Ce<_e.length;Ce++){const Ie=_e[Ce];pe.hasOwnProperty(Ie)&&(this[Ie]=pe[Ie])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(pe){return this.foreground===pe.foreground&&this.underline===pe.underline&&this.italics===pe.italics&&this.background===pe.background&&this.flash===pe.flash}copy(pe){this.foreground=pe.foreground,this.underline=pe.underline,this.italics=pe.italics,this.background=pe.background,this.flash=pe.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class StyledUnicodeChar{constructor(){this.uchar=" ",this.penState=new PenState}reset(){this.uchar=" ",this.penState.reset()}setChar(pe,_e){this.uchar=pe,this.penState.copy(_e)}setPenState(pe){this.penState.copy(pe)}equals(pe){return this.uchar===pe.uchar&&this.penState.equals(pe.penState)}copy(pe){this.uchar=pe.uchar,this.penState.copy(pe.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Row{constructor(pe){this.chars=[],this.pos=0,this.currPenState=new PenState,this.cueStartTime=null,this.logger=void 0;for(let _e=0;_e<NR_COLS;_e++)this.chars.push(new StyledUnicodeChar);this.logger=pe}equals(pe){for(let _e=0;_e<NR_COLS;_e++)if(!this.chars[_e].equals(pe.chars[_e]))return!1;return!0}copy(pe){for(let _e=0;_e<NR_COLS;_e++)this.chars[_e].copy(pe.chars[_e])}isEmpty(){let pe=!0;for(let _e=0;_e<NR_COLS;_e++)if(!this.chars[_e].isEmpty()){pe=!1;break}return pe}setCursor(pe){this.pos!==pe&&(this.pos=pe),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>NR_COLS&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=NR_COLS)}moveCursor(pe){const _e=this.pos+pe;if(pe>1)for(let Ce=this.pos+1;Ce<_e+1;Ce++)this.chars[Ce].setPenState(this.currPenState);this.setCursor(_e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(pe){pe>=144&&this.backSpace();const _e=getCharForByte(pe);if(this.pos>=NR_COLS){this.logger.log(0,()=>"Cannot insert "+pe.toString(16)+" ("+_e+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(_e,this.currPenState),this.moveCursor(1)}clearFromPos(pe){let _e;for(_e=pe;_e<NR_COLS;_e++)this.chars[_e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const pe=[];let _e=!0;for(let Ce=0;Ce<NR_COLS;Ce++){const Ie=this.chars[Ce].uchar;Ie!==" "&&(_e=!1),pe.push(Ie)}return _e?"":pe.join("")}setPenStyles(pe){this.currPenState.setStyles(pe),this.chars[this.pos].setPenState(this.currPenState)}}class CaptionScreen{constructor(pe){this.rows=[],this.currRow=NR_ROWS-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let _e=0;_e<NR_ROWS;_e++)this.rows.push(new Row(pe));this.logger=pe}reset(){for(let pe=0;pe<NR_ROWS;pe++)this.rows[pe].clear();this.currRow=NR_ROWS-1}equals(pe){let _e=!0;for(let Ce=0;Ce<NR_ROWS;Ce++)if(!this.rows[Ce].equals(pe.rows[Ce])){_e=!1;break}return _e}copy(pe){for(let _e=0;_e<NR_ROWS;_e++)this.rows[_e].copy(pe.rows[_e])}isEmpty(){let pe=!0;for(let _e=0;_e<NR_ROWS;_e++)if(!this.rows[_e].isEmpty()){pe=!1;break}return pe}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(pe){this.rows[this.currRow].insertChar(pe)}setPen(pe){this.rows[this.currRow].setPenStyles(pe)}moveCursor(pe){this.rows[this.currRow].moveCursor(pe)}setCursor(pe){this.logger.log(2,"setCursor: "+pe),this.rows[this.currRow].setCursor(pe)}setPAC(pe){this.logger.log(2,()=>"pacData = "+JSON.stringify(pe));let _e=pe.row-1;if(this.nrRollUpRows&&_e<this.nrRollUpRows-1&&(_e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==_e){for(let Fe=0;Fe<NR_ROWS;Fe++)this.rows[Fe].clear();const Oe=this.currRow+1-this.nrRollUpRows,Ne=this.lastOutputScreen;if(Ne){const Fe=Ne.rows[Oe].cueStartTime,Ue=this.logger.time;if(Fe!==null&&Ue!==null&&Fe<Ue)for(let $e=0;$e<this.nrRollUpRows;$e++)this.rows[_e-this.nrRollUpRows+$e+1].copy(Ne.rows[Oe+$e])}}this.currRow=_e;const Ce=this.rows[this.currRow];if(pe.indent!==null){const Oe=pe.indent,Ne=Math.max(Oe-1,0);Ce.setCursor(pe.indent),pe.color=Ce.chars[Ne].penState.foreground}const Ie={foreground:pe.color,underline:pe.underline,italics:pe.italics,background:"black",flash:!1};this.setPen(Ie)}setBkgData(pe){this.logger.log(2,()=>"bkgData = "+JSON.stringify(pe)),this.backSpace(),this.setPen(pe),this.insertChar(32)}setRollUpRows(pe){this.nrRollUpRows=pe}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const pe=this.currRow+1-this.nrRollUpRows,_e=this.rows.splice(pe,1)[0];_e.clear(),this.rows.splice(this.currRow,0,_e),this.logger.log(2,"Rolling up")}getDisplayText(pe){pe=pe||!1;const _e=[];let Ce="",Ie=-1;for(let Oe=0;Oe<NR_ROWS;Oe++){const Ne=this.rows[Oe].getTextString();Ne&&(Ie=Oe+1,pe?_e.push("Row "+Ie+": '"+Ne+"'"):_e.push(Ne.trim()))}return _e.length>0&&(pe?Ce="["+_e.join(" | ")+"]":Ce=_e.join("\n")),Ce}getTextAndFormat(){return this.rows}}class Cea608Channel{constructor(pe,_e,Ce){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=pe,this.outputFilter=_e,this.mode=null,this.verbose=0,this.displayedMemory=new CaptionScreen(Ce),this.nonDisplayedMemory=new CaptionScreen(Ce),this.lastOutputScreen=new CaptionScreen(Ce),this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=Ce}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(pe){this.outputFilter=pe}setPAC(pe){this.writeScreen.setPAC(pe)}setBkgData(pe){this.writeScreen.setBkgData(pe)}setMode(pe){pe!==this.mode&&(this.mode=pe,this.logger.log(2,()=>"MODE="+pe),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=pe)}insertChars(pe){for(let Ce=0;Ce<pe.length;Ce++)this.writeScreen.insertChar(pe[Ce]);const _e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>_e+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(pe){this.logger.log(2,"RU("+pe+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(pe)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const pe=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=pe,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(pe){this.logger.log(2,"TO("+pe+") - Tab Offset"),this.writeScreen.moveCursor(pe)}ccMIDROW(pe){const _e={flash:!1};if(_e.underline=pe%2===1,_e.italics=pe>=46,_e.italics)_e.foreground="white";else{const Ce=Math.floor(pe/2)-16,Ie=["white","green","blue","cyan","red","yellow","magenta"];_e.foreground=Ie[Ce]}this.logger.log(2,"MIDROW: "+JSON.stringify(_e)),this.writeScreen.setPen(_e)}outputDataUpdate(pe=!1){const _e=this.logger.time;_e!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=_e:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,_e,this.lastOutputScreen),pe&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:_e),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(pe){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,pe,this.displayedMemory),this.cueStartTime=pe))}}class Cea608Parser{constructor(pe,_e,Ce){this.channels=void 0,this.currentChannel=0,this.cmdHistory=createCmdHistory(),this.logger=void 0;const Ie=this.logger=new CaptionsLogger;this.channels=[null,new Cea608Channel(pe,_e,Ie),new Cea608Channel(pe+1,Ce,Ie)]}getHandler(pe){return this.channels[pe].getHandler()}setHandler(pe,_e){this.channels[pe].setHandler(_e)}addData(pe,_e){this.logger.time=pe;for(let Ce=0;Ce<_e.length;Ce+=2){const Ie=_e[Ce]&127,Oe=_e[Ce+1]&127;let Ne=!1,Fe=null;if(Ie===0&&Oe===0)continue;this.logger.log(3,()=>"["+numArrayToHexArray([_e[Ce],_e[Ce+1]])+"] -> ("+numArrayToHexArray([Ie,Oe])+")");const Ue=this.cmdHistory;if(Ie>=16&&Ie<=31){if(hasCmdRepeated(Ie,Oe,Ue)){setLastCmd(null,null,Ue),this.logger.log(3,()=>"Repeated command ("+numArrayToHexArray([Ie,Oe])+") is dropped");continue}setLastCmd(Ie,Oe,this.cmdHistory),Ne=this.parseCmd(Ie,Oe),Ne||(Ne=this.parseMidrow(Ie,Oe)),Ne||(Ne=this.parsePAC(Ie,Oe)),Ne||(Ne=this.parseBackgroundAttributes(Ie,Oe))}else setLastCmd(null,null,Ue);if(!Ne&&(Fe=this.parseChars(Ie,Oe),Fe)){const ze=this.currentChannel;ze&&ze>0?this.channels[ze].insertChars(Fe):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!Ne&&!Fe&&this.logger.log(2,()=>"Couldn't parse cleaned data "+numArrayToHexArray([Ie,Oe])+" orig: "+numArrayToHexArray([_e[Ce],_e[Ce+1]]))}}parseCmd(pe,_e){const Ce=(pe===20||pe===28||pe===21||pe===29)&&_e>=32&&_e<=47,Ie=(pe===23||pe===31)&&_e>=33&&_e<=35;if(!(Ce||Ie))return!1;const Oe=pe===20||pe===21||pe===23?1:2,Ne=this.channels[Oe];return pe===20||pe===21||pe===28||pe===29?_e===32?Ne.ccRCL():_e===33?Ne.ccBS():_e===34?Ne.ccAOF():_e===35?Ne.ccAON():_e===36?Ne.ccDER():_e===37?Ne.ccRU(2):_e===38?Ne.ccRU(3):_e===39?Ne.ccRU(4):_e===40?Ne.ccFON():_e===41?Ne.ccRDC():_e===42?Ne.ccTR():_e===43?Ne.ccRTD():_e===44?Ne.ccEDM():_e===45?Ne.ccCR():_e===46?Ne.ccENM():_e===47&&Ne.ccEOC():Ne.ccTO(_e-32),this.currentChannel=Oe,!0}parseMidrow(pe,_e){let Ce=0;if((pe===17||pe===25)&&_e>=32&&_e<=47){if(pe===17?Ce=1:Ce=2,Ce!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const Ie=this.channels[Ce];return Ie?(Ie.ccMIDROW(_e),this.logger.log(3,()=>"MIDROW ("+numArrayToHexArray([pe,_e])+")"),!0):!1}return!1}parsePAC(pe,_e){let Ce;const Ie=(pe>=17&&pe<=23||pe>=25&&pe<=31)&&_e>=64&&_e<=127,Oe=(pe===16||pe===24)&&_e>=64&&_e<=95;if(!(Ie||Oe))return!1;const Ne=pe<=23?1:2;_e>=64&&_e<=95?Ce=Ne===1?rowsLowCh1[pe]:rowsLowCh2[pe]:Ce=Ne===1?rowsHighCh1[pe]:rowsHighCh2[pe];const Fe=this.channels[Ne];return Fe?(Fe.setPAC(this.interpretPAC(Ce,_e)),this.currentChannel=Ne,!0):!1}interpretPAC(pe,_e){let Ce;const Ie={color:null,italics:!1,indent:null,underline:!1,row:pe};return _e>95?Ce=_e-96:Ce=_e-64,Ie.underline=(Ce&1)===1,Ce<=13?Ie.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Ce/2)]:Ce<=15?(Ie.italics=!0,Ie.color="white"):Ie.indent=Math.floor((Ce-16)/2)*4,Ie}parseChars(pe,_e){let Ce,Ie=null,Oe=null;if(pe>=25?(Ce=2,Oe=pe-8):(Ce=1,Oe=pe),Oe>=17&&Oe<=19){let Ne;Oe===17?Ne=_e+80:Oe===18?Ne=_e+112:Ne=_e+144,this.logger.log(2,()=>"Special char '"+getCharForByte(Ne)+"' in channel "+Ce),Ie=[Ne]}else pe>=32&&pe<=127&&(Ie=_e===0?[pe]:[pe,_e]);return Ie&&this.logger.log(3,()=>"Char codes =  "+numArrayToHexArray(Ie).join(",")),Ie}parseBackgroundAttributes(pe,_e){const Ce=(pe===16||pe===24)&&_e>=32&&_e<=47,Ie=(pe===23||pe===31)&&_e>=45&&_e<=47;if(!(Ce||Ie))return!1;let Oe;const Ne={};pe===16||pe===24?(Oe=Math.floor((_e-32)/2),Ne.background=backgroundColors[Oe],_e%2===1&&(Ne.background=Ne.background+"_semi")):_e===45?Ne.background="transparent":(Ne.foreground="black",_e===47&&(Ne.underline=!0));const Fe=pe<=23?1:2;return this.channels[Fe].setBkgData(Ne),!0}reset(){for(let pe=0;pe<Object.keys(this.channels).length;pe++){const _e=this.channels[pe];_e&&_e.reset()}setLastCmd(null,null,this.cmdHistory)}cueSplitAtTime(pe){for(let _e=0;_e<this.channels.length;_e++){const Ce=this.channels[_e];Ce&&Ce.cueSplitAtTime(pe)}}}function setLastCmd(xe,pe,_e){_e.a=xe,_e.b=pe}function hasCmdRepeated(xe,pe,_e){return _e.a===xe&&_e.b===pe}function createCmdHistory(){return{a:null,b:null}}class OutputFilter{constructor(pe,_e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=pe,this.trackName=_e}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(pe,_e,Ce){(this.startTime===null||this.startTime>pe)&&(this.startTime=pe),this.endTime=_e,this.screen=Ce,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var VTTCue=function(){if(optionalSelf!=null&&optionalSelf.VTTCue)return self.VTTCue;const xe=["","lr","rl"],pe=["start","middle","end","left","right"];function _e(Fe,Ue){if(typeof Ue!="string"||!Array.isArray(Fe))return!1;const $e=Ue.toLowerCase();return~Fe.indexOf($e)?$e:!1}function Ce(Fe){return _e(xe,Fe)}function Ie(Fe){return _e(pe,Fe)}function Oe(Fe,...Ue){let $e=1;for(;$e<arguments.length;$e++){const ze=arguments[$e];for(const Ve in ze)Fe[Ve]=ze[Ve]}return Fe}function Ne(Fe,Ue,$e){const ze=this,Ve={enumerable:!0};ze.hasBeenReset=!1;let qe="",En=!1,vn=Fe,hn=Ue,_n=$e,bn=null,An="",xn=!0,Sn="auto",Cn="start",Tn=50,wn="middle",Ln=50,Pn="middle";Object.defineProperty(ze,"id",Oe({},Ve,{get:function(){return qe},set:function(kn){qe=""+kn}})),Object.defineProperty(ze,"pauseOnExit",Oe({},Ve,{get:function(){return En},set:function(kn){En=!!kn}})),Object.defineProperty(ze,"startTime",Oe({},Ve,{get:function(){return vn},set:function(kn){if(typeof kn!="number")throw new TypeError("Start time must be set to a number.");vn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"endTime",Oe({},Ve,{get:function(){return hn},set:function(kn){if(typeof kn!="number")throw new TypeError("End time must be set to a number.");hn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"text",Oe({},Ve,{get:function(){return _n},set:function(kn){_n=""+kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"region",Oe({},Ve,{get:function(){return bn},set:function(kn){bn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"vertical",Oe({},Ve,{get:function(){return An},set:function(kn){const In=Ce(kn);if(In===!1)throw new SyntaxError("An invalid or illegal string was specified.");An=In,this.hasBeenReset=!0}})),Object.defineProperty(ze,"snapToLines",Oe({},Ve,{get:function(){return xn},set:function(kn){xn=!!kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"line",Oe({},Ve,{get:function(){return Sn},set:function(kn){if(typeof kn!="number"&&kn!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");Sn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"lineAlign",Oe({},Ve,{get:function(){return Cn},set:function(kn){const In=Ie(kn);if(!In)throw new SyntaxError("An invalid or illegal string was specified.");Cn=In,this.hasBeenReset=!0}})),Object.defineProperty(ze,"position",Oe({},Ve,{get:function(){return Tn},set:function(kn){if(kn<0||kn>100)throw new Error("Position must be between 0 and 100.");Tn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"positionAlign",Oe({},Ve,{get:function(){return wn},set:function(kn){const In=Ie(kn);if(!In)throw new SyntaxError("An invalid or illegal string was specified.");wn=In,this.hasBeenReset=!0}})),Object.defineProperty(ze,"size",Oe({},Ve,{get:function(){return Ln},set:function(kn){if(kn<0||kn>100)throw new Error("Size must be between 0 and 100.");Ln=kn,this.hasBeenReset=!0}})),Object.defineProperty(ze,"align",Oe({},Ve,{get:function(){return Pn},set:function(kn){const In=Ie(kn);if(!In)throw new SyntaxError("An invalid or illegal string was specified.");Pn=In,this.hasBeenReset=!0}})),ze.displayState=void 0}return Ne.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},Ne}();class StringDecoder{decode(pe,_e){if(!pe)return"";if(typeof pe!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(pe))}}function parseTimeStamp(xe){function pe(Ce,Ie,Oe,Ne){return(Ce|0)*3600+(Ie|0)*60+(Oe|0)+parseFloat(Ne||0)}const _e=xe.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return _e?parseFloat(_e[2])>59?pe(_e[2],_e[3],0,_e[4]):pe(_e[1],_e[2],_e[3],_e[4]):null}class Settings{constructor(){this.values=Object.create(null)}set(pe,_e){!this.get(pe)&&_e!==""&&(this.values[pe]=_e)}get(pe,_e,Ce){return Ce?this.has(pe)?this.values[pe]:_e[Ce]:this.has(pe)?this.values[pe]:_e}has(pe){return pe in this.values}alt(pe,_e,Ce){for(let Ie=0;Ie<Ce.length;++Ie)if(_e===Ce[Ie]){this.set(pe,_e);break}}integer(pe,_e){/^-?\d+$/.test(_e)&&this.set(pe,parseInt(_e,10))}percent(pe,_e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(_e)){const Ce=parseFloat(_e);if(Ce>=0&&Ce<=100)return this.set(pe,Ce),!0}return!1}}function parseOptions(xe,pe,_e,Ce){const Ie=Ce?xe.split(Ce):[xe];for(const Oe in Ie){if(typeof Ie[Oe]!="string")continue;const Ne=Ie[Oe].split(_e);if(Ne.length!==2)continue;const Fe=Ne[0],Ue=Ne[1];pe(Fe,Ue)}}const defaults=new VTTCue(0,0,""),center=defaults.align==="middle"?"middle":"center";function parseCue(xe,pe,_e){const Ce=xe;function Ie(){const Fe=parseTimeStamp(xe);if(Fe===null)throw new Error("Malformed timestamp: "+Ce);return xe=xe.replace(/^[^\sa-zA-Z-]+/,""),Fe}function Oe(Fe,Ue){const $e=new Settings;parseOptions(Fe,function(qe,En){let vn;switch(qe){case"region":for(let hn=_e.length-1;hn>=0;hn--)if(_e[hn].id===En){$e.set(qe,_e[hn].region);break}break;case"vertical":$e.alt(qe,En,["rl","lr"]);break;case"line":vn=En.split(","),$e.integer(qe,vn[0]),$e.percent(qe,vn[0])&&$e.set("snapToLines",!1),$e.alt(qe,vn[0],["auto"]),vn.length===2&&$e.alt("lineAlign",vn[1],["start",center,"end"]);break;case"position":vn=En.split(","),$e.percent(qe,vn[0]),vn.length===2&&$e.alt("positionAlign",vn[1],["start",center,"end","line-left","line-right","auto"]);break;case"size":$e.percent(qe,En);break;case"align":$e.alt(qe,En,["start",center,"end","left","right"]);break}},/:/,/\s/),Ue.region=$e.get("region",null),Ue.vertical=$e.get("vertical","");let ze=$e.get("line","auto");ze==="auto"&&defaults.line===-1&&(ze=-1),Ue.line=ze,Ue.lineAlign=$e.get("lineAlign","start"),Ue.snapToLines=$e.get("snapToLines",!0),Ue.size=$e.get("size",100),Ue.align=$e.get("align",center);let Ve=$e.get("position","auto");Ve==="auto"&&defaults.position===50&&(Ve=Ue.align==="start"||Ue.align==="left"?0:Ue.align==="end"||Ue.align==="right"?100:50),Ue.position=Ve}function Ne(){xe=xe.replace(/^\s+/,"")}if(Ne(),pe.startTime=Ie(),Ne(),xe.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+Ce);xe=xe.slice(3),Ne(),pe.endTime=Ie(),Ne(),Oe(xe,pe)}function fixLineBreaks(xe){return xe.replace(/<br(?: \/)?>/gi,"\n")}class VTTParser{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new StringDecoder,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(pe){const _e=this;pe&&(_e.buffer+=_e.decoder.decode(pe,{stream:!0}));function Ce(){let Oe=_e.buffer,Ne=0;for(Oe=fixLineBreaks(Oe);Ne<Oe.length&&Oe[Ne]!=="\r"&&Oe[Ne]!=="\n";)++Ne;const Fe=Oe.slice(0,Ne);return Oe[Ne]==="\r"&&++Ne,Oe[Ne]==="\n"&&++Ne,_e.buffer=Oe.slice(Ne),Fe}function Ie(Oe){parseOptions(Oe,function(Ne,Fe){},/:/)}try{let Oe="";if(_e.state==="INITIAL"){if(!/\r\n|\n/.test(_e.buffer))return this;Oe=Ce();const Fe=Oe.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(Fe!=null&&Fe[0]))throw new Error("Malformed WebVTT signature.");_e.state="HEADER"}let Ne=!1;for(;_e.buffer;){if(!/\r\n|\n/.test(_e.buffer))return this;switch(Ne?Ne=!1:Oe=Ce(),_e.state){case"HEADER":/:/.test(Oe)?Ie(Oe):Oe||(_e.state="ID");continue;case"NOTE":Oe||(_e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(Oe)){_e.state="NOTE";break}if(!Oe)continue;if(_e.cue=new VTTCue(0,0,""),_e.state="CUE",Oe.indexOf("-->")===-1){_e.cue.id=Oe;continue}case"CUE":if(!_e.cue){_e.state="BADCUE";continue}try{parseCue(Oe,_e.cue,_e.regionList)}catch(Fe){_e.cue=null,_e.state="BADCUE";continue}_e.state="CUETEXT";continue;case"CUETEXT":{const Fe=Oe.indexOf("-->")!==-1;if(!Oe||Fe&&(Ne=!0)){_e.oncue&&_e.cue&&_e.oncue(_e.cue),_e.cue=null,_e.state="ID";continue}if(_e.cue===null)continue;_e.cue.text&&(_e.cue.text+="\n"),_e.cue.text+=Oe}continue;case"BADCUE":Oe||(_e.state="ID")}}}catch(Oe){_e.state==="CUETEXT"&&_e.cue&&_e.oncue&&_e.oncue(_e.cue),_e.cue=null,_e.state=_e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const pe=this;try{if((pe.cue||pe.state==="HEADER")&&(pe.buffer+="\n\n",pe.parse()),pe.state==="INITIAL"||pe.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(_e){pe.onparsingerror&&pe.onparsingerror(_e)}return pe.onflush&&pe.onflush(),this}}const LINEBREAKS=/\r\n|\n\r|\n|\r/g,startsWith=function xe(pe,_e,Ce=0){return pe.slice(Ce,Ce+_e.length)===_e},cueString2millis=function xe(pe){let _e=parseInt(pe.slice(-3));const Ce=parseInt(pe.slice(-6,-4)),Ie=parseInt(pe.slice(-9,-7)),Oe=pe.length>9?parseInt(pe.substring(0,pe.indexOf(":"))):0;if(!isFiniteNumber(_e)||!isFiniteNumber(Ce)||!isFiniteNumber(Ie)||!isFiniteNumber(Oe))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(pe));return _e+=1e3*Ce,_e+=60*1e3*Ie,_e+=60*60*1e3*Oe,_e},hash=function xe(pe){let _e=5381,Ce=pe.length;for(;Ce;)_e=_e*33^pe.charCodeAt(--Ce);return(_e>>>0).toString()};function generateCueId(xe,pe,_e){return hash(xe.toString())+hash(pe.toString())+hash(_e)}const calculateOffset=function xe(pe,_e,Ce){let Ie=pe[_e],Oe=pe[Ie.prevCC];if(!Oe||!Oe.new&&Ie.new){pe.ccOffset=pe.presentationOffset=Ie.start,Ie.new=!1;return}for(;(Ne=Oe)!=null&&Ne.new;){var Ne;pe.ccOffset+=Ie.start-Oe.start,Ie.new=!1,Ie=Oe,Oe=pe[Ie.prevCC]}pe.presentationOffset=Ce};function parseWebVTT(xe,pe,_e,Ce,Ie,Oe,Ne){const Fe=new VTTParser,Ue=utf8ArrayToStr(new Uint8Array(xe)).trim().replace(LINEBREAKS,"\n").split("\n"),$e=[],ze=pe?toMpegTsClockFromTimescale(pe.baseTime,pe.timescale):0;let Ve="00:00.000",qe=0,En=0,vn,hn=!0;Fe.oncue=function(_n){const bn=_e[Ce];let An=_e.ccOffset;const xn=(qe-ze)/9e4;if(bn!=null&&bn.new&&(En!==void 0?An=_e.ccOffset=bn.start:calculateOffset(_e,Ce,xn)),xn){if(!pe){vn=new Error("Missing initPTS for VTT MPEGTS");return}An=xn-_e.presentationOffset}const Sn=_n.endTime-_n.startTime,Cn=normalizePts((_n.startTime+An-En)*9e4,Ie*9e4)/9e4;_n.startTime=Math.max(Cn,0),_n.endTime=Math.max(Cn+Sn,0);const Tn=_n.text.trim();_n.text=decodeURIComponent(encodeURIComponent(Tn)),_n.id||(_n.id=generateCueId(_n.startTime,_n.endTime,Tn)),_n.endTime>0&&$e.push(_n)},Fe.onparsingerror=function(_n){vn=_n},Fe.onflush=function(){if(vn){Ne(vn);return}Oe($e)},Ue.forEach(_n=>{if(hn)if(startsWith(_n,"X-TIMESTAMP-MAP=")){hn=!1,_n.slice(16).split(",").forEach(bn=>{startsWith(bn,"LOCAL:")?Ve=bn.slice(6):startsWith(bn,"MPEGTS:")&&(qe=parseInt(bn.slice(7)))});try{En=cueString2millis(Ve)/1e3}catch(bn){vn=bn}return}else _n===""&&(hn=!1);Fe.parse(_n+"\n")}),Fe.flush()}const IMSC1_CODEC="stpp.ttml.im1t",HMSF_REGEX=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,TIME_UNIT_REGEX=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,textAlignToLineAlign={left:"start",center:"center",right:"end",start:"start",end:"end"};function parseIMSC1(xe,pe,_e,Ce){const Ie=findBox(new Uint8Array(xe),["mdat"]);if(Ie.length===0){Ce(new Error("Could not parse IMSC1 mdat"));return}const Oe=Ie.map(Fe=>utf8ArrayToStr(Fe)),Ne=toTimescaleFromScale(pe.baseTime,1,pe.timescale);try{Oe.forEach(Fe=>_e(parseTTML(Fe,Ne)))}catch(Fe){Ce(Fe)}}function parseTTML(xe,pe){const Ie=new DOMParser().parseFromString(xe,"text/xml").getElementsByTagName("tt")[0];if(!Ie)throw new Error("Invalid ttml");const Oe={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},Ne=Object.keys(Oe).reduce((Ve,qe)=>(Ve[qe]=Ie.getAttribute("ttp:".concat(qe))||Oe[qe],Ve),{}),Fe=Ie.getAttribute("xml:space")!=="preserve",Ue=collectionToDictionary(getElementCollection(Ie,"styling","style")),$e=collectionToDictionary(getElementCollection(Ie,"layout","region")),ze=getElementCollection(Ie,"body","[begin]");return[].map.call(ze,Ve=>{const qe=getTextContent(Ve,Fe);if(!qe||!Ve.hasAttribute("begin"))return null;const En=parseTtmlTime(Ve.getAttribute("begin"),Ne),vn=parseTtmlTime(Ve.getAttribute("dur"),Ne);let hn=parseTtmlTime(Ve.getAttribute("end"),Ne);if(En===null)throw timestampParsingError(Ve);if(hn===null){if(vn===null)throw timestampParsingError(Ve);hn=En+vn}const _n=new VTTCue(En-pe,hn-pe,qe);_n.id=generateCueId(_n.startTime,_n.endTime,_n.text);const bn=$e[Ve.getAttribute("region")],An=Ue[Ve.getAttribute("style")],xn=getTtmlStyles(bn,An,Ue),{textAlign:Sn}=xn;if(Sn){const Cn=textAlignToLineAlign[Sn];Cn&&(_n.lineAlign=Cn),_n.align=Sn}return _extends(_n,xn),_n}).filter(Ve=>Ve!==null)}function getElementCollection(xe,pe,_e){const Ce=xe.getElementsByTagName(pe)[0];return Ce?[].slice.call(Ce.querySelectorAll(_e)):[]}function collectionToDictionary(xe){return xe.reduce((pe,_e)=>{const Ce=_e.getAttribute("xml:id");return Ce&&(pe[Ce]=_e),pe},{})}function getTextContent(xe,pe){return[].slice.call(xe.childNodes).reduce((_e,Ce,Ie)=>{var Oe;return Ce.nodeName==="br"&&Ie?_e+"\n":(Oe=Ce.childNodes)!=null&&Oe.length?getTextContent(Ce,pe):pe?_e+Ce.textContent.trim().replace(/\s+/g," "):_e+Ce.textContent},"")}function getTtmlStyles(xe,pe,_e){const Ce="http://www.w3.org/ns/ttml#styling";let Ie=null;const Oe=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],Ne=xe!=null&&xe.hasAttribute("style")?xe.getAttribute("style"):null;return Ne&&_e.hasOwnProperty(Ne)&&(Ie=_e[Ne]),Oe.reduce((Fe,Ue)=>{const $e=getAttributeNS(pe,Ce,Ue)||getAttributeNS(xe,Ce,Ue)||getAttributeNS(Ie,Ce,Ue);return $e&&(Fe[Ue]=$e),Fe},{})}function getAttributeNS(xe,pe,_e){return xe&&xe.hasAttributeNS(pe,_e)?xe.getAttributeNS(pe,_e):null}function timestampParsingError(xe){return new Error("Could not parse ttml timestamp ".concat(xe))}function parseTtmlTime(xe,pe){if(!xe)return null;let _e=parseTimeStamp(xe);return _e===null&&(HMSF_REGEX.test(xe)?_e=parseHoursMinutesSecondsFrames(xe,pe):TIME_UNIT_REGEX.test(xe)&&(_e=parseTimeUnits(xe,pe))),_e}function parseHoursMinutesSecondsFrames(xe,pe){const _e=HMSF_REGEX.exec(xe),Ce=(_e[4]|0)+(_e[5]|0)/pe.subFrameRate;return(_e[1]|0)*3600+(_e[2]|0)*60+(_e[3]|0)+Ce/pe.frameRate}function parseTimeUnits(xe,pe){const _e=TIME_UNIT_REGEX.exec(xe),Ce=Number(_e[1]);switch(_e[2]){case"h":return Ce*3600;case"m":return Ce*60;case"ms":return Ce*1e3;case"f":return Ce/pe.frameRate;case"t":return Ce/pe.tickRate}return Ce}class TimelineController{constructor(pe){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=newVTTCCs(),this.captionsProperties=void 0,this.hls=pe,this.config=pe.config,this.Cues=pe.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},pe.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),pe.on(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),pe.on(Events.FRAG_LOADING,this.onFragLoading,this),pe.on(Events.FRAG_LOADED,this.onFragLoaded,this),pe.on(Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),pe.on(Events.FRAG_DECRYPTED,this.onFragDecrypted,this),pe.on(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),pe.on(Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),pe.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),pe.off(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),pe.off(Events.FRAG_LOADING,this.onFragLoading,this),pe.off(Events.FRAG_LOADED,this.onFragLoaded,this),pe.off(Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),pe.off(Events.FRAG_DECRYPTED,this.onFragDecrypted,this),pe.off(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),pe.off(Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),pe.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const pe=new OutputFilter(this,"textTrack1"),_e=new OutputFilter(this,"textTrack2"),Ce=new OutputFilter(this,"textTrack3"),Ie=new OutputFilter(this,"textTrack4");this.cea608Parser1=new Cea608Parser(1,pe,_e),this.cea608Parser2=new Cea608Parser(3,Ce,Ie)}}addCues(pe,_e,Ce,Ie,Oe){let Ne=!1;for(let Fe=Oe.length;Fe--;){const Ue=Oe[Fe],$e=intersection(Ue[0],Ue[1],_e,Ce);if($e>=0&&(Ue[0]=Math.min(Ue[0],_e),Ue[1]=Math.max(Ue[1],Ce),Ne=!0,$e/(Ce-_e)>.5))return}if(Ne||Oe.push([_e,Ce]),this.config.renderTextTracksNatively){const Fe=this.captionsTracks[pe];this.Cues.newCue(Fe,_e,Ce,Ie)}else{const Fe=this.Cues.newCue(null,_e,Ce,Ie);this.hls.trigger(Events.CUES_PARSED,{type:"captions",cues:Fe,track:pe})}}onInitPtsFound(pe,{frag:_e,id:Ce,initPTS:Ie,timescale:Oe}){const{unparsedVttFrags:Ne}=this;Ce==="main"&&(this.initPTS[_e.cc]={baseTime:Ie,timescale:Oe}),Ne.length&&(this.unparsedVttFrags=[],Ne.forEach(Fe=>{this.onFragLoaded(Events.FRAG_LOADED,Fe)}))}getExistingTrack(pe,_e){const{media:Ce}=this;if(Ce)for(let Ie=0;Ie<Ce.textTracks.length;Ie++){const Oe=Ce.textTracks[Ie];if(canReuseVttTextTrack(Oe,{name:pe,lang:_e,attrs:{}}))return Oe}return null}createCaptionsTrack(pe){this.config.renderTextTracksNatively?this.createNativeTrack(pe):this.createNonNativeTrack(pe)}createNativeTrack(pe){if(this.captionsTracks[pe])return;const{captionsProperties:_e,captionsTracks:Ce,media:Ie}=this,{label:Oe,languageCode:Ne}=_e[pe],Fe=this.getExistingTrack(Oe,Ne);if(Fe)Ce[pe]=Fe,clearCurrentCues(Ce[pe]),sendAddTrackEvent(Ce[pe],Ie);else{const Ue=this.createTextTrack("captions",Oe,Ne);Ue&&(Ue[pe]=!0,Ce[pe]=Ue)}}createNonNativeTrack(pe){if(this.nonNativeCaptionsTracks[pe])return;const _e=this.captionsProperties[pe];if(!_e)return;const Ce=_e.label,Ie={_id:pe,label:Ce,kind:"captions",default:_e.media?!!_e.media.default:!1,closedCaptions:_e.media};this.nonNativeCaptionsTracks[pe]=Ie,this.hls.trigger(Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[Ie]})}createTextTrack(pe,_e,Ce){const Ie=this.media;if(Ie)return Ie.addTextTrack(pe,_e,Ce)}onMediaAttaching(pe,_e){this.media=_e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:pe}=this;Object.keys(pe).forEach(_e=>{clearCurrentCues(pe[_e]),delete pe[_e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=newVTTCCs(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:pe}=this;if(!pe)return;const _e=pe.textTracks;if(_e)for(let Ce=0;Ce<_e.length;Ce++)clearCurrentCues(_e[Ce])}onSubtitleTracksUpdated(pe,_e){const Ce=_e.subtitleTracks||[],Ie=Ce.some(Oe=>Oe.textCodec===IMSC1_CODEC);if(this.config.enableWebVTT||Ie&&this.config.enableIMSC1){if(subtitleOptionsIdentical(this.tracks,Ce)){this.tracks=Ce;return}if(this.textTracks=[],this.tracks=Ce,this.config.renderTextTracksNatively){const Ne=this.media,Fe=Ne?filterSubtitleTracks(Ne.textTracks):null;if(this.tracks.forEach((Ue,$e)=>{let ze;if(Fe){let Ve=null;for(let qe=0;qe<Fe.length;qe++)if(Fe[qe]&&canReuseVttTextTrack(Fe[qe],Ue)){Ve=Fe[qe],Fe[qe]=null;break}Ve&&(ze=Ve)}if(ze)clearCurrentCues(ze);else{const Ve=captionsOrSubtitlesFromCharacteristics(Ue);ze=this.createTextTrack(Ve,Ue.name,Ue.lang),ze&&(ze.mode="disabled")}ze&&this.textTracks.push(ze)}),Fe!=null&&Fe.length){const Ue=Fe.filter($e=>$e!==null).map($e=>$e.label);Ue.length&&logger.warn("Media element contains unused subtitle tracks: ".concat(Ue.join(", "),". Replace media element for each source to clear TextTracks and captions menu."))}}else if(this.tracks.length){const Ne=this.tracks.map(Fe=>({label:Fe.name,kind:Fe.type.toLowerCase(),default:Fe.default,subtitleTrack:Fe}));this.hls.trigger(Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:Ne})}}}onManifestLoaded(pe,_e){this.config.enableCEA708Captions&&_e.captions&&_e.captions.forEach(Ce=>{const Ie=/(?:CC|SERVICE)([1-4])/.exec(Ce.instreamId);if(!Ie)return;const Oe="textTrack".concat(Ie[1]),Ne=this.captionsProperties[Oe];Ne&&(Ne.label=Ce.name,Ce.lang&&(Ne.languageCode=Ce.lang),Ne.media=Ce)})}closedCaptionsForLevel(pe){const _e=this.hls.levels[pe.level];return _e==null?void 0:_e.attrs["CLOSED-CAPTIONS"]}onFragLoading(pe,_e){if(this.enabled&&_e.frag.type===PlaylistLevelType.MAIN){var Ce,Ie;const{cea608Parser1:Oe,cea608Parser2:Ne,lastSn:Fe}=this,{cc:Ue,sn:$e}=_e.frag,ze=(Ce=(Ie=_e.part)==null?void 0:Ie.index)!=null?Ce:-1;Oe&&Ne&&($e!==Fe+1||$e===Fe&&ze!==this.lastPartIndex+1||Ue!==this.lastCc)&&(Oe.reset(),Ne.reset()),this.lastCc=Ue,this.lastSn=$e,this.lastPartIndex=ze}}onFragLoaded(pe,_e){const{frag:Ce,payload:Ie}=_e;if(Ce.type===PlaylistLevelType.SUBTITLE)if(Ie.byteLength){const Oe=Ce.decryptdata,Ne="stats"in _e;if(Oe==null||!Oe.encrypted||Ne){const Fe=this.tracks[Ce.level],Ue=this.vttCCs;Ue[Ce.cc]||(Ue[Ce.cc]={start:Ce.start,prevCC:this.prevCC,new:!0},this.prevCC=Ce.cc),Fe&&Fe.textCodec===IMSC1_CODEC?this._parseIMSC1(Ce,Ie):this._parseVTTs(_e)}}else this.hls.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:Ce,error:new Error("Empty subtitle payload")})}_parseIMSC1(pe,_e){const Ce=this.hls;parseIMSC1(_e,this.initPTS[pe.cc],Ie=>{this._appendCues(Ie,pe.level),Ce.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:pe})},Ie=>{logger.log("Failed to parse IMSC1: ".concat(Ie)),Ce.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:pe,error:Ie})})}_parseVTTs(pe){var _e;const{frag:Ce,payload:Ie}=pe,{initPTS:Oe,unparsedVttFrags:Ne}=this,Fe=Oe.length-1;if(!Oe[Ce.cc]&&Fe===-1){Ne.push(pe);return}const Ue=this.hls,$e=(_e=Ce.initSegment)!=null&&_e.data?appendUint8Array(Ce.initSegment.data,new Uint8Array(Ie)):Ie;parseWebVTT($e,this.initPTS[Ce.cc],this.vttCCs,Ce.cc,Ce.start,ze=>{this._appendCues(ze,Ce.level),Ue.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:Ce})},ze=>{const Ve=ze.message==="Missing initPTS for VTT MPEGTS";Ve?Ne.push(pe):this._fallbackToIMSC1(Ce,Ie),logger.log("Failed to parse VTT cue: ".concat(ze)),!(Ve&&Fe>Ce.cc)&&Ue.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:Ce,error:ze})})}_fallbackToIMSC1(pe,_e){const Ce=this.tracks[pe.level];Ce.textCodec||parseIMSC1(_e,this.initPTS[pe.cc],()=>{Ce.textCodec=IMSC1_CODEC,this._parseIMSC1(pe,_e)},()=>{Ce.textCodec="wvtt"})}_appendCues(pe,_e){const Ce=this.hls;if(this.config.renderTextTracksNatively){const Ie=this.textTracks[_e];if(!Ie||Ie.mode==="disabled")return;pe.forEach(Oe=>addCueToTrack(Ie,Oe))}else{const Ie=this.tracks[_e];if(!Ie)return;const Oe=Ie.default?"default":"subtitles"+_e;Ce.trigger(Events.CUES_PARSED,{type:"subtitles",cues:pe,track:Oe})}}onFragDecrypted(pe,_e){const{frag:Ce}=_e;Ce.type===PlaylistLevelType.SUBTITLE&&this.onFragLoaded(Events.FRAG_LOADED,_e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(pe,_e){this.initCea608Parsers();const{cea608Parser1:Ce,cea608Parser2:Ie}=this;if(!this.enabled||!Ce||!Ie)return;const{frag:Oe,samples:Ne}=_e;if(!(Oe.type===PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(Oe)==="NONE"))for(let Fe=0;Fe<Ne.length;Fe++){const Ue=Ne[Fe].bytes;if(Ue){const $e=this.extractCea608Data(Ue);Ce.addData(Ne[Fe].pts,$e[0]),Ie.addData(Ne[Fe].pts,$e[1])}}}onBufferFlushing(pe,{startOffset:_e,endOffset:Ce,endOffsetSubtitles:Ie,type:Oe}){const{media:Ne}=this;if(!(!Ne||Ne.currentTime<Ce)){if(!Oe||Oe==="video"){const{captionsTracks:Fe}=this;Object.keys(Fe).forEach(Ue=>removeCuesInRange(Fe[Ue],_e,Ce))}if(this.config.renderTextTracksNatively&&_e===0&&Ie!==void 0){const{textTracks:Fe}=this;Object.keys(Fe).forEach(Ue=>removeCuesInRange(Fe[Ue],_e,Ie))}}}extractCea608Data(pe){const _e=[[],[]],Ce=pe[0]&31;let Ie=2;for(let Oe=0;Oe<Ce;Oe++){const Ne=pe[Ie++],Fe=127&pe[Ie++],Ue=127&pe[Ie++];if(Fe===0&&Ue===0)continue;if((4&Ne)!==0){const ze=3&Ne;(ze===0||ze===1)&&(_e[ze].push(Fe),_e[ze].push(Ue))}}return _e}}function captionsOrSubtitlesFromCharacteristics(xe){return xe.characteristics&&/transcribes-spoken-dialog/gi.test(xe.characteristics)&&/describes-music-and-sound/gi.test(xe.characteristics)?"captions":"subtitles"}function canReuseVttTextTrack(xe,pe){return!!xe&&xe.kind===captionsOrSubtitlesFromCharacteristics(pe)&&subtitleTrackMatchesTextTrack(pe,xe)}function intersection(xe,pe,_e,Ce){return Math.min(pe,Ce)-Math.max(xe,_e)}function newVTTCCs(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class CapLevelController{constructor(pe){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=pe,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(pe){this.streamController=pe}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:pe}=this;pe.on(Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),pe.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),pe.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.on(Events.BUFFER_CODECS,this.onBufferCodecs,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:pe}=this;pe.off(Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),pe.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),pe.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.off(Events.BUFFER_CODECS,this.onBufferCodecs,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(pe,_e){const Ce=this.hls.levels[_e.droppedLevel];this.isLevelAllowed(Ce)&&this.restrictedLevels.push({bitrate:Ce.bitrate,height:Ce.height,width:Ce.width})}onMediaAttaching(pe,_e){this.media=_e.media instanceof HTMLVideoElement?_e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(pe,_e){const Ce=this.hls;this.restrictedLevels=[],this.firstLevel=_e.firstLevel,Ce.config.capLevelToPlayerSize&&_e.video&&this.startCapping()}onLevelsUpdated(pe,_e){this.timer&&isFiniteNumber(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(pe,_e){this.hls.config.capLevelToPlayerSize&&_e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const pe=this.hls.levels;if(pe.length){const _e=this.hls,Ce=this.getMaxLevel(pe.length-1);Ce!==this.autoLevelCapping&&logger.log("Setting autoLevelCapping to ".concat(Ce,": ").concat(pe[Ce].height,"p@").concat(pe[Ce].bitrate," for media ").concat(this.mediaWidth,"x").concat(this.mediaHeight)),_e.autoLevelCapping=Ce,_e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=_e.autoLevelCapping}}}getMaxLevel(pe){const _e=this.hls.levels;if(!_e.length)return-1;const Ce=_e.filter((Ie,Oe)=>this.isLevelAllowed(Ie)&&Oe<=pe);return this.clientRect=null,CapLevelController.getMaxLevelByMediaSize(Ce,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const pe=this.media,_e={width:0,height:0};if(pe){const Ce=pe.getBoundingClientRect();_e.width=Ce.width,_e.height=Ce.height,!_e.width&&!_e.height&&(_e.width=Ce.right-Ce.left||pe.width||0,_e.height=Ce.bottom-Ce.top||pe.height||0)}return this.clientRect=_e,_e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let pe=1;if(!this.hls.config.ignoreDevicePixelRatio)try{pe=self.devicePixelRatio}catch(_e){}return pe}isLevelAllowed(pe){return!this.restrictedLevels.some(Ce=>pe.bitrate===Ce.bitrate&&pe.width===Ce.width&&pe.height===Ce.height)}static getMaxLevelByMediaSize(pe,_e,Ce){if(!(pe!=null&&pe.length))return-1;const Ie=(Fe,Ue)=>Ue?Fe.width!==Ue.width||Fe.height!==Ue.height:!0;let Oe=pe.length-1;const Ne=Math.max(_e,Ce);for(let Fe=0;Fe<pe.length;Fe+=1){const Ue=pe[Fe];if((Ue.width>=Ne||Ue.height>=Ne)&&Ie(Ue,pe[Fe+1])){Oe=Fe;break}}return Oe}}class FPSController{constructor(pe){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=pe,this.registerListeners()}setStreamController(pe){this.streamController=pe}registerListeners(){this.hls.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(pe,_e){const Ce=this.hls.config;if(Ce.capLevelOnFPSDrop){const Ie=_e.media instanceof self.HTMLVideoElement?_e.media:null;this.media=Ie,Ie&&typeof Ie.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),Ce.fpsDroppedMonitoringPeriod)}}checkFPS(pe,_e,Ce){const Ie=performance.now();if(_e){if(this.lastTime){const Oe=Ie-this.lastTime,Ne=Ce-this.lastDroppedFrames,Fe=_e-this.lastDecodedFrames,Ue=1e3*Ne/Oe,$e=this.hls;if($e.trigger(Events.FPS_DROP,{currentDropped:Ne,currentDecoded:Fe,totalDroppedFrames:Ce}),Ue>0&&Ne>$e.config.fpsDroppedMonitoringThreshold*Fe){let ze=$e.currentLevel;logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ze),ze>0&&($e.autoLevelCapping===-1||$e.autoLevelCapping>=ze)&&(ze=ze-1,$e.trigger(Events.FPS_DROP_LEVEL_CAPPING,{level:ze,droppedLevel:$e.currentLevel}),$e.autoLevelCapping=ze,this.streamController.nextLevelSwitch())}}this.lastTime=Ie,this.lastDroppedFrames=Ce,this.lastDecodedFrames=_e}}checkFPSInterval(){const pe=this.media;if(pe)if(this.isVideoPlaybackQualityAvailable){const _e=pe.getVideoPlaybackQuality();this.checkFPS(pe,_e.totalVideoFrames,_e.droppedVideoFrames)}else this.checkFPS(pe,pe.webkitDecodedFrameCount,pe.webkitDroppedFrameCount)}}const LOGGER_PREFIX="[eme]";class EMEController{constructor(pe){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=EMEController.CDMCleanupPromise?[EMEController.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=logger.debug.bind(logger,LOGGER_PREFIX),this.log=logger.log.bind(logger,LOGGER_PREFIX),this.warn=logger.warn.bind(logger,LOGGER_PREFIX),this.error=logger.error.bind(logger,LOGGER_PREFIX),this.hls=pe,this.config=pe.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const pe=this.config;pe.requestMediaKeySystemAccessFunc=null,pe.licenseXhrSetup=pe.licenseResponseCallback=void 0,pe.drmSystems=pe.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(pe){const{drmSystems:_e,widevineLicenseUrl:Ce}=this.config,Ie=_e[pe];if(Ie)return Ie.licenseUrl;if(pe===KeySystems.WIDEVINE&&Ce)return Ce;throw new Error('no license server URL configured for key-system "'.concat(pe,'"'))}getServerCertificateUrl(pe){const{drmSystems:_e}=this.config,Ce=_e[pe];if(Ce)return Ce.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(pe,'"]'))}attemptKeySystemAccess(pe){const _e=this.hls.levels,Ce=(Ne,Fe,Ue)=>!!Ne&&Ue.indexOf(Ne)===Fe,Ie=_e.map(Ne=>Ne.audioCodec).filter(Ce),Oe=_e.map(Ne=>Ne.videoCodec).filter(Ce);return Ie.length+Oe.length===0&&Oe.push("avc1.42e01e"),new Promise((Ne,Fe)=>{const Ue=$e=>{const ze=$e.shift();this.getMediaKeysPromise(ze,Ie,Oe).then(Ve=>Ne({keySystem:ze,mediaKeys:Ve})).catch(Ve=>{$e.length?Ue($e):Ve instanceof EMEKeyError?Fe(Ve):Fe(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:Ve,fatal:!0},Ve.message))})};Ue(pe)})}requestMediaKeySystemAccess(pe,_e){const{requestMediaKeySystemAccessFunc:Ce}=this.config;if(typeof Ce!="function"){let Ie="Configured requestMediaKeySystemAccess is not a function ".concat(Ce);return requestMediaKeySystemAccess===null&&self.location.protocol==="http:"&&(Ie="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(Ie))}return Ce(pe,_e)}getMediaKeysPromise(pe,_e,Ce){const Ie=getSupportedMediaKeySystemConfigurations(pe,_e,Ce,this.config.drmSystemOptions),Oe=this.keySystemAccessPromises[pe];let Ne=Oe==null?void 0:Oe.keySystemAccess;if(!Ne){this.log('Requesting encrypted media "'.concat(pe,'" key-system access with config: ').concat(JSON.stringify(Ie))),Ne=this.requestMediaKeySystemAccess(pe,Ie);const Fe=this.keySystemAccessPromises[pe]={keySystemAccess:Ne};return Ne.catch(Ue=>{this.log('Failed to obtain access to key-system "'.concat(pe,'": ').concat(Ue))}),Ne.then(Ue=>{this.log('Access for key-system "'.concat(Ue.keySystem,'" obtained'));const $e=this.fetchServerCertificate(pe);return this.log('Create media-keys for "'.concat(pe,'"')),Fe.mediaKeys=Ue.createMediaKeys().then(ze=>(this.log('Media-keys created for "'.concat(pe,'"')),$e.then(Ve=>Ve?this.setMediaKeysServerCertificate(ze,pe,Ve):ze))),Fe.mediaKeys.catch(ze=>{this.error('Failed to create media-keys for "'.concat(pe,'"}: ').concat(ze))}),Fe.mediaKeys})}return Ne.then(()=>Oe.mediaKeys)}createMediaKeySessionContext({decryptdata:pe,keySystem:_e,mediaKeys:Ce}){this.log('Creating key-system session "'.concat(_e,'" keyId: ').concat(Hex.hexDump(pe.keyId||[])));const Ie=Ce.createSession(),Oe={decryptdata:pe,keySystem:_e,mediaKeys:Ce,mediaKeysSession:Ie,keyStatus:"status-pending"};return this.mediaKeySessions.push(Oe),Oe}renewKeySession(pe){const _e=pe.decryptdata;if(_e.pssh){const Ce=this.createMediaKeySessionContext(pe),Ie=this.getKeyIdString(_e),Oe="cenc";this.keyIdToKeySessionPromise[Ie]=this.generateRequestWithPreferredKeySession(Ce,Oe,_e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(pe)}getKeyIdString(pe){if(!pe)throw new Error("Could not read keyId of undefined decryptdata");if(pe.keyId===null)throw new Error("keyId is null");return Hex.hexDump(pe.keyId)}updateKeySession(pe,_e){var Ce;const Ie=pe.mediaKeysSession;return this.log('Updating key-session "'.concat(Ie.sessionId,'" for keyID ').concat(Hex.hexDump(((Ce=pe.decryptdata)==null?void 0:Ce.keyId)||[]),"\n      } (data length: ").concat(_e&&_e.byteLength,")")),Ie.update(_e)}selectKeySystemFormat(pe){const _e=Object.keys(pe.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(pe.sn," ").concat(pe.type,": ").concat(pe.level,") key formats ").concat(_e.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(_e)),this.keyFormatPromise}getKeyFormatPromise(pe){return new Promise((_e,Ce)=>{const Ie=getKeySystemsForConfig(this.config),Oe=pe.map(keySystemFormatToKeySystemDomain).filter(Ne=>!!Ne&&Ie.indexOf(Ne)!==-1);return this.getKeySystemSelectionPromise(Oe).then(({keySystem:Ne})=>{const Fe=keySystemDomainToKeySystemFormat(Ne);Fe?_e(Fe):Ce(new Error('Unable to find format for key-system "'.concat(Ne,'"')))}).catch(Ce)})}loadKey(pe){const _e=pe.keyInfo.decryptdata,Ce=this.getKeyIdString(_e),Ie="(keyId: ".concat(Ce,' format: "').concat(_e.keyFormat,'" method: ').concat(_e.method," uri: ").concat(_e.uri,")");this.log("Starting session for key ".concat(Ie));let Oe=this.keyIdToKeySessionPromise[Ce];return Oe||(Oe=this.keyIdToKeySessionPromise[Ce]=this.getKeySystemForKeyPromise(_e).then(({keySystem:Ne,mediaKeys:Fe})=>(this.throwIfDestroyed(),this.log("Handle encrypted media sn: ".concat(pe.frag.sn," ").concat(pe.frag.type,": ").concat(pe.frag.level," using key ").concat(Ie)),this.attemptSetMediaKeys(Ne,Fe).then(()=>{this.throwIfDestroyed();const Ue=this.createMediaKeySessionContext({keySystem:Ne,mediaKeys:Fe,decryptdata:_e});return this.generateRequestWithPreferredKeySession(Ue,"cenc",_e.pssh,"playlist-key")}))),Oe.catch(Ne=>this.handleError(Ne))),Oe}throwIfDestroyed(pe="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(pe){this.hls&&(this.error(pe.message),pe instanceof EMEKeyError?this.hls.trigger(Events.ERROR,pe.data):this.hls.trigger(Events.ERROR,{type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_KEYS,error:pe,fatal:!0}))}getKeySystemForKeyPromise(pe){const _e=this.getKeyIdString(pe),Ce=this.keyIdToKeySessionPromise[_e];if(!Ce){const Ie=keySystemFormatToKeySystemDomain(pe.keyFormat),Oe=Ie?[Ie]:getKeySystemsForConfig(this.config);return this.attemptKeySystemAccess(Oe)}return Ce}getKeySystemSelectionPromise(pe){if(pe.length||(pe=getKeySystemsForConfig(this.config)),pe.length===0)throw new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(pe)}_onMediaEncrypted(pe){const{initDataType:_e,initData:Ce}=pe;if(this.debug('"'.concat(pe.type,'" event: init data type: "').concat(_e,'"')),Ce===null)return;let Ie,Oe;if(_e==="sinf"&&this.config.drmSystems[KeySystems.FAIRPLAY]){const ze=bin2str(new Uint8Array(Ce));try{const Ve=base64Decode(JSON.parse(ze).sinf),qe=parseSinf(new Uint8Array(Ve));if(!qe)return;Ie=qe.subarray(8,24),Oe=KeySystems.FAIRPLAY}catch(Ve){this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{const ze=parsePssh(Ce);if(ze===null)return;ze.version===0&&ze.systemId===KeySystemIds.WIDEVINE&&ze.data&&(Ie=ze.data.subarray(8,24)),Oe=keySystemIdToKeySystemDomain(ze.systemId)}if(!Oe||!Ie)return;const Ne=Hex.hexDump(Ie),{keyIdToKeySessionPromise:Fe,mediaKeySessions:Ue}=this;let $e=Fe[Ne];for(let ze=0;ze<Ue.length;ze++){const Ve=Ue[ze],qe=Ve.decryptdata;if(qe.pssh||!qe.keyId)continue;const En=Hex.hexDump(qe.keyId);if(Ne===En||qe.uri.replace(/-/g,"").indexOf(Ne)!==-1){$e=Fe[En],delete Fe[En],qe.pssh=new Uint8Array(Ce),qe.keyId=Ie,$e=Fe[Ne]=$e.then(()=>this.generateRequestWithPreferredKeySession(Ve,_e,Ce,"encrypted-event-key-match"));break}}$e||($e=Fe[Ne]=this.getKeySystemSelectionPromise([Oe]).then(({keySystem:ze,mediaKeys:Ve})=>{var qe;this.throwIfDestroyed();const En=new LevelKey("ISO-23001-7",Ne,(qe=keySystemDomainToKeySystemFormat(ze))!=null?qe:"");return En.pssh=new Uint8Array(Ce),En.keyId=Ie,this.attemptSetMediaKeys(ze,Ve).then(()=>{this.throwIfDestroyed();const vn=this.createMediaKeySessionContext({decryptdata:En,keySystem:ze,mediaKeys:Ve});return this.generateRequestWithPreferredKeySession(vn,_e,Ce,"encrypted-event-no-match")})})),$e.catch(ze=>this.handleError(ze))}_onWaitingForKey(pe){this.log('"'.concat(pe.type,'" event'))}attemptSetMediaKeys(pe,_e){const Ce=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(pe,'"'));const Ie=Promise.all(Ce).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(_e)});return this.setMediaKeysQueue.push(Ie),Ie.then(()=>{this.log('Media-keys set for "'.concat(pe,'"')),Ce.push(Ie),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(Oe=>Ce.indexOf(Oe)===-1)})}generateRequestWithPreferredKeySession(pe,_e,Ce,Ie){var Oe,Ne;const Fe=(Oe=this.config.drmSystems)==null||(Ne=Oe[pe.keySystem])==null?void 0:Ne.generateRequest;if(Fe)try{const vn=Fe.call(this.hls,_e,Ce,pe);if(!vn)throw new Error("Invalid response from configured generateRequest filter");_e=vn.initDataType,Ce=pe.decryptdata.pssh=vn.initData?new Uint8Array(vn.initData):null}catch(vn){var Ue;if(this.warn(vn.message),(Ue=this.hls)!=null&&Ue.config.debug)throw vn}if(Ce===null)return this.log('Skipping key-session request for "'.concat(Ie,'" (no initData)')),Promise.resolve(pe);const $e=this.getKeyIdString(pe.decryptdata);this.log('Generating key-session request for "'.concat(Ie,'": ').concat($e," (init data type: ").concat(_e," length: ").concat(Ce?Ce.byteLength:null,")"));const ze=new EventEmitter,Ve=pe._onmessage=vn=>{const hn=pe.mediaKeysSession;if(!hn){ze.emit("error",new Error("invalid state"));return}const{messageType:_n,message:bn}=vn;this.log('"'.concat(_n,'" message event for session "').concat(hn.sessionId,'" message size: ').concat(bn.byteLength)),_n==="license-request"||_n==="license-renewal"?this.renewLicense(pe,bn).catch(An=>{this.handleError(An),ze.emit("error",An)}):_n==="license-release"?pe.keySystem===KeySystems.FAIRPLAY&&(this.updateKeySession(pe,strToUtf8array("acknowledged")),this.removeSession(pe)):this.warn('unhandled media key message type "'.concat(_n,'"'))},qe=pe._onkeystatuseschange=vn=>{if(!pe.mediaKeysSession){ze.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(pe);const _n=pe.keyStatus;ze.emit("keyStatus",_n),_n==="expired"&&(this.warn("".concat(pe.keySystem," expired for key ").concat($e)),this.renewKeySession(pe))};pe.mediaKeysSession.addEventListener("message",Ve),pe.mediaKeysSession.addEventListener("keystatuseschange",qe);const En=new Promise((vn,hn)=>{ze.on("error",hn),ze.on("keyStatus",_n=>{_n.startsWith("usable")?vn():_n==="output-restricted"?hn(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):_n==="internal-error"?hn(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(_n,'"'))):_n==="expired"?hn(new Error("key expired while generating request")):this.warn('unhandled key status change "'.concat(_n,'"'))})});return pe.mediaKeysSession.generateRequest(_e,Ce).then(()=>{var vn;this.log('Request generated for key-session "'.concat((vn=pe.mediaKeysSession)==null?void 0:vn.sessionId,'" keyId: ').concat($e))}).catch(vn=>{throw new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_SESSION,error:vn,fatal:!1},"Error generating key-session request: ".concat(vn))}).then(()=>En).catch(vn=>{throw ze.removeAllListeners(),this.removeSession(pe),vn}).then(()=>(ze.removeAllListeners(),pe))}onKeyStatusChange(pe){pe.mediaKeysSession.keyStatuses.forEach((_e,Ce)=>{this.log('key status change "'.concat(_e,'" for keyStatuses keyId: ').concat(Hex.hexDump("buffer"in Ce?new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength):new Uint8Array(Ce))," session keyId: ").concat(Hex.hexDump(new Uint8Array(pe.decryptdata.keyId||[]))," uri: ").concat(pe.decryptdata.uri)),pe.keyStatus=_e})}fetchServerCertificate(pe){const _e=this.config,Ce=_e.loader,Ie=new Ce(_e),Oe=this.getServerCertificateUrl(pe);return Oe?(this.log('Fetching server certificate for "'.concat(pe,'"')),new Promise((Ne,Fe)=>{const Ue={responseType:"arraybuffer",url:Oe},$e=_e.certLoadPolicy.default,ze={loadPolicy:$e,timeout:$e.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},Ve={onSuccess:(qe,En,vn,hn)=>{Ne(qe.data)},onError:(qe,En,vn,hn)=>{Fe(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:vn,response:_objectSpread2({url:Ue.url,data:void 0},qe)},'"'.concat(pe,'" certificate request failed (').concat(Oe,"). Status: ").concat(qe.code," (").concat(qe.text,")")))},onTimeout:(qe,En,vn)=>{Fe(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:vn,response:{url:Ue.url,data:void 0}},'"'.concat(pe,'" certificate request timed out (').concat(Oe,")")))},onAbort:(qe,En,vn)=>{Fe(new Error("aborted"))}};Ie.load(Ue,ze,Ve)})):Promise.resolve()}setMediaKeysServerCertificate(pe,_e,Ce){return new Promise((Ie,Oe)=>{pe.setServerCertificate(Ce).then(Ne=>{this.log("setServerCertificate ".concat(Ne?"success":"not supported by CDM"," (").concat(Ce==null?void 0:Ce.byteLength,') on "').concat(_e,'"')),Ie(pe)}).catch(Ne=>{Oe(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:Ne,fatal:!0},Ne.message))})})}renewLicense(pe,_e){return this.requestLicense(pe,new Uint8Array(_e)).then(Ce=>this.updateKeySession(pe,new Uint8Array(Ce)).catch(Ie=>{throw new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:Ie,fatal:!0},Ie.message)}))}unpackPlayReadyKeyMessage(pe,_e){const Ce=String.fromCharCode.apply(null,new Uint16Array(_e.buffer));if(!Ce.includes("PlayReadyKeyMessage"))return pe.setRequestHeader("Content-Type","text/xml; charset=utf-8"),_e;const Ie=new DOMParser().parseFromString(Ce,"application/xml"),Oe=Ie.querySelectorAll("HttpHeader");if(Oe.length>0){let ze;for(let Ve=0,qe=Oe.length;Ve<qe;Ve++){var Ne,Fe;ze=Oe[Ve];const En=(Ne=ze.querySelector("name"))==null?void 0:Ne.textContent,vn=(Fe=ze.querySelector("value"))==null?void 0:Fe.textContent;En&&vn&&pe.setRequestHeader(En,vn)}}const Ue=Ie.querySelector("Challenge"),$e=Ue==null?void 0:Ue.textContent;if(!$e)throw new Error("Cannot find <Challenge> in key message");return strToUtf8array(atob($e))}setupLicenseXHR(pe,_e,Ce,Ie){const Oe=this.config.licenseXhrSetup;return Oe?Promise.resolve().then(()=>{if(!Ce.decryptdata)throw new Error("Key removed");return Oe.call(this.hls,pe,_e,Ce,Ie)}).catch(Ne=>{if(!Ce.decryptdata)throw Ne;return pe.open("POST",_e,!0),Oe.call(this.hls,pe,_e,Ce,Ie)}).then(Ne=>(pe.readyState||pe.open("POST",_e,!0),{xhr:pe,licenseChallenge:Ne||Ie})):(pe.open("POST",_e,!0),Promise.resolve({xhr:pe,licenseChallenge:Ie}))}requestLicense(pe,_e){const Ce=this.config.keyLoadPolicy.default;return new Promise((Ie,Oe)=>{const Ne=this.getLicenseServerUrl(pe.keySystem);this.log("Sending license request to URL: ".concat(Ne));const Fe=new XMLHttpRequest;Fe.responseType="arraybuffer",Fe.onreadystatechange=()=>{if(!this.hls||!pe.mediaKeysSession)return Oe(new Error("invalid state"));if(Fe.readyState===4)if(Fe.status===200){this._requestLicenseFailureCount=0;let Ue=Fe.response;this.log("License received ".concat(Ue instanceof ArrayBuffer?Ue.byteLength:Ue));const $e=this.config.licenseResponseCallback;if($e)try{Ue=$e.call(this.hls,Fe,Ne,pe)}catch(ze){this.error(ze)}Ie(Ue)}else{const Ue=Ce.errorRetry,$e=Ue?Ue.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>$e||Fe.status>=400&&Fe.status<500)Oe(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:Fe,response:{url:Ne,data:void 0,code:Fe.status,text:Fe.statusText}},"License Request XHR failed (".concat(Ne,"). Status: ").concat(Fe.status," (").concat(Fe.statusText,")")));else{const ze=$e-this._requestLicenseFailureCount+1;this.warn("Retrying license request, ".concat(ze," attempts left")),this.requestLicense(pe,_e).then(Ie,Oe)}}},pe.licenseXhr&&pe.licenseXhr.readyState!==XMLHttpRequest.DONE&&pe.licenseXhr.abort(),pe.licenseXhr=Fe,this.setupLicenseXHR(Fe,Ne,pe,_e).then(({xhr:Ue,licenseChallenge:$e})=>{pe.keySystem==KeySystems.PLAYREADY&&($e=this.unpackPlayReadyKeyMessage(Ue,$e)),Ue.send($e)})})}onMediaAttached(pe,_e){if(!this.config.emeEnabled)return;const Ce=_e.media;this.media=Ce,Ce.addEventListener("encrypted",this.onMediaEncrypted),Ce.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const pe=this.media,_e=this.mediaKeySessions;pe&&(pe.removeEventListener("encrypted",this.onMediaEncrypted),pe.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},LevelKey.clearKeyUriToKeyIdMap();const Ce=_e.length;EMEController.CDMCleanupPromise=Promise.all(_e.map(Ie=>this.removeSession(Ie)).concat(pe==null?void 0:pe.setMediaKeys(null).catch(Ie=>{this.log("Could not clear media keys: ".concat(Ie))}))).then(()=>{Ce&&(this.log("finished closing key sessions and clearing media keys"),_e.length=0)}).catch(Ie=>{this.log("Could not close sessions and clear media keys: ".concat(Ie))})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(pe,{sessionKeys:_e}){if(!(!_e||!this.config.emeEnabled)&&!this.keyFormatPromise){const Ce=_e.reduce((Ie,Oe)=>(Ie.indexOf(Oe.keyFormat)===-1&&Ie.push(Oe.keyFormat),Ie),[]);this.log("Selecting key-system from session-keys ".concat(Ce.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(Ce)}}removeSession(pe){const{mediaKeysSession:_e,licenseXhr:Ce}=pe;if(_e){this.log("Remove licenses and keys and close session ".concat(_e.sessionId)),pe._onmessage&&(_e.removeEventListener("message",pe._onmessage),pe._onmessage=void 0),pe._onkeystatuseschange&&(_e.removeEventListener("keystatuseschange",pe._onkeystatuseschange),pe._onkeystatuseschange=void 0),Ce&&Ce.readyState!==XMLHttpRequest.DONE&&Ce.abort(),pe.mediaKeysSession=pe.decryptdata=pe.licenseXhr=void 0;const Ie=this.mediaKeySessions.indexOf(pe);return Ie>-1&&this.mediaKeySessions.splice(Ie,1),_e.remove().catch(Oe=>{this.log("Could not remove session: ".concat(Oe))}).then(()=>_e.close()).catch(Oe=>{this.log("Could not close session: ".concat(Oe))})}}}EMEController.CDMCleanupPromise=void 0;class EMEKeyError extends Error{constructor(pe,_e){super(_e),this.data=void 0,pe.error||(pe.error=new Error(_e)),this.data=pe,pe.err=pe.error}}var CmObjectType;(function(xe){xe.MANIFEST="m",xe.AUDIO="a",xe.VIDEO="v",xe.MUXED="av",xe.INIT="i",xe.CAPTION="c",xe.TIMED_TEXT="tt",xe.KEY="k",xe.OTHER="o"})(CmObjectType||(CmObjectType={}));var CmStreamingFormat;(function(xe){xe.DASH="d",xe.HLS="h",xe.SMOOTH="s",xe.OTHER="o"})(CmStreamingFormat||(CmStreamingFormat={}));var CmcdHeaderField;(function(xe){xe.OBJECT="CMCD-Object",xe.REQUEST="CMCD-Request",xe.SESSION="CMCD-Session",xe.STATUS="CMCD-Status"})(CmcdHeaderField||(CmcdHeaderField={}));const CmcdHeaderMap={[CmcdHeaderField.OBJECT]:["br","d","ot","tb"],[CmcdHeaderField.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[CmcdHeaderField.SESSION]:["cid","pr","sf","sid","st","v"],[CmcdHeaderField.STATUS]:["bs","rtp"]};class SfItem{constructor(pe,_e){this.value=void 0,this.params=void 0,Array.isArray(pe)&&(pe=pe.map(Ce=>Ce instanceof SfItem?Ce:new SfItem(Ce))),this.value=pe,this.params=_e}}class SfToken{constructor(pe){this.description=void 0,this.description=pe}}const DICT="Dict";function format(xe){return Array.isArray(xe)?JSON.stringify(xe):xe instanceof Map?"Map{}":xe instanceof Set?"Set{}":typeof xe=="object"?JSON.stringify(xe):String(xe)}function throwError(xe,pe,_e,Ce){return new Error("failed to ".concat(xe,' "').concat(format(pe),'" as ').concat(_e),{cause:Ce})}const BARE_ITEM="Bare Item",BOOLEAN="Boolean",BYTES="Byte Sequence",DECIMAL="Decimal",INTEGER="Integer";function isInvalidInt(xe){return xe<-999999999999999||999999999999999<xe}const STRING_REGEX=/[\x00-\x1f\x7f]+/,TOKEN="Token",KEY="Key";function serializeError(xe,pe,_e){return throwError("serialize",xe,pe,_e)}function serializeBoolean(xe){if(typeof xe!="boolean")throw serializeError(xe,BOOLEAN);return xe?"?1":"?0"}function base64encode(xe){return btoa(String.fromCharCode(...xe))}function serializeByteSequence(xe){if(ArrayBuffer.isView(xe)===!1)throw serializeError(xe,BYTES);return":".concat(base64encode(xe),":")}function serializeInteger(xe){if(isInvalidInt(xe))throw serializeError(xe,INTEGER);return xe.toString()}function serializeDate(xe){return"@".concat(serializeInteger(xe.getTime()/1e3))}function roundToEven(xe,pe){if(xe<0)return-roundToEven(-xe,pe);const _e=Math.pow(10,pe);if(Math.abs(xe*_e%1-.5)<Number.EPSILON){const Ie=Math.floor(xe*_e);return(Ie%2===0?Ie:Ie+1)/_e}else return Math.round(xe*_e)/_e}function serializeDecimal(xe){const pe=roundToEven(xe,3);if(Math.floor(Math.abs(pe)).toString().length>12)throw serializeError(xe,DECIMAL);const _e=pe.toString();return _e.includes(".")?_e:"".concat(_e,".0")}const STRING="String";function serializeString(xe){if(STRING_REGEX.test(xe))throw serializeError(xe,STRING);return'"'.concat(xe.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'"')}function symbolToStr(xe){return xe.description||xe.toString().slice(7,-1)}function serializeToken(xe){const pe=symbolToStr(xe);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(pe)===!1)throw serializeError(pe,TOKEN);return pe}function serializeBareItem(xe){switch(typeof xe){case"number":if(!isFiniteNumber(xe))throw serializeError(xe,BARE_ITEM);return Number.isInteger(xe)?serializeInteger(xe):serializeDecimal(xe);case"string":return serializeString(xe);case"symbol":return serializeToken(xe);case"boolean":return serializeBoolean(xe);case"object":if(xe instanceof Date)return serializeDate(xe);if(xe instanceof Uint8Array)return serializeByteSequence(xe);if(xe instanceof SfToken)return serializeToken(xe);default:throw serializeError(xe,BARE_ITEM)}}function serializeKey(xe){if(/^[a-z*][a-z0-9\-_.*]*$/.test(xe)===!1)throw serializeError(xe,KEY);return xe}function serializeParams(xe){return xe==null?"":Object.entries(xe).map(([pe,_e])=>_e===!0?";".concat(serializeKey(pe)):";".concat(serializeKey(pe),"=").concat(serializeBareItem(_e))).join("")}function serializeItem(xe){return xe instanceof SfItem?"".concat(serializeBareItem(xe.value)).concat(serializeParams(xe.params)):serializeBareItem(xe)}function serializeInnerList(xe){return"(".concat(xe.value.map(serializeItem).join(" "),")").concat(serializeParams(xe.params))}function serializeDict(xe,pe={whitespace:!0}){if(typeof xe!="object")throw serializeError(xe,DICT);const _e=xe instanceof Map?xe.entries():Object.entries(xe),Ce=pe!=null&&pe.whitespace?" ":"";return Array.from(_e).map(([Ie,Oe])=>{Oe instanceof SfItem||(Oe=new SfItem(Oe));let Ne=serializeKey(Ie);return Oe.value===!0?Ne+=serializeParams(Oe.params):(Ne+="=",Array.isArray(Oe.value)?Ne+=serializeInnerList(Oe):Ne+=serializeItem(Oe)),Ne}).join(",".concat(Ce))}function encodeSfDict(xe,pe){return serializeDict(xe,pe)}const isTokenField=xe=>xe==="ot"||xe==="sf"||xe==="st",isValid=xe=>typeof xe=="number"?isFiniteNumber(xe):xe!=null&&xe!==""&&xe!==!1;function urlToRelativePath(xe,pe){const _e=new URL(xe),Ce=new URL(pe);if(_e.origin!==Ce.origin)return xe;const Ie=_e.pathname.split("/").slice(1),Oe=Ce.pathname.split("/").slice(1,-1);for(;Ie[0]===Oe[0];)Ie.shift(),Oe.shift();for(;Oe.length;)Oe.shift(),Ie.unshift("..");return Ie.join("/")}function uuid(){try{return crypto.randomUUID()}catch(xe){try{const pe=URL.createObjectURL(new Blob),_e=pe.toString();return URL.revokeObjectURL(pe),_e.slice(_e.lastIndexOf("/")+1)}catch(pe){let _e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Ie=>{const Oe=(_e+Math.random()*16)%16|0;return _e=Math.floor(_e/16),(Ie=="x"?Oe:Oe&3|8).toString(16)})}}}const toRounded=xe=>Math.round(xe),toUrlSafe=(xe,pe)=>(pe!=null&&pe.baseUrl&&(xe=urlToRelativePath(xe,pe.baseUrl)),encodeURIComponent(xe)),toHundred=xe=>toRounded(xe/100)*100,CmcdFormatters={br:toRounded,d:toRounded,bl:toHundred,dl:toHundred,mtp:toHundred,nor:toUrlSafe,rtp:toHundred,tb:toRounded};function processCmcd(xe,pe){const _e={};if(xe==null||typeof xe!="object")return _e;const Ce=Object.keys(xe).sort(),Ie=_extends({},CmcdFormatters,pe==null?void 0:pe.formatters),Oe=pe==null?void 0:pe.filter;return Ce.forEach(Ne=>{if(Oe!=null&&Oe(Ne))return;let Fe=xe[Ne];const Ue=Ie[Ne];Ue&&(Fe=Ue(Fe,pe)),!(Ne==="v"&&Fe===1)&&(Ne=="pr"&&Fe===1||isValid(Fe)&&(isTokenField(Ne)&&typeof Fe=="string"&&(Fe=new SfToken(Fe)),_e[Ne]=Fe))}),_e}function encodeCmcd(xe,pe={}){return xe?encodeSfDict(processCmcd(xe,pe),_extends({whitespace:!1},pe)):""}function toCmcdHeaders(xe,pe={}){if(!xe)return{};const _e=Object.entries(xe),Ce=Object.entries(CmcdHeaderMap).concat(Object.entries((pe==null?void 0:pe.customHeaderMap)||{})),Ie=_e.reduce((Oe,Ne)=>{var Fe,Ue;const[$e,ze]=Ne,Ve=((Fe=Ce.find(qe=>qe[1].includes($e)))==null?void 0:Fe[0])||CmcdHeaderField.REQUEST;return(Ue=Oe[Ve])!=null||(Oe[Ve]={}),Oe[Ve][$e]=ze,Oe},{});return Object.entries(Ie).reduce((Oe,[Ne,Fe])=>(Oe[Ne]=encodeCmcd(Fe,pe),Oe),{})}function appendCmcdHeaders(xe,pe,_e){return _extends(xe,toCmcdHeaders(pe,_e))}const CMCD_PARAM="CMCD";function toCmcdQuery(xe,pe={}){if(!xe)return"";const _e=encodeCmcd(xe,pe);return"".concat(CMCD_PARAM,"=").concat(encodeURIComponent(_e))}const REGEX=/CMCD=[^&#]+/;function appendCmcdQuery(xe,pe,_e){const Ce=toCmcdQuery(pe,_e);if(!Ce)return xe;if(REGEX.test(xe))return xe.replace(REGEX,Ce);const Ie=xe.includes("?")?"&":"?";return"".concat(xe).concat(Ie).concat(Ce)}class CMCDController{constructor(pe){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=Ie=>{try{this.apply(Ie,{ot:CmObjectType.MANIFEST,su:!this.initialized})}catch(Oe){logger.warn("Could not generate manifest CMCD data.",Oe)}},this.applyFragmentData=Ie=>{try{const Oe=Ie.frag,Ne=this.hls.levels[Oe.level],Fe=this.getObjectType(Oe),Ue={d:Oe.duration*1e3,ot:Fe};(Fe===CmObjectType.VIDEO||Fe===CmObjectType.AUDIO||Fe==CmObjectType.MUXED)&&(Ue.br=Ne.bitrate/1e3,Ue.tb=this.getTopBandwidth(Fe)/1e3,Ue.bl=this.getBufferLength(Fe)),this.apply(Ie,Ue)}catch(Oe){logger.warn("Could not generate segment CMCD data.",Oe)}},this.hls=pe;const _e=this.config=pe.config,{cmcd:Ce}=_e;Ce!=null&&(_e.pLoader=this.createPlaylistLoader(),_e.fLoader=this.createFragmentLoader(),this.sid=Ce.sessionId||uuid(),this.cid=Ce.contentId,this.useHeaders=Ce.useHeaders===!0,this.includeKeys=Ce.includeKeys,this.registerListeners())}registerListeners(){const pe=this.hls;pe.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.on(Events.MEDIA_DETACHED,this.onMediaDetached,this),pe.on(Events.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const pe=this.hls;pe.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.off(Events.MEDIA_DETACHED,this.onMediaDetached,this),pe.off(Events.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(pe,_e){this.media=_e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(pe,_e){var Ce,Ie;this.audioBuffer=(Ce=_e.tracks.audio)==null?void 0:Ce.buffer,this.videoBuffer=(Ie=_e.tracks.video)==null?void 0:Ie.buffer}createData(){var pe;return{v:1,sf:CmStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(pe=this.media)==null?void 0:pe.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(pe,_e={}){_extends(_e,this.createData());const Ce=_e.ot===CmObjectType.INIT||_e.ot===CmObjectType.VIDEO||_e.ot===CmObjectType.MUXED;this.starved&&Ce&&(_e.bs=!0,_e.su=!0,this.starved=!1),_e.su==null&&(_e.su=this.buffering);const{includeKeys:Ie}=this;Ie&&(_e=Object.keys(_e).reduce((Oe,Ne)=>(Ie.includes(Ne)&&(Oe[Ne]=_e[Ne]),Oe),{})),this.useHeaders?(pe.headers||(pe.headers={}),appendCmcdHeaders(pe.headers,_e)):pe.url=appendCmcdQuery(pe.url,_e)}getObjectType(pe){const{type:_e}=pe;if(_e==="subtitle")return CmObjectType.TIMED_TEXT;if(pe.sn==="initSegment")return CmObjectType.INIT;if(_e==="audio")return CmObjectType.AUDIO;if(_e==="main")return this.hls.audioTracks.length?CmObjectType.VIDEO:CmObjectType.MUXED}getTopBandwidth(pe){let _e=0,Ce;const Ie=this.hls;if(pe===CmObjectType.AUDIO)Ce=Ie.audioTracks;else{const Oe=Ie.maxAutoLevel,Ne=Oe>-1?Oe+1:Ie.levels.length;Ce=Ie.levels.slice(0,Ne)}for(const Oe of Ce)Oe.bitrate>_e&&(_e=Oe.bitrate);return _e>0?_e:NaN}getBufferLength(pe){const _e=this.hls.media,Ce=pe===CmObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return!Ce||!_e?NaN:BufferHelper.bufferInfo(Ce,_e.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:pe}=this.config,_e=this.applyPlaylistData,Ce=pe||this.config.loader;return class{constructor(Oe){this.loader=void 0,this.loader=new Ce(Oe)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(Oe,Ne,Fe){_e(Oe),this.loader.load(Oe,Ne,Fe)}}}createFragmentLoader(){const{fLoader:pe}=this.config,_e=this.applyFragmentData,Ce=pe||this.config.loader;return class{constructor(Oe){this.loader=void 0,this.loader=new Ce(Oe)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(Oe,Ne,Fe){_e(Oe),this.loader.load(Oe,Ne,Fe)}}}}const PATHWAY_PENALTY_DURATION_MS=3e5;class ContentSteeringController{constructor(pe){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=pe,this.log=logger.log.bind(logger,"[content-steering]:"),this.registerListeners()}registerListeners(){const pe=this.hls;pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),pe.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.on(Events.ERROR,this.onError,this)}unregisterListeners(){const pe=this.hls;pe&&(pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),pe.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.off(Events.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const pe=this.timeToLoad*1e3-(performance.now()-this.updated);if(pe>0){this.scheduleRefresh(this.uri,pe);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(pe){const _e=this.levels;_e&&(this.levels=_e.filter(Ce=>Ce!==pe))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(pe,_e){const{contentSteering:Ce}=_e;Ce!==null&&(this.pathwayId=Ce.pathwayId,this.uri=Ce.uri,this.started&&this.startLoad())}onManifestParsed(pe,_e){this.audioTracks=_e.audioTracks,this.subtitleTracks=_e.subtitleTracks}onError(pe,_e){const{errorAction:Ce}=_e;if((Ce==null?void 0:Ce.action)===NetworkErrorAction.SendAlternateToPenaltyBox&&Ce.flags===ErrorActionFlags.MoveAllAlternatesMatchingHost){const Ie=this.levels;let Oe=this.pathwayPriority,Ne=this.pathwayId;if(_e.context){const{groupId:Fe,pathwayId:Ue,type:$e}=_e.context;Fe&&Ie?Ne=this.getPathwayForGroupId(Fe,$e,Ne):Ue&&(Ne=Ue)}Ne in this.penalizedPathways||(this.penalizedPathways[Ne]=performance.now()),!Oe&&Ie&&(Oe=Ie.reduce((Fe,Ue)=>(Fe.indexOf(Ue.pathwayId)===-1&&Fe.push(Ue.pathwayId),Fe),[])),Oe&&Oe.length>1&&(this.updatePathwayPriority(Oe),Ce.resolved=this.pathwayId!==Ne),Ce.resolved||logger.warn("Could not resolve ".concat(_e.details,' ("').concat(_e.error.message,'") with content-steering for Pathway: ').concat(Ne," levels: ").concat(Ie&&Ie.length," priorities: ").concat(JSON.stringify(Oe)," penalized: ").concat(JSON.stringify(this.penalizedPathways)))}}filterParsedLevels(pe){this.levels=pe;let _e=this.getLevelsForPathway(this.pathwayId);if(_e.length===0){const Ce=pe[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(Ce,'"')),_e=this.getLevelsForPathway(Ce),this.pathwayId=Ce}return _e.length!==pe.length?(this.log("Found ".concat(_e.length,"/").concat(pe.length,' levels in Pathway "').concat(this.pathwayId,'"')),_e):pe}getLevelsForPathway(pe){return this.levels===null?[]:this.levels.filter(_e=>pe===_e.pathwayId)}updatePathwayPriority(pe){this.pathwayPriority=pe;let _e;const Ce=this.penalizedPathways,Ie=performance.now();Object.keys(Ce).forEach(Oe=>{Ie-Ce[Oe]>PATHWAY_PENALTY_DURATION_MS&&delete Ce[Oe]});for(let Oe=0;Oe<pe.length;Oe++){const Ne=pe[Oe];if(Ne in Ce)continue;if(Ne===this.pathwayId)return;const Fe=this.hls.nextLoadLevel,Ue=this.hls.levels[Fe];if(_e=this.getLevelsForPathway(Ne),_e.length>0){this.log('Setting Pathway to "'.concat(Ne,'"')),this.pathwayId=Ne,reassignFragmentLevelIndexes(_e),this.hls.trigger(Events.LEVELS_UPDATED,{levels:_e});const $e=this.hls.levels[Fe];Ue&&$e&&this.levels&&($e.attrs["STABLE-VARIANT-ID"]!==Ue.attrs["STABLE-VARIANT-ID"]&&$e.bitrate!==Ue.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(Ue.bitrate," to ").concat($e.bitrate)),this.hls.nextLoadLevel=Fe);break}}}getPathwayForGroupId(pe,_e,Ce){const Ie=this.getLevelsForPathway(Ce).concat(this.levels||[]);for(let Oe=0;Oe<Ie.length;Oe++)if(_e===PlaylistContextType.AUDIO_TRACK&&Ie[Oe].hasAudioGroup(pe)||_e===PlaylistContextType.SUBTITLE_TRACK&&Ie[Oe].hasSubtitleGroup(pe))return Ie[Oe].pathwayId;return Ce}clonePathways(pe){const _e=this.levels;if(!_e)return;const Ce={},Ie={};pe.forEach(Oe=>{const{ID:Ne,"BASE-ID":Fe,"URI-REPLACEMENT":Ue}=Oe;if(_e.some(ze=>ze.pathwayId===Ne))return;const $e=this.getLevelsForPathway(Fe).map(ze=>{const Ve=new AttrList(ze.attrs);Ve["PATHWAY-ID"]=Ne;const qe=Ve.AUDIO&&"".concat(Ve.AUDIO,"_clone_").concat(Ne),En=Ve.SUBTITLES&&"".concat(Ve.SUBTITLES,"_clone_").concat(Ne);qe&&(Ce[Ve.AUDIO]=qe,Ve.AUDIO=qe),En&&(Ie[Ve.SUBTITLES]=En,Ve.SUBTITLES=En);const vn=performUriReplacement(ze.uri,Ve["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",Ue),hn=new Level({attrs:Ve,audioCodec:ze.audioCodec,bitrate:ze.bitrate,height:ze.height,name:ze.name,url:vn,videoCodec:ze.videoCodec,width:ze.width});if(ze.audioGroups)for(let _n=1;_n<ze.audioGroups.length;_n++)hn.addGroupId("audio","".concat(ze.audioGroups[_n],"_clone_").concat(Ne));if(ze.subtitleGroups)for(let _n=1;_n<ze.subtitleGroups.length;_n++)hn.addGroupId("text","".concat(ze.subtitleGroups[_n],"_clone_").concat(Ne));return hn});_e.push(...$e),cloneRenditionGroups(this.audioTracks,Ce,Ue,Ne),cloneRenditionGroups(this.subtitleTracks,Ie,Ue,Ne)})}loadSteeringManifest(pe){const _e=this.hls.config,Ce=_e.loader;this.loader&&this.loader.destroy(),this.loader=new Ce(_e);let Ie;try{Ie=new self.URL(pe)}catch(ze){this.enabled=!1,this.log("Failed to parse Steering Manifest URI: ".concat(pe));return}if(Ie.protocol!=="data:"){const ze=(this.hls.bandwidthEstimate||_e.abrEwmaDefaultEstimate)|0;Ie.searchParams.set("_HLS_pathway",this.pathwayId),Ie.searchParams.set("_HLS_throughput",""+ze)}const Oe={responseType:"json",url:Ie.href},Ne=_e.steeringManifestLoadPolicy.default,Fe=Ne.errorRetry||Ne.timeoutRetry||{},Ue={loadPolicy:Ne,timeout:Ne.maxLoadTimeMs,maxRetry:Fe.maxNumRetry||0,retryDelay:Fe.retryDelayMs||0,maxRetryDelay:Fe.maxRetryDelayMs||0},$e={onSuccess:(ze,Ve,qe,En)=>{this.log('Loaded steering manifest: "'.concat(Ie,'"'));const vn=ze.data;if(vn.VERSION!==1){this.log("Steering VERSION ".concat(vn.VERSION," not supported!"));return}this.updated=performance.now(),this.timeToLoad=vn.TTL;const{"RELOAD-URI":hn,"PATHWAY-CLONES":_n,"PATHWAY-PRIORITY":bn}=vn;if(hn)try{this.uri=new self.URL(hn,Ie).href}catch(xn){this.enabled=!1,this.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(hn));return}this.scheduleRefresh(this.uri||qe.url),_n&&this.clonePathways(_n);const An={steeringManifest:vn,url:Ie.toString()};this.hls.trigger(Events.STEERING_MANIFEST_LOADED,An),bn&&this.updatePathwayPriority(bn)},onError:(ze,Ve,qe,En)=>{if(this.log("Error loading steering manifest: ".concat(ze.code," ").concat(ze.text," (").concat(Ve.url,")")),this.stopLoad(),ze.code===410){this.enabled=!1,this.log("Steering manifest ".concat(Ve.url," no longer available"));return}let vn=this.timeToLoad*1e3;if(ze.code===429){const hn=this.loader;if(typeof(hn==null?void 0:hn.getResponseHeader)=="function"){const _n=hn.getResponseHeader("Retry-After");_n&&(vn=parseFloat(_n)*1e3)}this.log("Steering manifest ".concat(Ve.url," rate limited"));return}this.scheduleRefresh(this.uri||Ve.url,vn)},onTimeout:(ze,Ve,qe)=>{this.log("Timeout loading steering manifest (".concat(Ve.url,")")),this.scheduleRefresh(this.uri||Ve.url)}};this.log("Requesting steering manifest: ".concat(Ie)),this.loader.load(Oe,Ue,$e)}scheduleRefresh(pe,_e=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var Ce;const Ie=(Ce=this.hls)==null?void 0:Ce.media;if(Ie&&!Ie.ended){this.loadSteeringManifest(pe);return}this.scheduleRefresh(pe,this.timeToLoad*1e3)},_e)}}function cloneRenditionGroups(xe,pe,_e,Ce){xe&&Object.keys(pe).forEach(Ie=>{const Oe=xe.filter(Ne=>Ne.groupId===Ie).map(Ne=>{const Fe=_extends({},Ne);return Fe.details=void 0,Fe.attrs=new AttrList(Fe.attrs),Fe.url=Fe.attrs.URI=performUriReplacement(Ne.url,Ne.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",_e),Fe.groupId=Fe.attrs["GROUP-ID"]=pe[Ie],Fe.attrs["PATHWAY-ID"]=Ce,Fe});xe.push(...Oe)})}function performUriReplacement(xe,pe,_e,Ce){const{HOST:Ie,PARAMS:Oe,[_e]:Ne}=Ce;let Fe;pe&&(Fe=Ne==null?void 0:Ne[pe],Fe&&(xe=Fe));const Ue=new self.URL(xe);return Ie&&!Fe&&(Ue.host=Ie),Oe&&Object.keys(Oe).sort().forEach($e=>{$e&&Ue.searchParams.set($e,Oe[$e])}),Ue.href}const AGE_HEADER_LINE_REGEX=/^age:\s*[\d.]+\s*$/im;class XhrLoader{constructor(pe){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=pe&&pe.xhrSetup||null,this.stats=new LoadStats,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const pe=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),pe&&(pe.onreadystatechange=null,pe.onprogress=null,pe.readyState!==4&&(this.stats.aborted=!0,pe.abort()))}abort(){var pe;this.abortInternal(),(pe=this.callbacks)!=null&&pe.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(pe,_e,Ce){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=pe,this.config=_e,this.callbacks=Ce,this.loadInternal()}loadInternal(){const{config:pe,context:_e}=this;if(!pe||!_e)return;const Ce=this.loader=new self.XMLHttpRequest,Ie=this.stats;Ie.loading.first=0,Ie.loaded=0,Ie.aborted=!1;const Oe=this.xhrSetup;Oe?Promise.resolve().then(()=>{if(!(this.loader!==Ce||this.stats.aborted))return Oe(Ce,_e.url)}).catch(Ne=>{if(!(this.loader!==Ce||this.stats.aborted))return Ce.open("GET",_e.url,!0),Oe(Ce,_e.url)}).then(()=>{this.loader!==Ce||this.stats.aborted||this.openAndSendXhr(Ce,_e,pe)}).catch(Ne=>{this.callbacks.onError({code:Ce.status,text:Ne.message},_e,Ce,Ie)}):this.openAndSendXhr(Ce,_e,pe)}openAndSendXhr(pe,_e,Ce){pe.readyState||pe.open("GET",_e.url,!0);const Ie=_e.headers,{maxTimeToFirstByteMs:Oe,maxLoadTimeMs:Ne}=Ce.loadPolicy;if(Ie)for(const Fe in Ie)pe.setRequestHeader(Fe,Ie[Fe]);_e.rangeEnd&&pe.setRequestHeader("Range","bytes="+_e.rangeStart+"-"+(_e.rangeEnd-1)),pe.onreadystatechange=this.readystatechange.bind(this),pe.onprogress=this.loadprogress.bind(this),pe.responseType=_e.responseType,self.clearTimeout(this.requestTimeout),Ce.timeout=Oe&&isFiniteNumber(Oe)?Oe:Ne,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),Ce.timeout),pe.send()}readystatechange(){const{context:pe,loader:_e,stats:Ce}=this;if(!pe||!_e)return;const Ie=_e.readyState,Oe=this.config;if(!Ce.aborted&&Ie>=2&&(Ce.loading.first===0&&(Ce.loading.first=Math.max(self.performance.now(),Ce.loading.start),Oe.timeout!==Oe.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),Oe.timeout=Oe.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),Oe.loadPolicy.maxLoadTimeMs-(Ce.loading.first-Ce.loading.start)))),Ie===4)){self.clearTimeout(this.requestTimeout),_e.onreadystatechange=null,_e.onprogress=null;const Ne=_e.status,Fe=_e.responseType!=="text";if(Ne>=200&&Ne<300&&(Fe&&_e.response||_e.responseText!==null)){Ce.loading.end=Math.max(self.performance.now(),Ce.loading.first);const Ue=Fe?_e.response:_e.responseText,$e=_e.responseType==="arraybuffer"?Ue.byteLength:Ue.length;if(Ce.loaded=Ce.total=$e,Ce.bwEstimate=Ce.total*8e3/(Ce.loading.end-Ce.loading.first),!this.callbacks)return;const ze=this.callbacks.onProgress;if(ze&&ze(Ce,pe,Ue,_e),!this.callbacks)return;const Ve={url:_e.responseURL,data:Ue,code:Ne};this.callbacks.onSuccess(Ve,Ce,pe,_e)}else{const Ue=Oe.loadPolicy.errorRetry,$e=Ce.retry,ze={url:pe.url,data:void 0,code:Ne};shouldRetry(Ue,$e,!1,ze)?this.retry(Ue):(logger.error("".concat(Ne," while loading ").concat(pe.url)),this.callbacks.onError({code:Ne,text:_e.statusText},pe,_e,Ce))}}}loadtimeout(){if(!this.config)return;const pe=this.config.loadPolicy.timeoutRetry,_e=this.stats.retry;if(shouldRetry(pe,_e,!0))this.retry(pe);else{var Ce;logger.warn("timeout while loading ".concat((Ce=this.context)==null?void 0:Ce.url));const Ie=this.callbacks;Ie&&(this.abortInternal(),Ie.onTimeout(this.stats,this.context,this.loader))}}retry(pe){const{context:_e,stats:Ce}=this;this.retryDelay=getRetryDelay(pe,Ce.retry),Ce.retry++,logger.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(_e==null?void 0:_e.url,", retrying ").concat(Ce.retry,"/").concat(pe.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(pe){const _e=this.stats;_e.loaded=pe.loaded,pe.lengthComputable&&(_e.total=pe.total)}getCacheAge(){let pe=null;if(this.loader&&AGE_HEADER_LINE_REGEX.test(this.loader.getAllResponseHeaders())){const _e=this.loader.getResponseHeader("age");pe=_e?parseFloat(_e):null}return pe}getResponseHeader(pe){return this.loader&&new RegExp("^".concat(pe,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(pe):null}}function fetchSupported(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(xe){}return!1}const BYTERANGE=/(\d+)-(\d+)\/(\d+)/;class FetchLoader{constructor(pe){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=pe.fetchSetup||getRequest,this.controller=new self.AbortController,this.stats=new LoadStats}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var pe;this.abortInternal(),(pe=this.callbacks)!=null&&pe.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(pe,_e,Ce){const Ie=this.stats;if(Ie.loading.start)throw new Error("Loader can only be used once.");Ie.loading.start=self.performance.now();const Oe=getRequestParameters(pe,this.controller.signal),Ne=Ce.onProgress,Fe=pe.responseType==="arraybuffer",Ue=Fe?"byteLength":"length",{maxTimeToFirstByteMs:$e,maxLoadTimeMs:ze}=_e.loadPolicy;this.context=pe,this.config=_e,this.callbacks=Ce,this.request=this.fetchSetup(pe,Oe),self.clearTimeout(this.requestTimeout),_e.timeout=$e&&isFiniteNumber($e)?$e:ze,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),Ce.onTimeout(Ie,pe,this.response)},_e.timeout),self.fetch(this.request).then(Ve=>{this.response=this.loader=Ve;const qe=Math.max(self.performance.now(),Ie.loading.start);if(self.clearTimeout(this.requestTimeout),_e.timeout=ze,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),Ce.onTimeout(Ie,pe,this.response)},ze-(qe-Ie.loading.start)),!Ve.ok){const{status:En,statusText:vn}=Ve;throw new FetchError(vn||"fetch, bad network response",En,Ve)}return Ie.loading.first=qe,Ie.total=getContentLength(Ve.headers)||Ie.total,Ne&&isFiniteNumber(_e.highWaterMark)?this.loadProgressively(Ve,Ie,pe,_e.highWaterMark,Ne):Fe?Ve.arrayBuffer():pe.responseType==="json"?Ve.json():Ve.text()}).then(Ve=>{const qe=this.response;if(!qe)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),Ie.loading.end=Math.max(self.performance.now(),Ie.loading.first);const En=Ve[Ue];En&&(Ie.loaded=Ie.total=En);const vn={url:qe.url,data:Ve,code:qe.status};Ne&&!isFiniteNumber(_e.highWaterMark)&&Ne(Ie,pe,Ve,qe),Ce.onSuccess(vn,Ie,pe,qe)}).catch(Ve=>{if(self.clearTimeout(this.requestTimeout),Ie.aborted)return;const qe=Ve&&Ve.code||0,En=Ve?Ve.message:null;Ce.onError({code:qe,text:En},pe,Ve?Ve.details:null,Ie)})}getCacheAge(){let pe=null;if(this.response){const _e=this.response.headers.get("age");pe=_e?parseFloat(_e):null}return pe}getResponseHeader(pe){return this.response?this.response.headers.get(pe):null}loadProgressively(pe,_e,Ce,Ie=0,Oe){const Ne=new ChunkCache,Fe=pe.body.getReader(),Ue=()=>Fe.read().then($e=>{if($e.done)return Ne.dataLength&&Oe(_e,Ce,Ne.flush(),pe),Promise.resolve(new ArrayBuffer(0));const ze=$e.value,Ve=ze.length;return _e.loaded+=Ve,Ve<Ie||Ne.dataLength?(Ne.push(ze),Ne.dataLength>=Ie&&Oe(_e,Ce,Ne.flush(),pe)):Oe(_e,Ce,ze,pe),Ue()}).catch(()=>Promise.reject());return Ue()}}function getRequestParameters(xe,pe){const _e={method:"GET",mode:"cors",credentials:"same-origin",signal:pe,headers:new self.Headers(_extends({},xe.headers))};return xe.rangeEnd&&_e.headers.set("Range","bytes="+xe.rangeStart+"-"+String(xe.rangeEnd-1)),_e}function getByteRangeLength(xe){const pe=BYTERANGE.exec(xe);if(pe)return parseInt(pe[2])-parseInt(pe[1])+1}function getContentLength(xe){const pe=xe.get("Content-Range");if(pe){const Ce=getByteRangeLength(pe);if(isFiniteNumber(Ce))return Ce}const _e=xe.get("Content-Length");if(_e)return parseInt(_e)}function getRequest(xe,pe){return new self.Request(xe.url,pe)}class FetchError extends Error{constructor(pe,_e,Ce){super(pe),this.code=void 0,this.details=void 0,this.code=_e,this.details=Ce}}const WHITESPACE_CHAR=/\s/,Cues={newCue(xe,pe,_e,Ce){const Ie=[];let Oe,Ne,Fe,Ue,$e;const ze=self.VTTCue||self.TextTrackCue;for(let qe=0;qe<Ce.rows.length;qe++)if(Oe=Ce.rows[qe],Fe=!0,Ue=0,$e="",!Oe.isEmpty()){var Ve;for(let hn=0;hn<Oe.chars.length;hn++)WHITESPACE_CHAR.test(Oe.chars[hn].uchar)&&Fe?Ue++:($e+=Oe.chars[hn].uchar,Fe=!1);Oe.cueStartTime=pe,pe===_e&&(_e+=1e-4),Ue>=16?Ue--:Ue++;const En=fixLineBreaks($e.trim()),vn=generateCueId(pe,_e,En);xe!=null&&(Ve=xe.cues)!=null&&Ve.getCueById(vn)||(Ne=new ze(pe,_e,En),Ne.id=vn,Ne.line=qe+1,Ne.align="left",Ne.position=10+Math.min(80,Math.floor(Ue*8/32)*10),Ie.push(Ne))}return xe&&Ie.length&&(Ie.sort((qe,En)=>qe.line==="auto"||En.line==="auto"?0:qe.line>8&&En.line>8?En.line-qe.line:qe.line-En.line),Ie.forEach(qe=>addCueToTrack(xe,qe))),Ie}},defaultLoadPolicy={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},hlsDefaultConfig=_objectSpread2(_objectSpread2({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:XhrLoader,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:AbrController,bufferController:BufferController,capLevelController:CapLevelController,errorController:ErrorController,fpsController:FPSController,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:defaultLoadPolicy},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},timelineConfig()),{},{subtitleStreamController:SubtitleStreamController,subtitleTrackController:SubtitleTrackController,timelineController:TimelineController,audioStreamController:AudioStreamController,audioTrackController:AudioTrackController,emeController:EMEController,cmcdController:CMCDController,contentSteeringController:ContentSteeringController});function timelineConfig(){return{cueHandler:Cues,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function mergeConfig(xe,pe){if((pe.liveSyncDurationCount||pe.liveMaxLatencyDurationCount)&&(pe.liveSyncDuration||pe.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(pe.liveMaxLatencyDurationCount!==void 0&&(pe.liveSyncDurationCount===void 0||pe.liveMaxLatencyDurationCount<=pe.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(pe.liveMaxLatencyDuration!==void 0&&(pe.liveSyncDuration===void 0||pe.liveMaxLatencyDuration<=pe.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const _e=deepCpy(xe),Ce=["manifest","level","frag"],Ie=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return Ce.forEach(Oe=>{const Ne="".concat(Oe==="level"?"playlist":Oe,"LoadPolicy"),Fe=pe[Ne]===void 0,Ue=[];Ie.forEach($e=>{const ze="".concat(Oe,"Loading").concat($e),Ve=pe[ze];if(Ve!==void 0&&Fe){Ue.push(ze);const qe=_e[Ne].default;switch(pe[Ne]={default:qe},$e){case"TimeOut":qe.maxLoadTimeMs=Ve,qe.maxTimeToFirstByteMs=Ve;break;case"MaxRetry":qe.errorRetry.maxNumRetry=Ve,qe.timeoutRetry.maxNumRetry=Ve;break;case"RetryDelay":qe.errorRetry.retryDelayMs=Ve,qe.timeoutRetry.retryDelayMs=Ve;break;case"MaxRetryTimeout":qe.errorRetry.maxRetryDelayMs=Ve,qe.timeoutRetry.maxRetryDelayMs=Ve;break}}}),Ue.length&&logger.warn('hls.js config: "'.concat(Ue.join('", "'),'" setting(s) are deprecated, use "').concat(Ne,'": ').concat(JSON.stringify(pe[Ne])))}),_objectSpread2(_objectSpread2({},_e),pe)}function deepCpy(xe){return xe&&typeof xe=="object"?Array.isArray(xe)?xe.map(deepCpy):Object.keys(xe).reduce((pe,_e)=>(pe[_e]=deepCpy(xe[_e]),pe),{}):xe}function enableStreamingMode(xe){const pe=xe.loader;pe!==FetchLoader&&pe!==XhrLoader?(logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),xe.progressive=!1):fetchSupported()&&(xe.loader=FetchLoader,xe.progressive=!0,xe.enableSoftwareAES=!0,logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}let chromeOrFirefox;class LevelController extends BasePlaylistController{constructor(pe,_e){super(pe,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=_e,this._registerListeners()}_registerListeners(){const{hls:pe}=this;pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),pe.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.on(Events.FRAG_BUFFERED,this.onFragBuffered,this),pe.on(Events.ERROR,this.onError,this)}_unregisterListeners(){const{hls:pe}=this;pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),pe.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.off(Events.FRAG_BUFFERED,this.onFragBuffered,this),pe.off(Events.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(_e=>{_e.loadError=0,_e.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(pe,_e){this.resetLevels()}onManifestLoaded(pe,_e){const Ce=this.hls.config.preferManagedMediaSource,Ie=[],Oe={},Ne={};let Fe=!1,Ue=!1,$e=!1;_e.levels.forEach(ze=>{var Ve,qe;const En=ze.attrs;let{audioCodec:vn,videoCodec:hn}=ze;((Ve=vn)==null?void 0:Ve.indexOf("mp4a.40.34"))!==-1&&(chromeOrFirefox||(chromeOrFirefox=/chrome|firefox/i.test(navigator.userAgent)),chromeOrFirefox&&(ze.audioCodec=vn=void 0)),vn&&(ze.audioCodec=vn=getCodecCompatibleName(vn,Ce)),((qe=hn)==null?void 0:qe.indexOf("avc1"))===0&&(hn=ze.videoCodec=convertAVC1ToAVCOTI(hn));const{width:_n,height:bn,unknownCodecs:An}=ze;if(Fe||(Fe=!!(_n&&bn)),Ue||(Ue=!!hn),$e||($e=!!vn),An!=null&&An.length||vn&&!areCodecsMediaSourceSupported(vn,"audio",Ce)||hn&&!areCodecsMediaSourceSupported(hn,"video",Ce))return;const{CODECS:xn,"FRAME-RATE":Sn,"HDCP-LEVEL":Cn,"PATHWAY-ID":Tn,RESOLUTION:wn,"VIDEO-RANGE":Ln}=En,Pn="".concat(Tn||".","-"),kn="".concat(Pn).concat(ze.bitrate,"-").concat(wn,"-").concat(Sn,"-").concat(xn,"-").concat(Ln,"-").concat(Cn);if(Oe[kn])if(Oe[kn].uri!==ze.url&&!ze.attrs["PATHWAY-ID"]){const In=Ne[kn]+=1;ze.attrs["PATHWAY-ID"]=new Array(In+1).join(".");const Rn=new Level(ze);Oe[kn]=Rn,Ie.push(Rn)}else Oe[kn].addGroupId("audio",En.AUDIO),Oe[kn].addGroupId("text",En.SUBTITLES);else{const In=new Level(ze);Oe[kn]=In,Ne[kn]=1,Ie.push(In)}}),this.filterAndSortMediaOptions(Ie,_e,Fe,Ue,$e)}filterAndSortMediaOptions(pe,_e,Ce,Ie,Oe){let Ne=[],Fe=[],Ue=pe;if((Ce||Ie)&&Oe&&(Ue=Ue.filter(({videoCodec:vn,videoRange:hn,width:_n,height:bn})=>(!!vn||!!(_n&&bn))&&isVideoRange(hn))),Ue.length===0){Promise.resolve().then(()=>{if(this.hls){_e.levels.length&&this.warn("One or more CODECS in variant not supported: ".concat(JSON.stringify(_e.levels[0].attrs)));const vn=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:_e.url,error:vn,reason:vn.message})}});return}if(_e.audioTracks){const{preferManagedMediaSource:vn}=this.hls.config;Ne=_e.audioTracks.filter(hn=>!hn.audioCodec||areCodecsMediaSourceSupported(hn.audioCodec,"audio",vn)),assignTrackIdsByGroup(Ne)}_e.subtitles&&(Fe=_e.subtitles,assignTrackIdsByGroup(Fe));const $e=Ue.slice(0);Ue.sort((vn,hn)=>{if(vn.attrs["HDCP-LEVEL"]!==hn.attrs["HDCP-LEVEL"])return(vn.attrs["HDCP-LEVEL"]||"")>(hn.attrs["HDCP-LEVEL"]||"")?1:-1;if(Ce&&vn.height!==hn.height)return vn.height-hn.height;if(vn.frameRate!==hn.frameRate)return vn.frameRate-hn.frameRate;if(vn.videoRange!==hn.videoRange)return VideoRangeValues.indexOf(vn.videoRange)-VideoRangeValues.indexOf(hn.videoRange);if(vn.videoCodec!==hn.videoCodec){const _n=videoCodecPreferenceValue(vn.videoCodec),bn=videoCodecPreferenceValue(hn.videoCodec);if(_n!==bn)return bn-_n}if(vn.uri===hn.uri&&vn.codecSet!==hn.codecSet){const _n=codecsSetSelectionPreferenceValue(vn.codecSet),bn=codecsSetSelectionPreferenceValue(hn.codecSet);if(_n!==bn)return bn-_n}return vn.averageBitrate!==hn.averageBitrate?vn.averageBitrate-hn.averageBitrate:0});let ze=$e[0];if(this.steering&&(Ue=this.steering.filterParsedLevels(Ue),Ue.length!==$e.length)){for(let vn=0;vn<$e.length;vn++)if($e[vn].pathwayId===Ue[0].pathwayId){ze=$e[vn];break}}this._levels=Ue;for(let vn=0;vn<Ue.length;vn++)if(Ue[vn]===ze){var Ve;this._firstLevel=vn;const hn=ze.bitrate,_n=this.hls.bandwidthEstimate;if(this.log("manifest loaded, ".concat(Ue.length," level(s) found, first bitrate: ").concat(hn)),((Ve=this.hls.userConfig)==null?void 0:Ve.abrEwmaDefaultEstimate)===void 0){const bn=Math.min(hn,this.hls.config.abrEwmaDefaultEstimateMax);bn>_n&&_n===hlsDefaultConfig.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=bn)}break}const qe=Oe&&!Ie,En={levels:Ue,audioTracks:Ne,subtitleTracks:Fe,sessionData:_e.sessionData,sessionKeys:_e.sessionKeys,firstLevel:this._firstLevel,stats:_e.stats,audio:Oe,video:Ie,altAudio:!qe&&Ne.some(vn=>!!vn.url)};this.hls.trigger(Events.MANIFEST_PARSED,En),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(pe){const _e=this._levels;if(_e.length===0)return;if(pe<0||pe>=_e.length){const ze=new Error("invalid level idx"),Ve=pe<0;if(this.hls.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.LEVEL_SWITCH_ERROR,level:pe,fatal:Ve,error:ze,reason:ze.message}),Ve)return;pe=Math.min(pe,_e.length-1)}const Ce=this.currentLevelIndex,Ie=this.currentLevel,Oe=Ie?Ie.attrs["PATHWAY-ID"]:void 0,Ne=_e[pe],Fe=Ne.attrs["PATHWAY-ID"];if(this.currentLevelIndex=pe,this.currentLevel=Ne,Ce===pe&&Ne.details&&Ie&&Oe===Fe)return;this.log("Switching to level ".concat(pe," (").concat(Ne.height?Ne.height+"p ":"").concat(Ne.videoRange?Ne.videoRange+" ":"").concat(Ne.codecSet?Ne.codecSet+" ":"","@").concat(Ne.bitrate,")").concat(Fe?" with Pathway "+Fe:""," from level ").concat(Ce).concat(Oe?" with Pathway "+Oe:""));const Ue={level:pe,attrs:Ne.attrs,details:Ne.details,bitrate:Ne.bitrate,averageBitrate:Ne.averageBitrate,maxBitrate:Ne.maxBitrate,realBitrate:Ne.realBitrate,width:Ne.width,height:Ne.height,codecSet:Ne.codecSet,audioCodec:Ne.audioCodec,videoCodec:Ne.videoCodec,audioGroups:Ne.audioGroups,subtitleGroups:Ne.subtitleGroups,loaded:Ne.loaded,loadError:Ne.loadError,fragmentError:Ne.fragmentError,name:Ne.name,id:Ne.id,uri:Ne.uri,url:Ne.url,urlId:0,audioGroupIds:Ne.audioGroupIds,textGroupIds:Ne.textGroupIds};this.hls.trigger(Events.LEVEL_SWITCHING,Ue);const $e=Ne.details;if(!$e||$e.live){const ze=this.switchParams(Ne.uri,Ie==null?void 0:Ie.details,$e);this.loadPlaylist(ze)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(pe){this.manualLevelIndex=pe,this._startLevel===void 0&&(this._startLevel=pe),pe!==-1&&(this.level=pe)}get firstLevel(){return this._firstLevel}set firstLevel(pe){this._firstLevel=pe}get startLevel(){if(this._startLevel===void 0){const pe=this.hls.config.startLevel;return pe!==void 0?pe:this.hls.firstAutoLevel}return this._startLevel}set startLevel(pe){this._startLevel=pe}onError(pe,_e){_e.fatal||!_e.context||_e.context.type===PlaylistContextType.LEVEL&&_e.context.level===this.level&&this.checkRetry(_e)}onFragBuffered(pe,{frag:_e}){if(_e!==void 0&&_e.type===PlaylistLevelType.MAIN){const Ce=_e.elementaryStreams;if(!Object.keys(Ce).some(Oe=>!!Ce[Oe]))return;const Ie=this._levels[_e.level];Ie!=null&&Ie.loadError&&(this.log("Resetting level error count of ".concat(Ie.loadError," on frag buffered")),Ie.loadError=0)}}onLevelLoaded(pe,_e){var Ce;const{level:Ie,details:Oe}=_e,Ne=this._levels[Ie];if(!Ne){var Fe;this.warn("Invalid level index ".concat(Ie)),(Fe=_e.deliveryDirectives)!=null&&Fe.skip&&(Oe.deltaUpdateFailed=!0);return}Ie===this.currentLevelIndex?(Ne.fragmentError===0&&(Ne.loadError=0),this.playlistLoaded(Ie,_e,Ne.details)):(Ce=_e.deliveryDirectives)!=null&&Ce.skip&&(Oe.deltaUpdateFailed=!0)}loadPlaylist(pe){super.loadPlaylist();const _e=this.currentLevelIndex,Ce=this.currentLevel;if(Ce&&this.shouldLoadPlaylist(Ce)){let Ie=Ce.uri;if(pe)try{Ie=pe.addDirectives(Ie)}catch(Ne){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(Ne))}const Oe=Ce.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(_e).concat((pe==null?void 0:pe.msn)!==void 0?" at sn "+pe.msn+" part "+pe.part:""," with").concat(Oe?" Pathway "+Oe:""," ").concat(Ie)),this.clearTimer(),this.hls.trigger(Events.LEVEL_LOADING,{url:Ie,level:_e,pathwayId:Ce.attrs["PATHWAY-ID"],id:0,deliveryDirectives:pe||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(pe){this.level=pe,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=pe)}removeLevel(pe){var _e;const Ce=this._levels.filter((Ie,Oe)=>Oe!==pe?!0:(this.steering&&this.steering.removeLevel(Ie),Ie===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,Ie.details&&Ie.details.fragments.forEach(Ne=>Ne.level=-1)),!1));reassignFragmentLevelIndexes(Ce),this._levels=Ce,this.currentLevelIndex>-1&&(_e=this.currentLevel)!=null&&_e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(Events.LEVELS_UPDATED,{levels:Ce})}onLevelsUpdated(pe,{levels:_e}){this._levels=_e}checkMaxAutoUpdated(){const{autoLevelCapping:pe,maxAutoLevel:_e,maxHdcpLevel:Ce}=this.hls;this._maxAutoLevel!==_e&&(this._maxAutoLevel=_e,this.hls.trigger(Events.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:pe,levels:this.levels,maxAutoLevel:_e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:Ce}))}}function assignTrackIdsByGroup(xe){const pe={};xe.forEach(_e=>{const Ce=_e.groupId||"";_e.id=pe[Ce]=pe[Ce]||0,pe[Ce]++})}class KeyLoader{constructor(pe){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=pe}abort(pe){for(const Ce in this.keyUriToKeyInfo){const Ie=this.keyUriToKeyInfo[Ce].loader;if(Ie){var _e;if(pe&&pe!==((_e=Ie.context)==null?void 0:_e.frag.type))return;Ie.abort()}}}detach(){for(const pe in this.keyUriToKeyInfo){const _e=this.keyUriToKeyInfo[pe];(_e.mediaKeySessionContext||_e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[pe]}}destroy(){this.detach();for(const pe in this.keyUriToKeyInfo){const _e=this.keyUriToKeyInfo[pe].loader;_e&&_e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(pe,_e=ErrorDetails.KEY_LOAD_ERROR,Ce,Ie,Oe){return new LoadError({type:ErrorTypes.NETWORK_ERROR,details:_e,fatal:!1,frag:pe,response:Oe,error:Ce,networkDetails:Ie})}loadClear(pe,_e){if(this.emeController&&this.config.emeEnabled){const{sn:Ce,cc:Ie}=pe;for(let Oe=0;Oe<_e.length;Oe++){const Ne=_e[Oe];if(Ie<=Ne.cc&&(Ce==="initSegment"||Ne.sn==="initSegment"||Ce<Ne.sn)){this.emeController.selectKeySystemFormat(Ne).then(Fe=>{Ne.setKeyFormat(Fe)});break}}}}load(pe){return!pe.decryptdata&&pe.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(pe).then(_e=>this.loadInternal(pe,_e)):this.loadInternal(pe)}loadInternal(pe,_e){var Ce,Ie;_e&&pe.setKeyFormat(_e);const Oe=pe.decryptdata;if(!Oe){const $e=new Error(_e?"Expected frag.decryptdata to be defined after setting format ".concat(_e):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(pe,ErrorDetails.KEY_LOAD_ERROR,$e))}const Ne=Oe.uri;if(!Ne)return Promise.reject(this.createKeyLoadError(pe,ErrorDetails.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(Ne,'"'))));let Fe=this.keyUriToKeyInfo[Ne];if((Ce=Fe)!=null&&Ce.decryptdata.key)return Oe.key=Fe.decryptdata.key,Promise.resolve({frag:pe,keyInfo:Fe});if((Ie=Fe)!=null&&Ie.keyLoadPromise){var Ue;switch((Ue=Fe.mediaKeySessionContext)==null?void 0:Ue.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return Fe.keyLoadPromise.then($e=>(Oe.key=$e.keyInfo.decryptdata.key,{frag:pe,keyInfo:Fe}))}}switch(Fe=this.keyUriToKeyInfo[Ne]={decryptdata:Oe,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},Oe.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return Oe.keyFormat==="identity"?this.loadKeyHTTP(Fe,pe):this.loadKeyEME(Fe,pe);case"AES-128":return this.loadKeyHTTP(Fe,pe);default:return Promise.reject(this.createKeyLoadError(pe,ErrorDetails.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(Oe.method,'"'))))}}loadKeyEME(pe,_e){const Ce={frag:_e,keyInfo:pe};if(this.emeController&&this.config.emeEnabled){const Ie=this.emeController.loadKey(Ce);if(Ie)return(pe.keyLoadPromise=Ie.then(Oe=>(pe.mediaKeySessionContext=Oe,Ce))).catch(Oe=>{throw pe.keyLoadPromise=null,Oe})}return Promise.resolve(Ce)}loadKeyHTTP(pe,_e){const Ce=this.config,Ie=Ce.loader,Oe=new Ie(Ce);return _e.keyLoader=pe.loader=Oe,pe.keyLoadPromise=new Promise((Ne,Fe)=>{const Ue={keyInfo:pe,frag:_e,responseType:"arraybuffer",url:pe.decryptdata.uri},$e=Ce.keyLoadPolicy.default,ze={loadPolicy:$e,timeout:$e.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},Ve={onSuccess:(qe,En,vn,hn)=>{const{frag:_n,keyInfo:bn,url:An}=vn;if(!_n.decryptdata||bn!==this.keyUriToKeyInfo[An])return Fe(this.createKeyLoadError(_n,ErrorDetails.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),hn));bn.decryptdata.key=_n.decryptdata.key=new Uint8Array(qe.data),_n.keyLoader=null,bn.loader=null,Ne({frag:_n,keyInfo:bn})},onError:(qe,En,vn,hn)=>{this.resetLoader(En),Fe(this.createKeyLoadError(_e,ErrorDetails.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(qe.code," loading key ").concat(qe.text)),vn,_objectSpread2({url:Ue.url,data:void 0},qe)))},onTimeout:(qe,En,vn)=>{this.resetLoader(En),Fe(this.createKeyLoadError(_e,ErrorDetails.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),vn))},onAbort:(qe,En,vn)=>{this.resetLoader(En),Fe(this.createKeyLoadError(_e,ErrorDetails.INTERNAL_ABORTED,new Error("key loading aborted"),vn))}};Oe.load(Ue,ze,Ve)})}resetLoader(pe){const{frag:_e,keyInfo:Ce,url:Ie}=pe,Oe=Ce.loader;_e.keyLoader===Oe&&(_e.keyLoader=null,Ce.loader=null),delete this.keyUriToKeyInfo[Ie],Oe&&Oe.destroy()}}function getSourceBuffer(){return self.SourceBuffer||self.WebKitSourceBuffer}function isMSESupported(){if(!getMediaSource())return!1;const pe=getSourceBuffer();return!pe||pe.prototype&&typeof pe.prototype.appendBuffer=="function"&&typeof pe.prototype.remove=="function"}function isSupported(){if(!isMSESupported())return!1;const xe=getMediaSource();return typeof(xe==null?void 0:xe.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(pe=>xe.isTypeSupported(mimeTypeForCodec(pe,"video")))||["mp4a.40.2","fLaC"].some(pe=>xe.isTypeSupported(mimeTypeForCodec(pe,"audio"))))}function changeTypeSupported(){var xe;const pe=getSourceBuffer();return typeof(pe==null||(xe=pe.prototype)==null?void 0:xe.changeType)=="function"}const STALL_MINIMUM_DURATION_MS=250,MAX_START_GAP_JUMP=2,SKIP_BUFFER_HOLE_STEP_SECONDS=.1,SKIP_BUFFER_RANGE_START=.05;class GapController{constructor(pe,_e,Ce,Ie){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=pe,this.media=_e,this.fragmentTracker=Ce,this.hls=Ie}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(pe,_e){const{config:Ce,media:Ie,stalled:Oe}=this;if(Ie===null)return;const{currentTime:Ne,seeking:Fe}=Ie,Ue=this.seeking&&!Fe,$e=!this.seeking&&Fe;if(this.seeking=Fe,Ne!==pe){if(this.moved=!0,Fe||(this.nudgeRetry=0),Oe!==null){if(this.stallReported){const _n=self.performance.now()-Oe;logger.warn("playback not stuck anymore @".concat(Ne,", after ").concat(Math.round(_n),"ms")),this.stallReported=!1}this.stalled=null}return}if($e||Ue){this.stalled=null;return}if(Ie.paused&&!Fe||Ie.ended||Ie.playbackRate===0||!BufferHelper.getBuffered(Ie).length){this.nudgeRetry=0;return}const ze=BufferHelper.bufferInfo(Ie,Ne,0),Ve=ze.nextStart||0;if(Fe){const _n=ze.len>MAX_START_GAP_JUMP,bn=!Ve||_e&&_e.start<=Ne||Ve-Ne>MAX_START_GAP_JUMP&&!this.fragmentTracker.getPartialFragment(Ne);if(_n||bn)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var qe;if(!(ze.len>0)&&!Ve)return;const bn=Math.max(Ve,ze.start||0)-Ne,An=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,Sn=(An==null||(qe=An.details)==null?void 0:qe.live)?An.details.targetduration*2:MAX_START_GAP_JUMP,Cn=this.fragmentTracker.getPartialFragment(Ne);if(bn>0&&(bn<=Sn||Cn)){Ie.paused||this._trySkipBufferHole(Cn);return}}const En=self.performance.now();if(Oe===null){this.stalled=En;return}const vn=En-Oe;if(!Fe&&vn>=STALL_MINIMUM_DURATION_MS&&(this._reportStall(ze),!this.media))return;const hn=BufferHelper.bufferInfo(Ie,Ne,Ce.maxBufferHole);this._tryFixBufferStall(hn,vn)}_tryFixBufferStall(pe,_e){const{config:Ce,fragmentTracker:Ie,media:Oe}=this;if(Oe===null)return;const Ne=Oe.currentTime,Fe=Ie.getPartialFragment(Ne);Fe&&(this._trySkipBufferHole(Fe)||!this.media)||(pe.len>Ce.maxBufferHole||pe.nextStart&&pe.nextStart-Ne<Ce.maxBufferHole)&&_e>Ce.highBufferWatchdogPeriod*1e3&&(logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(pe){const{hls:_e,media:Ce,stallReported:Ie}=this;if(!Ie&&Ce){this.stallReported=!0;const Oe=new Error("Playback stalling at @".concat(Ce.currentTime," due to low buffer (").concat(JSON.stringify(pe),")"));logger.warn(Oe.message),_e.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,error:Oe,buffer:pe.len})}}_trySkipBufferHole(pe){const{config:_e,hls:Ce,media:Ie}=this;if(Ie===null)return 0;const Oe=Ie.currentTime,Ne=BufferHelper.bufferInfo(Ie,Oe,0),Fe=Oe<Ne.start?Ne.start:Ne.nextStart;if(Fe){const Ue=Ne.len<=_e.maxBufferHole,$e=Ne.len>0&&Ne.len<1&&Ie.readyState<3,ze=Fe-Oe;if(ze>0&&(Ue||$e)){if(ze>_e.maxBufferHole){const{fragmentTracker:qe}=this;let En=!1;if(Oe===0){const vn=qe.getAppendedFrag(0,PlaylistLevelType.MAIN);vn&&Fe<vn.end&&(En=!0)}if(!En){const vn=pe||qe.getAppendedFrag(Oe,PlaylistLevelType.MAIN);if(vn){let hn=!1,_n=vn.end;for(;_n<Fe;){const bn=qe.getPartialFragment(_n);if(bn)_n+=bn.duration;else{hn=!0;break}}if(hn)return 0}}}const Ve=Math.max(Fe+SKIP_BUFFER_RANGE_START,Oe+SKIP_BUFFER_HOLE_STEP_SECONDS);if(logger.warn("skipping hole, adjusting currentTime from ".concat(Oe," to ").concat(Ve)),this.moved=!0,this.stalled=null,Ie.currentTime=Ve,pe&&!pe.gap){const qe=new Error("fragment loaded with buffer holes, seeking from ".concat(Oe," to ").concat(Ve));Ce.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:qe,reason:qe.message,frag:pe})}return Ve}}return 0}_tryNudgeBuffer(){const{config:pe,hls:_e,media:Ce,nudgeRetry:Ie}=this;if(Ce===null)return;const Oe=Ce.currentTime;if(this.nudgeRetry++,Ie<pe.nudgeMaxRetry){const Ne=Oe+(Ie+1)*pe.nudgeOffset,Fe=new Error("Nudging 'currentTime' from ".concat(Oe," to ").concat(Ne));logger.warn(Fe.message),Ce.currentTime=Ne,_e.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_NUDGE_ON_STALL,error:Fe,fatal:!1})}else{const Ne=new Error("Playhead still not moving while enough data buffered @".concat(Oe," after ").concat(pe.nudgeMaxRetry," nudges"));logger.error(Ne.message),_e.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_STALLED_ERROR,error:Ne,fatal:!0})}}}const TICK_INTERVAL=100;class StreamController extends BaseStreamController{constructor(pe,_e,Ce){super(pe,_e,Ce,"[stream-controller]",PlaylistLevelType.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:pe}=this;pe.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.on(Events.LEVEL_LOADING,this.onLevelLoading,this),pe.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.on(Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),pe.on(Events.ERROR,this.onError,this),pe.on(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),pe.on(Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),pe.on(Events.BUFFER_CREATED,this.onBufferCreated,this),pe.on(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),pe.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.on(Events.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:pe}=this;pe.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),pe.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),pe.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),pe.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),pe.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),pe.off(Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),pe.off(Events.ERROR,this.onError,this),pe.off(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),pe.off(Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),pe.off(Events.BUFFER_CREATED,this.onBufferCreated,this),pe.off(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),pe.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),pe.off(Events.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(pe){if(this.levels){const{lastCurrentTime:_e,hls:Ce}=this;if(this.stopLoad(),this.setInterval(TICK_INTERVAL),this.level=-1,!this.startFragRequested){let Ie=Ce.startLevel;Ie===-1&&(Ce.config.testBandwidth&&this.levels.length>1?(Ie=0,this.bitrateTest=!0):Ie=Ce.firstAutoLevel),Ce.nextLoadLevel=Ie,this.level=Ce.loadLevel,this.loadedmetadata=!1}_e>0&&pe===-1&&(this.log("Override startPosition with lastCurrentTime @".concat(_e.toFixed(3))),pe=_e),this.state=State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=pe,this.tick()}else this._forceStartLoad=!0,this.state=State.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case State.WAITING_LEVEL:{const{levels:_e,level:Ce}=this,Ie=_e==null?void 0:_e[Ce],Oe=Ie==null?void 0:Ie.details;if(Oe&&(!Oe.live||this.levelLastLoaded===Ie)){if(this.waitForCdnTuneIn(Oe))break;this.state=State.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=State.IDLE;break}break}case State.FRAG_LOADING_WAITING_RETRY:{var pe;const _e=self.performance.now(),Ce=this.retryDate;if(!Ce||_e>=Ce||(pe=this.media)!=null&&pe.seeking){const{levels:Ie,level:Oe}=this,Ne=Ie==null?void 0:Ie[Oe];this.resetStartWhenNotLoaded(Ne||null),this.state=State.IDLE}}break}this.state===State.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:pe,levelLastLoaded:_e,levels:Ce,media:Ie}=this;if(_e===null||!Ie&&(this.startFragRequested||!pe.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const Oe=pe.nextLoadLevel;if(!(Ce!=null&&Ce[Oe]))return;const Ne=Ce[Oe],Fe=this.getMainFwdBufferInfo();if(Fe===null)return;const Ue=this.getLevelDetails();if(Ue&&this._streamEnded(Fe,Ue)){const hn={};this.altAudio&&(hn.type="video"),this.hls.trigger(Events.BUFFER_EOS,hn),this.state=State.ENDED;return}pe.loadLevel!==Oe&&pe.manualLevel===-1&&this.log("Adapting to level ".concat(Oe," from level ").concat(this.level)),this.level=pe.nextLoadLevel=Oe;const $e=Ne.details;if(!$e||this.state===State.WAITING_LEVEL||$e.live&&this.levelLastLoaded!==Ne){this.level=Oe,this.state=State.WAITING_LEVEL;return}const ze=Fe.len,Ve=this.getMaxBufferLength(Ne.maxBitrate);if(ze>=Ve)return;this.backtrackFragment&&this.backtrackFragment.start>Fe.end&&(this.backtrackFragment=null);const qe=this.backtrackFragment?this.backtrackFragment.start:Fe.end;let En=this.getNextFragment(qe,$e);if(this.couldBacktrack&&!this.fragPrevious&&En&&En.sn!=="initSegment"&&this.fragmentTracker.getState(En)!==FragmentState.OK){var vn;const _n=((vn=this.backtrackFragment)!=null?vn:En).sn-$e.startSN,bn=$e.fragments[_n-1];bn&&En.cc===bn.cc&&(En=bn,this.fragmentTracker.removeFragment(bn))}else this.backtrackFragment&&Fe.len&&(this.backtrackFragment=null);if(En&&this.isLoopLoading(En,qe)){if(!En.gap){const _n=this.audioOnly&&!this.altAudio?ElementaryStreamTypes.AUDIO:ElementaryStreamTypes.VIDEO,bn=(_n===ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;bn&&this.afterBufferFlushed(bn,_n,PlaylistLevelType.MAIN)}En=this.getNextFragmentLoopLoading(En,$e,Fe,PlaylistLevelType.MAIN,Ve)}En&&(En.initSegment&&!En.initSegment.data&&!this.bitrateTest&&(En=En.initSegment),this.loadFragment(En,Ne,qe))}loadFragment(pe,_e,Ce){const Ie=this.fragmentTracker.getState(pe);this.fragCurrent=pe,Ie===FragmentState.NOT_LOADED||Ie===FragmentState.PARTIAL?pe.sn==="initSegment"?this._loadInitSegment(pe,_e):this.bitrateTest?(this.log("Fragment ".concat(pe.sn," of level ").concat(pe.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(pe,_e)):(this.startFragRequested=!0,super.loadFragment(pe,_e,Ce)):this.clearTrackerIfNeeded(pe)}getBufferedFrag(pe){return this.fragmentTracker.getBufferedFrag(pe,PlaylistLevelType.MAIN)}followingBufferedFrag(pe){return pe?this.getBufferedFrag(pe.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:pe,media:_e}=this;if(_e!=null&&_e.readyState){let Ce;const Ie=this.getAppendedFrag(_e.currentTime);Ie&&Ie.start>1&&this.flushMainBuffer(0,Ie.start-1);const Oe=this.getLevelDetails();if(Oe!=null&&Oe.live){const Fe=this.getMainFwdBufferInfo();if(!Fe||Fe.len<Oe.targetduration*2)return}if(!_e.paused&&pe){const Fe=this.hls.nextLoadLevel,Ue=pe[Fe],$e=this.fragLastKbps;$e&&this.fragCurrent?Ce=this.fragCurrent.duration*Ue.maxBitrate/(1e3*$e)+1:Ce=0}else Ce=0;const Ne=this.getBufferedFrag(_e.currentTime+Ce);if(Ne){const Fe=this.followingBufferedFrag(Ne);if(Fe){this.abortCurrentFrag();const Ue=Fe.maxStartPTS?Fe.maxStartPTS:Fe.start,$e=Fe.duration,ze=Math.max(Ne.end,Ue+Math.min(Math.max($e-this.config.maxFragLookUpTolerance,$e*(this.couldBacktrack?.5:.125)),$e*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(ze,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const pe=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,pe&&(pe.abortRequests(),this.fragmentTracker.removeFragment(pe)),this.state){case State.KEY_LOADING:case State.FRAG_LOADING:case State.FRAG_LOADING_WAITING_RETRY:case State.PARSING:case State.PARSED:this.state=State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(pe,_e){super.flushMainBuffer(pe,_e,this.altAudio?"video":null)}onMediaAttached(pe,_e){super.onMediaAttached(pe,_e);const Ce=_e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),Ce.addEventListener("playing",this.onvplaying),Ce.addEventListener("seeked",this.onvseeked),this.gapController=new GapController(this.config,Ce,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:pe}=this;pe&&this.onvplaying&&this.onvseeked&&(pe.removeEventListener("playing",this.onvplaying),pe.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const pe=this.media,_e=pe?pe.currentTime:null;isFiniteNumber(_e)&&this.log("Media seeked to ".concat(_e.toFixed(3)));const Ce=this.getMainFwdBufferInfo();if(Ce===null||Ce.len===0){this.warn('Main forward buffer length on "seeked" event '.concat(Ce?Ce.len:"empty",")"));return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(pe,_e){let Ce=!1,Ie=!1;_e.levels.forEach(Oe=>{const Ne=Oe.audioCodec;Ne&&(Ce=Ce||Ne.indexOf("mp4a.40.2")!==-1,Ie=Ie||Ne.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=Ce&&Ie&&!changeTypeSupported(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=_e.levels,this.startFragRequested=!1}onLevelLoading(pe,_e){const{levels:Ce}=this;if(!Ce||this.state!==State.IDLE)return;const Ie=Ce[_e.level];(!Ie.details||Ie.details.live&&this.levelLastLoaded!==Ie||this.waitForCdnTuneIn(Ie.details))&&(this.state=State.WAITING_LEVEL)}onLevelLoaded(pe,_e){var Ce;const{levels:Ie}=this,Oe=_e.level,Ne=_e.details,Fe=Ne.totalduration;if(!Ie){this.warn("Levels were reset while loading level ".concat(Oe));return}this.log("Level ".concat(Oe," loaded [").concat(Ne.startSN,",").concat(Ne.endSN,"]").concat(Ne.lastPartSn?"[part-".concat(Ne.lastPartSn,"-").concat(Ne.lastPartIndex,"]"):"",", cc [").concat(Ne.startCC,", ").concat(Ne.endCC,"] duration:").concat(Fe));const Ue=Ie[Oe],$e=this.fragCurrent;$e&&(this.state===State.FRAG_LOADING||this.state===State.FRAG_LOADING_WAITING_RETRY)&&$e.level!==_e.level&&$e.loader&&this.abortCurrentFrag();let ze=0;if(Ne.live||(Ce=Ue.details)!=null&&Ce.live){var Ve;if(this.checkLiveUpdate(Ne),Ne.deltaUpdateFailed)return;ze=this.alignPlaylists(Ne,Ue.details,(Ve=this.levelLastLoaded)==null?void 0:Ve.details)}if(Ue.details=Ne,this.levelLastLoaded=Ue,this.hls.trigger(Events.LEVEL_UPDATED,{details:Ne,level:Oe}),this.state===State.WAITING_LEVEL){if(this.waitForCdnTuneIn(Ne))return;this.state=State.IDLE}this.startFragRequested?Ne.live&&this.synchronizeToLiveEdge(Ne):this.setStartPosition(Ne,ze),this.tick()}_handleFragmentLoadProgress(pe){var _e;const{frag:Ce,part:Ie,payload:Oe}=pe,{levels:Ne}=this;if(!Ne){this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(Ce.sn," of level ").concat(Ce.level," will not be buffered"));return}const Fe=Ne[Ce.level],Ue=Fe.details;if(!Ue){this.warn("Dropping fragment ".concat(Ce.sn," of level ").concat(Ce.level," after level details were reset")),this.fragmentTracker.removeFragment(Ce);return}const $e=Fe.videoCodec,ze=Ue.PTSKnown||!Ue.live,Ve=(_e=Ce.initSegment)==null?void 0:_e.data,qe=this._getAudioCodec(Fe),En=this.transmuxer=this.transmuxer||new TransmuxerInterface(this.hls,PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),vn=Ie?Ie.index:-1,hn=vn!==-1,_n=new ChunkMetadata(Ce.level,Ce.sn,Ce.stats.chunkCount,Oe.byteLength,vn,hn),bn=this.initPTS[Ce.cc];En.push(Oe,Ve,qe,$e,Ce,Ie,Ue.totalduration,ze,_n,bn)}onAudioTrackSwitching(pe,_e){const Ce=this.altAudio;if(!!!_e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const Ne=this.fragCurrent;Ne&&(this.log("Switching to main audio track, cancel main fragment load"),Ne.abortRequests(),this.fragmentTracker.removeFragment(Ne)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const Oe=this.hls;Ce&&(Oe.trigger(Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),Oe.trigger(Events.AUDIO_TRACK_SWITCHED,_e)}}onAudioTrackSwitched(pe,_e){const Ce=_e.id,Ie=!!this.hls.audioTracks[Ce].url;if(Ie){const Oe=this.videoBuffer;Oe&&this.mediaBuffer!==Oe&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=Oe)}this.altAudio=Ie,this.tick()}onBufferCreated(pe,_e){const Ce=_e.tracks;let Ie,Oe,Ne=!1;for(const Fe in Ce){const Ue=Ce[Fe];if(Ue.id==="main"){if(Oe=Fe,Ie=Ue,Fe==="video"){const $e=Ce[Fe];$e&&(this.videoBuffer=$e.buffer)}}else Ne=!0}Ne&&Ie?(this.log("Alternate track found, use ".concat(Oe,".buffered to schedule main fragment loading")),this.mediaBuffer=Ie.buffer):this.mediaBuffer=this.media}onFragBuffered(pe,_e){const{frag:Ce,part:Ie}=_e;if(Ce&&Ce.type!==PlaylistLevelType.MAIN)return;if(this.fragContextChanged(Ce)){this.warn("Fragment ".concat(Ce.sn).concat(Ie?" p: "+Ie.index:""," of level ").concat(Ce.level," finished buffering, but was aborted. state: ").concat(this.state)),this.state===State.PARSED&&(this.state=State.IDLE);return}const Oe=Ie?Ie.stats:Ce.stats;this.fragLastKbps=Math.round(8*Oe.total/(Oe.buffering.end-Oe.loading.first)),Ce.sn!=="initSegment"&&(this.fragPrevious=Ce),this.fragBufferedComplete(Ce,Ie)}onError(pe,_e){var Ce;if(_e.fatal){this.state=State.ERROR;return}switch(_e.details){case ErrorDetails.FRAG_GAP:case ErrorDetails.FRAG_PARSING_ERROR:case ErrorDetails.FRAG_DECRYPT_ERROR:case ErrorDetails.FRAG_LOAD_ERROR:case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_ERROR:case ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(PlaylistLevelType.MAIN,_e);break;case ErrorDetails.LEVEL_LOAD_ERROR:case ErrorDetails.LEVEL_LOAD_TIMEOUT:case ErrorDetails.LEVEL_PARSING_ERROR:!_e.levelRetry&&this.state===State.WAITING_LEVEL&&((Ce=_e.context)==null?void 0:Ce.type)===PlaylistContextType.LEVEL&&(this.state=State.IDLE);break;case ErrorDetails.BUFFER_APPEND_ERROR:case ErrorDetails.BUFFER_FULL_ERROR:if(!_e.parent||_e.parent!=="main")return;if(_e.details===ErrorDetails.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(_e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case ErrorDetails.INTERNAL_EXCEPTION:this.recoverWorkerError(_e);break}}checkBuffer(){const{media:pe,gapController:_e}=this;if(!(!pe||!_e||!pe.readyState)){if(this.loadedmetadata||!BufferHelper.getBuffered(pe).length){const Ce=this.state!==State.IDLE?this.fragCurrent:null;_e.poll(this.lastCurrentTime,Ce)}this.lastCurrentTime=pe.currentTime}}onFragLoadEmergencyAborted(){this.state=State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(pe,{type:_e}){if(_e!==ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){const Ce=(_e===ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(Ce,_e,PlaylistLevelType.MAIN),this.tick()}}onLevelsUpdated(pe,_e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=_e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:pe}=this;if(!pe)return;const _e=pe.currentTime;let Ce=this.startPosition;if(Ce>=0&&_e<Ce){if(pe.seeking){this.log("could not seek to ".concat(Ce,", already seeking at ").concat(_e));return}const Ie=BufferHelper.getBuffered(pe),Ne=(Ie.length?Ie.start(0):0)-Ce;Ne>0&&(Ne<this.config.maxBufferHole||Ne<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(Ne," to match buffer start")),Ce+=Ne,this.startPosition=Ce),this.log("seek to target start position ".concat(Ce," from current time ").concat(_e)),pe.currentTime=Ce}}_getAudioCodec(pe){let _e=this.config.defaultAudioCodec||pe.audioCodec;return this.audioCodecSwap&&_e&&(this.log("Swapping audio codec"),_e.indexOf("mp4a.40.5")!==-1?_e="mp4a.40.2":_e="mp4a.40.5"),_e}_loadBitrateTestFrag(pe,_e){pe.bitrateTest=!0,this._doFragLoad(pe,_e).then(Ce=>{const{hls:Ie}=this;if(!Ce||this.fragContextChanged(pe))return;_e.fragmentError=0,this.state=State.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const Oe=pe.stats;Oe.parsing.start=Oe.parsing.end=Oe.buffering.start=Oe.buffering.end=self.performance.now(),Ie.trigger(Events.FRAG_LOADED,Ce),pe.bitrateTest=!1})}_handleTransmuxComplete(pe){var _e;const Ce="main",{hls:Ie}=this,{remuxResult:Oe,chunkMeta:Ne}=pe,Fe=this.getCurrentContext(Ne);if(!Fe){this.resetWhenMissingContext(Ne);return}const{frag:Ue,part:$e,level:ze}=Fe,{video:Ve,text:qe,id3:En,initSegment:vn}=Oe,{details:hn}=ze,_n=this.altAudio?void 0:Oe.audio;if(this.fragContextChanged(Ue)){this.fragmentTracker.removeFragment(Ue);return}if(this.state=State.PARSING,vn){if(vn!=null&&vn.tracks){const xn=Ue.initSegment||Ue;this._bufferInitSegment(ze,vn.tracks,xn,Ne),Ie.trigger(Events.FRAG_PARSING_INIT_SEGMENT,{frag:xn,id:Ce,tracks:vn.tracks})}const bn=vn.initPTS,An=vn.timescale;isFiniteNumber(bn)&&(this.initPTS[Ue.cc]={baseTime:bn,timescale:An},Ie.trigger(Events.INIT_PTS_FOUND,{frag:Ue,id:Ce,initPTS:bn,timescale:An}))}if(Ve&&hn&&Ue.sn!=="initSegment"){const bn=hn.fragments[Ue.sn-1-hn.startSN],An=Ue.sn===hn.startSN,xn=!bn||Ue.cc>bn.cc;if(Oe.independent!==!1){const{startPTS:Sn,endPTS:Cn,startDTS:Tn,endDTS:wn}=Ve;if($e)$e.elementaryStreams[Ve.type]={startPTS:Sn,endPTS:Cn,startDTS:Tn,endDTS:wn};else if(Ve.firstKeyFrame&&Ve.independent&&Ne.id===1&&!xn&&(this.couldBacktrack=!0),Ve.dropped&&Ve.independent){const Ln=this.getMainFwdBufferInfo(),Pn=(Ln?Ln.end:this.getLoadPosition())+this.config.maxBufferHole,kn=Ve.firstKeyFramePTS?Ve.firstKeyFramePTS:Sn;if(!An&&Pn<kn-this.config.maxBufferHole&&!xn){this.backtrack(Ue);return}else xn&&(Ue.gap=!0);Ue.setElementaryStreamInfo(Ve.type,Ue.start,Cn,Ue.start,wn,!0)}else An&&Sn>MAX_START_GAP_JUMP&&(Ue.gap=!0);Ue.setElementaryStreamInfo(Ve.type,Sn,Cn,Tn,wn),this.backtrackFragment&&(this.backtrackFragment=Ue),this.bufferFragmentData(Ve,Ue,$e,Ne,An||xn)}else if(An||xn)Ue.gap=!0;else{this.backtrack(Ue);return}}if(_n){const{startPTS:bn,endPTS:An,startDTS:xn,endDTS:Sn}=_n;$e&&($e.elementaryStreams[ElementaryStreamTypes.AUDIO]={startPTS:bn,endPTS:An,startDTS:xn,endDTS:Sn}),Ue.setElementaryStreamInfo(ElementaryStreamTypes.AUDIO,bn,An,xn,Sn),this.bufferFragmentData(_n,Ue,$e,Ne)}if(hn&&En!=null&&(_e=En.samples)!=null&&_e.length){const bn={id:Ce,frag:Ue,details:hn,samples:En.samples};Ie.trigger(Events.FRAG_PARSING_METADATA,bn)}if(hn&&qe){const bn={id:Ce,frag:Ue,details:hn,samples:qe.samples};Ie.trigger(Events.FRAG_PARSING_USERDATA,bn)}}_bufferInitSegment(pe,_e,Ce,Ie){if(this.state!==State.PARSING)return;this.audioOnly=!!_e.audio&&!_e.video,this.altAudio&&!this.audioOnly&&delete _e.audio;const{audio:Oe,video:Ne,audiovideo:Fe}=_e;if(Oe){let Ue=pe.audioCodec;const $e=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){Ue&&(Ue.indexOf("mp4a.40.5")!==-1?Ue="mp4a.40.2":Ue="mp4a.40.5");const ze=Oe.metadata;ze&&"channelCount"in ze&&(ze.channelCount||1)!==1&&$e.indexOf("firefox")===-1&&(Ue="mp4a.40.5")}Ue&&Ue.indexOf("mp4a.40.5")!==-1&&$e.indexOf("android")!==-1&&Oe.container!=="audio/mpeg"&&(Ue="mp4a.40.2",this.log("Android: force audio codec to ".concat(Ue))),pe.audioCodec&&pe.audioCodec!==Ue&&this.log('Swapping manifest audio codec "'.concat(pe.audioCodec,'" for "').concat(Ue,'"')),Oe.levelCodec=Ue,Oe.id="main",this.log("Init audio buffer, container:".concat(Oe.container,", codecs[selected/level/parsed]=[").concat(Ue||"","/").concat(pe.audioCodec||"","/").concat(Oe.codec,"]"))}Ne&&(Ne.levelCodec=pe.videoCodec,Ne.id="main",this.log("Init video buffer, container:".concat(Ne.container,", codecs[level/parsed]=[").concat(pe.videoCodec||"","/").concat(Ne.codec,"]"))),Fe&&this.log("Init audiovideo buffer, container:".concat(Fe.container,", codecs[level/parsed]=[").concat(pe.codecs,"/").concat(Fe.codec,"]")),this.hls.trigger(Events.BUFFER_CODECS,_e),Object.keys(_e).forEach(Ue=>{const ze=_e[Ue].initSegment;ze!=null&&ze.byteLength&&this.hls.trigger(Events.BUFFER_APPENDING,{type:Ue,data:ze,frag:Ce,part:null,chunkMeta:Ie,parent:Ce.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,PlaylistLevelType.MAIN)}backtrack(pe){this.couldBacktrack=!0,this.backtrackFragment=pe,this.resetTransmuxer(),this.flushBufferGap(pe),this.fragmentTracker.removeFragment(pe),this.fragPrevious=null,this.nextLoadPosition=pe.start,this.state=State.IDLE}checkFragmentChanged(){const pe=this.media;let _e=null;if(pe&&pe.readyState>1&&pe.seeking===!1){const Ce=pe.currentTime;if(BufferHelper.isBuffered(pe,Ce)?_e=this.getAppendedFrag(Ce):BufferHelper.isBuffered(pe,Ce+.1)&&(_e=this.getAppendedFrag(Ce+.1)),_e){this.backtrackFragment=null;const Ie=this.fragPlaying,Oe=_e.level;(!Ie||_e.sn!==Ie.sn||Ie.level!==Oe)&&(this.fragPlaying=_e,this.hls.trigger(Events.FRAG_CHANGED,{frag:_e}),(!Ie||Ie.level!==Oe)&&this.hls.trigger(Events.LEVEL_SWITCHED,{level:Oe}))}}}get nextLevel(){const pe=this.nextBufferedFrag;return pe?pe.level:-1}get currentFrag(){const pe=this.media;return pe?this.fragPlaying||this.getAppendedFrag(pe.currentTime):null}get currentProgramDateTime(){const pe=this.media;if(pe){const _e=pe.currentTime,Ce=this.currentFrag;if(Ce&&isFiniteNumber(_e)&&isFiniteNumber(Ce.programDateTime)){const Ie=Ce.programDateTime+(_e-Ce.start)*1e3;return new Date(Ie)}}return null}get currentLevel(){const pe=this.currentFrag;return pe?pe.level:-1}get nextBufferedFrag(){const pe=this.currentFrag;return pe?this.followingBufferedFrag(pe):null}get forceStartLoad(){return this._forceStartLoad}}class Hls{static get version(){return"1.5.13"}static isMSESupported(){return isMSESupported()}static isSupported(){return isSupported()}static getMediaSource(){return getMediaSource()}static get Events(){return Events}static get ErrorTypes(){return ErrorTypes}static get ErrorDetails(){return ErrorDetails}static get DefaultConfig(){return Hls.defaultConfig?Hls.defaultConfig:hlsDefaultConfig}static set DefaultConfig(pe){Hls.defaultConfig=pe}constructor(pe={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new EventEmitter,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,enableLogs(pe.debug||!1,"Hls instance");const _e=this.config=mergeConfig(Hls.DefaultConfig,pe);this.userConfig=pe,_e.progressive&&enableStreamingMode(_e);const{abrController:Ce,bufferController:Ie,capLevelController:Oe,errorController:Ne,fpsController:Fe}=_e,Ue=new Ne(this),$e=this.abrController=new Ce(this),ze=this.bufferController=new Ie(this),Ve=this.capLevelController=new Oe(this),qe=new Fe(this),En=new PlaylistLoader(this),vn=new ID3TrackController(this),hn=_e.contentSteeringController,_n=hn?new hn(this):null,bn=this.levelController=new LevelController(this,_n),An=new FragmentTracker(this),xn=new KeyLoader(this.config),Sn=this.streamController=new StreamController(this,An,xn);Ve.setStreamController(Sn),qe.setStreamController(Sn);const Cn=[En,bn,Sn];_n&&Cn.splice(1,0,_n),this.networkControllers=Cn;const Tn=[$e,ze,Ve,qe,vn,An];this.audioTrackController=this.createController(_e.audioTrackController,Cn);const wn=_e.audioStreamController;wn&&Cn.push(new wn(this,An,xn)),this.subtitleTrackController=this.createController(_e.subtitleTrackController,Cn);const Ln=_e.subtitleStreamController;Ln&&Cn.push(new Ln(this,An,xn)),this.createController(_e.timelineController,Tn),xn.emeController=this.emeController=this.createController(_e.emeController,Tn),this.cmcdController=this.createController(_e.cmcdController,Tn),this.latencyController=this.createController(LatencyController,Tn),this.coreComponents=Tn,Cn.push(Ue);const Pn=Ue.onErrorOut;typeof Pn=="function"&&this.on(Events.ERROR,Pn,Ue)}createController(pe,_e){if(pe){const Ce=new pe(this);return _e&&_e.push(Ce),Ce}return null}on(pe,_e,Ce=this){this._emitter.on(pe,_e,Ce)}once(pe,_e,Ce=this){this._emitter.once(pe,_e,Ce)}removeAllListeners(pe){this._emitter.removeAllListeners(pe)}off(pe,_e,Ce=this,Ie){this._emitter.off(pe,_e,Ce,Ie)}listeners(pe){return this._emitter.listeners(pe)}emit(pe,_e,Ce){return this._emitter.emit(pe,_e,Ce)}trigger(pe,_e){if(this.config.debug)return this.emit(pe,pe,_e);try{return this.emit(pe,pe,_e)}catch(Ce){if(logger.error("An internal error happened while handling event "+pe+'. Error message: "'+Ce.message+'". Here is a stacktrace:',Ce),!this.triggeringException){this.triggeringException=!0;const Ie=pe===Events.ERROR;this.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERNAL_EXCEPTION,fatal:Ie,event:pe,error:Ce}),this.triggeringException=!1}}return!1}listenerCount(pe){return this._emitter.listenerCount(pe)}destroy(){logger.log("destroy"),this.trigger(Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(_e=>_e.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(_e=>_e.destroy()),this.coreComponents.length=0;const pe=this.config;pe.xhrSetup=pe.fetchSetup=void 0,this.userConfig=null}attachMedia(pe){logger.log("attachMedia"),this._media=pe,this.trigger(Events.MEDIA_ATTACHING,{media:pe})}detachMedia(){logger.log("detachMedia"),this.trigger(Events.MEDIA_DETACHING,void 0),this._media=null}loadSource(pe){this.stopLoad();const _e=this.media,Ce=this.url,Ie=this.url=urlToolkitExports.buildAbsoluteURL(self.location.href,pe,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,logger.log("loadSource:".concat(Ie)),_e&&Ce&&(Ce!==Ie||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(_e)),this.trigger(Events.MANIFEST_LOADING,{url:pe})}startLoad(pe=-1){logger.log("startLoad(".concat(pe,")")),this.started=!0,this.networkControllers.forEach(_e=>{_e.startLoad(pe)})}stopLoad(){logger.log("stopLoad"),this.started=!1,this.networkControllers.forEach(pe=>{pe.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(pe=>{"fragmentLoader"in pe&&pe.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(pe=>{"fragmentLoader"in pe&&pe.stopLoad()})}swapAudioCodec(){logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){logger.log("recoverMediaError");const pe=this._media;this.detachMedia(),pe&&this.attachMedia(pe)}removeLevel(pe){this.levelController.removeLevel(pe)}get levels(){const pe=this.levelController.levels;return pe||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(pe){logger.log("set currentLevel:".concat(pe)),this.levelController.manualLevel=pe,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(pe){logger.log("set nextLevel:".concat(pe)),this.levelController.manualLevel=pe,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(pe){logger.log("set loadLevel:".concat(pe)),this.levelController.manualLevel=pe}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(pe){this.levelController.nextLoadLevel=pe}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(pe){logger.log("set firstLevel:".concat(pe)),this.levelController.firstLevel=pe}get startLevel(){const pe=this.levelController.startLevel;return pe===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:pe}set startLevel(pe){logger.log("set startLevel:".concat(pe)),pe!==-1&&(pe=Math.max(pe,this.minAutoLevel)),this.levelController.startLevel=pe}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(pe){const _e=!!pe;_e!==this.config.capLevelToPlayerSize&&(_e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=_e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:pe}=this.abrController;return pe?pe.getEstimate():NaN}set bandwidthEstimate(pe){this.abrController.resetEstimator(pe)}get ttfbEstimate(){const{bwEstimator:pe}=this.abrController;return pe?pe.getEstimateTTFB():NaN}set autoLevelCapping(pe){this._autoLevelCapping!==pe&&(logger.log("set autoLevelCapping:".concat(pe)),this._autoLevelCapping=pe,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(pe){isHdcpLevel(pe)&&this._maxHdcpLevel!==pe&&(this._maxHdcpLevel=pe,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:pe,config:{minAutoBitrate:_e}}=this;if(!pe)return 0;const Ce=pe.length;for(let Ie=0;Ie<Ce;Ie++)if(pe[Ie].maxBitrate>=_e)return Ie;return 0}get maxAutoLevel(){const{levels:pe,autoLevelCapping:_e,maxHdcpLevel:Ce}=this;let Ie;if(_e===-1&&pe!=null&&pe.length?Ie=pe.length-1:Ie=_e,Ce)for(let Oe=Ie;Oe--;){const Ne=pe[Oe].attrs["HDCP-LEVEL"];if(Ne&&Ne<=Ce)return Oe}return Ie}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(pe){this.abrController.nextAutoLevel=pe}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(pe){var _e;return(_e=this.audioTrackController)==null?void 0:_e.setAudioOption(pe)}setSubtitleOption(pe){var _e;return(_e=this.subtitleTrackController)==null||_e.setSubtitleOption(pe),null}get allAudioTracks(){const pe=this.audioTrackController;return pe?pe.allAudioTracks:[]}get audioTracks(){const pe=this.audioTrackController;return pe?pe.audioTracks:[]}get audioTrack(){const pe=this.audioTrackController;return pe?pe.audioTrack:-1}set audioTrack(pe){const _e=this.audioTrackController;_e&&(_e.audioTrack=pe)}get allSubtitleTracks(){const pe=this.subtitleTrackController;return pe?pe.allSubtitleTracks:[]}get subtitleTracks(){const pe=this.subtitleTrackController;return pe?pe.subtitleTracks:[]}get subtitleTrack(){const pe=this.subtitleTrackController;return pe?pe.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(pe){const _e=this.subtitleTrackController;_e&&(_e.subtitleTrack=pe)}get subtitleDisplay(){const pe=this.subtitleTrackController;return pe?pe.subtitleDisplay:!1}set subtitleDisplay(pe){const _e=this.subtitleTrackController;_e&&(_e.subtitleDisplay=pe)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(pe){this.config.lowLatencyMode=pe}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Hls.defaultConfig=void 0;var flv={exports:{}};(function(xe,pe){(function(Ce,Ie){xe.exports=Ie()})(self,function(){return function(){var _e={"./node_modules/es6-promise/dist/es6-promise.js":function(Ne,Fe,Ue){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function($e,ze){Ne.exports=ze()})(this,function(){function $e(Ur){var _r=typeof Ur;return Ur!==null&&(_r==="object"||_r==="function")}function ze(Ur){return typeof Ur=="function"}var Ve=void 0;Array.isArray?Ve=Array.isArray:Ve=function(Ur){return Object.prototype.toString.call(Ur)==="[object Array]"};var qe=Ve,En=0,vn=void 0,hn=void 0,_n=function(_r,ur){Nn[En]=_r,Nn[En+1]=ur,En+=2,En===2&&(hn?hn(On):Mn())};function bn(Ur){hn=Ur}function An(Ur){_n=Ur}var xn=typeof window<"u"?window:void 0,Sn=xn||{},Cn=Sn.MutationObserver||Sn.WebKitMutationObserver,Tn=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",wn=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function Ln(){return function(){return process.nextTick(On)}}function Pn(){return typeof vn<"u"?function(){vn(On)}:Rn()}function kn(){var Ur=0,_r=new Cn(On),ur=document.createTextNode("");return _r.observe(ur,{characterData:!0}),function(){ur.data=Ur=++Ur%2}}function In(){var Ur=new MessageChannel;return Ur.port1.onmessage=On,function(){return Ur.port2.postMessage(0)}}function Rn(){var Ur=setTimeout;return function(){return Ur(On,1)}}var Nn=new Array(1e3);function On(){for(var Ur=0;Ur<En;Ur+=2){var _r=Nn[Ur],ur=Nn[Ur+1];_r(ur),Nn[Ur]=void 0,Nn[Ur+1]=void 0}En=0}function Dn(){try{var Ur=Function("return this")().require("vertx");return vn=Ur.runOnLoop||Ur.runOnContext,Pn()}catch(_r){return Rn()}}var Mn=void 0;Tn?Mn=Ln():Cn?Mn=kn():wn?Mn=In():xn===void 0?Mn=Dn():Mn=Rn();function Bn(Ur,_r){var ur=this,kr=new this.constructor(Un);kr[Fn]===void 0&&Fr(kr);var lr=ur._state;if(lr){var br=arguments[lr-1];_n(function(){return gr(lr,kr,br,ur._result)})}else Qn(ur,kr,Ur,_r);return kr}function $n(Ur){var _r=this;if(Ur&&typeof Ur=="object"&&Ur.constructor===_r)return Ur;var ur=new _r(Un);return yr(ur,Ur),ur}var Fn=Math.random().toString(36).substring(2);function Un(){}var Hn=void 0,Wn=1,Xn=2;function or(){return new TypeError("You cannot resolve a promise with itself")}function fr(){return new TypeError("A promises callback cannot return that same promise.")}function cr(Ur,_r,ur,kr){try{Ur.call(_r,ur,kr)}catch(lr){return lr}}function Jn(Ur,_r,ur){_n(function(kr){var lr=!1,br=cr(ur,_r,function(Mr){lr||(lr=!0,_r!==Mr?yr(kr,Mr):Sr(kr,Mr))},function(Mr){lr||(lr=!0,Yn(kr,Mr))},"Settle: "+(kr._label||" unknown promise"));!lr&&br&&(lr=!0,Yn(kr,br))},Ur)}function mr(Ur,_r){_r._state===Wn?Sr(Ur,_r._result):_r._state===Xn?Yn(Ur,_r._result):Qn(_r,void 0,function(ur){return yr(Ur,ur)},function(ur){return Yn(Ur,ur)})}function Ir(Ur,_r,ur){_r.constructor===Ur.constructor&&ur===Bn&&_r.constructor.resolve===$n?mr(Ur,_r):ur===void 0?Sr(Ur,_r):ze(ur)?Jn(Ur,_r,ur):Sr(Ur,_r)}function yr(Ur,_r){if(Ur===_r)Yn(Ur,or());else if($e(_r)){var ur=void 0;try{ur=_r.then}catch(kr){Yn(Ur,kr);return}Ir(Ur,_r,ur)}else Sr(Ur,_r)}function Tr(Ur){Ur._onerror&&Ur._onerror(Ur._result),rr(Ur)}function Sr(Ur,_r){Ur._state===Hn&&(Ur._result=_r,Ur._state=Wn,Ur._subscribers.length!==0&&_n(rr,Ur))}function Yn(Ur,_r){Ur._state===Hn&&(Ur._state=Xn,Ur._result=_r,_n(Tr,Ur))}function Qn(Ur,_r,ur,kr){var lr=Ur._subscribers,br=lr.length;Ur._onerror=null,lr[br]=_r,lr[br+Wn]=ur,lr[br+Xn]=kr,br===0&&Ur._state&&_n(rr,Ur)}function rr(Ur){var _r=Ur._subscribers,ur=Ur._state;if(_r.length!==0){for(var kr=void 0,lr=void 0,br=Ur._result,Mr=0;Mr<_r.length;Mr+=3)kr=_r[Mr],lr=_r[Mr+ur],kr?gr(ur,kr,lr,br):lr(br);Ur._subscribers.length=0}}function gr(Ur,_r,ur,kr){var lr=ze(ur),br=void 0,Mr=void 0,vr=!0;if(lr){try{br=ur(kr)}catch(jr){vr=!1,Mr=jr}if(_r===br){Yn(_r,fr());return}}else br=kr;_r._state!==Hn||(lr&&vr?yr(_r,br):vr===!1?Yn(_r,Mr):Ur===Wn?Sr(_r,br):Ur===Xn&&Yn(_r,br))}function Ar(Ur,_r){try{_r(function(kr){yr(Ur,kr)},function(kr){Yn(Ur,kr)})}catch(ur){Yn(Ur,ur)}}var Br=0;function Vr(){return Br++}function Fr(Ur){Ur[Fn]=Br++,Ur._state=void 0,Ur._result=void 0,Ur._subscribers=[]}function Er(){return new Error("Array Methods must be provided an Array")}var Dr=function(){function Ur(_r,ur){this._instanceConstructor=_r,this.promise=new _r(Un),this.promise[Fn]||Fr(this.promise),qe(ur)?(this.length=ur.length,this._remaining=ur.length,this._result=new Array(this.length),this.length===0?Sr(this.promise,this._result):(this.length=this.length||0,this._enumerate(ur),this._remaining===0&&Sr(this.promise,this._result))):Yn(this.promise,Er())}return Ur.prototype._enumerate=function(ur){for(var kr=0;this._state===Hn&&kr<ur.length;kr++)this._eachEntry(ur[kr],kr)},Ur.prototype._eachEntry=function(ur,kr){var lr=this._instanceConstructor,br=lr.resolve;if(br===$n){var Mr=void 0,vr=void 0,jr=!1;try{Mr=ur.then}catch(zr){jr=!0,vr=zr}if(Mr===Bn&&ur._state!==Hn)this._settledAt(ur._state,kr,ur._result);else if(typeof Mr!="function")this._remaining--,this._result[kr]=ur;else if(lr===qr){var Gr=new lr(Un);jr?Yn(Gr,vr):Ir(Gr,ur,Mr),this._willSettleAt(Gr,kr)}else this._willSettleAt(new lr(function(zr){return zr(ur)}),kr)}else this._willSettleAt(br(ur),kr)},Ur.prototype._settledAt=function(ur,kr,lr){var br=this.promise;br._state===Hn&&(this._remaining--,ur===Xn?Yn(br,lr):this._result[kr]=lr),this._remaining===0&&Sr(br,this._result)},Ur.prototype._willSettleAt=function(ur,kr){var lr=this;Qn(ur,void 0,function(br){return lr._settledAt(Wn,kr,br)},function(br){return lr._settledAt(Xn,kr,br)})},Ur}();function Pr(Ur){return new Dr(this,Ur).promise}function $r(Ur){var _r=this;return qe(Ur)?new _r(function(ur,kr){for(var lr=Ur.length,br=0;br<lr;br++)_r.resolve(Ur[br]).then(ur,kr)}):new _r(function(ur,kr){return kr(new TypeError("You must pass an array to race."))})}function Lr(Ur){var _r=this,ur=new _r(Un);return Yn(ur,Ur),ur}function Or(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Hr(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var qr=function(){function Ur(_r){this[Fn]=Vr(),this._result=this._state=void 0,this._subscribers=[],Un!==_r&&(typeof _r!="function"&&Or(),this instanceof Ur?Ar(this,_r):Hr())}return Ur.prototype.catch=function(ur){return this.then(null,ur)},Ur.prototype.finally=function(ur){var kr=this,lr=kr.constructor;return ze(ur)?kr.then(function(br){return lr.resolve(ur()).then(function(){return br})},function(br){return lr.resolve(ur()).then(function(){throw br})}):kr.then(ur,ur)},Ur}();qr.prototype.then=Bn,qr.all=Pr,qr.race=$r,qr.resolve=$n,qr.reject=Lr,qr._setScheduler=bn,qr._setAsap=An,qr._asap=_n;function ao(){var Ur=void 0;if(typeof Ue.g<"u")Ur=Ue.g;else if(typeof self<"u")Ur=self;else try{Ur=Function("return this")()}catch(kr){throw new Error("polyfill failed because global object is unavailable in this environment")}var _r=Ur.Promise;if(_r){var ur=null;try{ur=Object.prototype.toString.call(_r.resolve())}catch(kr){}if(ur==="[object Promise]"&&!_r.cast)return}Ur.Promise=qr}return qr.polyfill=ao,qr.Promise=qr,qr})},"./node_modules/events/events.js":function(Ne){var Fe=typeof Reflect=="object"?Reflect:null,Ue=Fe&&typeof Fe.apply=="function"?Fe.apply:function(Rn,Nn,On){return Function.prototype.apply.call(Rn,Nn,On)},$e;Fe&&typeof Fe.ownKeys=="function"?$e=Fe.ownKeys:Object.getOwnPropertySymbols?$e=function(Rn){return Object.getOwnPropertyNames(Rn).concat(Object.getOwnPropertySymbols(Rn))}:$e=function(Rn){return Object.getOwnPropertyNames(Rn)};function ze(In){console&&console.warn&&console.warn(In)}var Ve=Number.isNaN||function(Rn){return Rn!==Rn};function qe(){qe.init.call(this)}Ne.exports=qe,Ne.exports.once=Ln,qe.EventEmitter=qe,qe.prototype._events=void 0,qe.prototype._eventsCount=0,qe.prototype._maxListeners=void 0;var En=10;function vn(In){if(typeof In!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof In)}Object.defineProperty(qe,"defaultMaxListeners",{enumerable:!0,get:function(){return En},set:function(In){if(typeof In!="number"||In<0||Ve(In))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+In+".");En=In}}),qe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qe.prototype.setMaxListeners=function(Rn){if(typeof Rn!="number"||Rn<0||Ve(Rn))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Rn+".");return this._maxListeners=Rn,this};function hn(In){return In._maxListeners===void 0?qe.defaultMaxListeners:In._maxListeners}qe.prototype.getMaxListeners=function(){return hn(this)},qe.prototype.emit=function(Rn){for(var Nn=[],On=1;On<arguments.length;On++)Nn.push(arguments[On]);var Dn=Rn==="error",Mn=this._events;if(Mn!==void 0)Dn=Dn&&Mn.error===void 0;else if(!Dn)return!1;if(Dn){var Bn;if(Nn.length>0&&(Bn=Nn[0]),Bn instanceof Error)throw Bn;var $n=new Error("Unhandled error."+(Bn?" ("+Bn.message+")":""));throw $n.context=Bn,$n}var Fn=Mn[Rn];if(Fn===void 0)return!1;if(typeof Fn=="function")Ue(Fn,this,Nn);else for(var Un=Fn.length,Hn=Cn(Fn,Un),On=0;On<Un;++On)Ue(Hn[On],this,Nn);return!0};function _n(In,Rn,Nn,On){var Dn,Mn,Bn;if(vn(Nn),Mn=In._events,Mn===void 0?(Mn=In._events=Object.create(null),In._eventsCount=0):(Mn.newListener!==void 0&&(In.emit("newListener",Rn,Nn.listener?Nn.listener:Nn),Mn=In._events),Bn=Mn[Rn]),Bn===void 0)Bn=Mn[Rn]=Nn,++In._eventsCount;else if(typeof Bn=="function"?Bn=Mn[Rn]=On?[Nn,Bn]:[Bn,Nn]:On?Bn.unshift(Nn):Bn.push(Nn),Dn=hn(In),Dn>0&&Bn.length>Dn&&!Bn.warned){Bn.warned=!0;var $n=new Error("Possible EventEmitter memory leak detected. "+Bn.length+" "+String(Rn)+" listeners added. Use emitter.setMaxListeners() to increase limit");$n.name="MaxListenersExceededWarning",$n.emitter=In,$n.type=Rn,$n.count=Bn.length,ze($n)}return In}qe.prototype.addListener=function(Rn,Nn){return _n(this,Rn,Nn,!1)},qe.prototype.on=qe.prototype.addListener,qe.prototype.prependListener=function(Rn,Nn){return _n(this,Rn,Nn,!0)};function bn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function An(In,Rn,Nn){var On={fired:!1,wrapFn:void 0,target:In,type:Rn,listener:Nn},Dn=bn.bind(On);return Dn.listener=Nn,On.wrapFn=Dn,Dn}qe.prototype.once=function(Rn,Nn){return vn(Nn),this.on(Rn,An(this,Rn,Nn)),this},qe.prototype.prependOnceListener=function(Rn,Nn){return vn(Nn),this.prependListener(Rn,An(this,Rn,Nn)),this},qe.prototype.removeListener=function(Rn,Nn){var On,Dn,Mn,Bn,$n;if(vn(Nn),Dn=this._events,Dn===void 0)return this;if(On=Dn[Rn],On===void 0)return this;if(On===Nn||On.listener===Nn)--this._eventsCount===0?this._events=Object.create(null):(delete Dn[Rn],Dn.removeListener&&this.emit("removeListener",Rn,On.listener||Nn));else if(typeof On!="function"){for(Mn=-1,Bn=On.length-1;Bn>=0;Bn--)if(On[Bn]===Nn||On[Bn].listener===Nn){$n=On[Bn].listener,Mn=Bn;break}if(Mn<0)return this;Mn===0?On.shift():Tn(On,Mn),On.length===1&&(Dn[Rn]=On[0]),Dn.removeListener!==void 0&&this.emit("removeListener",Rn,$n||Nn)}return this},qe.prototype.off=qe.prototype.removeListener,qe.prototype.removeAllListeners=function(Rn){var Nn,On,Dn;if(On=this._events,On===void 0)return this;if(On.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):On[Rn]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete On[Rn]),this;if(arguments.length===0){var Mn=Object.keys(On),Bn;for(Dn=0;Dn<Mn.length;++Dn)Bn=Mn[Dn],Bn!=="removeListener"&&this.removeAllListeners(Bn);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Nn=On[Rn],typeof Nn=="function")this.removeListener(Rn,Nn);else if(Nn!==void 0)for(Dn=Nn.length-1;Dn>=0;Dn--)this.removeListener(Rn,Nn[Dn]);return this};function xn(In,Rn,Nn){var On=In._events;if(On===void 0)return[];var Dn=On[Rn];return Dn===void 0?[]:typeof Dn=="function"?Nn?[Dn.listener||Dn]:[Dn]:Nn?wn(Dn):Cn(Dn,Dn.length)}qe.prototype.listeners=function(Rn){return xn(this,Rn,!0)},qe.prototype.rawListeners=function(Rn){return xn(this,Rn,!1)},qe.listenerCount=function(In,Rn){return typeof In.listenerCount=="function"?In.listenerCount(Rn):Sn.call(In,Rn)},qe.prototype.listenerCount=Sn;function Sn(In){var Rn=this._events;if(Rn!==void 0){var Nn=Rn[In];if(typeof Nn=="function")return 1;if(Nn!==void 0)return Nn.length}return 0}qe.prototype.eventNames=function(){return this._eventsCount>0?$e(this._events):[]};function Cn(In,Rn){for(var Nn=new Array(Rn),On=0;On<Rn;++On)Nn[On]=In[On];return Nn}function Tn(In,Rn){for(;Rn+1<In.length;Rn++)In[Rn]=In[Rn+1];In.pop()}function wn(In){for(var Rn=new Array(In.length),Nn=0;Nn<Rn.length;++Nn)Rn[Nn]=In[Nn].listener||In[Nn];return Rn}function Ln(In,Rn){return new Promise(function(Nn,On){function Dn(Bn){In.removeListener(Rn,Mn),On(Bn)}function Mn(){typeof In.removeListener=="function"&&In.removeListener("error",Dn),Nn([].slice.call(arguments))}kn(In,Rn,Mn,{once:!0}),Rn!=="error"&&Pn(In,Dn,{once:!0})})}function Pn(In,Rn,Nn){typeof In.on=="function"&&kn(In,"error",Rn,Nn)}function kn(In,Rn,Nn,On){if(typeof In.on=="function")On.once?In.once(Rn,Nn):In.on(Rn,Nn);else if(typeof In.addEventListener=="function")In.addEventListener(Rn,function Dn(Mn){On.once&&In.removeEventListener(Rn,Dn),Nn(Mn)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof In)}},"./node_modules/webworkify-webpack/index.js":function(Ne,Fe,Ue){function $e(bn){var An={};function xn(Cn){if(An[Cn])return An[Cn].exports;var Tn=An[Cn]={i:Cn,l:!1,exports:{}};return bn[Cn].call(Tn.exports,Tn,Tn.exports,xn),Tn.l=!0,Tn.exports}xn.m=bn,xn.c=An,xn.i=function(Cn){return Cn},xn.d=function(Cn,Tn,wn){xn.o(Cn,Tn)||Object.defineProperty(Cn,Tn,{configurable:!1,enumerable:!0,get:wn})},xn.r=function(Cn){Object.defineProperty(Cn,"__esModule",{value:!0})},xn.n=function(Cn){var Tn=Cn&&Cn.__esModule?function(){return Cn.default}:function(){return Cn};return xn.d(Tn,"a",Tn),Tn},xn.o=function(Cn,Tn){return Object.prototype.hasOwnProperty.call(Cn,Tn)},xn.p="/",xn.oe=function(Cn){throw console.error(Cn),Cn};var Sn=xn(xn.s=ENTRY_MODULE);return Sn.default||Sn}var ze="[\\.|\\-|\\+|\\w|/|@]+",Ve="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+ze+").*?\\)";function qe(bn){return(bn+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function En(bn){return!isNaN(1*bn)}function vn(bn,An,xn){var Sn={};Sn[xn]=[];var Cn=An.toString(),Tn=Cn.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!Tn)return Sn;for(var wn=Tn[1],Ln=new RegExp("(\\\\n|\\W)"+qe(wn)+Ve,"g"),Pn;Pn=Ln.exec(Cn);)Pn[3]!=="dll-reference"&&Sn[xn].push(Pn[3]);for(Ln=new RegExp("\\("+qe(wn)+'\\("(dll-reference\\s('+ze+'))"\\)\\)'+Ve,"g");Pn=Ln.exec(Cn);)bn[Pn[2]]||(Sn[xn].push(Pn[1]),bn[Pn[2]]=Ue(Pn[1]).m),Sn[Pn[2]]=Sn[Pn[2]]||[],Sn[Pn[2]].push(Pn[4]);for(var kn=Object.keys(Sn),In=0;In<kn.length;In++)for(var Rn=0;Rn<Sn[kn[In]].length;Rn++)En(Sn[kn[In]][Rn])&&(Sn[kn[In]][Rn]=1*Sn[kn[In]][Rn]);return Sn}function hn(bn){var An=Object.keys(bn);return An.reduce(function(xn,Sn){return xn||bn[Sn].length>0},!1)}function _n(bn,An){for(var xn={main:[An]},Sn={main:[]},Cn={main:{}};hn(xn);)for(var Tn=Object.keys(xn),wn=0;wn<Tn.length;wn++){var Ln=Tn[wn],Pn=xn[Ln],kn=Pn.pop();if(Cn[Ln]=Cn[Ln]||{},!(Cn[Ln][kn]||!bn[Ln][kn])){Cn[Ln][kn]=!0,Sn[Ln]=Sn[Ln]||[],Sn[Ln].push(kn);for(var In=vn(bn,bn[Ln][kn],Ln),Rn=Object.keys(In),Nn=0;Nn<Rn.length;Nn++)xn[Rn[Nn]]=xn[Rn[Nn]]||[],xn[Rn[Nn]]=xn[Rn[Nn]].concat(In[Rn[Nn]])}}return Sn}Ne.exports=function(bn,An){An=An||{};var xn={main:Ue.m},Sn=An.all?{main:Object.keys(xn.main)}:_n(xn,bn),Cn="";Object.keys(Sn).filter(function(kn){return kn!=="main"}).forEach(function(kn){for(var In=0;Sn[kn][In];)In++;Sn[kn].push(In),xn[kn][In]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",Cn=Cn+"var "+kn+" = ("+$e.toString().replace("ENTRY_MODULE",JSON.stringify(In))+")({"+Sn[kn].map(function(Rn){return""+JSON.stringify(Rn)+": "+xn[kn][Rn].toString()}).join(",")+"});\n"}),Cn=Cn+"new (("+$e.toString().replace("ENTRY_MODULE",JSON.stringify(bn))+")({"+Sn.main.map(function(kn){return""+JSON.stringify(kn)+": "+xn.main[kn].toString()}).join(",")+"}))(self);";var Tn=new window.Blob([Cn],{type:"text/javascript"});if(An.bare)return Tn;var wn=window.URL||window.webkitURL||window.mozURL||window.msURL,Ln=wn.createObjectURL(Tn),Pn=new window.Worker(Ln);return Pn.objectURL=Ln,Pn}},"./src/config.js":function(Ne,Fe,Ue){Ue.r(Fe),Ue.d(Fe,{defaultConfig:function(){return $e},createDefaultConfig:function(){return ze}});var $e={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function ze(){return Object.assign({},$e)}},"./src/core/features.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/io/io-controller.js"),ze=Ue("./src/config.js"),Ve=function(){function qe(){}return qe.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},qe.supportNetworkStreamIO=function(){var En=new $e.default({},(0,ze.createDefaultConfig)()),vn=En.loaderType;return En.destroy(),vn=="fetch-stream-loader"||vn=="xhr-moz-chunked-loader"},qe.getNetworkLoaderTypeName=function(){var En=new $e.default({},(0,ze.createDefaultConfig)()),vn=En.loaderType;return En.destroy(),vn},qe.supportNativeMediaPlayback=function(En){qe.videoElement==null&&(qe.videoElement=window.document.createElement("video"));var vn=qe.videoElement.canPlayType(En);return vn==="probably"||vn=="maybe"},qe.getFeatureList=function(){var En={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return En.mseFlvPlayback=qe.supportMSEH264Playback(),En.networkStreamIO=qe.supportNetworkStreamIO(),En.networkLoaderName=qe.getNetworkLoaderTypeName(),En.mseLiveFlvPlayback=En.mseFlvPlayback&&En.networkStreamIO,En.nativeMP4H264Playback=qe.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),En.nativeWebmVP8Playback=qe.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),En.nativeWebmVP9Playback=qe.supportNativeMediaPlayback('video/webm; codecs="vp9"'),En},qe}();Fe.default=Ve},"./src/core/media-info.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return ze.prototype.isComplete=function(){var Ve=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,qe=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&Ve&&qe},ze.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},ze.prototype.getNearestKeyframe=function(Ve){if(this.keyframesIndex==null)return null;var qe=this.keyframesIndex,En=this._search(qe.times,Ve);return{index:En,milliseconds:qe.times[En],fileposition:qe.filepositions[En]}},ze.prototype._search=function(Ve,qe){var En=0,vn=Ve.length-1,hn=0,_n=0,bn=vn;for(qe<Ve[0]&&(En=0,_n=bn+1);_n<=bn;)if(hn=_n+Math.floor((bn-_n)/2),hn===vn||qe>=Ve[hn]&&qe<Ve[hn+1]){En=hn;break}else Ve[hn]<qe?_n=hn+1:bn=hn-1;return En},ze}();Fe.default=$e},"./src/core/media-segment-info.js":function(Ne,Fe,Ue){Ue.r(Fe),Ue.d(Fe,{SampleInfo:function(){return $e},MediaSegmentInfo:function(){return ze},IDRSampleList:function(){return Ve},MediaSegmentInfoList:function(){return qe}});var $e=function(){function En(vn,hn,_n,bn,An){this.dts=vn,this.pts=hn,this.duration=_n,this.originalDts=bn,this.isSyncPoint=An,this.fileposition=null}return En}(),ze=function(){function En(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return En.prototype.appendSyncPoint=function(vn){vn.isSyncPoint=!0,this.syncPoints.push(vn)},En}(),Ve=function(){function En(){this._list=[]}return En.prototype.clear=function(){this._list=[]},En.prototype.appendArray=function(vn){var hn=this._list;vn.length!==0&&(hn.length>0&&vn[0].originalDts<hn[hn.length-1].originalDts&&this.clear(),Array.prototype.push.apply(hn,vn))},En.prototype.getLastSyncPointBeforeDts=function(vn){if(this._list.length==0)return null;var hn=this._list,_n=0,bn=hn.length-1,An=0,xn=0,Sn=bn;for(vn<hn[0].dts&&(_n=0,xn=Sn+1);xn<=Sn;)if(An=xn+Math.floor((Sn-xn)/2),An===bn||vn>=hn[An].dts&&vn<hn[An+1].dts){_n=An;break}else hn[An].dts<vn?xn=An+1:Sn=An-1;return this._list[_n]},En}(),qe=function(){function En(vn){this._type=vn,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(En.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),En.prototype.isEmpty=function(){return this._list.length===0},En.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},En.prototype._searchNearestSegmentBefore=function(vn){var hn=this._list;if(hn.length===0)return-2;var _n=hn.length-1,bn=0,An=0,xn=_n,Sn=0;if(vn<hn[0].originalBeginDts)return Sn=-1,Sn;for(;An<=xn;)if(bn=An+Math.floor((xn-An)/2),bn===_n||vn>hn[bn].lastSample.originalDts&&vn<hn[bn+1].originalBeginDts){Sn=bn;break}else hn[bn].originalBeginDts<vn?An=bn+1:xn=bn-1;return Sn},En.prototype._searchNearestSegmentAfter=function(vn){return this._searchNearestSegmentBefore(vn)+1},En.prototype.append=function(vn){var hn=this._list,_n=vn,bn=this._lastAppendLocation,An=0;bn!==-1&&bn<hn.length&&_n.originalBeginDts>=hn[bn].lastSample.originalDts&&(bn===hn.length-1||bn<hn.length-1&&_n.originalBeginDts<hn[bn+1].originalBeginDts)?An=bn+1:hn.length>0&&(An=this._searchNearestSegmentBefore(_n.originalBeginDts)+1),this._lastAppendLocation=An,this._list.splice(An,0,_n)},En.prototype.getLastSegmentBefore=function(vn){var hn=this._searchNearestSegmentBefore(vn);return hn>=0?this._list[hn]:null},En.prototype.getLastSampleBefore=function(vn){var hn=this.getLastSegmentBefore(vn);return hn!=null?hn.lastSample:null},En.prototype.getLastSyncPointBefore=function(vn){for(var hn=this._searchNearestSegmentBefore(vn),_n=this._list[hn].syncPoints;_n.length===0&&hn>0;)hn--,_n=this._list[hn].syncPoints;return _n.length>0?_n[_n.length-1]:null},En}()},"./src/core/mse-controller.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=Ue("./src/utils/logger.js"),qe=Ue("./src/utils/browser.js"),En=Ue("./src/core/mse-events.js"),vn=Ue("./src/core/media-segment-info.js"),hn=Ue("./src/utils/exception.js"),_n=function(){function bn(An){this.TAG="MSEController",this._config=An,this._emitter=new(ze()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new vn.IDRSampleList}return bn.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},bn.prototype.on=function(An,xn){this._emitter.addListener(An,xn)},bn.prototype.off=function(An,xn){this._emitter.removeListener(An,xn)},bn.prototype.attachMediaElement=function(An){if(this._mediaSource)throw new hn.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var xn=this._mediaSource=new window.MediaSource;xn.addEventListener("sourceopen",this.e.onSourceOpen),xn.addEventListener("sourceended",this.e.onSourceEnded),xn.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=An,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),An.src=this._mediaSourceObjectURL},bn.prototype.detachMediaElement=function(){if(this._mediaSource){var An=this._mediaSource;for(var xn in this._sourceBuffers){var Sn=this._pendingSegments[xn];Sn.splice(0,Sn.length),this._pendingSegments[xn]=null,this._pendingRemoveRanges[xn]=null,this._lastInitSegments[xn]=null;var Cn=this._sourceBuffers[xn];if(Cn){if(An.readyState!=="closed"){try{An.removeSourceBuffer(Cn)}catch(Tn){Ve.default.e(this.TAG,Tn.message)}Cn.removeEventListener("error",this.e.onSourceBufferError),Cn.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[xn]=null,this._sourceBuffers[xn]=null}}if(An.readyState==="open")try{An.endOfStream()}catch(Tn){Ve.default.e(this.TAG,Tn.message)}An.removeEventListener("sourceopen",this.e.onSourceOpen),An.removeEventListener("sourceended",this.e.onSourceEnded),An.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},bn.prototype.appendInitSegment=function(An,xn){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(An),this._pendingSegments[An.type].push(An);return}var Sn=An,Cn=""+Sn.container;Sn.codec&&Sn.codec.length>0&&(Cn+=";codecs="+Sn.codec);var Tn=!1;if(Ve.default.v(this.TAG,"Received Initialization Segment, mimeType: "+Cn),this._lastInitSegments[Sn.type]=Sn,Cn!==this._mimeTypes[Sn.type]){if(this._mimeTypes[Sn.type])Ve.default.v(this.TAG,"Notice: "+Sn.type+" mimeType changed, origin: "+this._mimeTypes[Sn.type]+", target: "+Cn);else{Tn=!0;try{var wn=this._sourceBuffers[Sn.type]=this._mediaSource.addSourceBuffer(Cn);wn.addEventListener("error",this.e.onSourceBufferError),wn.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(Ln){Ve.default.e(this.TAG,Ln.message),this._emitter.emit(En.default.ERROR,{code:Ln.code,msg:Ln.message});return}}this._mimeTypes[Sn.type]=Cn}xn||this._pendingSegments[Sn.type].push(Sn),Tn||this._sourceBuffers[Sn.type]&&!this._sourceBuffers[Sn.type].updating&&this._doAppendSegments(),qe.default.safari&&Sn.container==="audio/mpeg"&&Sn.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=Sn.mediaDuration/1e3,this._updateMediaSourceDuration())},bn.prototype.appendMediaSegment=function(An){var xn=An;this._pendingSegments[xn.type].push(xn),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var Sn=this._sourceBuffers[xn.type];Sn&&!Sn.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},bn.prototype.seek=function(An){for(var xn in this._sourceBuffers)if(this._sourceBuffers[xn]){var Sn=this._sourceBuffers[xn];if(this._mediaSource.readyState==="open")try{Sn.abort()}catch(kn){Ve.default.e(this.TAG,kn.message)}this._idrList.clear();var Cn=this._pendingSegments[xn];if(Cn.splice(0,Cn.length),this._mediaSource.readyState!=="closed"){for(var Tn=0;Tn<Sn.buffered.length;Tn++){var wn=Sn.buffered.start(Tn),Ln=Sn.buffered.end(Tn);this._pendingRemoveRanges[xn].push({start:wn,end:Ln})}if(Sn.updating||this._doRemoveRanges(),qe.default.safari){var Pn=this._lastInitSegments[xn];Pn&&(this._pendingSegments[xn].push(Pn),Sn.updating||this._doAppendSegments())}}}},bn.prototype.endOfStream=function(){var An=this._mediaSource,xn=this._sourceBuffers;if(!An||An.readyState!=="open"){An&&An.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}xn.video&&xn.video.updating||xn.audio&&xn.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,An.endOfStream())},bn.prototype.getNearestKeyframe=function(An){return this._idrList.getLastSyncPointBeforeDts(An)},bn.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var An=this._mediaElement.currentTime;for(var xn in this._sourceBuffers){var Sn=this._sourceBuffers[xn];if(Sn){var Cn=Sn.buffered;if(Cn.length>=1&&An-Cn.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},bn.prototype._doCleanupSourceBuffer=function(){var An=this._mediaElement.currentTime;for(var xn in this._sourceBuffers){var Sn=this._sourceBuffers[xn];if(Sn){for(var Cn=Sn.buffered,Tn=!1,wn=0;wn<Cn.length;wn++){var Ln=Cn.start(wn),Pn=Cn.end(wn);if(Ln<=An&&An<Pn+3){if(An-Ln>=this._config.autoCleanupMaxBackwardDuration){Tn=!0;var kn=An-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[xn].push({start:Ln,end:kn})}}else Pn<An&&(Tn=!0,this._pendingRemoveRanges[xn].push({start:Ln,end:Pn}))}Tn&&!Sn.updating&&this._doRemoveRanges()}}},bn.prototype._updateMediaSourceDuration=function(){var An=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(An.video&&An.video.updating||An.audio&&An.audio.updating)){var xn=this._mediaSource.duration,Sn=this._pendingMediaDuration;Sn>0&&(isNaN(xn)||Sn>xn)&&(Ve.default.v(this.TAG,"Update MediaSource duration from "+xn+" to "+Sn),this._mediaSource.duration=Sn),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},bn.prototype._doRemoveRanges=function(){for(var An in this._pendingRemoveRanges)if(!(!this._sourceBuffers[An]||this._sourceBuffers[An].updating))for(var xn=this._sourceBuffers[An],Sn=this._pendingRemoveRanges[An];Sn.length&&!xn.updating;){var Cn=Sn.shift();xn.remove(Cn.start,Cn.end)}},bn.prototype._doAppendSegments=function(){var An=this._pendingSegments;for(var xn in An)if(!(!this._sourceBuffers[xn]||this._sourceBuffers[xn].updating)&&An[xn].length>0){var Sn=An[xn].shift();if(Sn.timestampOffset){var Cn=this._sourceBuffers[xn].timestampOffset,Tn=Sn.timestampOffset/1e3,wn=Math.abs(Cn-Tn);wn>.1&&(Ve.default.v(this.TAG,"Update MPEG audio timestampOffset from "+Cn+" to "+Tn),this._sourceBuffers[xn].timestampOffset=Tn),delete Sn.timestampOffset}if(!Sn.data||Sn.data.byteLength===0)continue;try{this._sourceBuffers[xn].appendBuffer(Sn.data),this._isBufferFull=!1,xn==="video"&&Sn.hasOwnProperty("info")&&this._idrList.appendArray(Sn.info.syncPoints)}catch(Ln){this._pendingSegments[xn].unshift(Sn),Ln.code===22?(this._isBufferFull||this._emitter.emit(En.default.BUFFER_FULL),this._isBufferFull=!0):(Ve.default.e(this.TAG,Ln.message),this._emitter.emit(En.default.ERROR,{code:Ln.code,msg:Ln.message}))}}},bn.prototype._onSourceOpen=function(){if(Ve.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var An=this._pendingSourceBufferInit;An.length;){var xn=An.shift();this.appendInitSegment(xn,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(En.default.SOURCE_OPEN)},bn.prototype._onSourceEnded=function(){Ve.default.v(this.TAG,"MediaSource onSourceEnded")},bn.prototype._onSourceClose=function(){Ve.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},bn.prototype._hasPendingSegments=function(){var An=this._pendingSegments;return An.video.length>0||An.audio.length>0},bn.prototype._hasPendingRemoveRanges=function(){var An=this._pendingRemoveRanges;return An.video.length>0||An.audio.length>0},bn.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(En.default.UPDATE_END)},bn.prototype._onSourceBufferError=function(An){Ve.default.e(this.TAG,"SourceBuffer Error: "+An)},bn}();Fe.default=_n},"./src/core/mse-events.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};Fe.default=$e},"./src/core/transmuxer.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=Ue("./node_modules/webworkify-webpack/index.js"),qe=Ue.n(Ve),En=Ue("./src/utils/logger.js"),vn=Ue("./src/utils/logging-control.js"),hn=Ue("./src/core/transmuxing-controller.js"),_n=Ue("./src/core/transmuxing-events.js"),bn=Ue("./src/core/media-info.js"),An=function(){function xn(Sn,Cn){if(this.TAG="Transmuxer",this._emitter=new(ze()),Cn.enableWorker&&typeof Worker<"u")try{this._worker=qe()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[Sn,Cn]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},vn.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:vn.default.getConfig()})}catch(wn){En.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new hn.default(Sn,Cn)}else this._controller=new hn.default(Sn,Cn);if(this._controller){var Tn=this._controller;Tn.on(_n.default.IO_ERROR,this._onIOError.bind(this)),Tn.on(_n.default.DEMUX_ERROR,this._onDemuxError.bind(this)),Tn.on(_n.default.INIT_SEGMENT,this._onInitSegment.bind(this)),Tn.on(_n.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),Tn.on(_n.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),Tn.on(_n.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),Tn.on(_n.default.MEDIA_INFO,this._onMediaInfo.bind(this)),Tn.on(_n.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),Tn.on(_n.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),Tn.on(_n.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),Tn.on(_n.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return xn.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),vn.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},xn.prototype.on=function(Sn,Cn){this._emitter.addListener(Sn,Cn)},xn.prototype.off=function(Sn,Cn){this._emitter.removeListener(Sn,Cn)},xn.prototype.hasWorker=function(){return this._worker!=null},xn.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},xn.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},xn.prototype.seek=function(Sn){this._worker?this._worker.postMessage({cmd:"seek",param:Sn}):this._controller.seek(Sn)},xn.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},xn.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},xn.prototype._onInitSegment=function(Sn,Cn){var Tn=this;Promise.resolve().then(function(){Tn._emitter.emit(_n.default.INIT_SEGMENT,Sn,Cn)})},xn.prototype._onMediaSegment=function(Sn,Cn){var Tn=this;Promise.resolve().then(function(){Tn._emitter.emit(_n.default.MEDIA_SEGMENT,Sn,Cn)})},xn.prototype._onLoadingComplete=function(){var Sn=this;Promise.resolve().then(function(){Sn._emitter.emit(_n.default.LOADING_COMPLETE)})},xn.prototype._onRecoveredEarlyEof=function(){var Sn=this;Promise.resolve().then(function(){Sn._emitter.emit(_n.default.RECOVERED_EARLY_EOF)})},xn.prototype._onMediaInfo=function(Sn){var Cn=this;Promise.resolve().then(function(){Cn._emitter.emit(_n.default.MEDIA_INFO,Sn)})},xn.prototype._onMetaDataArrived=function(Sn){var Cn=this;Promise.resolve().then(function(){Cn._emitter.emit(_n.default.METADATA_ARRIVED,Sn)})},xn.prototype._onScriptDataArrived=function(Sn){var Cn=this;Promise.resolve().then(function(){Cn._emitter.emit(_n.default.SCRIPTDATA_ARRIVED,Sn)})},xn.prototype._onStatisticsInfo=function(Sn){var Cn=this;Promise.resolve().then(function(){Cn._emitter.emit(_n.default.STATISTICS_INFO,Sn)})},xn.prototype._onIOError=function(Sn,Cn){var Tn=this;Promise.resolve().then(function(){Tn._emitter.emit(_n.default.IO_ERROR,Sn,Cn)})},xn.prototype._onDemuxError=function(Sn,Cn){var Tn=this;Promise.resolve().then(function(){Tn._emitter.emit(_n.default.DEMUX_ERROR,Sn,Cn)})},xn.prototype._onRecommendSeekpoint=function(Sn){var Cn=this;Promise.resolve().then(function(){Cn._emitter.emit(_n.default.RECOMMEND_SEEKPOINT,Sn)})},xn.prototype._onLoggingConfigChanged=function(Sn){this._worker&&this._worker.postMessage({cmd:"logging_config",param:Sn})},xn.prototype._onWorkerMessage=function(Sn){var Cn=Sn.data,Tn=Cn.data;if(Cn.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(Cn.msg){case _n.default.INIT_SEGMENT:case _n.default.MEDIA_SEGMENT:this._emitter.emit(Cn.msg,Tn.type,Tn.data);break;case _n.default.LOADING_COMPLETE:case _n.default.RECOVERED_EARLY_EOF:this._emitter.emit(Cn.msg);break;case _n.default.MEDIA_INFO:Object.setPrototypeOf(Tn,bn.default.prototype),this._emitter.emit(Cn.msg,Tn);break;case _n.default.METADATA_ARRIVED:case _n.default.SCRIPTDATA_ARRIVED:case _n.default.STATISTICS_INFO:this._emitter.emit(Cn.msg,Tn);break;case _n.default.IO_ERROR:case _n.default.DEMUX_ERROR:this._emitter.emit(Cn.msg,Tn.type,Tn.info);break;case _n.default.RECOMMEND_SEEKPOINT:this._emitter.emit(Cn.msg,Tn);break;case"logcat_callback":En.default.emitter.emit("log",Tn.type,Tn.logcat);break}},xn}();Fe.default=An},"./src/core/transmuxing-controller.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=Ue("./src/utils/logger.js"),qe=Ue("./src/utils/browser.js"),En=Ue("./src/core/media-info.js"),vn=Ue("./src/demux/flv-demuxer.js"),hn=Ue("./src/remux/mp4-remuxer.js"),_n=Ue("./src/demux/demux-errors.js"),bn=Ue("./src/io/io-controller.js"),An=Ue("./src/core/transmuxing-events.js"),xn=function(){function Sn(Cn,Tn){this.TAG="TransmuxingController",this._emitter=new(ze()),this._config=Tn,Cn.segments||(Cn.segments=[{duration:Cn.duration,filesize:Cn.filesize,url:Cn.url}]),typeof Cn.cors!="boolean"&&(Cn.cors=!0),typeof Cn.withCredentials!="boolean"&&(Cn.withCredentials=!1),this._mediaDataSource=Cn,this._currentSegmentIndex=0;var wn=0;this._mediaDataSource.segments.forEach(function(Ln){Ln.timestampBase=wn,wn+=Ln.duration,Ln.cors=Cn.cors,Ln.withCredentials=Cn.withCredentials,Tn.referrerPolicy&&(Ln.referrerPolicy=Tn.referrerPolicy)}),!isNaN(wn)&&this._mediaDataSource.duration!==wn&&(this._mediaDataSource.duration=wn),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return Sn.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},Sn.prototype.on=function(Cn,Tn){this._emitter.addListener(Cn,Tn)},Sn.prototype.off=function(Cn,Tn){this._emitter.removeListener(Cn,Tn)},Sn.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},Sn.prototype._loadSegment=function(Cn,Tn){this._currentSegmentIndex=Cn;var wn=this._mediaDataSource.segments[Cn],Ln=this._ioctl=new bn.default(wn,this._config,Cn);Ln.onError=this._onIOException.bind(this),Ln.onSeeked=this._onIOSeeked.bind(this),Ln.onComplete=this._onIOComplete.bind(this),Ln.onRedirect=this._onIORedirect.bind(this),Ln.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),Tn?this._demuxer.bindDataSource(this._ioctl):Ln.onDataArrival=this._onInitChunkArrival.bind(this),Ln.open(Tn)},Sn.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},Sn.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},Sn.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},Sn.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},Sn.prototype.seek=function(Cn){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var Tn=this._searchSegmentIndexContains(Cn);if(Tn===this._currentSegmentIndex){var wn=this._mediaInfo.segments[Tn];if(wn==null)this._pendingSeekTime=Cn;else{var Ln=wn.getNearestKeyframe(Cn);this._remuxer.seek(Ln.milliseconds),this._ioctl.seek(Ln.fileposition),this._pendingResolveSeekPoint=Ln.milliseconds}}else{var Pn=this._mediaInfo.segments[Tn];if(Pn==null)this._pendingSeekTime=Cn,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(Tn);else{var Ln=Pn.getNearestKeyframe(Cn);this._internalAbort(),this._remuxer.seek(Cn),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[Tn].timestampBase,this._loadSegment(Tn,Ln.fileposition),this._pendingResolveSeekPoint=Ln.milliseconds,this._reportSegmentMediaInfo(Tn)}}this._enableStatisticsReporter()}},Sn.prototype._searchSegmentIndexContains=function(Cn){for(var Tn=this._mediaDataSource.segments,wn=Tn.length-1,Ln=0;Ln<Tn.length;Ln++)if(Cn<Tn[Ln].timestampBase){wn=Ln-1;break}return wn},Sn.prototype._onInitChunkArrival=function(Cn,Tn){var wn=this,Ln=null,Pn=0;if(Tn>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,Pn=this._demuxer.parseChunks(Cn,Tn);else if((Ln=vn.default.probe(Cn)).match){this._demuxer=new vn.default(Ln,this._config),this._remuxer||(this._remuxer=new hn.default(this._config));var kn=this._mediaDataSource;kn.duration!=null&&!isNaN(kn.duration)&&(this._demuxer.overridedDuration=kn.duration),typeof kn.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=kn.hasAudio),typeof kn.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=kn.hasVideo),this._demuxer.timestampBase=kn.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),Pn=this._demuxer.parseChunks(Cn,Tn)}else Ln=null,Ve.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){wn._internalAbort()}),this._emitter.emit(An.default.DEMUX_ERROR,_n.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),Pn=0;return Pn},Sn.prototype._onMediaInfo=function(Cn){var Tn=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},Cn),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,En.default.prototype));var wn=Object.assign({},Cn);Object.setPrototypeOf(wn,En.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=wn,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var Ln=Tn._pendingSeekTime;Tn._pendingSeekTime=null,Tn.seek(Ln)})},Sn.prototype._onMetaDataArrived=function(Cn){this._emitter.emit(An.default.METADATA_ARRIVED,Cn)},Sn.prototype._onScriptDataArrived=function(Cn){this._emitter.emit(An.default.SCRIPTDATA_ARRIVED,Cn)},Sn.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},Sn.prototype._onIOComplete=function(Cn){var Tn=Cn,wn=Tn+1;wn<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(wn)):(this._remuxer.flushStashedSamples(),this._emitter.emit(An.default.LOADING_COMPLETE),this._disableStatisticsReporter())},Sn.prototype._onIORedirect=function(Cn){var Tn=this._ioctl.extraData;this._mediaDataSource.segments[Tn].redirectedURL=Cn},Sn.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(An.default.RECOVERED_EARLY_EOF)},Sn.prototype._onIOException=function(Cn,Tn){Ve.default.e(this.TAG,"IOException: type = "+Cn+", code = "+Tn.code+", msg = "+Tn.msg),this._emitter.emit(An.default.IO_ERROR,Cn,Tn),this._disableStatisticsReporter()},Sn.prototype._onDemuxException=function(Cn,Tn){Ve.default.e(this.TAG,"DemuxException: type = "+Cn+", info = "+Tn),this._emitter.emit(An.default.DEMUX_ERROR,Cn,Tn)},Sn.prototype._onRemuxerInitSegmentArrival=function(Cn,Tn){this._emitter.emit(An.default.INIT_SEGMENT,Cn,Tn)},Sn.prototype._onRemuxerMediaSegmentArrival=function(Cn,Tn){if(this._pendingSeekTime==null&&(this._emitter.emit(An.default.MEDIA_SEGMENT,Cn,Tn),this._pendingResolveSeekPoint!=null&&Cn==="video")){var wn=Tn.info.syncPoints,Ln=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,qe.default.safari&&wn.length>0&&wn[0].originalDts===Ln&&(Ln=wn[0].pts),this._emitter.emit(An.default.RECOMMEND_SEEKPOINT,Ln)}},Sn.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},Sn.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},Sn.prototype._reportSegmentMediaInfo=function(Cn){var Tn=this._mediaInfo.segments[Cn],wn=Object.assign({},Tn);wn.duration=this._mediaInfo.duration,wn.segmentCount=this._mediaInfo.segmentCount,delete wn.segments,delete wn.keyframesIndex,this._emitter.emit(An.default.MEDIA_INFO,wn)},Sn.prototype._reportStatisticsInfo=function(){var Cn={};Cn.url=this._ioctl.currentURL,Cn.hasRedirect=this._ioctl.hasRedirect,Cn.hasRedirect&&(Cn.redirectedURL=this._ioctl.currentRedirectedURL),Cn.speed=this._ioctl.currentSpeed,Cn.loaderType=this._ioctl.loaderType,Cn.currentSegmentIndex=this._currentSegmentIndex,Cn.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(An.default.STATISTICS_INFO,Cn)},Sn}();Fe.default=xn},"./src/core/transmuxing-events.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};Fe.default=$e},"./src/core/transmuxing-worker.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logging-control.js"),ze=Ue("./src/utils/polyfill.js"),Ve=Ue("./src/core/transmuxing-controller.js"),qe=Ue("./src/core/transmuxing-events.js"),En=function(vn){var hn=null,_n=Rn.bind(this);ze.default.install(),vn.addEventListener("message",function(Nn){switch(Nn.data.cmd){case"init":hn=new Ve.default(Nn.data.param[0],Nn.data.param[1]),hn.on(qe.default.IO_ERROR,Pn.bind(this)),hn.on(qe.default.DEMUX_ERROR,kn.bind(this)),hn.on(qe.default.INIT_SEGMENT,bn.bind(this)),hn.on(qe.default.MEDIA_SEGMENT,An.bind(this)),hn.on(qe.default.LOADING_COMPLETE,xn.bind(this)),hn.on(qe.default.RECOVERED_EARLY_EOF,Sn.bind(this)),hn.on(qe.default.MEDIA_INFO,Cn.bind(this)),hn.on(qe.default.METADATA_ARRIVED,Tn.bind(this)),hn.on(qe.default.SCRIPTDATA_ARRIVED,wn.bind(this)),hn.on(qe.default.STATISTICS_INFO,Ln.bind(this)),hn.on(qe.default.RECOMMEND_SEEKPOINT,In.bind(this));break;case"destroy":hn&&(hn.destroy(),hn=null),vn.postMessage({msg:"destroyed"});break;case"start":hn.start();break;case"stop":hn.stop();break;case"seek":hn.seek(Nn.data.param);break;case"pause":hn.pause();break;case"resume":hn.resume();break;case"logging_config":{var On=Nn.data.param;$e.default.applyConfig(On),On.enableCallback===!0?$e.default.addLogListener(_n):$e.default.removeLogListener(_n);break}}});function bn(Nn,On){var Dn={msg:qe.default.INIT_SEGMENT,data:{type:Nn,data:On}};vn.postMessage(Dn,[On.data])}function An(Nn,On){var Dn={msg:qe.default.MEDIA_SEGMENT,data:{type:Nn,data:On}};vn.postMessage(Dn,[On.data])}function xn(){var Nn={msg:qe.default.LOADING_COMPLETE};vn.postMessage(Nn)}function Sn(){var Nn={msg:qe.default.RECOVERED_EARLY_EOF};vn.postMessage(Nn)}function Cn(Nn){var On={msg:qe.default.MEDIA_INFO,data:Nn};vn.postMessage(On)}function Tn(Nn){var On={msg:qe.default.METADATA_ARRIVED,data:Nn};vn.postMessage(On)}function wn(Nn){var On={msg:qe.default.SCRIPTDATA_ARRIVED,data:Nn};vn.postMessage(On)}function Ln(Nn){var On={msg:qe.default.STATISTICS_INFO,data:Nn};vn.postMessage(On)}function Pn(Nn,On){vn.postMessage({msg:qe.default.IO_ERROR,data:{type:Nn,info:On}})}function kn(Nn,On){vn.postMessage({msg:qe.default.DEMUX_ERROR,data:{type:Nn,info:On}})}function In(Nn){vn.postMessage({msg:qe.default.RECOMMEND_SEEKPOINT,data:Nn})}function Rn(Nn,On){vn.postMessage({msg:"logcat_callback",data:{type:Nn,logcat:On}})}};Fe.default=En},"./src/demux/amf-parser.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logger.js"),ze=Ue("./src/utils/utf8-conv.js"),Ve=Ue("./src/utils/exception.js"),qe=function(){var vn=new ArrayBuffer(2);return new DataView(vn).setInt16(0,256,!0),new Int16Array(vn)[0]===256}(),En=function(){function vn(){}return vn.parseScriptData=function(hn,_n,bn){var An={};try{var xn=vn.parseValue(hn,_n,bn),Sn=vn.parseValue(hn,_n+xn.size,bn-xn.size);An[xn.data]=Sn.data}catch(Cn){$e.default.e("AMF",Cn.toString())}return An},vn.parseObject=function(hn,_n,bn){if(bn<3)throw new Ve.IllegalStateException("Data not enough when parse ScriptDataObject");var An=vn.parseString(hn,_n,bn),xn=vn.parseValue(hn,_n+An.size,bn-An.size),Sn=xn.objectEnd;return{data:{name:An.data,value:xn.data},size:An.size+xn.size,objectEnd:Sn}},vn.parseVariable=function(hn,_n,bn){return vn.parseObject(hn,_n,bn)},vn.parseString=function(hn,_n,bn){if(bn<2)throw new Ve.IllegalStateException("Data not enough when parse String");var An=new DataView(hn,_n,bn),xn=An.getUint16(0,!qe),Sn;return xn>0?Sn=(0,ze.default)(new Uint8Array(hn,_n+2,xn)):Sn="",{data:Sn,size:2+xn}},vn.parseLongString=function(hn,_n,bn){if(bn<4)throw new Ve.IllegalStateException("Data not enough when parse LongString");var An=new DataView(hn,_n,bn),xn=An.getUint32(0,!qe),Sn;return xn>0?Sn=(0,ze.default)(new Uint8Array(hn,_n+4,xn)):Sn="",{data:Sn,size:4+xn}},vn.parseDate=function(hn,_n,bn){if(bn<10)throw new Ve.IllegalStateException("Data size invalid when parse Date");var An=new DataView(hn,_n,bn),xn=An.getFloat64(0,!qe),Sn=An.getInt16(8,!qe);return xn+=Sn*60*1e3,{data:new Date(xn),size:10}},vn.parseValue=function(hn,_n,bn){if(bn<1)throw new Ve.IllegalStateException("Data not enough when parse Value");var An=new DataView(hn,_n,bn),xn=1,Sn=An.getUint8(0),Cn,Tn=!1;try{switch(Sn){case 0:Cn=An.getFloat64(1,!qe),xn+=8;break;case 1:{var wn=An.getUint8(1);Cn=!!wn,xn+=1;break}case 2:{var Ln=vn.parseString(hn,_n+1,bn-1);Cn=Ln.data,xn+=Ln.size;break}case 3:{Cn={};var Pn=0;for((An.getUint32(bn-4,!qe)&16777215)===9&&(Pn=3);xn<bn-4;){var kn=vn.parseObject(hn,_n+xn,bn-xn-Pn);if(kn.objectEnd)break;Cn[kn.data.name]=kn.data.value,xn+=kn.size}if(xn<=bn-3){var In=An.getUint32(xn-1,!qe)&16777215;In===9&&(xn+=3)}break}case 8:{Cn={},xn+=4;var Pn=0;for((An.getUint32(bn-4,!qe)&16777215)===9&&(Pn=3);xn<bn-8;){var Rn=vn.parseVariable(hn,_n+xn,bn-xn-Pn);if(Rn.objectEnd)break;Cn[Rn.data.name]=Rn.data.value,xn+=Rn.size}if(xn<=bn-3){var In=An.getUint32(xn-1,!qe)&16777215;In===9&&(xn+=3)}break}case 9:Cn=void 0,xn=1,Tn=!0;break;case 10:{Cn=[];var Nn=An.getUint32(1,!qe);xn+=4;for(var On=0;On<Nn;On++){var Dn=vn.parseValue(hn,_n+xn,bn-xn);Cn.push(Dn.data),xn+=Dn.size}break}case 11:{var Mn=vn.parseDate(hn,_n+1,bn-1);Cn=Mn.data,xn+=Mn.size;break}case 12:{var Bn=vn.parseString(hn,_n+1,bn-1);Cn=Bn.data,xn+=Bn.size;break}default:xn=bn,$e.default.w("AMF","Unsupported AMF value type "+Sn)}}catch($n){$e.default.e("AMF",$n.toString())}return{data:Cn,size:xn,objectEnd:Tn}},vn}();Fe.default=En},"./src/demux/demux-errors.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};Fe.default=$e},"./src/demux/exp-golomb.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/exception.js"),ze=function(){function Ve(qe){this.TAG="ExpGolomb",this._buffer=qe,this._buffer_index=0,this._total_bytes=qe.byteLength,this._total_bits=qe.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return Ve.prototype.destroy=function(){this._buffer=null},Ve.prototype._fillCurrentWord=function(){var qe=this._total_bytes-this._buffer_index;if(qe<=0)throw new $e.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var En=Math.min(4,qe),vn=new Uint8Array(4);vn.set(this._buffer.subarray(this._buffer_index,this._buffer_index+En)),this._current_word=new DataView(vn.buffer).getUint32(0,!1),this._buffer_index+=En,this._current_word_bits_left=En*8},Ve.prototype.readBits=function(qe){if(qe>32)throw new $e.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(qe<=this._current_word_bits_left){var En=this._current_word>>>32-qe;return this._current_word<<=qe,this._current_word_bits_left-=qe,En}var vn=this._current_word_bits_left?this._current_word:0;vn=vn>>>32-this._current_word_bits_left;var hn=qe-this._current_word_bits_left;this._fillCurrentWord();var _n=Math.min(hn,this._current_word_bits_left),bn=this._current_word>>>32-_n;return this._current_word<<=_n,this._current_word_bits_left-=_n,vn=vn<<_n|bn,vn},Ve.prototype.readBool=function(){return this.readBits(1)===1},Ve.prototype.readByte=function(){return this.readBits(8)},Ve.prototype._skipLeadingZero=function(){var qe;for(qe=0;qe<this._current_word_bits_left;qe++)if(this._current_word&2147483648>>>qe)return this._current_word<<=qe,this._current_word_bits_left-=qe,qe;return this._fillCurrentWord(),qe+this._skipLeadingZero()},Ve.prototype.readUEG=function(){var qe=this._skipLeadingZero();return this.readBits(qe+1)-1},Ve.prototype.readSEG=function(){var qe=this.readUEG();return qe&1?qe+1>>>1:-1*(qe>>>1)},Ve}();Fe.default=ze},"./src/demux/flv-demuxer.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logger.js"),ze=Ue("./src/demux/amf-parser.js"),Ve=Ue("./src/demux/sps-parser.js"),qe=Ue("./src/demux/demux-errors.js"),En=Ue("./src/core/media-info.js"),vn=Ue("./src/utils/exception.js");function hn(bn,An){return bn[An]<<24|bn[An+1]<<16|bn[An+2]<<8|bn[An+3]}var _n=function(){function bn(An,xn){this.TAG="FLVDemuxer",this._config=xn,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=An.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=An.hasAudioTrack,this._hasVideo=An.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new En.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var Sn=new ArrayBuffer(2);return new DataView(Sn).setInt16(0,256,!0),new Int16Array(Sn)[0]===256}()}return bn.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},bn.probe=function(An){var xn=new Uint8Array(An),Sn={match:!1};if(xn[0]!==70||xn[1]!==76||xn[2]!==86||xn[3]!==1)return Sn;var Cn=(xn[4]&4)>>>2!==0,Tn=(xn[4]&1)!==0,wn=hn(xn,5);return wn<9?Sn:{match:!0,consumed:wn,dataOffset:wn,hasAudioTrack:Cn,hasVideoTrack:Tn}},bn.prototype.bindDataSource=function(An){return An.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(bn.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(An){this._onTrackMetadata=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(An){this._onMediaInfo=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(An){this._onMetaDataArrived=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(An){this._onScriptDataArrived=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"onError",{get:function(){return this._onError},set:function(An){this._onError=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(An){this._onDataAvailable=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(An){this._timestampBase=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"overridedDuration",{get:function(){return this._duration},set:function(An){this._durationOverrided=!0,this._duration=An,this._mediaInfo.duration=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"overridedHasAudio",{set:function(An){this._hasAudioFlagOverrided=!0,this._hasAudio=An,this._mediaInfo.hasAudio=An},enumerable:!1,configurable:!0}),Object.defineProperty(bn.prototype,"overridedHasVideo",{set:function(An){this._hasVideoFlagOverrided=!0,this._hasVideo=An,this._mediaInfo.hasVideo=An},enumerable:!1,configurable:!0}),bn.prototype.resetMediaInfo=function(){this._mediaInfo=new En.default},bn.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},bn.prototype.parseChunks=function(An,xn){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new vn.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var Sn=0,Cn=this._littleEndian;if(xn===0)if(An.byteLength>13){var Tn=bn.probe(An);Sn=Tn.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,xn+Sn!==this._dataOffset&&$e.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var wn=new DataView(An,Sn),Ln=wn.getUint32(0,!Cn);Ln!==0&&$e.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),Sn+=4}for(;Sn<An.byteLength;){this._dispatch=!0;var wn=new DataView(An,Sn);if(Sn+11+4>An.byteLength)break;var Pn=wn.getUint8(0),kn=wn.getUint32(0,!Cn)&16777215;if(Sn+11+kn+4>An.byteLength)break;if(Pn!==8&&Pn!==9&&Pn!==18){$e.default.w(this.TAG,"Unsupported tag type "+Pn+", skipped"),Sn+=11+kn+4;continue}var In=wn.getUint8(4),Rn=wn.getUint8(5),Nn=wn.getUint8(6),On=wn.getUint8(7),Dn=Nn|Rn<<8|In<<16|On<<24,Mn=wn.getUint32(7,!Cn)&16777215;Mn!==0&&$e.default.w(this.TAG,"Meet tag which has StreamID != 0!");var Bn=Sn+11;switch(Pn){case 8:this._parseAudioData(An,Bn,kn,Dn);break;case 9:this._parseVideoData(An,Bn,kn,Dn,xn+Sn);break;case 18:this._parseScriptData(An,Bn,kn);break}var $n=wn.getUint32(11+kn,!Cn);$n!==11+kn&&$e.default.w(this.TAG,"Invalid PrevTagSize "+$n),Sn+=11+kn+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),Sn},bn.prototype._parseScriptData=function(An,xn,Sn){var Cn=ze.default.parseScriptData(An,xn,Sn);if(Cn.hasOwnProperty("onMetaData")){if(Cn.onMetaData==null||typeof Cn.onMetaData!="object"){$e.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&$e.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=Cn;var Tn=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},Tn)),typeof Tn.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=Tn.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof Tn.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=Tn.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof Tn.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=Tn.audiodatarate),typeof Tn.videodatarate=="number"&&(this._mediaInfo.videoDataRate=Tn.videodatarate),typeof Tn.width=="number"&&(this._mediaInfo.width=Tn.width),typeof Tn.height=="number"&&(this._mediaInfo.height=Tn.height),typeof Tn.duration=="number"){if(!this._durationOverrided){var wn=Math.floor(Tn.duration*this._timescale);this._duration=wn,this._mediaInfo.duration=wn}}else this._mediaInfo.duration=0;if(typeof Tn.framerate=="number"){var Ln=Math.floor(Tn.framerate*1e3);if(Ln>0){var Pn=Ln/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=Pn,this._referenceFrameRate.fps_num=Ln,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=Pn}}if(typeof Tn.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var kn=Tn.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(kn),Tn.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=Tn,$e.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(Cn).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},Cn))},bn.prototype._parseKeyframesIndex=function(An){for(var xn=[],Sn=[],Cn=1;Cn<An.times.length;Cn++){var Tn=this._timestampBase+Math.floor(An.times[Cn]*1e3);xn.push(Tn),Sn.push(An.filepositions[Cn])}return{times:xn,filepositions:Sn}},bn.prototype._parseAudioData=function(An,xn,Sn,Cn){if(Sn<=1){$e.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var Tn=new DataView(An,xn,Sn),wn=Tn.getUint8(0),Ln=wn>>>4;if(Ln!==2&&Ln!==10){this._onError(qe.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+Ln);return}var Pn=0,kn=(wn&12)>>>2;if(kn>=0&&kn<=4)Pn=this._flvSoundRateTable[kn];else{this._onError(qe.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+kn);return}var In=wn&1,Rn=this._audioMetadata,Nn=this._audioTrack;if(Rn||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),Rn=this._audioMetadata={},Rn.type="audio",Rn.id=Nn.id,Rn.timescale=this._timescale,Rn.duration=this._duration,Rn.audioSampleRate=Pn,Rn.channelCount=In===0?1:2),Ln===10){var On=this._parseAACAudioData(An,xn+1,Sn-1);if(On==null)return;if(On.packetType===0){Rn.config&&$e.default.w(this.TAG,"Found another AudioSpecificConfig!");var Dn=On.data;Rn.audioSampleRate=Dn.samplingRate,Rn.channelCount=Dn.channelCount,Rn.codec=Dn.codec,Rn.originalCodec=Dn.originalCodec,Rn.config=Dn.config,Rn.refSampleDuration=1024/Rn.audioSampleRate*Rn.timescale,$e.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",Rn);var Mn=this._mediaInfo;Mn.audioCodec=Rn.originalCodec,Mn.audioSampleRate=Rn.audioSampleRate,Mn.audioChannelCount=Rn.channelCount,Mn.hasVideo?Mn.videoCodec!=null&&(Mn.mimeType='video/x-flv; codecs="'+Mn.videoCodec+","+Mn.audioCodec+'"'):Mn.mimeType='video/x-flv; codecs="'+Mn.audioCodec+'"',Mn.isComplete()&&this._onMediaInfo(Mn)}else if(On.packetType===1){var Bn=this._timestampBase+Cn,$n={unit:On.data,length:On.data.byteLength,dts:Bn,pts:Bn};Nn.samples.push($n),Nn.length+=On.data.length}else $e.default.e(this.TAG,"Flv: Unsupported AAC data type "+On.packetType)}else if(Ln===2){if(!Rn.codec){var Dn=this._parseMP3AudioData(An,xn+1,Sn-1,!0);if(Dn==null)return;Rn.audioSampleRate=Dn.samplingRate,Rn.channelCount=Dn.channelCount,Rn.codec=Dn.codec,Rn.originalCodec=Dn.originalCodec,Rn.refSampleDuration=1152/Rn.audioSampleRate*Rn.timescale,$e.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",Rn);var Mn=this._mediaInfo;Mn.audioCodec=Rn.codec,Mn.audioSampleRate=Rn.audioSampleRate,Mn.audioChannelCount=Rn.channelCount,Mn.audioDataRate=Dn.bitRate,Mn.hasVideo?Mn.videoCodec!=null&&(Mn.mimeType='video/x-flv; codecs="'+Mn.videoCodec+","+Mn.audioCodec+'"'):Mn.mimeType='video/x-flv; codecs="'+Mn.audioCodec+'"',Mn.isComplete()&&this._onMediaInfo(Mn)}var Fn=this._parseMP3AudioData(An,xn+1,Sn-1,!1);if(Fn==null)return;var Bn=this._timestampBase+Cn,Un={unit:Fn,length:Fn.byteLength,dts:Bn,pts:Bn};Nn.samples.push(Un),Nn.length+=Fn.length}}},bn.prototype._parseAACAudioData=function(An,xn,Sn){if(Sn<=1){$e.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var Cn={},Tn=new Uint8Array(An,xn,Sn);return Cn.packetType=Tn[0],Tn[0]===0?Cn.data=this._parseAACAudioSpecificConfig(An,xn+1,Sn-1):Cn.data=Tn.subarray(1),Cn},bn.prototype._parseAACAudioSpecificConfig=function(An,xn,Sn){var Cn=new Uint8Array(An,xn,Sn),Tn=null,wn=0,Ln=0,Pn=0,kn=null;if(wn=Ln=Cn[0]>>>3,Pn=(Cn[0]&7)<<1|Cn[1]>>>7,Pn<0||Pn>=this._mpegSamplingRates.length){this._onError(qe.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var In=this._mpegSamplingRates[Pn],Rn=(Cn[1]&120)>>>3;if(Rn<0||Rn>=8){this._onError(qe.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}wn===5&&(kn=(Cn[1]&7)<<1|Cn[2]>>>7,(Cn[2]&124)>>>2);var Nn=self.navigator.userAgent.toLowerCase();return Nn.indexOf("firefox")!==-1?Pn>=6?(wn=5,Tn=new Array(4),kn=Pn-3):(wn=2,Tn=new Array(2),kn=Pn):Nn.indexOf("android")!==-1?(wn=2,Tn=new Array(2),kn=Pn):(wn=5,kn=Pn,Tn=new Array(4),Pn>=6?kn=Pn-3:Rn===1&&(wn=2,Tn=new Array(2),kn=Pn)),Tn[0]=wn<<3,Tn[0]|=(Pn&15)>>>1,Tn[1]=(Pn&15)<<7,Tn[1]|=(Rn&15)<<3,wn===5&&(Tn[1]|=(kn&15)>>>1,Tn[2]=(kn&1)<<7,Tn[2]|=8,Tn[3]=0),{config:Tn,samplingRate:In,channelCount:Rn,codec:"mp4a.40."+wn,originalCodec:"mp4a.40."+Ln}},bn.prototype._parseMP3AudioData=function(An,xn,Sn,Cn){if(Sn<4){$e.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var Tn=new Uint8Array(An,xn,Sn),wn=null;if(Cn){if(Tn[0]!==255)return;var Ln=Tn[1]>>>3&3,Pn=(Tn[1]&6)>>1,kn=(Tn[2]&240)>>>4,In=(Tn[2]&12)>>>2,Rn=Tn[3]>>>6&3,Nn=Rn!==3?2:1,On=0,Dn=0,Mn="mp3";switch(Ln){case 0:On=this._mpegAudioV25SampleRateTable[In];break;case 2:On=this._mpegAudioV20SampleRateTable[In];break;case 3:On=this._mpegAudioV10SampleRateTable[In];break}switch(Pn){case 1:kn<this._mpegAudioL3BitRateTable.length&&(Dn=this._mpegAudioL3BitRateTable[kn]);break;case 2:kn<this._mpegAudioL2BitRateTable.length&&(Dn=this._mpegAudioL2BitRateTable[kn]);break;case 3:kn<this._mpegAudioL1BitRateTable.length&&(Dn=this._mpegAudioL1BitRateTable[kn]);break}wn={bitRate:Dn,samplingRate:On,channelCount:Nn,codec:Mn,originalCodec:Mn}}else wn=Tn;return wn},bn.prototype._parseVideoData=function(An,xn,Sn,Cn,Tn){if(Sn<=1){$e.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var wn=new Uint8Array(An,xn,Sn)[0],Ln=(wn&240)>>>4,Pn=wn&15;if(Pn!==7){this._onError(qe.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+Pn);return}this._parseAVCVideoPacket(An,xn+1,Sn-1,Cn,Tn,Ln)}},bn.prototype._parseAVCVideoPacket=function(An,xn,Sn,Cn,Tn,wn){if(Sn<4){$e.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var Ln=this._littleEndian,Pn=new DataView(An,xn,Sn),kn=Pn.getUint8(0),In=Pn.getUint32(0,!Ln)&16777215,Rn=In<<8>>8;if(kn===0)this._parseAVCDecoderConfigurationRecord(An,xn+4,Sn-4);else if(kn===1)this._parseAVCVideoData(An,xn+4,Sn-4,Cn,Tn,wn,Rn);else if(kn!==2){this._onError(qe.default.FORMAT_ERROR,"Flv: Invalid video packet type "+kn);return}},bn.prototype._parseAVCDecoderConfigurationRecord=function(An,xn,Sn){if(Sn<7){$e.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var Cn=this._videoMetadata,Tn=this._videoTrack,wn=this._littleEndian,Ln=new DataView(An,xn,Sn);Cn?typeof Cn.avcc<"u"&&$e.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),Cn=this._videoMetadata={},Cn.type="video",Cn.id=Tn.id,Cn.timescale=this._timescale,Cn.duration=this._duration);var Pn=Ln.getUint8(0),kn=Ln.getUint8(1);if(Ln.getUint8(2),Ln.getUint8(3),Pn!==1||kn===0){this._onError(qe.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(Ln.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(qe.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var In=Ln.getUint8(5)&31;if(In===0){this._onError(qe.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else In>1&&$e.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+In);for(var Rn=6,Nn=0;Nn<In;Nn++){var On=Ln.getUint16(Rn,!wn);if(Rn+=2,On!==0){var Dn=new Uint8Array(An,xn+Rn,On);Rn+=On;var Mn=Ve.default.parseSPS(Dn);if(Nn===0){Cn.codecWidth=Mn.codec_size.width,Cn.codecHeight=Mn.codec_size.height,Cn.presentWidth=Mn.present_size.width,Cn.presentHeight=Mn.present_size.height,Cn.profile=Mn.profile_string,Cn.level=Mn.level_string,Cn.bitDepth=Mn.bit_depth,Cn.chromaFormat=Mn.chroma_format,Cn.sarRatio=Mn.sar_ratio,Cn.frameRate=Mn.frame_rate,(Mn.frame_rate.fixed===!1||Mn.frame_rate.fps_num===0||Mn.frame_rate.fps_den===0)&&(Cn.frameRate=this._referenceFrameRate);var Bn=Cn.frameRate.fps_den,$n=Cn.frameRate.fps_num;Cn.refSampleDuration=Cn.timescale*(Bn/$n);for(var Fn=Dn.subarray(1,4),Un="avc1.",Hn=0;Hn<3;Hn++){var Wn=Fn[Hn].toString(16);Wn.length<2&&(Wn="0"+Wn),Un+=Wn}Cn.codec=Un;var Xn=this._mediaInfo;Xn.width=Cn.codecWidth,Xn.height=Cn.codecHeight,Xn.fps=Cn.frameRate.fps,Xn.profile=Cn.profile,Xn.level=Cn.level,Xn.refFrames=Mn.ref_frames,Xn.chromaFormat=Mn.chroma_format_string,Xn.sarNum=Cn.sarRatio.width,Xn.sarDen=Cn.sarRatio.height,Xn.videoCodec=Un,Xn.hasAudio?Xn.audioCodec!=null&&(Xn.mimeType='video/x-flv; codecs="'+Xn.videoCodec+","+Xn.audioCodec+'"'):Xn.mimeType='video/x-flv; codecs="'+Xn.videoCodec+'"',Xn.isComplete()&&this._onMediaInfo(Xn)}}}var or=Ln.getUint8(Rn);if(or===0){this._onError(qe.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else or>1&&$e.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+or);Rn++;for(var Nn=0;Nn<or;Nn++){var On=Ln.getUint16(Rn,!wn);Rn+=2,On!==0&&(Rn+=On)}Cn.avcc=new Uint8Array(Sn),Cn.avcc.set(new Uint8Array(An,xn,Sn),0),$e.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",Cn)},bn.prototype._parseAVCVideoData=function(An,xn,Sn,Cn,Tn,wn,Ln){for(var Pn=this._littleEndian,kn=new DataView(An,xn,Sn),In=[],Rn=0,Nn=0,On=this._naluLengthSize,Dn=this._timestampBase+Cn,Mn=wn===1;Nn<Sn;){if(Nn+4>=Sn){$e.default.w(this.TAG,"Malformed Nalu near timestamp "+Dn+", offset = "+Nn+", dataSize = "+Sn);break}var Bn=kn.getUint32(Nn,!Pn);if(On===3&&(Bn>>>=8),Bn>Sn-On){$e.default.w(this.TAG,"Malformed Nalus near timestamp "+Dn+", NaluSize > DataSize!");return}var $n=kn.getUint8(Nn+On)&31;$n===5&&(Mn=!0);var Fn=new Uint8Array(An,xn+Nn,On+Bn),Un={type:$n,data:Fn};In.push(Un),Rn+=Fn.byteLength,Nn+=On+Bn}if(In.length){var Hn=this._videoTrack,Wn={units:In,length:Rn,isKeyframe:Mn,dts:Dn,cts:Ln,pts:Dn+Ln};Mn&&(Wn.fileposition=Tn),Hn.samples.push(Wn),Hn.length+=Rn}},bn}();Fe.default=_n},"./src/demux/sps-parser.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/demux/exp-golomb.js"),ze=function(){function Ve(){}return Ve._ebsp2rbsp=function(qe){for(var En=qe,vn=En.byteLength,hn=new Uint8Array(vn),_n=0,bn=0;bn<vn;bn++)bn>=2&&En[bn]===3&&En[bn-1]===0&&En[bn-2]===0||(hn[_n]=En[bn],_n++);return new Uint8Array(hn.buffer,0,_n)},Ve.parseSPS=function(qe){var En=Ve._ebsp2rbsp(qe),vn=new $e.default(En);vn.readByte();var hn=vn.readByte();vn.readByte();var _n=vn.readByte();vn.readUEG();var bn=Ve.getProfileString(hn),An=Ve.getLevelString(_n),xn=1,Sn=420,Cn=[0,420,422,444],Tn=8;if((hn===100||hn===110||hn===122||hn===244||hn===44||hn===83||hn===86||hn===118||hn===128||hn===138||hn===144)&&(xn=vn.readUEG(),xn===3&&vn.readBits(1),xn<=3&&(Sn=Cn[xn]),Tn=vn.readUEG()+8,vn.readUEG(),vn.readBits(1),vn.readBool()))for(var wn=xn!==3?8:12,Ln=0;Ln<wn;Ln++)vn.readBool()&&(Ln<6?Ve._skipScalingList(vn,16):Ve._skipScalingList(vn,64));vn.readUEG();var Pn=vn.readUEG();if(Pn===0)vn.readUEG();else if(Pn===1){vn.readBits(1),vn.readSEG(),vn.readSEG();for(var kn=vn.readUEG(),Ln=0;Ln<kn;Ln++)vn.readSEG()}var In=vn.readUEG();vn.readBits(1);var Rn=vn.readUEG(),Nn=vn.readUEG(),On=vn.readBits(1);On===0&&vn.readBits(1),vn.readBits(1);var Dn=0,Mn=0,Bn=0,$n=0,Fn=vn.readBool();Fn&&(Dn=vn.readUEG(),Mn=vn.readUEG(),Bn=vn.readUEG(),$n=vn.readUEG());var Un=1,Hn=1,Wn=0,Xn=!0,or=0,fr=0,cr=vn.readBool();if(cr){if(vn.readBool()){var Jn=vn.readByte(),mr=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Ir=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Jn>0&&Jn<16?(Un=mr[Jn-1],Hn=Ir[Jn-1]):Jn===255&&(Un=vn.readByte()<<8|vn.readByte(),Hn=vn.readByte()<<8|vn.readByte())}if(vn.readBool()&&vn.readBool(),vn.readBool()&&(vn.readBits(4),vn.readBool()&&vn.readBits(24)),vn.readBool()&&(vn.readUEG(),vn.readUEG()),vn.readBool()){var yr=vn.readBits(32),Tr=vn.readBits(32);Xn=vn.readBool(),or=Tr,fr=yr*2,Wn=or/fr}}var Sr=1;(Un!==1||Hn!==1)&&(Sr=Un/Hn);var Yn=0,Qn=0;if(xn===0)Yn=1,Qn=2-On;else{var rr=xn===3?1:2,gr=xn===1?2:1;Yn=rr,Qn=gr*(2-On)}var Ar=(Rn+1)*16,Br=(2-On)*((Nn+1)*16);Ar-=(Dn+Mn)*Yn,Br-=(Bn+$n)*Qn;var Vr=Math.ceil(Ar*Sr);return vn.destroy(),vn=null,{profile_string:bn,level_string:An,bit_depth:Tn,ref_frames:In,chroma_format:Sn,chroma_format_string:Ve.getChromaFormatString(Sn),frame_rate:{fixed:Xn,fps:Wn,fps_den:fr,fps_num:or},sar_ratio:{width:Un,height:Hn},codec_size:{width:Ar,height:Br},present_size:{width:Vr,height:Br}}},Ve._skipScalingList=function(qe,En){for(var vn=8,hn=8,_n=0,bn=0;bn<En;bn++)hn!==0&&(_n=qe.readSEG(),hn=(vn+_n+256)%256),vn=hn===0?vn:hn},Ve.getProfileString=function(qe){switch(qe){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},Ve.getLevelString=function(qe){return(qe/10).toFixed(1)},Ve.getChromaFormatString=function(qe){switch(qe){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},Ve}();Fe.default=ze},"./src/flv.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/polyfill.js"),ze=Ue("./src/core/features.js"),Ve=Ue("./src/io/loader.js"),qe=Ue("./src/player/flv-player.js"),En=Ue("./src/player/native-player.js"),vn=Ue("./src/player/player-events.js"),hn=Ue("./src/player/player-errors.js"),_n=Ue("./src/utils/logging-control.js"),bn=Ue("./src/utils/exception.js");$e.default.install();function An(Tn,wn){var Ln=Tn;if(Ln==null||typeof Ln!="object")throw new bn.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!Ln.hasOwnProperty("type"))throw new bn.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(Ln.type){case"flv":return new qe.default(Ln,wn);default:return new En.default(Ln,wn)}}function xn(){return ze.default.supportMSEH264Playback()}function Sn(){return ze.default.getFeatureList()}var Cn={};Cn.createPlayer=An,Cn.isSupported=xn,Cn.getFeatureList=Sn,Cn.BaseLoader=Ve.BaseLoader,Cn.LoaderStatus=Ve.LoaderStatus,Cn.LoaderErrors=Ve.LoaderErrors,Cn.Events=vn.default,Cn.ErrorTypes=hn.ErrorTypes,Cn.ErrorDetails=hn.ErrorDetails,Cn.FlvPlayer=qe.default,Cn.NativePlayer=En.default,Cn.LoggingControl=_n.default,Object.defineProperty(Cn,"version",{enumerable:!0,get:function(){return"1.6.2"}}),Fe.default=Cn},"./src/index.js":function(Ne,Fe,Ue){Ne.exports=Ue("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/browser.js"),ze=Ue("./src/io/loader.js"),Ve=Ue("./src/utils/exception.js"),qe=function(){var vn=function(hn,_n){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bn,An){bn.__proto__=An}||function(bn,An){for(var xn in An)Object.prototype.hasOwnProperty.call(An,xn)&&(bn[xn]=An[xn])},vn(hn,_n)};return function(hn,_n){if(typeof _n!="function"&&_n!==null)throw new TypeError("Class extends value "+String(_n)+" is not a constructor or null");vn(hn,_n);function bn(){this.constructor=hn}hn.prototype=_n===null?Object.create(_n):(bn.prototype=_n.prototype,new bn)}}(),En=function(vn){qe(hn,vn);function hn(_n,bn){var An=vn.call(this,"fetch-stream-loader")||this;return An.TAG="FetchStreamLoader",An._seekHandler=_n,An._config=bn,An._needStash=!0,An._requestAbort=!1,An._contentLength=null,An._receivedLength=0,An}return hn.isSupported=function(){try{var _n=$e.default.msedge&&$e.default.version.minor>=15048,bn=$e.default.msedge?_n:!0;return self.fetch&&self.ReadableStream&&bn}catch(An){return!1}},hn.prototype.destroy=function(){this.isWorking()&&this.abort(),vn.prototype.destroy.call(this)},hn.prototype.open=function(_n,bn){var An=this;this._dataSource=_n,this._range=bn;var xn=_n.url;this._config.reuseRedirectedURL&&_n.redirectedURL!=null&&(xn=_n.redirectedURL);var Sn=this._seekHandler.getConfig(xn,bn),Cn=new self.Headers;if(typeof Sn.headers=="object"){var Tn=Sn.headers;for(var wn in Tn)Tn.hasOwnProperty(wn)&&Cn.append(wn,Tn[wn])}var Ln={method:"GET",headers:Cn,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var wn in this._config.headers)Cn.append(wn,this._config.headers[wn]);_n.cors===!1&&(Ln.mode="same-origin"),_n.withCredentials&&(Ln.credentials="include"),_n.referrerPolicy&&(Ln.referrerPolicy=_n.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,Ln.signal=this._abortController.signal),this._status=ze.LoaderStatus.kConnecting,self.fetch(Sn.url,Ln).then(function(Pn){if(An._requestAbort){An._status=ze.LoaderStatus.kIdle,Pn.body.cancel();return}if(Pn.ok&&Pn.status>=200&&Pn.status<=299){if(Pn.url!==Sn.url&&An._onURLRedirect){var kn=An._seekHandler.removeURLParameters(Pn.url);An._onURLRedirect(kn)}var In=Pn.headers.get("Content-Length");return In!=null&&(An._contentLength=parseInt(In),An._contentLength!==0&&An._onContentLengthKnown&&An._onContentLengthKnown(An._contentLength)),An._pump.call(An,Pn.body.getReader())}else if(An._status=ze.LoaderStatus.kError,An._onError)An._onError(ze.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:Pn.status,msg:Pn.statusText});else throw new Ve.RuntimeException("FetchStreamLoader: Http code invalid, "+Pn.status+" "+Pn.statusText)}).catch(function(Pn){if(!(An._abortController&&An._abortController.signal.aborted))if(An._status=ze.LoaderStatus.kError,An._onError)An._onError(ze.LoaderErrors.EXCEPTION,{code:-1,msg:Pn.message});else throw Pn})},hn.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==ze.LoaderStatus.kBuffering||!$e.default.chrome)&&this._abortController)try{this._abortController.abort()}catch(_n){}},hn.prototype._pump=function(_n){var bn=this;return _n.read().then(function(An){if(An.done)if(bn._contentLength!==null&&bn._receivedLength<bn._contentLength){bn._status=ze.LoaderStatus.kError;var xn=ze.LoaderErrors.EARLY_EOF,Sn={code:-1,msg:"Fetch stream meet Early-EOF"};if(bn._onError)bn._onError(xn,Sn);else throw new Ve.RuntimeException(Sn.msg)}else bn._status=ze.LoaderStatus.kComplete,bn._onComplete&&bn._onComplete(bn._range.from,bn._range.from+bn._receivedLength-1);else{if(bn._abortController&&bn._abortController.signal.aborted){bn._status=ze.LoaderStatus.kComplete;return}else if(bn._requestAbort===!0)return bn._status=ze.LoaderStatus.kComplete,_n.cancel();bn._status=ze.LoaderStatus.kBuffering;var Cn=An.value.buffer,Tn=bn._range.from+bn._receivedLength;bn._receivedLength+=Cn.byteLength,bn._onDataArrival&&bn._onDataArrival(Cn,Tn,bn._receivedLength),bn._pump(_n)}}).catch(function(An){if(bn._abortController&&bn._abortController.signal.aborted){bn._status=ze.LoaderStatus.kComplete;return}if(!(An.code===11&&$e.default.msedge)){bn._status=ze.LoaderStatus.kError;var xn=0,Sn=null;if((An.code===19||An.message==="network error")&&(bn._contentLength===null||bn._contentLength!==null&&bn._receivedLength<bn._contentLength)?(xn=ze.LoaderErrors.EARLY_EOF,Sn={code:An.code,msg:"Fetch stream meet Early-EOF"}):(xn=ze.LoaderErrors.EXCEPTION,Sn={code:An.code,msg:An.message}),bn._onError)bn._onError(xn,Sn);else throw new Ve.RuntimeException(Sn.msg)}})},hn}(ze.BaseLoader);Fe.default=En},"./src/io/io-controller.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logger.js"),ze=Ue("./src/io/speed-sampler.js"),Ve=Ue("./src/io/loader.js"),qe=Ue("./src/io/fetch-stream-loader.js"),En=Ue("./src/io/xhr-moz-chunked-loader.js"),vn=Ue("./src/io/xhr-range-loader.js"),hn=Ue("./src/io/websocket-loader.js"),_n=Ue("./src/io/range-seek-handler.js"),bn=Ue("./src/io/param-seek-handler.js"),An=Ue("./src/utils/exception.js"),xn=function(){function Sn(Cn,Tn,wn){this.TAG="IOController",this._config=Tn,this._extraData=wn,this._stashInitialSize=1024*384,Tn.stashInitialSize!=null&&Tn.stashInitialSize>0&&(this._stashInitialSize=Tn.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,Tn.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=Cn,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(Cn.url),this._refTotalLength=Cn.filesize?Cn.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new ze.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return Sn.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},Sn.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},Sn.prototype.isPaused=function(){return this._paused},Object.defineProperty(Sn.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"extraData",{get:function(){return this._extraData},set:function(Cn){this._extraData=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(Cn){this._onDataArrival=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(Cn){this._onSeeked=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"onError",{get:function(){return this._onError},set:function(Cn){this._onError=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"onComplete",{get:function(){return this._onComplete},set:function(Cn){this._onComplete=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(Cn){this._onRedirect=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(Cn){this._onRecoveredEarlyEof=Cn},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"currentSpeed",{get:function(){return this._loaderClass===vn.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(Sn.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),Sn.prototype._selectSeekHandler=function(){var Cn=this._config;if(Cn.seekType==="range")this._seekHandler=new _n.default(this._config.rangeLoadZeroStart);else if(Cn.seekType==="param"){var Tn=Cn.seekParamStart||"bstart",wn=Cn.seekParamEnd||"bend";this._seekHandler=new bn.default(Tn,wn)}else if(Cn.seekType==="custom"){if(typeof Cn.customSeekHandler!="function")throw new An.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new Cn.customSeekHandler}else throw new An.InvalidArgumentException("Invalid seekType in config: "+Cn.seekType)},Sn.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=hn.default;else if(qe.default.isSupported())this._loaderClass=qe.default;else if(En.default.isSupported())this._loaderClass=En.default;else if(vn.default.isSupported())this._loaderClass=vn.default;else throw new An.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},Sn.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},Sn.prototype.open=function(Cn){this._currentRange={from:0,to:-1},Cn&&(this._currentRange.from=Cn),this._speedSampler.reset(),Cn||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},Sn.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},Sn.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},Sn.prototype.resume=function(){if(this._paused){this._paused=!1;var Cn=this._resumeFrom;this._resumeFrom=0,this._internalSeek(Cn,!0)}},Sn.prototype.seek=function(Cn){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(Cn,!0)},Sn.prototype._internalSeek=function(Cn,Tn){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(Tn),this._loader.destroy(),this._loader=null;var wn={from:Cn,to:-1};this._currentRange={from:wn.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,wn),this._onSeeked&&this._onSeeked()},Sn.prototype.updateUrl=function(Cn){if(!Cn||typeof Cn!="string"||Cn.length===0)throw new An.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=Cn},Sn.prototype._expandBuffer=function(Cn){for(var Tn=this._stashSize;Tn+1024*1024*1<Cn;)Tn*=2;if(Tn+=1024*1024*1,Tn!==this._bufferSize){var wn=new ArrayBuffer(Tn);if(this._stashUsed>0){var Ln=new Uint8Array(this._stashBuffer,0,this._stashUsed),Pn=new Uint8Array(wn,0,Tn);Pn.set(Ln,0)}this._stashBuffer=wn,this._bufferSize=Tn}},Sn.prototype._normalizeSpeed=function(Cn){var Tn=this._speedNormalizeList,wn=Tn.length-1,Ln=0,Pn=0,kn=wn;if(Cn<Tn[0])return Tn[0];for(;Pn<=kn;){if(Ln=Pn+Math.floor((kn-Pn)/2),Ln===wn||Cn>=Tn[Ln]&&Cn<Tn[Ln+1])return Tn[Ln];Tn[Ln]<Cn?Pn=Ln+1:kn=Ln-1}},Sn.prototype._adjustStashSize=function(Cn){var Tn=0;this._config.isLive||Cn<512?Tn=Cn:Cn>=512&&Cn<=1024?Tn=Math.floor(Cn*1.5):Tn=Cn*2,Tn>8192&&(Tn=8192);var wn=Tn*1024+1024*1024*1;this._bufferSize<wn&&this._expandBuffer(wn),this._stashSize=Tn*1024},Sn.prototype._dispatchChunks=function(Cn,Tn){return this._currentRange.to=Tn+Cn.byteLength-1,this._onDataArrival(Cn,Tn)},Sn.prototype._onURLRedirect=function(Cn){this._redirectedURL=Cn,this._onRedirect&&this._onRedirect(Cn)},Sn.prototype._onContentLengthKnown=function(Cn){Cn&&this._fullRequestFlag&&(this._totalLength=Cn,this._fullRequestFlag=!1)},Sn.prototype._onLoaderChunkArrival=function(Cn,Tn,wn){if(!this._onDataArrival)throw new An.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(Cn.byteLength);var Ln=this._speedSampler.lastSecondKBps;if(Ln!==0){var Pn=this._normalizeSpeed(Ln);this._speedNormalized!==Pn&&(this._speedNormalized=Pn,this._adjustStashSize(Pn))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=Tn),this._stashUsed+Cn.byteLength<=this._stashSize){var Rn=new Uint8Array(this._stashBuffer,0,this._stashSize);Rn.set(new Uint8Array(Cn),this._stashUsed),this._stashUsed+=Cn.byteLength}else{var Rn=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var On=this._stashBuffer.slice(0,this._stashUsed),kn=this._dispatchChunks(On,this._stashByteStart);if(kn<On.byteLength){if(kn>0){var Nn=new Uint8Array(On,kn);Rn.set(Nn,0),this._stashUsed=Nn.byteLength,this._stashByteStart+=kn}}else this._stashUsed=0,this._stashByteStart+=kn;this._stashUsed+Cn.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+Cn.byteLength),Rn=new Uint8Array(this._stashBuffer,0,this._bufferSize)),Rn.set(new Uint8Array(Cn),this._stashUsed),this._stashUsed+=Cn.byteLength}else{var kn=this._dispatchChunks(Cn,Tn);if(kn<Cn.byteLength){var In=Cn.byteLength-kn;In>this._bufferSize&&(this._expandBuffer(In),Rn=new Uint8Array(this._stashBuffer,0,this._bufferSize)),Rn.set(new Uint8Array(Cn,kn),0),this._stashUsed+=In,this._stashByteStart=Tn+kn}}}else if(this._stashUsed===0){var kn=this._dispatchChunks(Cn,Tn);if(kn<Cn.byteLength){var In=Cn.byteLength-kn;In>this._bufferSize&&this._expandBuffer(In);var Rn=new Uint8Array(this._stashBuffer,0,this._bufferSize);Rn.set(new Uint8Array(Cn,kn),0),this._stashUsed+=In,this._stashByteStart=Tn+kn}}else{this._stashUsed+Cn.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+Cn.byteLength);var Rn=new Uint8Array(this._stashBuffer,0,this._bufferSize);Rn.set(new Uint8Array(Cn),this._stashUsed),this._stashUsed+=Cn.byteLength;var kn=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(kn<this._stashUsed&&kn>0){var Nn=new Uint8Array(this._stashBuffer,kn);Rn.set(Nn,0)}this._stashUsed-=kn,this._stashByteStart+=kn}}},Sn.prototype._flushStashBuffer=function(Cn){if(this._stashUsed>0){var Tn=this._stashBuffer.slice(0,this._stashUsed),wn=this._dispatchChunks(Tn,this._stashByteStart),Ln=Tn.byteLength-wn;if(wn<Tn.byteLength)if(Cn)$e.default.w(this.TAG,Ln+" bytes unconsumed data remain when flush buffer, dropped");else{if(wn>0){var Pn=new Uint8Array(this._stashBuffer,0,this._bufferSize),kn=new Uint8Array(Tn,wn);Pn.set(kn,0),this._stashUsed=kn.byteLength,this._stashByteStart+=wn}return 0}return this._stashUsed=0,this._stashByteStart=0,Ln}return 0},Sn.prototype._onLoaderComplete=function(Cn,Tn){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},Sn.prototype._onLoaderError=function(Cn,Tn){switch($e.default.e(this.TAG,"Loader error, code = "+Tn.code+", msg = "+Tn.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,Cn=Ve.LoaderErrors.UNRECOVERABLE_EARLY_EOF),Cn){case Ve.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var wn=this._currentRange.to+1;wn<this._totalLength&&($e.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(wn,!1));return}Cn=Ve.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case Ve.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case Ve.LoaderErrors.CONNECTING_TIMEOUT:case Ve.LoaderErrors.HTTP_STATUS_CODE_INVALID:case Ve.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(Cn,Tn);else throw new An.RuntimeException("IOException: "+Tn.msg)},Sn}();Fe.default=xn},"./src/io/loader.js":function(Ne,Fe,Ue){Ue.r(Fe),Ue.d(Fe,{LoaderStatus:function(){return ze},LoaderErrors:function(){return Ve},BaseLoader:function(){return qe}});var $e=Ue("./src/utils/exception.js"),ze={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},Ve={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},qe=function(){function En(vn){this._type=vn||"undefined",this._status=ze.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return En.prototype.destroy=function(){this._status=ze.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},En.prototype.isWorking=function(){return this._status===ze.kConnecting||this._status===ze.kBuffering},Object.defineProperty(En.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(vn){this._onContentLengthKnown=vn},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(vn){this._onURLRedirect=vn},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(vn){this._onDataArrival=vn},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"onError",{get:function(){return this._onError},set:function(vn){this._onError=vn},enumerable:!1,configurable:!0}),Object.defineProperty(En.prototype,"onComplete",{get:function(){return this._onComplete},set:function(vn){this._onComplete=vn},enumerable:!1,configurable:!0}),En.prototype.open=function(vn,hn){throw new $e.NotImplementedException("Unimplemented abstract function!")},En.prototype.abort=function(){throw new $e.NotImplementedException("Unimplemented abstract function!")},En}()},"./src/io/param-seek-handler.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(Ve,qe){this._startName=Ve,this._endName=qe}return ze.prototype.getConfig=function(Ve,qe){var En=Ve;if(qe.from!==0||qe.to!==-1){var vn=!0;En.indexOf("?")===-1&&(En+="?",vn=!1),vn&&(En+="&"),En+=this._startName+"="+qe.from.toString(),qe.to!==-1&&(En+="&"+this._endName+"="+qe.to.toString())}return{url:En,headers:{}}},ze.prototype.removeURLParameters=function(Ve){var qe=Ve.split("?")[0],En=void 0,vn=Ve.indexOf("?");vn!==-1&&(En=Ve.substring(vn+1));var hn="";if(En!=null&&En.length>0)for(var _n=En.split("&"),bn=0;bn<_n.length;bn++){var An=_n[bn].split("="),xn=bn>0;An[0]!==this._startName&&An[0]!==this._endName&&(xn&&(hn+="&"),hn+=_n[bn])}return hn.length===0?qe:qe+"?"+hn},ze}();Fe.default=$e},"./src/io/range-seek-handler.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(Ve){this._zeroStart=Ve||!1}return ze.prototype.getConfig=function(Ve,qe){var En={};if(qe.from!==0||qe.to!==-1){var vn=void 0;qe.to!==-1?vn="bytes="+qe.from.toString()+"-"+qe.to.toString():vn="bytes="+qe.from.toString()+"-",En.Range=vn}else this._zeroStart&&(En.Range="bytes=0-");return{url:Ve,headers:En}},ze.prototype.removeURLParameters=function(Ve){return Ve},ze}();Fe.default=$e},"./src/io/speed-sampler.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return ze.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},ze.prototype.addBytes=function(Ve){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=Ve,this._totalBytes+=Ve):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=Ve,this._totalBytes+=Ve):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=Ve,this._totalBytes+=Ve,this._lastCheckpoint=this._now())},Object.defineProperty(ze.prototype,"currentKBps",{get:function(){this.addBytes(0);var Ve=(this._now()-this._lastCheckpoint)/1e3;return Ve==0&&(Ve=1),this._intervalBytes/Ve/1024},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"averageKBps",{get:function(){var Ve=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/Ve/1024},enumerable:!1,configurable:!0}),ze}();Fe.default=$e},"./src/io/websocket-loader.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/io/loader.js"),ze=Ue("./src/utils/exception.js"),Ve=function(){var En=function(vn,hn){return En=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_n,bn){_n.__proto__=bn}||function(_n,bn){for(var An in bn)Object.prototype.hasOwnProperty.call(bn,An)&&(_n[An]=bn[An])},En(vn,hn)};return function(vn,hn){if(typeof hn!="function"&&hn!==null)throw new TypeError("Class extends value "+String(hn)+" is not a constructor or null");En(vn,hn);function _n(){this.constructor=vn}vn.prototype=hn===null?Object.create(hn):(_n.prototype=hn.prototype,new _n)}}(),qe=function(En){Ve(vn,En);function vn(){var hn=En.call(this,"websocket-loader")||this;return hn.TAG="WebSocketLoader",hn._needStash=!0,hn._ws=null,hn._requestAbort=!1,hn._receivedLength=0,hn}return vn.isSupported=function(){try{return typeof self.WebSocket<"u"}catch(hn){return!1}},vn.prototype.destroy=function(){this._ws&&this.abort(),En.prototype.destroy.call(this)},vn.prototype.open=function(hn){try{var _n=this._ws=new self.WebSocket(hn.url);_n.binaryType="arraybuffer",_n.onopen=this._onWebSocketOpen.bind(this),_n.onclose=this._onWebSocketClose.bind(this),_n.onmessage=this._onWebSocketMessage.bind(this),_n.onerror=this._onWebSocketError.bind(this),this._status=$e.LoaderStatus.kConnecting}catch(An){this._status=$e.LoaderStatus.kError;var bn={code:An.code,msg:An.message};if(this._onError)this._onError($e.LoaderErrors.EXCEPTION,bn);else throw new ze.RuntimeException(bn.msg)}},vn.prototype.abort=function(){var hn=this._ws;hn&&(hn.readyState===0||hn.readyState===1)&&(this._requestAbort=!0,hn.close()),this._ws=null,this._status=$e.LoaderStatus.kComplete},vn.prototype._onWebSocketOpen=function(hn){this._status=$e.LoaderStatus.kBuffering},vn.prototype._onWebSocketClose=function(hn){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=$e.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},vn.prototype._onWebSocketMessage=function(hn){var _n=this;if(hn.data instanceof ArrayBuffer)this._dispatchArrayBuffer(hn.data);else if(hn.data instanceof Blob){var bn=new FileReader;bn.onload=function(){_n._dispatchArrayBuffer(bn.result)},bn.readAsArrayBuffer(hn.data)}else{this._status=$e.LoaderStatus.kError;var An={code:-1,msg:"Unsupported WebSocket message type: "+hn.data.constructor.name};if(this._onError)this._onError($e.LoaderErrors.EXCEPTION,An);else throw new ze.RuntimeException(An.msg)}},vn.prototype._dispatchArrayBuffer=function(hn){var _n=hn,bn=this._receivedLength;this._receivedLength+=_n.byteLength,this._onDataArrival&&this._onDataArrival(_n,bn,this._receivedLength)},vn.prototype._onWebSocketError=function(hn){this._status=$e.LoaderStatus.kError;var _n={code:hn.code,msg:hn.message};if(this._onError)this._onError($e.LoaderErrors.EXCEPTION,_n);else throw new ze.RuntimeException(_n.msg)},vn}($e.BaseLoader);Fe.default=qe},"./src/io/xhr-moz-chunked-loader.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logger.js"),ze=Ue("./src/io/loader.js"),Ve=Ue("./src/utils/exception.js"),qe=function(){var vn=function(hn,_n){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bn,An){bn.__proto__=An}||function(bn,An){for(var xn in An)Object.prototype.hasOwnProperty.call(An,xn)&&(bn[xn]=An[xn])},vn(hn,_n)};return function(hn,_n){if(typeof _n!="function"&&_n!==null)throw new TypeError("Class extends value "+String(_n)+" is not a constructor or null");vn(hn,_n);function bn(){this.constructor=hn}hn.prototype=_n===null?Object.create(_n):(bn.prototype=_n.prototype,new bn)}}(),En=function(vn){qe(hn,vn);function hn(_n,bn){var An=vn.call(this,"xhr-moz-chunked-loader")||this;return An.TAG="MozChunkedLoader",An._seekHandler=_n,An._config=bn,An._needStash=!0,An._xhr=null,An._requestAbort=!1,An._contentLength=null,An._receivedLength=0,An}return hn.isSupported=function(){try{var _n=new XMLHttpRequest;return _n.open("GET","https://example.com",!0),_n.responseType="moz-chunked-arraybuffer",_n.responseType==="moz-chunked-arraybuffer"}catch(bn){return $e.default.w("MozChunkedLoader",bn.message),!1}},hn.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),vn.prototype.destroy.call(this)},hn.prototype.open=function(_n,bn){this._dataSource=_n,this._range=bn;var An=_n.url;this._config.reuseRedirectedURL&&_n.redirectedURL!=null&&(An=_n.redirectedURL);var xn=this._seekHandler.getConfig(An,bn);this._requestURL=xn.url;var Sn=this._xhr=new XMLHttpRequest;if(Sn.open("GET",xn.url,!0),Sn.responseType="moz-chunked-arraybuffer",Sn.onreadystatechange=this._onReadyStateChange.bind(this),Sn.onprogress=this._onProgress.bind(this),Sn.onloadend=this._onLoadEnd.bind(this),Sn.onerror=this._onXhrError.bind(this),_n.withCredentials&&(Sn.withCredentials=!0),typeof xn.headers=="object"){var Cn=xn.headers;for(var Tn in Cn)Cn.hasOwnProperty(Tn)&&Sn.setRequestHeader(Tn,Cn[Tn])}if(typeof this._config.headers=="object"){var Cn=this._config.headers;for(var Tn in Cn)Cn.hasOwnProperty(Tn)&&Sn.setRequestHeader(Tn,Cn[Tn])}this._status=ze.LoaderStatus.kConnecting,Sn.send()},hn.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=ze.LoaderStatus.kComplete},hn.prototype._onReadyStateChange=function(_n){var bn=_n.target;if(bn.readyState===2){if(bn.responseURL!=null&&bn.responseURL!==this._requestURL&&this._onURLRedirect){var An=this._seekHandler.removeURLParameters(bn.responseURL);this._onURLRedirect(An)}if(bn.status!==0&&(bn.status<200||bn.status>299))if(this._status=ze.LoaderStatus.kError,this._onError)this._onError(ze.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:bn.status,msg:bn.statusText});else throw new Ve.RuntimeException("MozChunkedLoader: Http code invalid, "+bn.status+" "+bn.statusText);else this._status=ze.LoaderStatus.kBuffering}},hn.prototype._onProgress=function(_n){if(this._status!==ze.LoaderStatus.kError){this._contentLength===null&&_n.total!==null&&_n.total!==0&&(this._contentLength=_n.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var bn=_n.target.response,An=this._range.from+this._receivedLength;this._receivedLength+=bn.byteLength,this._onDataArrival&&this._onDataArrival(bn,An,this._receivedLength)}},hn.prototype._onLoadEnd=function(_n){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===ze.LoaderStatus.kError)return;this._status=ze.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},hn.prototype._onXhrError=function(_n){this._status=ze.LoaderStatus.kError;var bn=0,An=null;if(this._contentLength&&_n.loaded<this._contentLength?(bn=ze.LoaderErrors.EARLY_EOF,An={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(bn=ze.LoaderErrors.EXCEPTION,An={code:-1,msg:_n.constructor.name+" "+_n.type}),this._onError)this._onError(bn,An);else throw new Ve.RuntimeException(An.msg)},hn}(ze.BaseLoader);Fe.default=En},"./src/io/xhr-range-loader.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logger.js"),ze=Ue("./src/io/speed-sampler.js"),Ve=Ue("./src/io/loader.js"),qe=Ue("./src/utils/exception.js"),En=function(){var hn=function(_n,bn){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(An,xn){An.__proto__=xn}||function(An,xn){for(var Sn in xn)Object.prototype.hasOwnProperty.call(xn,Sn)&&(An[Sn]=xn[Sn])},hn(_n,bn)};return function(_n,bn){if(typeof bn!="function"&&bn!==null)throw new TypeError("Class extends value "+String(bn)+" is not a constructor or null");hn(_n,bn);function An(){this.constructor=_n}_n.prototype=bn===null?Object.create(bn):(An.prototype=bn.prototype,new An)}}(),vn=function(hn){En(_n,hn);function _n(bn,An){var xn=hn.call(this,"xhr-range-loader")||this;return xn.TAG="RangeLoader",xn._seekHandler=bn,xn._config=An,xn._needStash=!1,xn._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],xn._currentChunkSizeKB=384,xn._currentSpeedNormalized=0,xn._zeroSpeedChunkCount=0,xn._xhr=null,xn._speedSampler=new ze.default,xn._requestAbort=!1,xn._waitForTotalLength=!1,xn._totalLengthReceived=!1,xn._currentRequestURL=null,xn._currentRedirectedURL=null,xn._currentRequestRange=null,xn._totalLength=null,xn._contentLength=null,xn._receivedLength=0,xn._lastTimeLoaded=0,xn}return _n.isSupported=function(){try{var bn=new XMLHttpRequest;return bn.open("GET","https://example.com",!0),bn.responseType="arraybuffer",bn.responseType==="arraybuffer"}catch(An){return $e.default.w("RangeLoader",An.message),!1}},_n.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),hn.prototype.destroy.call(this)},Object.defineProperty(_n.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),_n.prototype.open=function(bn,An){this._dataSource=bn,this._range=An,this._status=Ve.LoaderStatus.kConnecting;var xn=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(xn=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!xn?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},_n.prototype._openSubRange=function(){var bn=this._currentChunkSizeKB*1024,An=this._range.from+this._receivedLength,xn=An+bn;this._contentLength!=null&&xn-this._range.from>=this._contentLength&&(xn=this._range.from+this._contentLength-1),this._currentRequestRange={from:An,to:xn},this._internalOpen(this._dataSource,this._currentRequestRange)},_n.prototype._internalOpen=function(bn,An){this._lastTimeLoaded=0;var xn=bn.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?xn=this._currentRedirectedURL:bn.redirectedURL!=null&&(xn=bn.redirectedURL));var Sn=this._seekHandler.getConfig(xn,An);this._currentRequestURL=Sn.url;var Cn=this._xhr=new XMLHttpRequest;if(Cn.open("GET",Sn.url,!0),Cn.responseType="arraybuffer",Cn.onreadystatechange=this._onReadyStateChange.bind(this),Cn.onprogress=this._onProgress.bind(this),Cn.onload=this._onLoad.bind(this),Cn.onerror=this._onXhrError.bind(this),bn.withCredentials&&(Cn.withCredentials=!0),typeof Sn.headers=="object"){var Tn=Sn.headers;for(var wn in Tn)Tn.hasOwnProperty(wn)&&Cn.setRequestHeader(wn,Tn[wn])}if(typeof this._config.headers=="object"){var Tn=this._config.headers;for(var wn in Tn)Tn.hasOwnProperty(wn)&&Cn.setRequestHeader(wn,Tn[wn])}Cn.send()},_n.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=Ve.LoaderStatus.kComplete},_n.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},_n.prototype._onReadyStateChange=function(bn){var An=bn.target;if(An.readyState===2){if(An.responseURL!=null){var xn=this._seekHandler.removeURLParameters(An.responseURL);An.responseURL!==this._currentRequestURL&&xn!==this._currentRedirectedURL&&(this._currentRedirectedURL=xn,this._onURLRedirect&&this._onURLRedirect(xn))}if(An.status>=200&&An.status<=299){if(this._waitForTotalLength)return;this._status=Ve.LoaderStatus.kBuffering}else if(this._status=Ve.LoaderStatus.kError,this._onError)this._onError(Ve.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:An.status,msg:An.statusText});else throw new qe.RuntimeException("RangeLoader: Http code invalid, "+An.status+" "+An.statusText)}},_n.prototype._onProgress=function(bn){if(this._status!==Ve.LoaderStatus.kError){if(this._contentLength===null){var An=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,An=!0;var xn=bn.total;this._internalAbort(),xn!=null&xn!==0&&(this._totalLength=xn)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,An){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var Sn=bn.loaded-this._lastTimeLoaded;this._lastTimeLoaded=bn.loaded,this._speedSampler.addBytes(Sn)}},_n.prototype._normalizeSpeed=function(bn){var An=this._chunkSizeKBList,xn=An.length-1,Sn=0,Cn=0,Tn=xn;if(bn<An[0])return An[0];for(;Cn<=Tn;){if(Sn=Cn+Math.floor((Tn-Cn)/2),Sn===xn||bn>=An[Sn]&&bn<An[Sn+1])return An[Sn];An[Sn]<bn?Cn=Sn+1:Tn=Sn-1}},_n.prototype._onLoad=function(bn){if(this._status!==Ve.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var An=this._speedSampler.lastSecondKBps;if(An===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(An=this._speedSampler.currentKBps)),An!==0){var xn=this._normalizeSpeed(An);this._currentSpeedNormalized!==xn&&(this._currentSpeedNormalized=xn,this._currentChunkSizeKB=xn)}var Sn=bn.target.response,Cn=this._range.from+this._receivedLength;this._receivedLength+=Sn.byteLength;var Tn=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():Tn=!0,this._onDataArrival&&this._onDataArrival(Sn,Cn,this._receivedLength),Tn&&(this._status=Ve.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},_n.prototype._onXhrError=function(bn){this._status=Ve.LoaderStatus.kError;var An=0,xn=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(An=Ve.LoaderErrors.EARLY_EOF,xn={code:-1,msg:"RangeLoader meet Early-Eof"}):(An=Ve.LoaderErrors.EXCEPTION,xn={code:-1,msg:bn.constructor.name+" "+bn.type}),this._onError)this._onError(An,xn);else throw new qe.RuntimeException(xn.msg)},_n}(Ve.BaseLoader);Fe.default=vn},"./src/player/flv-player.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=Ue("./src/utils/logger.js"),qe=Ue("./src/utils/browser.js"),En=Ue("./src/player/player-events.js"),vn=Ue("./src/core/transmuxer.js"),hn=Ue("./src/core/transmuxing-events.js"),_n=Ue("./src/core/mse-controller.js"),bn=Ue("./src/core/mse-events.js"),An=Ue("./src/player/player-errors.js"),xn=Ue("./src/config.js"),Sn=Ue("./src/utils/exception.js"),Cn=function(){function Tn(wn,Ln){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(ze()),this._config=(0,xn.createDefaultConfig)(),typeof Ln=="object"&&Object.assign(this._config,Ln),wn.type.toLowerCase()!=="flv")throw new Sn.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");wn.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=wn,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var Pn=qe.default.chrome&&(qe.default.version.major<50||qe.default.version.major===50&&qe.default.version.build<2661);this._alwaysSeekKeyframe=!!(Pn||qe.default.msedge||qe.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return Tn.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},Tn.prototype.on=function(wn,Ln){var Pn=this;wn===En.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){Pn._emitter.emit(En.default.MEDIA_INFO,Pn.mediaInfo)}):wn===En.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){Pn._emitter.emit(En.default.STATISTICS_INFO,Pn.statisticsInfo)}),this._emitter.addListener(wn,Ln)},Tn.prototype.off=function(wn,Ln){this._emitter.removeListener(wn,Ln)},Tn.prototype.attachMediaElement=function(wn){var Ln=this;if(this._mediaElement=wn,wn.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),wn.addEventListener("seeking",this.e.onvSeeking),wn.addEventListener("canplay",this.e.onvCanPlay),wn.addEventListener("stalled",this.e.onvStalled),wn.addEventListener("progress",this.e.onvProgress),this._msectl=new _n.default(this._config),this._msectl.on(bn.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(bn.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(bn.default.SOURCE_OPEN,function(){Ln._mseSourceOpened=!0,Ln._hasPendingLoad&&(Ln._hasPendingLoad=!1,Ln.load())}),this._msectl.on(bn.default.ERROR,function(Pn){Ln._emitter.emit(En.default.ERROR,An.ErrorTypes.MEDIA_ERROR,An.ErrorDetails.MEDIA_MSE_ERROR,Pn)}),this._msectl.attachMediaElement(wn),this._pendingSeekTime!=null)try{wn.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(Pn){}},Tn.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},Tn.prototype.load=function(){var wn=this;if(!this._mediaElement)throw new Sn.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new Sn.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new vn.default(this._mediaDataSource,this._config),this._transmuxer.on(hn.default.INIT_SEGMENT,function(Ln,Pn){wn._msectl.appendInitSegment(Pn)}),this._transmuxer.on(hn.default.MEDIA_SEGMENT,function(Ln,Pn){if(wn._msectl.appendMediaSegment(Pn),wn._config.lazyLoad&&!wn._config.isLive){var kn=wn._mediaElement.currentTime;Pn.info.endDts>=(kn+wn._config.lazyLoadMaxDuration)*1e3&&wn._progressChecker==null&&(Ve.default.v(wn.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),wn._suspendTransmuxer())}}),this._transmuxer.on(hn.default.LOADING_COMPLETE,function(){wn._msectl.endOfStream(),wn._emitter.emit(En.default.LOADING_COMPLETE)}),this._transmuxer.on(hn.default.RECOVERED_EARLY_EOF,function(){wn._emitter.emit(En.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(hn.default.IO_ERROR,function(Ln,Pn){wn._emitter.emit(En.default.ERROR,An.ErrorTypes.NETWORK_ERROR,Ln,Pn)}),this._transmuxer.on(hn.default.DEMUX_ERROR,function(Ln,Pn){wn._emitter.emit(En.default.ERROR,An.ErrorTypes.MEDIA_ERROR,Ln,{code:-1,msg:Pn})}),this._transmuxer.on(hn.default.MEDIA_INFO,function(Ln){wn._mediaInfo=Ln,wn._emitter.emit(En.default.MEDIA_INFO,Object.assign({},Ln))}),this._transmuxer.on(hn.default.METADATA_ARRIVED,function(Ln){wn._emitter.emit(En.default.METADATA_ARRIVED,Ln)}),this._transmuxer.on(hn.default.SCRIPTDATA_ARRIVED,function(Ln){wn._emitter.emit(En.default.SCRIPTDATA_ARRIVED,Ln)}),this._transmuxer.on(hn.default.STATISTICS_INFO,function(Ln){wn._statisticsInfo=wn._fillStatisticsInfo(Ln),wn._emitter.emit(En.default.STATISTICS_INFO,Object.assign({},wn._statisticsInfo))}),this._transmuxer.on(hn.default.RECOMMEND_SEEKPOINT,function(Ln){wn._mediaElement&&!wn._config.accurateSeek&&(wn._requestSetTime=!0,wn._mediaElement.currentTime=Ln/1e3)}),this._transmuxer.open()}},Tn.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},Tn.prototype.play=function(){return this._mediaElement.play()},Tn.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(Tn.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(wn){this._mediaElement.volume=wn},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(wn){this._mediaElement.muted=wn},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(wn){this._mediaElement?this._internalSeek(wn):this._pendingSeekTime=wn},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(Tn.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),Tn.prototype._fillStatisticsInfo=function(wn){if(wn.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return wn;var Ln=!0,Pn=0,kn=0;if(this._mediaElement.getVideoPlaybackQuality){var In=this._mediaElement.getVideoPlaybackQuality();Pn=In.totalVideoFrames,kn=In.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(Pn=this._mediaElement.webkitDecodedFrameCount,kn=this._mediaElement.webkitDroppedFrameCount):Ln=!1;return Ln&&(wn.decodedFrames=Pn,wn.droppedFrames=kn),wn},Tn.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var wn=this._mediaElement.buffered,Ln=this._mediaElement.currentTime,Pn=0,kn=0;kn<wn.length;kn++){var In=wn.start(kn),Rn=wn.end(kn);if(In<=Ln&&Ln<Rn){Pn=Rn;break}}Pn>=Ln+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(Ve.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},Tn.prototype._onmseBufferFull=function(){Ve.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},Tn.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},Tn.prototype._checkProgressAndResume=function(){for(var wn=this._mediaElement.currentTime,Ln=this._mediaElement.buffered,Pn=!1,kn=0;kn<Ln.length;kn++){var In=Ln.start(kn),Rn=Ln.end(kn);if(wn>=In&&wn<Rn){wn>=Rn-this._config.lazyLoadRecoverDuration&&(Pn=!0);break}}Pn&&(window.clearInterval(this._progressChecker),this._progressChecker=null,Pn&&(Ve.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},Tn.prototype._isTimepointBuffered=function(wn){for(var Ln=this._mediaElement.buffered,Pn=0;Pn<Ln.length;Pn++){var kn=Ln.start(Pn),In=Ln.end(Pn);if(wn>=kn&&wn<In)return!0}return!1},Tn.prototype._internalSeek=function(wn){var Ln=this._isTimepointBuffered(wn),Pn=!1,kn=0;if(wn<1&&this._mediaElement.buffered.length>0){var In=this._mediaElement.buffered.start(0);(In<1&&wn<In||qe.default.safari)&&(Pn=!0,kn=qe.default.safari?.1:In)}if(Pn)this._requestSetTime=!0,this._mediaElement.currentTime=kn;else if(Ln){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=wn;else{var Rn=this._msectl.getNearestKeyframe(Math.floor(wn*1e3));this._requestSetTime=!0,Rn!=null?this._mediaElement.currentTime=Rn.dts/1e3:this._mediaElement.currentTime=wn}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(wn),this._transmuxer.seek(Math.floor(wn*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=wn)},Tn.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var wn=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(wn)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(wn),this._transmuxer.seek(Math.floor(wn*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=wn))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},Tn.prototype._checkAndResumeStuckPlayback=function(wn){var Ln=this._mediaElement;if(wn||!this._receivedCanPlay||Ln.readyState<2){var Pn=Ln.buffered;Pn.length>0&&Ln.currentTime<Pn.start(0)&&(Ve.default.w(this.TAG,"Playback seems stuck at "+Ln.currentTime+", seek to "+Pn.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=Pn.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},Tn.prototype._onvLoadedMetadata=function(wn){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},Tn.prototype._onvSeeking=function(wn){var Ln=this._mediaElement.currentTime,Pn=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(Ln<1&&Pn.length>0){var kn=Pn.start(0);if(kn<1&&Ln<kn||qe.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=qe.default.safari?.1:kn;return}}if(this._isTimepointBuffered(Ln)){if(this._alwaysSeekKeyframe){var In=this._msectl.getNearestKeyframe(Math.floor(Ln*1e3));In!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=In.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:Ln,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},Tn.prototype._onvCanPlay=function(wn){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},Tn.prototype._onvStalled=function(wn){this._checkAndResumeStuckPlayback(!0)},Tn.prototype._onvProgress=function(wn){this._checkAndResumeStuckPlayback()},Tn}();Fe.default=Cn},"./src/player/native-player.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=Ue("./src/player/player-events.js"),qe=Ue("./src/config.js"),En=Ue("./src/utils/exception.js"),vn=function(){function hn(_n,bn){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(ze()),this._config=(0,qe.createDefaultConfig)(),typeof bn=="object"&&Object.assign(this._config,bn),_n.type.toLowerCase()==="flv")throw new En.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(_n.hasOwnProperty("segments"))throw new En.InvalidArgumentException("NativePlayer("+_n.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=_n,this._mediaElement=null}return hn.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},hn.prototype.on=function(_n,bn){var An=this;_n===Ve.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){An._emitter.emit(Ve.default.MEDIA_INFO,An.mediaInfo)}):_n===Ve.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){An._emitter.emit(Ve.default.STATISTICS_INFO,An.statisticsInfo)}),this._emitter.addListener(_n,bn)},hn.prototype.off=function(_n,bn){this._emitter.removeListener(_n,bn)},hn.prototype.attachMediaElement=function(_n){if(this._mediaElement=_n,_n.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{_n.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(bn){}},hn.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},hn.prototype.load=function(){if(!this._mediaElement)throw new En.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},hn.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},hn.prototype.play=function(){return this._mediaElement.play()},hn.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(hn.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(_n){this._mediaElement.volume=_n},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(_n){this._mediaElement.muted=_n},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(_n){this._mediaElement?this._mediaElement.currentTime=_n:this._pendingSeekTime=_n},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"mediaInfo",{get:function(){var _n=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",bn={mimeType:_n+this._mediaDataSource.type};return this._mediaElement&&(bn.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(bn.width=this._mediaElement.videoWidth,bn.height=this._mediaElement.videoHeight)),bn},enumerable:!1,configurable:!0}),Object.defineProperty(hn.prototype,"statisticsInfo",{get:function(){var _n={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return _n;var bn=!0,An=0,xn=0;if(this._mediaElement.getVideoPlaybackQuality){var Sn=this._mediaElement.getVideoPlaybackQuality();An=Sn.totalVideoFrames,xn=Sn.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(An=this._mediaElement.webkitDecodedFrameCount,xn=this._mediaElement.webkitDroppedFrameCount):bn=!1;return bn&&(_n.decodedFrames=An,_n.droppedFrames=xn),_n},enumerable:!1,configurable:!0}),hn.prototype._onvLoadedMetadata=function(_n){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(Ve.default.MEDIA_INFO,this.mediaInfo)},hn.prototype._reportStatisticsInfo=function(){this._emitter.emit(Ve.default.STATISTICS_INFO,this.statisticsInfo)},hn}();Fe.default=vn},"./src/player/player-errors.js":function(Ne,Fe,Ue){Ue.r(Fe),Ue.d(Fe,{ErrorTypes:function(){return Ve},ErrorDetails:function(){return qe}});var $e=Ue("./src/io/loader.js"),ze=Ue("./src/demux/demux-errors.js"),Ve={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},qe={NETWORK_EXCEPTION:$e.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:$e.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:$e.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:$e.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:ze.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:ze.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:ze.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};Fe.default=$e},"./src/remux/aac-silent.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(){}return ze.getSilentFrame=function(Ve,qe){if(Ve==="mp4a.40.2"){if(qe===1)return new Uint8Array([0,200,0,128,35,128]);if(qe===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(qe===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(qe===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(qe===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(qe===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(qe===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(qe===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(qe===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},ze}();Fe.default=$e},"./src/remux/mp4-generator.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(){}return ze.init=function(){ze.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var Ve in ze.types)ze.types.hasOwnProperty(Ve)&&(ze.types[Ve]=[Ve.charCodeAt(0),Ve.charCodeAt(1),Ve.charCodeAt(2),Ve.charCodeAt(3)]);var qe=ze.constants={};qe.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),qe.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),qe.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),qe.STSC=qe.STCO=qe.STTS,qe.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),qe.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),qe.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),qe.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),qe.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),qe.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},ze.box=function(Ve){for(var qe=8,En=null,vn=Array.prototype.slice.call(arguments,1),hn=vn.length,_n=0;_n<hn;_n++)qe+=vn[_n].byteLength;En=new Uint8Array(qe),En[0]=qe>>>24&255,En[1]=qe>>>16&255,En[2]=qe>>>8&255,En[3]=qe&255,En.set(Ve,4);for(var bn=8,_n=0;_n<hn;_n++)En.set(vn[_n],bn),bn+=vn[_n].byteLength;return En},ze.generateInitSegment=function(Ve){var qe=ze.box(ze.types.ftyp,ze.constants.FTYP),En=ze.moov(Ve),vn=new Uint8Array(qe.byteLength+En.byteLength);return vn.set(qe,0),vn.set(En,qe.byteLength),vn},ze.moov=function(Ve){var qe=ze.mvhd(Ve.timescale,Ve.duration),En=ze.trak(Ve),vn=ze.mvex(Ve);return ze.box(ze.types.moov,qe,En,vn)},ze.mvhd=function(Ve,qe){return ze.box(ze.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,Ve>>>24&255,Ve>>>16&255,Ve>>>8&255,Ve&255,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},ze.trak=function(Ve){return ze.box(ze.types.trak,ze.tkhd(Ve),ze.mdia(Ve))},ze.tkhd=function(Ve){var qe=Ve.id,En=Ve.duration,vn=Ve.presentWidth,hn=Ve.presentHeight;return ze.box(ze.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255,0,0,0,0,En>>>24&255,En>>>16&255,En>>>8&255,En&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,vn>>>8&255,vn&255,0,0,hn>>>8&255,hn&255,0,0]))},ze.mdia=function(Ve){return ze.box(ze.types.mdia,ze.mdhd(Ve),ze.hdlr(Ve),ze.minf(Ve))},ze.mdhd=function(Ve){var qe=Ve.timescale,En=Ve.duration;return ze.box(ze.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255,En>>>24&255,En>>>16&255,En>>>8&255,En&255,85,196,0,0]))},ze.hdlr=function(Ve){var qe=null;return Ve.type==="audio"?qe=ze.constants.HDLR_AUDIO:qe=ze.constants.HDLR_VIDEO,ze.box(ze.types.hdlr,qe)},ze.minf=function(Ve){var qe=null;return Ve.type==="audio"?qe=ze.box(ze.types.smhd,ze.constants.SMHD):qe=ze.box(ze.types.vmhd,ze.constants.VMHD),ze.box(ze.types.minf,qe,ze.dinf(),ze.stbl(Ve))},ze.dinf=function(){var Ve=ze.box(ze.types.dinf,ze.box(ze.types.dref,ze.constants.DREF));return Ve},ze.stbl=function(Ve){var qe=ze.box(ze.types.stbl,ze.stsd(Ve),ze.box(ze.types.stts,ze.constants.STTS),ze.box(ze.types.stsc,ze.constants.STSC),ze.box(ze.types.stsz,ze.constants.STSZ),ze.box(ze.types.stco,ze.constants.STCO));return qe},ze.stsd=function(Ve){return Ve.type==="audio"?Ve.codec==="mp3"?ze.box(ze.types.stsd,ze.constants.STSD_PREFIX,ze.mp3(Ve)):ze.box(ze.types.stsd,ze.constants.STSD_PREFIX,ze.mp4a(Ve)):ze.box(ze.types.stsd,ze.constants.STSD_PREFIX,ze.avc1(Ve))},ze.mp3=function(Ve){var qe=Ve.channelCount,En=Ve.audioSampleRate,vn=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,qe,0,16,0,0,0,0,En>>>8&255,En&255,0,0]);return ze.box(ze.types[".mp3"],vn)},ze.mp4a=function(Ve){var qe=Ve.channelCount,En=Ve.audioSampleRate,vn=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,qe,0,16,0,0,0,0,En>>>8&255,En&255,0,0]);return ze.box(ze.types.mp4a,vn,ze.esds(Ve))},ze.esds=function(Ve){var qe=Ve.config||[],En=qe.length,vn=new Uint8Array([0,0,0,0,3,23+En,0,1,0,4,15+En,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([En]).concat(qe).concat([6,1,2]));return ze.box(ze.types.esds,vn)},ze.avc1=function(Ve){var qe=Ve.avcc,En=Ve.codecWidth,vn=Ve.codecHeight,hn=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,En>>>8&255,En&255,vn>>>8&255,vn&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return ze.box(ze.types.avc1,hn,ze.box(ze.types.avcC,qe))},ze.mvex=function(Ve){return ze.box(ze.types.mvex,ze.trex(Ve))},ze.trex=function(Ve){var qe=Ve.id,En=new Uint8Array([0,0,0,0,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return ze.box(ze.types.trex,En)},ze.moof=function(Ve,qe){return ze.box(ze.types.moof,ze.mfhd(Ve.sequenceNumber),ze.traf(Ve,qe))},ze.mfhd=function(Ve){var qe=new Uint8Array([0,0,0,0,Ve>>>24&255,Ve>>>16&255,Ve>>>8&255,Ve&255]);return ze.box(ze.types.mfhd,qe)},ze.traf=function(Ve,qe){var En=Ve.id,vn=ze.box(ze.types.tfhd,new Uint8Array([0,0,0,0,En>>>24&255,En>>>16&255,En>>>8&255,En&255])),hn=ze.box(ze.types.tfdt,new Uint8Array([0,0,0,0,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255])),_n=ze.sdtp(Ve),bn=ze.trun(Ve,_n.byteLength+16+16+8+16+8+8);return ze.box(ze.types.traf,vn,hn,bn,_n)},ze.sdtp=function(Ve){for(var qe=Ve.samples||[],En=qe.length,vn=new Uint8Array(4+En),hn=0;hn<En;hn++){var _n=qe[hn].flags;vn[hn+4]=_n.isLeading<<6|_n.dependsOn<<4|_n.isDependedOn<<2|_n.hasRedundancy}return ze.box(ze.types.sdtp,vn)},ze.trun=function(Ve,qe){var En=Ve.samples||[],vn=En.length,hn=12+16*vn,_n=new Uint8Array(hn);qe+=8+hn,_n.set([0,0,15,1,vn>>>24&255,vn>>>16&255,vn>>>8&255,vn&255,qe>>>24&255,qe>>>16&255,qe>>>8&255,qe&255],0);for(var bn=0;bn<vn;bn++){var An=En[bn].duration,xn=En[bn].size,Sn=En[bn].flags,Cn=En[bn].cts;_n.set([An>>>24&255,An>>>16&255,An>>>8&255,An&255,xn>>>24&255,xn>>>16&255,xn>>>8&255,xn&255,Sn.isLeading<<2|Sn.dependsOn,Sn.isDependedOn<<6|Sn.hasRedundancy<<4|Sn.isNonSync,0,0,Cn>>>24&255,Cn>>>16&255,Cn>>>8&255,Cn&255],12+16*bn)}return ze.box(ze.types.trun,_n)},ze.mdat=function(Ve){return ze.box(ze.types.mdat,Ve)},ze}();$e.init(),Fe.default=$e},"./src/remux/mp4-remuxer.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./src/utils/logger.js"),ze=Ue("./src/remux/mp4-generator.js"),Ve=Ue("./src/remux/aac-silent.js"),qe=Ue("./src/utils/browser.js"),En=Ue("./src/core/media-segment-info.js"),vn=Ue("./src/utils/exception.js"),hn=function(){function _n(bn){this.TAG="MP4Remuxer",this._config=bn,this._isLive=bn.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new En.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new En.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(qe.default.chrome&&(qe.default.version.major<50||qe.default.version.major===50&&qe.default.version.build<2661)),this._fillSilentAfterSeek=qe.default.msedge||qe.default.msie,this._mp3UseMpegAudio=!qe.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return _n.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},_n.prototype.bindDataSource=function(bn){return bn.onDataAvailable=this.remux.bind(this),bn.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(_n.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(bn){this._onInitSegment=bn},enumerable:!1,configurable:!0}),Object.defineProperty(_n.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(bn){this._onMediaSegment=bn},enumerable:!1,configurable:!0}),_n.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},_n.prototype.seek=function(bn){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},_n.prototype.remux=function(bn,An){if(!this._onMediaSegment)throw new vn.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(bn,An),this._remuxVideo(An),this._remuxAudio(bn)},_n.prototype._onTrackMetadataReceived=function(bn,An){var xn=null,Sn="mp4",Cn=An.codec;if(bn==="audio")this._audioMeta=An,An.codec==="mp3"&&this._mp3UseMpegAudio?(Sn="mpeg",Cn="",xn=new Uint8Array):xn=ze.default.generateInitSegment(An);else if(bn==="video")this._videoMeta=An,xn=ze.default.generateInitSegment(An);else return;if(!this._onInitSegment)throw new vn.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(bn,{type:bn,data:xn.buffer,codec:Cn,container:bn+"/"+Sn,mediaDuration:An.duration})},_n.prototype._calculateDtsBase=function(bn,An){this._dtsBaseInited||(bn.samples&&bn.samples.length&&(this._audioDtsBase=bn.samples[0].dts),An.samples&&An.samples.length&&(this._videoDtsBase=An.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},_n.prototype.flushStashedSamples=function(){var bn=this._videoStashedLastSample,An=this._audioStashedLastSample,xn={type:"video",id:1,sequenceNumber:0,samples:[],length:0};bn!=null&&(xn.samples.push(bn),xn.length=bn.length);var Sn={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};An!=null&&(Sn.samples.push(An),Sn.length=An.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(xn,!0),this._remuxAudio(Sn,!0)},_n.prototype._remuxAudio=function(bn,An){if(this._audioMeta!=null){var xn=bn,Sn=xn.samples,Cn=void 0,Tn=-1,wn=-1,Ln=this._audioMeta.refSampleDuration,Pn=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,kn=this._dtsBaseInited&&this._audioNextDts===void 0,In=!1;if(!(!Sn||Sn.length===0)&&!(Sn.length===1&&!An)){var Rn=0,Nn=null,On=0;Pn?(Rn=0,On=xn.length):(Rn=8,On=8+xn.length);var Dn=null;if(Sn.length>1&&(Dn=Sn.pop(),On-=Dn.length),this._audioStashedLastSample!=null){var Mn=this._audioStashedLastSample;this._audioStashedLastSample=null,Sn.unshift(Mn),On+=Mn.length}Dn!=null&&(this._audioStashedLastSample=Dn);var Bn=Sn[0].dts-this._dtsBase;if(this._audioNextDts)Cn=Bn-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())Cn=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(In=!0);else{var $n=this._audioSegmentInfoList.getLastSampleBefore(Bn);if($n!=null){var Fn=Bn-($n.originalDts+$n.duration);Fn<=3&&(Fn=0);var Un=$n.dts+$n.duration+Fn;Cn=Bn-Un}else Cn=0}if(In){var Hn=Bn-Cn,Wn=this._videoSegmentInfoList.getLastSegmentBefore(Bn);if(Wn!=null&&Wn.beginDts<Hn){var Xn=Ve.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(Xn){var or=Wn.beginDts,fr=Hn-Wn.beginDts;$e.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+or+", duration: "+fr),Sn.unshift({unit:Xn,dts:or,pts:or}),On+=Xn.byteLength}}else In=!1}for(var cr=[],Jn=0;Jn<Sn.length;Jn++){var Mn=Sn[Jn],mr=Mn.unit,Ir=Mn.dts-this._dtsBase,or=Ir,yr=!1,Tr=null,Sr=0;if(!(Ir<-.001)){if(this._audioMeta.codec!=="mp3"){var Yn=Ir,Qn=3;if(this._audioNextDts&&(Yn=this._audioNextDts),Cn=Ir-Yn,Cn<=-Qn*Ln){$e.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+Ir+" ms ,curRefDts: "+Yn+" ms)  due to dtsCorrection: "+Cn+" ms overlap.");continue}else if(Cn>=Qn*Ln&&this._fillAudioTimestampGap&&!qe.default.safari){yr=!0;var rr=Math.floor(Cn/Ln);$e.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+("originalDts: "+Ir+" ms, curRefDts: "+Yn+" ms, ")+("dtsCorrection: "+Math.round(Cn)+" ms, generate: "+rr+" frames")),or=Math.floor(Yn),Sr=Math.floor(Yn+Ln)-or;var Xn=Ve.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);Xn==null&&($e.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),Xn=mr),Tr=[];for(var gr=0;gr<rr;gr++){Yn=Yn+Ln;var Ar=Math.floor(Yn),Br=Math.floor(Yn+Ln)-Ar,Vr={dts:Ar,pts:Ar,cts:0,unit:Xn,size:Xn.byteLength,duration:Br,originalDts:Ir,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Tr.push(Vr),On+=Vr.size}this._audioNextDts=Yn+Ln}else or=Math.floor(Yn),Sr=Math.floor(Yn+Ln)-or,this._audioNextDts=Yn+Ln}else{if(or=Ir-Cn,Jn!==Sn.length-1){var Fr=Sn[Jn+1].dts-this._dtsBase-Cn;Sr=Fr-or}else if(Dn!=null){var Fr=Dn.dts-this._dtsBase-Cn;Sr=Fr-or}else cr.length>=1?Sr=cr[cr.length-1].duration:Sr=Math.floor(Ln);this._audioNextDts=or+Sr}Tn===-1&&(Tn=or),cr.push({dts:or,pts:or,cts:0,unit:Mn.unit,size:Mn.unit.byteLength,duration:Sr,originalDts:Ir,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),yr&&cr.push.apply(cr,Tr)}}if(cr.length===0){xn.samples=[],xn.length=0;return}Pn?Nn=new Uint8Array(On):(Nn=new Uint8Array(On),Nn[0]=On>>>24&255,Nn[1]=On>>>16&255,Nn[2]=On>>>8&255,Nn[3]=On&255,Nn.set(ze.default.types.mdat,4));for(var Jn=0;Jn<cr.length;Jn++){var mr=cr[Jn].unit;Nn.set(mr,Rn),Rn+=mr.byteLength}var Er=cr[cr.length-1];wn=Er.dts+Er.duration;var Dr=new En.MediaSegmentInfo;Dr.beginDts=Tn,Dr.endDts=wn,Dr.beginPts=Tn,Dr.endPts=wn,Dr.originalBeginDts=cr[0].originalDts,Dr.originalEndDts=Er.originalDts+Er.duration,Dr.firstSample=new En.SampleInfo(cr[0].dts,cr[0].pts,cr[0].duration,cr[0].originalDts,!1),Dr.lastSample=new En.SampleInfo(Er.dts,Er.pts,Er.duration,Er.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Dr),xn.samples=cr,xn.sequenceNumber++;var Pr=null;Pn?Pr=new Uint8Array:Pr=ze.default.moof(xn,Tn),xn.samples=[],xn.length=0;var $r={type:"audio",data:this._mergeBoxes(Pr,Nn).buffer,sampleCount:cr.length,info:Dr};Pn&&kn&&($r.timestampOffset=Tn),this._onMediaSegment("audio",$r)}}},_n.prototype._remuxVideo=function(bn,An){if(this._videoMeta!=null){var xn=bn,Sn=xn.samples,Cn=void 0,Tn=-1,wn=-1,Ln=-1,Pn=-1;if(!(!Sn||Sn.length===0)&&!(Sn.length===1&&!An)){var kn=8,In=null,Rn=8+bn.length,Nn=null;if(Sn.length>1&&(Nn=Sn.pop(),Rn-=Nn.length),this._videoStashedLastSample!=null){var On=this._videoStashedLastSample;this._videoStashedLastSample=null,Sn.unshift(On),Rn+=On.length}Nn!=null&&(this._videoStashedLastSample=Nn);var Dn=Sn[0].dts-this._dtsBase;if(this._videoNextDts)Cn=Dn-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())Cn=0;else{var Mn=this._videoSegmentInfoList.getLastSampleBefore(Dn);if(Mn!=null){var Bn=Dn-(Mn.originalDts+Mn.duration);Bn<=3&&(Bn=0);var $n=Mn.dts+Mn.duration+Bn;Cn=Dn-$n}else Cn=0}for(var Fn=new En.MediaSegmentInfo,Un=[],Hn=0;Hn<Sn.length;Hn++){var On=Sn[Hn],Wn=On.dts-this._dtsBase,Xn=On.isKeyframe,or=Wn-Cn,fr=On.cts,cr=or+fr;Tn===-1&&(Tn=or,Ln=cr);var Jn=0;if(Hn!==Sn.length-1){var mr=Sn[Hn+1].dts-this._dtsBase-Cn;Jn=mr-or}else if(Nn!=null){var mr=Nn.dts-this._dtsBase-Cn;Jn=mr-or}else Un.length>=1?Jn=Un[Un.length-1].duration:Jn=Math.floor(this._videoMeta.refSampleDuration);if(Xn){var Ir=new En.SampleInfo(or,cr,Jn,On.dts,!0);Ir.fileposition=On.fileposition,Fn.appendSyncPoint(Ir)}Un.push({dts:or,pts:cr,cts:fr,units:On.units,size:On.length,isKeyframe:Xn,duration:Jn,originalDts:Wn,flags:{isLeading:0,dependsOn:Xn?2:1,isDependedOn:Xn?1:0,hasRedundancy:0,isNonSync:Xn?0:1}})}In=new Uint8Array(Rn),In[0]=Rn>>>24&255,In[1]=Rn>>>16&255,In[2]=Rn>>>8&255,In[3]=Rn&255,In.set(ze.default.types.mdat,4);for(var Hn=0;Hn<Un.length;Hn++)for(var yr=Un[Hn].units;yr.length;){var Tr=yr.shift(),Sr=Tr.data;In.set(Sr,kn),kn+=Sr.byteLength}var Yn=Un[Un.length-1];if(wn=Yn.dts+Yn.duration,Pn=Yn.pts+Yn.duration,this._videoNextDts=wn,Fn.beginDts=Tn,Fn.endDts=wn,Fn.beginPts=Ln,Fn.endPts=Pn,Fn.originalBeginDts=Un[0].originalDts,Fn.originalEndDts=Yn.originalDts+Yn.duration,Fn.firstSample=new En.SampleInfo(Un[0].dts,Un[0].pts,Un[0].duration,Un[0].originalDts,Un[0].isKeyframe),Fn.lastSample=new En.SampleInfo(Yn.dts,Yn.pts,Yn.duration,Yn.originalDts,Yn.isKeyframe),this._isLive||this._videoSegmentInfoList.append(Fn),xn.samples=Un,xn.sequenceNumber++,this._forceFirstIDR){var Qn=Un[0].flags;Qn.dependsOn=2,Qn.isNonSync=0}var rr=ze.default.moof(xn,Tn);xn.samples=[],xn.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(rr,In).buffer,sampleCount:Un.length,info:Fn})}}},_n.prototype._mergeBoxes=function(bn,An){var xn=new Uint8Array(bn.byteLength+An.byteLength);return xn.set(bn,0),xn.set(An,bn.byteLength),xn},_n}();Fe.default=hn},"./src/utils/browser.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e={};function ze(){var Ve=self.navigator.userAgent.toLowerCase(),qe=/(edge)\/([\w.]+)/.exec(Ve)||/(opr)[\/]([\w.]+)/.exec(Ve)||/(chrome)[ \/]([\w.]+)/.exec(Ve)||/(iemobile)[\/]([\w.]+)/.exec(Ve)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(Ve)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(Ve)||/(webkit)[ \/]([\w.]+)/.exec(Ve)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(Ve)||/(msie) ([\w.]+)/.exec(Ve)||Ve.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(Ve)||Ve.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(Ve)||[],En=/(ipad)/.exec(Ve)||/(ipod)/.exec(Ve)||/(windows phone)/.exec(Ve)||/(iphone)/.exec(Ve)||/(kindle)/.exec(Ve)||/(android)/.exec(Ve)||/(windows)/.exec(Ve)||/(mac)/.exec(Ve)||/(linux)/.exec(Ve)||/(cros)/.exec(Ve)||[],vn={browser:qe[5]||qe[3]||qe[1]||"",version:qe[2]||qe[4]||"0",majorVersion:qe[4]||qe[2]||"0",platform:En[0]||""},hn={};if(vn.browser){hn[vn.browser]=!0;var _n=vn.majorVersion.split(".");hn.version={major:parseInt(vn.majorVersion,10),string:vn.version},_n.length>1&&(hn.version.minor=parseInt(_n[1],10)),_n.length>2&&(hn.version.build=parseInt(_n[2],10))}if(vn.platform&&(hn[vn.platform]=!0),(hn.chrome||hn.opr||hn.safari)&&(hn.webkit=!0),hn.rv||hn.iemobile){hn.rv&&delete hn.rv;var bn="msie";vn.browser=bn,hn[bn]=!0}if(hn.edge){delete hn.edge;var An="msedge";vn.browser=An,hn[An]=!0}if(hn.opr){var xn="opera";vn.browser=xn,hn[xn]=!0}if(hn.safari&&hn.android){var Sn="android";vn.browser=Sn,hn[Sn]=!0}hn.name=vn.browser,hn.platform=vn.platform;for(var Cn in $e)$e.hasOwnProperty(Cn)&&delete $e[Cn];Object.assign($e,hn)}ze(),Fe.default=$e},"./src/utils/exception.js":function(Ne,Fe,Ue){Ue.r(Fe),Ue.d(Fe,{RuntimeException:function(){return ze},IllegalStateException:function(){return Ve},InvalidArgumentException:function(){return qe},NotImplementedException:function(){return En}});var $e=function(){var vn=function(hn,_n){return vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bn,An){bn.__proto__=An}||function(bn,An){for(var xn in An)Object.prototype.hasOwnProperty.call(An,xn)&&(bn[xn]=An[xn])},vn(hn,_n)};return function(hn,_n){if(typeof _n!="function"&&_n!==null)throw new TypeError("Class extends value "+String(_n)+" is not a constructor or null");vn(hn,_n);function bn(){this.constructor=hn}hn.prototype=_n===null?Object.create(_n):(bn.prototype=_n.prototype,new bn)}}(),ze=function(){function vn(hn){this._message=hn}return Object.defineProperty(vn.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),vn.prototype.toString=function(){return this.name+": "+this.message},vn}(),Ve=function(vn){$e(hn,vn);function hn(_n){return vn.call(this,_n)||this}return Object.defineProperty(hn.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),hn}(ze),qe=function(vn){$e(hn,vn);function hn(_n){return vn.call(this,_n)||this}return Object.defineProperty(hn.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),hn}(ze),En=function(vn){$e(hn,vn);function hn(_n){return vn.call(this,_n)||this}return Object.defineProperty(hn.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),hn}(ze)},"./src/utils/logger.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=function(){function qe(){}return qe.e=function(En,vn){(!En||qe.FORCE_GLOBAL_TAG)&&(En=qe.GLOBAL_TAG);var hn="["+En+"] > "+vn;qe.ENABLE_CALLBACK&&qe.emitter.emit("log","error",hn),qe.ENABLE_ERROR&&(console.error?console.error(hn):console.warn&&console.warn(hn))},qe.i=function(En,vn){(!En||qe.FORCE_GLOBAL_TAG)&&(En=qe.GLOBAL_TAG);var hn="["+En+"] > "+vn;qe.ENABLE_CALLBACK&&qe.emitter.emit("log","info",hn),qe.ENABLE_INFO&&console.info&&console.info(hn)},qe.w=function(En,vn){(!En||qe.FORCE_GLOBAL_TAG)&&(En=qe.GLOBAL_TAG);var hn="["+En+"] > "+vn;qe.ENABLE_CALLBACK&&qe.emitter.emit("log","warn",hn),qe.ENABLE_WARN&&console.warn&&console.warn(hn)},qe.d=function(En,vn){(!En||qe.FORCE_GLOBAL_TAG)&&(En=qe.GLOBAL_TAG);var hn="["+En+"] > "+vn;qe.ENABLE_CALLBACK&&qe.emitter.emit("log","debug",hn),qe.ENABLE_DEBUG&&console.debug&&console.debug(hn)},qe.v=function(En,vn){(!En||qe.FORCE_GLOBAL_TAG)&&(En=qe.GLOBAL_TAG);var hn="["+En+"] > "+vn;qe.ENABLE_CALLBACK&&qe.emitter.emit("log","verbose",hn),qe.ENABLE_VERBOSE},qe}();Ve.GLOBAL_TAG="flv.js",Ve.FORCE_GLOBAL_TAG=!1,Ve.ENABLE_ERROR=!0,Ve.ENABLE_INFO=!0,Ve.ENABLE_WARN=!0,Ve.ENABLE_DEBUG=!0,Ve.ENABLE_VERBOSE=!0,Ve.ENABLE_CALLBACK=!1,Ve.emitter=new(ze()),Fe.default=Ve},"./src/utils/logging-control.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=Ue("./node_modules/events/events.js"),ze=Ue.n($e),Ve=Ue("./src/utils/logger.js"),qe=function(){function En(){}return Object.defineProperty(En,"forceGlobalTag",{get:function(){return Ve.default.FORCE_GLOBAL_TAG},set:function(vn){Ve.default.FORCE_GLOBAL_TAG=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"globalTag",{get:function(){return Ve.default.GLOBAL_TAG},set:function(vn){Ve.default.GLOBAL_TAG=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"enableAll",{get:function(){return Ve.default.ENABLE_VERBOSE&&Ve.default.ENABLE_DEBUG&&Ve.default.ENABLE_INFO&&Ve.default.ENABLE_WARN&&Ve.default.ENABLE_ERROR},set:function(vn){Ve.default.ENABLE_VERBOSE=vn,Ve.default.ENABLE_DEBUG=vn,Ve.default.ENABLE_INFO=vn,Ve.default.ENABLE_WARN=vn,Ve.default.ENABLE_ERROR=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"enableDebug",{get:function(){return Ve.default.ENABLE_DEBUG},set:function(vn){Ve.default.ENABLE_DEBUG=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"enableVerbose",{get:function(){return Ve.default.ENABLE_VERBOSE},set:function(vn){Ve.default.ENABLE_VERBOSE=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"enableInfo",{get:function(){return Ve.default.ENABLE_INFO},set:function(vn){Ve.default.ENABLE_INFO=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"enableWarn",{get:function(){return Ve.default.ENABLE_WARN},set:function(vn){Ve.default.ENABLE_WARN=vn,En._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(En,"enableError",{get:function(){return Ve.default.ENABLE_ERROR},set:function(vn){Ve.default.ENABLE_ERROR=vn,En._notifyChange()},enumerable:!1,configurable:!0}),En.getConfig=function(){return{globalTag:Ve.default.GLOBAL_TAG,forceGlobalTag:Ve.default.FORCE_GLOBAL_TAG,enableVerbose:Ve.default.ENABLE_VERBOSE,enableDebug:Ve.default.ENABLE_DEBUG,enableInfo:Ve.default.ENABLE_INFO,enableWarn:Ve.default.ENABLE_WARN,enableError:Ve.default.ENABLE_ERROR,enableCallback:Ve.default.ENABLE_CALLBACK}},En.applyConfig=function(vn){Ve.default.GLOBAL_TAG=vn.globalTag,Ve.default.FORCE_GLOBAL_TAG=vn.forceGlobalTag,Ve.default.ENABLE_VERBOSE=vn.enableVerbose,Ve.default.ENABLE_DEBUG=vn.enableDebug,Ve.default.ENABLE_INFO=vn.enableInfo,Ve.default.ENABLE_WARN=vn.enableWarn,Ve.default.ENABLE_ERROR=vn.enableError,Ve.default.ENABLE_CALLBACK=vn.enableCallback},En._notifyChange=function(){var vn=En.emitter;if(vn.listenerCount("change")>0){var hn=En.getConfig();vn.emit("change",hn)}},En.registerListener=function(vn){En.emitter.addListener("change",vn)},En.removeListener=function(vn){En.emitter.removeListener("change",vn)},En.addLogListener=function(vn){Ve.default.emitter.addListener("log",vn),Ve.default.emitter.listenerCount("log")>0&&(Ve.default.ENABLE_CALLBACK=!0,En._notifyChange())},En.removeLogListener=function(vn){Ve.default.emitter.removeListener("log",vn),Ve.default.emitter.listenerCount("log")===0&&(Ve.default.ENABLE_CALLBACK=!1,En._notifyChange())},En}();qe.emitter=new(ze()),Fe.default=qe},"./src/utils/polyfill.js":function(Ne,Fe,Ue){Ue.r(Fe);var $e=function(){function ze(){}return ze.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(Ve,qe){return Ve.__proto__=qe,Ve},Object.assign=Object.assign||function(Ve){if(Ve==null)throw new TypeError("Cannot convert undefined or null to object");for(var qe=Object(Ve),En=1;En<arguments.length;En++){var vn=arguments[En];if(vn!=null)for(var hn in vn)vn.hasOwnProperty(hn)&&(qe[hn]=vn[hn])}return qe},typeof self.Promise!="function"&&Ue("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},ze}();$e.install(),Fe.default=$e},"./src/utils/utf8-conv.js":function(Ne,Fe,Ue){Ue.r(Fe);function $e(Ve,qe,En){var vn=Ve;if(qe+En<vn.length){for(;En--;)if((vn[++qe]&192)!==128)return!1;return!0}else return!1}function ze(Ve){for(var qe=[],En=Ve,vn=0,hn=Ve.length;vn<hn;){if(En[vn]<128){qe.push(String.fromCharCode(En[vn])),++vn;continue}else if(!(En[vn]<192)){if(En[vn]<224){if($e(En,vn,1)){var _n=(En[vn]&31)<<6|En[vn+1]&63;if(_n>=128){qe.push(String.fromCharCode(_n&65535)),vn+=2;continue}}}else if(En[vn]<240){if($e(En,vn,2)){var _n=(En[vn]&15)<<12|(En[vn+1]&63)<<6|En[vn+2]&63;if(_n>=2048&&(_n&63488)!==55296){qe.push(String.fromCharCode(_n&65535)),vn+=3;continue}}}else if(En[vn]<248&&$e(En,vn,3)){var _n=(En[vn]&7)<<18|(En[vn+1]&63)<<12|(En[vn+2]&63)<<6|En[vn+3]&63;if(_n>65536&&_n<1114112){_n-=65536,qe.push(String.fromCharCode(_n>>>10|55296)),qe.push(String.fromCharCode(_n&1023|56320)),vn+=4;continue}}}qe.push("�"),++vn}return qe.join("")}Fe.default=ze}},Ce={};function Ie(Ne){var Fe=Ce[Ne];if(Fe!==void 0)return Fe.exports;var Ue=Ce[Ne]={exports:{}};return _e[Ne].call(Ue.exports,Ue,Ue.exports,Ie),Ue.exports}Ie.m=_e,function(){Ie.n=function(Ne){var Fe=Ne&&Ne.__esModule?function(){return Ne.default}:function(){return Ne};return Ie.d(Fe,{a:Fe}),Fe}}(),function(){Ie.d=function(Ne,Fe){for(var Ue in Fe)Ie.o(Fe,Ue)&&!Ie.o(Ne,Ue)&&Object.defineProperty(Ne,Ue,{enumerable:!0,get:Fe[Ue]})}}(),function(){Ie.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ne){if(typeof window=="object")return window}}()}(),function(){Ie.o=function(Ne,Fe){return Object.prototype.hasOwnProperty.call(Ne,Fe)}}(),function(){Ie.r=function(Ne){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ne,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ne,"__esModule",{value:!0})}}();var Oe=Ie("./src/index.js");return Oe}()})})(flv);var flvExports=flv.exports;const flvjs=getDefaultExportFromCjs$1(flvExports);var t=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(xe,pe,_e)=>pe in xe?t(xe,pe,{enumerable:!0,configurable:!0,writable:!0,value:_e}):xe[pe]=_e,o=(xe,pe)=>{for(var _e in pe||(pe={}))n.call(pe,_e)&&s(xe,_e,pe[_e]);if(i)for(var _e of i(pe))a.call(pe,_e)&&s(xe,_e,pe[_e]);return xe},l=(xe,pe)=>e(xe,r(pe));function K(xe,pe,_e,Ce){var Ie,Oe=!1,Ne=0;function Fe(){Ie&&clearTimeout(Ie)}function Ue(){for(var $e=arguments.length,ze=new Array($e),Ve=0;Ve<$e;Ve++)ze[Ve]=arguments[Ve];var qe=this,En=Date.now()-Ne;function vn(){Ne=Date.now(),_e.apply(qe,ze)}function hn(){Ie=void 0}Oe||(Ce&&!Ie&&vn(),Fe(),Ce===void 0&&En>xe?vn():pe!==!0&&(Ie=setTimeout(Ce?hn:vn,Ce===void 0?xe-En:xe)))}return typeof pe!="boolean"&&(Ce=_e,_e=pe,pe=void 0),Ue.cancel=function(){Fe(),Oe=!0},Ue}function V(xe,pe,_e){return _e===void 0?K(xe,pe,!1):K(xe,_e,pe!==!1)}function H(xe){return xe&&xe.__esModule&&Object.prototype.hasOwnProperty.call(xe,"default")?xe.default:xe}var W={exports:{}};typeof window<"u"&&(W.exports=function(xe){var pe={};function _e(Ce){if(pe[Ce])return pe[Ce].exports;var Ie=pe[Ce]={i:Ce,l:!1,exports:{}};return xe[Ce].call(Ie.exports,Ie,Ie.exports,_e),Ie.l=!0,Ie.exports}return _e.m=xe,_e.c=pe,_e.d=function(Ce,Ie,Oe){_e.o(Ce,Ie)||Object.defineProperty(Ce,Ie,{enumerable:!0,get:Oe})},_e.r=function(Ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ce,"__esModule",{value:!0})},_e.t=function(Ce,Ie){if(1&Ie&&(Ce=_e(Ce)),8&Ie||4&Ie&&typeof Ce=="object"&&Ce&&Ce.__esModule)return Ce;var Oe=Object.create(null);if(_e.r(Oe),Object.defineProperty(Oe,"default",{enumerable:!0,value:Ce}),2&Ie&&typeof Ce!="string")for(var Ne in Ce)_e.d(Oe,Ne,(function(Fe){return Ce[Fe]}).bind(null,Ne));return Oe},_e.n=function(Ce){var Ie=Ce&&Ce.__esModule?function(){return Ce.default}:function(){return Ce};return _e.d(Ie,"a",Ie),Ie},_e.o=function(Ce,Ie){return Object.prototype.hasOwnProperty.call(Ce,Ie)},_e.p="/dist/",_e(_e.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(xe,pe,_e){var Ce=Object.prototype.hasOwnProperty,Ie="~";function Oe(){}function Ne(ze,Ve,qe){this.fn=ze,this.context=Ve,this.once=qe||!1}function Fe(ze,Ve,qe,En,vn){if(typeof qe!="function")throw new TypeError("The listener must be a function");var hn=new Ne(qe,En||ze,vn),_n=Ie?Ie+Ve:Ve;return ze._events[_n]?ze._events[_n].fn?ze._events[_n]=[ze._events[_n],hn]:ze._events[_n].push(hn):(ze._events[_n]=hn,ze._eventsCount++),ze}function Ue(ze,Ve){--ze._eventsCount==0?ze._events=new Oe:delete ze._events[Ve]}function $e(){this._events=new Oe,this._eventsCount=0}Object.create&&(Oe.prototype=Object.create(null),new Oe().__proto__||(Ie=!1)),$e.prototype.eventNames=function(){var ze,Ve,qe=[];if(this._eventsCount===0)return qe;for(Ve in ze=this._events)Ce.call(ze,Ve)&&qe.push(Ie?Ve.slice(1):Ve);return Object.getOwnPropertySymbols?qe.concat(Object.getOwnPropertySymbols(ze)):qe},$e.prototype.listeners=function(ze){var Ve=Ie?Ie+ze:ze,qe=this._events[Ve];if(!qe)return[];if(qe.fn)return[qe.fn];for(var En=0,vn=qe.length,hn=new Array(vn);En<vn;En++)hn[En]=qe[En].fn;return hn},$e.prototype.listenerCount=function(ze){var Ve=Ie?Ie+ze:ze,qe=this._events[Ve];return qe?qe.fn?1:qe.length:0},$e.prototype.emit=function(ze,Ve,qe,En,vn,hn){var _n=Ie?Ie+ze:ze;if(!this._events[_n])return!1;var bn,An,xn=this._events[_n],Sn=arguments.length;if(xn.fn){switch(xn.once&&this.removeListener(ze,xn.fn,void 0,!0),Sn){case 1:return xn.fn.call(xn.context),!0;case 2:return xn.fn.call(xn.context,Ve),!0;case 3:return xn.fn.call(xn.context,Ve,qe),!0;case 4:return xn.fn.call(xn.context,Ve,qe,En),!0;case 5:return xn.fn.call(xn.context,Ve,qe,En,vn),!0;case 6:return xn.fn.call(xn.context,Ve,qe,En,vn,hn),!0}for(An=1,bn=new Array(Sn-1);An<Sn;An++)bn[An-1]=arguments[An];xn.fn.apply(xn.context,bn)}else{var Cn,Tn=xn.length;for(An=0;An<Tn;An++)switch(xn[An].once&&this.removeListener(ze,xn[An].fn,void 0,!0),Sn){case 1:xn[An].fn.call(xn[An].context);break;case 2:xn[An].fn.call(xn[An].context,Ve);break;case 3:xn[An].fn.call(xn[An].context,Ve,qe);break;case 4:xn[An].fn.call(xn[An].context,Ve,qe,En);break;default:if(!bn)for(Cn=1,bn=new Array(Sn-1);Cn<Sn;Cn++)bn[Cn-1]=arguments[Cn];xn[An].fn.apply(xn[An].context,bn)}}return!0},$e.prototype.on=function(ze,Ve,qe){return Fe(this,ze,Ve,qe,!1)},$e.prototype.once=function(ze,Ve,qe){return Fe(this,ze,Ve,qe,!0)},$e.prototype.removeListener=function(ze,Ve,qe,En){var vn=Ie?Ie+ze:ze;if(!this._events[vn])return this;if(!Ve)return Ue(this,vn),this;var hn=this._events[vn];if(hn.fn)hn.fn!==Ve||En&&!hn.once||qe&&hn.context!==qe||Ue(this,vn);else{for(var _n=0,bn=[],An=hn.length;_n<An;_n++)(hn[_n].fn!==Ve||En&&!hn[_n].once||qe&&hn[_n].context!==qe)&&bn.push(hn[_n]);bn.length?this._events[vn]=bn.length===1?bn[0]:bn:Ue(this,vn)}return this},$e.prototype.removeAllListeners=function(ze){var Ve;return ze?(Ve=Ie?Ie+ze:ze,this._events[Ve]&&Ue(this,Ve)):(this._events=new Oe,this._eventsCount=0),this},$e.prototype.off=$e.prototype.removeListener,$e.prototype.addListener=$e.prototype.on,$e.prefixed=Ie,$e.EventEmitter=$e,xe.exports=$e},"./node_modules/url-toolkit/src/url-toolkit.js":function(xe,pe,_e){var Ce,Ie,Oe,Ne,Fe;Ce=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,Ie=/^([^\/?#]*)([^]*)$/,Oe=/(?:\/|^)\.(?=\/)/g,Ne=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,Fe={buildAbsoluteURL:function(Ue,$e,ze){if(ze=ze||{},Ue=Ue.trim(),!($e=$e.trim())){if(!ze.alwaysNormalize)return Ue;var Ve=Fe.parseURL(Ue);if(!Ve)throw new Error("Error trying to parse base URL.");return Ve.path=Fe.normalizePath(Ve.path),Fe.buildURLFromParts(Ve)}var qe=Fe.parseURL($e);if(!qe)throw new Error("Error trying to parse relative URL.");if(qe.scheme)return ze.alwaysNormalize?(qe.path=Fe.normalizePath(qe.path),Fe.buildURLFromParts(qe)):$e;var En=Fe.parseURL(Ue);if(!En)throw new Error("Error trying to parse base URL.");if(!En.netLoc&&En.path&&En.path[0]!=="/"){var vn=Ie.exec(En.path);En.netLoc=vn[1],En.path=vn[2]}En.netLoc&&!En.path&&(En.path="/");var hn={scheme:En.scheme,netLoc:qe.netLoc,path:null,params:qe.params,query:qe.query,fragment:qe.fragment};if(!qe.netLoc&&(hn.netLoc=En.netLoc,qe.path[0]!=="/"))if(qe.path){var _n=En.path,bn=_n.substring(0,_n.lastIndexOf("/")+1)+qe.path;hn.path=Fe.normalizePath(bn)}else hn.path=En.path,qe.params||(hn.params=En.params,qe.query||(hn.query=En.query));return hn.path===null&&(hn.path=ze.alwaysNormalize?Fe.normalizePath(qe.path):qe.path),Fe.buildURLFromParts(hn)},parseURL:function(Ue){var $e=Ce.exec(Ue);return $e?{scheme:$e[1]||"",netLoc:$e[2]||"",path:$e[3]||"",params:$e[4]||"",query:$e[5]||"",fragment:$e[6]||""}:null},normalizePath:function(Ue){for(Ue=Ue.split("").reverse().join("").replace(Oe,"");Ue.length!==(Ue=Ue.replace(Ne,"")).length;);return Ue.split("").reverse().join("")},buildURLFromParts:function(Ue){return Ue.scheme+Ue.netLoc+Ue.path+Ue.params+Ue.query+Ue.fragment}},xe.exports=Fe},"./node_modules/webworkify-webpack/index.js":function(xe,pe,_e){function Ce($e){var ze={};function Ve(En){if(ze[En])return ze[En].exports;var vn=ze[En]={i:En,l:!1,exports:{}};return $e[En].call(vn.exports,vn,vn.exports,Ve),vn.l=!0,vn.exports}Ve.m=$e,Ve.c=ze,Ve.i=function(En){return En},Ve.d=function(En,vn,hn){Ve.o(En,vn)||Object.defineProperty(En,vn,{configurable:!1,enumerable:!0,get:hn})},Ve.r=function(En){Object.defineProperty(En,"__esModule",{value:!0})},Ve.n=function(En){var vn=En&&En.__esModule?function(){return En.default}:function(){return En};return Ve.d(vn,"a",vn),vn},Ve.o=function(En,vn){return Object.prototype.hasOwnProperty.call(En,vn)},Ve.p="/",Ve.oe=function(En){throw console.error(En),En};var qe=Ve(Ve.s=ENTRY_MODULE);return qe.default||qe}var Ie="[\\.|\\-|\\+|\\w|/|@]+",Oe="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function Ne($e){return($e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function Fe($e,ze,Ve){var qe={};qe[Ve]=[];var En=ze.toString(),vn=En.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!vn)return qe;for(var hn,_n=vn[1],bn=new RegExp("(\\\\n|\\W)"+Ne(_n)+Oe,"g");hn=bn.exec(En);)hn[3]!=="dll-reference"&&qe[Ve].push(hn[3]);for(bn=new RegExp("\\("+Ne(_n)+'\\("(dll-reference\\s('+Ie+'))"\\)\\)'+Oe,"g");hn=bn.exec(En);)$e[hn[2]]||(qe[Ve].push(hn[1]),$e[hn[2]]=_e(hn[1]).m),qe[hn[2]]=qe[hn[2]]||[],qe[hn[2]].push(hn[4]);for(var An,xn=Object.keys(qe),Sn=0;Sn<xn.length;Sn++)for(var Cn=0;Cn<qe[xn[Sn]].length;Cn++)An=qe[xn[Sn]][Cn],isNaN(1*An)||(qe[xn[Sn]][Cn]=1*qe[xn[Sn]][Cn]);return qe}function Ue($e){return Object.keys($e).reduce(function(ze,Ve){return ze||$e[Ve].length>0},!1)}xe.exports=function($e,ze){ze=ze||{};var Ve={main:_e.m},qe=ze.all?{main:Object.keys(Ve.main)}:function(bn,An){for(var xn={main:[An]},Sn={main:[]},Cn={main:{}};Ue(xn);)for(var Tn=Object.keys(xn),wn=0;wn<Tn.length;wn++){var Ln=Tn[wn],Pn=xn[Ln].pop();if(Cn[Ln]=Cn[Ln]||{},!Cn[Ln][Pn]&&bn[Ln][Pn]){Cn[Ln][Pn]=!0,Sn[Ln]=Sn[Ln]||[],Sn[Ln].push(Pn);for(var kn=Fe(bn,bn[Ln][Pn],Ln),In=Object.keys(kn),Rn=0;Rn<In.length;Rn++)xn[In[Rn]]=xn[In[Rn]]||[],xn[In[Rn]]=xn[In[Rn]].concat(kn[In[Rn]])}}return Sn}(Ve,$e),En="";Object.keys(qe).filter(function(bn){return bn!=="main"}).forEach(function(bn){for(var An=0;qe[bn][An];)An++;qe[bn].push(An),Ve[bn][An]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",En=En+"var "+bn+" = ("+Ce.toString().replace("ENTRY_MODULE",JSON.stringify(An))+")({"+qe[bn].map(function(xn){return JSON.stringify(xn)+": "+Ve[bn][xn].toString()}).join(",")+"});\n"}),En=En+"new (("+Ce.toString().replace("ENTRY_MODULE",JSON.stringify($e))+")({"+qe.main.map(function(bn){return JSON.stringify(bn)+": "+Ve.main[bn].toString()}).join(",")+"}))(self);";var vn=new window.Blob([En],{type:"text/javascript"});if(ze.bare)return vn;var hn=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(vn),_n=new window.Worker(hn);return _n.objectURL=hn,_n}},"./src/config.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"hlsDefaultConfig",function(){return Tn}),_e.d(pe,"mergeConfig",function(){return wn}),_e.d(pe,"enableStreamingMode",function(){return Ln});var Ce=_e("./src/controller/abr-controller.ts"),Ie=_e("./src/controller/audio-stream-controller.ts"),Oe=_e("./src/controller/audio-track-controller.ts"),Ne=_e("./src/controller/subtitle-stream-controller.ts"),Fe=_e("./src/controller/subtitle-track-controller.ts"),Ue=_e("./src/controller/buffer-controller.ts"),$e=_e("./src/controller/timeline-controller.ts"),ze=_e("./src/controller/cap-level-controller.ts"),Ve=_e("./src/controller/fps-controller.ts"),qe=_e("./src/controller/eme-controller.ts"),En=_e("./src/utils/xhr-loader.ts"),vn=_e("./src/utils/fetch-loader.ts"),hn=_e("./src/utils/cues.ts"),_n=_e("./src/utils/mediakeys-helper.ts"),bn=_e("./src/utils/logger.ts");function An(){return(An=Object.assign||function(Pn){for(var kn=1;kn<arguments.length;kn++){var In=arguments[kn];for(var Rn in In)Object.prototype.hasOwnProperty.call(In,Rn)&&(Pn[Rn]=In[Rn])}return Pn}).apply(this,arguments)}function xn(Pn,kn){var In=Object.keys(Pn);if(Object.getOwnPropertySymbols){var Rn=Object.getOwnPropertySymbols(Pn);kn&&(Rn=Rn.filter(function(Nn){return Object.getOwnPropertyDescriptor(Pn,Nn).enumerable})),In.push.apply(In,Rn)}return In}function Sn(Pn){for(var kn=1;kn<arguments.length;kn++){var In=arguments[kn]!=null?arguments[kn]:{};kn%2?xn(Object(In),!0).forEach(function(Rn){Cn(Pn,Rn,In[Rn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pn,Object.getOwnPropertyDescriptors(In)):xn(Object(In)).forEach(function(Rn){Object.defineProperty(Pn,Rn,Object.getOwnPropertyDescriptor(In,Rn))})}return Pn}function Cn(Pn,kn,In){return kn in Pn?Object.defineProperty(Pn,kn,{value:In,enumerable:!0,configurable:!0,writable:!0}):Pn[kn]=In,Pn}var Tn=Sn(Sn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:En.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Ce.default,bufferController:Ue.default,capLevelController:ze.default,fpsController:Ve.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:_n.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:hn.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Ne.SubtitleStreamController,subtitleTrackController:Fe.default,timelineController:$e.TimelineController,audioStreamController:Ie.default,audioTrackController:Oe.default,emeController:qe.default});function wn(Pn,kn){if((kn.liveSyncDurationCount||kn.liveMaxLatencyDurationCount)&&(kn.liveSyncDuration||kn.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(kn.liveMaxLatencyDurationCount!==void 0&&(kn.liveSyncDurationCount===void 0||kn.liveMaxLatencyDurationCount<=kn.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(kn.liveMaxLatencyDuration!==void 0&&(kn.liveSyncDuration===void 0||kn.liveMaxLatencyDuration<=kn.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return An({},Pn,kn)}function Ln(Pn){var kn=Pn.loader;kn!==vn.default&&kn!==En.default?(bn.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),Pn.progressive=!1):Object(vn.fetchSupported)()&&(Pn.loader=vn.default,Pn.progressive=!0,Pn.enableSoftwareAES=!0,bn.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/utils/ewma-bandwidth-estimator.ts"),Oe=_e("./src/events.ts"),Ne=_e("./src/utils/buffer-helper.ts"),Fe=_e("./src/errors.ts"),Ue=_e("./src/types/loader.ts"),$e=_e("./src/utils/logger.ts");function ze(qe,En){for(var vn=0;vn<En.length;vn++){var hn=En[vn];hn.enumerable=hn.enumerable||!1,hn.configurable=!0,"value"in hn&&(hn.writable=!0),Object.defineProperty(qe,hn.key,hn)}}var Ve=function(){function qe(_n){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=_n;var bn=_n.config;this.bwEstimator=new Ie.default(bn.abrEwmaSlowVoD,bn.abrEwmaFastVoD,bn.abrEwmaDefaultEstimate),this.registerListeners()}var En,vn,hn=qe.prototype;return hn.registerListeners=function(){var _n=this.hls;_n.on(Oe.Events.FRAG_LOADING,this.onFragLoading,this),_n.on(Oe.Events.FRAG_LOADED,this.onFragLoaded,this),_n.on(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this),_n.on(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),_n.on(Oe.Events.ERROR,this.onError,this)},hn.unregisterListeners=function(){var _n=this.hls;_n.off(Oe.Events.FRAG_LOADING,this.onFragLoading,this),_n.off(Oe.Events.FRAG_LOADED,this.onFragLoaded,this),_n.off(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this),_n.off(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),_n.off(Oe.Events.ERROR,this.onError,this)},hn.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},hn.onFragLoading=function(_n,bn){var An,xn=bn.frag;xn.type===Ue.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=xn,this.partCurrent=(An=bn.part)!=null?An:null,this.timer=self.setInterval(this.onCheck,100)))},hn.onLevelLoaded=function(_n,bn){var An=this.hls.config;bn.details.live?this.bwEstimator.update(An.abrEwmaSlowLive,An.abrEwmaFastLive):this.bwEstimator.update(An.abrEwmaSlowVoD,An.abrEwmaFastVoD)},hn._abandonRulesCheck=function(){var _n=this.fragCurrent,bn=this.partCurrent,An=this.hls,xn=An.autoLevelEnabled,Sn=An.config,Cn=An.media;if(_n&&Cn){var Tn=bn?bn.stats:_n.stats,wn=bn?bn.duration:_n.duration;if(Tn.aborted)return $e.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(xn&&!Cn.paused&&Cn.playbackRate&&Cn.readyState){var Ln=performance.now()-Tn.loading.start,Pn=Math.abs(Cn.playbackRate);if(!(Ln<=500*wn/Pn)){var kn=An.levels,In=An.minAutoLevel,Rn=kn[_n.level],Nn=Tn.total||Math.max(Tn.loaded,Math.round(wn*Rn.maxBitrate/8)),On=Math.max(1,Tn.bwEstimate?Tn.bwEstimate/8:1e3*Tn.loaded/Ln),Dn=(Nn-Tn.loaded)/On,Mn=Cn.currentTime,Bn=(Ne.BufferHelper.bufferInfo(Cn,Mn,Sn.maxBufferHole).end-Mn)/Pn;if(!(Bn>=2*wn/Pn||Dn<=Bn)){var $n,Fn=Number.POSITIVE_INFINITY;for($n=_n.level-1;$n>In&&!((Fn=wn*kn[$n].maxBitrate/(6.4*On))<Bn);$n--);if(!(Fn>=Dn)){var Un=this.bwEstimator.getEstimate();$e.logger.warn("Fragment "+_n.sn+(bn?" part "+bn.index:"")+" of level "+_n.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+$n+"\n      Current BW estimate: "+(Object(Ce.isFiniteNumber)(Un)?(Un/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+Dn.toFixed(3)+" s\n      Estimated load time for the next fragment: "+Fn.toFixed(3)+" s\n      Time to underbuffer: "+Bn.toFixed(3)+" s"),An.nextLoadLevel=$n,this.bwEstimator.sample(Ln,Tn.loaded),this.clearTimer(),_n.loader&&(this.fragCurrent=this.partCurrent=null,_n.loader.abort()),An.trigger(Oe.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:_n,part:bn,stats:Tn})}}}}}},hn.onFragLoaded=function(_n,bn){var An=bn.frag,xn=bn.part;if(An.type===Ue.PlaylistLevelType.MAIN&&Object(Ce.isFiniteNumber)(An.sn)){var Sn=xn?xn.stats:An.stats,Cn=xn?xn.duration:An.duration;if(this.clearTimer(),this.lastLoadedFragLevel=An.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var Tn=this.hls.levels[An.level],wn=(Tn.loaded?Tn.loaded.bytes:0)+Sn.loaded,Ln=(Tn.loaded?Tn.loaded.duration:0)+Cn;Tn.loaded={bytes:wn,duration:Ln},Tn.realBitrate=Math.round(8*wn/Ln)}if(An.bitrateTest){var Pn={stats:Sn,frag:An,part:xn,id:An.type};this.onFragBuffered(Oe.Events.FRAG_BUFFERED,Pn),An.bitrateTest=!1}}},hn.onFragBuffered=function(_n,bn){var An=bn.frag,xn=bn.part,Sn=xn?xn.stats:An.stats;if(!Sn.aborted&&An.type===Ue.PlaylistLevelType.MAIN&&An.sn!=="initSegment"){var Cn=Sn.parsing.end-Sn.loading.start;this.bwEstimator.sample(Cn,Sn.loaded),Sn.bwEstimate=this.bwEstimator.getEstimate(),An.bitrateTest?this.bitrateTestDelay=Cn/1e3:this.bitrateTestDelay=0}},hn.onError=function(_n,bn){switch(bn.details){case Fe.ErrorDetails.FRAG_LOAD_ERROR:case Fe.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},hn.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},hn.getNextABRAutoLevel=function(){var _n=this.fragCurrent,bn=this.partCurrent,An=this.hls,xn=An.maxAutoLevel,Sn=An.config,Cn=An.minAutoLevel,Tn=An.media,wn=bn?bn.duration:_n?_n.duration:0,Ln=Tn?Tn.currentTime:0,Pn=Tn&&Tn.playbackRate!==0?Math.abs(Tn.playbackRate):1,kn=this.bwEstimator?this.bwEstimator.getEstimate():Sn.abrEwmaDefaultEstimate,In=(Ne.BufferHelper.bufferInfo(Tn,Ln,Sn.maxBufferHole).end-Ln)/Pn,Rn=this.findBestLevel(kn,Cn,xn,In,Sn.abrBandWidthFactor,Sn.abrBandWidthUpFactor);if(Rn>=0)return Rn;$e.logger.trace((In?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var Nn=wn?Math.min(wn,Sn.maxStarvationDelay):Sn.maxStarvationDelay,On=Sn.abrBandWidthFactor,Dn=Sn.abrBandWidthUpFactor;if(!In){var Mn=this.bitrateTestDelay;Mn&&(Nn=(wn?Math.min(wn,Sn.maxLoadingDelay):Sn.maxLoadingDelay)-Mn,$e.logger.trace("bitrate test took "+Math.round(1e3*Mn)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*Nn)+" ms"),On=Dn=1)}return Rn=this.findBestLevel(kn,Cn,xn,In+Nn,On,Dn),Math.max(Rn,0)},hn.findBestLevel=function(_n,bn,An,xn,Sn,Cn){for(var Tn,wn=this.fragCurrent,Ln=this.partCurrent,Pn=this.lastLoadedFragLevel,kn=this.hls.levels,In=kn[Pn],Rn=!(In==null||(Tn=In.details)===null||Tn===void 0||!Tn.live),Nn=In==null?void 0:In.codecSet,On=Ln?Ln.duration:wn?wn.duration:0,Dn=An;Dn>=bn;Dn--){var Mn=kn[Dn];if(Mn&&(!Nn||Mn.codecSet===Nn)){var Bn=Mn.details,$n=(Ln?Bn==null?void 0:Bn.partTarget:Bn==null?void 0:Bn.averagetargetduration)||On,Fn=void 0;Fn=Dn<=Pn?Sn*_n:Cn*_n;var Un=kn[Dn].maxBitrate,Hn=Un*$n/Fn;if($e.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+Dn+"/"+Math.round(Fn)+"/"+Un+"/"+$n+"/"+xn+"/"+Hn),Fn>Un&&(!Hn||Rn&&!this.bitrateTestDelay||Hn<xn))return Dn}}return-1},En=qe,(vn=[{key:"nextAutoLevel",get:function(){var _n=this._nextAutoLevel,bn=this.bwEstimator;if(!(_n===-1||bn&&bn.canEstimate()))return _n;var An=this.getNextABRAutoLevel();return _n!==-1&&(An=Math.min(_n,An)),An},set:function(_n){this._nextAutoLevel=_n}}])&&ze(En.prototype,vn),qe}();pe.default=Ve},"./src/controller/audio-stream-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/controller/base-stream-controller.ts"),Oe=_e("./src/events.ts"),Ne=_e("./src/utils/buffer-helper.ts"),Fe=_e("./src/controller/fragment-tracker.ts"),Ue=_e("./src/types/level.ts"),$e=_e("./src/types/loader.ts"),ze=_e("./src/loader/fragment.ts"),Ve=_e("./src/demux/chunk-cache.ts"),qe=_e("./src/demux/transmuxer-interface.ts"),En=_e("./src/types/transmuxer.ts"),vn=_e("./src/controller/fragment-finders.ts"),hn=_e("./src/utils/discontinuities.ts"),_n=_e("./src/errors.ts"),bn=_e("./src/utils/logger.ts");function An(){return(An=Object.assign||function(Cn){for(var Tn=1;Tn<arguments.length;Tn++){var wn=arguments[Tn];for(var Ln in wn)Object.prototype.hasOwnProperty.call(wn,Ln)&&(Cn[Ln]=wn[Ln])}return Cn}).apply(this,arguments)}function xn(Cn,Tn){return(xn=Object.setPrototypeOf||function(wn,Ln){return wn.__proto__=Ln,wn})(Cn,Tn)}var Sn=function(Cn){var Tn,wn;function Ln(kn,In){var Rn;return(Rn=Cn.call(this,kn,In,"[audio-stream-controller]")||this).videoBuffer=null,Rn.videoTrackCC=-1,Rn.waitingVideoCC=-1,Rn.audioSwitch=!1,Rn.trackId=-1,Rn.waitingData=null,Rn.mainDetails=null,Rn.bufferFlushed=!1,Rn._registerListeners(),Rn}wn=Cn,(Tn=Ln).prototype=Object.create(wn.prototype),Tn.prototype.constructor=Tn,xn(Tn,wn);var Pn=Ln.prototype;return Pn.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},Pn._registerListeners=function(){var kn=this.hls;kn.on(Oe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),kn.on(Oe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),kn.on(Oe.Events.MANIFEST_LOADING,this.onManifestLoading,this),kn.on(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),kn.on(Oe.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),kn.on(Oe.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),kn.on(Oe.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),kn.on(Oe.Events.ERROR,this.onError,this),kn.on(Oe.Events.BUFFER_RESET,this.onBufferReset,this),kn.on(Oe.Events.BUFFER_CREATED,this.onBufferCreated,this),kn.on(Oe.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),kn.on(Oe.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),kn.on(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this)},Pn._unregisterListeners=function(){var kn=this.hls;kn.off(Oe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),kn.off(Oe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),kn.off(Oe.Events.MANIFEST_LOADING,this.onManifestLoading,this),kn.off(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),kn.off(Oe.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),kn.off(Oe.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),kn.off(Oe.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),kn.off(Oe.Events.ERROR,this.onError,this),kn.off(Oe.Events.BUFFER_RESET,this.onBufferReset,this),kn.off(Oe.Events.BUFFER_CREATED,this.onBufferCreated,this),kn.off(Oe.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),kn.off(Oe.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),kn.off(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this)},Pn.onInitPtsFound=function(kn,In){var Rn=In.frag,Nn=In.id,On=In.initPTS;if(Nn==="main"){var Dn=Rn.cc;this.initPTS[Rn.cc]=On,this.log("InitPTS for cc: "+Dn+" found from main: "+On),this.videoTrackCC=Dn,this.state===Ie.State.WAITING_INIT_PTS&&this.tick()}},Pn.startLoad=function(kn){if(!this.levels)return this.startPosition=kn,void(this.state=Ie.State.STOPPED);var In=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,In>0&&kn===-1?(this.log("Override startPosition with lastCurrentTime @"+In.toFixed(3)),this.state=Ie.State.IDLE):(this.loadedmetadata=!1,this.state=Ie.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=kn,this.tick()},Pn.doTick=function(){switch(this.state){case Ie.State.IDLE:this.doTickIdle();break;case Ie.State.WAITING_TRACK:var kn,In=this.levels,Rn=this.trackId,Nn=In==null||(kn=In[Rn])===null||kn===void 0?void 0:kn.details;if(Nn){if(this.waitForCdnTuneIn(Nn))break;this.state=Ie.State.WAITING_INIT_PTS}break;case Ie.State.FRAG_LOADING_WAITING_RETRY:var On,Dn=performance.now(),Mn=this.retryDate;(!Mn||Dn>=Mn||(On=this.media)!==null&&On!==void 0&&On.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=Ie.State.IDLE);break;case Ie.State.WAITING_INIT_PTS:var Bn=this.waitingData;if(Bn){var $n=Bn.frag,Fn=Bn.part,Un=Bn.cache,Hn=Bn.complete;if(this.initPTS[$n.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=Ie.State.FRAG_LOADING;var Wn={frag:$n,part:Fn,payload:Un.flush(),networkDetails:null};this._handleFragmentLoadProgress(Wn),Hn&&Cn.prototype._handleFragmentLoadComplete.call(this,Wn)}else if(this.videoTrackCC!==this.waitingVideoCC)bn.logger.log("Waiting fragment cc ("+$n.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Xn=this.getLoadPosition(),or=Ne.BufferHelper.bufferInfo(this.mediaBuffer,Xn,this.config.maxBufferHole);Object(vn.fragmentWithinToleranceTest)(or.end,this.config.maxFragLookUpTolerance,$n)<0&&(bn.logger.log("Waiting fragment cc ("+$n.cc+") @ "+$n.start+" cancelled because another fragment at "+or.end+" is needed"),this.clearWaitingFragment())}}else this.state=Ie.State.IDLE}this.onTickEnd()},Pn.clearWaitingFragment=function(){var kn=this.waitingData;kn&&(this.fragmentTracker.removeFragment(kn.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Ie.State.IDLE)},Pn.onTickEnd=function(){var kn=this.media;if(kn&&kn.readyState){var In=(this.mediaBuffer?this.mediaBuffer:kn).buffered;!this.loadedmetadata&&In.length&&(this.loadedmetadata=!0),this.lastCurrentTime=kn.currentTime}},Pn.doTickIdle=function(){var kn,In,Rn=this.hls,Nn=this.levels,On=this.media,Dn=this.trackId,Mn=Rn.config;if(Nn&&Nn[Dn]&&(On||!this.startFragRequested&&Mn.startFragPrefetch)){var Bn=Nn[Dn].details;if(!Bn||Bn.live&&this.levelLastLoaded!==Dn||this.waitForCdnTuneIn(Bn))this.state=Ie.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,ze.ElementaryStreamTypes.AUDIO,$e.PlaylistLevelType.AUDIO));var $n=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,$e.PlaylistLevelType.AUDIO);if($n!==null){var Fn=$n.len,Un=this.getMaxBufferLength(),Hn=this.audioSwitch;if(!(Fn>=Un)||Hn){if(!Hn&&this._streamEnded($n,Bn))return Rn.trigger(Oe.Events.BUFFER_EOS,{type:"audio"}),void(this.state=Ie.State.ENDED);var Wn=Bn.fragments[0].start,Xn=$n.end;if(Hn){var or=this.getLoadPosition();Xn=or,Bn.PTSKnown&&or<Wn&&($n.end>Wn||$n.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),On.currentTime=Wn+.05)}var fr=this.getNextFragment(Xn,Bn);fr?((kn=fr.decryptdata)===null||kn===void 0?void 0:kn.keyFormat)!=="identity"||(In=fr.decryptdata)!==null&&In!==void 0&&In.key?this.loadFragment(fr,Bn,Xn):this.loadKey(fr,Bn):this.bufferFlushed=!0}}}}},Pn.getMaxBufferLength=function(){var kn=Cn.prototype.getMaxBufferLength.call(this),In=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,$e.PlaylistLevelType.MAIN);return In===null?kn:Math.max(kn,In.len)},Pn.onMediaDetaching=function(){this.videoBuffer=null,Cn.prototype.onMediaDetaching.call(this)},Pn.onAudioTracksUpdated=function(kn,In){var Rn=In.audioTracks;this.resetTransmuxer(),this.levels=Rn.map(function(Nn){return new Ue.Level(Nn)})},Pn.onAudioTrackSwitching=function(kn,In){var Rn=!!In.url;this.trackId=In.id;var Nn=this.fragCurrent;Nn!=null&&Nn.loader&&Nn.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),Rn?this.setInterval(100):this.resetTransmuxer(),Rn?(this.audioSwitch=!0,this.state=Ie.State.IDLE):this.state=Ie.State.STOPPED,this.tick()},Pn.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},Pn.onLevelLoaded=function(kn,In){this.mainDetails=In.details},Pn.onAudioTrackLoaded=function(kn,In){var Rn,Nn=this.levels,On=In.details,Dn=In.id;if(Nn){this.log("Track "+Dn+" loaded ["+On.startSN+","+On.endSN+"],duration:"+On.totalduration);var Mn=Nn[Dn],Bn=0;if(On.live||(Rn=Mn.details)!==null&&Rn!==void 0&&Rn.live){var $n=this.mainDetails;if(On.fragments[0]||(On.deltaUpdateFailed=!0),On.deltaUpdateFailed||!$n)return;!Mn.details&&On.hasProgramDateTime&&$n.hasProgramDateTime?(Object(hn.alignPDT)(On,$n),Bn=On.fragments[0].start):Bn=this.alignPlaylists(On,Mn.details)}Mn.details=On,this.levelLastLoaded=Dn,this.startFragRequested||!this.mainDetails&&On.live||this.setStartPosition(Mn.details,Bn),this.state!==Ie.State.WAITING_TRACK||this.waitForCdnTuneIn(On)||(this.state=Ie.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+Dn)},Pn._handleFragmentLoadProgress=function(kn){var In,Rn=kn.frag,Nn=kn.part,On=kn.payload,Dn=this.config,Mn=this.trackId,Bn=this.levels;if(Bn){var $n=Bn[Mn];console.assert($n,"Audio track is defined on fragment load progress");var Fn=$n.details;console.assert(Fn,"Audio track details are defined on fragment load progress");var Un=Dn.defaultAudioCodec||$n.audioCodec||"mp4a.40.2",Hn=this.transmuxer;Hn||(Hn=this.transmuxer=new qe.default(this.hls,$e.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Wn=this.initPTS[Rn.cc],Xn=(In=Rn.initSegment)===null||In===void 0?void 0:In.data;if(Wn!==void 0){var or=Nn?Nn.index:-1,fr=or!==-1,cr=new En.ChunkMetadata(Rn.level,Rn.sn,Rn.stats.chunkCount,On.byteLength,or,fr);Hn.push(On,Xn,Un,"",Rn,Nn,Fn.totalduration,!1,cr,Wn)}else bn.logger.log("Unknown video PTS for cc "+Rn.cc+", waiting for video PTS before demuxing audio frag "+Rn.sn+" of ["+Fn.startSN+" ,"+Fn.endSN+"],track "+Mn),(this.waitingData=this.waitingData||{frag:Rn,part:Nn,cache:new Ve.default,complete:!1}).cache.push(new Uint8Array(On)),this.waitingVideoCC=this.videoTrackCC,this.state=Ie.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+Rn.sn+" of level "+Rn.level+" will not be buffered")},Pn._handleFragmentLoadComplete=function(kn){this.waitingData?this.waitingData.complete=!0:Cn.prototype._handleFragmentLoadComplete.call(this,kn)},Pn.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},Pn.onBufferCreated=function(kn,In){var Rn=In.tracks.audio;Rn&&(this.mediaBuffer=Rn.buffer),In.tracks.video&&(this.videoBuffer=In.tracks.video.buffer)},Pn.onFragBuffered=function(kn,In){var Rn=In.frag,Nn=In.part;Rn.type===$e.PlaylistLevelType.AUDIO&&(this.fragContextChanged(Rn)?this.warn("Fragment "+Rn.sn+(Nn?" p: "+Nn.index:"")+" of level "+Rn.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(Rn.sn!=="initSegment"&&(this.fragPrevious=Rn,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(Oe.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(Rn,Nn)))},Pn.onError=function(kn,In){switch(In.details){case _n.ErrorDetails.FRAG_LOAD_ERROR:case _n.ErrorDetails.FRAG_LOAD_TIMEOUT:case _n.ErrorDetails.KEY_LOAD_ERROR:case _n.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError($e.PlaylistLevelType.AUDIO,In);break;case _n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case _n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==Ie.State.ERROR&&this.state!==Ie.State.STOPPED&&(this.state=In.fatal?Ie.State.ERROR:Ie.State.IDLE,this.warn(In.details+" while loading frag, switching to "+this.state+" state"));break;case _n.ErrorDetails.BUFFER_FULL_ERROR:if(In.parent==="audio"&&(this.state===Ie.State.PARSING||this.state===Ie.State.PARSED)){var Rn=!0,Nn=this.getFwdBufferInfo(this.mediaBuffer,$e.PlaylistLevelType.AUDIO);Nn&&Nn.len>.5&&(Rn=!this.reduceMaxBufferLength(Nn.len)),Rn&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,Cn.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},Pn.onBufferFlushed=function(kn,In){In.type===ze.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},Pn._handleTransmuxComplete=function(kn){var In,Rn="audio",Nn=this.hls,On=kn.remuxResult,Dn=kn.chunkMeta,Mn=this.getCurrentContext(Dn);if(!Mn)return this.warn("The loading context changed while buffering fragment "+Dn.sn+" of level "+Dn.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(Dn.level);var Bn=Mn.frag,$n=Mn.part,Fn=On.audio,Un=On.text,Hn=On.id3,Wn=On.initSegment;if(!this.fragContextChanged(Bn)){if(this.state=Ie.State.PARSING,this.audioSwitch&&Fn&&this.completeAudioSwitch(),Wn!=null&&Wn.tracks&&(this._bufferInitSegment(Wn.tracks,Bn,Dn),Nn.trigger(Oe.Events.FRAG_PARSING_INIT_SEGMENT,{frag:Bn,id:Rn,tracks:Wn.tracks})),Fn){var Xn=Fn.startPTS,or=Fn.endPTS,fr=Fn.startDTS,cr=Fn.endDTS;$n&&($n.elementaryStreams[ze.ElementaryStreamTypes.AUDIO]={startPTS:Xn,endPTS:or,startDTS:fr,endDTS:cr}),Bn.setElementaryStreamInfo(ze.ElementaryStreamTypes.AUDIO,Xn,or,fr,cr),this.bufferFragmentData(Fn,Bn,$n,Dn)}if(Hn!=null&&(In=Hn.samples)!==null&&In!==void 0&&In.length){var Jn=An({frag:Bn,id:Rn},Hn);Nn.trigger(Oe.Events.FRAG_PARSING_METADATA,Jn)}if(Un){var mr=An({frag:Bn,id:Rn},Un);Nn.trigger(Oe.Events.FRAG_PARSING_USERDATA,mr)}}},Pn._bufferInitSegment=function(kn,In,Rn){if(this.state===Ie.State.PARSING){kn.video&&delete kn.video;var Nn=kn.audio;if(Nn){Nn.levelCodec=Nn.codec,Nn.id="audio",this.log("Init audio buffer, container:"+Nn.container+", codecs[parsed]=["+Nn.codec+"]"),this.hls.trigger(Oe.Events.BUFFER_CODECS,kn);var On=Nn.initSegment;if(On!=null&&On.byteLength){var Dn={type:"audio",frag:In,part:null,chunkMeta:Rn,parent:In.type,data:On};this.hls.trigger(Oe.Events.BUFFER_APPENDING,Dn)}this.tick()}}},Pn.loadFragment=function(kn,In,Rn){var Nn=this.fragmentTracker.getState(kn);this.fragCurrent=kn,(this.audioSwitch||Nn===Fe.FragmentState.NOT_LOADED||Nn===Fe.FragmentState.PARTIAL)&&(kn.sn==="initSegment"?this._loadInitSegment(kn):In.live&&!Object(Ce.isFiniteNumber)(this.initPTS[kn.cc])?(this.log("Waiting for video PTS in continuity counter "+kn.cc+" of live stream before loading audio fragment "+kn.sn+" of level "+this.trackId),this.state=Ie.State.WAITING_INIT_PTS):(this.startFragRequested=!0,Cn.prototype.loadFragment.call(this,kn,In,Rn)))},Pn.completeAudioSwitch=function(){var kn=this.hls,In=this.media,Rn=this.trackId;In&&(this.log("Switching audio track : flushing all audio"),Cn.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,kn.trigger(Oe.Events.AUDIO_TRACK_SWITCHED,{id:Rn})},Ln}(Ie.default);pe.default=Sn},"./src/controller/audio-track-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/events.ts"),Ie=_e("./src/errors.ts"),Oe=_e("./src/controller/base-playlist-controller.ts"),Ne=_e("./src/types/loader.ts");function Fe(ze,Ve){for(var qe=0;qe<Ve.length;qe++){var En=Ve[qe];En.enumerable=En.enumerable||!1,En.configurable=!0,"value"in En&&(En.writable=!0),Object.defineProperty(ze,En.key,En)}}function Ue(ze,Ve){return(Ue=Object.setPrototypeOf||function(qe,En){return qe.__proto__=En,qe})(ze,Ve)}var $e=function(ze){var Ve,qe;function En(bn){var An;return(An=ze.call(this,bn,"[audio-track-controller]")||this).tracks=[],An.groupId=null,An.tracksInGroup=[],An.trackId=-1,An.trackName="",An.selectDefaultTrack=!0,An.registerListeners(),An}qe=ze,(Ve=En).prototype=Object.create(qe.prototype),Ve.prototype.constructor=Ve,Ue(Ve,qe);var vn,hn,_n=En.prototype;return _n.registerListeners=function(){var bn=this.hls;bn.on(Ce.Events.MANIFEST_LOADING,this.onManifestLoading,this),bn.on(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this),bn.on(Ce.Events.LEVEL_LOADING,this.onLevelLoading,this),bn.on(Ce.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),bn.on(Ce.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),bn.on(Ce.Events.ERROR,this.onError,this)},_n.unregisterListeners=function(){var bn=this.hls;bn.off(Ce.Events.MANIFEST_LOADING,this.onManifestLoading,this),bn.off(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this),bn.off(Ce.Events.LEVEL_LOADING,this.onLevelLoading,this),bn.off(Ce.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),bn.off(Ce.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),bn.off(Ce.Events.ERROR,this.onError,this)},_n.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,ze.prototype.destroy.call(this)},_n.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},_n.onManifestParsed=function(bn,An){this.tracks=An.audioTracks||[]},_n.onAudioTrackLoaded=function(bn,An){var xn=An.id,Sn=An.details,Cn=this.tracksInGroup[xn];if(Cn){var Tn=Cn.details;Cn.details=An.details,this.log("audioTrack "+xn+" loaded ["+Sn.startSN+"-"+Sn.endSN+"]"),xn===this.trackId&&(this.retryCount=0,this.playlistLoaded(xn,An,Tn))}else this.warn("Invalid audio track id "+xn)},_n.onLevelLoading=function(bn,An){this.switchLevel(An.level)},_n.onLevelSwitching=function(bn,An){this.switchLevel(An.level)},_n.switchLevel=function(bn){var An=this.hls.levels[bn];if(An!=null&&An.audioGroupIds){var xn=An.audioGroupIds[An.urlId];if(this.groupId!==xn){this.groupId=xn;var Sn=this.tracks.filter(function(Tn){return!xn||Tn.groupId===xn});this.selectDefaultTrack&&!Sn.some(function(Tn){return Tn.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=Sn;var Cn={audioTracks:Sn};this.log("Updating audio tracks, "+Sn.length+' track(s) found in "'+xn+'" group-id'),this.hls.trigger(Ce.Events.AUDIO_TRACKS_UPDATED,Cn),this.selectInitialTrack()}}},_n.onError=function(bn,An){ze.prototype.onError.call(this,bn,An),!An.fatal&&An.context&&An.context.type===Ne.PlaylistContextType.AUDIO_TRACK&&An.context.id===this.trackId&&An.context.groupId===this.groupId&&this.retryLoadingOrFail(An)},_n.setAudioTrack=function(bn){var An=this.tracksInGroup;if(bn<0||bn>=An.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var xn=An[this.trackId];this.log("Now switching to audio-track index "+bn);var Sn=An[bn],Cn=Sn.id,Tn=Sn.groupId,wn=Tn===void 0?"":Tn,Ln=Sn.name,Pn=Sn.type,kn=Sn.url;if(this.trackId=bn,this.trackName=Ln,this.selectDefaultTrack=!1,this.hls.trigger(Ce.Events.AUDIO_TRACK_SWITCHING,{id:Cn,groupId:wn,name:Ln,type:Pn,url:kn}),!Sn.details||Sn.details.live){var In=this.switchParams(Sn.url,xn==null?void 0:xn.details);this.loadPlaylist(In)}}},_n.selectInitialTrack=function(){var bn=this.tracksInGroup;console.assert(bn.length,"Initial audio track should be selected when tracks are known");var An=this.trackName,xn=this.findTrackId(An)||this.findTrackId();xn!==-1?this.setAudioTrack(xn):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.MEDIA_ERROR,details:Ie.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},_n.findTrackId=function(bn){for(var An=this.tracksInGroup,xn=0;xn<An.length;xn++){var Sn=An[xn];if((!this.selectDefaultTrack||Sn.default)&&(!bn||bn===Sn.name))return Sn.id}return-1},_n.loadPlaylist=function(bn){var An=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(An)){var xn=An.id,Sn=An.groupId,Cn=An.url;if(bn)try{Cn=bn.addDirectives(Cn)}catch(Tn){this.warn("Could not construct new URL with HLS Delivery Directives: "+Tn)}this.log("loading audio-track playlist for id: "+xn),this.clearTimer(),this.hls.trigger(Ce.Events.AUDIO_TRACK_LOADING,{url:Cn,id:xn,groupId:Sn,deliveryDirectives:bn||null})}},vn=En,(hn=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(bn){this.selectDefaultTrack=!1,this.setAudioTrack(bn)}}])&&Fe(vn.prototype,hn),En}(Oe.default);pe.default=$e},"./src/controller/base-playlist-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ue});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/types/level.ts"),Oe=_e("./src/controller/level-helper.ts"),Ne=_e("./src/utils/logger.ts"),Fe=_e("./src/errors.ts"),Ue=function(){function $e(Ve,qe){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=Ne.logger.log.bind(Ne.logger,qe+":"),this.warn=Ne.logger.warn.bind(Ne.logger,qe+":"),this.hls=Ve}var ze=$e.prototype;return ze.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},ze.onError=function(Ve,qe){qe.fatal&&qe.type===Fe.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},ze.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},ze.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},ze.stopLoad=function(){this.canLoad=!1,this.clearTimer()},ze.switchParams=function(Ve,qe){var En=qe==null?void 0:qe.renditionReports;if(En)for(var vn=0;vn<En.length;vn++){var hn=En[vn],_n=""+hn.URI;if(_n===Ve.substr(-_n.length)){var bn=parseInt(hn["LAST-MSN"]),An=parseInt(hn["LAST-PART"]);if(qe&&this.hls.config.lowLatencyMode){var xn=Math.min(qe.age-qe.partTarget,qe.targetduration);An!==void 0&&xn>qe.partTarget&&(An+=1)}if(Object(Ce.isFiniteNumber)(bn))return new Ie.HlsUrlParameters(bn,Object(Ce.isFiniteNumber)(An)?An:void 0,Ie.HlsSkip.No)}}},ze.loadPlaylist=function(Ve){},ze.shouldLoadTrack=function(Ve){return this.canLoad&&Ve&&!!Ve.url&&(!Ve.details||Ve.details.live)},ze.playlistLoaded=function(Ve,qe,En){var vn=this,hn=qe.details,_n=qe.stats,bn=_n.loading.end?Math.max(0,self.performance.now()-_n.loading.end):0;if(hn.advancedDateTime=Date.now()-bn,hn.live||En!=null&&En.live){if(hn.reloaded(En),En&&this.log("live playlist "+Ve+" "+(hn.advanced?"REFRESHED "+hn.lastPartSn+"-"+hn.lastPartIndex:"MISSED")),En&&hn.fragments.length>0&&Object(Oe.mergeDetails)(En,hn),!this.canLoad||!hn.live)return;var An,xn=void 0,Sn=void 0;if(hn.canBlockReload&&hn.endSN&&hn.advanced){var Cn=this.hls.config.lowLatencyMode,Tn=hn.lastPartSn,wn=hn.endSN,Ln=hn.lastPartIndex,Pn=Tn===wn;Ln!==-1?(xn=Pn?wn+1:Tn,Sn=Pn?Cn?0:Ln:Ln+1):xn=wn+1;var kn=hn.age,In=kn+hn.ageHeader,Rn=Math.min(In-hn.partTarget,1.5*hn.targetduration);if(Rn>0){if(En&&Rn>En.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+En.tuneInGoal+" to: "+Rn+" with playlist age: "+hn.age),Rn=0;else{var Nn=Math.floor(Rn/hn.targetduration);xn+=Nn,Sn!==void 0&&(Sn+=Math.round(Rn%hn.targetduration/hn.partTarget)),this.log("CDN Tune-in age: "+hn.ageHeader+"s last advanced "+kn.toFixed(2)+"s goal: "+Rn+" skip sn "+Nn+" to part "+Sn)}hn.tuneInGoal=Rn}if(An=this.getDeliveryDirectives(hn,qe.deliveryDirectives,xn,Sn),Cn||!Pn)return void this.loadPlaylist(An)}else An=this.getDeliveryDirectives(hn,qe.deliveryDirectives,xn,Sn);var On=Object(Oe.computeReloadInterval)(hn,_n);xn!==void 0&&hn.canBlockReload&&(On-=hn.partTarget||1),this.log("reload live playlist "+Ve+" in "+Math.round(On)+" ms"),this.timer=self.setTimeout(function(){return vn.loadPlaylist(An)},On)}else this.clearTimer()},ze.getDeliveryDirectives=function(Ve,qe,En,vn){var hn=Object(Ie.getSkipValue)(Ve,En);return qe!=null&&qe.skip&&Ve.deltaUpdateFailed&&(En=qe.msn,vn=qe.part,hn=Ie.HlsSkip.No),new Ie.HlsUrlParameters(En,vn,hn)},ze.retryLoadingOrFail=function(Ve){var qe,En=this,vn=this.hls.config,hn=this.retryCount<vn.levelLoadingMaxRetry;if(hn)if(this.retryCount++,Ve.details.indexOf("LoadTimeOut")>-1&&(qe=Ve.context)!==null&&qe!==void 0&&qe.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+Ve.details+'"'),this.loadPlaylist();else{var _n=Math.min(Math.pow(2,this.retryCount)*vn.levelLoadingRetryDelay,vn.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return En.loadPlaylist()},_n),this.warn("retry playlist loading #"+this.retryCount+" in "+_n+' ms after "'+Ve.details+'"')}else this.warn('cannot recover from error "'+Ve.details+'"'),this.clearTimer(),Ve.fatal=!0;return hn},$e}()},"./src/controller/base-stream-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"State",function(){return Cn}),_e.d(pe,"default",function(){return Tn});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/task-loop.ts"),Oe=_e("./src/controller/fragment-tracker.ts"),Ne=_e("./src/utils/buffer-helper.ts"),Fe=_e("./src/utils/logger.ts"),Ue=_e("./src/events.ts"),$e=_e("./src/errors.ts"),ze=_e("./src/types/transmuxer.ts"),Ve=_e("./src/utils/mp4-tools.ts"),qe=_e("./src/utils/discontinuities.ts"),En=_e("./src/controller/fragment-finders.ts"),vn=_e("./src/controller/level-helper.ts"),hn=_e("./src/loader/fragment-loader.ts"),_n=_e("./src/crypt/decrypter.ts"),bn=_e("./src/utils/time-ranges.ts"),An=_e("./src/types/loader.ts");function xn(wn,Ln){for(var Pn=0;Pn<Ln.length;Pn++){var kn=Ln[Pn];kn.enumerable=kn.enumerable||!1,kn.configurable=!0,"value"in kn&&(kn.writable=!0),Object.defineProperty(wn,kn.key,kn)}}function Sn(wn,Ln){return(Sn=Object.setPrototypeOf||function(Pn,kn){return Pn.__proto__=kn,Pn})(wn,Ln)}var Cn={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Tn=function(wn){var Ln,Pn;function kn(On,Dn,Mn){var Bn;return(Bn=wn.call(this)||this).hls=void 0,Bn.fragPrevious=null,Bn.fragCurrent=null,Bn.fragmentTracker=void 0,Bn.transmuxer=null,Bn._state=Cn.STOPPED,Bn.media=void 0,Bn.mediaBuffer=void 0,Bn.config=void 0,Bn.bitrateTest=!1,Bn.lastCurrentTime=0,Bn.nextLoadPosition=0,Bn.startPosition=0,Bn.loadedmetadata=!1,Bn.fragLoadError=0,Bn.retryDate=0,Bn.levels=null,Bn.fragmentLoader=void 0,Bn.levelLastLoaded=null,Bn.startFragRequested=!1,Bn.decrypter=void 0,Bn.initPTS=[],Bn.onvseeking=null,Bn.onvended=null,Bn.logPrefix="",Bn.log=void 0,Bn.warn=void 0,Bn.logPrefix=Mn,Bn.log=Fe.logger.log.bind(Fe.logger,Mn+":"),Bn.warn=Fe.logger.warn.bind(Fe.logger,Mn+":"),Bn.hls=On,Bn.fragmentLoader=new hn.default(On.config),Bn.fragmentTracker=Dn,Bn.config=On.config,Bn.decrypter=new _n.default(On,On.config),On.on(Ue.Events.KEY_LOADED,Bn.onKeyLoaded,function($n){if($n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $n}(Bn)),Bn}Pn=wn,(Ln=kn).prototype=Object.create(Pn.prototype),Ln.prototype.constructor=Ln,Sn(Ln,Pn);var In,Rn,Nn=kn.prototype;return Nn.doTick=function(){this.onTickEnd()},Nn.onTickEnd=function(){},Nn.startLoad=function(On){},Nn.stopLoad=function(){this.fragmentLoader.abort();var On=this.fragCurrent;On&&this.fragmentTracker.removeFragment(On),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Cn.STOPPED},Nn._streamEnded=function(On,Dn){var Mn=this.fragCurrent,Bn=this.fragmentTracker;if(!Dn.live&&Mn&&Mn.sn===Dn.endSN&&!On.nextStart){var $n=Bn.getState(Mn);return $n===Oe.FragmentState.PARTIAL||$n===Oe.FragmentState.OK}return!1},Nn.onMediaAttached=function(On,Dn){var Mn=this.media=this.mediaBuffer=Dn.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),Mn.addEventListener("seeking",this.onvseeking),Mn.addEventListener("ended",this.onvended);var Bn=this.config;this.levels&&Bn.autoStartLoad&&this.state===Cn.STOPPED&&this.startLoad(Bn.startPosition)},Nn.onMediaDetaching=function(){var On=this.media;On!=null&&On.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),On&&(On.removeEventListener("seeking",this.onvseeking),On.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},Nn.onMediaSeeking=function(){var On=this.config,Dn=this.fragCurrent,Mn=this.media,Bn=this.mediaBuffer,$n=this.state,Fn=Mn?Mn.currentTime:0,Un=Ne.BufferHelper.bufferInfo(Bn||Mn,Fn,On.maxBufferHole);if(this.log("media seeking to "+(Object(Ce.isFiniteNumber)(Fn)?Fn.toFixed(3):Fn)+", state: "+$n),$n===Cn.ENDED)this.resetLoadingState();else if(Dn&&!Un.len){var Hn=On.maxFragLookUpTolerance,Wn=Dn.start-Hn,Xn=Fn>Dn.start+Dn.duration+Hn;(Fn<Wn||Xn)&&(Xn&&Dn.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),Dn.loader.abort()),this.resetLoadingState())}Mn&&(this.lastCurrentTime=Fn),this.loadedmetadata||Un.len||(this.nextLoadPosition=this.startPosition=Fn),this.tickImmediate()},Nn.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},Nn.onKeyLoaded=function(On,Dn){if(this.state===Cn.KEY_LOADING&&Dn.frag===this.fragCurrent&&this.levels){this.state=Cn.IDLE;var Mn=this.levels[Dn.frag.level].details;Mn&&this.loadFragment(Dn.frag,Mn,Dn.frag.start)}},Nn.onHandlerDestroying=function(){this.stopLoad(),wn.prototype.onHandlerDestroying.call(this)},Nn.onHandlerDestroyed=function(){this.state=Cn.STOPPED,this.hls.off(Ue.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,wn.prototype.onHandlerDestroyed.call(this)},Nn.loadKey=function(On,Dn){this.log("Loading key for "+On.sn+" of ["+Dn.startSN+"-"+Dn.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+On.level),this.state=Cn.KEY_LOADING,this.fragCurrent=On,this.hls.trigger(Ue.Events.KEY_LOADING,{frag:On})},Nn.loadFragment=function(On,Dn,Mn){this._loadFragForPlayback(On,Dn,Mn)},Nn._loadFragForPlayback=function(On,Dn,Mn){var Bn=this;this._doFragLoad(On,Dn,Mn,function($n){if(Bn.fragContextChanged(On))return Bn.warn("Fragment "+On.sn+($n.part?" p: "+$n.part.index:"")+" of level "+On.level+" was dropped during download."),void Bn.fragmentTracker.removeFragment(On);On.stats.chunkCount++,Bn._handleFragmentLoadProgress($n)}).then(function($n){if($n){Bn.fragLoadError=0;var Fn=Bn.state;if(!Bn.fragContextChanged(On))return"payload"in $n&&(Bn.log("Loaded fragment "+On.sn+" of level "+On.level),Bn.hls.trigger(Ue.Events.FRAG_LOADED,$n),Bn.state===Cn.BACKTRACKING)?(Bn.fragmentTracker.backtrack(On,$n),void Bn.resetFragmentLoading(On)):void Bn._handleFragmentLoadComplete($n);(Fn===Cn.FRAG_LOADING||Fn===Cn.BACKTRACKING||!Bn.fragCurrent&&Fn===Cn.PARSING)&&(Bn.fragmentTracker.removeFragment(On),Bn.state=Cn.IDLE)}}).catch(function($n){Bn.warn($n),Bn.resetFragmentLoading(On)})},Nn.flushMainBuffer=function(On,Dn,Mn){if(Mn===void 0&&(Mn=null),On-Dn){var Bn={startOffset:On,endOffset:Dn,type:Mn};this.fragLoadError=0,this.hls.trigger(Ue.Events.BUFFER_FLUSHING,Bn)}},Nn._loadInitSegment=function(On){var Dn=this;this._doFragLoad(On).then(function(Mn){if(!Mn||Dn.fragContextChanged(On)||!Dn.levels)throw new Error("init load aborted");return Mn}).then(function(Mn){var Bn=Dn.hls,$n=Mn.payload,Fn=On.decryptdata;if($n&&$n.byteLength>0&&Fn&&Fn.key&&Fn.iv&&Fn.method==="AES-128"){var Un=self.performance.now();return Dn.decrypter.webCryptoDecrypt(new Uint8Array($n),Fn.key.buffer,Fn.iv.buffer).then(function(Hn){var Wn=self.performance.now();return Bn.trigger(Ue.Events.FRAG_DECRYPTED,{frag:On,payload:Hn,stats:{tstart:Un,tdecrypt:Wn}}),Mn.payload=Hn,Mn})}return Mn}).then(function(Mn){var Bn=Dn.fragCurrent,$n=Dn.hls,Fn=Dn.levels;if(!Fn)throw new Error("init load aborted, missing levels");var Un=Fn[On.level].details;console.assert(Un,"Level details are defined when init segment is loaded");var Hn=On.stats;Dn.state=Cn.IDLE,Dn.fragLoadError=0,On.data=new Uint8Array(Mn.payload),Hn.parsing.start=Hn.buffering.start=self.performance.now(),Hn.parsing.end=Hn.buffering.end=self.performance.now(),Mn.frag===Bn&&$n.trigger(Ue.Events.FRAG_BUFFERED,{stats:Hn,frag:Bn,part:null,id:On.type}),Dn.tick()}).catch(function(Mn){Dn.warn(Mn),Dn.resetFragmentLoading(On)})},Nn.fragContextChanged=function(On){var Dn=this.fragCurrent;return!On||!Dn||On.level!==Dn.level||On.sn!==Dn.sn||On.urlId!==Dn.urlId},Nn.fragBufferedComplete=function(On,Dn){var Mn=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+On.type+" sn: "+On.sn+(Dn?" part: "+Dn.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+On.level+" "+bn.default.toString(Ne.BufferHelper.getBuffered(Mn))),this.state=Cn.IDLE,this.tick()},Nn._handleFragmentLoadComplete=function(On){var Dn=this.transmuxer;if(Dn){var Mn=On.frag,Bn=On.part,$n=On.partsLoaded,Fn=!$n||$n.length===0||$n.some(function(Hn){return!Hn}),Un=new ze.ChunkMetadata(Mn.level,Mn.sn,Mn.stats.chunkCount+1,0,Bn?Bn.index:-1,!Fn);Dn.flush(Un)}},Nn._handleFragmentLoadProgress=function(On){},Nn._doFragLoad=function(On,Dn,Mn,Bn){var $n=this;if(Mn===void 0&&(Mn=null),!this.levels)throw new Error("frag load aborted, missing levels");if(Mn=Math.max(On.start,Mn||0),this.config.lowLatencyMode&&Dn){var Fn=Dn.partList;if(Fn&&Bn){Mn>On.end&&Dn.fragmentHint&&(On=Dn.fragmentHint);var Un=this.getNextPart(Fn,On,Mn);if(Un>-1){var Hn=Fn[Un];return this.log("Loading part sn: "+On.sn+" p: "+Hn.index+" cc: "+On.cc+" of playlist ["+Dn.startSN+"-"+Dn.endSN+"] parts [0-"+Un+"-"+(Fn.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+On.level+", target: "+parseFloat(Mn.toFixed(3))),this.nextLoadPosition=Hn.start+Hn.duration,this.state=Cn.FRAG_LOADING,this.hls.trigger(Ue.Events.FRAG_LOADING,{frag:On,part:Fn[Un],targetBufferTime:Mn}),this.doFragPartsLoad(On,Fn,Un,Bn).catch(function(Wn){return $n.handleFragLoadError(Wn)})}if(!On.url||this.loadedEndOfParts(Fn,Mn))return Promise.resolve(null)}}return this.log("Loading fragment "+On.sn+" cc: "+On.cc+" "+(Dn?"of ["+Dn.startSN+"-"+Dn.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+On.level+", target: "+parseFloat(Mn.toFixed(3))),Object(Ce.isFiniteNumber)(On.sn)&&!this.bitrateTest&&(this.nextLoadPosition=On.start+On.duration),this.state=Cn.FRAG_LOADING,this.hls.trigger(Ue.Events.FRAG_LOADING,{frag:On,targetBufferTime:Mn}),this.fragmentLoader.load(On,Bn).catch(function(Wn){return $n.handleFragLoadError(Wn)})},Nn.doFragPartsLoad=function(On,Dn,Mn,Bn){var $n=this;return new Promise(function(Fn,Un){var Hn=[];(function Wn(Xn){var or=Dn[Xn];$n.fragmentLoader.loadPart(On,or,Bn).then(function(fr){Hn[or.index]=fr;var cr=fr.part;$n.hls.trigger(Ue.Events.FRAG_LOADED,fr);var Jn=Dn[Xn+1];if(!Jn||Jn.fragment!==On)return Fn({frag:On,part:cr,partsLoaded:Hn});Wn(Xn+1)}).catch(Un)})(Mn)})},Nn.handleFragLoadError=function(On){var Dn=On.data;return Dn&&Dn.details===$e.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(Dn.frag,Dn.part):this.hls.trigger(Ue.Events.ERROR,Dn),null},Nn._handleTransmuxerFlush=function(On){var Dn=this.getCurrentContext(On);if(Dn&&this.state===Cn.PARSING){var Mn=Dn.frag,Bn=Dn.part,$n=Dn.level,Fn=self.performance.now();Mn.stats.parsing.end=Fn,Bn&&(Bn.stats.parsing.end=Fn),this.updateLevelTiming(Mn,Bn,$n,On.partial)}else this.fragCurrent||(this.state=Cn.IDLE)},Nn.getCurrentContext=function(On){var Dn=this.levels,Mn=On.level,Bn=On.sn,$n=On.part;if(!Dn||!Dn[Mn])return this.warn("Levels object was unset while buffering fragment "+Bn+" of level "+Mn+". The current chunk will not be buffered."),null;var Fn=Dn[Mn],Un=$n>-1?Object(vn.getPartWith)(Fn,Bn,$n):null,Hn=Un?Un.fragment:Object(vn.getFragmentWithSN)(Fn,Bn,this.fragCurrent);return Hn?{frag:Hn,part:Un,level:Fn}:null},Nn.bufferFragmentData=function(On,Dn,Mn,Bn){if(On&&this.state===Cn.PARSING){var $n=On.data1,Fn=On.data2,Un=$n;if($n&&Fn&&(Un=Object(Ve.appendUint8Array)($n,Fn)),Un&&Un.length){var Hn={type:On.type,frag:Dn,part:Mn,chunkMeta:Bn,parent:Dn.type,data:Un};this.hls.trigger(Ue.Events.BUFFER_APPENDING,Hn),On.dropped&&On.independent&&!Mn&&this.flushBufferGap(Dn)}}},Nn.flushBufferGap=function(On){var Dn=this.media;if(Dn)if(Ne.BufferHelper.isBuffered(Dn,Dn.currentTime)){var Mn=Dn.currentTime,Bn=Ne.BufferHelper.bufferInfo(Dn,Mn,0),$n=On.duration,Fn=Math.min(2*this.config.maxFragLookUpTolerance,.25*$n),Un=Math.max(Math.min(On.start-Fn,Bn.end-Fn),Mn+Fn);On.start-Un>Fn&&this.flushMainBuffer(Un,On.start)}else this.flushMainBuffer(0,On.start)},Nn.getFwdBufferInfo=function(On,Dn){var Mn=this.config,Bn=this.getLoadPosition();if(!Object(Ce.isFiniteNumber)(Bn))return null;var $n=Ne.BufferHelper.bufferInfo(On,Bn,Mn.maxBufferHole);if($n.len===0&&$n.nextStart!==void 0){var Fn=this.fragmentTracker.getBufferedFrag(Bn,Dn);if(Fn&&$n.nextStart<Fn.end)return Ne.BufferHelper.bufferInfo(On,Bn,Math.max($n.nextStart,Mn.maxBufferHole))}return $n},Nn.getMaxBufferLength=function(On){var Dn,Mn=this.config;return Dn=On?Math.max(8*Mn.maxBufferSize/On,Mn.maxBufferLength):Mn.maxBufferLength,Math.min(Dn,Mn.maxMaxBufferLength)},Nn.reduceMaxBufferLength=function(On){var Dn=this.config,Mn=On||Dn.maxBufferLength;return Dn.maxMaxBufferLength>=Mn&&(Dn.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+Dn.maxMaxBufferLength+"s"),!0)},Nn.getNextFragment=function(On,Dn){var Mn,Bn,$n=Dn.fragments,Fn=$n.length;if(!Fn)return null;var Un,Hn=this.config,Wn=$n[0].start;if(Dn.live){var Xn=Hn.initialLiveManifestSize;if(Fn<Xn)return this.warn("Not enough fragments to start playback (have: "+Fn+", need: "+Xn+")"),null;Dn.PTSKnown||this.startFragRequested||this.startPosition!==-1||(Un=this.getInitialLiveFragment(Dn,$n),this.startPosition=Un?this.hls.liveSyncPosition||Un.start:On)}else On<=Wn&&(Un=$n[0]);if(!Un){var or=Hn.lowLatencyMode?Dn.partEnd:Dn.fragmentEnd;Un=this.getFragmentAtPosition(On,or,Dn)}return(Mn=Un)===null||Mn===void 0||!Mn.initSegment||(Bn=Un)!==null&&Bn!==void 0&&Bn.initSegment.data||this.bitrateTest||(Un=Un.initSegment),Un},Nn.getNextPart=function(On,Dn,Mn){for(var Bn=-1,$n=!1,Fn=!0,Un=0,Hn=On.length;Un<Hn;Un++){var Wn=On[Un];if(Fn=Fn&&!Wn.independent,Bn>-1&&Mn<Wn.start)break;var Xn=Wn.loaded;!Xn&&($n||Wn.independent||Fn)&&Wn.fragment===Dn&&(Bn=Un),$n=Xn}return Bn},Nn.loadedEndOfParts=function(On,Dn){var Mn=On[On.length-1];return Mn&&Dn>Mn.start&&Mn.loaded},Nn.getInitialLiveFragment=function(On,Dn){var Mn=this.fragPrevious,Bn=null;if(Mn){if(On.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+Mn.programDateTime),Bn=Object(En.findFragmentByPDT)(Dn,Mn.endProgramDateTime,this.config.maxFragLookUpTolerance)),!Bn){var $n=Mn.sn+1;if($n>=On.startSN&&$n<=On.endSN){var Fn=Dn[$n-On.startSN];Mn.cc===Fn.cc&&(Bn=Fn,this.log("Live playlist, switching playlist, load frag with next SN: "+Bn.sn))}Bn||(Bn=Object(En.findFragWithCC)(Dn,Mn.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+Bn.sn)}}else{var Un=this.hls.liveSyncPosition;Un!==null&&(Bn=this.getFragmentAtPosition(Un,this.bitrateTest?On.fragmentEnd:On.edge,On))}return Bn},Nn.getFragmentAtPosition=function(On,Dn,Mn){var Bn,$n=this.config,Fn=this.fragPrevious,Un=Mn.fragments,Hn=Mn.endSN,Wn=Mn.fragmentHint,Xn=$n.maxFragLookUpTolerance,or=!!($n.lowLatencyMode&&Mn.partList&&Wn);if(or&&Wn&&!this.bitrateTest&&(Un=Un.concat(Wn),Hn=Wn.sn),On<Dn){var fr=On>Dn-Xn?0:Xn;Bn=Object(En.findFragmentByPTS)(Fn,Un,On,fr)}else Bn=Un[Un.length-1];if(Bn){var cr=Bn.sn-Mn.startSN,Jn=Fn&&Bn.level===Fn.level,mr=Un[cr+1];if(this.fragmentTracker.getState(Bn)===Oe.FragmentState.BACKTRACKED){Bn=null;for(var Ir=cr;Un[Ir]&&this.fragmentTracker.getState(Un[Ir])===Oe.FragmentState.BACKTRACKED;)Bn=Fn?Un[Ir--]:Un[--Ir];Bn||(Bn=mr)}else Fn&&Bn.sn===Fn.sn&&!or&&Jn&&(Bn.sn<Hn&&this.fragmentTracker.getState(mr)!==Oe.FragmentState.OK?(this.log("SN "+Bn.sn+" just loaded, load next one: "+mr.sn),Bn=mr):Bn=null)}return Bn},Nn.synchronizeToLiveEdge=function(On){var Dn=this.config,Mn=this.media;if(Mn){var Bn=this.hls.liveSyncPosition,$n=Mn.currentTime,Fn=On.fragments[0].start,Un=On.edge,Hn=$n>=Fn-Dn.maxFragLookUpTolerance&&$n<=Un;if(Bn!==null&&Mn.duration>Bn&&($n<Bn||!Hn)){var Wn=Dn.liveMaxLatencyDuration!==void 0?Dn.liveMaxLatencyDuration:Dn.liveMaxLatencyDurationCount*On.targetduration;(!Hn&&Mn.readyState<4||$n<Un-Wn)&&(this.loadedmetadata||(this.nextLoadPosition=Bn),Mn.readyState&&(this.warn("Playback: "+$n.toFixed(3)+" is located too far from the end of live sliding playlist: "+Un+", reset currentTime to : "+Bn.toFixed(3)),Mn.currentTime=Bn))}}},Nn.alignPlaylists=function(On,Dn){var Mn=this.levels,Bn=this.levelLastLoaded,$n=this.fragPrevious,Fn=Bn!==null?Mn[Bn]:null,Un=On.fragments.length;if(!Un)return this.warn("No fragments in live playlist"),0;var Hn=On.fragments[0].start,Wn=!Dn,Xn=On.alignedSliding&&Object(Ce.isFiniteNumber)(Hn);if(Wn||!Xn&&!Hn){Object(qe.alignStream)($n,Fn,On);var or=On.fragments[0].start;return this.log("Live playlist sliding: "+or.toFixed(2)+" start-sn: "+(Dn?Dn.startSN:"na")+"->"+On.startSN+" prev-sn: "+($n?$n.sn:"na")+" fragments: "+Un),or}return Hn},Nn.waitForCdnTuneIn=function(On){return On.live&&On.canBlockReload&&On.tuneInGoal>Math.max(On.partHoldBack,3*On.partTarget)},Nn.setStartPosition=function(On,Dn){var Mn=this.startPosition;if(Mn<Dn&&(Mn=-1),Mn===-1||this.lastCurrentTime===-1){var Bn=On.startTimeOffset;Object(Ce.isFiniteNumber)(Bn)?(Mn=Dn+Bn,Bn<0&&(Mn+=On.totalduration),Mn=Math.min(Math.max(Dn,Mn),Dn+On.totalduration),this.log("Start time offset "+Bn+" found in playlist, adjust startPosition to "+Mn),this.startPosition=Mn):On.live?Mn=this.hls.liveSyncPosition||Dn:this.startPosition=Mn=0,this.lastCurrentTime=Mn}this.nextLoadPosition=Mn},Nn.getLoadPosition=function(){var On=this.media,Dn=0;return this.loadedmetadata&&On?Dn=On.currentTime:this.nextLoadPosition&&(Dn=this.nextLoadPosition),Dn},Nn.handleFragLoadAborted=function(On,Dn){this.transmuxer&&On.sn!=="initSegment"&&On.stats.aborted&&(this.warn("Fragment "+On.sn+(Dn?" part"+Dn.index:"")+" of level "+On.level+" was aborted"),this.resetFragmentLoading(On))},Nn.resetFragmentLoading=function(On){this.fragCurrent&&this.fragContextChanged(On)||(this.state=Cn.IDLE)},Nn.onFragmentOrKeyLoadError=function(On,Dn){if(!Dn.fatal){var Mn=Dn.frag;if(Mn&&Mn.type===On){var Bn=this.fragCurrent;console.assert(Bn&&Mn.sn===Bn.sn&&Mn.level===Bn.level&&Mn.urlId===Bn.urlId,"Frag load error must match current frag to retry");var $n=this.config;if(this.fragLoadError+1<=$n.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(Mn.level))return;var Fn=Math.min(Math.pow(2,this.fragLoadError)*$n.fragLoadingRetryDelay,$n.fragLoadingMaxRetryTimeout);this.warn("Fragment "+Mn.sn+" of "+On+" "+Mn.level+" failed to load, retrying in "+Fn+"ms"),this.retryDate=self.performance.now()+Fn,this.fragLoadError++,this.state=Cn.FRAG_LOADING_WAITING_RETRY}else Dn.levelRetry?(On===An.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=Cn.IDLE):(Fe.logger.error(Dn.details+" reaches max retry, redispatch as fatal ..."),Dn.fatal=!0,this.hls.stopLoad(),this.state=Cn.ERROR)}}},Nn.afterBufferFlushed=function(On,Dn,Mn){if(On){var Bn=Ne.BufferHelper.getBuffered(On);this.fragmentTracker.detectEvictedFragments(Dn,Bn,Mn),this.state===Cn.ENDED&&this.resetLoadingState()}},Nn.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=Cn.IDLE},Nn.resetLiveStartWhenNotLoaded=function(On){if(!this.loadedmetadata){this.startFragRequested=!1;var Dn=this.levels?this.levels[On].details:null;if(Dn!=null&&Dn.live)return this.startPosition=-1,this.setStartPosition(Dn,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},Nn.updateLevelTiming=function(On,Dn,Mn,Bn){var $n=this,Fn=Mn.details;console.assert(!!Fn,"level.details must be defined"),Object.keys(On.elementaryStreams).reduce(function(Un,Hn){var Wn=On.elementaryStreams[Hn];if(Wn){var Xn=Wn.endPTS-Wn.startPTS;if(Xn<=0)return $n.warn("Could not parse fragment "+On.sn+" "+Hn+" duration reliably ("+Xn+") resetting transmuxer to fallback to playlist timing"),$n.resetTransmuxer(),Un||!1;var or=Bn?0:Object(vn.updateFragPTSDTS)(Fn,On,Wn.startPTS,Wn.endPTS,Wn.startDTS,Wn.endDTS);return $n.hls.trigger(Ue.Events.LEVEL_PTS_UPDATED,{details:Fn,level:Mn,drift:or,type:Hn,frag:On,start:Wn.startPTS,end:Wn.endPTS}),!0}return Un},!1)?(this.state=Cn.PARSED,this.hls.trigger(Ue.Events.FRAG_PARSED,{frag:On,part:Dn})):this.resetLoadingState()},Nn.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},In=kn,(Rn=[{key:"state",get:function(){return this._state},set:function(On){var Dn=this._state;Dn!==On&&(this._state=On,this.log(Dn+"->"+On))}}])&&xn(In.prototype,Rn),kn}(Ie.default)},"./src/controller/buffer-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return En});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/events.ts"),Oe=_e("./src/utils/logger.ts"),Ne=_e("./src/errors.ts"),Fe=_e("./src/utils/buffer-helper.ts"),Ue=_e("./src/utils/mediasource-helper.ts"),$e=_e("./src/loader/fragment.ts"),ze=_e("./src/controller/buffer-operation-queue.ts"),Ve=Object(Ue.getMediaSource)(),qe=/([ha]vc.)(?:\.[^.,]+)+/,En=function(){function vn(_n){var bn=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var An=bn.hls,xn=bn.media,Sn=bn.mediaSource;Oe.logger.log("[buffer-controller]: Media source opened"),xn&&(bn.updateMediaElementDuration(),An.trigger(Ie.Events.MEDIA_ATTACHED,{media:xn})),Sn&&Sn.removeEventListener("sourceopen",bn._onMediaSourceOpen),bn.checkPendingTracks()},this._onMediaSourceClose=function(){Oe.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){Oe.logger.log("[buffer-controller]: Media source ended")},this.hls=_n,this._initSourceBuffer(),this.registerListeners()}var hn=vn.prototype;return hn.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},hn.destroy=function(){this.unregisterListeners(),this.details=null},hn.registerListeners=function(){var _n=this.hls;_n.on(Ie.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_n.on(Ie.Events.MEDIA_DETACHING,this.onMediaDetaching,this),_n.on(Ie.Events.MANIFEST_PARSED,this.onManifestParsed,this),_n.on(Ie.Events.BUFFER_RESET,this.onBufferReset,this),_n.on(Ie.Events.BUFFER_APPENDING,this.onBufferAppending,this),_n.on(Ie.Events.BUFFER_CODECS,this.onBufferCodecs,this),_n.on(Ie.Events.BUFFER_EOS,this.onBufferEos,this),_n.on(Ie.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_n.on(Ie.Events.LEVEL_UPDATED,this.onLevelUpdated,this),_n.on(Ie.Events.FRAG_PARSED,this.onFragParsed,this),_n.on(Ie.Events.FRAG_CHANGED,this.onFragChanged,this)},hn.unregisterListeners=function(){var _n=this.hls;_n.off(Ie.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_n.off(Ie.Events.MEDIA_DETACHING,this.onMediaDetaching,this),_n.off(Ie.Events.MANIFEST_PARSED,this.onManifestParsed,this),_n.off(Ie.Events.BUFFER_RESET,this.onBufferReset,this),_n.off(Ie.Events.BUFFER_APPENDING,this.onBufferAppending,this),_n.off(Ie.Events.BUFFER_CODECS,this.onBufferCodecs,this),_n.off(Ie.Events.BUFFER_EOS,this.onBufferEos,this),_n.off(Ie.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_n.off(Ie.Events.LEVEL_UPDATED,this.onLevelUpdated,this),_n.off(Ie.Events.FRAG_PARSED,this.onFragParsed,this),_n.off(Ie.Events.FRAG_CHANGED,this.onFragChanged,this)},hn._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new ze.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},hn.onManifestParsed=function(_n,bn){var An=2;(bn.audio&&!bn.video||!bn.altAudio)&&(An=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=An,this.details=null,Oe.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},hn.onMediaAttaching=function(_n,bn){var An=this.media=bn.media;if(An&&Ve){var xn=this.mediaSource=new Ve;xn.addEventListener("sourceopen",this._onMediaSourceOpen),xn.addEventListener("sourceended",this._onMediaSourceEnded),xn.addEventListener("sourceclose",this._onMediaSourceClose),An.src=self.URL.createObjectURL(xn),this._objectUrl=An.src}},hn.onMediaDetaching=function(){var _n=this.media,bn=this.mediaSource,An=this._objectUrl;if(bn){if(Oe.logger.log("[buffer-controller]: media source detaching"),bn.readyState==="open")try{bn.endOfStream()}catch(xn){Oe.logger.warn("[buffer-controller]: onMediaDetaching: "+xn.message+" while calling endOfStream")}this.onBufferReset(),bn.removeEventListener("sourceopen",this._onMediaSourceOpen),bn.removeEventListener("sourceended",this._onMediaSourceEnded),bn.removeEventListener("sourceclose",this._onMediaSourceClose),_n&&(An&&self.URL.revokeObjectURL(An),_n.src===An?(_n.removeAttribute("src"),_n.load()):Oe.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Ie.Events.MEDIA_DETACHED,void 0)},hn.onBufferReset=function(){var _n=this;this.getSourceBufferTypes().forEach(function(bn){var An=_n.sourceBuffer[bn];try{An&&(_n.removeBufferListeners(bn),_n.mediaSource&&_n.mediaSource.removeSourceBuffer(An),_n.sourceBuffer[bn]=void 0)}catch(xn){Oe.logger.warn("[buffer-controller]: Failed to reset the "+bn+" buffer",xn)}}),this._initSourceBuffer()},hn.onBufferCodecs=function(_n,bn){var An=this,xn=this.getSourceBufferTypes().length;Object.keys(bn).forEach(function(Sn){if(xn){var Cn=An.tracks[Sn];if(Cn&&typeof Cn.buffer.changeType=="function"){var Tn=bn[Sn],wn=Tn.codec,Ln=Tn.levelCodec,Pn=Tn.container;if((Cn.levelCodec||Cn.codec).replace(qe,"$1")!==(Ln||wn).replace(qe,"$1")){var kn=Pn+";codecs="+(Ln||wn);An.appendChangeType(Sn,kn)}}}else An.pendingTracks[Sn]=bn[Sn]}),xn||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},hn.appendChangeType=function(_n,bn){var An=this,xn=this.operationQueue,Sn={execute:function(){var Cn=An.sourceBuffer[_n];Cn&&(Oe.logger.log("[buffer-controller]: changing "+_n+" sourceBuffer type to "+bn),Cn.changeType(bn)),xn.shiftAndExecuteNext(_n)},onStart:function(){},onComplete:function(){},onError:function(Cn){Oe.logger.warn("[buffer-controller]: Failed to change "+_n+" SourceBuffer type",Cn)}};xn.append(Sn,_n)},hn.onBufferAppending=function(_n,bn){var An=this,xn=this.hls,Sn=this.operationQueue,Cn=this.tracks,Tn=bn.data,wn=bn.type,Ln=bn.frag,Pn=bn.part,kn=bn.chunkMeta,In=kn.buffering[wn],Rn=self.performance.now();In.start=Rn;var Nn=Ln.stats.buffering,On=Pn?Pn.stats.buffering:null;Nn.start===0&&(Nn.start=Rn),On&&On.start===0&&(On.start=Rn);var Dn=Cn.audio,Mn=wn==="audio"&&kn.id===1&&(Dn==null?void 0:Dn.container)==="audio/mpeg",Bn={execute:function(){if(In.executeStart=self.performance.now(),Mn){var $n=An.sourceBuffer[wn];if($n){var Fn=Ln.start-$n.timestampOffset;Math.abs(Fn)>=.1&&(Oe.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+Ln.start+" (delta: "+Fn+") sn: "+Ln.sn+")"),$n.timestampOffset=Ln.start)}}An.appendExecutor(Tn,wn)},onStart:function(){},onComplete:function(){var $n=self.performance.now();In.executeEnd=In.end=$n,Nn.first===0&&(Nn.first=$n),On&&On.first===0&&(On.first=$n);var Fn=An.sourceBuffer,Un={};for(var Hn in Fn)Un[Hn]=Fe.BufferHelper.getBuffered(Fn[Hn]);An.appendError=0,An.hls.trigger(Ie.Events.BUFFER_APPENDED,{type:wn,frag:Ln,part:Pn,chunkMeta:kn,parent:Ln.type,timeRanges:Un})},onError:function($n){Oe.logger.error("[buffer-controller]: Error encountered while trying to append to the "+wn+" SourceBuffer",$n);var Fn={type:Ne.ErrorTypes.MEDIA_ERROR,parent:Ln.type,details:Ne.ErrorDetails.BUFFER_APPEND_ERROR,err:$n,fatal:!1};$n.code===DOMException.QUOTA_EXCEEDED_ERR?Fn.details=Ne.ErrorDetails.BUFFER_FULL_ERROR:(An.appendError++,Fn.details=Ne.ErrorDetails.BUFFER_APPEND_ERROR,An.appendError>xn.config.appendErrorMaxRetry&&(Oe.logger.error("[buffer-controller]: Failed "+xn.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),Fn.fatal=!0)),xn.trigger(Ie.Events.ERROR,Fn)}};Sn.append(Bn,wn)},hn.onBufferFlushing=function(_n,bn){var An=this,xn=this.operationQueue,Sn=function(Cn){return{execute:An.removeExecutor.bind(An,Cn,bn.startOffset,bn.endOffset),onStart:function(){},onComplete:function(){An.hls.trigger(Ie.Events.BUFFER_FLUSHED,{type:Cn})},onError:function(Tn){Oe.logger.warn("[buffer-controller]: Failed to remove from "+Cn+" SourceBuffer",Tn)}}};bn.type?xn.append(Sn(bn.type),bn.type):this.getSourceBufferTypes().forEach(function(Cn){xn.append(Sn(Cn),Cn)})},hn.onFragParsed=function(_n,bn){var An=this,xn=bn.frag,Sn=bn.part,Cn=[],Tn=Sn?Sn.elementaryStreams:xn.elementaryStreams;Tn[$e.ElementaryStreamTypes.AUDIOVIDEO]?Cn.push("audiovideo"):(Tn[$e.ElementaryStreamTypes.AUDIO]&&Cn.push("audio"),Tn[$e.ElementaryStreamTypes.VIDEO]&&Cn.push("video")),Cn.length===0&&Oe.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+xn.type+" level: "+xn.level+" sn: "+xn.sn),this.blockBuffers(function(){var wn=self.performance.now();xn.stats.buffering.end=wn,Sn&&(Sn.stats.buffering.end=wn);var Ln=Sn?Sn.stats:xn.stats;An.hls.trigger(Ie.Events.FRAG_BUFFERED,{frag:xn,part:Sn,stats:Ln,id:xn.type})},Cn)},hn.onFragChanged=function(_n,bn){this.flushBackBuffer()},hn.onBufferEos=function(_n,bn){var An=this;this.getSourceBufferTypes().reduce(function(xn,Sn){var Cn=An.sourceBuffer[Sn];return bn.type&&bn.type!==Sn||Cn&&!Cn.ended&&(Cn.ended=!0,Oe.logger.log("[buffer-controller]: "+Sn+" sourceBuffer now EOS")),xn&&!(Cn&&!Cn.ended)},!0)&&this.blockBuffers(function(){var xn=An.mediaSource;xn&&xn.readyState==="open"&&xn.endOfStream()})},hn.onLevelUpdated=function(_n,bn){var An=bn.details;An.fragments.length&&(this.details=An,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},hn.flushBackBuffer=function(){var _n=this.hls,bn=this.details,An=this.media,xn=this.sourceBuffer;if(An&&bn!==null){var Sn=this.getSourceBufferTypes();if(Sn.length){var Cn=bn.live&&_n.config.liveBackBufferLength!==null?_n.config.liveBackBufferLength:_n.config.backBufferLength;if(Object(Ce.isFiniteNumber)(Cn)&&!(Cn<0)){var Tn=An.currentTime,wn=bn.levelTargetDuration,Ln=Math.max(Cn,wn),Pn=Math.floor(Tn/wn)*wn-Ln;Sn.forEach(function(kn){var In=xn[kn];if(In){var Rn=Fe.BufferHelper.getBuffered(In);Rn.length>0&&Pn>Rn.start(0)&&(_n.trigger(Ie.Events.BACK_BUFFER_REACHED,{bufferEnd:Pn}),bn.live&&_n.trigger(Ie.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:Pn}),_n.trigger(Ie.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Pn,type:kn}))}})}}}},hn.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var _n=this.details,bn=this.hls,An=this.media,xn=this.mediaSource,Sn=_n.fragments[0].start+_n.totalduration,Cn=An.duration,Tn=Object(Ce.isFiniteNumber)(xn.duration)?xn.duration:0;_n.live&&bn.config.liveDurationInfinity?(Oe.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),xn.duration=1/0,this.updateSeekableRange(_n)):(Sn>Tn&&Sn>Cn||!Object(Ce.isFiniteNumber)(Cn))&&(Oe.logger.log("[buffer-controller]: Updating Media Source duration to "+Sn.toFixed(3)),xn.duration=Sn)}},hn.updateSeekableRange=function(_n){var bn=this.mediaSource,An=_n.fragments;if(An.length&&_n.live&&bn!=null&&bn.setLiveSeekableRange){var xn=Math.max(0,An[0].start),Sn=Math.max(xn,xn+_n.totalduration);bn.setLiveSeekableRange(xn,Sn)}},hn.checkPendingTracks=function(){var _n=this.bufferCodecEventsExpected,bn=this.operationQueue,An=this.pendingTracks,xn=Object.keys(An).length;if(xn&&!_n||xn===2){this.createSourceBuffers(An),this.pendingTracks={};var Sn=this.getSourceBufferTypes();if(Sn.length===0)return void this.hls.trigger(Ie.Events.ERROR,{type:Ne.ErrorTypes.MEDIA_ERROR,details:Ne.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});Sn.forEach(function(Cn){bn.executeNext(Cn)})}},hn.createSourceBuffers=function(_n){var bn=this.sourceBuffer,An=this.mediaSource;if(!An)throw Error("createSourceBuffers called when mediaSource was null");var xn=0;for(var Sn in _n)if(!bn[Sn]){var Cn=_n[Sn];if(!Cn)throw Error("source buffer exists for track "+Sn+", however track does not");var Tn=Cn.levelCodec||Cn.codec,wn=Cn.container+";codecs="+Tn;Oe.logger.log("[buffer-controller]: creating sourceBuffer("+wn+")");try{var Ln=bn[Sn]=An.addSourceBuffer(wn),Pn=Sn;this.addBufferListener(Pn,"updatestart",this._onSBUpdateStart),this.addBufferListener(Pn,"updateend",this._onSBUpdateEnd),this.addBufferListener(Pn,"error",this._onSBUpdateError),this.tracks[Sn]={buffer:Ln,codec:Tn,container:Cn.container,levelCodec:Cn.levelCodec,id:Cn.id},xn++}catch(kn){Oe.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+kn.message),this.hls.trigger(Ie.Events.ERROR,{type:Ne.ErrorTypes.MEDIA_ERROR,details:Ne.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:kn,mimeType:wn})}}xn&&this.hls.trigger(Ie.Events.BUFFER_CREATED,{tracks:this.tracks})},hn._onSBUpdateStart=function(_n){this.operationQueue.current(_n).onStart()},hn._onSBUpdateEnd=function(_n){var bn=this.operationQueue;bn.current(_n).onComplete(),bn.shiftAndExecuteNext(_n)},hn._onSBUpdateError=function(_n,bn){Oe.logger.error("[buffer-controller]: "+_n+" SourceBuffer error",bn),this.hls.trigger(Ie.Events.ERROR,{type:Ne.ErrorTypes.MEDIA_ERROR,details:Ne.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var An=this.operationQueue.current(_n);An&&An.onError(bn)},hn.removeExecutor=function(_n,bn,An){var xn=this.media,Sn=this.mediaSource,Cn=this.operationQueue,Tn=this.sourceBuffer[_n];if(!xn||!Sn||!Tn)return Oe.logger.warn("[buffer-controller]: Attempting to remove from the "+_n+" SourceBuffer, but it does not exist"),void Cn.shiftAndExecuteNext(_n);var wn=Object(Ce.isFiniteNumber)(xn.duration)?xn.duration:1/0,Ln=Object(Ce.isFiniteNumber)(Sn.duration)?Sn.duration:1/0,Pn=Math.max(0,bn),kn=Math.min(An,wn,Ln);kn>Pn?(Oe.logger.log("[buffer-controller]: Removing ["+Pn+","+kn+"] from the "+_n+" SourceBuffer"),console.assert(!Tn.updating,_n+" sourceBuffer must not be updating"),Tn.remove(Pn,kn)):Cn.shiftAndExecuteNext(_n)},hn.appendExecutor=function(_n,bn){var An=this.operationQueue,xn=this.sourceBuffer[bn];if(!xn)return Oe.logger.warn("[buffer-controller]: Attempting to append to the "+bn+" SourceBuffer, but it does not exist"),void An.shiftAndExecuteNext(bn);xn.ended=!1,console.assert(!xn.updating,bn+" sourceBuffer must not be updating"),xn.appendBuffer(_n)},hn.blockBuffers=function(_n,bn){var An=this;if(bn===void 0&&(bn=this.getSourceBufferTypes()),!bn.length)return Oe.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(_n);var xn=this.operationQueue,Sn=bn.map(function(Cn){return xn.appendBlocker(Cn)});Promise.all(Sn).then(function(){_n(),bn.forEach(function(Cn){var Tn=An.sourceBuffer[Cn];Tn&&Tn.updating||xn.shiftAndExecuteNext(Cn)})})},hn.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},hn.addBufferListener=function(_n,bn,An){var xn=this.sourceBuffer[_n];if(xn){var Sn=An.bind(this,_n);this.listeners[_n].push({event:bn,listener:Sn}),xn.addEventListener(bn,Sn)}},hn.removeBufferListeners=function(_n){var bn=this.sourceBuffer[_n];bn&&this.listeners[_n].forEach(function(An){bn.removeEventListener(An.event,An.listener)})},vn}()},"./src/controller/buffer-operation-queue.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ie});var Ce=_e("./src/utils/logger.ts"),Ie=function(){function Oe(Fe){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=Fe}var Ne=Oe.prototype;return Ne.append=function(Fe,Ue){var $e=this.queues[Ue];$e.push(Fe),$e.length===1&&this.buffers[Ue]&&this.executeNext(Ue)},Ne.insertAbort=function(Fe,Ue){this.queues[Ue].unshift(Fe),this.executeNext(Ue)},Ne.appendBlocker=function(Fe){var Ue,$e=new Promise(function(Ve){Ue=Ve}),ze={execute:Ue,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(ze,Fe),$e},Ne.executeNext=function(Fe){var Ue=this.buffers,$e=this.queues,ze=Ue[Fe],Ve=$e[Fe];if(Ve.length){var qe=Ve[0];try{qe.execute()}catch(En){Ce.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),qe.onError(En),ze&&ze.updating||(Ve.shift(),this.executeNext(Fe))}}},Ne.shiftAndExecuteNext=function(Fe){this.queues[Fe].shift(),this.executeNext(Fe)},Ne.current=function(Fe){return this.queues[Fe][0]},Oe}()},"./src/controller/cap-level-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/events.ts");function Ie(Ne,Fe){for(var Ue=0;Ue<Fe.length;Ue++){var $e=Fe[Ue];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ne,$e.key,$e)}}var Oe=function(){function Ne(Ve){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=Ve,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var Fe,Ue,$e,ze=Ne.prototype;return ze.setStreamController=function(Ve){this.streamController=Ve},ze.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},ze.registerListeners=function(){var Ve=this.hls;Ve.on(Ce.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),Ve.on(Ce.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),Ve.on(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this),Ve.on(Ce.Events.BUFFER_CODECS,this.onBufferCodecs,this),Ve.on(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},ze.unregisterListener=function(){var Ve=this.hls;Ve.off(Ce.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),Ve.off(Ce.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),Ve.off(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this),Ve.off(Ce.Events.BUFFER_CODECS,this.onBufferCodecs,this),Ve.off(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},ze.onFpsDropLevelCapping=function(Ve,qe){Ne.isLevelAllowed(qe.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(qe.droppedLevel)},ze.onMediaAttaching=function(Ve,qe){this.media=qe.media instanceof HTMLVideoElement?qe.media:null},ze.onManifestParsed=function(Ve,qe){var En=this.hls;this.restrictedLevels=[],this.firstLevel=qe.firstLevel,En.config.capLevelToPlayerSize&&qe.video&&this.startCapping()},ze.onBufferCodecs=function(Ve,qe){this.hls.config.capLevelToPlayerSize&&qe.video&&this.startCapping()},ze.onMediaDetaching=function(){this.stopCapping()},ze.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var Ve=this.hls.levels;if(Ve.length){var qe=this.hls;qe.autoLevelCapping=this.getMaxLevel(Ve.length-1),qe.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=qe.autoLevelCapping}}},ze.getMaxLevel=function(Ve){var qe=this,En=this.hls.levels;if(!En.length)return-1;var vn=En.filter(function(hn,_n){return Ne.isLevelAllowed(_n,qe.restrictedLevels)&&_n<=Ve});return this.clientRect=null,Ne.getMaxLevelByMediaSize(vn,this.mediaWidth,this.mediaHeight)},ze.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},ze.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},ze.getDimensions=function(){if(this.clientRect)return this.clientRect;var Ve=this.media,qe={width:0,height:0};if(Ve){var En=Ve.getBoundingClientRect();qe.width=En.width,qe.height=En.height,qe.width||qe.height||(qe.width=En.right-En.left||Ve.width||0,qe.height=En.bottom-En.top||Ve.height||0)}return this.clientRect=qe,qe},Ne.isLevelAllowed=function(Ve,qe){return qe===void 0&&(qe=[]),qe.indexOf(Ve)===-1},Ne.getMaxLevelByMediaSize=function(Ve,qe,En){if(!Ve||!Ve.length)return-1;for(var vn,hn,_n=Ve.length-1,bn=0;bn<Ve.length;bn+=1){var An=Ve[bn];if((An.width>=qe||An.height>=En)&&(vn=An,!(hn=Ve[bn+1])||vn.width!==hn.width||vn.height!==hn.height)){_n=bn;break}}return _n},Fe=Ne,$e=[{key:"contentScaleFactor",get:function(){var Ve=1;try{Ve=self.devicePixelRatio}catch(qe){}return Ve}}],(Ue=[{key:"mediaWidth",get:function(){return this.getDimensions().width*Ne.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*Ne.contentScaleFactor}}])&&Ie(Fe.prototype,Ue),$e&&Ie(Fe,$e),Ne}();pe.default=Oe},"./src/controller/eme-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/events.ts"),Ie=_e("./src/errors.ts"),Oe=_e("./src/utils/logger.ts"),Ne=_e("./src/utils/mediakeys-helper.ts");function Fe($e,ze){for(var Ve=0;Ve<ze.length;Ve++){var qe=ze[Ve];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty($e,qe.key,qe)}}var Ue=function(){function $e(En){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=En,this._config=En.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var ze,Ve,qe=$e.prototype;return qe.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},qe._registerListeners=function(){this.hls.on(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Ce.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this)},qe._unregisterListeners=function(){this.hls.off(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Ce.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this)},qe.getLicenseServerUrl=function(En){switch(En){case Ne.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+En+'"')},qe._attemptKeySystemAccess=function(En,vn,hn){var _n=this,bn=function(xn,Sn,Cn,Tn){switch(xn){case Ne.KeySystems.WIDEVINE:return function(wn,Ln,Pn){var kn={audioCapabilities:[],videoCapabilities:[]};return wn.forEach(function(In){kn.audioCapabilities.push({contentType:'audio/mp4; codecs="'+In+'"',robustness:Pn.audioRobustness||""})}),Ln.forEach(function(In){kn.videoCapabilities.push({contentType:'video/mp4; codecs="'+In+'"',robustness:Pn.videoRobustness||""})}),[kn]}(Sn,Cn,Tn);default:throw new Error("Unknown key-system: "+xn)}}(En,vn,hn,this._drmSystemOptions);Oe.logger.log("Requesting encrypted media key-system access");var An=this.requestMediaKeySystemAccess(En,bn);this.mediaKeysPromise=An.then(function(xn){return _n._onMediaKeySystemAccessObtained(En,xn)}),An.catch(function(xn){Oe.logger.error('Failed to obtain key-system "'+En+'" access:',xn)})},qe._onMediaKeySystemAccessObtained=function(En,vn){var hn=this;Oe.logger.log('Access for key-system "'+En+'" obtained');var _n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:vn,mediaKeySystemDomain:En};this._mediaKeysList.push(_n);var bn=Promise.resolve().then(function(){return vn.createMediaKeys()}).then(function(An){return _n.mediaKeys=An,Oe.logger.log('Media-keys created for key-system "'+En+'"'),hn._onMediaKeysCreated(),An});return bn.catch(function(An){Oe.logger.error("Failed to create media-keys:",An)}),bn},qe._onMediaKeysCreated=function(){var En=this;this._mediaKeysList.forEach(function(vn){vn.mediaKeysSession||(vn.mediaKeysSession=vn.mediaKeys.createSession(),En._onNewMediaKeySession(vn.mediaKeysSession))})},qe._onNewMediaKeySession=function(En){var vn=this;Oe.logger.log("New key-system session "+En.sessionId),En.addEventListener("message",function(hn){vn._onKeySessionMessage(En,hn.message)},!1)},qe._onKeySessionMessage=function(En,vn){Oe.logger.log("Got EME message event, creating license request"),this._requestLicense(vn,function(hn){Oe.logger.log("Received license data (length: "+(hn&&hn.byteLength)+"), updating key-session"),En.update(hn)})},qe.onMediaEncrypted=function(En){var vn=this;if(Oe.logger.log('Media is encrypted using "'+En.initDataType+'" init data type'),!this.mediaKeysPromise)return Oe.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var hn=function(_n){vn._media&&(vn._attemptSetMediaKeys(_n),vn._generateRequestWithPreferredKeySession(En.initDataType,En.initData))};this.mediaKeysPromise.then(hn).catch(hn)},qe._attemptSetMediaKeys=function(En){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var vn=this._mediaKeysList[0];if(!vn||!vn.mediaKeys)return Oe.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});Oe.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(vn.mediaKeys),this._hasSetMediaKeys=!0}},qe._generateRequestWithPreferredKeySession=function(En,vn){var hn=this,_n=this._mediaKeysList[0];if(!_n)return Oe.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(_n.mediaKeysSessionInitialized)Oe.logger.warn("Key-Session already initialized but requested again");else{var bn=_n.mediaKeysSession;if(!bn)return Oe.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!vn)return Oe.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});Oe.logger.log('Generating key-session request for "'+En+'" init data type'),_n.mediaKeysSessionInitialized=!0,bn.generateRequest(En,vn).then(function(){Oe.logger.debug("Key-session generation succeeded")}).catch(function(An){Oe.logger.error("Error generating key-session request:",An),hn.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},qe._createLicenseXhr=function(En,vn,hn){var _n=new XMLHttpRequest;_n.responseType="arraybuffer",_n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,_n,En,vn,hn);var bn=this._licenseXhrSetup;if(bn)try{bn.call(this.hls,_n,En),bn=void 0}catch(An){Oe.logger.error(An)}try{_n.readyState||_n.open("POST",En,!0),bn&&bn.call(this.hls,_n,En)}catch(An){throw new Error("issue setting up KeySystem license XHR "+An)}return _n},qe._onLicenseRequestReadyStageChange=function(En,vn,hn,_n){switch(En.readyState){case 4:if(En.status===200){this._requestLicenseFailureCount=0,Oe.logger.log("License request succeeded");var bn=En.response,An=this._licenseResponseCallback;if(An)try{bn=An.call(this.hls,En,vn)}catch(Sn){Oe.logger.error(Sn)}_n(bn)}else{if(Oe.logger.error("License Request XHR failed ("+vn+"). Status: "+En.status+" ("+En.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var xn=3-this._requestLicenseFailureCount+1;Oe.logger.warn("Retrying license request, "+xn+" attempts left"),this._requestLicense(hn,_n)}}},qe._generateLicenseRequestChallenge=function(En,vn){switch(En.mediaKeySystemDomain){case Ne.KeySystems.WIDEVINE:return vn}throw new Error("unsupported key-system: "+En.mediaKeySystemDomain)},qe._requestLicense=function(En,vn){Oe.logger.log("Requesting content license for key-system");var hn=this._mediaKeysList[0];if(!hn)return Oe.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var _n=this.getLicenseServerUrl(hn.mediaKeySystemDomain),bn=this._createLicenseXhr(_n,En,vn);Oe.logger.log("Sending license request to URL: "+_n);var An=this._generateLicenseRequestChallenge(hn,En);bn.send(An)}catch(xn){Oe.logger.error("Failure requesting DRM license: "+xn),this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.KEY_SYSTEM_ERROR,details:Ie.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},qe.onMediaAttached=function(En,vn){if(this._emeEnabled){var hn=vn.media;this._media=hn,hn.addEventListener("encrypted",this._onMediaEncrypted)}},qe.onMediaDetached=function(){var En=this._media,vn=this._mediaKeysList;En&&(En.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(vn.map(function(hn){if(hn.mediaKeysSession)return hn.mediaKeysSession.close().catch(function(){})})).then(function(){return En.setMediaKeys(null)}).catch(function(){}))},qe.onManifestParsed=function(En,vn){if(this._emeEnabled){var hn=vn.levels.map(function(bn){return bn.audioCodec}).filter(function(bn){return!!bn}),_n=vn.levels.map(function(bn){return bn.videoCodec}).filter(function(bn){return!!bn});this._attemptKeySystemAccess(Ne.KeySystems.WIDEVINE,hn,_n)}},ze=$e,(Ve=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&Fe(ze.prototype,Ve),$e}();pe.default=Ue},"./src/controller/fps-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/events.ts"),Ie=_e("./src/utils/logger.ts"),Oe=function(){function Ne(Ue){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=Ue,this.registerListeners()}var Fe=Ne.prototype;return Fe.setStreamController=function(Ue){this.streamController=Ue},Fe.registerListeners=function(){this.hls.on(Ce.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},Fe.unregisterListeners=function(){this.hls.off(Ce.Events.MEDIA_ATTACHING,this.onMediaAttaching)},Fe.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},Fe.onMediaAttaching=function(Ue,$e){var ze=this.hls.config;if(ze.capLevelOnFPSDrop){var Ve=$e.media instanceof self.HTMLVideoElement?$e.media:null;this.media=Ve,Ve&&typeof Ve.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),ze.fpsDroppedMonitoringPeriod)}},Fe.checkFPS=function(Ue,$e,ze){var Ve=performance.now();if($e){if(this.lastTime){var qe=Ve-this.lastTime,En=ze-this.lastDroppedFrames,vn=$e-this.lastDecodedFrames,hn=1e3*En/qe,_n=this.hls;if(_n.trigger(Ce.Events.FPS_DROP,{currentDropped:En,currentDecoded:vn,totalDroppedFrames:ze}),hn>0&&En>_n.config.fpsDroppedMonitoringThreshold*vn){var bn=_n.currentLevel;Ie.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+bn),bn>0&&(_n.autoLevelCapping===-1||_n.autoLevelCapping>=bn)&&(bn-=1,_n.trigger(Ce.Events.FPS_DROP_LEVEL_CAPPING,{level:bn,droppedLevel:_n.currentLevel}),_n.autoLevelCapping=bn,this.streamController.nextLevelSwitch())}}this.lastTime=Ve,this.lastDroppedFrames=ze,this.lastDecodedFrames=$e}},Fe.checkFPSInterval=function(){var Ue=this.media;if(Ue)if(this.isVideoPlaybackQualityAvailable){var $e=Ue.getVideoPlaybackQuality();this.checkFPS(Ue,$e.totalVideoFrames,$e.droppedVideoFrames)}else this.checkFPS(Ue,Ue.webkitDecodedFrameCount,Ue.webkitDroppedFrameCount)},Ne}();pe.default=Oe},"./src/controller/fragment-finders.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"findFragmentByPDT",function(){return Oe}),_e.d(pe,"findFragmentByPTS",function(){return Ne}),_e.d(pe,"fragmentWithinToleranceTest",function(){return Fe}),_e.d(pe,"pdtWithinToleranceTest",function(){return Ue}),_e.d(pe,"findFragWithCC",function(){return $e});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/utils/binary-search.ts");function Oe(ze,Ve,qe){if(Ve===null||!Array.isArray(ze)||!ze.length||!Object(Ce.isFiniteNumber)(Ve)||Ve<(ze[0].programDateTime||0)||Ve>=(ze[ze.length-1].endProgramDateTime||0))return null;qe=qe||0;for(var En=0;En<ze.length;++En){var vn=ze[En];if(Ue(Ve,qe,vn))return vn}return null}function Ne(ze,Ve,qe,En){qe===void 0&&(qe=0),En===void 0&&(En=0);var vn=null;if(ze?vn=Ve[ze.sn-Ve[0].sn+1]||null:qe===0&&Ve[0].start===0&&(vn=Ve[0]),vn&&Fe(qe,En,vn)===0)return vn;var hn=Ie.default.search(Ve,Fe.bind(null,qe,En));return hn||vn}function Fe(ze,Ve,qe){ze===void 0&&(ze=0),Ve===void 0&&(Ve=0);var En=Math.min(Ve,qe.duration+(qe.deltaPTS?qe.deltaPTS:0));return qe.start+qe.duration-En<=ze?1:qe.start-En>ze&&qe.start?-1:0}function Ue(ze,Ve,qe){var En=1e3*Math.min(Ve,qe.duration+(qe.deltaPTS?qe.deltaPTS:0));return(qe.endProgramDateTime||0)-En>ze}function $e(ze,Ve){return Ie.default.search(ze,function(qe){return qe.cc<Ve?1:qe.cc>Ve?-1:0})}},"./src/controller/fragment-tracker.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"FragmentState",function(){return Ce}),_e.d(pe,"FragmentTracker",function(){return Fe});var Ce,Ie,Oe=_e("./src/events.ts"),Ne=_e("./src/types/loader.ts");(Ie=Ce||(Ce={})).NOT_LOADED="NOT_LOADED",Ie.BACKTRACKED="BACKTRACKED",Ie.APPENDING="APPENDING",Ie.PARTIAL="PARTIAL",Ie.OK="OK";var Fe=function(){function ze(qe){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=qe,this._registerListeners()}var Ve=ze.prototype;return Ve._registerListeners=function(){var qe=this.hls;qe.on(Oe.Events.BUFFER_APPENDED,this.onBufferAppended,this),qe.on(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this),qe.on(Oe.Events.FRAG_LOADED,this.onFragLoaded,this)},Ve._unregisterListeners=function(){var qe=this.hls;qe.off(Oe.Events.BUFFER_APPENDED,this.onBufferAppended,this),qe.off(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this),qe.off(Oe.Events.FRAG_LOADED,this.onFragLoaded,this)},Ve.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},Ve.getAppendedFrag=function(qe,En){if(En===Ne.PlaylistLevelType.MAIN){var vn=this.activeFragment,hn=this.activeParts;if(!vn)return null;if(hn)for(var _n=hn.length;_n--;){var bn=hn[_n],An=bn?bn.end:vn.appendedPTS;if(bn.start<=qe&&An!==void 0&&qe<=An)return _n>9&&(this.activeParts=hn.slice(_n-9)),bn}else if(vn.start<=qe&&vn.appendedPTS!==void 0&&qe<=vn.appendedPTS)return vn}return this.getBufferedFrag(qe,En)},Ve.getBufferedFrag=function(qe,En){for(var vn=this.fragments,hn=Object.keys(vn),_n=hn.length;_n--;){var bn=vn[hn[_n]];if((bn==null?void 0:bn.body.type)===En&&bn.buffered){var An=bn.body;if(An.start<=qe&&qe<=An.end)return An}}return null},Ve.detectEvictedFragments=function(qe,En,vn){var hn=this;Object.keys(this.fragments).forEach(function(_n){var bn=hn.fragments[_n];if(bn)if(bn.buffered){var An=bn.range[qe];An&&An.time.some(function(xn){var Sn=!hn.isTimeBuffered(xn.startPTS,xn.endPTS,En);return Sn&&hn.removeFragment(bn.body),Sn})}else bn.body.type===vn&&hn.removeFragment(bn.body)})},Ve.detectPartialFragments=function(qe){var En=this,vn=this.timeRanges,hn=qe.frag,_n=qe.part;if(vn&&hn.sn!=="initSegment"){var bn=$e(hn),An=this.fragments[bn];An&&(Object.keys(vn).forEach(function(xn){var Sn=hn.elementaryStreams[xn];if(Sn){var Cn=vn[xn],Tn=_n!==null||Sn.partial===!0;An.range[xn]=En.getBufferedTimes(hn,_n,Tn,Cn)}}),An.backtrack=An.loaded=null,Object.keys(An.range).length?An.buffered=!0:this.removeFragment(An.body))}},Ve.fragBuffered=function(qe){var En=$e(qe),vn=this.fragments[En];vn&&(vn.backtrack=vn.loaded=null,vn.buffered=!0)},Ve.getBufferedTimes=function(qe,En,vn,hn){for(var _n={time:[],partial:vn},bn=En?En.start:qe.start,An=En?En.end:qe.end,xn=qe.minEndPTS||An,Sn=qe.maxStartPTS||bn,Cn=0;Cn<hn.length;Cn++){var Tn=hn.start(Cn)-this.bufferPadding,wn=hn.end(Cn)+this.bufferPadding;if(Sn>=Tn&&xn<=wn){_n.time.push({startPTS:Math.max(bn,hn.start(Cn)),endPTS:Math.min(An,hn.end(Cn))});break}if(bn<wn&&An>Tn)_n.partial=!0,_n.time.push({startPTS:Math.max(bn,hn.start(Cn)),endPTS:Math.min(An,hn.end(Cn))});else if(An<=Tn)break}return _n},Ve.getPartialFragment=function(qe){var En,vn,hn,_n=null,bn=0,An=this.bufferPadding,xn=this.fragments;return Object.keys(xn).forEach(function(Sn){var Cn=xn[Sn];Cn&&Ue(Cn)&&(vn=Cn.body.start-An,hn=Cn.body.end+An,qe>=vn&&qe<=hn&&(En=Math.min(qe-vn,hn-qe),bn<=En&&(_n=Cn.body,bn=En)))}),_n},Ve.getState=function(qe){var En=$e(qe),vn=this.fragments[En];return vn?vn.buffered?Ue(vn)?Ce.PARTIAL:Ce.OK:vn.backtrack?Ce.BACKTRACKED:Ce.APPENDING:Ce.NOT_LOADED},Ve.backtrack=function(qe,En){var vn=$e(qe),hn=this.fragments[vn];if(!hn||hn.backtrack)return null;var _n=hn.backtrack=En||hn.loaded;return hn.loaded=null,_n},Ve.getBacktrackData=function(qe){var En=$e(qe),vn=this.fragments[En];if(vn){var hn,_n=vn.backtrack;if(_n!=null&&(hn=_n.payload)!==null&&hn!==void 0&&hn.byteLength)return _n;this.removeFragment(qe)}return null},Ve.isTimeBuffered=function(qe,En,vn){for(var hn,_n,bn=0;bn<vn.length;bn++){if(hn=vn.start(bn)-this.bufferPadding,_n=vn.end(bn)+this.bufferPadding,qe>=hn&&En<=_n)return!0;if(En<=hn)return!1}return!1},Ve.onFragLoaded=function(qe,En){var vn=En.frag,hn=En.part;if(vn.sn!=="initSegment"&&!vn.bitrateTest&&!hn){var _n=$e(vn);this.fragments[_n]={body:vn,loaded:En,backtrack:null,buffered:!1,range:Object.create(null)}}},Ve.onBufferAppended=function(qe,En){var vn=this,hn=En.frag,_n=En.part,bn=En.timeRanges;if(hn.type===Ne.PlaylistLevelType.MAIN)if(this.activeFragment=hn,_n){var An=this.activeParts;An||(this.activeParts=An=[]),An.push(_n)}else this.activeParts=null;this.timeRanges=bn,Object.keys(bn).forEach(function(xn){var Sn=bn[xn];if(vn.detectEvictedFragments(xn,Sn),!_n)for(var Cn=0;Cn<Sn.length;Cn++)hn.appendedPTS=Math.max(Sn.end(Cn),hn.appendedPTS||0)})},Ve.onFragBuffered=function(qe,En){this.detectPartialFragments(En)},Ve.hasFragment=function(qe){var En=$e(qe);return!!this.fragments[En]},Ve.removeFragmentsInRange=function(qe,En,vn){var hn=this;Object.keys(this.fragments).forEach(function(_n){var bn=hn.fragments[_n];if(bn&&bn.buffered){var An=bn.body;An.type===vn&&An.start<En&&An.end>qe&&hn.removeFragment(An)}})},Ve.removeFragment=function(qe){var En=$e(qe);qe.stats.loaded=0,qe.clearElementaryStreamInfo(),delete this.fragments[En]},Ve.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},ze}();function Ue(ze){var Ve,qe;return ze.buffered&&(((Ve=ze.range.video)===null||Ve===void 0?void 0:Ve.partial)||((qe=ze.range.audio)===null||qe===void 0?void 0:qe.partial))}function $e(ze){return ze.type+"_"+ze.level+"_"+ze.urlId+"_"+ze.sn}},"./src/controller/gap-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"STALL_MINIMUM_DURATION_MS",function(){return Fe}),_e.d(pe,"MAX_START_GAP_JUMP",function(){return Ue}),_e.d(pe,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return $e}),_e.d(pe,"SKIP_BUFFER_RANGE_START",function(){return ze}),_e.d(pe,"default",function(){return Ve});var Ce=_e("./src/utils/buffer-helper.ts"),Ie=_e("./src/errors.ts"),Oe=_e("./src/events.ts"),Ne=_e("./src/utils/logger.ts"),Fe=250,Ue=2,$e=.1,ze=.05,Ve=function(){function qe(vn,hn,_n,bn){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=vn,this.media=hn,this.fragmentTracker=_n,this.hls=bn}var En=qe.prototype;return En.destroy=function(){this.hls=this.fragmentTracker=this.media=null},En.poll=function(vn){var hn=this.config,_n=this.media,bn=this.stalled,An=_n.currentTime,xn=_n.seeking,Sn=this.seeking&&!xn,Cn=!this.seeking&&xn;if(this.seeking=xn,An===vn){if((Cn||Sn)&&(this.stalled=null),!_n.paused&&!_n.ended&&_n.playbackRate!==0&&Ce.BufferHelper.getBuffered(_n).length){var Tn=Ce.BufferHelper.bufferInfo(_n,An,0),wn=Tn.len>0,Ln=Tn.nextStart||0;if(wn||Ln){if(xn){var Pn=Tn.len>Ue,kn=!Ln||Ln-An>Ue&&!this.fragmentTracker.getPartialFragment(An);if(Pn||kn)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var In,Rn=Math.max(Ln,Tn.start||0)-An,Nn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,On=!(Nn==null||(In=Nn.details)===null||In===void 0)&&In.live?2*Nn.details.targetduration:Ue;if(Rn>0&&Rn<=On)return void this._trySkipBufferHole(null)}var Dn=self.performance.now();if(bn!==null){var Mn=Dn-bn;!xn&&Mn>=Fe&&this._reportStall(Tn.len);var Bn=Ce.BufferHelper.bufferInfo(_n,An,hn.maxBufferHole);this._tryFixBufferStall(Bn,Mn)}else this.stalled=Dn}}}else if(this.moved=!0,bn!==null){if(this.stallReported){var $n=self.performance.now()-bn;Ne.logger.warn("playback not stuck anymore @"+An+", after "+Math.round($n)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},En._tryFixBufferStall=function(vn,hn){var _n=this.config,bn=this.fragmentTracker,An=this.media.currentTime,xn=bn.getPartialFragment(An);xn&&this._trySkipBufferHole(xn)||vn.len>_n.maxBufferHole&&hn>1e3*_n.highBufferWatchdogPeriod&&(Ne.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},En._reportStall=function(vn){var hn=this.hls,_n=this.media;this.stallReported||(this.stallReported=!0,Ne.logger.warn("Playback stalling at @"+_n.currentTime+" due to low buffer (buffer="+vn+")"),hn.trigger(Oe.Events.ERROR,{type:Ie.ErrorTypes.MEDIA_ERROR,details:Ie.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:vn}))},En._trySkipBufferHole=function(vn){for(var hn=this.config,_n=this.hls,bn=this.media,An=bn.currentTime,xn=0,Sn=Ce.BufferHelper.getBuffered(bn),Cn=0;Cn<Sn.length;Cn++){var Tn=Sn.start(Cn);if(An+hn.maxBufferHole>=xn&&An<Tn){var wn=Math.max(Tn+ze,bn.currentTime+$e);return Ne.logger.warn("skipping hole, adjusting currentTime from "+An+" to "+wn),this.moved=!0,this.stalled=null,bn.currentTime=wn,vn&&_n.trigger(Oe.Events.ERROR,{type:Ie.ErrorTypes.MEDIA_ERROR,details:Ie.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+An+" to "+wn,frag:vn}),wn}xn=Sn.end(Cn)}return 0},En._tryNudgeBuffer=function(){var vn=this.config,hn=this.hls,_n=this.media,bn=_n.currentTime,An=(this.nudgeRetry||0)+1;if(this.nudgeRetry=An,An<vn.nudgeMaxRetry){var xn=bn+An*vn.nudgeOffset;Ne.logger.warn("Nudging 'currentTime' from "+bn+" to "+xn),_n.currentTime=xn,hn.trigger(Oe.Events.ERROR,{type:Ie.ErrorTypes.MEDIA_ERROR,details:Ie.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else Ne.logger.error("Playhead still not moving while enough data buffered @"+bn+" after "+vn.nudgeMaxRetry+" nudges"),hn.trigger(Oe.Events.ERROR,{type:Ie.ErrorTypes.MEDIA_ERROR,details:Ie.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},qe}()},"./src/controller/id3-track-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/events.ts"),Ie=_e("./src/utils/texttrack-utils.ts"),Oe=_e("./src/demux/id3.ts"),Ne=function(){function Fe($e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=$e,this._registerListeners()}var Ue=Fe.prototype;return Ue.destroy=function(){this._unregisterListeners()},Ue._registerListeners=function(){var $e=this.hls;$e.on(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),$e.on(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this),$e.on(Ce.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),$e.on(Ce.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},Ue._unregisterListeners=function(){var $e=this.hls;$e.off(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),$e.off(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this),$e.off(Ce.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),$e.off(Ce.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},Ue.onMediaAttached=function($e,ze){this.media=ze.media},Ue.onMediaDetaching=function(){this.id3Track&&(Object(Ie.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},Ue.getID3Track=function($e){if(this.media){for(var ze=0;ze<$e.length;ze++){var Ve=$e[ze];if(Ve.kind==="metadata"&&Ve.label==="id3")return Object(Ie.sendAddTrackEvent)(Ve,this.media),Ve}return this.media.addTextTrack("metadata","id3")}},Ue.onFragParsingMetadata=function($e,ze){if(this.media){var Ve=ze.frag,qe=ze.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var En=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,vn=0;vn<qe.length;vn++){var hn=Oe.getID3Frames(qe[vn].data);if(hn){var _n=qe[vn].pts,bn=vn<qe.length-1?qe[vn+1].pts:Ve.end;bn-_n<=0&&(bn=_n+.25);for(var An=0;An<hn.length;An++){var xn=hn[An];if(!Oe.isTimeStampFrame(xn)){var Sn=new En(_n,bn,"");Sn.value=xn,this.id3Track.addCue(Sn)}}}}}},Ue.onBufferFlushing=function($e,ze){var Ve=ze.startOffset,qe=ze.endOffset,En=ze.type;if(!En||En==="audio"){var vn=this.id3Track;vn&&Object(Ie.removeCuesInRange)(vn,Ve,qe)}},Fe}();pe.default=Ne},"./src/controller/latency-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Fe});var Ce=_e("./src/errors.ts"),Ie=_e("./src/events.ts"),Oe=_e("./src/utils/logger.ts");function Ne(Ue,$e){for(var ze=0;ze<$e.length;ze++){var Ve=$e[ze];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ue,Ve.key,Ve)}}var Fe=function(){function Ue(qe){var En=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return En.timeupdate()},this.hls=qe,this.config=qe.config,this.registerListeners()}var $e,ze,Ve=Ue.prototype;return Ve.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},Ve.registerListeners=function(){this.hls.on(Ie.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Ie.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Ie.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Ie.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Ie.Events.ERROR,this.onError,this)},Ve.unregisterListeners=function(){this.hls.off(Ie.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(Ie.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(Ie.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(Ie.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(Ie.Events.ERROR,this.onError)},Ve.onMediaAttached=function(qe,En){this.media=En.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},Ve.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},Ve.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},Ve.onLevelUpdated=function(qe,En){var vn=En.details;this.levelDetails=vn,vn.advanced&&this.timeupdate(),!vn.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},Ve.onError=function(qe,En){En.details===Ce.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,Oe.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},Ve.timeupdate=function(){var qe=this.media,En=this.levelDetails;if(qe&&En){this.currentTime=qe.currentTime;var vn=this.computeLatency();if(vn!==null){this._latency=vn;var hn=this.config,_n=hn.lowLatencyMode,bn=hn.maxLiveSyncPlaybackRate;if(_n&&bn!==1){var An=this.targetLatency;if(An!==null){var xn=vn-An,Sn=xn<Math.min(this.maxLatency,An+En.targetduration);if(En.live&&Sn&&xn>.05&&this.forwardBufferLength>1){var Cn=Math.min(2,Math.max(1,bn)),Tn=Math.round(2/(1+Math.exp(-.75*xn-this.edgeStalled))*20)/20;qe.playbackRate=Math.min(Cn,Math.max(1,Tn))}else qe.playbackRate!==1&&qe.playbackRate!==0&&(qe.playbackRate=1)}}}}},Ve.estimateLiveEdge=function(){var qe=this.levelDetails;return qe===null?null:qe.edge+qe.age},Ve.computeLatency=function(){var qe=this.estimateLiveEdge();return qe===null?null:qe-this.currentTime},$e=Ue,(ze=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var qe=this.config,En=this.levelDetails;return qe.liveMaxLatencyDuration!==void 0?qe.liveMaxLatencyDuration:En?qe.liveMaxLatencyDurationCount*En.targetduration:0}},{key:"targetLatency",get:function(){var qe=this.levelDetails;if(qe===null)return null;var En=qe.holdBack,vn=qe.partHoldBack,hn=qe.targetduration,_n=this.config,bn=_n.liveSyncDuration,An=_n.liveSyncDurationCount,xn=_n.lowLatencyMode,Sn=this.hls.userConfig,Cn=xn&&vn||En;(Sn.liveSyncDuration||Sn.liveSyncDurationCount||Cn===0)&&(Cn=bn!==void 0?bn:An*hn);var Tn=hn;return Cn+Math.min(1*this.stallCount,Tn)}},{key:"liveSyncPosition",get:function(){var qe=this.estimateLiveEdge(),En=this.targetLatency,vn=this.levelDetails;if(qe===null||En===null||vn===null)return null;var hn=vn.edge,_n=qe-En-this.edgeStalled,bn=hn-vn.totalduration,An=hn-(this.config.lowLatencyMode&&vn.partTarget||vn.targetduration);return Math.min(Math.max(bn,_n),An)}},{key:"drift",get:function(){var qe=this.levelDetails;return qe===null?1:qe.drift}},{key:"edgeStalled",get:function(){var qe=this.levelDetails;if(qe===null)return 0;var En=3*(this.config.lowLatencyMode&&qe.partTarget||qe.targetduration);return Math.max(qe.age-En,0)}},{key:"forwardBufferLength",get:function(){var qe=this.media,En=this.levelDetails;if(!qe||!En)return 0;var vn=qe.buffered.length;return vn?qe.buffered.end(vn-1):En.edge-this.currentTime}}])&&Ne($e.prototype,ze),Ue}()},"./src/controller/level-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return vn});var Ce=_e("./src/types/level.ts"),Ie=_e("./src/events.ts"),Oe=_e("./src/errors.ts"),Ne=_e("./src/utils/codecs.ts"),Fe=_e("./src/controller/level-helper.ts"),Ue=_e("./src/controller/base-playlist-controller.ts"),$e=_e("./src/types/loader.ts");function ze(){return(ze=Object.assign||function(hn){for(var _n=1;_n<arguments.length;_n++){var bn=arguments[_n];for(var An in bn)Object.prototype.hasOwnProperty.call(bn,An)&&(hn[An]=bn[An])}return hn}).apply(this,arguments)}function Ve(hn,_n){for(var bn=0;bn<_n.length;bn++){var An=_n[bn];An.enumerable=An.enumerable||!1,An.configurable=!0,"value"in An&&(An.writable=!0),Object.defineProperty(hn,An.key,An)}}function qe(hn,_n){return(qe=Object.setPrototypeOf||function(bn,An){return bn.__proto__=An,bn})(hn,_n)}var En=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),vn=function(hn){var _n,bn;function An(Tn){var wn;return(wn=hn.call(this,Tn,"[level-controller]")||this)._levels=[],wn._firstLevel=-1,wn._startLevel=void 0,wn.currentLevelIndex=-1,wn.manualLevelIndex=-1,wn.onParsedComplete=void 0,wn._registerListeners(),wn}bn=hn,(_n=An).prototype=Object.create(bn.prototype),_n.prototype.constructor=_n,qe(_n,bn);var xn,Sn,Cn=An.prototype;return Cn._registerListeners=function(){var Tn=this.hls;Tn.on(Ie.Events.MANIFEST_LOADED,this.onManifestLoaded,this),Tn.on(Ie.Events.LEVEL_LOADED,this.onLevelLoaded,this),Tn.on(Ie.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),Tn.on(Ie.Events.FRAG_LOADED,this.onFragLoaded,this),Tn.on(Ie.Events.ERROR,this.onError,this)},Cn._unregisterListeners=function(){var Tn=this.hls;Tn.off(Ie.Events.MANIFEST_LOADED,this.onManifestLoaded,this),Tn.off(Ie.Events.LEVEL_LOADED,this.onLevelLoaded,this),Tn.off(Ie.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),Tn.off(Ie.Events.FRAG_LOADED,this.onFragLoaded,this),Tn.off(Ie.Events.ERROR,this.onError,this)},Cn.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,hn.prototype.destroy.call(this)},Cn.startLoad=function(){this._levels.forEach(function(Tn){Tn.loadError=0}),hn.prototype.startLoad.call(this)},Cn.onManifestLoaded=function(Tn,wn){var Ln,Pn,kn=[],In=[],Rn=[],Nn={},On=!1,Dn=!1,Mn=!1;if(wn.levels.forEach(function(Un){var Hn=Un.attrs;On=On||!(!Un.width||!Un.height),Dn=Dn||!!Un.videoCodec,Mn=Mn||!!Un.audioCodec,En&&Un.audioCodec&&Un.audioCodec.indexOf("mp4a.40.34")!==-1&&(Un.audioCodec=void 0);var Wn=Un.bitrate+"-"+Un.attrs.RESOLUTION+"-"+Un.attrs.CODECS;(Pn=Nn[Wn])?Pn.url.push(Un.url):(Pn=new Ce.Level(Un),Nn[Wn]=Pn,kn.push(Pn)),Hn&&(Hn.AUDIO&&Object(Fe.addGroupId)(Pn,"audio",Hn.AUDIO),Hn.SUBTITLES&&Object(Fe.addGroupId)(Pn,"text",Hn.SUBTITLES))}),(On||Dn)&&Mn&&(kn=kn.filter(function(Un){var Hn=Un.videoCodec,Wn=Un.width,Xn=Un.height;return!!Hn||!(!Wn||!Xn)})),kn=kn.filter(function(Un){var Hn=Un.audioCodec,Wn=Un.videoCodec;return(!Hn||Object(Ne.isCodecSupportedInMp4)(Hn,"audio"))&&(!Wn||Object(Ne.isCodecSupportedInMp4)(Wn,"video"))}),wn.audioTracks&&(In=wn.audioTracks.filter(function(Un){return!Un.audioCodec||Object(Ne.isCodecSupportedInMp4)(Un.audioCodec,"audio")}),Object(Fe.assignTrackIdsByGroup)(In)),wn.subtitles&&(Rn=wn.subtitles,Object(Fe.assignTrackIdsByGroup)(Rn)),kn.length>0){Ln=kn[0].bitrate,kn.sort(function(Un,Hn){return Un.bitrate-Hn.bitrate}),this._levels=kn;for(var Bn=0;Bn<kn.length;Bn++)if(kn[Bn].bitrate===Ln){this._firstLevel=Bn,this.log("manifest loaded, "+kn.length+" level(s) found, first bitrate: "+Ln);break}var $n=Mn&&!Dn,Fn={levels:kn,audioTracks:In,subtitleTracks:Rn,firstLevel:this._firstLevel,stats:wn.stats,audio:Mn,video:Dn,altAudio:!$n&&In.some(function(Un){return!!Un.url})};this.hls.trigger(Ie.Events.MANIFEST_PARSED,Fn),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(Ie.Events.ERROR,{type:Oe.ErrorTypes.MEDIA_ERROR,details:Oe.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:wn.url,reason:"no level with compatible codecs found in manifest"})},Cn.onError=function(Tn,wn){if(hn.prototype.onError.call(this,Tn,wn),!wn.fatal){var Ln=wn.context,Pn=this._levels[this.currentLevelIndex];if(Ln&&(Ln.type===$e.PlaylistContextType.AUDIO_TRACK&&Pn.audioGroupIds&&Ln.groupId===Pn.audioGroupIds[Pn.urlId]||Ln.type===$e.PlaylistContextType.SUBTITLE_TRACK&&Pn.textGroupIds&&Ln.groupId===Pn.textGroupIds[Pn.urlId]))this.redundantFailover(this.currentLevelIndex);else{var kn,In=!1,Rn=!0;switch(wn.details){case Oe.ErrorDetails.FRAG_LOAD_ERROR:case Oe.ErrorDetails.FRAG_LOAD_TIMEOUT:case Oe.ErrorDetails.KEY_LOAD_ERROR:case Oe.ErrorDetails.KEY_LOAD_TIMEOUT:if(wn.frag){var Nn=this._levels[wn.frag.level];Nn?(Nn.fragmentError++,Nn.fragmentError>this.hls.config.fragLoadingMaxRetry&&(kn=wn.frag.level)):kn=wn.frag.level}break;case Oe.ErrorDetails.LEVEL_LOAD_ERROR:case Oe.ErrorDetails.LEVEL_LOAD_TIMEOUT:Ln&&(Ln.deliveryDirectives&&(Rn=!1),kn=Ln.level),In=!0;break;case Oe.ErrorDetails.REMUX_ALLOC_ERROR:kn=wn.level,In=!0}kn!==void 0&&this.recoverLevel(wn,kn,In,Rn)}}},Cn.recoverLevel=function(Tn,wn,Ln,Pn){var kn=Tn.details,In=this._levels[wn];if(In.loadError++,Ln){if(!this.retryLoadingOrFail(Tn))return void(this.currentLevelIndex=-1);Tn.levelRetry=!0}if(Pn){var Rn=In.url.length;if(Rn>1&&In.loadError<Rn)Tn.levelRetry=!0,this.redundantFailover(wn);else if(this.manualLevelIndex===-1){var Nn=wn===0?this._levels.length-1:wn-1;this.currentLevelIndex!==Nn&&this._levels[Nn].loadError===0&&(this.warn(kn+": switch to "+Nn),Tn.levelRetry=!0,this.hls.nextAutoLevel=Nn)}}},Cn.redundantFailover=function(Tn){var wn=this._levels[Tn],Ln=wn.url.length;if(Ln>1){var Pn=(wn.urlId+1)%Ln;this.warn("Switching to redundant URL-id "+Pn),this._levels.forEach(function(kn){kn.urlId=Pn}),this.level=Tn}},Cn.onFragLoaded=function(Tn,wn){var Ln=wn.frag;if(Ln!==void 0&&Ln.type===$e.PlaylistLevelType.MAIN){var Pn=this._levels[Ln.level];Pn!==void 0&&(Pn.fragmentError=0,Pn.loadError=0)}},Cn.onLevelLoaded=function(Tn,wn){var Ln,Pn,kn=wn.level,In=wn.details,Rn=this._levels[kn];if(!Rn)return this.warn("Invalid level index "+kn),void((Pn=wn.deliveryDirectives)!==null&&Pn!==void 0&&Pn.skip&&(In.deltaUpdateFailed=!0));kn===this.currentLevelIndex?(Rn.fragmentError===0&&(Rn.loadError=0,this.retryCount=0),this.playlistLoaded(kn,wn,Rn.details)):(Ln=wn.deliveryDirectives)!==null&&Ln!==void 0&&Ln.skip&&(In.deltaUpdateFailed=!0)},Cn.onAudioTrackSwitched=function(Tn,wn){var Ln=this.hls.levels[this.currentLevelIndex];if(Ln&&Ln.audioGroupIds){for(var Pn=-1,kn=this.hls.audioTracks[wn.id].groupId,In=0;In<Ln.audioGroupIds.length;In++)if(Ln.audioGroupIds[In]===kn){Pn=In;break}Pn!==Ln.urlId&&(Ln.urlId=Pn,this.startLoad())}},Cn.loadPlaylist=function(Tn){var wn=this.currentLevelIndex,Ln=this._levels[wn];if(this.canLoad&&Ln&&Ln.url.length>0){var Pn=Ln.urlId,kn=Ln.url[Pn];if(Tn)try{kn=Tn.addDirectives(kn)}catch(In){this.warn("Could not construct new URL with HLS Delivery Directives: "+In)}this.log("Attempt loading level index "+wn+(Tn?" at sn "+Tn.msn+" part "+Tn.part:"")+" with URL-id "+Pn+" "+kn),this.clearTimer(),this.hls.trigger(Ie.Events.LEVEL_LOADING,{url:kn,level:wn,id:Pn,deliveryDirectives:Tn||null})}},Cn.removeLevel=function(Tn,wn){var Ln=function(kn,In){return In!==wn},Pn=this._levels.filter(function(kn,In){return In!==Tn||kn.url.length>1&&wn!==void 0&&(kn.url=kn.url.filter(Ln),kn.audioGroupIds&&(kn.audioGroupIds=kn.audioGroupIds.filter(Ln)),kn.textGroupIds&&(kn.textGroupIds=kn.textGroupIds.filter(Ln)),kn.urlId=0,!0)}).map(function(kn,In){var Rn=kn.details;return Rn!=null&&Rn.fragments&&Rn.fragments.forEach(function(Nn){Nn.level=In}),kn});this._levels=Pn,this.hls.trigger(Ie.Events.LEVELS_UPDATED,{levels:Pn})},xn=An,(Sn=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(Tn){var wn,Ln=this._levels;if(Ln.length!==0&&(this.currentLevelIndex!==Tn||(wn=Ln[Tn])===null||wn===void 0||!wn.details)){if(Tn<0||Tn>=Ln.length){var Pn=Tn<0;if(this.hls.trigger(Ie.Events.ERROR,{type:Oe.ErrorTypes.OTHER_ERROR,details:Oe.ErrorDetails.LEVEL_SWITCH_ERROR,level:Tn,fatal:Pn,reason:"invalid level idx"}),Pn)return;Tn=Math.min(Tn,Ln.length-1)}this.clearTimer();var kn=this.currentLevelIndex,In=Ln[kn],Rn=Ln[Tn];this.log("switching to level "+Tn+" from "+kn),this.currentLevelIndex=Tn;var Nn=ze({},Rn,{level:Tn,maxBitrate:Rn.maxBitrate,uri:Rn.uri,urlId:Rn.urlId});delete Nn._urlId,this.hls.trigger(Ie.Events.LEVEL_SWITCHING,Nn);var On=Rn.details;if(!On||On.live){var Dn=this.switchParams(Rn.uri,In==null?void 0:In.details);this.loadPlaylist(Dn)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(Tn){this.manualLevelIndex=Tn,this._startLevel===void 0&&(this._startLevel=Tn),Tn!==-1&&(this.level=Tn)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(Tn){this._firstLevel=Tn}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var Tn=this.hls.config.startLevel;return Tn!==void 0?Tn:this._firstLevel}return this._startLevel},set:function(Tn){this._startLevel=Tn}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(Tn){this.level=Tn,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=Tn)}}])&&Ve(xn.prototype,Sn),An}(Ue.default)},"./src/controller/level-helper.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"addGroupId",function(){return Oe}),_e.d(pe,"assignTrackIdsByGroup",function(){return Ne}),_e.d(pe,"updatePTS",function(){return Fe}),_e.d(pe,"updateFragPTSDTS",function(){return $e}),_e.d(pe,"mergeDetails",function(){return ze}),_e.d(pe,"mapPartIntersection",function(){return Ve}),_e.d(pe,"mapFragmentIntersection",function(){return qe}),_e.d(pe,"adjustSliding",function(){return En}),_e.d(pe,"addSliding",function(){return vn}),_e.d(pe,"computeReloadInterval",function(){return hn}),_e.d(pe,"getFragmentWithSN",function(){return _n}),_e.d(pe,"getPartWith",function(){return bn});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/utils/logger.ts");function Oe(An,xn,Sn){switch(xn){case"audio":An.audioGroupIds||(An.audioGroupIds=[]),An.audioGroupIds.push(Sn);break;case"text":An.textGroupIds||(An.textGroupIds=[]),An.textGroupIds.push(Sn)}}function Ne(An){var xn={};An.forEach(function(Sn){var Cn=Sn.groupId||"";Sn.id=xn[Cn]=xn[Cn]||0,xn[Cn]++})}function Fe(An,xn,Sn){Ue(An[xn],An[Sn])}function Ue(An,xn){var Sn=xn.startPTS;if(Object(Ce.isFiniteNumber)(Sn)){var Cn,Tn=0;xn.sn>An.sn?(Tn=Sn-An.start,Cn=An):(Tn=An.start-Sn,Cn=xn),Cn.duration!==Tn&&(Cn.duration=Tn)}else xn.sn>An.sn?An.cc===xn.cc&&An.minEndPTS?xn.start=An.start+(An.minEndPTS-An.start):xn.start=An.start+An.duration:xn.start=Math.max(An.start-xn.duration,0)}function $e(An,xn,Sn,Cn,Tn,wn){Cn-Sn<=0&&(Ie.logger.warn("Fragment should have a positive duration",xn),Cn=Sn+xn.duration,wn=Tn+xn.duration);var Ln=Sn,Pn=Cn,kn=xn.startPTS,In=xn.endPTS;if(Object(Ce.isFiniteNumber)(kn)){var Rn=Math.abs(kn-Sn);Object(Ce.isFiniteNumber)(xn.deltaPTS)?xn.deltaPTS=Math.max(Rn,xn.deltaPTS):xn.deltaPTS=Rn,Ln=Math.max(Sn,kn),Sn=Math.min(Sn,kn),Tn=Math.min(Tn,xn.startDTS),Pn=Math.min(Cn,In),Cn=Math.max(Cn,In),wn=Math.max(wn,xn.endDTS)}xn.duration=Cn-Sn;var Nn=Sn-xn.start;xn.appendedPTS=Cn,xn.start=xn.startPTS=Sn,xn.maxStartPTS=Ln,xn.startDTS=Tn,xn.endPTS=Cn,xn.minEndPTS=Pn,xn.endDTS=wn;var On,Dn=xn.sn;if(!An||Dn<An.startSN||Dn>An.endSN)return 0;var Mn=Dn-An.startSN,Bn=An.fragments;for(Bn[Mn]=xn,On=Mn;On>0;On--)Ue(Bn[On],Bn[On-1]);for(On=Mn;On<Bn.length-1;On++)Ue(Bn[On],Bn[On+1]);return An.fragmentHint&&Ue(Bn[Bn.length-1],An.fragmentHint),An.PTSKnown=An.alignedSliding=!0,Nn}function ze(An,xn){for(var Sn=null,Cn=An.fragments,Tn=Cn.length-1;Tn>=0;Tn--){var wn=Cn[Tn].initSegment;if(wn){Sn=wn;break}}An.fragmentHint&&delete An.fragmentHint.endPTS;var Ln,Pn=0;if(qe(An,xn,function(Dn,Mn){var Bn;Dn.relurl&&(Pn=Dn.cc-Mn.cc),Object(Ce.isFiniteNumber)(Dn.startPTS)&&Object(Ce.isFiniteNumber)(Dn.endPTS)&&(Mn.start=Mn.startPTS=Dn.startPTS,Mn.startDTS=Dn.startDTS,Mn.appendedPTS=Dn.appendedPTS,Mn.maxStartPTS=Dn.maxStartPTS,Mn.endPTS=Dn.endPTS,Mn.endDTS=Dn.endDTS,Mn.minEndPTS=Dn.minEndPTS,Mn.duration=Dn.endPTS-Dn.startPTS,Mn.duration&&(Ln=Mn),xn.PTSKnown=xn.alignedSliding=!0),Mn.elementaryStreams=Dn.elementaryStreams,Mn.loader=Dn.loader,Mn.stats=Dn.stats,Mn.urlId=Dn.urlId,Dn.initSegment?(Mn.initSegment=Dn.initSegment,Sn=Dn.initSegment):Mn.initSegment&&Mn.initSegment.relurl!=((Bn=Sn)===null||Bn===void 0?void 0:Bn.relurl)||(Mn.initSegment=Sn)}),xn.skippedSegments&&(xn.deltaUpdateFailed=xn.fragments.some(function(Dn){return!Dn}),xn.deltaUpdateFailed)){Ie.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var kn=xn.skippedSegments;kn--;)xn.fragments.shift();xn.startSN=xn.fragments[0].sn,xn.startCC=xn.fragments[0].cc}var In=xn.fragments;if(Pn){Ie.logger.warn("discontinuity sliding from playlist, take drift into account");for(var Rn=0;Rn<In.length;Rn++)In[Rn].cc+=Pn}xn.skippedSegments&&(xn.startCC=xn.fragments[0].cc),Ve(An.partList,xn.partList,function(Dn,Mn){Mn.elementaryStreams=Dn.elementaryStreams,Mn.stats=Dn.stats}),Ln?$e(xn,Ln,Ln.startPTS,Ln.endPTS,Ln.startDTS,Ln.endDTS):En(An,xn),In.length&&(xn.totalduration=xn.edge-In[0].start),xn.driftStartTime=An.driftStartTime,xn.driftStart=An.driftStart;var Nn=xn.advancedDateTime;if(xn.advanced&&Nn){var On=xn.edge;xn.driftStart||(xn.driftStartTime=Nn,xn.driftStart=On),xn.driftEndTime=Nn,xn.driftEnd=On}else xn.driftEndTime=An.driftEndTime,xn.driftEnd=An.driftEnd,xn.advancedDateTime=An.advancedDateTime}function Ve(An,xn,Sn){if(An&&xn)for(var Cn=0,Tn=0,wn=An.length;Tn<=wn;Tn++){var Ln=An[Tn],Pn=xn[Tn+Cn];Ln&&Pn&&Ln.index===Pn.index&&Ln.fragment.sn===Pn.fragment.sn?Sn(Ln,Pn):Cn--}}function qe(An,xn,Sn){for(var Cn=xn.skippedSegments,Tn=Math.max(An.startSN,xn.startSN)-xn.startSN,wn=(An.fragmentHint?1:0)+(Cn?xn.endSN:Math.min(An.endSN,xn.endSN))-xn.startSN,Ln=xn.startSN-An.startSN,Pn=xn.fragmentHint?xn.fragments.concat(xn.fragmentHint):xn.fragments,kn=An.fragmentHint?An.fragments.concat(An.fragmentHint):An.fragments,In=Tn;In<=wn;In++){var Rn=kn[Ln+In],Nn=Pn[In];Cn&&!Nn&&In<Cn&&(Nn=xn.fragments[In]=Rn),Rn&&Nn&&Sn(Rn,Nn)}}function En(An,xn){var Sn=xn.startSN+xn.skippedSegments-An.startSN,Cn=An.fragments;Sn<0||Sn>=Cn.length||vn(xn,Cn[Sn].start)}function vn(An,xn){if(xn){for(var Sn=An.fragments,Cn=An.skippedSegments;Cn<Sn.length;Cn++)Sn[Cn].start+=xn;An.fragmentHint&&(An.fragmentHint.start+=xn)}}function hn(An,xn){var Sn,Cn=1e3*An.levelTargetDuration,Tn=Cn/2,wn=An.age,Ln=wn>0&&wn<3*Cn,Pn=xn.loading.end-xn.loading.start,kn=An.availabilityDelay;if(An.updated===!1)if(Ln){var In=333*An.misses;Sn=Math.max(Math.min(Tn,2*Pn),In),An.availabilityDelay=(An.availabilityDelay||0)+Sn}else Sn=Tn;else Ln?(kn=Math.min(kn||Cn/2,wn),An.availabilityDelay=kn,Sn=kn+Cn-wn):Sn=Cn-Pn;return Math.round(Sn)}function _n(An,xn,Sn){if(!An||!An.details)return null;var Cn=An.details,Tn=Cn.fragments[xn-Cn.startSN];return Tn||((Tn=Cn.fragmentHint)&&Tn.sn===xn?Tn:xn<Cn.startSN&&Sn&&Sn.sn===xn?Sn:null)}function bn(An,xn,Sn){if(!An||!An.details)return null;var Cn=An.details.partList;if(Cn)for(var Tn=Cn.length;Tn--;){var wn=Cn[Tn];if(wn.index===Sn&&wn.fragment.sn===xn)return wn}return null}},"./src/controller/stream-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return An});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/controller/base-stream-controller.ts"),Oe=_e("./src/is-supported.ts"),Ne=_e("./src/events.ts"),Fe=_e("./src/utils/buffer-helper.ts"),Ue=_e("./src/controller/fragment-tracker.ts"),$e=_e("./src/types/loader.ts"),ze=_e("./src/loader/fragment.ts"),Ve=_e("./src/demux/transmuxer-interface.ts"),qe=_e("./src/types/transmuxer.ts"),En=_e("./src/controller/gap-controller.ts"),vn=_e("./src/errors.ts"),hn=_e("./src/utils/logger.ts");function _n(xn,Sn){for(var Cn=0;Cn<Sn.length;Cn++){var Tn=Sn[Cn];Tn.enumerable=Tn.enumerable||!1,Tn.configurable=!0,"value"in Tn&&(Tn.writable=!0),Object.defineProperty(xn,Tn.key,Tn)}}function bn(xn,Sn){return(bn=Object.setPrototypeOf||function(Cn,Tn){return Cn.__proto__=Tn,Cn})(xn,Sn)}var An=function(xn){var Sn,Cn;function Tn(kn,In){var Rn;return(Rn=xn.call(this,kn,In,"[stream-controller]")||this).audioCodecSwap=!1,Rn.gapController=null,Rn.level=-1,Rn._forceStartLoad=!1,Rn.altAudio=!1,Rn.audioOnly=!1,Rn.fragPlaying=null,Rn.onvplaying=null,Rn.onvseeked=null,Rn.fragLastKbps=0,Rn.stalled=!1,Rn.couldBacktrack=!1,Rn.audioCodecSwitch=!1,Rn.videoBuffer=null,Rn._registerListeners(),Rn}Cn=xn,(Sn=Tn).prototype=Object.create(Cn.prototype),Sn.prototype.constructor=Sn,bn(Sn,Cn);var wn,Ln,Pn=Tn.prototype;return Pn._registerListeners=function(){var kn=this.hls;kn.on(Ne.Events.MEDIA_ATTACHED,this.onMediaAttached,this),kn.on(Ne.Events.MEDIA_DETACHING,this.onMediaDetaching,this),kn.on(Ne.Events.MANIFEST_LOADING,this.onManifestLoading,this),kn.on(Ne.Events.MANIFEST_PARSED,this.onManifestParsed,this),kn.on(Ne.Events.LEVEL_LOADING,this.onLevelLoading,this),kn.on(Ne.Events.LEVEL_LOADED,this.onLevelLoaded,this),kn.on(Ne.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),kn.on(Ne.Events.ERROR,this.onError,this),kn.on(Ne.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),kn.on(Ne.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),kn.on(Ne.Events.BUFFER_CREATED,this.onBufferCreated,this),kn.on(Ne.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),kn.on(Ne.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),kn.on(Ne.Events.FRAG_BUFFERED,this.onFragBuffered,this)},Pn._unregisterListeners=function(){var kn=this.hls;kn.off(Ne.Events.MEDIA_ATTACHED,this.onMediaAttached,this),kn.off(Ne.Events.MEDIA_DETACHING,this.onMediaDetaching,this),kn.off(Ne.Events.MANIFEST_LOADING,this.onManifestLoading,this),kn.off(Ne.Events.MANIFEST_PARSED,this.onManifestParsed,this),kn.off(Ne.Events.LEVEL_LOADED,this.onLevelLoaded,this),kn.off(Ne.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),kn.off(Ne.Events.ERROR,this.onError,this),kn.off(Ne.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),kn.off(Ne.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),kn.off(Ne.Events.BUFFER_CREATED,this.onBufferCreated,this),kn.off(Ne.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),kn.off(Ne.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),kn.off(Ne.Events.FRAG_BUFFERED,this.onFragBuffered,this)},Pn.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},Pn.startLoad=function(kn){if(this.levels){var In=this.lastCurrentTime,Rn=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var Nn=Rn.startLevel;Nn===-1&&(Rn.config.testBandwidth?(Nn=0,this.bitrateTest=!0):Nn=Rn.nextAutoLevel),this.level=Rn.nextLoadLevel=Nn,this.loadedmetadata=!1}In>0&&kn===-1&&(this.log("Override startPosition with lastCurrentTime @"+In.toFixed(3)),kn=In),this.state=Ie.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=kn,this.tick()}else this._forceStartLoad=!0,this.state=Ie.State.STOPPED},Pn.stopLoad=function(){this._forceStartLoad=!1,xn.prototype.stopLoad.call(this)},Pn.doTick=function(){switch(this.state){case Ie.State.IDLE:this.doTickIdle();break;case Ie.State.WAITING_LEVEL:var kn,In=this.levels,Rn=this.level,Nn=In==null||(kn=In[Rn])===null||kn===void 0?void 0:kn.details;if(Nn&&(!Nn.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(Nn))break;this.state=Ie.State.IDLE;break}break;case Ie.State.FRAG_LOADING_WAITING_RETRY:var On,Dn=self.performance.now(),Mn=this.retryDate;(!Mn||Dn>=Mn||(On=this.media)!==null&&On!==void 0&&On.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=Ie.State.IDLE)}this.onTickEnd()},Pn.onTickEnd=function(){xn.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},Pn.doTickIdle=function(){var kn,In,Rn=this.hls,Nn=this.levelLastLoaded,On=this.levels,Dn=this.media,Mn=Rn.config,Bn=Rn.nextLoadLevel;if(Nn!==null&&(Dn||!this.startFragRequested&&Mn.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&On&&On[Bn]){var $n=On[Bn];this.level=Rn.nextLoadLevel=Bn;var Fn=$n.details;if(!Fn||this.state===Ie.State.WAITING_LEVEL||Fn.live&&this.levelLastLoaded!==Bn)this.state=Ie.State.WAITING_LEVEL;else{var Un=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:Dn,$e.PlaylistLevelType.MAIN);if(Un!==null&&!(Un.len>=this.getMaxBufferLength($n.maxBitrate))){if(this._streamEnded(Un,Fn)){var Hn={};return this.altAudio&&(Hn.type="video"),this.hls.trigger(Ne.Events.BUFFER_EOS,Hn),void(this.state=Ie.State.ENDED)}var Wn=Un.end,Xn=this.getNextFragment(Wn,Fn);if(this.couldBacktrack&&!this.fragPrevious&&Xn&&Xn.sn!=="initSegment"){var or=Xn.sn-Fn.startSN;or>1&&(Xn=Fn.fragments[or-1],this.fragmentTracker.removeFragment(Xn))}if(Xn&&this.fragmentTracker.getState(Xn)===Ue.FragmentState.OK&&this.nextLoadPosition>Wn){var fr=this.audioOnly&&!this.altAudio?ze.ElementaryStreamTypes.AUDIO:ze.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(Dn,fr,$e.PlaylistLevelType.MAIN),Xn=this.getNextFragment(this.nextLoadPosition,Fn)}Xn&&(!Xn.initSegment||Xn.initSegment.data||this.bitrateTest||(Xn=Xn.initSegment),((kn=Xn.decryptdata)===null||kn===void 0?void 0:kn.keyFormat)!=="identity"||(In=Xn.decryptdata)!==null&&In!==void 0&&In.key?this.loadFragment(Xn,Fn,Wn):this.loadKey(Xn,Fn))}}}},Pn.loadFragment=function(kn,In,Rn){var Nn,On=this.fragmentTracker.getState(kn);if(this.fragCurrent=kn,On===Ue.FragmentState.BACKTRACKED){var Dn=this.fragmentTracker.getBacktrackData(kn);if(Dn)return this._handleFragmentLoadProgress(Dn),void this._handleFragmentLoadComplete(Dn);On=Ue.FragmentState.NOT_LOADED}On===Ue.FragmentState.NOT_LOADED||On===Ue.FragmentState.PARTIAL?kn.sn==="initSegment"?this._loadInitSegment(kn):this.bitrateTest?(kn.bitrateTest=!0,this.log("Fragment "+kn.sn+" of level "+kn.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(kn)):(this.startFragRequested=!0,xn.prototype.loadFragment.call(this,kn,In,Rn)):On===Ue.FragmentState.APPENDING?this.reduceMaxBufferLength(kn.duration)&&this.fragmentTracker.removeFragment(kn):((Nn=this.media)===null||Nn===void 0?void 0:Nn.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},Pn.getAppendedFrag=function(kn){var In=this.fragmentTracker.getAppendedFrag(kn,$e.PlaylistLevelType.MAIN);return In&&"fragment"in In?In.fragment:In},Pn.getBufferedFrag=function(kn){return this.fragmentTracker.getBufferedFrag(kn,$e.PlaylistLevelType.MAIN)},Pn.followingBufferedFrag=function(kn){return kn?this.getBufferedFrag(kn.end+.5):null},Pn.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},Pn.nextLevelSwitch=function(){var kn=this.levels,In=this.media;if(In!=null&&In.readyState){var Rn,Nn=this.getAppendedFrag(In.currentTime);if(Nn&&Nn.start>1&&this.flushMainBuffer(0,Nn.start-1),!In.paused&&kn){var On=kn[this.hls.nextLoadLevel],Dn=this.fragLastKbps;Rn=Dn&&this.fragCurrent?this.fragCurrent.duration*On.maxBitrate/(1e3*Dn)+1:0}else Rn=0;var Mn=this.getBufferedFrag(In.currentTime+Rn);if(Mn){var Bn=this.followingBufferedFrag(Mn);if(Bn){this.abortCurrentFrag();var $n=Bn.maxStartPTS?Bn.maxStartPTS:Bn.start,Fn=Bn.duration,Un=Math.max(Mn.end,$n+Math.min(Math.max(Fn-this.config.maxFragLookUpTolerance,.5*Fn),.75*Fn));this.flushMainBuffer(Un,Number.POSITIVE_INFINITY)}}}},Pn.abortCurrentFrag=function(){var kn=this.fragCurrent;this.fragCurrent=null,kn!=null&&kn.loader&&kn.loader.abort(),this.state===Ie.State.KEY_LOADING&&(this.state=Ie.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},Pn.flushMainBuffer=function(kn,In){xn.prototype.flushMainBuffer.call(this,kn,In,this.altAudio?"video":null)},Pn.onMediaAttached=function(kn,In){xn.prototype.onMediaAttached.call(this,kn,In);var Rn=In.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),Rn.addEventListener("playing",this.onvplaying),Rn.addEventListener("seeked",this.onvseeked),this.gapController=new En.default(this.config,Rn,this.fragmentTracker,this.hls)},Pn.onMediaDetaching=function(){var kn=this.media;kn&&(kn.removeEventListener("playing",this.onvplaying),kn.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),xn.prototype.onMediaDetaching.call(this)},Pn.onMediaPlaying=function(){this.tick()},Pn.onMediaSeeked=function(){var kn=this.media,In=kn?kn.currentTime:null;Object(Ce.isFiniteNumber)(In)&&this.log("Media seeked to "+In.toFixed(3)),this.tick()},Pn.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Ne.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},Pn.onManifestParsed=function(kn,In){var Rn,Nn=!1,On=!1;In.levels.forEach(function(Dn){(Rn=Dn.audioCodec)&&(Rn.indexOf("mp4a.40.2")!==-1&&(Nn=!0),Rn.indexOf("mp4a.40.5")!==-1&&(On=!0))}),this.audioCodecSwitch=Nn&&On&&!Object(Oe.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=In.levels,this.startFragRequested=!1},Pn.onLevelLoading=function(kn,In){var Rn=this.levels;if(Rn&&this.state===Ie.State.IDLE){var Nn=Rn[In.level];(!Nn.details||Nn.details.live&&this.levelLastLoaded!==In.level||this.waitForCdnTuneIn(Nn.details))&&(this.state=Ie.State.WAITING_LEVEL)}},Pn.onLevelLoaded=function(kn,In){var Rn,Nn=this.levels,On=In.level,Dn=In.details,Mn=Dn.totalduration;if(Nn){this.log("Level "+On+" loaded ["+Dn.startSN+","+Dn.endSN+"], cc ["+Dn.startCC+", "+Dn.endCC+"] duration:"+Mn);var Bn=this.fragCurrent;!Bn||this.state!==Ie.State.FRAG_LOADING&&this.state!==Ie.State.FRAG_LOADING_WAITING_RETRY||Bn.level!==In.level&&Bn.loader&&(this.state=Ie.State.IDLE,Bn.loader.abort());var $n=Nn[On],Fn=0;if(Dn.live||(Rn=$n.details)!==null&&Rn!==void 0&&Rn.live){if(Dn.fragments[0]||(Dn.deltaUpdateFailed=!0),Dn.deltaUpdateFailed)return;Fn=this.alignPlaylists(Dn,$n.details)}if($n.details=Dn,this.levelLastLoaded=On,this.hls.trigger(Ne.Events.LEVEL_UPDATED,{details:Dn,level:On}),this.state===Ie.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(Dn))return;this.state=Ie.State.IDLE}this.startFragRequested?Dn.live&&this.synchronizeToLiveEdge(Dn):this.setStartPosition(Dn,Fn),this.tick()}else this.warn("Levels were reset while loading level "+On)},Pn._handleFragmentLoadProgress=function(kn){var In,Rn=kn.frag,Nn=kn.part,On=kn.payload,Dn=this.levels;if(Dn){var Mn=Dn[Rn.level],Bn=Mn.details;if(Bn){var $n=Mn.videoCodec,Fn=Bn.PTSKnown||!Bn.live,Un=(In=Rn.initSegment)===null||In===void 0?void 0:In.data,Hn=this._getAudioCodec(Mn),Wn=this.transmuxer=this.transmuxer||new Ve.default(this.hls,$e.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Xn=Nn?Nn.index:-1,or=Xn!==-1,fr=new qe.ChunkMetadata(Rn.level,Rn.sn,Rn.stats.chunkCount,On.byteLength,Xn,or),cr=this.initPTS[Rn.cc];Wn.push(On,Un,Hn,$n,Rn,Nn,Bn.totalduration,Fn,fr,cr)}else this.warn("Dropping fragment "+Rn.sn+" of level "+Rn.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+Rn.sn+" of level "+Rn.level+" will not be buffered")},Pn.onAudioTrackSwitching=function(kn,In){var Rn=this.altAudio,Nn=!!In.url,On=In.id;if(!Nn){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var Dn=this.fragCurrent;Dn!=null&&Dn.loader&&(this.log("Switching to main audio track, cancel main fragment load"),Dn.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var Mn=this.hls;Rn&&Mn.trigger(Ne.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),Mn.trigger(Ne.Events.AUDIO_TRACK_SWITCHED,{id:On})}},Pn.onAudioTrackSwitched=function(kn,In){var Rn=In.id,Nn=!!this.hls.audioTracks[Rn].url;if(Nn){var On=this.videoBuffer;On&&this.mediaBuffer!==On&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=On)}this.altAudio=Nn,this.tick()},Pn.onBufferCreated=function(kn,In){var Rn,Nn,On=In.tracks,Dn=!1;for(var Mn in On){var Bn=On[Mn];if(Bn.id==="main"){if(Nn=Mn,Rn=Bn,Mn==="video"){var $n=On[Mn];$n&&(this.videoBuffer=$n.buffer)}}else Dn=!0}Dn&&Rn?(this.log("Alternate track found, use "+Nn+".buffered to schedule main fragment loading"),this.mediaBuffer=Rn.buffer):this.mediaBuffer=this.media},Pn.onFragBuffered=function(kn,In){var Rn=In.frag,Nn=In.part;if(!Rn||Rn.type===$e.PlaylistLevelType.MAIN){if(this.fragContextChanged(Rn))return this.warn("Fragment "+Rn.sn+(Nn?" p: "+Nn.index:"")+" of level "+Rn.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Ie.State.PARSED&&(this.state=Ie.State.IDLE));var On=Nn?Nn.stats:Rn.stats;this.fragLastKbps=Math.round(8*On.total/(On.buffering.end-On.loading.first)),Rn.sn!=="initSegment"&&(this.fragPrevious=Rn),this.fragBufferedComplete(Rn,Nn)}},Pn.onError=function(kn,In){switch(In.details){case vn.ErrorDetails.FRAG_LOAD_ERROR:case vn.ErrorDetails.FRAG_LOAD_TIMEOUT:case vn.ErrorDetails.KEY_LOAD_ERROR:case vn.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError($e.PlaylistLevelType.MAIN,In);break;case vn.ErrorDetails.LEVEL_LOAD_ERROR:case vn.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Ie.State.ERROR&&(In.fatal?(this.warn(""+In.details),this.state=Ie.State.ERROR):In.levelRetry||this.state!==Ie.State.WAITING_LEVEL||(this.state=Ie.State.IDLE));break;case vn.ErrorDetails.BUFFER_FULL_ERROR:if(In.parent==="main"&&(this.state===Ie.State.PARSING||this.state===Ie.State.PARSED)){var Rn=!0,Nn=this.getFwdBufferInfo(this.media,$e.PlaylistLevelType.MAIN);Nn&&Nn.len>.5&&(Rn=!this.reduceMaxBufferLength(Nn.len)),Rn&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},Pn.checkBuffer=function(){var kn=this.media,In=this.gapController;if(kn&&In&&kn.readyState){var Rn=Fe.BufferHelper.getBuffered(kn);!this.loadedmetadata&&Rn.length?(this.loadedmetadata=!0,this.seekToStartPos()):In.poll(this.lastCurrentTime),this.lastCurrentTime=kn.currentTime}},Pn.onFragLoadEmergencyAborted=function(){this.state=Ie.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},Pn.onBufferFlushed=function(kn,In){var Rn=In.type;if(Rn!==ze.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var Nn=(Rn===ze.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(Nn,Rn,$e.PlaylistLevelType.MAIN)}},Pn.onLevelsUpdated=function(kn,In){this.levels=In.levels},Pn.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},Pn.seekToStartPos=function(){var kn=this.media,In=kn.currentTime,Rn=this.startPosition;if(Rn>=0&&In<Rn){if(kn.seeking)return void hn.logger.log("could not seek to "+Rn+", already seeking at "+In);var Nn=Fe.BufferHelper.getBuffered(kn),On=(Nn.length?Nn.start(0):0)-Rn;On>0&&On<this.config.maxBufferHole&&(hn.logger.log("adjusting start position by "+On+" to match buffer start"),Rn+=On,this.startPosition=Rn),this.log("seek to target start position "+Rn+" from current time "+In),kn.currentTime=Rn}},Pn._getAudioCodec=function(kn){var In=this.config.defaultAudioCodec||kn.audioCodec;return this.audioCodecSwap&&In&&(this.log("Swapping audio codec"),In=In.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),In},Pn._loadBitrateTestFrag=function(kn){var In=this;this._doFragLoad(kn).then(function(Rn){var Nn=In.hls;if(Rn&&!Nn.nextLoadLevel&&!In.fragContextChanged(kn)){In.fragLoadError=0,In.state=Ie.State.IDLE,In.startFragRequested=!1,In.bitrateTest=!1;var On=kn.stats;On.parsing.start=On.parsing.end=On.buffering.start=On.buffering.end=self.performance.now(),Nn.trigger(Ne.Events.FRAG_LOADED,Rn)}})},Pn._handleTransmuxComplete=function(kn){var In,Rn="main",Nn=this.hls,On=kn.remuxResult,Dn=kn.chunkMeta,Mn=this.getCurrentContext(Dn);if(!Mn)return this.warn("The loading context changed while buffering fragment "+Dn.sn+" of level "+Dn.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(Dn.level);var Bn=Mn.frag,$n=Mn.part,Fn=Mn.level,Un=On.video,Hn=On.text,Wn=On.id3,Xn=On.initSegment,or=this.altAudio?void 0:On.audio;if(!this.fragContextChanged(Bn)){if(this.state=Ie.State.PARSING,Xn){Xn.tracks&&(this._bufferInitSegment(Fn,Xn.tracks,Bn,Dn),Nn.trigger(Ne.Events.FRAG_PARSING_INIT_SEGMENT,{frag:Bn,id:Rn,tracks:Xn.tracks}));var fr=Xn.initPTS,cr=Xn.timescale;Object(Ce.isFiniteNumber)(fr)&&(this.initPTS[Bn.cc]=fr,Nn.trigger(Ne.Events.INIT_PTS_FOUND,{frag:Bn,id:Rn,initPTS:fr,timescale:cr}))}if(Un&&On.independent!==!1){if(Fn.details){var Jn=Un.startPTS,mr=Un.endPTS,Ir=Un.startDTS,yr=Un.endDTS;if($n)$n.elementaryStreams[Un.type]={startPTS:Jn,endPTS:mr,startDTS:Ir,endDTS:yr};else if(Un.firstKeyFrame&&Un.independent&&(this.couldBacktrack=!0),Un.dropped&&Un.independent){if(this.getLoadPosition()+this.config.maxBufferHole<Jn)return void this.backtrack(Bn);Bn.setElementaryStreamInfo(Un.type,Bn.start,mr,Bn.start,yr,!0)}Bn.setElementaryStreamInfo(Un.type,Jn,mr,Ir,yr),this.bufferFragmentData(Un,Bn,$n,Dn)}}else if(On.independent===!1)return void this.backtrack(Bn);if(or){var Tr=or.startPTS,Sr=or.endPTS,Yn=or.startDTS,Qn=or.endDTS;$n&&($n.elementaryStreams[ze.ElementaryStreamTypes.AUDIO]={startPTS:Tr,endPTS:Sr,startDTS:Yn,endDTS:Qn}),Bn.setElementaryStreamInfo(ze.ElementaryStreamTypes.AUDIO,Tr,Sr,Yn,Qn),this.bufferFragmentData(or,Bn,$n,Dn)}if(Wn!=null&&(In=Wn.samples)!==null&&In!==void 0&&In.length){var rr={frag:Bn,id:Rn,samples:Wn.samples};Nn.trigger(Ne.Events.FRAG_PARSING_METADATA,rr)}if(Hn){var gr={frag:Bn,id:Rn,samples:Hn.samples};Nn.trigger(Ne.Events.FRAG_PARSING_USERDATA,gr)}}},Pn._bufferInitSegment=function(kn,In,Rn,Nn){var On=this;if(this.state===Ie.State.PARSING){this.audioOnly=!!In.audio&&!In.video,this.altAudio&&!this.audioOnly&&delete In.audio;var Dn=In.audio,Mn=In.video,Bn=In.audiovideo;if(Dn){var $n=kn.audioCodec,Fn=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&($n&&($n=$n.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),Dn.metadata.channelCount!==1&&Fn.indexOf("firefox")===-1&&($n="mp4a.40.5")),Fn.indexOf("android")!==-1&&Dn.container!=="audio/mpeg"&&($n="mp4a.40.2",this.log("Android: force audio codec to "+$n)),kn.audioCodec&&kn.audioCodec!==$n&&this.log('Swapping manifest audio codec "'+kn.audioCodec+'" for "'+$n+'"'),Dn.levelCodec=$n,Dn.id="main",this.log("Init audio buffer, container:"+Dn.container+", codecs[selected/level/parsed]=["+($n||"")+"/"+(kn.audioCodec||"")+"/"+Dn.codec+"]")}Mn&&(Mn.levelCodec=kn.videoCodec,Mn.id="main",this.log("Init video buffer, container:"+Mn.container+", codecs[level/parsed]=["+(kn.videoCodec||"")+"/"+Mn.codec+"]")),Bn&&this.log("Init audiovideo buffer, container:"+Bn.container+", codecs[level/parsed]=["+(kn.attrs.CODECS||"")+"/"+Bn.codec+"]"),this.hls.trigger(Ne.Events.BUFFER_CODECS,In),Object.keys(In).forEach(function(Un){var Hn=In[Un].initSegment;Hn!=null&&Hn.byteLength&&On.hls.trigger(Ne.Events.BUFFER_APPENDING,{type:Un,data:Hn,frag:Rn,part:null,chunkMeta:Nn,parent:Rn.type})}),this.tick()}},Pn.backtrack=function(kn){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(kn);var In=this.fragmentTracker.backtrack(kn);this.fragPrevious=null,this.nextLoadPosition=kn.start,In?this.resetFragmentLoading(kn):this.state=Ie.State.BACKTRACKING},Pn.checkFragmentChanged=function(){var kn=this.media,In=null;if(kn&&kn.readyState>1&&kn.seeking===!1){var Rn=kn.currentTime;if(Fe.BufferHelper.isBuffered(kn,Rn)?In=this.getAppendedFrag(Rn):Fe.BufferHelper.isBuffered(kn,Rn+.1)&&(In=this.getAppendedFrag(Rn+.1)),In){var Nn=this.fragPlaying,On=In.level;Nn&&In.sn===Nn.sn&&Nn.level===On&&In.urlId===Nn.urlId||(this.hls.trigger(Ne.Events.FRAG_CHANGED,{frag:In}),Nn&&Nn.level===On||this.hls.trigger(Ne.Events.LEVEL_SWITCHED,{level:On}),this.fragPlaying=In)}}},wn=Tn,(Ln=[{key:"nextLevel",get:function(){var kn=this.nextBufferedFrag;return kn?kn.level:-1}},{key:"currentLevel",get:function(){var kn=this.media;if(kn){var In=this.getAppendedFrag(kn.currentTime);if(In)return In.level}return-1}},{key:"nextBufferedFrag",get:function(){var kn=this.media;if(kn){var In=this.getAppendedFrag(kn.currentTime);return this.followingBufferedFrag(In)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&_n(wn.prototype,Ln),Tn}(Ie.default)},"./src/controller/subtitle-stream-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"SubtitleStreamController",function(){return hn});var Ce=_e("./src/events.ts"),Ie=_e("./src/utils/logger.ts"),Oe=_e("./src/utils/buffer-helper.ts"),Ne=_e("./src/controller/fragment-finders.ts"),Fe=_e("./src/utils/discontinuities.ts"),Ue=_e("./src/controller/level-helper.ts"),$e=_e("./src/controller/fragment-tracker.ts"),ze=_e("./src/controller/base-stream-controller.ts"),Ve=_e("./src/types/loader.ts"),qe=_e("./src/types/level.ts");function En(_n,bn){for(var An=0;An<bn.length;An++){var xn=bn[An];xn.enumerable=xn.enumerable||!1,xn.configurable=!0,"value"in xn&&(xn.writable=!0),Object.defineProperty(_n,xn.key,xn)}}function vn(_n,bn){return(vn=Object.setPrototypeOf||function(An,xn){return An.__proto__=xn,An})(_n,bn)}var hn=function(_n){var bn,An;function xn(wn,Ln){var Pn;return(Pn=_n.call(this,wn,Ln,"[subtitle-stream-controller]")||this).levels=[],Pn.currentTrackId=-1,Pn.tracksBuffered=[],Pn.mainDetails=null,Pn._registerListeners(),Pn}An=_n,(bn=xn).prototype=Object.create(An.prototype),bn.prototype.constructor=bn,vn(bn,An);var Sn,Cn,Tn=xn.prototype;return Tn.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},Tn._registerListeners=function(){var wn=this.hls;wn.on(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),wn.on(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this),wn.on(Ce.Events.MANIFEST_LOADING,this.onManifestLoading,this),wn.on(Ce.Events.LEVEL_LOADED,this.onLevelLoaded,this),wn.on(Ce.Events.ERROR,this.onError,this),wn.on(Ce.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),wn.on(Ce.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),wn.on(Ce.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),wn.on(Ce.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),wn.on(Ce.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},Tn._unregisterListeners=function(){var wn=this.hls;wn.off(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),wn.off(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this),wn.off(Ce.Events.MANIFEST_LOADING,this.onManifestLoading,this),wn.off(Ce.Events.LEVEL_LOADED,this.onLevelLoaded,this),wn.off(Ce.Events.ERROR,this.onError,this),wn.off(Ce.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),wn.off(Ce.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),wn.off(Ce.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),wn.off(Ce.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),wn.off(Ce.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},Tn.startLoad=function(){this.stopLoad(),this.state=ze.State.IDLE,this.setInterval(500),this.tick()},Tn.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},Tn.onLevelLoaded=function(wn,Ln){this.mainDetails=Ln.details},Tn.onSubtitleFragProcessed=function(wn,Ln){var Pn=Ln.frag,kn=Ln.success;if(this.fragPrevious=Pn,this.state=ze.State.IDLE,kn){var In=this.tracksBuffered[this.currentTrackId];if(In){for(var Rn,Nn=Pn.start,On=0;On<In.length;On++)if(Nn>=In[On].start&&Nn<=In[On].end){Rn=In[On];break}var Dn=Pn.start+Pn.duration;Rn?Rn.end=Dn:(Rn={start:Nn,end:Dn},In.push(Rn)),this.fragmentTracker.fragBuffered(Pn)}}},Tn.onBufferFlushing=function(wn,Ln){var Pn=Ln.startOffset,kn=Ln.endOffset;if(Pn===0&&kn!==Number.POSITIVE_INFINITY){var In=this.currentTrackId,Rn=this.levels;if(!Rn.length||!Rn[In]||!Rn[In].details)return;var Nn=kn-Rn[In].details.targetduration;if(Nn<=0)return;Ln.endOffsetSubtitles=Math.max(0,Nn),this.tracksBuffered.forEach(function(On){for(var Dn=0;Dn<On.length;)if(On[Dn].end<=Nn)On.shift();else{if(!(On[Dn].start<Nn))break;On[Dn].start=Nn,Dn++}}),this.fragmentTracker.removeFragmentsInRange(Pn,Nn,Ve.PlaylistLevelType.SUBTITLE)}},Tn.onError=function(wn,Ln){var Pn,kn=Ln.frag;kn&&kn.type===Ve.PlaylistLevelType.SUBTITLE&&((Pn=this.fragCurrent)!==null&&Pn!==void 0&&Pn.loader&&this.fragCurrent.loader.abort(),this.state=ze.State.IDLE)},Tn.onSubtitleTracksUpdated=function(wn,Ln){var Pn=this,kn=Ln.subtitleTracks;this.tracksBuffered=[],this.levels=kn.map(function(In){return new qe.Level(In)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(In){Pn.tracksBuffered[In.id]=[]}),this.mediaBuffer=null},Tn.onSubtitleTrackSwitch=function(wn,Ln){if(this.currentTrackId=Ln.id,this.levels.length&&this.currentTrackId!==-1){var Pn=this.levels[this.currentTrackId];Pn!=null&&Pn.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},Tn.onSubtitleTrackLoaded=function(wn,Ln){var Pn,kn=Ln.details,In=Ln.id,Rn=this.currentTrackId,Nn=this.levels;if(Nn.length){var On=Nn[Rn];if(!(In>=Nn.length||In!==Rn)&&On){if(this.mediaBuffer=this.mediaBufferTimeRanges,kn.live||(Pn=On.details)!==null&&Pn!==void 0&&Pn.live){var Dn=this.mainDetails;if(kn.deltaUpdateFailed||!Dn)return;var Mn=Dn.fragments[0];On.details?this.alignPlaylists(kn,On.details)===0&&Mn&&Object(Ue.addSliding)(kn,Mn.start):kn.hasProgramDateTime&&Dn.hasProgramDateTime?Object(Fe.alignPDT)(kn,Dn):Mn&&Object(Ue.addSliding)(kn,Mn.start)}On.details=kn,this.levelLastLoaded=In,this.tick(),kn.live&&!this.fragCurrent&&this.media&&this.state===ze.State.IDLE&&(Object(Ne.findFragmentByPTS)(null,kn.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),On.details=void 0))}}},Tn._handleFragmentLoadComplete=function(wn){var Ln=wn.frag,Pn=wn.payload,kn=Ln.decryptdata,In=this.hls;if(!this.fragContextChanged(Ln)&&Pn&&Pn.byteLength>0&&kn&&kn.key&&kn.iv&&kn.method==="AES-128"){var Rn=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(Pn),kn.key.buffer,kn.iv.buffer).then(function(Nn){var On=performance.now();In.trigger(Ce.Events.FRAG_DECRYPTED,{frag:Ln,payload:Nn,stats:{tstart:Rn,tdecrypt:On}})})}},Tn.doTick=function(){if(this.media){if(this.state===ze.State.IDLE){var wn,Ln=this.currentTrackId,Pn=this.levels;if(!Pn.length||!Pn[Ln]||!Pn[Ln].details)return;var kn=Pn[Ln].details,In=kn.targetduration,Rn=this.config,Nn=this.media,On=Oe.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,Nn.currentTime-In,Rn.maxBufferHole),Dn=On.end;if(On.len>this.getMaxBufferLength()+In)return;console.assert(kn,"Subtitle track details are defined on idle subtitle stream controller tick");var Mn,Bn=kn.fragments,$n=Bn.length,Fn=kn.edge,Un=this.fragPrevious;if(Dn<Fn){var Hn=Rn.maxFragLookUpTolerance;Un&&kn.hasProgramDateTime&&(Mn=Object(Ne.findFragmentByPDT)(Bn,Un.endProgramDateTime,Hn)),Mn||!(Mn=Object(Ne.findFragmentByPTS)(Un,Bn,Dn,Hn))&&Un&&Un.start<Bn[0].start&&(Mn=Bn[0])}else Mn=Bn[$n-1];(wn=Mn)!==null&&wn!==void 0&&wn.encrypted?(Ie.logger.log("Loading key for "+Mn.sn),this.state=ze.State.KEY_LOADING,this.hls.trigger(Ce.Events.KEY_LOADING,{frag:Mn})):Mn&&this.fragmentTracker.getState(Mn)===$e.FragmentState.NOT_LOADED&&this.loadFragment(Mn,kn,Dn)}}else this.state=ze.State.IDLE},Tn.loadFragment=function(wn,Ln,Pn){this.fragCurrent=wn,_n.prototype.loadFragment.call(this,wn,Ln,Pn)},Sn=xn,(Cn=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&En(Sn.prototype,Cn),xn}(ze.default)},"./src/controller/subtitle-track-controller.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/events.ts"),Ie=_e("./src/utils/texttrack-utils.ts"),Oe=_e("./src/controller/base-playlist-controller.ts"),Ne=_e("./src/types/loader.ts");function Fe(Ve,qe){for(var En=0;En<qe.length;En++){var vn=qe[En];vn.enumerable=vn.enumerable||!1,vn.configurable=!0,"value"in vn&&(vn.writable=!0),Object.defineProperty(Ve,vn.key,vn)}}function Ue(Ve,qe){return(Ue=Object.setPrototypeOf||function(En,vn){return En.__proto__=vn,En})(Ve,qe)}var $e=function(Ve){var qe,En;function vn(An){var xn;return(xn=Ve.call(this,An,"[subtitle-track-controller]")||this).media=null,xn.tracks=[],xn.groupId=null,xn.tracksInGroup=[],xn.trackId=-1,xn.selectDefaultTrack=!0,xn.queuedDefaultTrack=-1,xn.trackChangeListener=function(){return xn.onTextTracksChanged()},xn.asyncPollTrackChange=function(){return xn.pollTrackChange(0)},xn.useTextTrackPolling=!1,xn.subtitlePollingInterval=-1,xn.subtitleDisplay=!0,xn.registerListeners(),xn}En=Ve,(qe=vn).prototype=Object.create(En.prototype),qe.prototype.constructor=qe,Ue(qe,En);var hn,_n,bn=vn.prototype;return bn.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,Ve.prototype.destroy.call(this)},bn.registerListeners=function(){var An=this.hls;An.on(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),An.on(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this),An.on(Ce.Events.MANIFEST_LOADING,this.onManifestLoading,this),An.on(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this),An.on(Ce.Events.LEVEL_LOADING,this.onLevelLoading,this),An.on(Ce.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),An.on(Ce.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),An.on(Ce.Events.ERROR,this.onError,this)},bn.unregisterListeners=function(){var An=this.hls;An.off(Ce.Events.MEDIA_ATTACHED,this.onMediaAttached,this),An.off(Ce.Events.MEDIA_DETACHING,this.onMediaDetaching,this),An.off(Ce.Events.MANIFEST_LOADING,this.onManifestLoading,this),An.off(Ce.Events.MANIFEST_PARSED,this.onManifestParsed,this),An.off(Ce.Events.LEVEL_LOADING,this.onLevelLoading,this),An.off(Ce.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),An.off(Ce.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),An.off(Ce.Events.ERROR,this.onError,this)},bn.onMediaAttached=function(An,xn){this.media=xn.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},bn.pollTrackChange=function(An){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,An)},bn.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),ze(this.media.textTracks).forEach(function(An){Object(Ie.clearCurrentCues)(An)}),this.subtitleTrack=-1,this.media=null)},bn.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},bn.onManifestParsed=function(An,xn){this.tracks=xn.subtitleTracks},bn.onSubtitleTrackLoaded=function(An,xn){var Sn=xn.id,Cn=xn.details,Tn=this.trackId,wn=this.tracksInGroup[Tn];if(wn){var Ln=wn.details;wn.details=xn.details,this.log("subtitle track "+Sn+" loaded ["+Cn.startSN+"-"+Cn.endSN+"]"),Sn===this.trackId&&(this.retryCount=0,this.playlistLoaded(Sn,xn,Ln))}else this.warn("Invalid subtitle track id "+Sn)},bn.onLevelLoading=function(An,xn){this.switchLevel(xn.level)},bn.onLevelSwitching=function(An,xn){this.switchLevel(xn.level)},bn.switchLevel=function(An){var xn=this.hls.levels[An];if(xn!=null&&xn.textGroupIds){var Sn=xn.textGroupIds[xn.urlId];if(this.groupId!==Sn){var Cn=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,Tn=this.tracks.filter(function(Pn){return!Sn||Pn.groupId===Sn});this.tracksInGroup=Tn;var wn=this.findTrackId(Cn==null?void 0:Cn.name)||this.findTrackId();this.groupId=Sn;var Ln={subtitleTracks:Tn};this.log("Updating subtitle tracks, "+Tn.length+' track(s) found in "'+Sn+'" group-id'),this.hls.trigger(Ce.Events.SUBTITLE_TRACKS_UPDATED,Ln),wn!==-1&&this.setSubtitleTrack(wn,Cn)}}},bn.findTrackId=function(An){for(var xn=this.tracksInGroup,Sn=0;Sn<xn.length;Sn++){var Cn=xn[Sn];if((!this.selectDefaultTrack||Cn.default)&&(!An||An===Cn.name))return Cn.id}return-1},bn.onError=function(An,xn){Ve.prototype.onError.call(this,An,xn),!xn.fatal&&xn.context&&xn.context.type===Ne.PlaylistContextType.SUBTITLE_TRACK&&xn.context.id===this.trackId&&xn.context.groupId===this.groupId&&this.retryLoadingOrFail(xn)},bn.loadPlaylist=function(An){var xn=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(xn)){var Sn=xn.id,Cn=xn.groupId,Tn=xn.url;if(An)try{Tn=An.addDirectives(Tn)}catch(wn){this.warn("Could not construct new URL with HLS Delivery Directives: "+wn)}this.log("Loading subtitle playlist for id "+Sn),this.hls.trigger(Ce.Events.SUBTITLE_TRACK_LOADING,{url:Tn,id:Sn,groupId:Cn,deliveryDirectives:An||null})}},bn.toggleTrackModes=function(An){var xn=this,Sn=this.media,Cn=this.subtitleDisplay,Tn=this.trackId;if(Sn){var wn=ze(Sn.textTracks),Ln=wn.filter(function(In){return In.groupId===xn.groupId});if(An===-1)[].slice.call(wn).forEach(function(In){In.mode="disabled"});else{var Pn=Ln[Tn];Pn&&(Pn.mode="disabled")}var kn=Ln[An];kn&&(kn.mode=Cn?"showing":"hidden")}},bn.setSubtitleTrack=function(An,xn){var Sn,Cn=this.tracksInGroup;if(this.media){if(this.trackId!==An&&this.toggleTrackModes(An),!(this.trackId===An&&(An===-1||(Sn=Cn[An])!==null&&Sn!==void 0&&Sn.details)||An<-1||An>=Cn.length)){this.clearTimer();var Tn=Cn[An];if(this.log("Switching to subtitle track "+An),this.trackId=An,Tn){var wn=Tn.id,Ln=Tn.groupId,Pn=Ln===void 0?"":Ln,kn=Tn.name,In=Tn.type,Rn=Tn.url;this.hls.trigger(Ce.Events.SUBTITLE_TRACK_SWITCH,{id:wn,groupId:Pn,name:kn,type:In,url:Rn});var Nn=this.switchParams(Tn.url,xn==null?void 0:xn.details);this.loadPlaylist(Nn)}else this.hls.trigger(Ce.Events.SUBTITLE_TRACK_SWITCH,{id:An})}}else this.queuedDefaultTrack=An},bn.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var An=-1,xn=ze(this.media.textTracks),Sn=0;Sn<xn.length;Sn++)if(xn[Sn].mode==="hidden")An=Sn;else if(xn[Sn].mode==="showing"){An=Sn;break}this.subtitleTrack!==An&&(this.subtitleTrack=An)}},hn=vn,(_n=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(An){this.selectDefaultTrack=!1;var xn=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(An,xn)}}])&&Fe(hn.prototype,_n),vn}(Oe.default);function ze(Ve){for(var qe=[],En=0;En<Ve.length;En++){var vn=Ve[En];vn.kind==="subtitles"&&vn.label&&qe.push(Ve[En])}return qe}pe.default=$e},"./src/controller/timeline-controller.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"TimelineController",function(){return qe});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/events.ts"),Oe=_e("./src/utils/cea-608-parser.ts"),Ne=_e("./src/utils/output-filter.ts"),Fe=_e("./src/utils/webvtt-parser.ts"),Ue=_e("./src/utils/texttrack-utils.ts"),$e=_e("./src/utils/imsc1-ttml-parser.ts"),ze=_e("./src/types/loader.ts"),Ve=_e("./src/utils/logger.ts"),qe=function(){function vn(_n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=_n,this.config=_n.config,this.Cues=_n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var bn=new Ne.default(this,"textTrack1"),An=new Ne.default(this,"textTrack2"),xn=new Ne.default(this,"textTrack3"),Sn=new Ne.default(this,"textTrack4");this.cea608Parser1=new Oe.default(1,bn,An),this.cea608Parser2=new Oe.default(3,xn,Sn)}_n.on(Ie.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_n.on(Ie.Events.MEDIA_DETACHING,this.onMediaDetaching,this),_n.on(Ie.Events.MANIFEST_LOADING,this.onManifestLoading,this),_n.on(Ie.Events.MANIFEST_LOADED,this.onManifestLoaded,this),_n.on(Ie.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),_n.on(Ie.Events.FRAG_LOADING,this.onFragLoading,this),_n.on(Ie.Events.FRAG_LOADED,this.onFragLoaded,this),_n.on(Ie.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),_n.on(Ie.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),_n.on(Ie.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),_n.on(Ie.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),_n.on(Ie.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var hn=vn.prototype;return hn.destroy=function(){var _n=this.hls;_n.off(Ie.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_n.off(Ie.Events.MEDIA_DETACHING,this.onMediaDetaching,this),_n.off(Ie.Events.MANIFEST_LOADING,this.onManifestLoading,this),_n.off(Ie.Events.MANIFEST_LOADED,this.onManifestLoaded,this),_n.off(Ie.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),_n.off(Ie.Events.FRAG_LOADING,this.onFragLoading,this),_n.off(Ie.Events.FRAG_LOADED,this.onFragLoaded,this),_n.off(Ie.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),_n.off(Ie.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),_n.off(Ie.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),_n.off(Ie.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),_n.off(Ie.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},hn.addCues=function(_n,bn,An,xn,Sn){for(var Cn,Tn,wn,Ln,Pn=!1,kn=Sn.length;kn--;){var In=Sn[kn],Rn=(Cn=In[0],Tn=In[1],wn=bn,Ln=An,Math.min(Tn,Ln)-Math.max(Cn,wn));if(Rn>=0&&(In[0]=Math.min(In[0],bn),In[1]=Math.max(In[1],An),Pn=!0,Rn/(An-bn)>.5))return}if(Pn||Sn.push([bn,An]),this.config.renderTextTracksNatively){var Nn=this.captionsTracks[_n];this.Cues.newCue(Nn,bn,An,xn)}else{var On=this.Cues.newCue(null,bn,An,xn);this.hls.trigger(Ie.Events.CUES_PARSED,{type:"captions",cues:On,track:_n})}},hn.onInitPtsFound=function(_n,bn){var An=this,xn=bn.frag,Sn=bn.id,Cn=bn.initPTS,Tn=bn.timescale,wn=this.unparsedVttFrags;Sn==="main"&&(this.initPTS[xn.cc]=Cn,this.timescale[xn.cc]=Tn),wn.length&&(this.unparsedVttFrags=[],wn.forEach(function(Ln){An.onFragLoaded(Ie.Events.FRAG_LOADED,Ln)}))},hn.getExistingTrack=function(_n){var bn=this.media;if(bn)for(var An=0;An<bn.textTracks.length;An++){var xn=bn.textTracks[An];if(xn[_n])return xn}return null},hn.createCaptionsTrack=function(_n){this.config.renderTextTracksNatively?this.createNativeTrack(_n):this.createNonNativeTrack(_n)},hn.createNativeTrack=function(_n){if(!this.captionsTracks[_n]){var bn=this.captionsProperties,An=this.captionsTracks,xn=this.media,Sn=bn[_n],Cn=Sn.label,Tn=Sn.languageCode,wn=this.getExistingTrack(_n);if(wn)An[_n]=wn,Object(Ue.clearCurrentCues)(An[_n]),Object(Ue.sendAddTrackEvent)(An[_n],xn);else{var Ln=this.createTextTrack("captions",Cn,Tn);Ln&&(Ln[_n]=!0,An[_n]=Ln)}}},hn.createNonNativeTrack=function(_n){if(!this.nonNativeCaptionsTracks[_n]){var bn=this.captionsProperties[_n];if(bn){var An={_id:_n,label:bn.label,kind:"captions",default:!!bn.media&&!!bn.media.default,closedCaptions:bn.media};this.nonNativeCaptionsTracks[_n]=An,this.hls.trigger(Ie.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[An]})}}},hn.createTextTrack=function(_n,bn,An){var xn=this.media;if(xn)return xn.addTextTrack(_n,bn,An)},hn.onMediaAttaching=function(_n,bn){this.media=bn.media,this._cleanTracks()},hn.onMediaDetaching=function(){var _n=this.captionsTracks;Object.keys(_n).forEach(function(bn){Object(Ue.clearCurrentCues)(_n[bn]),delete _n[bn]}),this.nonNativeCaptionsTracks={}},hn.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},hn._cleanTracks=function(){var _n=this.media;if(_n){var bn=_n.textTracks;if(bn)for(var An=0;An<bn.length;An++)Object(Ue.clearCurrentCues)(bn[An])}},hn.onSubtitleTracksUpdated=function(_n,bn){var An=this;this.textTracks=[];var xn=bn.subtitleTracks||[],Sn=xn.some(function(Ln){return Ln.textCodec===$e.IMSC1_CODEC});if(this.config.enableWebVTT||Sn&&this.config.enableIMSC1){var Cn=this.tracks&&xn&&this.tracks.length===xn.length;if(this.tracks=xn||[],this.config.renderTextTracksNatively){var Tn=this.media?this.media.textTracks:[];this.tracks.forEach(function(Ln,Pn){var kn;if(Pn<Tn.length){for(var In=null,Rn=0;Rn<Tn.length;Rn++)if(En(Tn[Rn],Ln)){In=Tn[Rn];break}In&&(kn=In)}kn?Object(Ue.clearCurrentCues)(kn):(kn=An.createTextTrack("subtitles",Ln.name,Ln.lang))&&(kn.mode="disabled"),kn&&(kn.groupId=Ln.groupId,An.textTracks.push(kn))})}else if(!Cn&&this.tracks&&this.tracks.length){var wn=this.tracks.map(function(Ln){return{label:Ln.name,kind:Ln.type.toLowerCase(),default:Ln.default,subtitleTrack:Ln}});this.hls.trigger(Ie.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:wn})}}},hn.onManifestLoaded=function(_n,bn){var An=this;this.config.enableCEA708Captions&&bn.captions&&bn.captions.forEach(function(xn){var Sn=/(?:CC|SERVICE)([1-4])/.exec(xn.instreamId);if(Sn){var Cn="textTrack"+Sn[1],Tn=An.captionsProperties[Cn];Tn&&(Tn.label=xn.name,xn.lang&&(Tn.languageCode=xn.lang),Tn.media=xn)}})},hn.onFragLoading=function(_n,bn){var An=this.cea608Parser1,xn=this.cea608Parser2,Sn=this.lastSn;if(this.enabled&&An&&xn&&bn.frag.type===ze.PlaylistLevelType.MAIN){var Cn=bn.frag.sn;Cn!==Sn+1&&(An.reset(),xn.reset()),this.lastSn=Cn}},hn.onFragLoaded=function(_n,bn){var An=bn.frag,xn=bn.payload,Sn=this.initPTS,Cn=this.unparsedVttFrags;if(An.type===ze.PlaylistLevelType.SUBTITLE)if(xn.byteLength){if(!Object(Ce.isFiniteNumber)(Sn[An.cc]))return Cn.push(bn),void(Sn.length&&this.hls.trigger(Ie.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:An,error:new Error("Missing initial subtitle PTS")}));var Tn=An.decryptdata;if(Tn==null||Tn.key==null||Tn.method!=="AES-128"){var wn=this.tracks[An.level],Ln=this.vttCCs;Ln[An.cc]||(Ln[An.cc]={start:An.start,prevCC:this.prevCC,new:!0},this.prevCC=An.cc),wn&&wn.textCodec===$e.IMSC1_CODEC?this._parseIMSC1(An,xn):this._parseVTTs(An,xn,Ln)}}else this.hls.trigger(Ie.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:An,error:new Error("Empty subtitle payload")})},hn._parseIMSC1=function(_n,bn){var An=this,xn=this.hls;Object($e.parseIMSC1)(bn,this.initPTS[_n.cc],this.timescale[_n.cc],function(Sn){An._appendCues(Sn,_n.level),xn.trigger(Ie.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:_n})},function(Sn){Ve.logger.log("Failed to parse IMSC1: "+Sn),xn.trigger(Ie.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:_n,error:Sn})})},hn._parseVTTs=function(_n,bn,An){var xn=this,Sn=this.hls;Object(Fe.parseWebVTT)(bn,this.initPTS[_n.cc],this.timescale[_n.cc],An,_n.cc,_n.start,function(Cn){xn._appendCues(Cn,_n.level),Sn.trigger(Ie.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:_n})},function(Cn){xn._fallbackToIMSC1(_n,bn),Ve.logger.log("Failed to parse VTT cue: "+Cn),Sn.trigger(Ie.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:_n,error:Cn})})},hn._fallbackToIMSC1=function(_n,bn){var An=this,xn=this.tracks[_n.level];xn.textCodec||Object($e.parseIMSC1)(bn,this.initPTS[_n.cc],this.timescale[_n.cc],function(){xn.textCodec=$e.IMSC1_CODEC,An._parseIMSC1(_n,bn)},function(){xn.textCodec="wvtt"})},hn._appendCues=function(_n,bn){var An=this.hls;if(this.config.renderTextTracksNatively){var xn=this.textTracks[bn];if(xn.mode==="disabled")return;_n.forEach(function(Cn){return Object(Ue.addCueToTrack)(xn,Cn)})}else{var Sn=this.tracks[bn].default?"default":"subtitles"+bn;An.trigger(Ie.Events.CUES_PARSED,{type:"subtitles",cues:_n,track:Sn})}},hn.onFragDecrypted=function(_n,bn){var An=bn.frag;if(An.type===ze.PlaylistLevelType.SUBTITLE){if(!Object(Ce.isFiniteNumber)(this.initPTS[An.cc]))return void this.unparsedVttFrags.push(bn);this.onFragLoaded(Ie.Events.FRAG_LOADED,bn)}},hn.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},hn.onFragParsingUserdata=function(_n,bn){var An=this.cea608Parser1,xn=this.cea608Parser2;if(this.enabled&&An&&xn)for(var Sn=0;Sn<bn.samples.length;Sn++){var Cn=bn.samples[Sn].bytes;if(Cn){var Tn=this.extractCea608Data(Cn);An.addData(bn.samples[Sn].pts,Tn[0]),xn.addData(bn.samples[Sn].pts,Tn[1])}}},hn.onBufferFlushing=function(_n,bn){var An=bn.startOffset,xn=bn.endOffset,Sn=bn.endOffsetSubtitles,Cn=bn.type,Tn=this.media;if(Tn&&!(Tn.currentTime<xn)){if(!Cn||Cn==="video"){var wn=this.captionsTracks;Object.keys(wn).forEach(function(Pn){return Object(Ue.removeCuesInRange)(wn[Pn],An,xn)})}if(this.config.renderTextTracksNatively&&An===0&&Sn!==void 0){var Ln=this.textTracks;Object.keys(Ln).forEach(function(Pn){return Object(Ue.removeCuesInRange)(Ln[Pn],An,Sn)})}}},hn.extractCea608Data=function(_n){for(var bn=31&_n[0],An=2,xn=[[],[]],Sn=0;Sn<bn;Sn++){var Cn=_n[An++],Tn=127&_n[An++],wn=127&_n[An++],Ln=3&Cn;Tn===0&&wn===0||4&Cn&&(Ln!==0&&Ln!==1||(xn[Ln].push(Tn),xn[Ln].push(wn)))}return xn},vn}();function En(vn,hn){return vn&&vn.label===hn.name&&!(vn.textTrack1||vn.textTrack2)}},"./src/crypt/aes-crypto.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ce});var Ce=function(){function Ie(Oe,Ne){this.subtle=void 0,this.aesIV=void 0,this.subtle=Oe,this.aesIV=Ne}return Ie.prototype.decrypt=function(Oe,Ne){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},Ne,Oe)},Ie}()},"./src/crypt/aes-decryptor.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"removePadding",function(){return Ie}),_e.d(pe,"default",function(){return Oe});var Ce=_e("./src/utils/typed-array.ts");function Ie(Ne){var Fe=Ne.byteLength,Ue=Fe&&new DataView(Ne.buffer).getUint8(Fe-1);return Ue?Object(Ce.sliceUint8)(Ne,0,Fe-Ue):Ne}var Oe=function(){function Ne(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var Fe=Ne.prototype;return Fe.uint8ArrayToUint32Array_=function(Ue){for(var $e=new DataView(Ue),ze=new Uint32Array(4),Ve=0;Ve<4;Ve++)ze[Ve]=$e.getUint32(4*Ve);return ze},Fe.initTable=function(){var Ue=this.sBox,$e=this.invSBox,ze=this.subMix,Ve=ze[0],qe=ze[1],En=ze[2],vn=ze[3],hn=this.invSubMix,_n=hn[0],bn=hn[1],An=hn[2],xn=hn[3],Sn=new Uint32Array(256),Cn=0,Tn=0,wn=0;for(wn=0;wn<256;wn++)Sn[wn]=wn<128?wn<<1:wn<<1^283;for(wn=0;wn<256;wn++){var Ln=Tn^Tn<<1^Tn<<2^Tn<<3^Tn<<4;Ln=Ln>>>8^255&Ln^99,Ue[Cn]=Ln,$e[Ln]=Cn;var Pn=Sn[Cn],kn=Sn[Pn],In=Sn[kn],Rn=257*Sn[Ln]^16843008*Ln;Ve[Cn]=Rn<<24|Rn>>>8,qe[Cn]=Rn<<16|Rn>>>16,En[Cn]=Rn<<8|Rn>>>24,vn[Cn]=Rn,Rn=16843009*In^65537*kn^257*Pn^16843008*Cn,_n[Ln]=Rn<<24|Rn>>>8,bn[Ln]=Rn<<16|Rn>>>16,An[Ln]=Rn<<8|Rn>>>24,xn[Ln]=Rn,Cn?(Cn=Pn^Sn[Sn[Sn[In^Pn]]],Tn^=Sn[Sn[Tn]]):Cn=Tn=1}},Fe.expandKey=function(Ue){for(var $e=this.uint8ArrayToUint32Array_(Ue),ze=!0,Ve=0;Ve<$e.length&&ze;)ze=$e[Ve]===this.key[Ve],Ve++;if(!ze){this.key=$e;var qe=this.keySize=$e.length;if(qe!==4&&qe!==6&&qe!==8)throw new Error("Invalid aes key size="+qe);var En,vn,hn,_n,bn=this.ksRows=4*(qe+6+1),An=this.keySchedule=new Uint32Array(bn),xn=this.invKeySchedule=new Uint32Array(bn),Sn=this.sBox,Cn=this.rcon,Tn=this.invSubMix,wn=Tn[0],Ln=Tn[1],Pn=Tn[2],kn=Tn[3];for(En=0;En<bn;En++)En<qe?hn=An[En]=$e[En]:(_n=hn,En%qe==0?(_n=Sn[(_n=_n<<8|_n>>>24)>>>24]<<24|Sn[_n>>>16&255]<<16|Sn[_n>>>8&255]<<8|Sn[255&_n],_n^=Cn[En/qe|0]<<24):qe>6&&En%qe==4&&(_n=Sn[_n>>>24]<<24|Sn[_n>>>16&255]<<16|Sn[_n>>>8&255]<<8|Sn[255&_n]),An[En]=hn=(An[En-qe]^_n)>>>0);for(vn=0;vn<bn;vn++)En=bn-vn,_n=3&vn?An[En]:An[En-4],xn[vn]=vn<4||En<=4?_n:wn[Sn[_n>>>24]]^Ln[Sn[_n>>>16&255]]^Pn[Sn[_n>>>8&255]]^kn[Sn[255&_n]],xn[vn]=xn[vn]>>>0}},Fe.networkToHostOrderSwap=function(Ue){return Ue<<24|(65280&Ue)<<8|(16711680&Ue)>>8|Ue>>>24},Fe.decrypt=function(Ue,$e,ze){for(var Ve,qe,En,vn,hn,_n,bn,An,xn,Sn,Cn,Tn,wn,Ln,Pn=this.keySize+6,kn=this.invKeySchedule,In=this.invSBox,Rn=this.invSubMix,Nn=Rn[0],On=Rn[1],Dn=Rn[2],Mn=Rn[3],Bn=this.uint8ArrayToUint32Array_(ze),$n=Bn[0],Fn=Bn[1],Un=Bn[2],Hn=Bn[3],Wn=new Int32Array(Ue),Xn=new Int32Array(Wn.length),or=this.networkToHostOrderSwap;$e<Wn.length;){for(xn=or(Wn[$e]),Sn=or(Wn[$e+1]),Cn=or(Wn[$e+2]),Tn=or(Wn[$e+3]),hn=xn^kn[0],_n=Tn^kn[1],bn=Cn^kn[2],An=Sn^kn[3],wn=4,Ln=1;Ln<Pn;Ln++)Ve=Nn[hn>>>24]^On[_n>>16&255]^Dn[bn>>8&255]^Mn[255&An]^kn[wn],qe=Nn[_n>>>24]^On[bn>>16&255]^Dn[An>>8&255]^Mn[255&hn]^kn[wn+1],En=Nn[bn>>>24]^On[An>>16&255]^Dn[hn>>8&255]^Mn[255&_n]^kn[wn+2],vn=Nn[An>>>24]^On[hn>>16&255]^Dn[_n>>8&255]^Mn[255&bn]^kn[wn+3],hn=Ve,_n=qe,bn=En,An=vn,wn+=4;Ve=In[hn>>>24]<<24^In[_n>>16&255]<<16^In[bn>>8&255]<<8^In[255&An]^kn[wn],qe=In[_n>>>24]<<24^In[bn>>16&255]<<16^In[An>>8&255]<<8^In[255&hn]^kn[wn+1],En=In[bn>>>24]<<24^In[An>>16&255]<<16^In[hn>>8&255]<<8^In[255&_n]^kn[wn+2],vn=In[An>>>24]<<24^In[hn>>16&255]<<16^In[_n>>8&255]<<8^In[255&bn]^kn[wn+3],Xn[$e]=or(Ve^$n),Xn[$e+1]=or(vn^Fn),Xn[$e+2]=or(En^Un),Xn[$e+3]=or(qe^Hn),$n=xn,Fn=Sn,Un=Cn,Hn=Tn,$e+=4}return Xn.buffer},Ne}()},"./src/crypt/decrypter.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return $e});var Ce=_e("./src/crypt/aes-crypto.ts"),Ie=_e("./src/crypt/fast-aes-key.ts"),Oe=_e("./src/crypt/aes-decryptor.ts"),Ne=_e("./src/utils/logger.ts"),Fe=_e("./src/utils/mp4-tools.ts"),Ue=_e("./src/utils/typed-array.ts"),$e=function(){function ze(qe,En,vn){var hn=(vn===void 0?{}:vn).removePKCS7Padding,_n=hn===void 0||hn;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=qe,this.config=En,this.removePKCS7Padding=_n,_n)try{var bn=self.crypto;bn&&(this.subtle=bn.subtle||bn.webkitSubtle)}catch(An){}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var Ve=ze.prototype;return Ve.destroy=function(){this.observer=null},Ve.isSync=function(){return this.config.enableSoftwareAES},Ve.flush=function(){var qe=this.currentResult;if(qe){var En=new Uint8Array(qe);return this.reset(),this.removePKCS7Padding?Object(Oe.removePadding)(En):En}this.reset()},Ve.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},Ve.decrypt=function(qe,En,vn,hn){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(qe),En,vn);var _n=this.flush();_n&&hn(_n.buffer)}else this.webCryptoDecrypt(new Uint8Array(qe),En,vn).then(hn)},Ve.softwareDecrypt=function(qe,En,vn){var hn=this.currentIV,_n=this.currentResult,bn=this.remainderData;this.logOnce("JS AES decrypt"),bn&&(qe=Object(Fe.appendUint8Array)(bn,qe),this.remainderData=null);var An=this.getValidChunk(qe);if(!An.length)return null;hn&&(vn=hn);var xn=this.softwareDecrypter;xn||(xn=this.softwareDecrypter=new Oe.default),xn.expandKey(En);var Sn=_n;return this.currentResult=xn.decrypt(An.buffer,0,vn),this.currentIV=Object(Ue.sliceUint8)(An,-16).buffer,Sn||null},Ve.webCryptoDecrypt=function(qe,En,vn){var hn=this,_n=this.subtle;return this.key===En&&this.fastAesKey||(this.key=En,this.fastAesKey=new Ie.default(_n,En)),this.fastAesKey.expandKey().then(function(bn){return _n?new Ce.default(_n,vn).decrypt(qe.buffer,bn):Promise.reject(new Error("web crypto not initialized"))}).catch(function(bn){return hn.onWebCryptoError(bn,qe,En,vn)})},Ve.onWebCryptoError=function(qe,En,vn,hn){return Ne.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",qe),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(En,vn,hn)},Ve.getValidChunk=function(qe){var En=qe,vn=qe.length-qe.length%16;return vn!==qe.length&&(En=Object(Ue.sliceUint8)(qe,0,vn),this.remainderData=Object(Ue.sliceUint8)(qe,vn)),En},Ve.logOnce=function(qe){this.logEnabled&&(Ne.logger.log("[decrypter.ts]: "+qe),this.logEnabled=!1)},ze}()},"./src/crypt/fast-aes-key.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ce});var Ce=function(){function Ie(Oe,Ne){this.subtle=void 0,this.key=void 0,this.subtle=Oe,this.key=Ne}return Ie.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},Ie}()},"./src/demux/aacdemuxer.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/demux/base-audio-demuxer.ts"),Ie=_e("./src/demux/adts.ts"),Oe=_e("./src/utils/logger.ts"),Ne=_e("./src/demux/id3.ts");function Fe($e,ze){return(Fe=Object.setPrototypeOf||function(Ve,qe){return Ve.__proto__=qe,Ve})($e,ze)}var Ue=function($e){var ze,Ve;function qe(vn,hn){var _n;return(_n=$e.call(this)||this).observer=void 0,_n.config=void 0,_n.observer=vn,_n.config=hn,_n}Ve=$e,(ze=qe).prototype=Object.create(Ve.prototype),ze.prototype.constructor=ze,Fe(ze,Ve);var En=qe.prototype;return En.resetInitSegment=function(vn,hn,_n){$e.prototype.resetInitSegment.call(this,vn,hn,_n),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:vn,duration:_n,inputTimeScale:9e4,dropped:0}},qe.probe=function(vn){if(!vn)return!1;for(var hn=(Ne.getID3Data(vn,0)||[]).length,_n=vn.length;hn<_n;hn++)if(Ie.probe(vn,hn))return Oe.logger.log("ADTS sync word found !"),!0;return!1},En.canParse=function(vn,hn){return Ie.canParse(vn,hn)},En.appendFrame=function(vn,hn,_n){Ie.initTrackConfig(vn,this.observer,hn,_n,vn.manifestCodec);var bn=Ie.appendFrame(vn,hn,_n,this.initPTS,this.frameIndex);if(bn&&bn.missing===0)return bn},qe}(Ce.default);Ue.minProbeByteLength=9,pe.default=Ue},"./src/demux/adts.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"getAudioConfig",function(){return Ne}),_e.d(pe,"isHeaderPattern",function(){return Fe}),_e.d(pe,"getHeaderLength",function(){return Ue}),_e.d(pe,"getFullFrameLength",function(){return $e}),_e.d(pe,"canGetFrameLength",function(){return ze}),_e.d(pe,"isHeader",function(){return Ve}),_e.d(pe,"canParse",function(){return qe}),_e.d(pe,"probe",function(){return En}),_e.d(pe,"initTrackConfig",function(){return vn}),_e.d(pe,"getFrameDuration",function(){return hn}),_e.d(pe,"parseFrameHeader",function(){return _n}),_e.d(pe,"appendFrame",function(){return bn});var Ce=_e("./src/utils/logger.ts"),Ie=_e("./src/errors.ts"),Oe=_e("./src/events.ts");function Ne(An,xn,Sn,Cn){var Tn,wn,Ln,Pn,kn=navigator.userAgent.toLowerCase(),In=Cn,Rn=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Tn=1+((192&xn[Sn+2])>>>6);var Nn=(60&xn[Sn+2])>>>2;if(!(Nn>Rn.length-1))return Ln=(1&xn[Sn+2])<<2,Ln|=(192&xn[Sn+3])>>>6,Ce.logger.log("manifest codec:"+Cn+", ADTS type:"+Tn+", samplingIndex:"+Nn),/firefox/i.test(kn)?Nn>=6?(Tn=5,Pn=new Array(4),wn=Nn-3):(Tn=2,Pn=new Array(2),wn=Nn):kn.indexOf("android")!==-1?(Tn=2,Pn=new Array(2),wn=Nn):(Tn=5,Pn=new Array(4),Cn&&(Cn.indexOf("mp4a.40.29")!==-1||Cn.indexOf("mp4a.40.5")!==-1)||!Cn&&Nn>=6?wn=Nn-3:((Cn&&Cn.indexOf("mp4a.40.2")!==-1&&(Nn>=6&&Ln===1||/vivaldi/i.test(kn))||!Cn&&Ln===1)&&(Tn=2,Pn=new Array(2)),wn=Nn)),Pn[0]=Tn<<3,Pn[0]|=(14&Nn)>>1,Pn[1]|=(1&Nn)<<7,Pn[1]|=Ln<<3,Tn===5&&(Pn[1]|=(14&wn)>>1,Pn[2]=(1&wn)<<7,Pn[2]|=8,Pn[3]=0),{config:Pn,samplerate:Rn[Nn],channelCount:Ln,codec:"mp4a.40."+Tn,manifestCodec:In};An.trigger(Oe.Events.ERROR,{type:Ie.ErrorTypes.MEDIA_ERROR,details:Ie.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+Nn})}function Fe(An,xn){return An[xn]===255&&(246&An[xn+1])==240}function Ue(An,xn){return 1&An[xn+1]?7:9}function $e(An,xn){return(3&An[xn+3])<<11|An[xn+4]<<3|(224&An[xn+5])>>>5}function ze(An,xn){return xn+5<An.length}function Ve(An,xn){return xn+1<An.length&&Fe(An,xn)}function qe(An,xn){return ze(An,xn)&&Fe(An,xn)&&$e(An,xn)<=An.length-xn}function En(An,xn){if(Ve(An,xn)){var Sn=Ue(An,xn);if(xn+Sn>=An.length)return!1;var Cn=$e(An,xn);if(Cn<=Sn)return!1;var Tn=xn+Cn;return Tn===An.length||Ve(An,Tn)}return!1}function vn(An,xn,Sn,Cn,Tn){if(!An.samplerate){var wn=Ne(xn,Sn,Cn,Tn);if(!wn)return;An.config=wn.config,An.samplerate=wn.samplerate,An.channelCount=wn.channelCount,An.codec=wn.codec,An.manifestCodec=wn.manifestCodec,Ce.logger.log("parsed codec:"+An.codec+", rate:"+wn.samplerate+", channels:"+wn.channelCount)}}function hn(An){return 9216e4/An}function _n(An,xn,Sn,Cn,Tn){var wn=Ue(An,xn),Ln=$e(An,xn);if((Ln-=wn)>0)return{headerLength:wn,frameLength:Ln,stamp:Sn+Cn*Tn}}function bn(An,xn,Sn,Cn,Tn){var wn=_n(xn,Sn,Cn,Tn,hn(An.samplerate));if(wn){var Ln,Pn=wn.frameLength,kn=wn.headerLength,In=wn.stamp,Rn=kn+Pn,Nn=Math.max(0,Sn+Rn-xn.length);Nn?(Ln=new Uint8Array(Rn-kn)).set(xn.subarray(Sn+kn,xn.length),0):Ln=xn.subarray(Sn+kn,Sn+Rn);var On={unit:Ln,pts:In};return Nn||An.samples.push(On),{sample:On,length:Rn,missing:Nn}}}},"./src/demux/base-audio-demuxer.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"initPTSFn",function(){return $e});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/demux/id3.ts"),Oe=_e("./src/demux/dummy-demuxed-track.ts"),Ne=_e("./src/utils/mp4-tools.ts"),Fe=_e("./src/utils/typed-array.ts"),Ue=function(){function ze(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var Ve=ze.prototype;return Ve.resetInitSegment=function(qe,En,vn){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},Ve.resetTimeStamp=function(){},Ve.resetContiguity=function(){},Ve.canParse=function(qe,En){return!1},Ve.appendFrame=function(qe,En,vn){},Ve.demux=function(qe,En){this.cachedData&&(qe=Object(Ne.appendUint8Array)(this.cachedData,qe),this.cachedData=null);var vn,hn,_n=Ie.getID3Data(qe,0),bn=_n?_n.length:0,An=this._audioTrack,xn=this._id3Track,Sn=_n?Ie.getTimeStamp(_n):void 0,Cn=qe.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=$e(Sn,En)),_n&&_n.length>0&&xn.samples.push({pts:this.initPTS,dts:this.initPTS,data:_n}),hn=this.initPTS;bn<Cn;){if(this.canParse(qe,bn)){var Tn=this.appendFrame(An,qe,bn);Tn?(this.frameIndex++,hn=Tn.sample.pts,vn=bn+=Tn.length):bn=Cn}else Ie.canParse(qe,bn)?(_n=Ie.getID3Data(qe,bn),xn.samples.push({pts:hn,dts:hn,data:_n}),vn=bn+=_n.length):bn++;if(bn===Cn&&vn!==Cn){var wn=Object(Fe.sliceUint8)(qe,vn);this.cachedData?this.cachedData=Object(Ne.appendUint8Array)(this.cachedData,wn):this.cachedData=wn}}return{audioTrack:An,avcTrack:Object(Oe.dummyTrack)(),id3Track:xn,textTrack:Object(Oe.dummyTrack)()}},Ve.demuxSampleAes=function(qe,En,vn){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},Ve.flush=function(qe){var En=this.cachedData;return En&&(this.cachedData=null,this.demux(En,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(Oe.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(Oe.dummyTrack)()}},Ve.destroy=function(){},ze}(),$e=function(ze,Ve){return Object(Ce.isFiniteNumber)(ze)?90*ze:9e4*Ve};pe.default=Ue},"./src/demux/chunk-cache.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ce});var Ce=function(){function Ie(){this.chunks=[],this.dataLength=0}var Oe=Ie.prototype;return Oe.push=function(Ne){this.chunks.push(Ne),this.dataLength+=Ne.length},Oe.flush=function(){var Ne,Fe=this.chunks,Ue=this.dataLength;return Fe.length?(Ne=Fe.length===1?Fe[0]:function($e,ze){for(var Ve=new Uint8Array(ze),qe=0,En=0;En<$e.length;En++){var vn=$e[En];Ve.set(vn,qe),qe+=vn.length}return Ve}(Fe,Ue),this.reset(),Ne):new Uint8Array(0)},Oe.reset=function(){this.chunks.length=0,this.dataLength=0},Ie}()},"./src/demux/dummy-demuxed-track.ts":function(xe,pe,_e){function Ce(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}_e.r(pe),_e.d(pe,"dummyTrack",function(){return Ce})},"./src/demux/exp-golomb.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/utils/logger.ts"),Ie=function(){function Oe(Fe){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=Fe,this.bytesAvailable=Fe.byteLength,this.word=0,this.bitsAvailable=0}var Ne=Oe.prototype;return Ne.loadWord=function(){var Fe=this.data,Ue=this.bytesAvailable,$e=Fe.byteLength-Ue,ze=new Uint8Array(4),Ve=Math.min(4,Ue);if(Ve===0)throw new Error("no bytes available");ze.set(Fe.subarray($e,$e+Ve)),this.word=new DataView(ze.buffer).getUint32(0),this.bitsAvailable=8*Ve,this.bytesAvailable-=Ve},Ne.skipBits=function(Fe){var Ue;this.bitsAvailable>Fe?(this.word<<=Fe,this.bitsAvailable-=Fe):(Fe-=this.bitsAvailable,Fe-=(Ue=Fe>>3)>>3,this.bytesAvailable-=Ue,this.loadWord(),this.word<<=Fe,this.bitsAvailable-=Fe)},Ne.readBits=function(Fe){var Ue=Math.min(this.bitsAvailable,Fe),$e=this.word>>>32-Ue;return Fe>32&&Ce.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=Ue,this.bitsAvailable>0?this.word<<=Ue:this.bytesAvailable>0&&this.loadWord(),(Ue=Fe-Ue)>0&&this.bitsAvailable?$e<<Ue|this.readBits(Ue):$e},Ne.skipLZ=function(){var Fe;for(Fe=0;Fe<this.bitsAvailable;++Fe)if(this.word&2147483648>>>Fe)return this.word<<=Fe,this.bitsAvailable-=Fe,Fe;return this.loadWord(),Fe+this.skipLZ()},Ne.skipUEG=function(){this.skipBits(1+this.skipLZ())},Ne.skipEG=function(){this.skipBits(1+this.skipLZ())},Ne.readUEG=function(){var Fe=this.skipLZ();return this.readBits(Fe+1)-1},Ne.readEG=function(){var Fe=this.readUEG();return 1&Fe?1+Fe>>>1:-1*(Fe>>>1)},Ne.readBoolean=function(){return this.readBits(1)===1},Ne.readUByte=function(){return this.readBits(8)},Ne.readUShort=function(){return this.readBits(16)},Ne.readUInt=function(){return this.readBits(32)},Ne.skipScalingList=function(Fe){for(var Ue=8,$e=8,ze=0;ze<Fe;ze++)$e!==0&&($e=(Ue+this.readEG()+256)%256),Ue=$e===0?Ue:$e},Ne.readSPS=function(){var Fe,Ue,$e,ze=0,Ve=0,qe=0,En=0,vn=this.readUByte.bind(this),hn=this.readBits.bind(this),_n=this.readUEG.bind(this),bn=this.readBoolean.bind(this),An=this.skipBits.bind(this),xn=this.skipEG.bind(this),Sn=this.skipUEG.bind(this),Cn=this.skipScalingList.bind(this);vn();var Tn=vn();if(hn(5),An(3),vn(),Sn(),Tn===100||Tn===110||Tn===122||Tn===244||Tn===44||Tn===83||Tn===86||Tn===118||Tn===128){var wn=_n();if(wn===3&&An(1),Sn(),Sn(),An(1),bn())for(Ue=wn!==3?8:12,$e=0;$e<Ue;$e++)bn()&&Cn($e<6?16:64)}Sn();var Ln=_n();if(Ln===0)_n();else if(Ln===1)for(An(1),xn(),xn(),Fe=_n(),$e=0;$e<Fe;$e++)xn();Sn(),An(1);var Pn=_n(),kn=_n(),In=hn(1);In===0&&An(1),An(1),bn()&&(ze=_n(),Ve=_n(),qe=_n(),En=_n());var Rn=[1,1];if(bn()&&bn())switch(vn()){case 1:Rn=[1,1];break;case 2:Rn=[12,11];break;case 3:Rn=[10,11];break;case 4:Rn=[16,11];break;case 5:Rn=[40,33];break;case 6:Rn=[24,11];break;case 7:Rn=[20,11];break;case 8:Rn=[32,11];break;case 9:Rn=[80,33];break;case 10:Rn=[18,11];break;case 11:Rn=[15,11];break;case 12:Rn=[64,33];break;case 13:Rn=[160,99];break;case 14:Rn=[4,3];break;case 15:Rn=[3,2];break;case 16:Rn=[2,1];break;case 255:Rn=[vn()<<8|vn(),vn()<<8|vn()]}return{width:Math.ceil(16*(Pn+1)-2*ze-2*Ve),height:(2-In)*(kn+1)*16-(In?2:4)*(qe+En),pixelRatio:Rn}},Ne.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},Oe}();pe.default=Ie},"./src/demux/id3.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"isHeader",function(){return Ie}),_e.d(pe,"isFooter",function(){return Oe}),_e.d(pe,"getID3Data",function(){return Ne}),_e.d(pe,"canParse",function(){return Ue}),_e.d(pe,"getTimeStamp",function(){return $e}),_e.d(pe,"isTimeStampFrame",function(){return ze}),_e.d(pe,"getID3Frames",function(){return qe}),_e.d(pe,"decodeFrame",function(){return En}),_e.d(pe,"utf8ArrayToStr",function(){return An}),_e.d(pe,"testables",function(){return xn});var Ce,Ie=function(Sn,Cn){return Cn+10<=Sn.length&&Sn[Cn]===73&&Sn[Cn+1]===68&&Sn[Cn+2]===51&&Sn[Cn+3]<255&&Sn[Cn+4]<255&&Sn[Cn+6]<128&&Sn[Cn+7]<128&&Sn[Cn+8]<128&&Sn[Cn+9]<128},Oe=function(Sn,Cn){return Cn+10<=Sn.length&&Sn[Cn]===51&&Sn[Cn+1]===68&&Sn[Cn+2]===73&&Sn[Cn+3]<255&&Sn[Cn+4]<255&&Sn[Cn+6]<128&&Sn[Cn+7]<128&&Sn[Cn+8]<128&&Sn[Cn+9]<128},Ne=function(Sn,Cn){for(var Tn=Cn,wn=0;Ie(Sn,Cn);)wn+=10,wn+=Fe(Sn,Cn+6),Oe(Sn,Cn+10)&&(wn+=10),Cn+=wn;if(wn>0)return Sn.subarray(Tn,Tn+wn)},Fe=function(Sn,Cn){var Tn=0;return Tn=(127&Sn[Cn])<<21,Tn|=(127&Sn[Cn+1])<<14,Tn|=(127&Sn[Cn+2])<<7,Tn|=127&Sn[Cn+3]},Ue=function(Sn,Cn){return Ie(Sn,Cn)&&Fe(Sn,Cn+6)+10<=Sn.length-Cn},$e=function(Sn){for(var Cn=qe(Sn),Tn=0;Tn<Cn.length;Tn++){var wn=Cn[Tn];if(ze(wn))return bn(wn)}},ze=function(Sn){return Sn&&Sn.key==="PRIV"&&Sn.info==="com.apple.streaming.transportStreamTimestamp"},Ve=function(Sn){var Cn=String.fromCharCode(Sn[0],Sn[1],Sn[2],Sn[3]),Tn=Fe(Sn,4);return{type:Cn,size:Tn,data:Sn.subarray(10,10+Tn)}},qe=function(Sn){for(var Cn=0,Tn=[];Ie(Sn,Cn);){for(var wn=Fe(Sn,Cn+6),Ln=(Cn+=10)+wn;Cn+8<Ln;){var Pn=Ve(Sn.subarray(Cn)),kn=En(Pn);kn&&Tn.push(kn),Cn+=Pn.size+10}Oe(Sn,Cn)&&(Cn+=10)}return Tn},En=function(Sn){return Sn.type==="PRIV"?vn(Sn):Sn.type[0]==="W"?_n(Sn):hn(Sn)},vn=function(Sn){if(!(Sn.size<2)){var Cn=An(Sn.data,!0),Tn=new Uint8Array(Sn.data.subarray(Cn.length+1));return{key:Sn.type,info:Cn,data:Tn.buffer}}},hn=function(Sn){if(!(Sn.size<2)){if(Sn.type==="TXXX"){var Cn=1,Tn=An(Sn.data.subarray(Cn),!0);Cn+=Tn.length+1;var wn=An(Sn.data.subarray(Cn));return{key:Sn.type,info:Tn,data:wn}}var Ln=An(Sn.data.subarray(1));return{key:Sn.type,data:Ln}}},_n=function(Sn){if(Sn.type==="WXXX"){if(Sn.size<2)return;var Cn=1,Tn=An(Sn.data.subarray(Cn),!0);Cn+=Tn.length+1;var wn=An(Sn.data.subarray(Cn));return{key:Sn.type,info:Tn,data:wn}}var Ln=An(Sn.data);return{key:Sn.type,data:Ln}},bn=function(Sn){if(Sn.data.byteLength===8){var Cn=new Uint8Array(Sn.data),Tn=1&Cn[3],wn=(Cn[4]<<23)+(Cn[5]<<15)+(Cn[6]<<7)+Cn[7];return wn/=45,Tn&&(wn+=4772185884e-2),Math.round(wn)}},An=function(Sn,Cn){Cn===void 0&&(Cn=!1);var Tn=(Ce||self.TextDecoder===void 0||(Ce=new self.TextDecoder("utf-8")),Ce);if(Tn){var wn=Tn.decode(Sn);if(Cn){var Ln=wn.indexOf("\0");return Ln!==-1?wn.substring(0,Ln):wn}return wn.replace(/\0/g,"")}for(var Pn,kn,In,Rn=Sn.length,Nn="",On=0;On<Rn;){if((Pn=Sn[On++])===0&&Cn)return Nn;if(Pn!==0&&Pn!==3)switch(Pn>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Nn+=String.fromCharCode(Pn);break;case 12:case 13:kn=Sn[On++],Nn+=String.fromCharCode((31&Pn)<<6|63&kn);break;case 14:kn=Sn[On++],In=Sn[On++],Nn+=String.fromCharCode((15&Pn)<<12|(63&kn)<<6|(63&In)<<0)}}return Nn},xn={decodeTextFrame:hn}},"./src/demux/mp3demuxer.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/demux/base-audio-demuxer.ts"),Ie=_e("./src/demux/id3.ts"),Oe=_e("./src/utils/logger.ts"),Ne=_e("./src/demux/mpegaudio.ts");function Fe($e,ze){return(Fe=Object.setPrototypeOf||function(Ve,qe){return Ve.__proto__=qe,Ve})($e,ze)}var Ue=function($e){var ze,Ve;function qe(){return $e.apply(this,arguments)||this}Ve=$e,(ze=qe).prototype=Object.create(Ve.prototype),ze.prototype.constructor=ze,Fe(ze,Ve);var En=qe.prototype;return En.resetInitSegment=function(vn,hn,_n){$e.prototype.resetInitSegment.call(this,vn,hn,_n),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:vn,duration:_n,inputTimeScale:9e4,dropped:0}},qe.probe=function(vn){if(!vn)return!1;for(var hn=(Ie.getID3Data(vn,0)||[]).length,_n=vn.length;hn<_n;hn++)if(Ne.probe(vn,hn))return Oe.logger.log("MPEG Audio sync word found !"),!0;return!1},En.canParse=function(vn,hn){return Ne.canParse(vn,hn)},En.appendFrame=function(vn,hn,_n){if(this.initPTS!==null)return Ne.appendFrame(vn,hn,_n,this.initPTS,this.frameIndex)},qe}(Ce.default);Ue.minProbeByteLength=4,pe.default=Ue},"./src/demux/mp4demuxer.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/utils/mp4-tools.ts"),Ie=_e("./src/demux/dummy-demuxed-track.ts"),Oe=function(){function Ne(Ue,$e){this.remainderData=null,this.config=void 0,this.config=$e}var Fe=Ne.prototype;return Fe.resetTimeStamp=function(){},Fe.resetInitSegment=function(){},Fe.resetContiguity=function(){},Ne.probe=function(Ue){return Object(Ce.findBox)({data:Ue,start:0,end:Math.min(Ue.length,16384)},["moof"]).length>0},Fe.demux=function(Ue){var $e=Ue,ze=Object(Ie.dummyTrack)();if(this.config.progressive){this.remainderData&&($e=Object(Ce.appendUint8Array)(this.remainderData,Ue));var Ve=Object(Ce.segmentValidRange)($e);this.remainderData=Ve.remainder,ze.samples=Ve.valid||new Uint8Array}else ze.samples=$e;return{audioTrack:Object(Ie.dummyTrack)(),avcTrack:ze,id3Track:Object(Ie.dummyTrack)(),textTrack:Object(Ie.dummyTrack)()}},Fe.flush=function(){var Ue=Object(Ie.dummyTrack)();return Ue.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(Ie.dummyTrack)(),avcTrack:Ue,id3Track:Object(Ie.dummyTrack)(),textTrack:Object(Ie.dummyTrack)()}},Fe.demuxSampleAes=function(Ue,$e,ze){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},Fe.destroy=function(){},Ne}();Oe.minProbeByteLength=1024,pe.default=Oe},"./src/demux/mpegaudio.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"appendFrame",function(){return Ue}),_e.d(pe,"parseHeader",function(){return $e}),_e.d(pe,"isHeaderPattern",function(){return ze}),_e.d(pe,"isHeader",function(){return Ve}),_e.d(pe,"canParse",function(){return qe}),_e.d(pe,"probe",function(){return En});var Ce=null,Ie=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Oe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ne=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Fe=[0,1,1,4];function Ue(vn,hn,_n,bn,An){if(!(_n+24>hn.length)){var xn=$e(hn,_n);if(xn&&_n+xn.frameLength<=hn.length){var Sn=bn+An*(9e4*xn.samplesPerFrame/xn.sampleRate),Cn={unit:hn.subarray(_n,_n+xn.frameLength),pts:Sn,dts:Sn};return vn.config=[],vn.channelCount=xn.channelCount,vn.samplerate=xn.sampleRate,vn.samples.push(Cn),{sample:Cn,length:xn.frameLength,missing:0}}}}function $e(vn,hn){var _n=vn[hn+1]>>3&3,bn=vn[hn+1]>>1&3,An=vn[hn+2]>>4&15,xn=vn[hn+2]>>2&3;if(_n!==1&&An!==0&&An!==15&&xn!==3){var Sn=vn[hn+2]>>1&1,Cn=vn[hn+3]>>6,Tn=1e3*Ie[14*(_n===3?3-bn:bn===3?3:4)+An-1],wn=Oe[3*(_n===3?0:_n===2?1:2)+xn],Ln=Cn===3?1:2,Pn=Ne[_n][bn],kn=Fe[bn],In=8*Pn*kn,Rn=Math.floor(Pn*Tn/wn+Sn)*kn;if(Ce===null){var Nn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ce=Nn?parseInt(Nn[1]):0}return Ce&&Ce<=87&&bn===2&&Tn>=224e3&&Cn===0&&(vn[hn+3]=128|vn[hn+3]),{sampleRate:wn,channelCount:Ln,frameLength:Rn,samplesPerFrame:In}}}function ze(vn,hn){return vn[hn]===255&&(224&vn[hn+1])==224&&(6&vn[hn+1])!=0}function Ve(vn,hn){return hn+1<vn.length&&ze(vn,hn)}function qe(vn,hn){return ze(vn,hn)&&4<=vn.length-hn}function En(vn,hn){if(hn+1<vn.length&&ze(vn,hn)){var _n=$e(vn,hn),bn=4;_n!=null&&_n.frameLength&&(bn=_n.frameLength);var An=hn+bn;return An===vn.length||Ve(vn,An)}return!1}},"./src/demux/sample-aes.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/crypt/decrypter.ts"),Ie=_e("./src/demux/tsdemuxer.ts"),Oe=function(){function Ne(Ue,$e,ze){this.keyData=void 0,this.decrypter=void 0,this.keyData=ze,this.decrypter=new Ce.default(Ue,$e,{removePKCS7Padding:!1})}var Fe=Ne.prototype;return Fe.decryptBuffer=function(Ue,$e){this.decrypter.decrypt(Ue,this.keyData.key.buffer,this.keyData.iv.buffer,$e)},Fe.decryptAacSample=function(Ue,$e,ze,Ve){var qe=Ue[$e].unit,En=qe.subarray(16,qe.length-qe.length%16),vn=En.buffer.slice(En.byteOffset,En.byteOffset+En.length),hn=this;this.decryptBuffer(vn,function(_n){var bn=new Uint8Array(_n);qe.set(bn,16),Ve||hn.decryptAacSamples(Ue,$e+1,ze)})},Fe.decryptAacSamples=function(Ue,$e,ze){for(;;$e++){if($e>=Ue.length)return void ze();if(!(Ue[$e].unit.length<32)){var Ve=this.decrypter.isSync();if(this.decryptAacSample(Ue,$e,ze,Ve),!Ve)return}}},Fe.getAvcEncryptedData=function(Ue){for(var $e=16*Math.floor((Ue.length-48)/160)+16,ze=new Int8Array($e),Ve=0,qe=32;qe<=Ue.length-16;qe+=160,Ve+=16)ze.set(Ue.subarray(qe,qe+16),Ve);return ze},Fe.getAvcDecryptedUnit=function(Ue,$e){for(var ze=new Uint8Array($e),Ve=0,qe=32;qe<=Ue.length-16;qe+=160,Ve+=16)Ue.set(ze.subarray(Ve,Ve+16),qe);return Ue},Fe.decryptAvcSample=function(Ue,$e,ze,Ve,qe,En){var vn=Object(Ie.discardEPB)(qe.data),hn=this.getAvcEncryptedData(vn),_n=this;this.decryptBuffer(hn.buffer,function(bn){qe.data=_n.getAvcDecryptedUnit(vn,bn),En||_n.decryptAvcSamples(Ue,$e,ze+1,Ve)})},Fe.decryptAvcSamples=function(Ue,$e,ze,Ve){if(Ue instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;$e++,ze=0){if($e>=Ue.length)return void Ve();for(var qe=Ue[$e].units;!(ze>=qe.length);ze++){var En=qe[ze];if(!(En.data.length<=48||En.type!==1&&En.type!==5)){var vn=this.decrypter.isSync();if(this.decryptAvcSample(Ue,$e,ze,Ve,En,vn),!vn)return}}}},Ne}();pe.default=Oe},"./src/demux/transmuxer-interface.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ve});var Ce=_e("./node_modules/webworkify-webpack/index.js"),Ie=_e("./src/events.ts"),Oe=_e("./src/demux/transmuxer.ts"),Ne=_e("./src/utils/logger.ts"),Fe=_e("./src/errors.ts"),Ue=_e("./src/utils/mediasource-helper.ts"),$e=_e("./node_modules/eventemitter3/index.js"),ze=Object(Ue.getMediaSource)()||{isTypeSupported:function(){return!1}},Ve=function(){function qe(vn,hn,_n,bn){var An=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=vn,this.id=hn,this.onTransmuxComplete=_n,this.onFlush=bn;var xn=vn.config,Sn=function(Ln,Pn){(Pn=Pn||{}).frag=An.frag,Pn.id=An.id,vn.trigger(Ln,Pn)};this.observer=new $e.EventEmitter,this.observer.on(Ie.Events.FRAG_DECRYPTED,Sn),this.observer.on(Ie.Events.ERROR,Sn);var Cn={mp4:ze.isTypeSupported("video/mp4"),mpeg:ze.isTypeSupported("audio/mpeg"),mp3:ze.isTypeSupported('audio/mp4; codecs="mp3"')},Tn=navigator.vendor;if(xn.enableWorker&&typeof Worker<"u"){var wn;Ne.logger.log("demuxing in webworker");try{wn=this.worker=Ce("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),wn.addEventListener("message",this.onwmsg),wn.onerror=function(Ln){vn.trigger(Ie.Events.ERROR,{type:Fe.ErrorTypes.OTHER_ERROR,details:Fe.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(Ln.message+"  ("+Ln.filename+":"+Ln.lineno+")")})},wn.postMessage({cmd:"init",typeSupported:Cn,vendor:Tn,id:hn,config:JSON.stringify(xn)})}catch(Ln){Ne.logger.warn("Error in worker:",Ln),Ne.logger.error("Error while initializing DemuxerWorker, fallback to inline"),wn&&self.URL.revokeObjectURL(wn.objectURL),this.transmuxer=new Oe.default(this.observer,Cn,xn,Tn,hn),this.worker=null}}else this.transmuxer=new Oe.default(this.observer,Cn,xn,Tn,hn)}var En=qe.prototype;return En.destroy=function(){var vn=this.worker;if(vn)vn.removeEventListener("message",this.onwmsg),vn.terminate(),this.worker=null;else{var hn=this.transmuxer;hn&&(hn.destroy(),this.transmuxer=null)}var _n=this.observer;_n&&_n.removeAllListeners(),this.observer=null},En.push=function(vn,hn,_n,bn,An,xn,Sn,Cn,Tn,wn){var Ln=this;Tn.transmuxing.start=self.performance.now();var Pn=this.transmuxer,kn=this.worker,In=xn?xn.start:An.start,Rn=An.decryptdata,Nn=this.frag,On=!(Nn&&An.cc===Nn.cc),Dn=!(Nn&&Tn.level===Nn.level),Mn=Nn?Tn.sn-Nn.sn:-1,Bn=this.part?Tn.part-this.part.index:1,$n=!Dn&&(Mn===1||Mn===0&&Bn===1),Fn=self.performance.now();(Dn||Mn||An.stats.parsing.start===0)&&(An.stats.parsing.start=Fn),!xn||!Bn&&$n||(xn.stats.parsing.start=Fn);var Un=new Oe.TransmuxState(On,$n,Cn,Dn,In);if(!$n||On){Ne.logger.log("[transmuxer-interface, "+An.type+"]: Starting new transmux session for sn: "+Tn.sn+" p: "+Tn.part+" level: "+Tn.level+" id: "+Tn.id+"\n        discontinuity: "+On+"\n        trackSwitch: "+Dn+"\n        contiguous: "+$n+"\n        accurateTimeOffset: "+Cn+"\n        timeOffset: "+In);var Hn=new Oe.TransmuxConfig(_n,bn,hn,Sn,wn);this.configureTransmuxer(Hn)}if(this.frag=An,this.part=xn,kn)kn.postMessage({cmd:"demux",data:vn,decryptdata:Rn,chunkMeta:Tn,state:Un},vn instanceof ArrayBuffer?[vn]:[]);else if(Pn){var Wn=Pn.push(vn,Rn,Tn,Un);Object(Oe.isPromise)(Wn)?Wn.then(function(Xn){Ln.handleTransmuxComplete(Xn)}):this.handleTransmuxComplete(Wn)}},En.flush=function(vn){var hn=this;vn.transmuxing.start=self.performance.now();var _n=this.transmuxer,bn=this.worker;if(bn)bn.postMessage({cmd:"flush",chunkMeta:vn});else if(_n){var An=_n.flush(vn);Object(Oe.isPromise)(An)?An.then(function(xn){hn.handleFlushResult(xn,vn)}):this.handleFlushResult(An,vn)}},En.handleFlushResult=function(vn,hn){var _n=this;vn.forEach(function(bn){_n.handleTransmuxComplete(bn)}),this.onFlush(hn)},En.onWorkerMessage=function(vn){var hn=vn.data,_n=this.hls;switch(hn.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(hn.data);break;case"flush":this.onFlush(hn.data);break;default:hn.data=hn.data||{},hn.data.frag=this.frag,hn.data.id=this.id,_n.trigger(hn.event,hn.data)}},En.configureTransmuxer=function(vn){var hn=this.worker,_n=this.transmuxer;hn?hn.postMessage({cmd:"configure",config:vn}):_n&&_n.configure(vn)},En.handleTransmuxComplete=function(vn){vn.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(vn)},qe}()},"./src/demux/transmuxer-worker.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Fe});var Ce=_e("./src/demux/transmuxer.ts"),Ie=_e("./src/events.ts"),Oe=_e("./src/utils/logger.ts"),Ne=_e("./node_modules/eventemitter3/index.js");function Fe(Ve){var qe=new Ne.EventEmitter,En=function(vn,hn){Ve.postMessage({event:vn,data:hn})};qe.on(Ie.Events.FRAG_DECRYPTED,En),qe.on(Ie.Events.ERROR,En),Ve.addEventListener("message",function(vn){var hn=vn.data;switch(hn.cmd){case"init":var _n=JSON.parse(hn.config);Ve.transmuxer=new Ce.default(qe,hn.typeSupported,_n,hn.vendor,hn.id),Object(Oe.enableLogs)(_n.debug),En("init",null);break;case"configure":Ve.transmuxer.configure(hn.config);break;case"demux":var bn=Ve.transmuxer.push(hn.data,hn.decryptdata,hn.chunkMeta,hn.state);Object(Ce.isPromise)(bn)?bn.then(function(Sn){Ue(Ve,Sn)}):Ue(Ve,bn);break;case"flush":var An=hn.chunkMeta,xn=Ve.transmuxer.flush(An);Object(Ce.isPromise)(xn)?xn.then(function(Sn){ze(Ve,Sn,An)}):ze(Ve,xn,An)}})}function Ue(Ve,qe){if((En=qe.remuxResult).audio||En.video||En.text||En.id3||En.initSegment){var En,vn=[],hn=qe.remuxResult,_n=hn.audio,bn=hn.video;_n&&$e(vn,_n),bn&&$e(vn,bn),Ve.postMessage({event:"transmuxComplete",data:qe},vn)}}function $e(Ve,qe){qe.data1&&Ve.push(qe.data1.buffer),qe.data2&&Ve.push(qe.data2.buffer)}function ze(Ve,qe,En){qe.forEach(function(vn){Ue(Ve,vn)}),Ve.postMessage({event:"flush",data:En})}},"./src/demux/transmuxer.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return An}),_e.d(pe,"isPromise",function(){return Sn}),_e.d(pe,"TransmuxConfig",function(){return Cn}),_e.d(pe,"TransmuxState",function(){return Tn});var Ce,Ie=_e("./src/events.ts"),Oe=_e("./src/errors.ts"),Ne=_e("./src/crypt/decrypter.ts"),Fe=_e("./src/demux/aacdemuxer.ts"),Ue=_e("./src/demux/mp4demuxer.ts"),$e=_e("./src/demux/tsdemuxer.ts"),ze=_e("./src/demux/mp3demuxer.ts"),Ve=_e("./src/remux/mp4-remuxer.ts"),qe=_e("./src/remux/passthrough-remuxer.ts"),En=_e("./src/demux/chunk-cache.ts"),vn=_e("./src/utils/mp4-tools.ts"),hn=_e("./src/utils/logger.ts");try{Ce=self.performance.now.bind(self.performance)}catch(wn){hn.logger.debug("Unable to use Performance API on this environment"),Ce=self.Date.now}var _n=[{demux:$e.default,remux:Ve.default},{demux:Ue.default,remux:qe.default},{demux:Fe.default,remux:Ve.default},{demux:ze.default,remux:Ve.default}],bn=1024;_n.forEach(function(wn){var Ln=wn.demux;bn=Math.max(bn,Ln.minProbeByteLength)});var An=function(){function wn(Pn,kn,In,Rn,Nn){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new En.default,this.observer=Pn,this.typeSupported=kn,this.config=In,this.vendor=Rn,this.id=Nn}var Ln=wn.prototype;return Ln.configure=function(Pn){this.transmuxConfig=Pn,this.decrypter&&this.decrypter.reset()},Ln.push=function(Pn,kn,In,Rn){var Nn=this,On=In.transmuxing;On.executeStart=Ce();var Dn=new Uint8Array(Pn),Mn=this.cache,Bn=this.config,$n=this.currentTransmuxState,Fn=this.transmuxConfig;Rn&&(this.currentTransmuxState=Rn);var Un=function(Ar,Br){var Vr=null;return Ar.byteLength>0&&Br!=null&&Br.key!=null&&Br.iv!==null&&Br.method!=null&&(Vr=Br),Vr}(Dn,kn);if(Un&&Un.method==="AES-128"){var Hn=this.getDecrypter();if(!Bn.enableSoftwareAES)return this.decryptionPromise=Hn.webCryptoDecrypt(Dn,Un.key.buffer,Un.iv.buffer).then(function(Ar){var Br=Nn.push(Ar,null,In);return Nn.decryptionPromise=null,Br}),this.decryptionPromise;var Wn=Hn.softwareDecrypt(Dn,Un.key.buffer,Un.iv.buffer);if(!Wn)return On.executeEnd=Ce(),xn(In);Dn=new Uint8Array(Wn)}var Xn=Rn||$n,or=Xn.contiguous,fr=Xn.discontinuity,cr=Xn.trackSwitch,Jn=Xn.accurateTimeOffset,mr=Xn.timeOffset,Ir=Fn.audioCodec,yr=Fn.videoCodec,Tr=Fn.defaultInitPts,Sr=Fn.duration,Yn=Fn.initSegmentData;if((fr||cr)&&this.resetInitSegment(Yn,Ir,yr,Sr),fr&&this.resetInitialTimestamp(Tr),or||this.resetContiguity(),this.needsProbing(Dn,fr,cr)){if(Mn.dataLength){var Qn=Mn.flush();Dn=Object(vn.appendUint8Array)(Qn,Dn)}this.configureTransmuxer(Dn,Fn)}var rr=this.transmux(Dn,Un,mr,Jn,In),gr=this.currentTransmuxState;return gr.contiguous=!0,gr.discontinuity=!1,gr.trackSwitch=!1,On.executeEnd=Ce(),rr},Ln.flush=function(Pn){var kn=this,In=Pn.transmuxing;In.executeStart=Ce();var Rn=this.decrypter,Nn=this.cache,On=this.currentTransmuxState,Dn=this.decryptionPromise;if(Dn)return Dn.then(function(){return kn.flush(Pn)});var Mn=[],Bn=On.timeOffset;if(Rn){var $n=Rn.flush();$n&&Mn.push(this.push($n,null,Pn))}var Fn=Nn.dataLength;Nn.reset();var Un=this.demuxer,Hn=this.remuxer;if(!Un||!Hn)return Fn>=bn&&this.observer.emit(Ie.Events.ERROR,Ie.Events.ERROR,{type:Oe.ErrorTypes.MEDIA_ERROR,details:Oe.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),In.executeEnd=Ce(),[xn(Pn)];var Wn=Un.flush(Bn);return Sn(Wn)?Wn.then(function(Xn){return kn.flushRemux(Mn,Xn,Pn),Mn}):(this.flushRemux(Mn,Wn,Pn),Mn)},Ln.flushRemux=function(Pn,kn,In){var Rn=kn.audioTrack,Nn=kn.avcTrack,On=kn.id3Track,Dn=kn.textTrack,Mn=this.currentTransmuxState,Bn=Mn.accurateTimeOffset,$n=Mn.timeOffset;hn.logger.log("[transmuxer.ts]: Flushed fragment "+In.sn+(In.part>-1?" p: "+In.part:"")+" of level "+In.level);var Fn=this.remuxer.remux(Rn,Nn,On,Dn,$n,Bn,!0,this.id);Pn.push({remuxResult:Fn,chunkMeta:In}),In.transmuxing.executeEnd=Ce()},Ln.resetInitialTimestamp=function(Pn){var kn=this.demuxer,In=this.remuxer;kn&&In&&(kn.resetTimeStamp(Pn),In.resetTimeStamp(Pn))},Ln.resetContiguity=function(){var Pn=this.demuxer,kn=this.remuxer;Pn&&kn&&(Pn.resetContiguity(),kn.resetNextTimestamp())},Ln.resetInitSegment=function(Pn,kn,In,Rn){var Nn=this.demuxer,On=this.remuxer;Nn&&On&&(Nn.resetInitSegment(kn,In,Rn),On.resetInitSegment(Pn,kn,In))},Ln.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},Ln.transmux=function(Pn,kn,In,Rn,Nn){return kn&&kn.method==="SAMPLE-AES"?this.transmuxSampleAes(Pn,kn,In,Rn,Nn):this.transmuxUnencrypted(Pn,In,Rn,Nn)},Ln.transmuxUnencrypted=function(Pn,kn,In,Rn){var Nn=this.demuxer.demux(Pn,kn,!1,!this.config.progressive),On=Nn.audioTrack,Dn=Nn.avcTrack,Mn=Nn.id3Track,Bn=Nn.textTrack;return{remuxResult:this.remuxer.remux(On,Dn,Mn,Bn,kn,In,!1,this.id),chunkMeta:Rn}},Ln.transmuxSampleAes=function(Pn,kn,In,Rn,Nn){var On=this;return this.demuxer.demuxSampleAes(Pn,kn,In).then(function(Dn){return{remuxResult:On.remuxer.remux(Dn.audioTrack,Dn.avcTrack,Dn.id3Track,Dn.textTrack,In,Rn,!1,On.id),chunkMeta:Nn}})},Ln.configureTransmuxer=function(Pn,kn){for(var In,Rn=this.config,Nn=this.observer,On=this.typeSupported,Dn=this.vendor,Mn=kn.audioCodec,Bn=kn.defaultInitPts,$n=kn.duration,Fn=kn.initSegmentData,Un=kn.videoCodec,Hn=0,Wn=_n.length;Hn<Wn;Hn++)if(_n[Hn].demux.probe(Pn)){In=_n[Hn];break}In||(hn.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),In={demux:Ue.default,remux:qe.default});var Xn=this.demuxer,or=this.remuxer,fr=In.remux,cr=In.demux;or&&or instanceof fr||(this.remuxer=new fr(Nn,Rn,On,Dn)),Xn&&Xn instanceof cr||(this.demuxer=new cr(Nn,Rn,On),this.probe=cr.probe),this.resetInitSegment(Fn,Mn,Un,$n),this.resetInitialTimestamp(Bn)},Ln.needsProbing=function(Pn,kn,In){return!this.demuxer||!this.remuxer||kn||In},Ln.getDecrypter=function(){var Pn=this.decrypter;return Pn||(Pn=this.decrypter=new Ne.default(this.observer,this.config)),Pn},wn}(),xn=function(wn){return{remuxResult:{},chunkMeta:wn}};function Sn(wn){return"then"in wn&&wn.then instanceof Function}var Cn=function(wn,Ln,Pn,kn,In){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=wn,this.videoCodec=Ln,this.initSegmentData=Pn,this.duration=kn,this.defaultInitPts=In},Tn=function(wn,Ln,Pn,kn,In){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=wn,this.contiguous=Ln,this.accurateTimeOffset=Pn,this.trackSwitch=kn,this.timeOffset=In}},"./src/demux/tsdemuxer.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"discardEPB",function(){return Sn});var Ce=_e("./src/demux/adts.ts"),Ie=_e("./src/demux/mpegaudio.ts"),Oe=_e("./src/demux/exp-golomb.ts"),Ne=_e("./src/demux/id3.ts"),Fe=_e("./src/demux/sample-aes.ts"),Ue=_e("./src/events.ts"),$e=_e("./src/utils/mp4-tools.ts"),ze=_e("./src/utils/logger.ts"),Ve=_e("./src/errors.ts"),qe={video:1,audio:2,id3:3,text:4},En=function(){function Cn(wn,Ln,Pn){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=wn,this.config=Ln,this.typeSupported=Pn}Cn.probe=function(wn){var Ln=Cn.syncOffset(wn);return!(Ln<0||(Ln&&ze.logger.warn("MPEG2-TS detected but first sync word found @ offset "+Ln+", junk ahead ?"),0))},Cn.syncOffset=function(wn){for(var Ln=Math.min(1e3,wn.length-564),Pn=0;Pn<Ln;){if(wn[Pn]===71&&wn[Pn+188]===71&&wn[Pn+376]===71)return Pn;Pn++}return-1},Cn.createTrack=function(wn,Ln){return{container:wn==="video"||wn==="audio"?"video/mp2t":void 0,type:wn,id:qe[wn],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:wn==="audio"?Ln:void 0}};var Tn=Cn.prototype;return Tn.resetInitSegment=function(wn,Ln,Pn){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Cn.createTrack("video",Pn),this._audioTrack=Cn.createTrack("audio",Pn),this._id3Track=Cn.createTrack("id3",Pn),this._txtTrack=Cn.createTrack("text",Pn),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=wn,this.videoCodec=Ln,this._duration=Pn},Tn.resetTimeStamp=function(){},Tn.resetContiguity=function(){var wn=this._audioTrack,Ln=this._avcTrack,Pn=this._id3Track;wn&&(wn.pesData=null),Ln&&(Ln.pesData=null),Pn&&(Pn.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},Tn.demux=function(wn,Ln,Pn,kn){var In;Pn===void 0&&(Pn=!1),kn===void 0&&(kn=!1),Pn||(this.sampleAes=null);var Rn=this._avcTrack,Nn=this._audioTrack,On=this._id3Track,Dn=Rn.pid,Mn=Rn.pesData,Bn=Nn.pid,$n=On.pid,Fn=Nn.pesData,Un=On.pesData,Hn=!1,Wn=this.pmtParsed,Xn=this._pmtId,or=wn.length;if(this.remainderData&&(or=(wn=Object($e.appendUint8Array)(this.remainderData,wn)).length,this.remainderData=null),or<188&&!kn)return this.remainderData=wn,{audioTrack:Nn,avcTrack:Rn,id3Track:On,textTrack:this._txtTrack};var fr=Math.max(0,Cn.syncOffset(wn));(or-=(or+fr)%188)<wn.byteLength&&!kn&&(this.remainderData=new Uint8Array(wn.buffer,or,wn.buffer.byteLength-or));for(var cr=fr;cr<or;cr+=188)if(wn[cr]===71){var Jn=!!(64&wn[cr+1]),mr=((31&wn[cr+1])<<8)+wn[cr+2],Ir=void 0;if((48&wn[cr+3])>>4>1){if((Ir=cr+5+wn[cr+4])===cr+188)continue}else Ir=cr+4;switch(mr){case Dn:Jn&&(Mn&&(In=bn(Mn))&&this.parseAVCPES(In,!1),Mn={data:[],size:0}),Mn&&(Mn.data.push(wn.subarray(Ir,cr+188)),Mn.size+=cr+188-Ir);break;case Bn:Jn&&(Fn&&(In=bn(Fn))&&(Nn.isAAC?this.parseAACPES(In):this.parseMPEGPES(In)),Fn={data:[],size:0}),Fn&&(Fn.data.push(wn.subarray(Ir,cr+188)),Fn.size+=cr+188-Ir);break;case $n:Jn&&(Un&&(In=bn(Un))&&this.parseID3PES(In),Un={data:[],size:0}),Un&&(Un.data.push(wn.subarray(Ir,cr+188)),Un.size+=cr+188-Ir);break;case 0:Jn&&(Ir+=wn[Ir]+1),Xn=this._pmtId=hn(wn,Ir);break;case Xn:Jn&&(Ir+=wn[Ir]+1);var yr=_n(wn,Ir,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,Pn);(Dn=yr.avc)>0&&(Rn.pid=Dn),(Bn=yr.audio)>0&&(Nn.pid=Bn,Nn.isAAC=yr.isAAC),($n=yr.id3)>0&&(On.pid=$n),Hn&&!Wn&&(ze.logger.log("reparse from beginning"),Hn=!1,cr=fr-188),Wn=this.pmtParsed=!0;break;case 17:case 8191:break;default:Hn=!0}}else this.observer.emit(Ue.Events.ERROR,Ue.Events.ERROR,{type:Ve.ErrorTypes.MEDIA_ERROR,details:Ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});Rn.pesData=Mn,Nn.pesData=Fn,On.pesData=Un;var Tr={audioTrack:Nn,avcTrack:Rn,id3Track:On,textTrack:this._txtTrack};return kn&&this.extractRemainingSamples(Tr),Tr},Tn.flush=function(){var wn,Ln=this.remainderData;return this.remainderData=null,wn=Ln?this.demux(Ln,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(wn),this.sampleAes?this.decrypt(wn,this.sampleAes):wn},Tn.extractRemainingSamples=function(wn){var Ln,Pn=wn.audioTrack,kn=wn.avcTrack,In=wn.id3Track,Rn=kn.pesData,Nn=Pn.pesData,On=In.pesData;Rn&&(Ln=bn(Rn))?(this.parseAVCPES(Ln,!0),kn.pesData=null):kn.pesData=Rn,Nn&&(Ln=bn(Nn))?(Pn.isAAC?this.parseAACPES(Ln):this.parseMPEGPES(Ln),Pn.pesData=null):(Nn!=null&&Nn.size&&ze.logger.log("last AAC PES packet truncated,might overlap between fragments"),Pn.pesData=Nn),On&&(Ln=bn(On))?(this.parseID3PES(Ln),In.pesData=null):In.pesData=On},Tn.demuxSampleAes=function(wn,Ln,Pn){var kn=this.demux(wn,Pn,!0,!this.config.progressive),In=this.sampleAes=new Fe.default(this.observer,this.config,Ln);return this.decrypt(kn,In)},Tn.decrypt=function(wn,Ln){return new Promise(function(Pn){var kn=wn.audioTrack,In=wn.avcTrack;kn.samples&&kn.isAAC?Ln.decryptAacSamples(kn.samples,0,function(){In.samples?Ln.decryptAvcSamples(In.samples,0,0,function(){Pn(wn)}):Pn(wn)}):In.samples&&Ln.decryptAvcSamples(In.samples,0,0,function(){Pn(wn)})})},Tn.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},Tn.parseAVCPES=function(wn,Ln){var Pn,kn=this,In=this._avcTrack,Rn=this.parseAVCNALu(wn.data),Nn=this.avcSample,On=!1;wn.data=null,Nn&&Rn.length&&!In.audFound&&(An(Nn,In),Nn=this.avcSample=vn(!1,wn.pts,wn.dts,"")),Rn.forEach(function(Dn){switch(Dn.type){case 1:Pn=!0,Nn||(Nn=kn.avcSample=vn(!0,wn.pts,wn.dts,"")),Nn.frame=!0;var Mn=Dn.data;if(On&&Mn.length>4){var Bn=new Oe.default(Mn).readSliceType();Bn!==2&&Bn!==4&&Bn!==7&&Bn!==9||(Nn.key=!0)}break;case 5:Pn=!0,Nn||(Nn=kn.avcSample=vn(!0,wn.pts,wn.dts,"")),Nn.key=!0,Nn.frame=!0;break;case 6:Pn=!0;var $n=new Oe.default(Sn(Dn.data));$n.readUByte();for(var Fn=0,Un=0,Hn=!1,Wn=0;!Hn&&$n.bytesAvailable>1;){Fn=0;do Fn+=Wn=$n.readUByte();while(Wn===255);Un=0;do Un+=Wn=$n.readUByte();while(Wn===255);if(Fn===4&&$n.bytesAvailable!==0){if(Hn=!0,$n.readUByte()===181&&$n.readUShort()===49&&$n.readUInt()===1195456820&&$n.readUByte()===3){for(var Xn=$n.readUByte(),or=31&Xn,fr=[Xn,$n.readUByte()],cr=0;cr<or;cr++)fr.push($n.readUByte()),fr.push($n.readUByte()),fr.push($n.readUByte());xn(kn._txtTrack.samples,{type:3,pts:wn.pts,bytes:fr})}}else if(Fn===5&&$n.bytesAvailable!==0){if(Hn=!0,Un>16){for(var Jn=[],mr=0;mr<16;mr++)Jn.push($n.readUByte().toString(16)),mr!==3&&mr!==5&&mr!==7&&mr!==9||Jn.push("-");for(var Ir=Un-16,yr=new Uint8Array(Ir),Tr=0;Tr<Ir;Tr++)yr[Tr]=$n.readUByte();xn(kn._txtTrack.samples,{pts:wn.pts,payloadType:Fn,uuid:Jn.join(""),userData:Object(Ne.utf8ArrayToStr)(yr),userDataBytes:yr})}}else if(Un<$n.bytesAvailable)for(var Sr=0;Sr<Un;Sr++)$n.readUByte()}break;case 7:if(Pn=!0,On=!0,!In.sps){var Yn=new Oe.default(Dn.data).readSPS();In.width=Yn.width,In.height=Yn.height,In.pixelRatio=Yn.pixelRatio,In.sps=[Dn.data],In.duration=kn._duration;for(var Qn=Dn.data.subarray(1,4),rr="avc1.",gr=0;gr<3;gr++){var Ar=Qn[gr].toString(16);Ar.length<2&&(Ar="0"+Ar),rr+=Ar}In.codec=rr}break;case 8:Pn=!0,In.pps||(In.pps=[Dn.data]);break;case 9:Pn=!1,In.audFound=!0,Nn&&An(Nn,In),Nn=kn.avcSample=vn(!1,wn.pts,wn.dts,"");break;case 12:Pn=!1;break;default:Pn=!1,Nn&&(Nn.debug+="unknown NAL "+Dn.type+" ")}Nn&&Pn&&Nn.units.push(Dn)}),Ln&&Nn&&(An(Nn,In),this.avcSample=null)},Tn.getLastNalUnit=function(){var wn,Ln,Pn=this.avcSample;if(!Pn||Pn.units.length===0){var kn=this._avcTrack.samples;Pn=kn[kn.length-1]}if((wn=Pn)!==null&&wn!==void 0&&wn.units){var In=Pn.units;Ln=In[In.length-1]}return Ln},Tn.parseAVCNALu=function(wn){var Ln,Pn,kn=wn.byteLength,In=this._avcTrack,Rn=In.naluState||0,Nn=Rn,On=[],Dn=0,Mn=-1,Bn=0;for(Rn===-1&&(Mn=0,Bn=31&wn[0],Rn=0,Dn=1);Dn<kn;)if(Ln=wn[Dn++],Rn)if(Rn!==1)if(Ln)if(Ln===1){if(Mn>=0){var $n={data:wn.subarray(Mn,Dn-Rn-1),type:Bn};On.push($n)}else{var Fn=this.getLastNalUnit();if(Fn&&(Nn&&Dn<=4-Nn&&Fn.state&&(Fn.data=Fn.data.subarray(0,Fn.data.byteLength-Nn)),(Pn=Dn-Rn-1)>0)){var Un=new Uint8Array(Fn.data.byteLength+Pn);Un.set(Fn.data,0),Un.set(wn.subarray(0,Pn),Fn.data.byteLength),Fn.data=Un}}Dn<kn?(Mn=Dn,Bn=31&wn[Dn],Rn=0):Rn=-1}else Rn=0;else Rn=3;else Rn=Ln?0:2;else Rn=Ln?0:1;if(Mn>=0&&Rn>=0){var Hn={data:wn.subarray(Mn,kn),type:Bn,state:Rn};On.push(Hn)}if(On.length===0){var Wn=this.getLastNalUnit();if(Wn){var Xn=new Uint8Array(Wn.data.byteLength+wn.byteLength);Xn.set(Wn.data,0),Xn.set(wn,Wn.data.byteLength),Wn.data=Xn}}return In.naluState=Rn,On},Tn.parseAACPES=function(wn){var Ln,Pn,kn,In,Rn,Nn=0,On=this._audioTrack,Dn=this.aacOverFlow,Mn=wn.data;if(Dn){this.aacOverFlow=null;var Bn=Dn.sample.unit.byteLength,$n=Math.min(Dn.missing,Bn),Fn=Bn-$n;Dn.sample.unit.set(Mn.subarray(0,$n),Fn),On.samples.push(Dn.sample),Nn=Dn.missing}for(Ln=Nn,Pn=Mn.length;Ln<Pn-1&&!Ce.isHeader(Mn,Ln);Ln++);if(Ln===Nn||(Ln<Pn-1?(kn="AAC PES did not start with ADTS header,offset:"+Ln,In=!1):(kn="no ADTS header found in AAC PES",In=!0),ze.logger.warn("parsing error:"+kn),this.observer.emit(Ue.Events.ERROR,Ue.Events.ERROR,{type:Ve.ErrorTypes.MEDIA_ERROR,details:Ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:In,reason:kn}),!In)){if(Ce.initTrackConfig(On,this.observer,Mn,Ln,this.audioCodec),wn.pts!==void 0)Rn=wn.pts;else{if(!Dn)return void ze.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var Un=Ce.getFrameDuration(On.samplerate);Rn=Dn.sample.pts+Un}for(var Hn=0;Ln<Pn;){if(Ce.isHeader(Mn,Ln)){if(Ln+5<Pn){var Wn=Ce.appendFrame(On,Mn,Ln,Rn,Hn);if(Wn){if(!Wn.missing){Ln+=Wn.length,Hn++;continue}this.aacOverFlow=Wn}}break}Ln++}}},Tn.parseMPEGPES=function(wn){var Ln=wn.data,Pn=Ln.length,kn=0,In=0,Rn=wn.pts;if(Rn!==void 0)for(;In<Pn;)if(Ie.isHeader(Ln,In)){var Nn=Ie.appendFrame(this._audioTrack,Ln,In,Rn,kn);if(!Nn)break;In+=Nn.length,kn++}else In++;else ze.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},Tn.parseID3PES=function(wn){wn.pts!==void 0?this._id3Track.samples.push(wn):ze.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},Cn}();function vn(Cn,Tn,wn,Ln){return{key:Cn,frame:!1,pts:Tn,dts:wn,units:[],debug:Ln,length:0}}function hn(Cn,Tn){return(31&Cn[Tn+10])<<8|Cn[Tn+11]}function _n(Cn,Tn,wn,Ln){var Pn={audio:-1,avc:-1,id3:-1,isAAC:!0},kn=Tn+3+((15&Cn[Tn+1])<<8|Cn[Tn+2])-4;for(Tn+=12+((15&Cn[Tn+10])<<8|Cn[Tn+11]);Tn<kn;){var In=(31&Cn[Tn+1])<<8|Cn[Tn+2];switch(Cn[Tn]){case 207:if(!Ln){ze.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:Pn.audio===-1&&(Pn.audio=In);break;case 21:Pn.id3===-1&&(Pn.id3=In);break;case 219:if(!Ln){ze.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:Pn.avc===-1&&(Pn.avc=In);break;case 3:case 4:wn?Pn.audio===-1&&(Pn.audio=In,Pn.isAAC=!1):ze.logger.log("MPEG audio found, not supported in this browser");break;case 36:ze.logger.warn("Unsupported HEVC stream type found")}Tn+=5+((15&Cn[Tn+3])<<8|Cn[Tn+4])}return Pn}function bn(Cn){var Tn,wn,Ln,Pn,kn,In=0,Rn=Cn.data;if(!Cn||Cn.size===0)return null;for(;Rn[0].length<19&&Rn.length>1;){var Nn=new Uint8Array(Rn[0].length+Rn[1].length);Nn.set(Rn[0]),Nn.set(Rn[1],Rn[0].length),Rn[0]=Nn,Rn.splice(1,1)}if(((Tn=Rn[0])[0]<<16)+(Tn[1]<<8)+Tn[2]===1){if((wn=(Tn[4]<<8)+Tn[5])&&wn>Cn.size-6)return null;var On=Tn[7];192&On&&(Pn=536870912*(14&Tn[9])+4194304*(255&Tn[10])+16384*(254&Tn[11])+128*(255&Tn[12])+(254&Tn[13])/2,64&On?Pn-(kn=536870912*(14&Tn[14])+4194304*(255&Tn[15])+16384*(254&Tn[16])+128*(255&Tn[17])+(254&Tn[18])/2)>54e5&&(ze.logger.warn(Math.round((Pn-kn)/9e4)+"s delta between PTS and DTS, align them"),Pn=kn):kn=Pn);var Dn=(Ln=Tn[8])+9;if(Cn.size<=Dn)return null;Cn.size-=Dn;for(var Mn=new Uint8Array(Cn.size),Bn=0,$n=Rn.length;Bn<$n;Bn++){var Fn=(Tn=Rn[Bn]).byteLength;if(Dn){if(Dn>Fn){Dn-=Fn;continue}Tn=Tn.subarray(Dn),Fn-=Dn,Dn=0}Mn.set(Tn,In),In+=Fn}return wn&&(wn-=Ln+3),{data:Mn,pts:Pn,dts:kn,len:wn}}return null}function An(Cn,Tn){if(Cn.units.length&&Cn.frame){if(Cn.pts===void 0){var wn=Tn.samples,Ln=wn.length;if(!Ln)return void Tn.dropped++;var Pn=wn[Ln-1];Cn.pts=Pn.pts,Cn.dts=Pn.dts}Tn.samples.push(Cn)}Cn.debug.length&&ze.logger.log(Cn.pts+"/"+Cn.dts+":"+Cn.debug)}function xn(Cn,Tn){var wn=Cn.length;if(wn>0){if(Tn.pts>=Cn[wn-1].pts)Cn.push(Tn);else for(var Ln=wn-1;Ln>=0;Ln--)if(Tn.pts<Cn[Ln].pts){Cn.splice(Ln,0,Tn);break}}else Cn.push(Tn)}function Sn(Cn){for(var Tn=Cn.byteLength,wn=[],Ln=1;Ln<Tn-2;)Cn[Ln]===0&&Cn[Ln+1]===0&&Cn[Ln+2]===3?(wn.push(Ln+2),Ln+=2):Ln++;if(wn.length===0)return Cn;var Pn=Tn-wn.length,kn=new Uint8Array(Pn),In=0;for(Ln=0;Ln<Pn;In++,Ln++)In===wn[0]&&(In++,wn.shift()),kn[Ln]=Cn[In];return kn}En.minProbeByteLength=188,pe.default=En},"./src/errors.ts":function(xe,pe,_e){var Ce,Ie,Oe,Ne;_e.r(pe),_e.d(pe,"ErrorTypes",function(){return Ce}),_e.d(pe,"ErrorDetails",function(){return Oe}),(Ie=Ce||(Ce={})).NETWORK_ERROR="networkError",Ie.MEDIA_ERROR="mediaError",Ie.KEY_SYSTEM_ERROR="keySystemError",Ie.MUX_ERROR="muxError",Ie.OTHER_ERROR="otherError",(Ne=Oe||(Oe={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",Ne.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",Ne.KEY_SYSTEM_NO_SESSION="keySystemNoSession",Ne.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",Ne.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",Ne.MANIFEST_LOAD_ERROR="manifestLoadError",Ne.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",Ne.MANIFEST_PARSING_ERROR="manifestParsingError",Ne.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",Ne.LEVEL_EMPTY_ERROR="levelEmptyError",Ne.LEVEL_LOAD_ERROR="levelLoadError",Ne.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",Ne.LEVEL_SWITCH_ERROR="levelSwitchError",Ne.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",Ne.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",Ne.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",Ne.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",Ne.FRAG_LOAD_ERROR="fragLoadError",Ne.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",Ne.FRAG_DECRYPT_ERROR="fragDecryptError",Ne.FRAG_PARSING_ERROR="fragParsingError",Ne.REMUX_ALLOC_ERROR="remuxAllocError",Ne.KEY_LOAD_ERROR="keyLoadError",Ne.KEY_LOAD_TIMEOUT="keyLoadTimeOut",Ne.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",Ne.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",Ne.BUFFER_APPEND_ERROR="bufferAppendError",Ne.BUFFER_APPENDING_ERROR="bufferAppendingError",Ne.BUFFER_STALLED_ERROR="bufferStalledError",Ne.BUFFER_FULL_ERROR="bufferFullError",Ne.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",Ne.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",Ne.INTERNAL_EXCEPTION="internalException",Ne.INTERNAL_ABORTED="aborted",Ne.UNKNOWN="unknown"},"./src/events.ts":function(xe,pe,_e){var Ce,Ie;_e.r(pe),_e.d(pe,"Events",function(){return Ce}),(Ie=Ce||(Ce={})).MEDIA_ATTACHING="hlsMediaAttaching",Ie.MEDIA_ATTACHED="hlsMediaAttached",Ie.MEDIA_DETACHING="hlsMediaDetaching",Ie.MEDIA_DETACHED="hlsMediaDetached",Ie.BUFFER_RESET="hlsBufferReset",Ie.BUFFER_CODECS="hlsBufferCodecs",Ie.BUFFER_CREATED="hlsBufferCreated",Ie.BUFFER_APPENDING="hlsBufferAppending",Ie.BUFFER_APPENDED="hlsBufferAppended",Ie.BUFFER_EOS="hlsBufferEos",Ie.BUFFER_FLUSHING="hlsBufferFlushing",Ie.BUFFER_FLUSHED="hlsBufferFlushed",Ie.MANIFEST_LOADING="hlsManifestLoading",Ie.MANIFEST_LOADED="hlsManifestLoaded",Ie.MANIFEST_PARSED="hlsManifestParsed",Ie.LEVEL_SWITCHING="hlsLevelSwitching",Ie.LEVEL_SWITCHED="hlsLevelSwitched",Ie.LEVEL_LOADING="hlsLevelLoading",Ie.LEVEL_LOADED="hlsLevelLoaded",Ie.LEVEL_UPDATED="hlsLevelUpdated",Ie.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",Ie.LEVELS_UPDATED="hlsLevelsUpdated",Ie.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",Ie.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",Ie.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",Ie.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",Ie.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",Ie.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",Ie.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",Ie.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",Ie.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",Ie.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",Ie.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",Ie.CUES_PARSED="hlsCuesParsed",Ie.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",Ie.INIT_PTS_FOUND="hlsInitPtsFound",Ie.FRAG_LOADING="hlsFragLoading",Ie.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",Ie.FRAG_LOADED="hlsFragLoaded",Ie.FRAG_DECRYPTED="hlsFragDecrypted",Ie.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",Ie.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",Ie.FRAG_PARSING_METADATA="hlsFragParsingMetadata",Ie.FRAG_PARSED="hlsFragParsed",Ie.FRAG_BUFFERED="hlsFragBuffered",Ie.FRAG_CHANGED="hlsFragChanged",Ie.FPS_DROP="hlsFpsDrop",Ie.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",Ie.ERROR="hlsError",Ie.DESTROYING="hlsDestroying",Ie.KEY_LOADING="hlsKeyLoading",Ie.KEY_LOADED="hlsKeyLoaded",Ie.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",Ie.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return An});var Ce=_e("./node_modules/url-toolkit/src/url-toolkit.js"),Ie=_e("./src/loader/playlist-loader.ts"),Oe=_e("./src/loader/key-loader.ts"),Ne=_e("./src/controller/id3-track-controller.ts"),Fe=_e("./src/controller/latency-controller.ts"),Ue=_e("./src/controller/level-controller.ts"),$e=_e("./src/controller/fragment-tracker.ts"),ze=_e("./src/controller/stream-controller.ts"),Ve=_e("./src/is-supported.ts"),qe=_e("./src/utils/logger.ts"),En=_e("./src/config.ts"),vn=_e("./node_modules/eventemitter3/index.js"),hn=_e("./src/events.ts"),_n=_e("./src/errors.ts");function bn(xn,Sn){for(var Cn=0;Cn<Sn.length;Cn++){var Tn=Sn[Cn];Tn.enumerable=Tn.enumerable||!1,Tn.configurable=!0,"value"in Tn&&(Tn.writable=!0),Object.defineProperty(xn,Tn.key,Tn)}}var An=function(){function xn(Ln){Ln===void 0&&(Ln={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new vn.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var Pn=this.config=Object(En.mergeConfig)(xn.DefaultConfig,Ln);this.userConfig=Ln,Object(qe.enableLogs)(Pn.debug),this._autoLevelCapping=-1,Pn.progressive&&Object(En.enableStreamingMode)(Pn);var kn=Pn.abrController,In=Pn.bufferController,Rn=Pn.capLevelController,Nn=Pn.fpsController,On=this.abrController=new kn(this),Dn=this.bufferController=new In(this),Mn=this.capLevelController=new Rn(this),Bn=new Nn(this),$n=new Ie.default(this),Fn=new Oe.default(this),Un=new Ne.default(this),Hn=this.levelController=new Ue.default(this),Wn=new $e.FragmentTracker(this),Xn=this.streamController=new ze.default(this,Wn);Mn.setStreamController(Xn),Bn.setStreamController(Xn);var or=[Hn,Xn];this.networkControllers=or;var fr=[$n,Fn,On,Dn,Mn,Bn,Un,Wn];this.audioTrackController=this.createController(Pn.audioTrackController,null,or),this.createController(Pn.audioStreamController,Wn,or),this.subtitleTrackController=this.createController(Pn.subtitleTrackController,null,or),this.createController(Pn.subtitleStreamController,Wn,or),this.createController(Pn.timelineController,null,fr),this.emeController=this.createController(Pn.emeController,null,fr),this.latencyController=this.createController(Fe.default,null,fr),this.coreComponents=fr}xn.isSupported=function(){return Object(Ve.isSupported)()};var Sn,Cn,Tn,wn=xn.prototype;return wn.createController=function(Ln,Pn,kn){if(Ln){var In=Pn?new Ln(this,Pn):new Ln(this);return kn&&kn.push(In),In}return null},wn.on=function(Ln,Pn,kn){kn===void 0&&(kn=this),this._emitter.on(Ln,Pn,kn)},wn.once=function(Ln,Pn,kn){kn===void 0&&(kn=this),this._emitter.once(Ln,Pn,kn)},wn.removeAllListeners=function(Ln){this._emitter.removeAllListeners(Ln)},wn.off=function(Ln,Pn,kn,In){kn===void 0&&(kn=this),this._emitter.off(Ln,Pn,kn,In)},wn.listeners=function(Ln){return this._emitter.listeners(Ln)},wn.emit=function(Ln,Pn,kn){return this._emitter.emit(Ln,Pn,kn)},wn.trigger=function(Ln,Pn){if(this.config.debug)return this.emit(Ln,Ln,Pn);try{return this.emit(Ln,Ln,Pn)}catch(kn){qe.logger.error("An internal error happened while handling event "+Ln+'. Error message: "'+kn.message+'". Here is a stacktrace:',kn),this.trigger(hn.Events.ERROR,{type:_n.ErrorTypes.OTHER_ERROR,details:_n.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:Ln,error:kn})}return!1},wn.listenerCount=function(Ln){return this._emitter.listenerCount(Ln)},wn.destroy=function(){qe.logger.log("destroy"),this.trigger(hn.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(Ln){return Ln.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(Ln){return Ln.destroy()}),this.coreComponents.length=0},wn.attachMedia=function(Ln){qe.logger.log("attachMedia"),this._media=Ln,this.trigger(hn.Events.MEDIA_ATTACHING,{media:Ln})},wn.detachMedia=function(){qe.logger.log("detachMedia"),this.trigger(hn.Events.MEDIA_DETACHING,void 0),this._media=null},wn.loadSource=function(Ln){this.stopLoad();var Pn=this.media,kn=this.url,In=this.url=Ce.buildAbsoluteURL(self.location.href,Ln,{alwaysNormalize:!0});qe.logger.log("loadSource:"+In),Pn&&kn&&kn!==In&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(Pn)),this.trigger(hn.Events.MANIFEST_LOADING,{url:Ln})},wn.startLoad=function(Ln){Ln===void 0&&(Ln=-1),qe.logger.log("startLoad("+Ln+")"),this.networkControllers.forEach(function(Pn){Pn.startLoad(Ln)})},wn.stopLoad=function(){qe.logger.log("stopLoad"),this.networkControllers.forEach(function(Ln){Ln.stopLoad()})},wn.swapAudioCodec=function(){qe.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},wn.recoverMediaError=function(){qe.logger.log("recoverMediaError");var Ln=this._media;this.detachMedia(),Ln&&this.attachMedia(Ln)},wn.removeLevel=function(Ln,Pn){Pn===void 0&&(Pn=0),this.levelController.removeLevel(Ln,Pn)},Sn=xn,Tn=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return hn.Events}},{key:"ErrorTypes",get:function(){return _n.ErrorTypes}},{key:"ErrorDetails",get:function(){return _n.ErrorDetails}},{key:"DefaultConfig",get:function(){return xn.defaultConfig?xn.defaultConfig:En.hlsDefaultConfig},set:function(Ln){xn.defaultConfig=Ln}}],(Cn=[{key:"levels",get:function(){var Ln=this.levelController.levels;return Ln||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(Ln){qe.logger.log("set currentLevel:"+Ln),this.loadLevel=Ln,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(Ln){qe.logger.log("set nextLevel:"+Ln),this.levelController.manualLevel=Ln,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(Ln){qe.logger.log("set loadLevel:"+Ln),this.levelController.manualLevel=Ln}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(Ln){this.levelController.nextLoadLevel=Ln}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(Ln){qe.logger.log("set firstLevel:"+Ln),this.levelController.firstLevel=Ln}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(Ln){qe.logger.log("set startLevel:"+Ln),Ln!==-1&&(Ln=Math.max(Ln,this.minAutoLevel)),this.levelController.startLevel=Ln}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(Ln){var Pn=!!Ln;Pn!==this.config.capLevelToPlayerSize&&(Pn?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=Pn)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(Ln){this._autoLevelCapping!==Ln&&(qe.logger.log("set autoLevelCapping:"+Ln),this._autoLevelCapping=Ln)}},{key:"bandwidthEstimate",get:function(){var Ln=this.abrController.bwEstimator;return Ln?Ln.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var Ln=this.levels,Pn=this.config.minAutoBitrate;if(!Ln)return 0;for(var kn=Ln.length,In=0;In<kn;In++)if(Ln[In].maxBitrate>Pn)return In;return 0}},{key:"maxAutoLevel",get:function(){var Ln=this.levels,Pn=this.autoLevelCapping;return Pn===-1&&Ln&&Ln.length?Ln.length-1:Pn}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(Ln){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,Ln)}},{key:"audioTracks",get:function(){var Ln=this.audioTrackController;return Ln?Ln.audioTracks:[]}},{key:"audioTrack",get:function(){var Ln=this.audioTrackController;return Ln?Ln.audioTrack:-1},set:function(Ln){var Pn=this.audioTrackController;Pn&&(Pn.audioTrack=Ln)}},{key:"subtitleTracks",get:function(){var Ln=this.subtitleTrackController;return Ln?Ln.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var Ln=this.subtitleTrackController;return Ln?Ln.subtitleTrack:-1},set:function(Ln){var Pn=this.subtitleTrackController;Pn&&(Pn.subtitleTrack=Ln)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var Ln=this.subtitleTrackController;return!!Ln&&Ln.subtitleDisplay},set:function(Ln){var Pn=this.subtitleTrackController;Pn&&(Pn.subtitleDisplay=Ln)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(Ln){this.config.lowLatencyMode=Ln}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&bn(Sn.prototype,Cn),Tn&&bn(Sn,Tn),xn}();An.defaultConfig=void 0},"./src/is-supported.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"isSupported",function(){return Oe}),_e.d(pe,"changeTypeSupported",function(){return Ne});var Ce=_e("./src/utils/mediasource-helper.ts");function Ie(){return self.SourceBuffer||self.WebKitSourceBuffer}function Oe(){var Fe=Object(Ce.getMediaSource)();if(!Fe)return!1;var Ue=Ie(),$e=Fe&&typeof Fe.isTypeSupported=="function"&&Fe.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),ze=!Ue||Ue.prototype&&typeof Ue.prototype.appendBuffer=="function"&&typeof Ue.prototype.remove=="function";return!!$e&&!!ze}function Ne(){var Fe,Ue=Ie();return typeof(Ue==null||(Fe=Ue.prototype)===null||Fe===void 0?void 0:Fe.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ve}),_e.d(pe,"LoadError",function(){return En});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/errors.ts");function Oe(vn){var hn=typeof Map=="function"?new Map:void 0;return(Oe=function(_n){if(_n===null||(bn=_n,Function.toString.call(bn).indexOf("[native code]")===-1))return _n;var bn;if(typeof _n!="function")throw new TypeError("Super expression must either be null or a function");if(hn!==void 0){if(hn.has(_n))return hn.get(_n);hn.set(_n,An)}function An(){return Ne(_n,arguments,$e(this).constructor)}return An.prototype=Object.create(_n.prototype,{constructor:{value:An,enumerable:!1,writable:!0,configurable:!0}}),Ue(An,_n)})(vn)}function Ne(vn,hn,_n){return(Ne=Fe()?Reflect.construct:function(bn,An,xn){var Sn=[null];Sn.push.apply(Sn,An);var Cn=new(Function.bind.apply(bn,Sn));return xn&&Ue(Cn,xn.prototype),Cn}).apply(null,arguments)}function Fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(vn){return!1}}function Ue(vn,hn){return(Ue=Object.setPrototypeOf||function(_n,bn){return _n.__proto__=bn,_n})(vn,hn)}function $e(vn){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(hn){return hn.__proto__||Object.getPrototypeOf(hn)})(vn)}var ze=Math.pow(2,17),Ve=function(){function vn(_n){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=_n}var hn=vn.prototype;return hn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},hn.abort=function(){this.loader&&this.loader.abort()},hn.load=function(_n,bn){var An=this,xn=_n.url;if(!xn)return Promise.reject(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:_n,networkDetails:null},"Fragment does not have a "+(xn?"part list":"url")));this.abort();var Sn=this.config,Cn=Sn.fLoader,Tn=Sn.loader;return new Promise(function(wn,Ln){An.loader&&An.loader.destroy();var Pn=An.loader=_n.loader=Cn?new Cn(Sn):new Tn(Sn),kn=qe(_n),In={timeout:Sn.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:Sn.fragLoadingMaxRetryTimeout,highWaterMark:ze};_n.stats=Pn.stats,Pn.load(kn,In,{onSuccess:function(Rn,Nn,On,Dn){An.resetLoader(_n,Pn),wn({frag:_n,part:null,payload:Rn.data,networkDetails:Dn})},onError:function(Rn,Nn,On){An.resetLoader(_n,Pn),Ln(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:_n,response:Rn,networkDetails:On}))},onAbort:function(Rn,Nn,On){An.resetLoader(_n,Pn),Ln(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:_n,networkDetails:On}))},onTimeout:function(Rn,Nn,On){An.resetLoader(_n,Pn),Ln(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:_n,networkDetails:On}))},onProgress:function(Rn,Nn,On,Dn){bn&&bn({frag:_n,part:null,payload:On,networkDetails:Dn})}})})},hn.loadPart=function(_n,bn,An){var xn=this;this.abort();var Sn=this.config,Cn=Sn.fLoader,Tn=Sn.loader;return new Promise(function(wn,Ln){xn.loader&&xn.loader.destroy();var Pn=xn.loader=_n.loader=Cn?new Cn(Sn):new Tn(Sn),kn=qe(_n,bn),In={timeout:Sn.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:Sn.fragLoadingMaxRetryTimeout,highWaterMark:ze};bn.stats=Pn.stats,Pn.load(kn,In,{onSuccess:function(Rn,Nn,On,Dn){xn.resetLoader(_n,Pn),xn.updateStatsFromPart(_n,bn);var Mn={frag:_n,part:bn,payload:Rn.data,networkDetails:Dn};An(Mn),wn(Mn)},onError:function(Rn,Nn,On){xn.resetLoader(_n,Pn),Ln(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:_n,part:bn,response:Rn,networkDetails:On}))},onAbort:function(Rn,Nn,On){_n.stats.aborted=bn.stats.aborted,xn.resetLoader(_n,Pn),Ln(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:_n,part:bn,networkDetails:On}))},onTimeout:function(Rn,Nn,On){xn.resetLoader(_n,Pn),Ln(new En({type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:_n,part:bn,networkDetails:On}))}})})},hn.updateStatsFromPart=function(_n,bn){var An=_n.stats,xn=bn.stats,Sn=xn.total;if(An.loaded+=xn.loaded,Sn){var Cn=Math.round(_n.duration/bn.duration),Tn=Math.min(Math.round(An.loaded/Sn),Cn),wn=(Cn-Tn)*Math.round(An.loaded/Tn);An.total=An.loaded+wn}else An.total=Math.max(An.loaded,An.total);var Ln=An.loading,Pn=xn.loading;Ln.start?Ln.first+=Pn.first-Pn.start:(Ln.start=Pn.start,Ln.first=Pn.first),Ln.end=Pn.end},hn.resetLoader=function(_n,bn){_n.loader=null,this.loader===bn&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),bn.destroy()},vn}();function qe(vn,hn){hn===void 0&&(hn=null);var _n=hn||vn,bn={frag:vn,part:hn,responseType:"arraybuffer",url:_n.url,rangeStart:0,rangeEnd:0},An=_n.byteRangeStartOffset,xn=_n.byteRangeEndOffset;return Object(Ce.isFiniteNumber)(An)&&Object(Ce.isFiniteNumber)(xn)&&(bn.rangeStart=An,bn.rangeEnd=xn),bn}var En=function(vn){var hn,_n;function bn(An){for(var xn,Sn=arguments.length,Cn=new Array(Sn>1?Sn-1:0),Tn=1;Tn<Sn;Tn++)Cn[Tn-1]=arguments[Tn];return(xn=vn.call.apply(vn,[this].concat(Cn))||this).data=void 0,xn.data=An,xn}return _n=vn,(hn=bn).prototype=Object.create(_n.prototype),hn.prototype.constructor=hn,Ue(hn,_n),bn}(Oe(Error))},"./src/loader/fragment.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"ElementaryStreamTypes",function(){return Ce}),_e.d(pe,"BaseSegment",function(){return vn}),_e.d(pe,"Fragment",function(){return hn}),_e.d(pe,"Part",function(){return _n});var Ce,Ie,Oe=_e("./src/polyfills/number.ts"),Ne=_e("./node_modules/url-toolkit/src/url-toolkit.js"),Fe=_e("./src/utils/logger.ts"),Ue=_e("./src/loader/level-key.ts"),$e=_e("./src/loader/load-stats.ts");function ze(bn,An){bn.prototype=Object.create(An.prototype),bn.prototype.constructor=bn,Ve(bn,An)}function Ve(bn,An){return(Ve=Object.setPrototypeOf||function(xn,Sn){return xn.__proto__=Sn,xn})(bn,An)}function qe(bn,An){for(var xn=0;xn<An.length;xn++){var Sn=An[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(bn,Sn.key,Sn)}}function En(bn,An,xn){return An&&qe(bn.prototype,An),xn&&qe(bn,xn),bn}(Ie=Ce||(Ce={})).AUDIO="audio",Ie.VIDEO="video",Ie.AUDIOVIDEO="audiovideo";var vn=function(){function bn(An){var xn;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((xn={})[Ce.AUDIO]=null,xn[Ce.VIDEO]=null,xn[Ce.AUDIOVIDEO]=null,xn),this.baseurl=An}return bn.prototype.setByteRange=function(An,xn){var Sn=An.split("@",2),Cn=[];Sn.length===1?Cn[0]=xn?xn.byteRangeEndOffset:0:Cn[0]=parseInt(Sn[1]),Cn[1]=parseInt(Sn[0])+Cn[0],this._byteRange=Cn},En(bn,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(Ne.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(An){this._url=An}}]),bn}(),hn=function(bn){function An(Sn,Cn){var Tn;return(Tn=bn.call(this,Cn)||this)._decryptdata=null,Tn.rawProgramDateTime=null,Tn.programDateTime=null,Tn.tagList=[],Tn.duration=0,Tn.sn=0,Tn.levelkey=void 0,Tn.type=void 0,Tn.loader=null,Tn.level=-1,Tn.cc=0,Tn.startPTS=void 0,Tn.endPTS=void 0,Tn.appendedPTS=void 0,Tn.startDTS=void 0,Tn.endDTS=void 0,Tn.start=0,Tn.deltaPTS=void 0,Tn.maxStartPTS=void 0,Tn.minEndPTS=void 0,Tn.stats=new $e.LoadStats,Tn.urlId=0,Tn.data=void 0,Tn.bitrateTest=!1,Tn.title=null,Tn.initSegment=null,Tn.type=Sn,Tn}ze(An,bn);var xn=An.prototype;return xn.createInitializationVector=function(Sn){for(var Cn=new Uint8Array(16),Tn=12;Tn<16;Tn++)Cn[Tn]=Sn>>8*(15-Tn)&255;return Cn},xn.setDecryptDataFromLevelKey=function(Sn,Cn){var Tn=Sn;return(Sn==null?void 0:Sn.method)==="AES-128"&&Sn.uri&&!Sn.iv&&((Tn=Ue.LevelKey.fromURI(Sn.uri)).method=Sn.method,Tn.iv=this.createInitializationVector(Cn),Tn.keyFormat="identity"),Tn},xn.setElementaryStreamInfo=function(Sn,Cn,Tn,wn,Ln,Pn){Pn===void 0&&(Pn=!1);var kn=this.elementaryStreams,In=kn[Sn];In?(In.startPTS=Math.min(In.startPTS,Cn),In.endPTS=Math.max(In.endPTS,Tn),In.startDTS=Math.min(In.startDTS,wn),In.endDTS=Math.max(In.endDTS,Ln)):kn[Sn]={startPTS:Cn,endPTS:Tn,startDTS:wn,endDTS:Ln,partial:Pn}},xn.clearElementaryStreamInfo=function(){var Sn=this.elementaryStreams;Sn[Ce.AUDIO]=null,Sn[Ce.VIDEO]=null,Sn[Ce.AUDIOVIDEO]=null},En(An,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var Sn=this.sn;typeof Sn!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&Fe.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),Sn=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,Sn)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(Oe.isFiniteNumber)(this.programDateTime))return null;var Sn=Object(Oe.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*Sn}},{key:"encrypted",get:function(){var Sn;return!((Sn=this.decryptdata)===null||Sn===void 0||!Sn.keyFormat||!this.decryptdata.uri)}}]),An}(vn),_n=function(bn){function An(xn,Sn,Cn,Tn,wn){var Ln;(Ln=bn.call(this,Cn)||this).fragOffset=0,Ln.duration=0,Ln.gap=!1,Ln.independent=!1,Ln.relurl=void 0,Ln.fragment=void 0,Ln.index=void 0,Ln.stats=new $e.LoadStats,Ln.duration=xn.decimalFloatingPoint("DURATION"),Ln.gap=xn.bool("GAP"),Ln.independent=xn.bool("INDEPENDENT"),Ln.relurl=xn.enumeratedString("URI"),Ln.fragment=Sn,Ln.index=Tn;var Pn=xn.enumeratedString("BYTERANGE");return Pn&&Ln.setByteRange(Pn,wn),wn&&(Ln.fragOffset=wn.fragOffset+wn.duration),Ln}return ze(An,bn),En(An,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var xn=this.elementaryStreams;return!!(xn.audio||xn.video||xn.audiovideo)}}]),An}(vn)},"./src/loader/key-loader.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ne});var Ce=_e("./src/events.ts"),Ie=_e("./src/errors.ts"),Oe=_e("./src/utils/logger.ts"),Ne=function(){function Fe($e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=$e,this._registerListeners()}var Ue=Fe.prototype;return Ue._registerListeners=function(){this.hls.on(Ce.Events.KEY_LOADING,this.onKeyLoading,this)},Ue._unregisterListeners=function(){this.hls.off(Ce.Events.KEY_LOADING,this.onKeyLoading)},Ue.destroy=function(){for(var $e in this._unregisterListeners(),this.loaders){var ze=this.loaders[$e];ze&&ze.destroy()}this.loaders={}},Ue.onKeyLoading=function($e,ze){var Ve=ze.frag,qe=Ve.type,En=this.loaders[qe];if(Ve.decryptdata){var vn=Ve.decryptdata.uri;if(vn!==this.decrypturl||this.decryptkey===null){var hn=this.hls.config;if(En&&(Oe.logger.warn("abort previous key loader for type:"+qe),En.abort()),!vn)return void Oe.logger.warn("key uri is falsy");var _n=hn.loader,bn=Ve.loader=this.loaders[qe]=new _n(hn);this.decrypturl=vn,this.decryptkey=null;var An={url:vn,frag:Ve,responseType:"arraybuffer"},xn={timeout:hn.fragLoadingTimeOut,maxRetry:0,retryDelay:hn.fragLoadingRetryDelay,maxRetryDelay:hn.fragLoadingMaxRetryTimeout,highWaterMark:0},Sn={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};bn.load(An,xn,Sn)}else this.decryptkey&&(Ve.decryptdata.key=this.decryptkey,this.hls.trigger(Ce.Events.KEY_LOADED,{frag:Ve}))}else Oe.logger.warn("Missing decryption data on fragment in onKeyLoading")},Ue.loadsuccess=function($e,ze,Ve){var qe=Ve.frag;qe.decryptdata?(this.decryptkey=qe.decryptdata.key=new Uint8Array($e.data),qe.loader=null,delete this.loaders[qe.type],this.hls.trigger(Ce.Events.KEY_LOADED,{frag:qe})):Oe.logger.error("after key load, decryptdata unset")},Ue.loaderror=function($e,ze){var Ve=ze.frag,qe=Ve.loader;qe&&qe.abort(),delete this.loaders[Ve.type],this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:Ve,response:$e})},Ue.loadtimeout=function($e,ze){var Ve=ze.frag,qe=Ve.loader;qe&&qe.abort(),delete this.loaders[Ve.type],this.hls.trigger(Ce.Events.ERROR,{type:Ie.ErrorTypes.NETWORK_ERROR,details:Ie.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:Ve})},Fe}()},"./src/loader/level-details.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"LevelDetails",function(){return Oe});var Ce=_e("./src/polyfills/number.ts");function Ie(Ne,Fe){for(var Ue=0;Ue<Fe.length;Ue++){var $e=Fe[Ue];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ne,$e.key,$e)}}var Oe=function(){function Ne($e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=$e}var Fe,Ue;return Ne.prototype.reloaded=function($e){if(!$e)return this.advanced=!0,void(this.updated=!0);var ze=this.lastPartSn-$e.lastPartSn,Ve=this.lastPartIndex-$e.lastPartIndex;this.updated=this.endSN!==$e.endSN||!!Ve||!!ze,this.advanced=this.endSN>$e.endSN||ze>0||ze===0&&Ve>0,this.updated||this.advanced?this.misses=Math.floor(.6*$e.misses):this.misses=$e.misses+1,this.availabilityDelay=$e.availabilityDelay},Fe=Ne,(Ue=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(Ce.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var $e=this.driftEndTime-this.driftStartTime;return $e>0?1e3*(this.driftEnd-this.driftStart)/$e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var $e;return($e=this.partList)!==null&&$e!==void 0&&$e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var $e;return($e=this.fragments)!==null&&$e!==void 0&&$e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var $e;return($e=this.partList)!==null&&$e!==void 0&&$e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var $e;return($e=this.partList)!==null&&$e!==void 0&&$e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&Ie(Fe.prototype,Ue),Ne}()},"./src/loader/level-key.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"LevelKey",function(){return Oe});var Ce=_e("./node_modules/url-toolkit/src/url-toolkit.js");function Ie(Ne,Fe){for(var Ue=0;Ue<Fe.length;Ue++){var $e=Fe[Ue];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ne,$e.key,$e)}}var Oe=function(){function Ne($e,ze){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=ze?Object(Ce.buildAbsoluteURL)($e,ze,{alwaysNormalize:!0}):$e}var Fe,Ue;return Ne.fromURL=function($e,ze){return new Ne($e,ze)},Ne.fromURI=function($e){return new Ne($e)},Fe=Ne,(Ue=[{key:"uri",get:function(){return this._uri}}])&&Ie(Fe.prototype,Ue),Ne}()},"./src/loader/load-stats.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"LoadStats",function(){return Ce});var Ce=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return _n});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./node_modules/url-toolkit/src/url-toolkit.js"),Oe=_e("./src/loader/fragment.ts"),Ne=_e("./src/loader/level-details.ts"),Fe=_e("./src/loader/level-key.ts"),Ue=_e("./src/utils/attr-list.ts"),$e=_e("./src/utils/logger.ts"),ze=_e("./src/utils/codecs.ts"),Ve=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,qe=/#EXT-X-MEDIA:(.*)/g,En=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),vn=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),hn=/\.(mp4|m4s|m4v|m4a)$/i,_n=function(){function Sn(){}return Sn.findGroup=function(Cn,Tn){for(var wn=0;wn<Cn.length;wn++){var Ln=Cn[wn];if(Ln.id===Tn)return Ln}},Sn.convertAVC1ToAVCOTI=function(Cn){var Tn=Cn.split(".");if(Tn.length>2){var wn=Tn.shift()+".";return wn+=parseInt(Tn.shift()).toString(16),wn+=("000"+parseInt(Tn.shift()).toString(16)).substr(-4)}return Cn},Sn.resolve=function(Cn,Tn){return Ie.buildAbsoluteURL(Tn,Cn,{alwaysNormalize:!0})},Sn.parseMasterPlaylist=function(Cn,Tn){var wn,Ln=[],Pn={},kn=!1;for(Ve.lastIndex=0;(wn=Ve.exec(Cn))!=null;)if(wn[1]){var In=new Ue.AttrList(wn[1]),Rn={attrs:In,bitrate:In.decimalInteger("AVERAGE-BANDWIDTH")||In.decimalInteger("BANDWIDTH"),name:In.NAME,url:Sn.resolve(wn[2],Tn)},Nn=In.decimalResolution("RESOLUTION");Nn&&(Rn.width=Nn.width,Rn.height=Nn.height),bn((In.CODECS||"").split(/[ ,]+/).filter(function(Dn){return Dn}),Rn),Rn.videoCodec&&Rn.videoCodec.indexOf("avc1")!==-1&&(Rn.videoCodec=Sn.convertAVC1ToAVCOTI(Rn.videoCodec)),Ln.push(Rn)}else if(wn[3]){var On=new Ue.AttrList(wn[3]);On["DATA-ID"]&&(kn=!0,Pn[On["DATA-ID"]]=On)}return{levels:Ln,sessionData:kn?Pn:null}},Sn.parseMasterPlaylistMedia=function(Cn,Tn,wn,Ln){var Pn;Ln===void 0&&(Ln=[]);var kn=[],In=0;for(qe.lastIndex=0;(Pn=qe.exec(Cn))!==null;){var Rn=new Ue.AttrList(Pn[1]);if(Rn.TYPE===wn){var Nn={attrs:Rn,bitrate:0,id:In++,groupId:Rn["GROUP-ID"],instreamId:Rn["INSTREAM-ID"],name:Rn.NAME||Rn.LANGUAGE||"",type:wn,default:Rn.bool("DEFAULT"),autoselect:Rn.bool("AUTOSELECT"),forced:Rn.bool("FORCED"),lang:Rn.LANGUAGE,url:Rn.URI?Sn.resolve(Rn.URI,Tn):""};if(Ln.length){var On=Sn.findGroup(Ln,Nn.groupId)||Ln[0];An(Nn,On,"audioCodec"),An(Nn,On,"textCodec")}kn.push(Nn)}}return kn},Sn.parseLevelPlaylist=function(Cn,Tn,wn,Ln,Pn){var kn,In,Rn,Nn=new Ne.LevelDetails(Tn),On=Nn.fragments,Dn=null,Mn=0,Bn=0,$n=0,Fn=0,Un=null,Hn=new Oe.Fragment(Ln,Tn),Wn=-1,Xn=!1;for(En.lastIndex=0,Nn.m3u8=Cn;(kn=En.exec(Cn))!==null;){Xn&&(Xn=!1,(Hn=new Oe.Fragment(Ln,Tn)).start=$n,Hn.sn=Mn,Hn.cc=Fn,Hn.level=wn,Dn&&(Hn.initSegment=Dn,Hn.rawProgramDateTime=Dn.rawProgramDateTime));var or=kn[1];if(or){Hn.duration=parseFloat(or);var fr=(" "+kn[2]).slice(1);Hn.title=fr||null,Hn.tagList.push(fr?["INF",or,fr]:["INF",or])}else if(kn[3])Object(Ce.isFiniteNumber)(Hn.duration)&&(Hn.start=$n,Rn&&(Hn.levelkey=Rn),Hn.sn=Mn,Hn.level=wn,Hn.cc=Fn,Hn.urlId=Pn,On.push(Hn),Hn.relurl=(" "+kn[3]).slice(1),xn(Hn,Un),Un=Hn,$n+=Hn.duration,Mn++,Bn=0,Xn=!0);else if(kn[4]){var cr=(" "+kn[4]).slice(1);Un?Hn.setByteRange(cr,Un):Hn.setByteRange(cr)}else if(kn[5])Hn.rawProgramDateTime=(" "+kn[5]).slice(1),Hn.tagList.push(["PROGRAM-DATE-TIME",Hn.rawProgramDateTime]),Wn===-1&&(Wn=On.length);else{if(!(kn=kn[0].match(vn))){$e.logger.warn("No matches on slow regex match for level playlist!");continue}for(In=1;In<kn.length&&kn[In]===void 0;In++);var Jn=(" "+kn[In]).slice(1),mr=(" "+kn[In+1]).slice(1),Ir=kn[In+2]?(" "+kn[In+2]).slice(1):"";switch(Jn){case"PLAYLIST-TYPE":Nn.type=mr.toUpperCase();break;case"MEDIA-SEQUENCE":Mn=Nn.startSN=parseInt(mr);break;case"SKIP":var yr=new Ue.AttrList(mr),Tr=yr.decimalInteger("SKIPPED-SEGMENTS");if(Object(Ce.isFiniteNumber)(Tr)){Nn.skippedSegments=Tr;for(var Sr=Tr;Sr--;)On.unshift(null);Mn+=Tr}var Yn=yr.enumeratedString("RECENTLY-REMOVED-DATERANGES");Yn&&(Nn.recentlyRemovedDateranges=Yn.split("	"));break;case"TARGETDURATION":Nn.targetduration=parseFloat(mr);break;case"VERSION":Nn.version=parseInt(mr);break;case"EXTM3U":break;case"ENDLIST":Nn.live=!1;break;case"#":(mr||Ir)&&Hn.tagList.push(Ir?[mr,Ir]:[mr]);break;case"DIS":Fn++;case"GAP":Hn.tagList.push([Jn]);break;case"BITRATE":Hn.tagList.push([Jn,mr]);break;case"DISCONTINUITY-SEQ":Fn=parseInt(mr);break;case"KEY":var Qn,rr=new Ue.AttrList(mr),gr=rr.enumeratedString("METHOD"),Ar=rr.URI,Br=rr.hexadecimalInteger("IV"),Vr=rr.enumeratedString("KEYFORMATVERSIONS"),Fr=rr.enumeratedString("KEYID"),Er=(Qn=rr.enumeratedString("KEYFORMAT"))!=null?Qn:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Er)>-1){$e.logger.warn("Keyformat "+Er+" is not supported from the manifest");continue}if(Er!=="identity")continue;gr&&(Rn=Fe.LevelKey.fromURL(Tn,Ar),Ar&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(gr)>=0&&(Rn.method=gr,Rn.keyFormat=Er,Fr&&(Rn.keyID=Fr),Vr&&(Rn.keyFormatVersions=Vr),Rn.iv=Br));break;case"START":var Dr=new Ue.AttrList(mr).decimalFloatingPoint("TIME-OFFSET");Object(Ce.isFiniteNumber)(Dr)&&(Nn.startTimeOffset=Dr);break;case"MAP":var Pr=new Ue.AttrList(mr);Hn.relurl=Pr.URI,Pr.BYTERANGE&&Hn.setByteRange(Pr.BYTERANGE),Hn.level=wn,Hn.sn="initSegment",Rn&&(Hn.levelkey=Rn),Hn.initSegment=null,Dn=Hn,Xn=!0;break;case"SERVER-CONTROL":var $r=new Ue.AttrList(mr);Nn.canBlockReload=$r.bool("CAN-BLOCK-RELOAD"),Nn.canSkipUntil=$r.optionalFloat("CAN-SKIP-UNTIL",0),Nn.canSkipDateRanges=Nn.canSkipUntil>0&&$r.bool("CAN-SKIP-DATERANGES"),Nn.partHoldBack=$r.optionalFloat("PART-HOLD-BACK",0),Nn.holdBack=$r.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Lr=new Ue.AttrList(mr);Nn.partTarget=Lr.decimalFloatingPoint("PART-TARGET");break;case"PART":var Or=Nn.partList;Or||(Or=Nn.partList=[]);var Hr=Bn>0?Or[Or.length-1]:void 0,qr=Bn++,ao=new Oe.Part(new Ue.AttrList(mr),Hn,Tn,qr,Hr);Or.push(ao),Hn.duration+=ao.duration;break;case"PRELOAD-HINT":var Ur=new Ue.AttrList(mr);Nn.preloadHint=Ur;break;case"RENDITION-REPORT":var _r=new Ue.AttrList(mr);Nn.renditionReports=Nn.renditionReports||[],Nn.renditionReports.push(_r);break;default:$e.logger.warn("line parsed but not handled: "+kn)}}}Un&&!Un.relurl?(On.pop(),$n-=Un.duration,Nn.partList&&(Nn.fragmentHint=Un)):Nn.partList&&(xn(Hn,Un),Hn.cc=Fn,Nn.fragmentHint=Hn);var ur=On.length,kr=On[0],lr=On[ur-1];if(($n+=Nn.skippedSegments*Nn.targetduration)>0&&ur&&lr){Nn.averagetargetduration=$n/ur;var br=lr.sn;Nn.endSN=br!=="initSegment"?br:0,kr&&(Nn.startCC=kr.cc,kr.initSegment||Nn.fragments.every(function(Mr){return Mr.relurl&&(vr=Mr.relurl,hn.test((jr=(Gr=Ie.parseURL(vr))===null||Gr===void 0?void 0:Gr.path)!=null?jr:""));var vr,jr,Gr})&&($e.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(Hn=new Oe.Fragment(Ln,Tn)).relurl=lr.relurl,Hn.level=wn,Hn.sn="initSegment",kr.initSegment=Hn,Nn.needSidxRanges=!0))}else Nn.endSN=0,Nn.startCC=0;return Nn.fragmentHint&&($n+=Nn.fragmentHint.duration),Nn.totalduration=$n,Nn.endCC=Fn,Wn>0&&function(Mr,vr){for(var jr=Mr[vr],Gr=vr;Gr--;){var zr=Mr[Gr];if(!zr)return;zr.programDateTime=jr.programDateTime-1e3*zr.duration,jr=zr}}(On,Wn),Nn},Sn}();function bn(Sn,Cn){["video","audio","text"].forEach(function(Tn){var wn=Sn.filter(function(Pn){return Object(ze.isCodecType)(Pn,Tn)});if(wn.length){var Ln=wn.filter(function(Pn){return Pn.lastIndexOf("avc1",0)===0||Pn.lastIndexOf("mp4a",0)===0});Cn[Tn+"Codec"]=Ln.length>0?Ln[0]:wn[0],Sn=Sn.filter(function(Pn){return wn.indexOf(Pn)===-1})}}),Cn.unknownCodecs=Sn}function An(Sn,Cn,Tn){var wn=Cn[Tn];wn&&(Sn[Tn]=wn)}function xn(Sn,Cn){Sn.rawProgramDateTime?Sn.programDateTime=Date.parse(Sn.rawProgramDateTime):Cn!=null&&Cn.programDateTime&&(Sn.programDateTime=Cn.endProgramDateTime),Object(Ce.isFiniteNumber)(Sn.programDateTime)||(Sn.programDateTime=null,Sn.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/events.ts"),Oe=_e("./src/errors.ts"),Ne=_e("./src/utils/logger.ts"),Fe=_e("./src/utils/mp4-tools.ts"),Ue=_e("./src/loader/m3u8-parser.ts"),$e=_e("./src/types/loader.ts"),ze=_e("./src/utils/attr-list.ts");function Ve(En,vn){var hn=En.url;return hn!==void 0&&hn.indexOf("data:")!==0||(hn=vn.url),hn}var qe=function(){function En(hn){this.hls=void 0,this.loaders=Object.create(null),this.hls=hn,this.registerListeners()}var vn=En.prototype;return vn.registerListeners=function(){var hn=this.hls;hn.on(Ie.Events.MANIFEST_LOADING,this.onManifestLoading,this),hn.on(Ie.Events.LEVEL_LOADING,this.onLevelLoading,this),hn.on(Ie.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),hn.on(Ie.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},vn.unregisterListeners=function(){var hn=this.hls;hn.off(Ie.Events.MANIFEST_LOADING,this.onManifestLoading,this),hn.off(Ie.Events.LEVEL_LOADING,this.onLevelLoading,this),hn.off(Ie.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),hn.off(Ie.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},vn.createInternalLoader=function(hn){var _n=this.hls.config,bn=_n.pLoader,An=_n.loader,xn=new(bn||An)(_n);return hn.loader=xn,this.loaders[hn.type]=xn,xn},vn.getInternalLoader=function(hn){return this.loaders[hn.type]},vn.resetInternalLoader=function(hn){this.loaders[hn]&&delete this.loaders[hn]},vn.destroyInternalLoaders=function(){for(var hn in this.loaders){var _n=this.loaders[hn];_n&&_n.destroy(),this.resetInternalLoader(hn)}},vn.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},vn.onManifestLoading=function(hn,_n){var bn=_n.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:$e.PlaylistContextType.MANIFEST,url:bn,deliveryDirectives:null})},vn.onLevelLoading=function(hn,_n){var bn=_n.id,An=_n.level,xn=_n.url,Sn=_n.deliveryDirectives;this.load({id:bn,groupId:null,level:An,responseType:"text",type:$e.PlaylistContextType.LEVEL,url:xn,deliveryDirectives:Sn})},vn.onAudioTrackLoading=function(hn,_n){var bn=_n.id,An=_n.groupId,xn=_n.url,Sn=_n.deliveryDirectives;this.load({id:bn,groupId:An,level:null,responseType:"text",type:$e.PlaylistContextType.AUDIO_TRACK,url:xn,deliveryDirectives:Sn})},vn.onSubtitleTrackLoading=function(hn,_n){var bn=_n.id,An=_n.groupId,xn=_n.url,Sn=_n.deliveryDirectives;this.load({id:bn,groupId:An,level:null,responseType:"text",type:$e.PlaylistContextType.SUBTITLE_TRACK,url:xn,deliveryDirectives:Sn})},vn.load=function(hn){var _n,bn,An,xn,Sn,Cn,Tn=this.hls.config,wn=this.getInternalLoader(hn);if(wn){var Ln=wn.context;if(Ln&&Ln.url===hn.url)return void Ne.logger.trace("[playlist-loader]: playlist request ongoing");Ne.logger.log("[playlist-loader]: aborting previous loader for type: "+hn.type),wn.abort()}switch(hn.type){case $e.PlaylistContextType.MANIFEST:bn=Tn.manifestLoadingMaxRetry,An=Tn.manifestLoadingTimeOut,xn=Tn.manifestLoadingRetryDelay,Sn=Tn.manifestLoadingMaxRetryTimeout;break;case $e.PlaylistContextType.LEVEL:case $e.PlaylistContextType.AUDIO_TRACK:case $e.PlaylistContextType.SUBTITLE_TRACK:bn=0,An=Tn.levelLoadingTimeOut;break;default:bn=Tn.levelLoadingMaxRetry,An=Tn.levelLoadingTimeOut,xn=Tn.levelLoadingRetryDelay,Sn=Tn.levelLoadingMaxRetryTimeout}if(wn=this.createInternalLoader(hn),(_n=hn.deliveryDirectives)!==null&&_n!==void 0&&_n.part&&(hn.type===$e.PlaylistContextType.LEVEL&&hn.level!==null?Cn=this.hls.levels[hn.level].details:hn.type===$e.PlaylistContextType.AUDIO_TRACK&&hn.id!==null?Cn=this.hls.audioTracks[hn.id].details:hn.type===$e.PlaylistContextType.SUBTITLE_TRACK&&hn.id!==null&&(Cn=this.hls.subtitleTracks[hn.id].details),Cn)){var Pn=Cn.partTarget,kn=Cn.targetduration;Pn&&kn&&(An=Math.min(1e3*Math.max(3*Pn,.8*kn),An))}var In={timeout:An,maxRetry:bn,retryDelay:xn,maxRetryDelay:Sn,highWaterMark:0},Rn={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};wn.load(hn,In,Rn)},vn.loadsuccess=function(hn,_n,bn,An){if(An===void 0&&(An=null),bn.isSidxRequest)return this.handleSidxRequest(hn,bn),void this.handlePlaylistLoaded(hn,_n,bn,An);this.resetInternalLoader(bn.type);var xn=hn.data;xn.indexOf("#EXTM3U")===0?(_n.parsing.start=performance.now(),xn.indexOf("#EXTINF:")>0||xn.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(hn,_n,bn,An):this.handleMasterPlaylist(hn,_n,bn,An)):this.handleManifestParsingError(hn,bn,"no EXTM3U delimiter",An)},vn.loaderror=function(hn,_n,bn){bn===void 0&&(bn=null),this.handleNetworkError(_n,bn,!1,hn)},vn.loadtimeout=function(hn,_n,bn){bn===void 0&&(bn=null),this.handleNetworkError(_n,bn,!0)},vn.handleMasterPlaylist=function(hn,_n,bn,An){var xn=this.hls,Sn=hn.data,Cn=Ve(hn,bn),Tn=Ue.default.parseMasterPlaylist(Sn,Cn),wn=Tn.levels,Ln=Tn.sessionData;if(wn.length){var Pn=wn.map(function(On){return{id:On.attrs.AUDIO,audioCodec:On.audioCodec}}),kn=wn.map(function(On){return{id:On.attrs.SUBTITLES,textCodec:On.textCodec}}),In=Ue.default.parseMasterPlaylistMedia(Sn,Cn,"AUDIO",Pn),Rn=Ue.default.parseMasterPlaylistMedia(Sn,Cn,"SUBTITLES",kn),Nn=Ue.default.parseMasterPlaylistMedia(Sn,Cn,"CLOSED-CAPTIONS");In.length&&(In.some(function(On){return!On.url})||!wn[0].audioCodec||wn[0].attrs.AUDIO||(Ne.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),In.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ze.AttrList({}),bitrate:0,url:""}))),xn.trigger(Ie.Events.MANIFEST_LOADED,{levels:wn,audioTracks:In,subtitles:Rn,captions:Nn,url:Cn,stats:_n,networkDetails:An,sessionData:Ln})}else this.handleManifestParsingError(hn,bn,"no level found in manifest",An)},vn.handleTrackOrLevelPlaylist=function(hn,_n,bn,An){var xn=this.hls,Sn=bn.id,Cn=bn.level,Tn=bn.type,wn=Ve(hn,bn),Ln=Object(Ce.isFiniteNumber)(Sn)?Sn:0,Pn=Object(Ce.isFiniteNumber)(Cn)?Cn:Ln,kn=function(Dn){switch(Dn.type){case $e.PlaylistContextType.AUDIO_TRACK:return $e.PlaylistLevelType.AUDIO;case $e.PlaylistContextType.SUBTITLE_TRACK:return $e.PlaylistLevelType.SUBTITLE;default:return $e.PlaylistLevelType.MAIN}}(bn),In=Ue.default.parseLevelPlaylist(hn.data,wn,Pn,kn,Ln);if(In.fragments.length){if(Tn===$e.PlaylistContextType.MANIFEST){var Rn={attrs:new ze.AttrList({}),bitrate:0,details:In,name:"",url:wn};xn.trigger(Ie.Events.MANIFEST_LOADED,{levels:[Rn],audioTracks:[],url:wn,stats:_n,networkDetails:An,sessionData:null})}if(_n.parsing.end=performance.now(),In.needSidxRanges){var Nn,On=(Nn=In.fragments[0].initSegment)===null||Nn===void 0?void 0:Nn.url;this.load({url:On,isSidxRequest:!0,type:Tn,level:Cn,levelDetails:In,id:Sn,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else bn.levelDetails=In,this.handlePlaylistLoaded(hn,_n,bn,An)}else xn.trigger(Ie.Events.ERROR,{type:Oe.ErrorTypes.NETWORK_ERROR,details:Oe.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:wn,reason:"no fragments found in level",level:typeof bn.level=="number"?bn.level:void 0})},vn.handleSidxRequest=function(hn,_n){var bn=Object(Fe.parseSegmentIndex)(new Uint8Array(hn.data));if(bn){var An=bn.references,xn=_n.levelDetails;An.forEach(function(Sn,Cn){var Tn=Sn.info,wn=xn.fragments[Cn];wn.byteRange.length===0&&wn.setByteRange(String(1+Tn.end-Tn.start)+"@"+String(Tn.start)),wn.initSegment&&wn.initSegment.setByteRange(String(bn.moovEndOffset)+"@0")})}},vn.handleManifestParsingError=function(hn,_n,bn,An){this.hls.trigger(Ie.Events.ERROR,{type:Oe.ErrorTypes.NETWORK_ERROR,details:Oe.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:_n.type===$e.PlaylistContextType.MANIFEST,url:hn.url,reason:bn,response:hn,context:_n,networkDetails:An})},vn.handleNetworkError=function(hn,_n,bn,An){bn===void 0&&(bn=!1),Ne.logger.warn("[playlist-loader]: A network "+(bn?"timeout":"error")+" occurred while loading "+hn.type+" level: "+hn.level+" id: "+hn.id+' group-id: "'+hn.groupId+'"');var xn=Oe.ErrorDetails.UNKNOWN,Sn=!1,Cn=this.getInternalLoader(hn);switch(hn.type){case $e.PlaylistContextType.MANIFEST:xn=bn?Oe.ErrorDetails.MANIFEST_LOAD_TIMEOUT:Oe.ErrorDetails.MANIFEST_LOAD_ERROR,Sn=!0;break;case $e.PlaylistContextType.LEVEL:xn=bn?Oe.ErrorDetails.LEVEL_LOAD_TIMEOUT:Oe.ErrorDetails.LEVEL_LOAD_ERROR,Sn=!1;break;case $e.PlaylistContextType.AUDIO_TRACK:xn=bn?Oe.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:Oe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,Sn=!1;break;case $e.PlaylistContextType.SUBTITLE_TRACK:xn=bn?Oe.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:Oe.ErrorDetails.SUBTITLE_LOAD_ERROR,Sn=!1}Cn&&this.resetInternalLoader(hn.type);var Tn={type:Oe.ErrorTypes.NETWORK_ERROR,details:xn,fatal:Sn,url:hn.url,loader:Cn,context:hn,networkDetails:_n};An&&(Tn.response=An),this.hls.trigger(Ie.Events.ERROR,Tn)},vn.handlePlaylistLoaded=function(hn,_n,bn,An){var xn=bn.type,Sn=bn.level,Cn=bn.id,Tn=bn.groupId,wn=bn.loader,Ln=bn.levelDetails,Pn=bn.deliveryDirectives;if(Ln!=null&&Ln.targetduration){if(wn)switch(Ln.live&&(wn.getCacheAge&&(Ln.ageHeader=wn.getCacheAge()||0),wn.getCacheAge&&!isNaN(Ln.ageHeader)||(Ln.ageHeader=0)),xn){case $e.PlaylistContextType.MANIFEST:case $e.PlaylistContextType.LEVEL:this.hls.trigger(Ie.Events.LEVEL_LOADED,{details:Ln,level:Sn||0,id:Cn||0,stats:_n,networkDetails:An,deliveryDirectives:Pn});break;case $e.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(Ie.Events.AUDIO_TRACK_LOADED,{details:Ln,id:Cn||0,groupId:Tn||"",stats:_n,networkDetails:An,deliveryDirectives:Pn});break;case $e.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(Ie.Events.SUBTITLE_TRACK_LOADED,{details:Ln,id:Cn||0,groupId:Tn||"",stats:_n,networkDetails:An,deliveryDirectives:Pn})}}else this.handleManifestParsingError(hn,bn,"invalid target duration",An)},En}();pe.default=qe},"./src/polyfills/number.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"isFiniteNumber",function(){return Ce}),_e.d(pe,"MAX_SAFE_INTEGER",function(){return Ie});var Ce=Number.isFinite||function(Oe){return typeof Oe=="number"&&isFinite(Oe)},Ie=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(xe,pe,_e){_e.r(pe);var Ce=function(){function Ie(){}return Ie.getSilentFrame=function(Oe,Ne){switch(Oe){case"mp4a.40.2":if(Ne===1)return new Uint8Array([0,200,0,128,35,128]);if(Ne===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(Ne===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(Ne===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(Ne===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(Ne===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(Ne===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(Ne===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(Ne===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},Ie}();pe.default=Ce},"./src/remux/mp4-generator.ts":function(xe,pe,_e){_e.r(pe);var Ce=Math.pow(2,32)-1,Ie=function(){function Oe(){}return Oe.init=function(){var Ne;for(Ne in Oe.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Oe.types)Oe.types.hasOwnProperty(Ne)&&(Oe.types[Ne]=[Ne.charCodeAt(0),Ne.charCodeAt(1),Ne.charCodeAt(2),Ne.charCodeAt(3)]);var Fe=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ue=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Oe.HDLR_TYPES={video:Fe,audio:Ue};var $e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ze=new Uint8Array([0,0,0,0,0,0,0,0]);Oe.STTS=Oe.STSC=Oe.STCO=ze,Oe.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Oe.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Oe.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Oe.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var Ve=new Uint8Array([105,115,111,109]),qe=new Uint8Array([97,118,99,49]),En=new Uint8Array([0,0,0,1]);Oe.FTYP=Oe.box(Oe.types.ftyp,Ve,En,Ve,qe),Oe.DINF=Oe.box(Oe.types.dinf,Oe.box(Oe.types.dref,$e))},Oe.box=function(Ne){for(var Fe=8,Ue=arguments.length,$e=new Array(Ue>1?Ue-1:0),ze=1;ze<Ue;ze++)$e[ze-1]=arguments[ze];for(var Ve=$e.length,qe=Ve;Ve--;)Fe+=$e[Ve].byteLength;var En=new Uint8Array(Fe);for(En[0]=Fe>>24&255,En[1]=Fe>>16&255,En[2]=Fe>>8&255,En[3]=255&Fe,En.set(Ne,4),Ve=0,Fe=8;Ve<qe;Ve++)En.set($e[Ve],Fe),Fe+=$e[Ve].byteLength;return En},Oe.hdlr=function(Ne){return Oe.box(Oe.types.hdlr,Oe.HDLR_TYPES[Ne])},Oe.mdat=function(Ne){return Oe.box(Oe.types.mdat,Ne)},Oe.mdhd=function(Ne,Fe){Fe*=Ne;var Ue=Math.floor(Fe/(Ce+1)),$e=Math.floor(Fe%(Ce+1));return Oe.box(Oe.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Ne>>24&255,Ne>>16&255,Ne>>8&255,255&Ne,Ue>>24,Ue>>16&255,Ue>>8&255,255&Ue,$e>>24,$e>>16&255,$e>>8&255,255&$e,85,196,0,0]))},Oe.mdia=function(Ne){return Oe.box(Oe.types.mdia,Oe.mdhd(Ne.timescale,Ne.duration),Oe.hdlr(Ne.type),Oe.minf(Ne))},Oe.mfhd=function(Ne){return Oe.box(Oe.types.mfhd,new Uint8Array([0,0,0,0,Ne>>24,Ne>>16&255,Ne>>8&255,255&Ne]))},Oe.minf=function(Ne){return Ne.type==="audio"?Oe.box(Oe.types.minf,Oe.box(Oe.types.smhd,Oe.SMHD),Oe.DINF,Oe.stbl(Ne)):Oe.box(Oe.types.minf,Oe.box(Oe.types.vmhd,Oe.VMHD),Oe.DINF,Oe.stbl(Ne))},Oe.moof=function(Ne,Fe,Ue){return Oe.box(Oe.types.moof,Oe.mfhd(Ne),Oe.traf(Ue,Fe))},Oe.moov=function(Ne){for(var Fe=Ne.length,Ue=[];Fe--;)Ue[Fe]=Oe.trak(Ne[Fe]);return Oe.box.apply(null,[Oe.types.moov,Oe.mvhd(Ne[0].timescale,Ne[0].duration)].concat(Ue).concat(Oe.mvex(Ne)))},Oe.mvex=function(Ne){for(var Fe=Ne.length,Ue=[];Fe--;)Ue[Fe]=Oe.trex(Ne[Fe]);return Oe.box.apply(null,[Oe.types.mvex].concat(Ue))},Oe.mvhd=function(Ne,Fe){Fe*=Ne;var Ue=Math.floor(Fe/(Ce+1)),$e=Math.floor(Fe%(Ce+1)),ze=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Ne>>24&255,Ne>>16&255,Ne>>8&255,255&Ne,Ue>>24,Ue>>16&255,Ue>>8&255,255&Ue,$e>>24,$e>>16&255,$e>>8&255,255&$e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Oe.box(Oe.types.mvhd,ze)},Oe.sdtp=function(Ne){var Fe,Ue,$e=Ne.samples||[],ze=new Uint8Array(4+$e.length);for(Fe=0;Fe<$e.length;Fe++)Ue=$e[Fe].flags,ze[Fe+4]=Ue.dependsOn<<4|Ue.isDependedOn<<2|Ue.hasRedundancy;return Oe.box(Oe.types.sdtp,ze)},Oe.stbl=function(Ne){return Oe.box(Oe.types.stbl,Oe.stsd(Ne),Oe.box(Oe.types.stts,Oe.STTS),Oe.box(Oe.types.stsc,Oe.STSC),Oe.box(Oe.types.stsz,Oe.STSZ),Oe.box(Oe.types.stco,Oe.STCO))},Oe.avc1=function(Ne){var Fe,Ue,$e,ze=[],Ve=[];for(Fe=0;Fe<Ne.sps.length;Fe++)$e=(Ue=Ne.sps[Fe]).byteLength,ze.push($e>>>8&255),ze.push(255&$e),ze=ze.concat(Array.prototype.slice.call(Ue));for(Fe=0;Fe<Ne.pps.length;Fe++)$e=(Ue=Ne.pps[Fe]).byteLength,Ve.push($e>>>8&255),Ve.push(255&$e),Ve=Ve.concat(Array.prototype.slice.call(Ue));var qe=Oe.box(Oe.types.avcC,new Uint8Array([1,ze[3],ze[4],ze[5],255,224|Ne.sps.length].concat(ze).concat([Ne.pps.length]).concat(Ve))),En=Ne.width,vn=Ne.height,hn=Ne.pixelRatio[0],_n=Ne.pixelRatio[1];return Oe.box(Oe.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,En>>8&255,255&En,vn>>8&255,255&vn,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),qe,Oe.box(Oe.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Oe.box(Oe.types.pasp,new Uint8Array([hn>>24,hn>>16&255,hn>>8&255,255&hn,_n>>24,_n>>16&255,_n>>8&255,255&_n])))},Oe.esds=function(Ne){var Fe=Ne.config.length;return new Uint8Array([0,0,0,0,3,23+Fe,0,1,0,4,15+Fe,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([Fe]).concat(Ne.config).concat([6,1,2]))},Oe.mp4a=function(Ne){var Fe=Ne.samplerate;return Oe.box(Oe.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Ne.channelCount,0,16,0,0,0,0,Fe>>8&255,255&Fe,0,0]),Oe.box(Oe.types.esds,Oe.esds(Ne)))},Oe.mp3=function(Ne){var Fe=Ne.samplerate;return Oe.box(Oe.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Ne.channelCount,0,16,0,0,0,0,Fe>>8&255,255&Fe,0,0]))},Oe.stsd=function(Ne){return Ne.type==="audio"?Ne.isAAC||Ne.codec!=="mp3"?Oe.box(Oe.types.stsd,Oe.STSD,Oe.mp4a(Ne)):Oe.box(Oe.types.stsd,Oe.STSD,Oe.mp3(Ne)):Oe.box(Oe.types.stsd,Oe.STSD,Oe.avc1(Ne))},Oe.tkhd=function(Ne){var Fe=Ne.id,Ue=Ne.duration*Ne.timescale,$e=Ne.width,ze=Ne.height,Ve=Math.floor(Ue/(Ce+1)),qe=Math.floor(Ue%(Ce+1));return Oe.box(Oe.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Fe>>24&255,Fe>>16&255,Fe>>8&255,255&Fe,0,0,0,0,Ve>>24,Ve>>16&255,Ve>>8&255,255&Ve,qe>>24,qe>>16&255,qe>>8&255,255&qe,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,$e>>8&255,255&$e,0,0,ze>>8&255,255&ze,0,0]))},Oe.traf=function(Ne,Fe){var Ue=Oe.sdtp(Ne),$e=Ne.id,ze=Math.floor(Fe/(Ce+1)),Ve=Math.floor(Fe%(Ce+1));return Oe.box(Oe.types.traf,Oe.box(Oe.types.tfhd,new Uint8Array([0,0,0,0,$e>>24,$e>>16&255,$e>>8&255,255&$e])),Oe.box(Oe.types.tfdt,new Uint8Array([1,0,0,0,ze>>24,ze>>16&255,ze>>8&255,255&ze,Ve>>24,Ve>>16&255,Ve>>8&255,255&Ve])),Oe.trun(Ne,Ue.length+16+20+8+16+8+8),Ue)},Oe.trak=function(Ne){return Ne.duration=Ne.duration||4294967295,Oe.box(Oe.types.trak,Oe.tkhd(Ne),Oe.mdia(Ne))},Oe.trex=function(Ne){var Fe=Ne.id;return Oe.box(Oe.types.trex,new Uint8Array([0,0,0,0,Fe>>24,Fe>>16&255,Fe>>8&255,255&Fe,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},Oe.trun=function(Ne,Fe){var Ue,$e,ze,Ve,qe,En,vn=Ne.samples||[],hn=vn.length,_n=12+16*hn,bn=new Uint8Array(_n);for(Fe+=8+_n,bn.set([0,0,15,1,hn>>>24&255,hn>>>16&255,hn>>>8&255,255&hn,Fe>>>24&255,Fe>>>16&255,Fe>>>8&255,255&Fe],0),Ue=0;Ue<hn;Ue++)ze=($e=vn[Ue]).duration,Ve=$e.size,qe=$e.flags,En=$e.cts,bn.set([ze>>>24&255,ze>>>16&255,ze>>>8&255,255&ze,Ve>>>24&255,Ve>>>16&255,Ve>>>8&255,255&Ve,qe.isLeading<<2|qe.dependsOn,qe.isDependedOn<<6|qe.hasRedundancy<<4|qe.paddingValue<<1|qe.isNonSync,61440&qe.degradPrio,15&qe.degradPrio,En>>>24&255,En>>>16&255,En>>>8&255,255&En],12+16*Ue);return Oe.box(Oe.types.trun,bn)},Oe.initSegment=function(Ne){Oe.types||Oe.init();var Fe=Oe.moov(Ne),Ue=new Uint8Array(Oe.FTYP.byteLength+Fe.byteLength);return Ue.set(Oe.FTYP),Ue.set(Fe,Oe.FTYP.byteLength),Ue},Oe}();Ie.types=void 0,Ie.HDLR_TYPES=void 0,Ie.STTS=void 0,Ie.STSC=void 0,Ie.STCO=void 0,Ie.STSZ=void 0,Ie.VMHD=void 0,Ie.SMHD=void 0,Ie.STSD=void 0,Ie.FTYP=void 0,Ie.DINF=void 0,pe.default=Ie},"./src/remux/mp4-remuxer.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return hn}),_e.d(pe,"normalizePts",function(){return _n});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/remux/aac-helper.ts"),Oe=_e("./src/remux/mp4-generator.ts"),Ne=_e("./src/events.ts"),Fe=_e("./src/errors.ts"),Ue=_e("./src/utils/logger.ts"),$e=_e("./src/types/loader.ts"),ze=_e("./src/utils/timescale-conversion.ts");function Ve(){return(Ve=Object.assign||function(xn){for(var Sn=1;Sn<arguments.length;Sn++){var Cn=arguments[Sn];for(var Tn in Cn)Object.prototype.hasOwnProperty.call(Cn,Tn)&&(xn[Tn]=Cn[Tn])}return xn}).apply(this,arguments)}var qe=null,En=null,vn=!1,hn=function(){function xn(Cn,Tn,wn,Ln){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=Cn,this.config=Tn,this.typeSupported=wn,this.ISGenerated=!1,qe===null){var Pn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);qe=Pn?parseInt(Pn[1]):0}if(En===null){var kn=navigator.userAgent.match(/Safari\/(\d+)/i);En=kn?parseInt(kn[1]):0}vn=!!qe&&qe<75||!!En&&En<600}var Sn=xn.prototype;return Sn.destroy=function(){},Sn.resetTimeStamp=function(Cn){Ue.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=Cn},Sn.resetNextTimestamp=function(){Ue.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},Sn.resetInitSegment=function(){Ue.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},Sn.getVideoStartPts=function(Cn){var Tn=!1,wn=Cn.reduce(function(Ln,Pn){var kn=Pn.pts-Ln;return kn<-4294967296?(Tn=!0,_n(Ln,Pn.pts)):kn>0?Ln:Pn.pts},Cn[0].pts);return Tn&&Ue.logger.debug("PTS rollover detected"),wn},Sn.remux=function(Cn,Tn,wn,Ln,Pn,kn,In,Rn){var Nn,On,Dn,Mn,Bn,$n,Fn=Pn,Un=Pn,Hn=Cn.pid>-1,Wn=Tn.pid>-1,Xn=Tn.samples.length,or=Cn.samples.length>0,fr=Xn>1;if((!Hn||or)&&(!Wn||fr)||this.ISGenerated||In){this.ISGenerated||(Dn=this.generateIS(Cn,Tn,Pn));var cr=this.isVideoContiguous,Jn=-1;if(fr&&(Jn=function(Sr){for(var Yn=0;Yn<Sr.length;Yn++)if(Sr[Yn].key)return Yn;return-1}(Tn.samples),!cr&&this.config.forceKeyFrameOnDiscontinuity))if($n=!0,Jn>0){Ue.logger.warn("[mp4-remuxer]: Dropped "+Jn+" out of "+Xn+" video samples due to a missing keyframe");var mr=this.getVideoStartPts(Tn.samples);Tn.samples=Tn.samples.slice(Jn),Tn.dropped+=Jn,Un+=(Tn.samples[0].pts-mr)/(Tn.timescale||9e4)}else Jn===-1&&(Ue.logger.warn("[mp4-remuxer]: No keyframe found out of "+Xn+" video samples"),$n=!1);if(this.ISGenerated){if(or&&fr){var Ir=this.getVideoStartPts(Tn.samples),yr=(_n(Cn.samples[0].pts,Ir)-Ir)/Tn.inputTimeScale;Fn+=Math.max(0,yr),Un+=Math.max(0,-yr)}if(or){if(Cn.samplerate||(Ue.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Dn=this.generateIS(Cn,Tn,Pn)),On=this.remuxAudio(Cn,Fn,this.isAudioContiguous,kn,Wn||fr||Rn===$e.PlaylistLevelType.AUDIO?Un:void 0),fr){var Tr=On?On.endPTS-On.startPTS:0;Tn.inputTimeScale||(Ue.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Dn=this.generateIS(Cn,Tn,Pn)),Nn=this.remuxVideo(Tn,Un,cr,Tr)}}else fr&&(Nn=this.remuxVideo(Tn,Un,cr,0));Nn&&(Nn.firstKeyFrame=Jn,Nn.independent=Jn!==-1)}}return this.ISGenerated&&(wn.samples.length&&(Bn=this.remuxID3(wn,Pn)),Ln.samples.length&&(Mn=this.remuxText(Ln,Pn))),{audio:On,video:Nn,initSegment:Dn,independent:$n,text:Mn,id3:Bn}},Sn.generateIS=function(Cn,Tn,wn){var Ln,Pn,kn,In=Cn.samples,Rn=Tn.samples,Nn=this.typeSupported,On={},Dn=!Object(Ce.isFiniteNumber)(this._initPTS),Mn="audio/mp4";if(Dn&&(Ln=Pn=1/0),Cn.config&&In.length&&(Cn.timescale=Cn.samplerate,Cn.isAAC||(Nn.mpeg?(Mn="audio/mpeg",Cn.codec=""):Nn.mp3&&(Cn.codec="mp3")),On.audio={id:"audio",container:Mn,codec:Cn.codec,initSegment:!Cn.isAAC&&Nn.mpeg?new Uint8Array(0):Oe.default.initSegment([Cn]),metadata:{channelCount:Cn.channelCount}},Dn&&(kn=Cn.inputTimeScale,Ln=Pn=In[0].pts-Math.round(kn*wn))),Tn.sps&&Tn.pps&&Rn.length&&(Tn.timescale=Tn.inputTimeScale,On.video={id:"main",container:"video/mp4",codec:Tn.codec,initSegment:Oe.default.initSegment([Tn]),metadata:{width:Tn.width,height:Tn.height}},Dn)){kn=Tn.inputTimeScale;var Bn=this.getVideoStartPts(Rn),$n=Math.round(kn*wn);Pn=Math.min(Pn,_n(Rn[0].dts,Bn)-$n),Ln=Math.min(Ln,Bn-$n)}if(Object.keys(On).length)return this.ISGenerated=!0,Dn&&(this._initPTS=Ln,this._initDTS=Pn),{tracks:On,initPTS:Ln,timescale:kn}},Sn.remuxVideo=function(Cn,Tn,wn,Ln){var Pn,kn,In,Rn=Cn.inputTimeScale,Nn=Cn.samples,On=[],Dn=Nn.length,Mn=this._initPTS,Bn=this.nextAvcDts,$n=8,Fn=Number.POSITIVE_INFINITY,Un=Number.NEGATIVE_INFINITY,Hn=0,Wn=!1;wn&&Bn!==null||(Bn=Tn*Rn-(Nn[0].pts-_n(Nn[0].dts,Nn[0].pts)));for(var Xn=0;Xn<Dn;Xn++){var or=Nn[Xn];or.pts=_n(or.pts-Mn,Bn),or.dts=_n(or.dts-Mn,Bn),or.dts>or.pts&&(Hn=Math.max(Math.min(Hn,or.pts-or.dts),-18e3)),or.dts<Nn[Xn>0?Xn-1:Xn].dts&&(Wn=!0)}Wn&&Nn.sort(function(Gr,zr){var to=Gr.dts-zr.dts,no=Gr.pts-zr.pts;return to||no}),kn=Nn[0].dts,In=Nn[Nn.length-1].dts;var fr=Math.round((In-kn)/(Dn-1));if(Hn<0){if(Hn<-2*fr){Ue.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(ze.toMsFromMpegTsClock)(-fr,!0)+" ms");for(var cr=Hn,Jn=0;Jn<Dn;Jn++)Nn[Jn].dts=cr=Math.max(cr,Nn[Jn].pts-fr),Nn[Jn].pts=Math.max(cr,Nn[Jn].pts)}else{Ue.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(ze.toMsFromMpegTsClock)(Hn,!0)+" ms to overcome this issue");for(var mr=0;mr<Dn;mr++)Nn[mr].dts=Nn[mr].dts+Hn}kn=Nn[0].dts}if(wn){var Ir=kn-Bn,yr=Ir>fr;if(yr||Ir<-1){yr?Ue.logger.warn("AVC: "+Object(ze.toMsFromMpegTsClock)(Ir,!0)+" ms ("+Ir+"dts) hole between fragments detected, filling it"):Ue.logger.warn("AVC: "+Object(ze.toMsFromMpegTsClock)(-Ir,!0)+" ms ("+Ir+"dts) overlapping between fragments detected"),kn=Bn;var Tr=Nn[0].pts-Ir;Nn[0].dts=kn,Nn[0].pts=Tr,Ue.logger.log("Video: First PTS/DTS adjusted: "+Object(ze.toMsFromMpegTsClock)(Tr,!0)+"/"+Object(ze.toMsFromMpegTsClock)(kn,!0)+", delta: "+Object(ze.toMsFromMpegTsClock)(Ir,!0)+" ms")}}vn&&(kn=Math.max(0,kn));for(var Sr=0,Yn=0,Qn=0;Qn<Dn;Qn++){for(var rr=Nn[Qn],gr=rr.units,Ar=gr.length,Br=0,Vr=0;Vr<Ar;Vr++)Br+=gr[Vr].data.length;Yn+=Br,Sr+=Ar,rr.length=Br,rr.dts=Math.max(rr.dts,kn),rr.pts=Math.max(rr.pts,rr.dts,0),Fn=Math.min(rr.pts,Fn),Un=Math.max(rr.pts,Un)}In=Nn[Dn-1].dts;var Fr,Er=Yn+4*Sr+8;try{Fr=new Uint8Array(Er)}catch(Gr){return void this.observer.emit(Ne.Events.ERROR,Ne.Events.ERROR,{type:Fe.ErrorTypes.MUX_ERROR,details:Fe.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Er,reason:"fail allocating video mdat "+Er})}var Dr=new DataView(Fr.buffer);Dr.setUint32(0,Er),Fr.set(Oe.default.types.mdat,4);for(var Pr=0;Pr<Dn;Pr++){for(var $r=Nn[Pr],Lr=$r.units,Or=0,Hr=0,qr=Lr.length;Hr<qr;Hr++){var ao=Lr[Hr],Ur=ao.data,_r=ao.data.byteLength;Dr.setUint32($n,_r),$n+=4,Fr.set(Ur,$n),$n+=_r,Or+=4+_r}if(Pr<Dn-1)Pn=Nn[Pr+1].dts-$r.dts;else{var ur=this.config,kr=$r.dts-Nn[Pr>0?Pr-1:Pr].dts;if(ur.stretchShortVideoTrack&&this.nextAudioPts!==null){var lr=Math.floor(ur.maxBufferHole*Rn),br=(Ln?Fn+Ln*Rn:this.nextAudioPts)-$r.pts;br>lr?((Pn=br-kr)<0&&(Pn=kr),Ue.logger.log("[mp4-remuxer]: It is approximately "+br/90+" ms to the next segment; using duration "+Pn/90+" ms for the last video frame.")):Pn=kr}else Pn=kr}var Mr=Math.round($r.pts-$r.dts);On.push(new bn($r.key,Pn,Or,Mr))}if(On.length&&qe&&qe<70){var vr=On[0].flags;vr.dependsOn=2,vr.isNonSync=0}console.assert(Pn!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=Bn=In+Pn,this.isVideoContiguous=!0;var jr={data1:Oe.default.moof(Cn.sequenceNumber++,kn,Ve({},Cn,{samples:On})),data2:Fr,startPTS:Fn/Rn,endPTS:(Un+Pn)/Rn,startDTS:kn/Rn,endDTS:Bn/Rn,type:"video",hasAudio:!1,hasVideo:!0,nb:On.length,dropped:Cn.dropped};return Cn.samples=[],Cn.dropped=0,console.assert(Fr.length,"MDAT length must not be zero"),jr},Sn.remuxAudio=function(Cn,Tn,wn,Ln,Pn){var kn=Cn.inputTimeScale,In=kn/(Cn.samplerate?Cn.samplerate:kn),Rn=Cn.isAAC?1024:1152,Nn=Rn*In,On=this._initPTS,Dn=!Cn.isAAC&&this.typeSupported.mpeg,Mn=[],Bn=Cn.samples,$n=Dn?0:8,Fn=this.nextAudioPts||-1,Un=Tn*kn;if(this.isAudioContiguous=wn=wn||Bn.length&&Fn>0&&(Ln&&Math.abs(Un-Fn)<9e3||Math.abs(_n(Bn[0].pts-On,Un)-Fn)<20*Nn),Bn.forEach(function(Ur){Ur.pts=_n(Ur.pts-On,Un)}),!wn||Fn<0){if(!(Bn=Bn.filter(function(Ur){return Ur.pts>=0})).length)return;Fn=Pn===0?0:Ln?Math.max(0,Un):Bn[0].pts}if(Cn.isAAC)for(var Hn=Pn!==void 0,Wn=this.config.maxAudioFramesDrift,Xn=0,or=Fn;Xn<Bn.length;Xn++){var fr=Bn[Xn],cr=fr.pts,Jn=cr-or,mr=Math.abs(1e3*Jn/kn);if(Jn<=-Wn*Nn&&Hn)Xn===0&&(Ue.logger.warn("Audio frame @ "+(cr/kn).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*Jn/kn)+" ms."),this.nextAudioPts=Fn=or=cr);else if(Jn>=Wn*Nn&&mr<1e4&&Hn){var Ir=Math.round(Jn/Nn);(or=cr-Ir*Nn)<0&&(Ir--,or+=Nn),Xn===0&&(this.nextAudioPts=Fn=or),Ue.logger.warn("[mp4-remuxer]: Injecting "+Ir+" audio frame @ "+(or/kn).toFixed(3)+"s due to "+Math.round(1e3*Jn/kn)+" ms gap.");for(var yr=0;yr<Ir;yr++){var Tr=Math.max(or,0),Sr=Ie.default.getSilentFrame(Cn.manifestCodec||Cn.codec,Cn.channelCount);Sr||(Ue.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Sr=fr.unit.subarray()),Bn.splice(Xn,0,{unit:Sr,pts:Tr}),or+=Nn,Xn++}}fr.pts=or,or+=Nn}for(var Yn,Qn=null,rr=null,gr=0,Ar=Bn.length;Ar--;)gr+=Bn[Ar].unit.byteLength;for(var Br=0,Vr=Bn.length;Br<Vr;Br++){var Fr=Bn[Br],Er=Fr.unit,Dr=Fr.pts;if(rr!==null)Mn[Br-1].duration=Math.round((Dr-rr)/In);else{if(wn&&Cn.isAAC&&(Dr=Fn),Qn=Dr,!(gr>0))return;gr+=$n;try{Yn=new Uint8Array(gr)}catch(Ur){return void this.observer.emit(Ne.Events.ERROR,Ne.Events.ERROR,{type:Fe.ErrorTypes.MUX_ERROR,details:Fe.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:gr,reason:"fail allocating audio mdat "+gr})}Dn||(new DataView(Yn.buffer).setUint32(0,gr),Yn.set(Oe.default.types.mdat,4))}Yn.set(Er,$n);var Pr=Er.byteLength;$n+=Pr,Mn.push(new bn(!0,Rn,Pr,0)),rr=Dr}var $r=Mn.length;if($r){var Lr=Mn[Mn.length-1];this.nextAudioPts=Fn=rr+In*Lr.duration;var Or=Dn?new Uint8Array(0):Oe.default.moof(Cn.sequenceNumber++,Qn/In,Ve({},Cn,{samples:Mn}));Cn.samples=[];var Hr=Qn/kn,qr=Fn/kn,ao={data1:Or,data2:Yn,startPTS:Hr,endPTS:qr,startDTS:Hr,endDTS:qr,type:"audio",hasAudio:!0,hasVideo:!1,nb:$r};return this.isAudioContiguous=!0,console.assert(Yn.length,"MDAT length must not be zero"),ao}},Sn.remuxEmptyAudio=function(Cn,Tn,wn,Ln){var Pn=Cn.inputTimeScale,kn=Pn/(Cn.samplerate?Cn.samplerate:Pn),In=this.nextAudioPts,Rn=(In!==null?In:Ln.startDTS*Pn)+this._initDTS,Nn=Ln.endDTS*Pn+this._initDTS,On=1024*kn,Dn=Math.ceil((Nn-Rn)/On),Mn=Ie.default.getSilentFrame(Cn.manifestCodec||Cn.codec,Cn.channelCount);if(Ue.logger.warn("[mp4-remuxer]: remux empty Audio"),Mn){for(var Bn=[],$n=0;$n<Dn;$n++){var Fn=Rn+$n*On;Bn.push({unit:Mn,pts:Fn,dts:Fn})}return Cn.samples=Bn,this.remuxAudio(Cn,Tn,wn,!1)}Ue.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},Sn.remuxID3=function(Cn,Tn){var wn=Cn.samples.length;if(wn){for(var Ln=Cn.inputTimeScale,Pn=this._initPTS,kn=this._initDTS,In=0;In<wn;In++){var Rn=Cn.samples[In];Rn.pts=_n(Rn.pts-Pn,Tn*Ln)/Ln,Rn.dts=_n(Rn.dts-kn,Tn*Ln)/Ln}var Nn=Cn.samples;return Cn.samples=[],{samples:Nn}}},Sn.remuxText=function(Cn,Tn){var wn=Cn.samples.length;if(wn){for(var Ln=Cn.inputTimeScale,Pn=this._initPTS,kn=0;kn<wn;kn++){var In=Cn.samples[kn];In.pts=_n(In.pts-Pn,Tn*Ln)/Ln}Cn.samples.sort(function(Nn,On){return Nn.pts-On.pts});var Rn=Cn.samples;return Cn.samples=[],{samples:Rn}}},xn}();function _n(xn,Sn){var Cn;if(Sn===null)return xn;for(Cn=Sn<xn?-8589934592:8589934592;Math.abs(xn-Sn)>4294967296;)xn+=Cn;return xn}var bn=function(xn,Sn,Cn,Tn){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=Sn,this.size=Cn,this.cts=Tn,this.flags=new An(xn)},An=function(xn){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=xn?2:1,this.isNonSync=xn?0:1}},"./src/remux/passthrough-remuxer.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/utils/mp4-tools.ts"),Oe=_e("./src/loader/fragment.ts"),Ne=_e("./src/utils/logger.ts"),Fe=function(){function ze(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var Ve=ze.prototype;return Ve.destroy=function(){},Ve.resetTimeStamp=function(qe){this.initPTS=qe,this.lastEndDTS=null},Ve.resetNextTimestamp=function(){this.lastEndDTS=null},Ve.resetInitSegment=function(qe,En,vn){this.audioCodec=En,this.videoCodec=vn,this.generateInitSegment(qe),this.emitInitSegment=!0},Ve.generateInitSegment=function(qe){var En=this.audioCodec,vn=this.videoCodec;if(!qe||!qe.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var hn=this.initData=Object(Ie.parseInitSegment)(qe);En||(En=$e(hn.audio,Oe.ElementaryStreamTypes.AUDIO)),vn||(vn=$e(hn.video,Oe.ElementaryStreamTypes.VIDEO));var _n={};hn.audio&&hn.video?_n.audiovideo={container:"video/mp4",codec:En+","+vn,initSegment:qe,id:"main"}:hn.audio?_n.audio={container:"audio/mp4",codec:En,initSegment:qe,id:"audio"}:hn.video?_n.video={container:"video/mp4",codec:vn,initSegment:qe,id:"main"}:Ne.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=_n},Ve.remux=function(qe,En,vn,hn,_n){var bn=this.initPTS,An=this.lastEndDTS,xn={audio:void 0,video:void 0,text:hn,id3:vn,initSegment:void 0};Object(Ce.isFiniteNumber)(An)||(An=this.lastEndDTS=_n||0);var Sn=En.samples;if(!Sn||!Sn.length)return xn;var Cn={initPTS:void 0,timescale:1},Tn=this.initData;if(Tn&&Tn.length||(this.generateInitSegment(Sn),Tn=this.initData),!Tn||!Tn.length)return Ne.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),xn;this.emitInitSegment&&(Cn.tracks=this.initTracks,this.emitInitSegment=!1),Object(Ce.isFiniteNumber)(bn)||(this.initPTS=Cn.initPTS=bn=Ue(Tn,Sn,An));var wn=Object(Ie.getDuration)(Sn,Tn),Ln=An,Pn=wn+Ln;Object(Ie.offsetStartDTS)(Tn,Sn,bn),wn>0?this.lastEndDTS=Pn:(Ne.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var kn=!!Tn.audio,In=!!Tn.video,Rn="";kn&&(Rn+="audio"),In&&(Rn+="video");var Nn={data1:Sn,startPTS:Ln,startDTS:Ln,endPTS:Pn,endDTS:Pn,type:Rn,hasAudio:kn,hasVideo:In,nb:1,dropped:0};return xn.audio=Nn.type==="audio"?Nn:void 0,xn.video=Nn.type!=="audio"?Nn:void 0,xn.text=hn,xn.id3=vn,xn.initSegment=Cn,xn},ze}(),Ue=function(ze,Ve,qe){return Object(Ie.getStartDTS)(ze,Ve)-qe};function $e(ze,Ve){var qe=ze==null?void 0:ze.codec;return qe&&qe.length>4?qe:qe==="hvc1"?"hvc1.1.c.L120.90":qe==="av01"?"av01.0.04M.08":qe==="avc1"||Ve===Oe.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}pe.default=Fe},"./src/task-loop.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ce});var Ce=function(){function Ie(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var Oe=Ie.prototype;return Oe.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},Oe.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},Oe.onHandlerDestroyed=function(){},Oe.hasInterval=function(){return!!this._tickInterval},Oe.hasNextTick=function(){return!!this._tickTimer},Oe.setInterval=function(Ne){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,Ne),!0)},Oe.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},Oe.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},Oe.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},Oe.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},Oe.doTick=function(){},Ie}()},"./src/types/level.ts":function(xe,pe,_e){function Ce($e,ze){for(var Ve=0;Ve<ze.length;Ve++){var qe=ze[Ve];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty($e,qe.key,qe)}}var Ie,Oe;function Ne($e,ze){var Ve=$e.canSkipUntil,qe=$e.canSkipDateRanges,En=$e.endSN;return Ve&&(ze!==void 0?ze-En:0)<Ve?qe?Ie.v2:Ie.Yes:Ie.No}_e.r(pe),_e.d(pe,"HlsSkip",function(){return Ie}),_e.d(pe,"getSkipValue",function(){return Ne}),_e.d(pe,"HlsUrlParameters",function(){return Fe}),_e.d(pe,"Level",function(){return Ue}),(Oe=Ie||(Ie={})).No="",Oe.Yes="YES",Oe.v2="v2";var Fe=function(){function $e(ze,Ve,qe){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=ze,this.part=Ve,this.skip=qe}return $e.prototype.addDirectives=function(ze){var Ve=new self.URL(ze);return this.msn!==void 0&&Ve.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&Ve.searchParams.set("_HLS_part",this.part.toString()),this.skip&&Ve.searchParams.set("_HLS_skip",this.skip),Ve.toString()},$e}(),Ue=function(){function $e(qe){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[qe.url],this.attrs=qe.attrs,this.bitrate=qe.bitrate,qe.details&&(this.details=qe.details),this.id=qe.id||0,this.name=qe.name,this.width=qe.width||0,this.height=qe.height||0,this.audioCodec=qe.audioCodec,this.videoCodec=qe.videoCodec,this.unknownCodecs=qe.unknownCodecs,this.codecSet=[qe.videoCodec,qe.audioCodec].filter(function(En){return En}).join(",").replace(/\.[^.,]+/g,"")}var ze,Ve;return ze=$e,(Ve=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(qe){var En=qe%this.url.length;this._urlId!==En&&(this.details=void 0,this._urlId=En)}}])&&Ce(ze.prototype,Ve),$e}()},"./src/types/loader.ts":function(xe,pe,_e){var Ce,Ie,Oe,Ne;_e.r(pe),_e.d(pe,"PlaylistContextType",function(){return Ce}),_e.d(pe,"PlaylistLevelType",function(){return Oe}),(Ie=Ce||(Ce={})).MANIFEST="manifest",Ie.LEVEL="level",Ie.AUDIO_TRACK="audioTrack",Ie.SUBTITLE_TRACK="subtitleTrack",(Ne=Oe||(Oe={})).MAIN="main",Ne.AUDIO="audio",Ne.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"ChunkMetadata",function(){return Ce});var Ce=function(Ie,Oe,Ne,Fe,Ue,$e){Fe===void 0&&(Fe=0),Ue===void 0&&(Ue=-1),$e===void 0&&($e=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=Ie,this.sn=Oe,this.id=Ne,this.size=Fe,this.part=Ue,this.partial=$e}},"./src/utils/attr-list.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"AttrList",function(){return Oe});var Ce=/^(\d+)x(\d+)$/,Ie=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Oe=function(){function Ne(Ue){for(var $e in typeof Ue=="string"&&(Ue=Ne.parseAttrList(Ue)),Ue)Ue.hasOwnProperty($e)&&(this[$e]=Ue[$e])}var Fe=Ne.prototype;return Fe.decimalInteger=function(Ue){var $e=parseInt(this[Ue],10);return $e>Number.MAX_SAFE_INTEGER?1/0:$e},Fe.hexadecimalInteger=function(Ue){if(this[Ue]){var $e=(this[Ue]||"0x").slice(2);$e=(1&$e.length?"0":"")+$e;for(var ze=new Uint8Array($e.length/2),Ve=0;Ve<$e.length/2;Ve++)ze[Ve]=parseInt($e.slice(2*Ve,2*Ve+2),16);return ze}return null},Fe.hexadecimalIntegerAsNumber=function(Ue){var $e=parseInt(this[Ue],16);return $e>Number.MAX_SAFE_INTEGER?1/0:$e},Fe.decimalFloatingPoint=function(Ue){return parseFloat(this[Ue])},Fe.optionalFloat=function(Ue,$e){var ze=this[Ue];return ze?parseFloat(ze):$e},Fe.enumeratedString=function(Ue){return this[Ue]},Fe.bool=function(Ue){return this[Ue]==="YES"},Fe.decimalResolution=function(Ue){var $e=Ce.exec(this[Ue]);if($e!==null)return{width:parseInt($e[1],10),height:parseInt($e[2],10)}},Ne.parseAttrList=function(Ue){var $e,ze={};for(Ie.lastIndex=0;($e=Ie.exec(Ue))!==null;){var Ve=$e[2];Ve.indexOf('"')===0&&Ve.lastIndexOf('"')===Ve.length-1&&(Ve=Ve.slice(1,-1)),ze[$e[1]]=Ve}return ze},Ne}()},"./src/utils/binary-search.ts":function(xe,pe,_e){_e.r(pe),pe.default={search:function(Ce,Ie){for(var Oe=0,Ne=Ce.length-1,Fe=null,Ue=null;Oe<=Ne;){var $e=Ie(Ue=Ce[Fe=(Oe+Ne)/2|0]);if($e>0)Oe=Fe+1;else{if(!($e<0))return Ue;Ne=Fe-1}}return null}}},"./src/utils/buffer-helper.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"BufferHelper",function(){return Oe});var Ce=_e("./src/utils/logger.ts"),Ie={length:0,start:function(){return 0},end:function(){return 0}},Oe=function(){function Ne(){}return Ne.isBuffered=function(Fe,Ue){try{if(Fe){for(var $e=Ne.getBuffered(Fe),ze=0;ze<$e.length;ze++)if(Ue>=$e.start(ze)&&Ue<=$e.end(ze))return!0}}catch(Ve){}return!1},Ne.bufferInfo=function(Fe,Ue,$e){try{if(Fe){var ze,Ve=Ne.getBuffered(Fe),qe=[];for(ze=0;ze<Ve.length;ze++)qe.push({start:Ve.start(ze),end:Ve.end(ze)});return this.bufferedInfo(qe,Ue,$e)}}catch(En){}return{len:0,start:Ue,end:Ue,nextStart:void 0}},Ne.bufferedInfo=function(Fe,Ue,$e){Ue=Math.max(0,Ue),Fe.sort(function(Cn,Tn){var wn=Cn.start-Tn.start;return wn||Tn.end-Cn.end});var ze=[];if($e)for(var Ve=0;Ve<Fe.length;Ve++){var qe=ze.length;if(qe){var En=ze[qe-1].end;Fe[Ve].start-En<$e?Fe[Ve].end>En&&(ze[qe-1].end=Fe[Ve].end):ze.push(Fe[Ve])}else ze.push(Fe[Ve])}else ze=Fe;for(var vn,hn=0,_n=Ue,bn=Ue,An=0;An<ze.length;An++){var xn=ze[An].start,Sn=ze[An].end;if(Ue+$e>=xn&&Ue<Sn)_n=xn,hn=(bn=Sn)-Ue;else if(Ue+$e<xn){vn=xn;break}}return{len:hn,start:_n||0,end:bn||0,nextStart:vn}},Ne.getBuffered=function(Fe){try{return Fe.buffered}catch(Ue){return Ce.logger.log("failed to get media.buffered",Ue),Ie}},Ne}()},"./src/utils/cea-608-parser.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"Row",function(){return xn}),_e.d(pe,"CaptionScreen",function(){return Sn});var Ce,Ie,Oe=_e("./src/utils/logger.ts"),Ne={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Fe=function(Pn){var kn=Pn;return Ne.hasOwnProperty(Pn)&&(kn=Ne[Pn]),String.fromCharCode(kn)},Ue=15,$e=100,ze={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ve={17:2,18:4,21:6,22:8,23:10,19:13,20:15},qe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},En={25:2,26:4,29:6,30:8,31:10,27:13,28:15},vn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(Ie=Ce||(Ce={}))[Ie.ERROR=0]="ERROR",Ie[Ie.TEXT=1]="TEXT",Ie[Ie.WARNING=2]="WARNING",Ie[Ie.INFO=2]="INFO",Ie[Ie.DEBUG=3]="DEBUG",Ie[Ie.DATA=3]="DATA";var hn=function(){function Pn(){this.time=null,this.verboseLevel=Ce.ERROR}return Pn.prototype.log=function(kn,In){this.verboseLevel>=kn&&Oe.logger.log(this.time+" ["+kn+"] "+In)},Pn}(),_n=function(Pn){for(var kn=[],In=0;In<Pn.length;In++)kn.push(Pn[In].toString(16));return kn},bn=function(){function Pn(In,Rn,Nn,On,Dn){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=In||"white",this.underline=Rn||!1,this.italics=Nn||!1,this.background=On||"black",this.flash=Dn||!1}var kn=Pn.prototype;return kn.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},kn.setStyles=function(In){for(var Rn=["foreground","underline","italics","background","flash"],Nn=0;Nn<Rn.length;Nn++){var On=Rn[Nn];In.hasOwnProperty(On)&&(this[On]=In[On])}},kn.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},kn.equals=function(In){return this.foreground===In.foreground&&this.underline===In.underline&&this.italics===In.italics&&this.background===In.background&&this.flash===In.flash},kn.copy=function(In){this.foreground=In.foreground,this.underline=In.underline,this.italics=In.italics,this.background=In.background,this.flash=In.flash},kn.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},Pn}(),An=function(){function Pn(In,Rn,Nn,On,Dn,Mn){this.uchar=void 0,this.penState=void 0,this.uchar=In||" ",this.penState=new bn(Rn,Nn,On,Dn,Mn)}var kn=Pn.prototype;return kn.reset=function(){this.uchar=" ",this.penState.reset()},kn.setChar=function(In,Rn){this.uchar=In,this.penState.copy(Rn)},kn.setPenState=function(In){this.penState.copy(In)},kn.equals=function(In){return this.uchar===In.uchar&&this.penState.equals(In.penState)},kn.copy=function(In){this.uchar=In.uchar,this.penState.copy(In.penState)},kn.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},Pn}(),xn=function(){function Pn(In){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var Rn=0;Rn<$e;Rn++)this.chars.push(new An);this.logger=In,this.pos=0,this.currPenState=new bn}var kn=Pn.prototype;return kn.equals=function(In){for(var Rn=!0,Nn=0;Nn<$e;Nn++)if(!this.chars[Nn].equals(In.chars[Nn])){Rn=!1;break}return Rn},kn.copy=function(In){for(var Rn=0;Rn<$e;Rn++)this.chars[Rn].copy(In.chars[Rn])},kn.isEmpty=function(){for(var In=!0,Rn=0;Rn<$e;Rn++)if(!this.chars[Rn].isEmpty()){In=!1;break}return In},kn.setCursor=function(In){this.pos!==In&&(this.pos=In),this.pos<0?(this.logger.log(Ce.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>$e&&(this.logger.log(Ce.DEBUG,"Too large cursor position "+this.pos),this.pos=$e)},kn.moveCursor=function(In){var Rn=this.pos+In;if(In>1)for(var Nn=this.pos+1;Nn<Rn+1;Nn++)this.chars[Nn].setPenState(this.currPenState);this.setCursor(Rn)},kn.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},kn.insertChar=function(In){In>=144&&this.backSpace();var Rn=Fe(In);this.pos>=$e?this.logger.log(Ce.ERROR,"Cannot insert "+In.toString(16)+" ("+Rn+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(Rn,this.currPenState),this.moveCursor(1))},kn.clearFromPos=function(In){var Rn;for(Rn=In;Rn<$e;Rn++)this.chars[Rn].reset()},kn.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},kn.clearToEndOfRow=function(){this.clearFromPos(this.pos)},kn.getTextString=function(){for(var In=[],Rn=!0,Nn=0;Nn<$e;Nn++){var On=this.chars[Nn].uchar;On!==" "&&(Rn=!1),In.push(On)}return Rn?"":In.join("")},kn.setPenStyles=function(In){this.currPenState.setStyles(In),this.chars[this.pos].setPenState(this.currPenState)},Pn}(),Sn=function(){function Pn(In){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var Rn=0;Rn<Ue;Rn++)this.rows.push(new xn(In));this.logger=In,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var kn=Pn.prototype;return kn.reset=function(){for(var In=0;In<Ue;In++)this.rows[In].clear();this.currRow=14},kn.equals=function(In){for(var Rn=!0,Nn=0;Nn<Ue;Nn++)if(!this.rows[Nn].equals(In.rows[Nn])){Rn=!1;break}return Rn},kn.copy=function(In){for(var Rn=0;Rn<Ue;Rn++)this.rows[Rn].copy(In.rows[Rn])},kn.isEmpty=function(){for(var In=!0,Rn=0;Rn<Ue;Rn++)if(!this.rows[Rn].isEmpty()){In=!1;break}return In},kn.backSpace=function(){this.rows[this.currRow].backSpace()},kn.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},kn.insertChar=function(In){this.rows[this.currRow].insertChar(In)},kn.setPen=function(In){this.rows[this.currRow].setPenStyles(In)},kn.moveCursor=function(In){this.rows[this.currRow].moveCursor(In)},kn.setCursor=function(In){this.logger.log(Ce.INFO,"setCursor: "+In),this.rows[this.currRow].setCursor(In)},kn.setPAC=function(In){this.logger.log(Ce.INFO,"pacData = "+JSON.stringify(In));var Rn=In.row-1;if(this.nrRollUpRows&&Rn<this.nrRollUpRows-1&&(Rn=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==Rn){for(var Nn=0;Nn<Ue;Nn++)this.rows[Nn].clear();var On=this.currRow+1-this.nrRollUpRows,Dn=this.lastOutputScreen;if(Dn){var Mn=Dn.rows[On].cueStartTime,Bn=this.logger.time;if(Mn&&Bn!==null&&Mn<Bn)for(var $n=0;$n<this.nrRollUpRows;$n++)this.rows[Rn-this.nrRollUpRows+$n+1].copy(Dn.rows[On+$n])}}this.currRow=Rn;var Fn=this.rows[this.currRow];if(In.indent!==null){var Un=In.indent,Hn=Math.max(Un-1,0);Fn.setCursor(In.indent),In.color=Fn.chars[Hn].penState.foreground}var Wn={foreground:In.color,underline:In.underline,italics:In.italics,background:"black",flash:!1};this.setPen(Wn)},kn.setBkgData=function(In){this.logger.log(Ce.INFO,"bkgData = "+JSON.stringify(In)),this.backSpace(),this.setPen(In),this.insertChar(32)},kn.setRollUpRows=function(In){this.nrRollUpRows=In},kn.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(Ce.TEXT,this.getDisplayText());var In=this.currRow+1-this.nrRollUpRows,Rn=this.rows.splice(In,1)[0];Rn.clear(),this.rows.splice(this.currRow,0,Rn),this.logger.log(Ce.INFO,"Rolling up")}else this.logger.log(Ce.DEBUG,"roll_up but nrRollUpRows not set yet")},kn.getDisplayText=function(In){In=In||!1;for(var Rn=[],Nn="",On=-1,Dn=0;Dn<Ue;Dn++){var Mn=this.rows[Dn].getTextString();Mn&&(On=Dn+1,In?Rn.push("Row "+On+": '"+Mn+"'"):Rn.push(Mn.trim()))}return Rn.length>0&&(Nn=In?"["+Rn.join(" | ")+"]":Rn.join("\n")),Nn},kn.getTextAndFormat=function(){return this.rows},Pn}(),Cn=function(){function Pn(In,Rn,Nn){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=In,this.outputFilter=Rn,this.mode=null,this.verbose=0,this.displayedMemory=new Sn(Nn),this.nonDisplayedMemory=new Sn(Nn),this.lastOutputScreen=new Sn(Nn),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=Nn}var kn=Pn.prototype;return kn.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},kn.getHandler=function(){return this.outputFilter},kn.setHandler=function(In){this.outputFilter=In},kn.setPAC=function(In){this.writeScreen.setPAC(In)},kn.setBkgData=function(In){this.writeScreen.setBkgData(In)},kn.setMode=function(In){In!==this.mode&&(this.mode=In,this.logger.log(Ce.INFO,"MODE="+In),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=In)},kn.insertChars=function(In){for(var Rn=0;Rn<In.length;Rn++)this.writeScreen.insertChar(In[Rn]);var Nn=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Ce.INFO,Nn+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(Ce.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},kn.ccRCL=function(){this.logger.log(Ce.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},kn.ccBS=function(){this.logger.log(Ce.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},kn.ccAOF=function(){},kn.ccAON=function(){},kn.ccDER=function(){this.logger.log(Ce.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},kn.ccRU=function(In){this.logger.log(Ce.INFO,"RU("+In+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(In)},kn.ccFON=function(){this.logger.log(Ce.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},kn.ccRDC=function(){this.logger.log(Ce.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},kn.ccTR=function(){this.logger.log(Ce.INFO,"TR"),this.setMode("MODE_TEXT")},kn.ccRTD=function(){this.logger.log(Ce.INFO,"RTD"),this.setMode("MODE_TEXT")},kn.ccEDM=function(){this.logger.log(Ce.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},kn.ccCR=function(){this.logger.log(Ce.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},kn.ccENM=function(){this.logger.log(Ce.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},kn.ccEOC=function(){if(this.logger.log(Ce.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var In=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=In,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Ce.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},kn.ccTO=function(In){this.logger.log(Ce.INFO,"TO("+In+") - Tab Offset"),this.writeScreen.moveCursor(In)},kn.ccMIDROW=function(In){var Rn={flash:!1};if(Rn.underline=In%2==1,Rn.italics=In>=46,Rn.italics)Rn.foreground="white";else{var Nn=Math.floor(In/2)-16;Rn.foreground=["white","green","blue","cyan","red","yellow","magenta"][Nn]}this.logger.log(Ce.INFO,"MIDROW: "+JSON.stringify(Rn)),this.writeScreen.setPen(Rn)},kn.outputDataUpdate=function(In){In===void 0&&(In=!1);var Rn=this.logger.time;Rn!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,Rn,this.lastOutputScreen),In&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:Rn):this.cueStartTime=Rn,this.lastOutputScreen.copy(this.displayedMemory))},kn.cueSplitAtTime=function(In){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,In,this.displayedMemory),this.cueStartTime=In))},Pn}(),Tn=function(){function Pn(In,Rn,Nn){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var On=new hn;this.channels=[null,new Cn(In,Rn,On),new Cn(In+1,Nn,On)],this.cmdHistory={a:null,b:null},this.logger=On}var kn=Pn.prototype;return kn.getHandler=function(In){return this.channels[In].getHandler()},kn.setHandler=function(In,Rn){this.channels[In].setHandler(Rn)},kn.addData=function(In,Rn){var Nn,On,Dn,Mn=!1;this.logger.time=In;for(var Bn=0;Bn<Rn.length;Bn+=2)if(On=127&Rn[Bn],Dn=127&Rn[Bn+1],On!==0||Dn!==0){if(this.logger.log(Ce.DATA,"["+_n([Rn[Bn],Rn[Bn+1]])+"] -> ("+_n([On,Dn])+")"),(Nn=this.parseCmd(On,Dn))||(Nn=this.parseMidrow(On,Dn)),Nn||(Nn=this.parsePAC(On,Dn)),Nn||(Nn=this.parseBackgroundAttributes(On,Dn)),!Nn&&(Mn=this.parseChars(On,Dn))){var $n=this.currentChannel;$n&&$n>0?this.channels[$n].insertChars(Mn):this.logger.log(Ce.WARNING,"No channel found yet. TEXT-MODE?")}Nn||Mn||this.logger.log(Ce.WARNING,"Couldn't parse cleaned data "+_n([On,Dn])+" orig: "+_n([Rn[Bn],Rn[Bn+1]]))}},kn.parseCmd=function(In,Rn){var Nn=this.cmdHistory;if(!((In===20||In===28||In===21||In===29)&&Rn>=32&&Rn<=47||(In===23||In===31)&&Rn>=33&&Rn<=35))return!1;if(Ln(In,Rn,Nn))return wn(null,null,Nn),this.logger.log(Ce.DEBUG,"Repeated command ("+_n([In,Rn])+") is dropped"),!0;var On=In===20||In===21||In===23?1:2,Dn=this.channels[On];return In===20||In===21||In===28||In===29?Rn===32?Dn.ccRCL():Rn===33?Dn.ccBS():Rn===34?Dn.ccAOF():Rn===35?Dn.ccAON():Rn===36?Dn.ccDER():Rn===37?Dn.ccRU(2):Rn===38?Dn.ccRU(3):Rn===39?Dn.ccRU(4):Rn===40?Dn.ccFON():Rn===41?Dn.ccRDC():Rn===42?Dn.ccTR():Rn===43?Dn.ccRTD():Rn===44?Dn.ccEDM():Rn===45?Dn.ccCR():Rn===46?Dn.ccENM():Rn===47&&Dn.ccEOC():Dn.ccTO(Rn-32),wn(In,Rn,Nn),this.currentChannel=On,!0},kn.parseMidrow=function(In,Rn){var Nn=0;if((In===17||In===25)&&Rn>=32&&Rn<=47){if((Nn=In===17?1:2)!==this.currentChannel)return this.logger.log(Ce.ERROR,"Mismatch channel in midrow parsing"),!1;var On=this.channels[Nn];return!!On&&(On.ccMIDROW(Rn),this.logger.log(Ce.DEBUG,"MIDROW ("+_n([In,Rn])+")"),!0)}return!1},kn.parsePAC=function(In,Rn){var Nn,On=this.cmdHistory;if(!((In>=17&&In<=23||In>=25&&In<=31)&&Rn>=64&&Rn<=127||(In===16||In===24)&&Rn>=64&&Rn<=95))return!1;if(Ln(In,Rn,On))return wn(null,null,On),!0;var Dn=In<=23?1:2;Nn=Rn>=64&&Rn<=95?Dn===1?ze[In]:qe[In]:Dn===1?Ve[In]:En[In];var Mn=this.channels[Dn];return!!Mn&&(Mn.setPAC(this.interpretPAC(Nn,Rn)),wn(In,Rn,On),this.currentChannel=Dn,!0)},kn.interpretPAC=function(In,Rn){var Nn,On={color:null,italics:!1,indent:null,underline:!1,row:In};return Nn=Rn>95?Rn-96:Rn-64,On.underline=(1&Nn)==1,Nn<=13?On.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Nn/2)]:Nn<=15?(On.italics=!0,On.color="white"):On.indent=4*Math.floor((Nn-16)/2),On},kn.parseChars=function(In,Rn){var Nn,On,Dn=null,Mn=null;if(In>=25?(Nn=2,Mn=In-8):(Nn=1,Mn=In),Mn>=17&&Mn<=19?(On=Mn===17?Rn+80:Mn===18?Rn+112:Rn+144,this.logger.log(Ce.INFO,"Special char '"+Fe(On)+"' in channel "+Nn),Dn=[On]):In>=32&&In<=127&&(Dn=Rn===0?[In]:[In,Rn]),Dn){var Bn=_n(Dn);this.logger.log(Ce.DEBUG,"Char codes =  "+Bn.join(",")),wn(In,Rn,this.cmdHistory)}return Dn},kn.parseBackgroundAttributes=function(In,Rn){var Nn;if(!((In===16||In===24)&&Rn>=32&&Rn<=47||(In===23||In===31)&&Rn>=45&&Rn<=47))return!1;var On={};In===16||In===24?(Nn=Math.floor((Rn-32)/2),On.background=vn[Nn],Rn%2==1&&(On.background=On.background+"_semi")):Rn===45?On.background="transparent":(On.foreground="black",Rn===47&&(On.underline=!0));var Dn=In<=23?1:2;return this.channels[Dn].setBkgData(On),wn(In,Rn,this.cmdHistory),!0},kn.reset=function(){for(var In=0;In<Object.keys(this.channels).length;In++){var Rn=this.channels[In];Rn&&Rn.reset()}this.cmdHistory={a:null,b:null}},kn.cueSplitAtTime=function(In){for(var Rn=0;Rn<this.channels.length;Rn++){var Nn=this.channels[Rn];Nn&&Nn.cueSplitAtTime(In)}},Pn}();function wn(Pn,kn,In){In.a=Pn,In.b=kn}function Ln(Pn,kn,In){return In.a===Pn&&In.b===kn}pe.default=Tn},"./src/utils/codecs.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"isCodecType",function(){return Ie}),_e.d(pe,"isCodecSupportedInMp4",function(){return Oe});var Ce={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function Ie(Ne,Fe){var Ue=Ce[Fe];return!!Ue&&Ue[Ne.slice(0,4)]===!0}function Oe(Ne,Fe){return MediaSource.isTypeSupported((Fe||"video")+'/mp4;codecs="'+Ne+'"')}},"./src/utils/cues.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/utils/vttparser.ts"),Ie=_e("./src/utils/webvtt-parser.ts"),Oe=_e("./src/utils/texttrack-utils.ts"),Ne=/\s/,Fe={newCue:function(Ue,$e,ze,Ve){for(var qe,En,vn,hn,_n,bn=[],An=self.VTTCue||self.TextTrackCue,xn=0;xn<Ve.rows.length;xn++)if(vn=!0,hn=0,_n="",!(qe=Ve.rows[xn]).isEmpty()){for(var Sn=0;Sn<qe.chars.length;Sn++)Ne.test(qe.chars[Sn].uchar)&&vn?hn++:(_n+=qe.chars[Sn].uchar,vn=!1);qe.cueStartTime=$e,$e===ze&&(ze+=1e-4),hn>=16?hn--:hn++;var Cn=Object(Ce.fixLineBreaks)(_n.trim()),Tn=Object(Ie.generateCueId)($e,ze,Cn);Ue&&Ue.cues&&Ue.cues.getCueById(Tn)||((En=new An($e,ze,Cn)).id=Tn,En.line=xn+1,En.align="left",En.position=10+Math.min(80,10*Math.floor(8*hn/32)),bn.push(En))}return Ue&&bn.length&&(bn.sort(function(wn,Ln){return wn.line==="auto"||Ln.line==="auto"?0:wn.line>8&&Ln.line>8?Ln.line-wn.line:wn.line-Ln.line}),bn.forEach(function(wn){return Object(Oe.addCueToTrack)(Ue,wn)})),bn}};pe.default=Fe},"./src/utils/discontinuities.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"findFirstFragWithCC",function(){return Ne}),_e.d(pe,"shouldAlignOnDiscontinuities",function(){return Fe}),_e.d(pe,"findDiscontinuousReferenceFrag",function(){return Ue}),_e.d(pe,"adjustSlidingStart",function(){return ze}),_e.d(pe,"alignStream",function(){return Ve}),_e.d(pe,"alignPDT",function(){return qe});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/utils/logger.ts"),Oe=_e("./src/controller/level-helper.ts");function Ne(En,vn){for(var hn=null,_n=0,bn=En.length;_n<bn;_n++){var An=En[_n];if(An&&An.cc===vn){hn=An;break}}return hn}function Fe(En,vn,hn){return!(!vn.details||!(hn.endCC>hn.startCC||En&&En.cc<hn.startCC))}function Ue(En,vn){var hn=En.fragments,_n=vn.fragments;if(_n.length&&hn.length){var bn=Ne(hn,_n[0].cc);if(bn&&(!bn||bn.startPTS))return bn;Ie.logger.log("No frag in previous level to align on")}else Ie.logger.log("No fragments to align")}function $e(En,vn){if(En){var hn=En.start+vn;En.start=En.startPTS=hn,En.endPTS=hn+En.duration}}function ze(En,vn){for(var hn=vn.fragments,_n=0,bn=hn.length;_n<bn;_n++)$e(hn[_n],En);vn.fragmentHint&&$e(vn.fragmentHint,En),vn.alignedSliding=!0}function Ve(En,vn,hn){vn&&(function(_n,bn,An){if(Fe(_n,An,bn)){var xn=Ue(An.details,bn);xn&&Object(Ce.isFiniteNumber)(xn.start)&&(Ie.logger.log("Adjusting PTS using last level due to CC increase within current level "+bn.url),ze(xn.start,bn))}}(En,hn,vn),!hn.alignedSliding&&vn.details&&qe(hn,vn.details),hn.alignedSliding||!vn.details||hn.skippedSegments||Object(Oe.adjustSliding)(vn.details,hn))}function qe(En,vn){if(vn.fragments.length&&En.hasProgramDateTime&&vn.hasProgramDateTime){var hn=vn.fragments[0].programDateTime,_n=En.fragments[0].programDateTime,bn=(_n-hn)/1e3+vn.fragments[0].start;bn&&Object(Ce.isFiniteNumber)(bn)&&(Ie.logger.log("Adjusting PTS using programDateTime delta "+(_n-hn)+"ms, sliding:"+bn.toFixed(3)+" "+En.url+" "),ze(bn,En))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/utils/ewma.ts"),Ie=function(){function Oe(Fe,Ue,$e){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=$e,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ce.default(Fe),this.fast_=new Ce.default(Ue)}var Ne=Oe.prototype;return Ne.update=function(Fe,Ue){var $e=this.slow_,ze=this.fast_;this.slow_.halfLife!==Fe&&(this.slow_=new Ce.default(Fe,$e.getEstimate(),$e.getTotalWeight())),this.fast_.halfLife!==Ue&&(this.fast_=new Ce.default(Ue,ze.getEstimate(),ze.getTotalWeight()))},Ne.sample=function(Fe,Ue){var $e=(Fe=Math.max(Fe,this.minDelayMs_))/1e3,ze=8*Ue/$e;this.fast_.sample($e,ze),this.slow_.sample($e,ze)},Ne.canEstimate=function(){var Fe=this.fast_;return Fe&&Fe.getTotalWeight()>=this.minWeight_},Ne.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},Ne.destroy=function(){},Oe}();pe.default=Ie},"./src/utils/ewma.ts":function(xe,pe,_e){_e.r(pe);var Ce=function(){function Ie(Ne,Fe,Ue){Fe===void 0&&(Fe=0),Ue===void 0&&(Ue=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=Ne,this.alpha_=Ne?Math.exp(Math.log(.5)/Ne):0,this.estimate_=Fe,this.totalWeight_=Ue}var Oe=Ie.prototype;return Oe.sample=function(Ne,Fe){var Ue=Math.pow(this.alpha_,Ne);this.estimate_=Fe*(1-Ue)+Ue*this.estimate_,this.totalWeight_+=Ne},Oe.getTotalWeight=function(){return this.totalWeight_},Oe.getEstimate=function(){if(this.alpha_){var Ne=1-Math.pow(this.alpha_,this.totalWeight_);if(Ne)return this.estimate_/Ne}return this.estimate_},Ie}();pe.default=Ce},"./src/utils/fetch-loader.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"fetchSupported",function(){return Ve});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/loader/load-stats.ts"),Oe=_e("./src/demux/chunk-cache.ts");function Ne(hn){var _n=typeof Map=="function"?new Map:void 0;return(Ne=function(bn){if(bn===null||(An=bn,Function.toString.call(An).indexOf("[native code]")===-1))return bn;var An;if(typeof bn!="function")throw new TypeError("Super expression must either be null or a function");if(_n!==void 0){if(_n.has(bn))return _n.get(bn);_n.set(bn,xn)}function xn(){return Fe(bn,arguments,ze(this).constructor)}return xn.prototype=Object.create(bn.prototype,{constructor:{value:xn,enumerable:!1,writable:!0,configurable:!0}}),$e(xn,bn)})(hn)}function Fe(hn,_n,bn){return(Fe=Ue()?Reflect.construct:function(An,xn,Sn){var Cn=[null];Cn.push.apply(Cn,xn);var Tn=new(Function.bind.apply(An,Cn));return Sn&&$e(Tn,Sn.prototype),Tn}).apply(null,arguments)}function Ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(hn){return!1}}function $e(hn,_n){return($e=Object.setPrototypeOf||function(bn,An){return bn.__proto__=An,bn})(hn,_n)}function ze(hn){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(_n){return _n.__proto__||Object.getPrototypeOf(_n)})(hn)}function Ve(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(hn){}return!1}var qe=function(){function hn(bn){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=bn.fetchSetup||En,this.controller=new self.AbortController,this.stats=new Ie.LoadStats}var _n=hn.prototype;return _n.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},_n.abortInternal=function(){var bn=this.response;bn&&bn.ok||(this.stats.aborted=!0,this.controller.abort())},_n.abort=function(){var bn;this.abortInternal(),(bn=this.callbacks)!==null&&bn!==void 0&&bn.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},_n.load=function(bn,An,xn){var Sn=this,Cn=this.stats;if(Cn.loading.start)throw new Error("Loader can only be used once.");Cn.loading.start=self.performance.now();var Tn=function(kn,In){var Rn={method:"GET",mode:"cors",credentials:"same-origin",signal:In};return kn.rangeEnd&&(Rn.headers=new self.Headers({Range:"bytes="+kn.rangeStart+"-"+String(kn.rangeEnd-1)})),Rn}(bn,this.controller.signal),wn=xn.onProgress,Ln=bn.responseType==="arraybuffer",Pn=Ln?"byteLength":"length";this.context=bn,this.config=An,this.callbacks=xn,this.request=this.fetchSetup(bn,Tn),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){Sn.abortInternal(),xn.onTimeout(Cn,bn,Sn.response)},An.timeout),self.fetch(this.request).then(function(kn){if(Sn.response=Sn.loader=kn,!kn.ok){var In=kn.status,Rn=kn.statusText;throw new vn(Rn||"fetch, bad network response",In,kn)}return Cn.loading.first=Math.max(self.performance.now(),Cn.loading.start),Cn.total=parseInt(kn.headers.get("Content-Length")||"0"),wn&&Object(Ce.isFiniteNumber)(An.highWaterMark)?Sn.loadProgressively(kn,Cn,bn,An.highWaterMark,wn):Ln?kn.arrayBuffer():kn.text()}).then(function(kn){var In=Sn.response;self.clearTimeout(Sn.requestTimeout),Cn.loading.end=Math.max(self.performance.now(),Cn.loading.first),Cn.loaded=Cn.total=kn[Pn];var Rn={url:In.url,data:kn};wn&&!Object(Ce.isFiniteNumber)(An.highWaterMark)&&wn(Cn,bn,kn,In),xn.onSuccess(Rn,Cn,bn,In)}).catch(function(kn){if(self.clearTimeout(Sn.requestTimeout),!Cn.aborted){var In=kn.code||0;xn.onError({code:In,text:kn.message},bn,kn.details)}})},_n.getCacheAge=function(){var bn=null;if(this.response){var An=this.response.headers.get("age");bn=An?parseFloat(An):null}return bn},_n.loadProgressively=function(bn,An,xn,Sn,Cn){Sn===void 0&&(Sn=0);var Tn=new Oe.default,wn=bn.body.getReader();return function Ln(){return wn.read().then(function(Pn){if(Pn.done)return Tn.dataLength&&Cn(An,xn,Tn.flush(),bn),Promise.resolve(new ArrayBuffer(0));var kn=Pn.value,In=kn.length;return An.loaded+=In,In<Sn||Tn.dataLength?(Tn.push(kn),Tn.dataLength>=Sn&&Cn(An,xn,Tn.flush(),bn)):Cn(An,xn,kn,bn),Ln()}).catch(function(){return Promise.reject()})}()},hn}();function En(hn,_n){return new self.Request(hn.url,_n)}var vn=function(hn){var _n,bn;function An(xn,Sn,Cn){var Tn;return(Tn=hn.call(this,xn)||this).code=void 0,Tn.details=void 0,Tn.code=Sn,Tn.details=Cn,Tn}return bn=hn,(_n=An).prototype=Object.create(bn.prototype),_n.prototype.constructor=_n,$e(_n,bn),An}(Ne(Error));pe.default=qe},"./src/utils/imsc1-ttml-parser.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"IMSC1_CODEC",function(){return ze}),_e.d(pe,"parseIMSC1",function(){return vn});var Ce=_e("./src/utils/mp4-tools.ts"),Ie=_e("./src/utils/vttparser.ts"),Oe=_e("./src/utils/vttcue.ts"),Ne=_e("./src/demux/id3.ts"),Fe=_e("./src/utils/timescale-conversion.ts"),Ue=_e("./src/utils/webvtt-parser.ts");function $e(){return($e=Object.assign||function(Cn){for(var Tn=1;Tn<arguments.length;Tn++){var wn=arguments[Tn];for(var Ln in wn)Object.prototype.hasOwnProperty.call(wn,Ln)&&(Cn[Ln]=wn[Ln])}return Cn}).apply(this,arguments)}var ze="stpp.ttml.im1t",Ve=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,qe=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,En={left:"start",center:"center",right:"end",start:"start",end:"end"};function vn(Cn,Tn,wn,Ln,Pn){var kn=Object(Ce.findBox)(new Uint8Array(Cn),["mdat"]);if(kn.length!==0){var In=kn[0],Rn=Object(Ne.utf8ArrayToStr)(new Uint8Array(Cn,In.start,In.end-In.start)),Nn=Object(Fe.toTimescaleFromScale)(Tn,1,wn);try{Ln(function(On,Dn){var Mn=new DOMParser().parseFromString(On,"text/xml").getElementsByTagName("tt")[0];if(!Mn)throw new Error("Invalid ttml");var Bn={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},$n=Object.keys(Bn).reduce(function(Xn,or){return Xn[or]=Mn.getAttribute("ttp:"+or)||Bn[or],Xn},{}),Fn=Mn.getAttribute("xml:space")!=="preserve",Un=_n(hn(Mn,"styling","style")),Hn=_n(hn(Mn,"layout","region")),Wn=hn(Mn,"body","[begin]");return[].map.call(Wn,function(Xn){var or=bn(Xn,Fn);if(!or||!Xn.hasAttribute("begin"))return null;var fr=Sn(Xn.getAttribute("begin"),$n),cr=Sn(Xn.getAttribute("dur"),$n),Jn=Sn(Xn.getAttribute("end"),$n);if(fr===null)throw xn(Xn);if(Jn===null){if(cr===null)throw xn(Xn);Jn=fr+cr}var mr=new Oe.default(fr-Dn,Jn-Dn,or);mr.id=Object(Ue.generateCueId)(mr.startTime,mr.endTime,mr.text);var Ir=Hn[Xn.getAttribute("region")],yr=Un[Xn.getAttribute("style")];mr.position=10,mr.size=80;var Tr=function(Qn,rr){var gr="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(Ar,Br){var Vr=An(rr,gr,Br)||An(Qn,gr,Br);return Vr&&(Ar[Br]=Vr),Ar},{})}(Ir,yr),Sr=Tr.textAlign;if(Sr){var Yn=En[Sr];Yn&&(mr.lineAlign=Yn),mr.align=Sr}return $e(mr,Tr),mr}).filter(function(Xn){return Xn!==null})}(Rn,Nn))}catch(On){Pn(On)}}else Pn(new Error("Could not parse IMSC1 mdat"))}function hn(Cn,Tn,wn){var Ln=Cn.getElementsByTagName(Tn)[0];return Ln?[].slice.call(Ln.querySelectorAll(wn)):[]}function _n(Cn){return Cn.reduce(function(Tn,wn){var Ln=wn.getAttribute("xml:id");return Ln&&(Tn[Ln]=wn),Tn},{})}function bn(Cn,Tn){return[].slice.call(Cn.childNodes).reduce(function(wn,Ln,Pn){var kn;return Ln.nodeName==="br"&&Pn?wn+"\n":(kn=Ln.childNodes)!==null&&kn!==void 0&&kn.length?bn(Ln,Tn):Tn?wn+Ln.textContent.trim().replace(/\s+/g," "):wn+Ln.textContent},"")}function An(Cn,Tn,wn){return Cn.hasAttributeNS(Tn,wn)?Cn.getAttributeNS(Tn,wn):null}function xn(Cn){return new Error("Could not parse ttml timestamp "+Cn)}function Sn(Cn,Tn){if(!Cn)return null;var wn=Object(Ie.parseTimeStamp)(Cn);return wn===null&&(Ve.test(Cn)?wn=function(Ln,Pn){var kn=Ve.exec(Ln),In=(0|kn[4])+(0|kn[5])/Pn.subFrameRate;return 3600*(0|kn[1])+60*(0|kn[2])+(0|kn[3])+In/Pn.frameRate}(Cn,Tn):qe.test(Cn)&&(wn=function(Ln,Pn){var kn=qe.exec(Ln),In=Number(kn[1]);switch(kn[2]){case"h":return 3600*In;case"m":return 60*In;case"ms":return 1e3*In;case"f":return In/Pn.frameRate;case"t":return In/Pn.tickRate}return In}(Cn,Tn))),wn}},"./src/utils/logger.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"enableLogs",function(){return Fe}),_e.d(pe,"logger",function(){return Ue});var Ce=function(){},Ie={trace:Ce,debug:Ce,log:Ce,warn:Ce,info:Ce,error:Ce},Oe=Ie;function Ne($e){var ze=self.console[$e];return ze?ze.bind(self.console,"["+$e+"] >"):Ce}function Fe($e){if(self.console&&$e===!0||typeof $e=="object"){(function(ze){for(var Ve=arguments.length,qe=new Array(Ve>1?Ve-1:0),En=1;En<Ve;En++)qe[En-1]=arguments[En];qe.forEach(function(vn){Oe[vn]=ze[vn]?ze[vn].bind(ze):Ne(vn)})})($e,"debug","log","info","warn","error");try{Oe.log()}catch(ze){Oe=Ie}}else Oe=Ie}var Ue=Ie},"./src/utils/mediakeys-helper.ts":function(xe,pe,_e){var Ce,Ie;_e.r(pe),_e.d(pe,"KeySystems",function(){return Ce}),_e.d(pe,"requestMediaKeySystemAccess",function(){return Oe}),(Ie=Ce||(Ce={})).WIDEVINE="com.widevine.alpha",Ie.PLAYREADY="com.microsoft.playready";var Oe=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(xe,pe,_e){function Ce(){return self.MediaSource||self.WebKitMediaSource}_e.r(pe),_e.d(pe,"getMediaSource",function(){return Ce})},"./src/utils/mp4-tools.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"bin2str",function(){return Fe}),_e.d(pe,"readUint16",function(){return Ue}),_e.d(pe,"readUint32",function(){return $e}),_e.d(pe,"writeUint32",function(){return ze}),_e.d(pe,"findBox",function(){return Ve}),_e.d(pe,"parseSegmentIndex",function(){return qe}),_e.d(pe,"parseInitSegment",function(){return En}),_e.d(pe,"getStartDTS",function(){return vn}),_e.d(pe,"getDuration",function(){return hn}),_e.d(pe,"computeRawDurationFromSamples",function(){return _n}),_e.d(pe,"offsetStartDTS",function(){return bn}),_e.d(pe,"segmentValidRange",function(){return An}),_e.d(pe,"appendUint8Array",function(){return xn});var Ce=_e("./src/utils/typed-array.ts"),Ie=_e("./src/loader/fragment.ts"),Oe=Math.pow(2,32)-1,Ne=[].push;function Fe(Sn){return String.fromCharCode.apply(null,Sn)}function Ue(Sn,Cn){"data"in Sn&&(Cn+=Sn.start,Sn=Sn.data);var Tn=Sn[Cn]<<8|Sn[Cn+1];return Tn<0?65536+Tn:Tn}function $e(Sn,Cn){"data"in Sn&&(Cn+=Sn.start,Sn=Sn.data);var Tn=Sn[Cn]<<24|Sn[Cn+1]<<16|Sn[Cn+2]<<8|Sn[Cn+3];return Tn<0?4294967296+Tn:Tn}function ze(Sn,Cn,Tn){"data"in Sn&&(Cn+=Sn.start,Sn=Sn.data),Sn[Cn]=Tn>>24,Sn[Cn+1]=Tn>>16&255,Sn[Cn+2]=Tn>>8&255,Sn[Cn+3]=255&Tn}function Ve(Sn,Cn){var Tn,wn,Ln,Pn=[];if(!Cn.length)return Pn;"data"in Sn?(Tn=Sn.data,wn=Sn.start,Ln=Sn.end):(wn=0,Ln=(Tn=Sn).byteLength);for(var kn=wn;kn<Ln;){var In=$e(Tn,kn),Rn=In>1?kn+In:Ln;if(Fe(Tn.subarray(kn+4,kn+8))===Cn[0])if(Cn.length===1)Pn.push({data:Tn,start:kn+8,end:Rn});else{var Nn=Ve({data:Tn,start:kn+8,end:Rn},Cn.slice(1));Nn.length&&Ne.apply(Pn,Nn)}kn=Rn}return Pn}function qe(Sn){var Cn=Ve(Sn,["moov"])[0],Tn=Cn?Cn.end:null,wn=Ve(Sn,["sidx"]);if(!wn||!wn[0])return null;var Ln=[],Pn=wn[0],kn=Pn.data[0],In=kn===0?8:16,Rn=$e(Pn,In);In+=4,In+=kn===0?8:16,In+=2;var Nn=Pn.end+0,On=Ue(Pn,In);In+=2;for(var Dn=0;Dn<On;Dn++){var Mn=In,Bn=$e(Pn,Mn);Mn+=4;var $n=2147483647&Bn;if((2147483648&Bn)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var Fn=$e(Pn,Mn);Mn+=4,Ln.push({referenceSize:$n,subsegmentDuration:Fn,info:{duration:Fn/Rn,start:Nn,end:Nn+$n-1}}),Nn+=$n,In=Mn+=4}return{earliestPresentationTime:0,timescale:Rn,version:kn,referencesCount:On,references:Ln,moovEndOffset:Tn}}function En(Sn){for(var Cn=[],Tn=Ve(Sn,["moov","trak"]),wn=0;wn<Tn.length;wn++){var Ln=Tn[wn],Pn=Ve(Ln,["tkhd"])[0];if(Pn){var kn=Pn.data[Pn.start],In=kn===0?12:20,Rn=$e(Pn,In),Nn=Ve(Ln,["mdia","mdhd"])[0];if(Nn){var On=$e(Nn,In=(kn=Nn.data[Nn.start])===0?12:20),Dn=Ve(Ln,["mdia","hdlr"])[0];if(Dn){var Mn=Fe(Dn.data.subarray(Dn.start+8,Dn.start+12)),Bn={soun:Ie.ElementaryStreamTypes.AUDIO,vide:Ie.ElementaryStreamTypes.VIDEO}[Mn];if(Bn){var $n=Ve(Ln,["mdia","minf","stbl","stsd"])[0],Fn=void 0;$n&&(Fn=Fe($n.data.subarray($n.start+12,$n.start+16))),Cn[Rn]={timescale:On,type:Bn},Cn[Bn]={timescale:On,id:Rn,codec:Fn}}}}}}return Ve(Sn,["moov","mvex","trex"]).forEach(function(Un){var Hn=$e(Un,4),Wn=Cn[Hn];Wn&&(Wn.default={duration:$e(Un,12),flags:$e(Un,20)})}),Cn}function vn(Sn,Cn){return Ve(Cn,["moof","traf"]).reduce(function(Tn,wn){var Ln=Ve(wn,["tfdt"])[0],Pn=Ln.data[Ln.start],kn=Ve(wn,["tfhd"]).reduce(function(In,Rn){var Nn=$e(Rn,4),On=Sn[Nn];if(On){var Dn=$e(Ln,4);Pn===1&&(Dn*=Math.pow(2,32),Dn+=$e(Ln,8));var Mn=Dn/(On.timescale||9e4);if(isFinite(Mn)&&(In===null||Mn<In))return Mn}return In},null);return kn!==null&&isFinite(kn)&&(Tn===null||kn<Tn)?kn:Tn},null)||0}function hn(Sn,Cn){for(var Tn=0,wn=0,Ln=0,Pn=Ve(Sn,["moof","traf"]),kn=0;kn<Pn.length;kn++){var In=Pn[kn],Rn=Ve(In,["tfhd"])[0],Nn=Cn[$e(Rn,4)];if(Nn){var On=Nn.default,Dn=$e(Rn,0)|(On==null?void 0:On.flags),Mn=On==null?void 0:On.duration;8&Dn&&(Mn=$e(Rn,2&Dn?12:8));for(var Bn=Nn.timescale||9e4,$n=Ve(In,["trun"]),Fn=0;Fn<$n.length;Fn++)Tn=Mn?Mn*$e($n[Fn],4):_n($n[Fn]),Nn.type===Ie.ElementaryStreamTypes.VIDEO?wn+=Tn/Bn:Nn.type===Ie.ElementaryStreamTypes.AUDIO&&(Ln+=Tn/Bn)}}if(wn===0&&Ln===0){var Un=qe(Sn);if(Un!=null&&Un.references)return Un.references.reduce(function(Hn,Wn){return Hn+Wn.info.duration||0},0)}return wn||Ln}function _n(Sn){var Cn=$e(Sn,0),Tn=8;1&Cn&&(Tn+=4),4&Cn&&(Tn+=4);for(var wn=0,Ln=$e(Sn,4),Pn=0;Pn<Ln;Pn++)256&Cn&&(wn+=$e(Sn,Tn),Tn+=4),512&Cn&&(Tn+=4),1024&Cn&&(Tn+=4),2048&Cn&&(Tn+=4);return wn}function bn(Sn,Cn,Tn){Ve(Cn,["moof","traf"]).forEach(function(wn){Ve(wn,["tfhd"]).forEach(function(Ln){var Pn=$e(Ln,4),kn=Sn[Pn];if(kn){var In=kn.timescale||9e4;Ve(wn,["tfdt"]).forEach(function(Rn){var Nn=Rn.data[Rn.start],On=$e(Rn,4);if(Nn===0)ze(Rn,4,On-Tn*In);else{On*=Math.pow(2,32),On+=$e(Rn,8),On-=Tn*In,On=Math.max(On,0);var Dn=Math.floor(On/(Oe+1)),Mn=Math.floor(On%(Oe+1));ze(Rn,4,Dn),ze(Rn,8,Mn)}})}})})}function An(Sn){var Cn={valid:null,remainder:null},Tn=Ve(Sn,["moof"]);if(!Tn)return Cn;if(Tn.length<2)return Cn.remainder=Sn,Cn;var wn=Tn[Tn.length-1];return Cn.valid=Object(Ce.sliceUint8)(Sn,0,wn.start-8),Cn.remainder=Object(Ce.sliceUint8)(Sn,wn.start-8),Cn}function xn(Sn,Cn){var Tn=new Uint8Array(Sn.length+Cn.length);return Tn.set(Sn),Tn.set(Cn,Sn.length),Tn}},"./src/utils/output-filter.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"default",function(){return Ce});var Ce=function(){function Ie(Ne,Fe){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=Ne,this.trackName=Fe}var Oe=Ie.prototype;return Oe.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},Oe.newCue=function(Ne,Fe,Ue){(this.startTime===null||this.startTime>Ne)&&(this.startTime=Ne),this.endTime=Fe,this.screen=Ue,this.timelineController.createCaptionsTrack(this.trackName)},Oe.reset=function(){this.cueRanges=[]},Ie}()},"./src/utils/texttrack-utils.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"sendAddTrackEvent",function(){return Ie}),_e.d(pe,"addCueToTrack",function(){return Oe}),_e.d(pe,"clearCurrentCues",function(){return Ne}),_e.d(pe,"removeCuesInRange",function(){return Fe}),_e.d(pe,"getCuesInRange",function(){return Ue});var Ce=_e("./src/utils/logger.ts");function Ie($e,ze){var Ve;try{Ve=new Event("addtrack")}catch(qe){(Ve=document.createEvent("Event")).initEvent("addtrack",!1,!1)}Ve.track=$e,ze.dispatchEvent(Ve)}function Oe($e,ze){var Ve=$e.mode;if(Ve==="disabled"&&($e.mode="hidden"),$e.cues&&!$e.cues.getCueById(ze.id))try{if($e.addCue(ze),!$e.cues.getCueById(ze.id))throw new Error("addCue is failed for: "+ze)}catch(En){Ce.logger.debug("[texttrack-utils]: "+En);var qe=new self.TextTrackCue(ze.startTime,ze.endTime,ze.text);qe.id=ze.id,$e.addCue(qe)}Ve==="disabled"&&($e.mode=Ve)}function Ne($e){var ze=$e.mode;if(ze==="disabled"&&($e.mode="hidden"),$e.cues)for(var Ve=$e.cues.length;Ve--;)$e.removeCue($e.cues[Ve]);ze==="disabled"&&($e.mode=ze)}function Fe($e,ze,Ve){var qe=$e.mode;if(qe==="disabled"&&($e.mode="hidden"),$e.cues&&$e.cues.length>0)for(var En=Ue($e.cues,ze,Ve),vn=0;vn<En.length;vn++)$e.removeCue(En[vn]);qe==="disabled"&&($e.mode=qe)}function Ue($e,ze,Ve){var qe=[],En=function(bn,An){if(An<bn[0].startTime)return 0;var xn=bn.length-1;if(An>bn[xn].endTime)return-1;for(var Sn=0,Cn=xn;Sn<=Cn;){var Tn=Math.floor((Cn+Sn)/2);if(An<bn[Tn].startTime)Cn=Tn-1;else{if(!(An>bn[Tn].startTime&&Sn<xn))return Tn;Sn=Tn+1}}return bn[Sn].startTime-An<An-bn[Cn].startTime?Sn:Cn}($e,ze);if(En>-1)for(var vn=En,hn=$e.length;vn<hn;vn++){var _n=$e[vn];if(_n.startTime>=ze&&_n.endTime<=Ve)qe.push(_n);else if(_n.startTime>Ve)return qe}return qe}},"./src/utils/time-ranges.ts":function(xe,pe,_e){_e.r(pe),pe.default={toString:function(Ce){for(var Ie="",Oe=Ce.length,Ne=0;Ne<Oe;Ne++)Ie+="["+Ce.start(Ne).toFixed(3)+","+Ce.end(Ne).toFixed(3)+"]";return Ie}}},"./src/utils/timescale-conversion.ts":function(xe,pe,_e){function Ce(Fe,Ue,$e,ze){$e===void 0&&($e=1),ze===void 0&&(ze=!1);var Ve=Fe*Ue*$e;return ze?Math.round(Ve):Ve}function Ie(Fe,Ue,$e,ze){return $e===void 0&&($e=1),ze===void 0&&(ze=!1),Ce(Fe,Ue,1/$e,ze)}function Oe(Fe,Ue){return Ue===void 0&&(Ue=!1),Ce(Fe,1e3,1/9e4,Ue)}function Ne(Fe,Ue){return Ue===void 0&&(Ue=1),Ce(Fe,9e4,1/Ue)}_e.r(pe),_e.d(pe,"toTimescaleFromBase",function(){return Ce}),_e.d(pe,"toTimescaleFromScale",function(){return Ie}),_e.d(pe,"toMsFromMpegTsClock",function(){return Oe}),_e.d(pe,"toMpegTsClockFromTimescale",function(){return Ne})},"./src/utils/typed-array.ts":function(xe,pe,_e){function Ce(Ie,Oe,Ne){return Uint8Array.prototype.slice?Ie.slice(Oe,Ne):new Uint8Array(Array.prototype.slice.call(Ie,Oe,Ne))}_e.r(pe),_e.d(pe,"sliceUint8",function(){return Ce})},"./src/utils/vttcue.ts":function(xe,pe,_e){_e.r(pe),pe.default=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var Ce=["","lr","rl"],Ie=["start","middle","end","left","right"];function Oe($e,ze){if(typeof ze!="string"||!Array.isArray($e))return!1;var Ve=ze.toLowerCase();return!!~$e.indexOf(Ve)&&Ve}function Ne($e){return Oe(Ie,$e)}function Fe($e){for(var ze=arguments.length,Ve=new Array(ze>1?ze-1:0),qe=1;qe<ze;qe++)Ve[qe-1]=arguments[qe];for(var En=1;En<arguments.length;En++){var vn=arguments[En];for(var hn in vn)$e[hn]=vn[hn]}return $e}function Ue($e,ze,Ve){var qe=this,En={enumerable:!0};qe.hasBeenReset=!1;var vn="",hn=!1,_n=$e,bn=ze,An=Ve,xn=null,Sn="",Cn=!0,Tn="auto",wn="start",Ln=50,Pn="middle",kn=50,In="middle";Object.defineProperty(qe,"id",Fe({},En,{get:function(){return vn},set:function(Rn){vn=""+Rn}})),Object.defineProperty(qe,"pauseOnExit",Fe({},En,{get:function(){return hn},set:function(Rn){hn=!!Rn}})),Object.defineProperty(qe,"startTime",Fe({},En,{get:function(){return _n},set:function(Rn){if(typeof Rn!="number")throw new TypeError("Start time must be set to a number.");_n=Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"endTime",Fe({},En,{get:function(){return bn},set:function(Rn){if(typeof Rn!="number")throw new TypeError("End time must be set to a number.");bn=Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"text",Fe({},En,{get:function(){return An},set:function(Rn){An=""+Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"region",Fe({},En,{get:function(){return xn},set:function(Rn){xn=Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"vertical",Fe({},En,{get:function(){return Sn},set:function(Rn){var Nn=function(On){return Oe(Ce,On)}(Rn);if(Nn===!1)throw new SyntaxError("An invalid or illegal string was specified.");Sn=Nn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"snapToLines",Fe({},En,{get:function(){return Cn},set:function(Rn){Cn=!!Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"line",Fe({},En,{get:function(){return Tn},set:function(Rn){if(typeof Rn!="number"&&Rn!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");Tn=Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"lineAlign",Fe({},En,{get:function(){return wn},set:function(Rn){var Nn=Ne(Rn);if(!Nn)throw new SyntaxError("An invalid or illegal string was specified.");wn=Nn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"position",Fe({},En,{get:function(){return Ln},set:function(Rn){if(Rn<0||Rn>100)throw new Error("Position must be between 0 and 100.");Ln=Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"positionAlign",Fe({},En,{get:function(){return Pn},set:function(Rn){var Nn=Ne(Rn);if(!Nn)throw new SyntaxError("An invalid or illegal string was specified.");Pn=Nn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"size",Fe({},En,{get:function(){return kn},set:function(Rn){if(Rn<0||Rn>100)throw new Error("Size must be between 0 and 100.");kn=Rn,this.hasBeenReset=!0}})),Object.defineProperty(qe,"align",Fe({},En,{get:function(){return In},set:function(Rn){var Nn=Ne(Rn);if(!Nn)throw new SyntaxError("An invalid or illegal string was specified.");In=Nn,this.hasBeenReset=!0}})),qe.displayState=void 0}return Ue.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},Ue}()},"./src/utils/vttparser.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"parseTimeStamp",function(){return Oe}),_e.d(pe,"fixLineBreaks",function(){return Ve}),_e.d(pe,"VTTParser",function(){return qe});var Ce=_e("./src/utils/vttcue.ts"),Ie=function(){function En(){}return En.prototype.decode=function(vn,hn){if(!vn)return"";if(typeof vn!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(vn))},En}();function Oe(En){function vn(_n,bn,An,xn){return 3600*(0|_n)+60*(0|bn)+(0|An)+parseFloat(xn||0)}var hn=En.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return hn?parseFloat(hn[2])>59?vn(hn[2],hn[3],0,hn[4]):vn(hn[1],hn[2],hn[3],hn[4]):null}var Ne=function(){function En(){this.values=Object.create(null)}var vn=En.prototype;return vn.set=function(hn,_n){this.get(hn)||_n===""||(this.values[hn]=_n)},vn.get=function(hn,_n,bn){return bn?this.has(hn)?this.values[hn]:_n[bn]:this.has(hn)?this.values[hn]:_n},vn.has=function(hn){return hn in this.values},vn.alt=function(hn,_n,bn){for(var An=0;An<bn.length;++An)if(_n===bn[An]){this.set(hn,_n);break}},vn.integer=function(hn,_n){/^-?\d+$/.test(_n)&&this.set(hn,parseInt(_n,10))},vn.percent=function(hn,_n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(_n)){var bn=parseFloat(_n);if(bn>=0&&bn<=100)return this.set(hn,bn),!0}return!1},En}();function Fe(En,vn,hn,_n){var bn=_n?En.split(_n):[En];for(var An in bn)if(typeof bn[An]=="string"){var xn=bn[An].split(hn);xn.length===2&&vn(xn[0],xn[1])}}var Ue=new Ce.default(0,0,""),$e=Ue.align==="middle"?"middle":"center";function ze(En,vn,hn){var _n=En;function bn(){var xn=Oe(En);if(xn===null)throw new Error("Malformed timestamp: "+_n);return En=En.replace(/^[^\sa-zA-Z-]+/,""),xn}function An(){En=En.replace(/^\s+/,"")}if(An(),vn.startTime=bn(),An(),En.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+_n);En=En.substr(3),An(),vn.endTime=bn(),An(),function(xn,Sn){var Cn=new Ne;Fe(xn,function(Ln,Pn){var kn;switch(Ln){case"region":for(var In=hn.length-1;In>=0;In--)if(hn[In].id===Pn){Cn.set(Ln,hn[In].region);break}break;case"vertical":Cn.alt(Ln,Pn,["rl","lr"]);break;case"line":kn=Pn.split(","),Cn.integer(Ln,kn[0]),Cn.percent(Ln,kn[0])&&Cn.set("snapToLines",!1),Cn.alt(Ln,kn[0],["auto"]),kn.length===2&&Cn.alt("lineAlign",kn[1],["start",$e,"end"]);break;case"position":kn=Pn.split(","),Cn.percent(Ln,kn[0]),kn.length===2&&Cn.alt("positionAlign",kn[1],["start",$e,"end","line-left","line-right","auto"]);break;case"size":Cn.percent(Ln,Pn);break;case"align":Cn.alt(Ln,Pn,["start",$e,"end","left","right"])}},/:/,/\s/),Sn.region=Cn.get("region",null),Sn.vertical=Cn.get("vertical","");var Tn=Cn.get("line","auto");Tn==="auto"&&Ue.line===-1&&(Tn=-1),Sn.line=Tn,Sn.lineAlign=Cn.get("lineAlign","start"),Sn.snapToLines=Cn.get("snapToLines",!0),Sn.size=Cn.get("size",100),Sn.align=Cn.get("align",$e);var wn=Cn.get("position","auto");wn==="auto"&&Ue.position===50&&(wn=Sn.align==="start"||Sn.align==="left"?0:Sn.align==="end"||Sn.align==="right"?100:50),Sn.position=wn}(En,vn)}function Ve(En){return En.replace(/<br(?: \/)?>/gi,"\n")}var qe=function(){function En(){this.state="INITIAL",this.buffer="",this.decoder=new Ie,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var vn=En.prototype;return vn.parse=function(hn){var _n=this;function bn(){var Tn=_n.buffer,wn=0;for(Tn=Ve(Tn);wn<Tn.length&&Tn[wn]!=="\r"&&Tn[wn]!=="\n";)++wn;var Ln=Tn.substr(0,wn);return Tn[wn]==="\r"&&++wn,Tn[wn]==="\n"&&++wn,_n.buffer=Tn.substr(wn),Ln}hn&&(_n.buffer+=_n.decoder.decode(hn,{stream:!0}));try{var An="";if(_n.state==="INITIAL"){if(!/\r\n|\n/.test(_n.buffer))return this;var xn=(An=bn()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!xn||!xn[0])throw new Error("Malformed WebVTT signature.");_n.state="HEADER"}for(var Sn=!1;_n.buffer;){if(!/\r\n|\n/.test(_n.buffer))return this;switch(Sn?Sn=!1:An=bn(),_n.state){case"HEADER":/:/.test(An)?Fe(An,function(Tn,wn){},/:/):An||(_n.state="ID");continue;case"NOTE":An||(_n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(An)){_n.state="NOTE";break}if(!An)continue;if(_n.cue=new Ce.default(0,0,""),_n.state="CUE",An.indexOf("-->")===-1){_n.cue.id=An;continue}case"CUE":if(!_n.cue){_n.state="BADCUE";continue}try{ze(An,_n.cue,_n.regionList)}catch(Tn){_n.cue=null,_n.state="BADCUE";continue}_n.state="CUETEXT";continue;case"CUETEXT":var Cn=An.indexOf("-->")!==-1;if(!An||Cn&&(Sn=!0)){_n.oncue&&_n.cue&&_n.oncue(_n.cue),_n.cue=null,_n.state="ID";continue}if(_n.cue===null)continue;_n.cue.text&&(_n.cue.text+="\n"),_n.cue.text+=An;continue;case"BADCUE":An||(_n.state="ID")}}}catch(Tn){_n.state==="CUETEXT"&&_n.cue&&_n.oncue&&_n.oncue(_n.cue),_n.cue=null,_n.state=_n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},vn.flush=function(){var hn=this;try{if((hn.cue||hn.state==="HEADER")&&(hn.buffer+="\n\n",hn.parse()),hn.state==="INITIAL"||hn.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(_n){hn.onparsingerror&&hn.onparsingerror(_n)}return hn.onflush&&hn.onflush(),this},En}()},"./src/utils/webvtt-parser.ts":function(xe,pe,_e){_e.r(pe),_e.d(pe,"generateCueId",function(){return Ve}),_e.d(pe,"parseWebVTT",function(){return qe});var Ce=_e("./src/polyfills/number.ts"),Ie=_e("./src/utils/vttparser.ts"),Oe=_e("./src/demux/id3.ts"),Ne=_e("./src/utils/timescale-conversion.ts"),Fe=_e("./src/remux/mp4-remuxer.ts"),Ue=/\r\n|\n\r|\n|\r/g,$e=function(En,vn,hn){return hn===void 0&&(hn=0),En.substr(hn,vn.length)===vn},ze=function(En){for(var vn=5381,hn=En.length;hn;)vn=33*vn^En.charCodeAt(--hn);return(vn>>>0).toString()};function Ve(En,vn,hn){return ze(En.toString())+ze(vn.toString())+ze(hn)}function qe(En,vn,hn,_n,bn,An,xn,Sn){var Cn,Tn=new Ie.VTTParser,wn=Object(Oe.utf8ArrayToStr)(new Uint8Array(En)).trim().replace(Ue,"\n").split("\n"),Ln=[],Pn=Object(Ne.toMpegTsClockFromTimescale)(vn,hn),kn="00:00.000",In=0,Rn=0,Nn=!0,On=!1;Tn.oncue=function(Dn){var Mn=_n[bn],Bn=_n.ccOffset,$n=(In-Pn)/9e4;if(Mn!=null&&Mn.new&&(Rn!==void 0?Bn=_n.ccOffset=Mn.start:function(Wn,Xn,or){var fr=Wn[Xn],cr=Wn[fr.prevCC];if(!cr||!cr.new&&fr.new)return Wn.ccOffset=Wn.presentationOffset=fr.start,void(fr.new=!1);for(;(Jn=cr)!==null&&Jn!==void 0&&Jn.new;){var Jn;Wn.ccOffset+=fr.start-cr.start,fr.new=!1,cr=Wn[(fr=cr).prevCC]}Wn.presentationOffset=or}(_n,bn,$n)),$n&&(Bn=$n-_n.presentationOffset),On){var Fn=Dn.endTime-Dn.startTime,Un=Object(Fe.normalizePts)(9e4*(Dn.startTime+Bn-Rn),9e4*An)/9e4;Dn.startTime=Un,Dn.endTime=Un+Fn}var Hn=Dn.text.trim();Dn.text=decodeURIComponent(encodeURIComponent(Hn)),Dn.id||(Dn.id=Ve(Dn.startTime,Dn.endTime,Hn)),Dn.endTime>0&&Ln.push(Dn)},Tn.onparsingerror=function(Dn){Cn=Dn},Tn.onflush=function(){Cn?Sn(Cn):xn(Ln)},wn.forEach(function(Dn){if(Nn){if($e(Dn,"X-TIMESTAMP-MAP=")){Nn=!1,On=!0,Dn.substr(16).split(",").forEach(function(Mn){$e(Mn,"LOCAL:")?kn=Mn.substr(6):$e(Mn,"MPEGTS:")&&(In=parseInt(Mn.substr(7)))});try{Rn=function(Mn){var Bn=parseInt(Mn.substr(-3)),$n=parseInt(Mn.substr(-6,2)),Fn=parseInt(Mn.substr(-9,2)),Un=Mn.length>9?parseInt(Mn.substr(0,Mn.indexOf(":"))):0;if(!(Object(Ce.isFiniteNumber)(Bn)&&Object(Ce.isFiniteNumber)($n)&&Object(Ce.isFiniteNumber)(Fn)&&Object(Ce.isFiniteNumber)(Un)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+Mn);return Bn+=1e3*$n,(Bn+=6e4*Fn)+36e5*Un}(kn)/1e3}catch(Mn){On=!1,Cn=Mn}return}Dn===""&&(Nn=!1)}Tn.parse(Dn+"\n")}),Tn.flush()}},"./src/utils/xhr-loader.ts":function(xe,pe,_e){_e.r(pe);var Ce=_e("./src/utils/logger.ts"),Ie=_e("./src/loader/load-stats.ts"),Oe=/^age:\s*[\d.]+\s*$/m,Ne=function(){function Fe($e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=$e?$e.xhrSetup:null,this.stats=new Ie.LoadStats,this.retryDelay=0}var Ue=Fe.prototype;return Ue.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},Ue.abortInternal=function(){var $e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),$e&&($e.onreadystatechange=null,$e.onprogress=null,$e.readyState!==4&&(this.stats.aborted=!0,$e.abort()))},Ue.abort=function(){var $e;this.abortInternal(),($e=this.callbacks)!==null&&$e!==void 0&&$e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},Ue.load=function($e,ze,Ve){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=$e,this.config=ze,this.callbacks=Ve,this.retryDelay=ze.retryDelay,this.loadInternal()},Ue.loadInternal=function(){var $e=this.config,ze=this.context;if($e){var Ve=this.loader=new self.XMLHttpRequest,qe=this.stats;qe.loading.first=0,qe.loaded=0;var En=this.xhrSetup;try{if(En)try{En(Ve,ze.url)}catch(vn){Ve.open("GET",ze.url,!0),En(Ve,ze.url)}Ve.readyState||Ve.open("GET",ze.url,!0)}catch(vn){return void this.callbacks.onError({code:Ve.status,text:vn.message},ze,Ve)}ze.rangeEnd&&Ve.setRequestHeader("Range","bytes="+ze.rangeStart+"-"+(ze.rangeEnd-1)),Ve.onreadystatechange=this.readystatechange.bind(this),Ve.onprogress=this.loadprogress.bind(this),Ve.responseType=ze.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),$e.timeout),Ve.send()}},Ue.readystatechange=function(){var $e=this.context,ze=this.loader,Ve=this.stats;if($e&&ze){var qe=ze.readyState,En=this.config;if(!Ve.aborted&&qe>=2)if(self.clearTimeout(this.requestTimeout),Ve.loading.first===0&&(Ve.loading.first=Math.max(self.performance.now(),Ve.loading.start)),qe===4){ze.onreadystatechange=null,ze.onprogress=null;var vn=ze.status;if(vn>=200&&vn<300){var hn,_n;if(Ve.loading.end=Math.max(self.performance.now(),Ve.loading.first),_n=$e.responseType==="arraybuffer"?(hn=ze.response).byteLength:(hn=ze.responseText).length,Ve.loaded=Ve.total=_n,!this.callbacks)return;var bn=this.callbacks.onProgress;if(bn&&bn(Ve,$e,hn,ze),!this.callbacks)return;var An={url:ze.responseURL,data:hn};this.callbacks.onSuccess(An,Ve,$e,ze)}else Ve.retry>=En.maxRetry||vn>=400&&vn<499?(Ce.logger.error(vn+" while loading "+$e.url),this.callbacks.onError({code:vn,text:ze.statusText},$e,ze)):(Ce.logger.warn(vn+" while loading "+$e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,En.maxRetryDelay),Ve.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),En.timeout)}},Ue.loadtimeout=function(){Ce.logger.warn("timeout while loading "+this.context.url);var $e=this.callbacks;$e&&(this.abortInternal(),$e.onTimeout(this.stats,this.context,this.loader))},Ue.loadprogress=function($e){var ze=this.stats;ze.loaded=$e.loaded,$e.lengthComputable&&(ze.total=$e.total)},Ue.getCacheAge=function(){var $e=null;if(this.loader&&Oe.test(this.loader.getAllResponseHeaders())){var ze=this.loader.getResponseHeader("age");$e=ze?parseFloat(ze):null}return $e},Fe}();pe.default=Ne}}).default);var Y=H(W.exports);const q={name:"d-icon"},X=Object.assign(q,{props:{icon:String,size:[Number,String]},setup:function(xe){const pe=xe,_e=computed(()=>({fontSize:/^\d+$/.test(pe.size)?pe.size+"px":pe.size}));return(Ce,Ie)=>(openBlock(),createElementBlock("i",{class:normalizeClass(["d-icon iconfont",xe.icon]),style:normalizeStyle$1(unref(_e))},null,6))}});X.__scopeId="data-v-0c690e66";pushScopeId("data-v-4cb76d59");const z={class:"d-player-top"},$={class:"top-title"},Q={class:"top-title"};popScopeId();const J={props:{title:{default:""}},setup(xe){Date.prototype.format=function(Ce){let Ie={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var Oe in Ie)new RegExp("("+Oe+")").test(Ce)&&(Ce=Ce.replace(RegExp.$1,RegExp.$1.length==1?Ie[Oe]:("00"+Ie[Oe]).substr((""+Ie[Oe]).length)));return Ce};let pe=ref("00:00:00");pe.value=new Date().format("hh:mm:ss");let _e=null;return _e=setInterval(()=>{pe.value=new Date().format("hh:mm:ss")},1e3),onUnmounted(()=>{clearInterval(_e)}),(Ce,Ie)=>(openBlock(),createElementBlock("div",z,[createBaseVNode("p",$,toDisplayString(xe.title||""),1),createBaseVNode("p",Q,toDisplayString(unref(pe)),1)]))},__scopeId:"data-v-4cb76d59"};pushScopeId("data-v-ac2469ec");const Z={class:"d-status"},tt={class:"d-flex-center"},et={class:"d-flex-center"},rt=createTextVNode("5X速播放中 ");popScopeId();var it=defineComponent({props:["state"],setup:xe=>(pe,_e)=>withDirectives((openBlock(),createElementBlock("div",Z,[withDirectives(createBaseVNode("li",tt,[createVNode(X,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(xe.state.volume==0?"mute":xe.state.volume>.5?"up":"down")},null,8,["icon"]),createTextVNode(" "+toDisplayString(~~(100*xe.state.volume))+"% ",1)],512),[[vShow,xe.state.handleType=="volume"]]),withDirectives(createBaseVNode("li",et,[createVNode(X,{size:"12",icon:"icon-play"}),createVNode(X,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),rt],512),[[vShow,xe.state.handleType=="playbackRate"||xe.state.isMultiplesPlay]])],512)),[[vShow,xe.state.handleType||xe.state.isMultiplesPlay]])});it.__scopeId="data-v-ac2469ec",pushScopeId("data-v-385f7870");const nt=["checked","true-value","false-value"],at=createBaseVNode("span",{class:"d-switch_action"},null,-1);popScopeId();var st=defineComponent({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(xe,{emit:pe}){const _e=xe;useCssVars(Ne=>({"014e5dc0":xe.width,e4e32852:xe.activeColor}));const Ce=ref(null),Ie=computed(()=>_e.modelValue===_e.trueValue),Oe=()=>{nextTick(()=>{const Ne=Ce.value.checked;pe("update:modelValue",Ne),pe("change",Ne)})};return(Ne,Fe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["d-switch",{"is-checked":unref(Ie)}])},[createBaseVNode("input",{class:"d-switch__input",ref:Ce,type:"checkbox",checked:unref(Ie),onChange:Oe,"true-value":xe.trueValue,"false-value":xe.falseValue},null,40,nt),at],2))}});st.__scopeId="data-v-385f7870",pushScopeId("data-v-b2384226");const ot={key:0},lt=createBaseVNode("i",{class:"rotating iconfont icon-loading f50"},null,-1),ut=[createBaseVNode("i",{class:"rotating iconfont icon-loading f50"},null,-1),createBaseVNode("p",null,"正在缓冲...",-1)],dt=[createBaseVNode("i",{class:"iconfont icon-replay f24 mr5"},null,-1),createTextVNode("重新播放 ")],ct=[createBaseVNode("i",{class:"iconfont icon-replay f24 mr5"},null,-1),createTextVNode("请求错误 ")];popScopeId();var ht=defineComponent({props:{loadType:String,text:{type:String,default:""}},setup(xe){const pe=xe,{proxy:_e}=getCurrentInstance(),Ce=["loadstart","waiting","ended","error","stalled"],Ie=()=>{_e.$parent.play()},Oe=computed(()=>{let Ne="background: rgba(0, 0, 0, .1);z-index:1";return pe.loadType=="loadstart"&&(Ne="background: rgba(0, 0, 0, 1);;z-index:3"),Ne});return(Ne,Fe)=>withDirectives((openBlock(),createElementBlock("div",{class:"d-loading",style:normalizeStyle$1(unref(Oe))},[createBaseVNode("div",null,[xe.loadType=="loadstart"?(openBlock(),createElementBlock("span",ot,[lt,createBaseVNode("p",null,toDisplayString(xe.text),1)])):createCommentVNode("",!0),withDirectives(createBaseVNode("span",null,ut,512),[[vShow,xe.loadType=="waiting"]]),withDirectives(createBaseVNode("span",null,[createBaseVNode("p",{onClick:Ie,class:"d-flex-x d-pointer"},dt)],512),[[vShow,xe.loadType=="ended"]]),withDirectives(createBaseVNode("span",null,[createBaseVNode("p",{onClick:Ie,class:"d-flex-x d-pointer"},ct)],512),[[vShow,xe.loadType=="error"||xe.loadType=="stalled"]])])],4)),[[vShow,Ce.includes(xe.loadType)]])}});ht.__scopeId="data-v-b2384226";const ft=function(xe,pe,_e,Ce=!1){xe&&pe&&_e&&xe.addEventListener(pe,_e,Ce)},gt=function(xe,pe,_e,Ce=!1){xe&&pe&&_e&&xe.removeEventListener(pe,_e,Ce)};pushScopeId("data-v-5a794390");const vt=["onMousedown"];popScopeId();var pt=defineComponent(l(o({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(xe,{emit:pe}){const _e=xe;useCssVars(_n=>({"5242b67b":xe.size}));const Ce=ref(null),Ie=ref(null),Oe=reactive({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),Ne=computed(()=>{let _n=_e.modelValue<0?0:_e.modelValue>1?1:_e.modelValue;return _e.vertical?"height:".concat(100*_n,"%"):"width:".concat(100*_n,"%")}),Fe=computed(()=>{let _n=_e.preload<0?0:_e.preload>1?1:_e.preload;return _e.vertical?"height:".concat(100*_n,"%"):"width:".concat(100*_n,"%")}),Ue=computed(()=>{let _n=Oe.hoverPosition<0?0:Oe.hoverPosition>1?1:Oe.hoverPosition;return _e.vertical?"bottom:".concat(100*_n,"%"):"left:".concat(100*_n,"%")}),$e=_n=>{_n.preventDefault()},ze=_n=>{_e.disabled||(_n.preventDefault(),Oe.dragging=!0,qe(_n),ft(window,"mousemove",vn),ft(window,"touchmove",vn),ft(window,"mouseup",hn),ft(window,"touchend",hn))},Ve=_n=>{if(!_e.hover)return;let bn=En(_n);if(pe("onMousemove",_n,bn),Oe.hoverPosition=bn,_e.vertical)return;let An=Ce.value,xn=Ie.value.clientWidth/2,Sn=_n.clientX-An.getBoundingClientRect().left;Sn<xn?Oe.hoverTipsLeft=xn-Sn+"px":An.clientWidth-Sn<xn?Oe.hoverTipsLeft=An.clientWidth-Sn-xn+"px":Oe.hoverTipsLeft="50%"},qe=_n=>{let bn=En(_n);pe("update:modelValue",bn),pe("change",_n,bn)},En=_n=>{let bn=Ce.value,An=0;if(_e.vertical){let xn=bn.clientHeight;An=(bn.getBoundingClientRect().bottom-_n.clientY)/xn}else An=(_n.clientX-bn.getBoundingClientRect().left)/bn.clientWidth;return An<0?0:An>1?1:An},vn=_n=>{qe(_n)},hn=_n=>{Oe.dragging&&(gt(window,"mousemove",vn),gt(window,"touchmove",vn),gt(window,"mouseup",hn),gt(window,"touchend",hn),gt(window,"contextmenu",hn),setTimeout(()=>{Oe.dragging=!1},0))};return(_n,bn)=>(openBlock(),createElementBlock("div",{ref:Ce,class:normalizeClass(["d-slider",{"is-vertical":_e.vertical}]),onMousedown:withModifiers(ze,["stop"]),onContextmenu:$e},[createBaseVNode("div",{class:"d-slider__runway",onMousemove:Ve},[withDirectives(createBaseVNode("div",{class:"d-slider__cursor",style:normalizeStyle$1(unref(Ue))},[withDirectives(createBaseVNode("div",{class:"d-slider__tips",ref:Ie,style:normalizeStyle$1({left:unref(Oe).hoverTipsLeft})},toDisplayString(_e.hoverText),5),[[vShow,_e.hoverText]])],4),[[vShow,_e.hover]]),createBaseVNode("div",{class:"d-slider__preload",style:normalizeStyle$1(unref(Fe))},null,4),createBaseVNode("div",{class:"d-slider__bar",style:normalizeStyle$1(unref(Ne))},null,4)],32)],42,vt))}}));pt.__scopeId="data-v-5a794390";pushScopeId("data-v-570fa0d1");const mt={key:0,class:"d-player-dialog"},yt={class:"d-player-dialog-body"},Et={class:"d-player-dialog-title"},Tt={class:"d-player-hotkey-panel"},St={class:"d-player-filter-panel"},bt={class:"d-player-filter-panel-item"},Lt=createBaseVNode("span",null,"饱和度",-1),At={class:"d-player-filter-panel-item"},Dt=createBaseVNode("span",null,"亮度",-1),kt={class:"d-player-filter-panel-item"},Rt=createBaseVNode("span",null,"对比度",-1),_t={key:0,class:"d-player-contextmenu"},It=["dplayerKeyCode"],Ct=createBaseVNode("input",{class:"d-player-copyText"},null,-1);popScopeId();var wt=defineComponent({setup(xe){const pe=reactive({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),_e=[{label:"视频色彩调整",key:"filter"},{label:"快捷键说明",key:"hotkey"},{label:"复制视频网址",key:"copy"},{label:"版本：1.3.1-beta.6",key:"version"}],Ce=[{key:"Space",label:"播放/暂停"},{key:"→",label:"单次快进10s，长按5倍速播放"},{key:"←",label:"快退5s"},{key:"↑",label:"音量增加10%"},{key:"↓",label:"音量增加降低10%"},{key:"Esc",label:"退出全屏/退出网页全屏"},{key:"F",label:"全屏/退出全屏"}],Ie=reactive({saturate:.392,brightness:.392,contrast:.392}),Oe=computed(()=>({left:pe.mouseX+"px",top:pe.mouseY+"px"}));watch(Ie,ze=>{let Ve=document.querySelector("#dPlayerVideo"),qe=(2.55*ze.saturate).toFixed(2),En=(2.55*ze.brightness).toFixed(2),vn=(2.55*ze.contrast).toFixed(2);Ve.style.filter="saturate(".concat(qe,") brightness(").concat(En,") contrast(").concat(vn,")")});const Ne=()=>{Ie.saturate=.392,Ie.brightness=.392,Ie.contrast=.392},Fe=ze=>{ze.key=="Escape"&&$e(0)},Ue=ze=>{ze.preventDefault(),ft(window,"keydown",Fe),ft(window,"click",$e);let Ve=document.querySelector("#refPlayerWrap"),qe=Ve.clientWidth;Ve.clientHeight,pe.mouseX=ze.clientX-Ve.getBoundingClientRect().left,qe-pe.mouseX<130&&(pe.mouseX=pe.mouseX+(qe-pe.mouseX-130)),pe.mouseY=ze.clientY-Ve.getBoundingClientRect().top,pe.show=!0},$e=ze=>{let Ve=ze.path[0].tagName=="LI",qe=ze.path[0].attributes.dplayerKeyCode&&ze.path[0].attributes.dplayerKeyCode.value,En=_e.map(vn=>vn.key);if(Ve&&En.includes(qe))if(pe.dialogTitle=ze.path[0].innerText,pe.dialogType=qe,qe=="copy"){let vn=document.querySelector(".d-player-copyText");vn.value=window.location.href,vn.select(),document.execCommand("copy"),pe.dialogType=""}else qe=="version"&&(pe.dialogType="");pe.show=!1,gt(window,"keydown",Fe),gt(window,"click",$e)};return onMounted(()=>{let ze=document.querySelector("#refPlayerWrap");gt(window,"keydown",Fe),gt(window,"click",$e),gt(ze,"contextmenu",Ue),ft(ze,"contextmenu",Ue)}),onUnmounted(()=>{let ze=document.querySelector("#refPlayerWrap");gt(window,"keydown",Fe),gt(window,"click",$e),gt(ze,"contextmenu",Ue)}),(ze,Ve)=>(openBlock(),createElementBlock("div",null,[createVNode(Transition,{name:"d-fade-in"},{default:withCtx(()=>[unref(pe).dialogType?(openBlock(),createElementBlock("div",mt,[createBaseVNode("div",yt,[createBaseVNode("h5",Et,[createTextVNode(toDisplayString(unref(pe).dialogTitle)+" ",1),createBaseVNode("i",{onClick:Ve[0]||(Ve[0]=qe=>unref(pe).dialogType=!1),class:"icon icon-close"},"X")]),withDirectives(createBaseVNode("ul",Tt,[(openBlock(),createElementBlock(Fragment$1,null,renderList(Ce,qe=>createBaseVNode("li",{class:"d-player-hotkey-panel-item",key:qe.key},[createBaseVNode("span",null,toDisplayString(qe.key),1),createBaseVNode("span",null,toDisplayString(qe.label),1)])),64))],512),[[vShow,unref(pe).dialogType=="hotkey"]]),withDirectives(createBaseVNode("ul",St,[createBaseVNode("li",bt,[Lt,createVNode(pt,{class:"filter-panel-slider",size:"5px",modelValue:unref(Ie).saturate,"onUpdate:modelValue":Ve[1]||(Ve[1]=qe=>unref(Ie).saturate=qe)},null,8,["modelValue"]),createBaseVNode("span",null,toDisplayString(Math.round(255*unref(Ie).saturate)),1)]),createBaseVNode("li",At,[Dt,createVNode(pt,{class:"filter-panel-slider",size:"5px",modelValue:unref(Ie).brightness,"onUpdate:modelValue":Ve[2]||(Ve[2]=qe=>unref(Ie).brightness=qe)},null,8,["modelValue"]),createBaseVNode("span",null,toDisplayString(Math.round(255*unref(Ie).brightness)),1)]),createBaseVNode("li",kt,[Rt,createVNode(pt,{class:"filter-panel-slider",size:"5px",modelValue:unref(Ie).contrast,"onUpdate:modelValue":Ve[3]||(Ve[3]=qe=>unref(Ie).contrast=qe)},null,8,["modelValue"]),createBaseVNode("span",null,toDisplayString(Math.round(255*unref(Ie).contrast)),1)]),createBaseVNode("span",{onClick:Ne,title:"重置","aria-label":"重置",class:"d-player-filter-reset"},"重置")],512),[[vShow,unref(pe).dialogType=="filter"]])])])):createCommentVNode("",!0)]),_:1}),unref(pe).show?(openBlock(),createElementBlock("div",_t,[createBaseVNode("ul",{class:"d-player-contextmenu-body",style:normalizeStyle$1(unref(Oe))},[(openBlock(),createElementBlock(Fragment$1,null,renderList(_e,qe=>createBaseVNode("li",{dplayerKeyCode:qe.key,key:qe.key},toDisplayString(qe.label),9,It)),64))],4),Ct])):createCommentVNode("",!0)]))}});wt.__scopeId="data-v-570fa0d1";const Ot=xe=>{let pe=~~(xe/3600),_e=~~(xe%3600/60),Ce=~~(xe%60);return pe=pe<10?"0"+pe:pe,_e=_e<10?"0"+_e:_e,Ce=Ce<10?"0"+Ce:Ce,"".concat(pe,":").concat(_e,":").concat(Ce)},xt="ontouchstart"in window,Pt=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],Ft={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};pushScopeId("data-v-01791e9e");const Mt={class:"d-player-video",id:"dPlayerVideo"},Nt=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],Bt={class:"d-player-lightoff"},Ut={key:1,class:"d-player-state"},Gt={class:"d-play-btn"},jt=["onKeyup","onKeydown"],Kt={class:"d-control-progress"},Vt={class:"d-tool-bar"},Ht={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},Wt=createBaseVNode("span",{style:{margin:"0 3px"}},"/",-1),Yt={class:"total-time"},qt={class:"d-tool-bar"},Xt={key:0,class:"d-tool-item quality-btn"},zt={class:"d-tool-item-main"},$t={class:"speed-main",style:{"text-align":"center"}},Qt=["onClick"],Jt={key:1,class:"d-tool-item speedRate-btn"},Zt={class:"d-tool-item-main"},te={class:"speed-main"},ee=["onClick"],re={key:2,class:"d-tool-item volume-btn"},ie={class:"d-tool-item-main volume-box",style:{width:"52px"}},ne={class:"volume-text-size"},ae={key:3,class:"d-tool-item setting-btn"},se={class:"d-tool-item-main"},oe={class:"speed-main"},le=createTextVNode(" 镜像画面 "),ue=createTextVNode(" 循环播放 "),de=createTextVNode(" 关灯模式 "),ce=createBaseVNode("div",{class:"d-tool-item-main"},"画中画",-1),he=createBaseVNode("div",{class:"d-tool-item-main"},"网页全屏",-1),fe=createBaseVNode("div",{class:"d-tool-item-main"},"全屏",-1);popScopeId();var ge=defineComponent(l(o({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:Ft,emits:[...Pt,"mirrorChange","loopChange","lightOffChange"],setup:function(xe,{expose:pe,emit:_e}){const Ce=xe;useCssVars(Bn=>({"51d4439c":unref(En),"77e758a6":Bn.width,b8a1afc0:Bn.height}));const Ie=new Y({fragLoadingTimeOut:2e3}),Oe=ref(null),Ne=ref(null),Fe=ref(null),Ue=ref(null),$e=reactive(l(o({dVideo:null},Ce),{muted:Ce.muted,playBtnState:Ce.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),ze=(...Bn)=>$n=>Bn.reverse().reduce((Fn,Un)=>Un(Fn),$n),Ve=Pt.reduce((Bn,$n)=>{var Fn;return Bn["on".concat((Fn=$n,Fn.charAt(0).toUpperCase()+Fn.slice(1)))]=Un=>{$e.loadStateType=$n,_e($n,Un)},Bn},{});Ve.onCanplay=ze(Ve.onCanplay,()=>{$e.playBtnState!="play"&&$e.dVideo.play(),$e.autoPlay&&($e.dVideo.play(),$e.playBtnState="pause")}),Ve.onEnded=ze(Ve.onEnded,()=>{$e.playBtnState="replay"}),Ve.onDurationchange=Bn=>{_e("durationchange",Bn),Ce.currentTime!=0&&($e.dVideo.currentTime=Ce.currentTime),Ve.onTimeupdate(Bn)},Ve.onProgress=Bn=>{_e("progress",Bn);let $n=Bn.target.duration,Fn=Bn.target.buffered,Un=Bn.target.buffered.length&&Bn.target.buffered.end(Fn-1);$e.preloadBar=Un/$n},Ve.onTimeupdate=Bn=>{_e("timeupdate",Bn);let $n=Bn.duration||Bn.target.duration||0,Fn=Bn.currentTime||Bn.target.currentTime;$e.playProgress=Fn/$n,$e.currentTime=Ot(Fn),$e.totalTime=Ot($n)},Ve.onError=ze(Ve.onError,()=>{$e.playBtnState="replay"});let qe=useAttrs$1();for(let Bn in qe)Ve[Bn]=qe[Bn];const En=(vn=$e.color,"".concat(parseInt("0x"+vn.slice(1,3)),",").concat(parseInt("0x"+vn.slice(3,5)),",").concat(parseInt("0x"+vn.slice(5,7))));var vn;const hn=V(500,()=>{$e.handleType=""}),_n=Bn=>{Bn.preventDefault(),Bn.code=="ArrowUp"?$e.volume=$e.volume+.1>1?1:$e.volume+.1:$e.volume=$e.volume-.1<0?0:$e.volume-.1,$e.muted=!1,$e.handleType="volume",hn()},bn=Bn=>{Ce.speed&&($e.dVideo.currentTime=$e.dVideo.currentTime<10?.1:$e.dVideo.currentTime-10,Ve.onTimeupdate($e.dVideo),Sn())},An=Bn=>{Bn.preventDefault();let $n=Bn.type;if(Bn.key=="ArrowRight"){if(Sn(),$n=="keyup"){if(clearTimeout($e.longPressTimeout),!Ce.speed&&!$e.longPressTimeout)return;$e.isMultiplesPlay?($e.dVideo.playbackRate=$e.speedActive,$e.isMultiplesPlay=!1):($e.dVideo.currentTime=$e.dVideo.currentTime+10,Ve.onTimeupdate($e.dVideo))}else if($n=="keydown"){if(!Ce.speed)return;$e.isMultiplesPlay&&clearTimeout($e.longPressTimeout),$e.longPressTimeout=setTimeout(()=>{$e.isMultiplesPlay=!0,$e.dVideo.playbackRate=5,$e.handleType="playbackRate",hn()},500)}}},xn=()=>{xt||Ue.value.focus()},Sn=()=>{$e.loadStateType="play",$e.dVideo.play().catch(()=>{setTimeout(()=>{$e.playBtnState="replay",$e.loadStateType="error"},500)}),$e.playBtnState="pause"},Cn=()=>{$e.dVideo.pause(),$e.playBtnState="play"},Tn=Bn=>{Bn&&Bn.preventDefault(),$e.playBtnState=="play"||$e.playBtnState=="replay"?Sn():$e.playBtnState=="pause"&&Cn()},wn=()=>{$e.muted=!$e.muted,$e.volume==0&&($e.volume=.05)},Ln=(Bn,$n)=>{let Fn=$e.dVideo.duration||$e.dVideo.target.duration;$e.dVideo.currentTime=Fn*$n,$e.playBtnState=="play"&&($e.dVideo.play(),$e.playBtnState="pause")},Pn=(Bn,$n)=>{$e.progressCursorTime=Ot($e.dVideo.duration*$n)},kn=V(2500,()=>{$e.isVideoHovering=!1}),In=Bn=>{$e.isVideoHovering=!0,kn()},Rn=Bn=>{_e("mirrorChange",Bn,$e.dVideo)},Nn=Bn=>{_e("loopChange",Bn,$e.dVideo)},On=Bn=>{_e("lightOffChange",Bn,$e.dVideo)},Dn=()=>{var Bn;Bn=$e.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch($n=>{}):Bn.requestPictureInPicture().catch($n=>{})},Mn=()=>{$e.fullScreen=(Bn=>{let $n=document,Fn=$n.webkitIsFullScreen||$n.fullscreen;return Fn?(document.exitFullscreen||$n.webkitExitFullScreen).call($n):(Bn.requestFullscreen||Bn.webkitRequestFullScreen).call(Bn),!Fn})(Oe.value)};return watch(()=>Ce.src,()=>{nextTick(()=>{$e.dVideo.canPlayType(Ce.type)||$e.dVideo.canPlayType("application/vnd.apple.mpegurl")?$e.muted=Ce.autoPlay:Y.isSupported()&&(Ie.detachMedia(),Ie.attachMedia($e.dVideo),Ie.on(Y.Events.MEDIA_ATTACHED,()=>{Ie.loadSource(Ce.src),Ie.on("hlsManifestParsed",(Bn,$n)=>{$e.currentLevel=$n.level,$e.qualityLevels=$n.levels||[]})}),Ie.on("hlsLevelSwitching",(Bn,$n)=>{}),Ie.on("hlsLevelSwitched",(Bn,$n)=>{$e.currentLevel=$n.level}))})},{immediate:!0}),onMounted(()=>{$e.dVideo=Ne,xn()}),pe({play:Sn,pause:Cn,togglePlay:Tn}),(Bn,$n)=>(openBlock(),createElementBlock("div",{ref:Oe,id:"refPlayerWrap",class:normalizeClass(["d-player-wrap",{"web-full-screen":unref($e).webFullScreen,"is-lightoff":unref($e).lightOff,"d-player-wrap-hover":unref($e).playBtnState=="play"||unref($e).isVideoHovering}]),onMousemove:In},[createBaseVNode("div",Mt,[createBaseVNode("video",mergeProps({ref:Ne,class:["d-player-video-main",{"video-mirror":unref($e).mirror}],id:"dPlayerVideoMain",controls:!(!unref(xt)||!unref($e).speed),"webkit-playsinline":Ce.playsinline,playsinline:Ce.playsinline},unref(Ve),{volume:unref($e).volume,muted:unref($e).muted,loop:unref($e).loop,preload:Bn.preload,width:"100%",height:"100%",src:Ce.src,poster:Ce.poster}),"您的浏览器不支持Video标签。",16,Nt)]),createVNode(Transition,{name:"d-fade-in"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",Bt,null,512),[[vShow,unref($e).lightOff]])]),_:1}),unref($e).fullScreen?(openBlock(),createBlock(J,{key:0,title:Ce.title},null,8,["title"])):createCommentVNode("",!0),unref(xt)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",Ut,[createVNode(Transition,{name:"d-scale-out"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",Gt,[createVNode(X,{icon:"icon-play",size:40})],512),[[vShow,unref($e).playBtnState=="play"]])]),_:1}),createVNode(it,{state:unref($e)},null,8,["state"])])),unref(xt)?createCommentVNode("",!0):(openBlock(),createElementBlock("input",{key:2,type:"input",readonly:"readonly",ref:Ue,onDblclick:Mn,onKeyup:[withKeys(Mn,["f"]),$n[0]||($n[0]=withKeys(Fn=>unref($e).webFullScreen=!1,["esc"])),An],onClick:Tn,onKeydown:[withKeys(Tn,["space"]),withKeys(bn,["arrow-left"]),withKeys(_n,["arrow-up","arrow-down"]),An],class:"d-player-input",maxlength:"0"},null,40,jt)),createVNode(ht,{loadType:unref($e).loadStateType},null,8,["loadType"]),createVNode(wt),!unref(xt)&&unref($e).control?(openBlock(),createElementBlock("div",{key:3,class:"d-player-control",ref:Fe},[createBaseVNode("div",Kt,[createVNode(pt,{class:"d-progress-bar",onOnMousemove:Pn,onChange:Ln,disabled:!unref($e).speed,hoverText:unref($e).progressCursorTime,modelValue:unref($e).playProgress,"onUpdate:modelValue":$n[1]||($n[1]=Fn=>unref($e).playProgress=Fn),preload:unref($e).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),createBaseVNode("div",{class:"d-control-tool",onClick:xn},[createBaseVNode("div",Vt,[createBaseVNode("div",{class:"d-tool-item",onClick:Tn},[createVNode(X,{size:"24",icon:"icon-".concat(unref($e).playBtnState)},null,8,["icon"])]),Ce.controlBtns.includes("audioTrack")?(openBlock(),createElementBlock("div",Ht,[createBaseVNode("span",null,toDisplayString(unref($e).currentTime),1),Wt,createBaseVNode("span",Yt,toDisplayString(unref($e).totalTime),1)])):createCommentVNode("",!0)]),createBaseVNode("div",qt,[unref($e).qualityLevels.length&&Ce.controlBtns.includes("quality")?(openBlock(),createElementBlock("div",Xt,[createTextVNode(toDisplayString(unref($e).qualityLevels.length&&(unref($e).qualityLevels[unref($e).currentLevel]||{}).height)+"P ",1),createBaseVNode("div",zt,[createBaseVNode("ul",$t,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref($e).qualityLevels,(Fn,Un)=>(openBlock(),createElementBlock("li",{class:normalizeClass({"speed-active":unref($e).currentLevel==Un}),onClick:Hn=>((Wn,Xn)=>{Ie.currentLevel=Xn,$e.currentLevel=Xn})(0,Un),key:Fn},toDisplayString(Fn.height)+"P",11,Qt))),128))])])])):createCommentVNode("",!0),Ce.controlBtns.includes("speedRate")?(openBlock(),createElementBlock("div",Jt,[createTextVNode(toDisplayString(unref($e).speedActive=="1.0"?"倍速":unref($e).speedActive+"x")+" ",1),createBaseVNode("div",Zt,[createBaseVNode("ul",te,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref($e).speedRate,Fn=>(openBlock(),createElementBlock("li",{class:normalizeClass({"speed-active":unref($e).speedActive==Fn}),onClick:Un=>(Hn=>{$e.speedActive=Hn,$e.dVideo.playbackRate=Hn})(Fn),key:Fn},toDisplayString(Fn)+"x",11,ee))),128))])])])):createCommentVNode("",!0),Ce.controlBtns.includes("volume")?(openBlock(),createElementBlock("div",re,[createBaseVNode("div",ie,[createBaseVNode("div",{class:normalizeClass(["volume-main",{"is-muted":unref($e).muted}])},[createBaseVNode("span",ne,toDisplayString(unref($e).muted?0:~~(100*unref($e).volume))+"%",1),createVNode(pt,{onChange:$n[2]||($n[2]=Fn=>unref($e).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:unref($e).volume,"onUpdate:modelValue":$n[3]||($n[3]=Fn=>unref($e).volume=Fn)},null,8,["modelValue"])],2)]),createBaseVNode("span",{onClick:wn,style:{display:"flex"}},[createVNode(X,{size:"20",icon:"icon-volume-"+(unref($e).volume==0||unref($e).muted?"mute":unref($e).volume>.5?"up":"down")},null,8,["icon"])])])):createCommentVNode("",!0),Ce.controlBtns.includes("setting")?(openBlock(),createElementBlock("div",ae,[createVNode(X,{size:"20",class:"rotateHover",icon:"icon-settings"}),createBaseVNode("div",se,[createBaseVNode("ul",oe,[createBaseVNode("li",null,[le,createVNode(st,{onChange:Rn,modelValue:unref($e).mirror,"onUpdate:modelValue":$n[4]||($n[4]=Fn=>unref($e).mirror=Fn)},null,8,["modelValue"])]),createBaseVNode("li",null,[ue,createVNode(st,{onChange:Nn,modelValue:unref($e).loop,"onUpdate:modelValue":$n[5]||($n[5]=Fn=>unref($e).loop=Fn)},null,8,["modelValue"])]),createBaseVNode("li",null,[de,createVNode(st,{onChange:On,modelValue:unref($e).lightOff,"onUpdate:modelValue":$n[6]||($n[6]=Fn=>unref($e).lightOff=Fn)},null,8,["modelValue"])])])])])):createCommentVNode("",!0),Ce.controlBtns.includes("pip")?(openBlock(),createElementBlock("div",{key:4,class:"d-tool-item pip-btn",onClick:Dn},[createVNode(X,{size:"20",icon:"icon-pip"}),ce])):createCommentVNode("",!0),Ce.controlBtns.includes("pageFullScreen")?(openBlock(),createElementBlock("div",{key:5,class:"d-tool-item pip-btn",onClick:$n[7]||($n[7]=Fn=>unref($e).webFullScreen=!unref($e).webFullScreen)},[createVNode(X,{size:"20",icon:"icon-web-screen"}),he])):createCommentVNode("",!0),Ce.controlBtns.includes("fullScreen")?(openBlock(),createElementBlock("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:Mn},[fe,createVNode(X,{size:"20",icon:"icon-screen"})])):createCommentVNode("",!0)])])],512)):createCommentVNode("",!0)],34))}}));function ve(xe){xe.component(ge.name,ge)}ge.__scopeId="data-v-01791e9e",ge.install=ve;export{isRef as $,throttle as A,nextTick as B,eruda as C,dayjs as D,ElConfigProvider as E,useRem as F,createTextVNode as G,Fragment$1 as H,useStore as I,StorageEnum as J,KeepAlive as K,Loader as L,takeaway_box_default as M,NProgress as N,tickets_default as O,document_default as P,help_default as Q,video_play_default as R,Suspense as S,Transition as T,createRouter as U,createWebHashHistory as V,computed as W,createElementBlock as X,createCommentVNode as Y,mergeProps as Z,__unplugin_components_1 as _,defineComponent as a,pushScopeId as a$,ElCascader as a0,renderList as a1,toDisplayString as a2,ElCheckbox as a3,ElCheckboxGroup as a4,mergeModels as a5,useModel as a6,ElColorPicker as a7,ElDatePicker as a8,ElInputNumber as a9,ElMenu as aA,ElScrollbar as aB,useIntervalDate as aC,useRouter as aD,debounce as aE,resolveDirective as aF,ElHeader as aG,ElAside as aH,ElMain as aI,ElContainer as aJ,getCurrentInstance as aK,onMounted as aL,onBeforeUnmount as aM,sum as aN,normalizeStyle$1 as aO,createStaticVNode as aP,reactive as aQ,vShow as aR,isArray$3 as aS,random as aT,isInteger as aU,normalizeClass as aV,DPlayer as aW,Hls as aX,flvjs as aY,ge as aZ,useRoute as a_,ElInput as aa,ElRadio as ab,ElRadioGroup as ac,ElRate as ad,ElOption as ae,ElSelect as af,ElSlider as ag,renderSlot as ah,createBaseVNode as ai,ElFormItem as aj,ElButton as ak,ElSwitch as al,ElTimeSelect as am,ElTimePicker as an,ElTreeSelect as ao,ElUpload as ap,ElIcon as aq,markRaw as ar,shallowRef as as,withDirectives as at,TransitionGroup as au,ElForm as av,vLoading as aw,isString$1 as ax,ElMenuItem as ay,ElSubMenu as az,resolveComponent as b,popScopeId as b0,ElImage as b1,useFullUrl as b2,withKeys as b3,imageProps as b4,imageEmits as b5,createBlock as c,defineStore as d,withCtx as e,createVNode as f,resolveDynamicComponent as g,guardReactiveProps as h,h$1 as i,antLocale as j,cloneDeep as k,createPinia as l,createPersistedState as m,normalizeProps as n,openBlock as o,ElMessage as p,ElMessageBox as q,ref as r,storeToRefs as s,ElNotification as t,unref as u,ElLoading as v,watch as w,createApp as x,ElImageViewer as y,zhCn$1 as z};
